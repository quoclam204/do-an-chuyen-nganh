var RT=Object.defineProperty;var FT=(t,e,n)=>e in t?RT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var et=(t,e,n)=>FT(t,typeof e!="symbol"?e+"":e,n);function DT(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pk={exports:{}},O2={},gk={exports:{}},Jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg=Symbol.for("react.element"),OT=Symbol.for("react.portal"),IT=Symbol.for("react.fragment"),BT=Symbol.for("react.strict_mode"),zT=Symbol.for("react.profiler"),UT=Symbol.for("react.provider"),VT=Symbol.for("react.context"),HT=Symbol.for("react.forward_ref"),$T=Symbol.for("react.suspense"),GT=Symbol.for("react.memo"),qT=Symbol.for("react.lazy"),zw=Symbol.iterator;function WT(t){return t===null||typeof t!="object"?null:(t=zw&&t[zw]||t["@@iterator"],typeof t=="function"?t:null)}var mk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yk=Object.assign,xk={};function Df(t,e,n){this.props=t,this.context=e,this.refs=xk,this.updater=n||mk}Df.prototype.isReactComponent={};Df.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Df.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vk(){}vk.prototype=Df.prototype;function hb(t,e,n){this.props=t,this.context=e,this.refs=xk,this.updater=n||mk}var db=hb.prototype=new vk;db.constructor=hb;yk(db,Df.prototype);db.isPureReactComponent=!0;var Uw=Array.isArray,bk=Object.prototype.hasOwnProperty,fb={current:null},wk={key:!0,ref:!0,__self:!0,__source:!0};function _k(t,e,n){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)bk.call(e,i)&&!wk.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:hg,type:t,key:s,ref:a,props:r,_owner:fb.current}}function KT(t,e){return{$$typeof:hg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pb(t){return typeof t=="object"&&t!==null&&t.$$typeof===hg}function XT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vw=/\/+/g;function Sy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XT(""+t.key):e.toString(36)}function n1(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case hg:case OT:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+Sy(a,0):i,Uw(r)?(n="",t!=null&&(n=t.replace(Vw,"$&/")+"/"),n1(r,e,n,"",function(c){return c})):r!=null&&(pb(r)&&(r=KT(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(Vw,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",Uw(t))for(var o=0;o<t.length;o++){s=t[o];var l=i+Sy(s,o);a+=n1(s,e,n,l,r)}else if(l=WT(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=i+Sy(s,o++),a+=n1(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function nm(t,e,n){if(t==null)return t;var i=[],r=0;return n1(t,i,"","",function(s){return e.call(n,s,r++)}),i}function YT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _s={current:null},i1={transition:null},QT={ReactCurrentDispatcher:_s,ReactCurrentBatchConfig:i1,ReactCurrentOwner:fb};function Sk(){throw Error("act(...) is not supported in production builds of React.")}Jt.Children={map:nm,forEach:function(t,e,n){nm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nm(t,function(){e++}),e},toArray:function(t){return nm(t,function(e){return e})||[]},only:function(t){if(!pb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Jt.Component=Df;Jt.Fragment=IT;Jt.Profiler=zT;Jt.PureComponent=hb;Jt.StrictMode=BT;Jt.Suspense=$T;Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QT;Jt.act=Sk;Jt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=yk({},t.props),r=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=fb.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)bk.call(e,l)&&!wk.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:hg,type:t.type,key:r,ref:s,props:i,_owner:a}};Jt.createContext=function(t){return t={$$typeof:VT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UT,_context:t},t.Consumer=t};Jt.createElement=_k;Jt.createFactory=function(t){var e=_k.bind(null,t);return e.type=t,e};Jt.createRef=function(){return{current:null}};Jt.forwardRef=function(t){return{$$typeof:HT,render:t}};Jt.isValidElement=pb;Jt.lazy=function(t){return{$$typeof:qT,_payload:{_status:-1,_result:t},_init:YT}};Jt.memo=function(t,e){return{$$typeof:GT,type:t,compare:e===void 0?null:e}};Jt.startTransition=function(t){var e=i1.transition;i1.transition={};try{t()}finally{i1.transition=e}};Jt.unstable_act=Sk;Jt.useCallback=function(t,e){return _s.current.useCallback(t,e)};Jt.useContext=function(t){return _s.current.useContext(t)};Jt.useDebugValue=function(){};Jt.useDeferredValue=function(t){return _s.current.useDeferredValue(t)};Jt.useEffect=function(t,e){return _s.current.useEffect(t,e)};Jt.useId=function(){return _s.current.useId()};Jt.useImperativeHandle=function(t,e,n){return _s.current.useImperativeHandle(t,e,n)};Jt.useInsertionEffect=function(t,e){return _s.current.useInsertionEffect(t,e)};Jt.useLayoutEffect=function(t,e){return _s.current.useLayoutEffect(t,e)};Jt.useMemo=function(t,e){return _s.current.useMemo(t,e)};Jt.useReducer=function(t,e,n){return _s.current.useReducer(t,e,n)};Jt.useRef=function(t){return _s.current.useRef(t)};Jt.useState=function(t){return _s.current.useState(t)};Jt.useSyncExternalStore=function(t,e,n){return _s.current.useSyncExternalStore(t,e,n)};Jt.useTransition=function(){return _s.current.useTransition()};Jt.version="18.3.1";gk.exports=Jt;var Q=gk.exports;const Dr=D2(Q),JT=DT({__proto__:null,default:Dr},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT=Q,eE=Symbol.for("react.element"),tE=Symbol.for("react.fragment"),nE=Object.prototype.hasOwnProperty,iE=ZT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rE={key:!0,ref:!0,__self:!0,__source:!0};function Nk(t,e,n){var i,r={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)nE.call(e,i)&&!rE.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:eE,type:t,key:s,ref:a,props:r,_owner:iE.current}}O2.Fragment=tE;O2.jsx=Nk;O2.jsxs=Nk;pk.exports=O2;var d=pk.exports,lv={},kk={exports:{}},fa={},Ck={exports:{}},jk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,te){var he=Z.length;Z.push(te);e:for(;0<he;){var Y=he-1>>>1,B=Z[Y];if(0<r(B,te))Z[Y]=te,Z[he]=B,he=Y;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var te=Z[0],he=Z.pop();if(he!==te){Z[0]=he;e:for(var Y=0,B=Z.length,K=B>>>1;Y<K;){var ie=2*(Y+1)-1,ue=Z[ie],de=ie+1,X=Z[de];if(0>r(ue,he))de<B&&0>r(X,ue)?(Z[Y]=X,Z[de]=he,Y=de):(Z[Y]=ue,Z[ie]=he,Y=ie);else if(de<B&&0>r(X,he))Z[Y]=X,Z[de]=he,Y=de;else break e}}return te}function r(Z,te){var he=Z.sortIndex-te.sortIndex;return he!==0?he:Z.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,g=null,m=3,p=!1,x=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Z){for(var te=n(c);te!==null;){if(te.callback===null)i(c);else if(te.startTime<=Z)i(c),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(c)}}function k(Z){if(b=!1,w(Z),!x)if(n(l)!==null)x=!0,ce(E);else{var te=n(c);te!==null&&pe(k,te.startTime-Z)}}function E(Z,te){x=!1,b&&(b=!1,N(M),M=-1),p=!0;var he=m;try{for(w(te),g=n(l);g!==null&&(!(g.expirationTime>te)||Z&&!P());){var Y=g.callback;if(typeof Y=="function"){g.callback=null,m=g.priorityLevel;var B=Y(g.expirationTime<=te);te=t.unstable_now(),typeof B=="function"?g.callback=B:g===n(l)&&i(l),w(te)}else i(l);g=n(l)}if(g!==null)var K=!0;else{var ie=n(c);ie!==null&&pe(k,ie.startTime-te),K=!1}return K}finally{g=null,m=he,p=!1}}var O=!1,U=null,M=-1,I=5,F=-1;function P(){return!(t.unstable_now()-F<I)}function R(){if(U!==null){var Z=t.unstable_now();F=Z;var te=!0;try{te=U(!0,Z)}finally{te?$():(O=!1,U=null)}}else O=!1}var $;if(typeof j=="function")$=function(){j(R)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ee=G.port2;G.port1.onmessage=R,$=function(){ee.postMessage(null)}}else $=function(){S(R,0)};function ce(Z){U=Z,O||(O=!0,$())}function pe(Z,te){M=S(function(){Z(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,ce(E))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(m){case 1:case 2:case 3:var te=3;break;default:te=m}var he=m;m=te;try{return Z()}finally{m=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,te){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var he=m;m=Z;try{return te()}finally{m=he}},t.unstable_scheduleCallback=function(Z,te,he){var Y=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Y+he:Y):he=Y,Z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=he+B,Z={id:h++,callback:te,priorityLevel:Z,startTime:he,expirationTime:B,sortIndex:-1},he>Y?(Z.sortIndex=he,e(c,Z),n(l)===null&&Z===n(c)&&(b?(N(M),M=-1):b=!0,pe(k,he-Y))):(Z.sortIndex=B,e(l,Z),x||p||(x=!0,ce(E))),Z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Z){var te=m;return function(){var he=m;m=te;try{return Z.apply(this,arguments)}finally{m=he}}}})(jk);Ck.exports=jk;var ap=Ck.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE=Q,ha=ap;function He(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ak=new Set,Ap={};function Ih(t,e){xf(t,e),xf(t+"Capture",e)}function xf(t,e){for(Ap[t]=e,t=0;t<e.length;t++)Ak.add(e[t])}var tc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cv=Object.prototype.hasOwnProperty,aE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hw={},$w={};function oE(t){return cv.call($w,t)?!0:cv.call(Hw,t)?!1:aE.test(t)?$w[t]=!0:(Hw[t]=!0,!1)}function lE(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cE(t,e,n,i){if(e===null||typeof e>"u"||lE(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ss(t,e,n,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ir[t]=new Ss(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ir[e]=new Ss(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ir[t]=new Ss(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ir[t]=new Ss(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ir[t]=new Ss(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ir[t]=new Ss(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ir[t]=new Ss(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ir[t]=new Ss(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ir[t]=new Ss(t,5,!1,t.toLowerCase(),null,!1,!1)});var gb=/[\-:]([a-z])/g;function mb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gb,mb);Ir[e]=new Ss(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gb,mb);Ir[e]=new Ss(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gb,mb);Ir[e]=new Ss(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ir[t]=new Ss(t,1,!1,t.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new Ss("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ir[t]=new Ss(t,1,!1,t.toLowerCase(),null,!0,!0)});function yb(t,e,n,i){var r=Ir.hasOwnProperty(e)?Ir[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cE(e,n,r,i)&&(n=null),i||r===null?oE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ac=sE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,im=Symbol.for("react.element"),Bd=Symbol.for("react.portal"),zd=Symbol.for("react.fragment"),xb=Symbol.for("react.strict_mode"),uv=Symbol.for("react.profiler"),Pk=Symbol.for("react.provider"),Lk=Symbol.for("react.context"),vb=Symbol.for("react.forward_ref"),hv=Symbol.for("react.suspense"),dv=Symbol.for("react.suspense_list"),bb=Symbol.for("react.memo"),Uc=Symbol.for("react.lazy"),Tk=Symbol.for("react.offscreen"),Gw=Symbol.iterator;function C0(t){return t===null||typeof t!="object"?null:(t=Gw&&t[Gw]||t["@@iterator"],typeof t=="function"?t:null)}var gi=Object.assign,Ny;function X0(t){if(Ny===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ny=e&&e[1]||""}return`
`+Ny+t}var ky=!1;function Cy(t,e){if(!t||ky)return"";ky=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{ky=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?X0(t):""}function uE(t){switch(t.tag){case 5:return X0(t.type);case 16:return X0("Lazy");case 13:return X0("Suspense");case 19:return X0("SuspenseList");case 0:case 2:case 15:return t=Cy(t.type,!1),t;case 11:return t=Cy(t.type.render,!1),t;case 1:return t=Cy(t.type,!0),t;default:return""}}function fv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zd:return"Fragment";case Bd:return"Portal";case uv:return"Profiler";case xb:return"StrictMode";case hv:return"Suspense";case dv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lk:return(t.displayName||"Context")+".Consumer";case Pk:return(t._context.displayName||"Context")+".Provider";case vb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bb:return e=t.displayName||null,e!==null?e:fv(t.type)||"Memo";case Uc:e=t._payload,t=t._init;try{return fv(t(e))}catch{}}return null}function hE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fv(e);case 8:return e===xb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ek(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dE(t){var e=Ek(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rm(t){t._valueTracker||(t._valueTracker=dE(t))}function Mk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Ek(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function M1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pv(t,e){var n=e.checked;return gi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qw(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=cu(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Rk(t,e){e=e.checked,e!=null&&yb(t,"checked",e,!1)}function gv(t,e){Rk(t,e);var n=cu(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mv(t,e.type,n):e.hasOwnProperty("defaultValue")&&mv(t,e.type,cu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ww(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mv(t,e,n){(e!=="number"||M1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Y0=Array.isArray;function af(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+cu(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function yv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(He(91));return gi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(He(92));if(Y0(n)){if(1<n.length)throw Error(He(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:cu(n)}}function Fk(t,e){var n=cu(e.value),i=cu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Xw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sm,Ok=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sm=sm||document.createElement("div"),sm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var op={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fE=["Webkit","ms","Moz","O"];Object.keys(op).forEach(function(t){fE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),op[e]=op[t]})});function Ik(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||op.hasOwnProperty(t)&&op[t]?(""+e).trim():e+"px"}function Bk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Ik(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var pE=gi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vv(t,e){if(e){if(pE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(He(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(He(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(He(61))}if(e.style!=null&&typeof e.style!="object")throw Error(He(62))}}function bv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wv=null;function wb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _v=null,of=null,lf=null;function Yw(t){if(t=pg(t)){if(typeof _v!="function")throw Error(He(280));var e=t.stateNode;e&&(e=V2(e),_v(t.stateNode,t.type,e))}}function zk(t){of?lf?lf.push(t):lf=[t]:of=t}function Uk(){if(of){var t=of,e=lf;if(lf=of=null,Yw(t),e)for(t=0;t<e.length;t++)Yw(e[t])}}function Vk(t,e){return t(e)}function Hk(){}var jy=!1;function $k(t,e,n){if(jy)return t(e,n);jy=!0;try{return Vk(t,e,n)}finally{jy=!1,(of!==null||lf!==null)&&(Hk(),Uk())}}function Lp(t,e){var n=t.stateNode;if(n===null)return null;var i=V2(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(He(231,e,typeof n));return n}var Sv=!1;if(tc)try{var j0={};Object.defineProperty(j0,"passive",{get:function(){Sv=!0}}),window.addEventListener("test",j0,j0),window.removeEventListener("test",j0,j0)}catch{Sv=!1}function gE(t,e,n,i,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var lp=!1,R1=null,F1=!1,Nv=null,mE={onError:function(t){lp=!0,R1=t}};function yE(t,e,n,i,r,s,a,o,l){lp=!1,R1=null,gE.apply(mE,arguments)}function xE(t,e,n,i,r,s,a,o,l){if(yE.apply(this,arguments),lp){if(lp){var c=R1;lp=!1,R1=null}else throw Error(He(198));F1||(F1=!0,Nv=c)}}function Bh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qw(t){if(Bh(t)!==t)throw Error(He(188))}function vE(t){var e=t.alternate;if(!e){if(e=Bh(t),e===null)throw Error(He(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Qw(r),t;if(s===i)return Qw(r),e;s=s.sibling}throw Error(He(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a)throw Error(He(189))}}if(n.alternate!==i)throw Error(He(190))}if(n.tag!==3)throw Error(He(188));return n.stateNode.current===n?t:e}function qk(t){return t=vE(t),t!==null?Wk(t):null}function Wk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wk(t);if(e!==null)return e;t=t.sibling}return null}var Kk=ha.unstable_scheduleCallback,Jw=ha.unstable_cancelCallback,bE=ha.unstable_shouldYield,wE=ha.unstable_requestPaint,Di=ha.unstable_now,_E=ha.unstable_getCurrentPriorityLevel,_b=ha.unstable_ImmediatePriority,Xk=ha.unstable_UserBlockingPriority,D1=ha.unstable_NormalPriority,SE=ha.unstable_LowPriority,Yk=ha.unstable_IdlePriority,I2=null,cl=null;function NE(t){if(cl&&typeof cl.onCommitFiberRoot=="function")try{cl.onCommitFiberRoot(I2,t,void 0,(t.current.flags&128)===128)}catch{}}var jo=Math.clz32?Math.clz32:jE,kE=Math.log,CE=Math.LN2;function jE(t){return t>>>=0,t===0?32:31-(kE(t)/CE|0)|0}var am=64,om=4194304;function Q0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function O1(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~r;o!==0?i=Q0(o):(s&=a,s!==0&&(i=Q0(s)))}else a=n&~r,a!==0?i=Q0(a):s!==0&&(i=Q0(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-jo(e),r=1<<n,i|=t[n],e&=~r;return i}function AE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-jo(s),o=1<<a,l=r[a];l===-1?(!(o&n)||o&i)&&(r[a]=AE(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function kv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qk(){var t=am;return am<<=1,!(am&4194240)&&(am=64),t}function Ay(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jo(e),t[e]=n}function LE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-jo(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Sb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-jo(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ln=0;function Jk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zk,Nb,e9,t9,n9,Cv=!1,lm=[],Zc=null,eu=null,tu=null,Tp=new Map,Ep=new Map,$c=[],TE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zw(t,e){switch(t){case"focusin":case"focusout":Zc=null;break;case"dragenter":case"dragleave":eu=null;break;case"mouseover":case"mouseout":tu=null;break;case"pointerover":case"pointerout":Tp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ep.delete(e.pointerId)}}function A0(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=pg(e),e!==null&&Nb(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function EE(t,e,n,i,r){switch(e){case"focusin":return Zc=A0(Zc,t,e,n,i,r),!0;case"dragenter":return eu=A0(eu,t,e,n,i,r),!0;case"mouseover":return tu=A0(tu,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Tp.set(s,A0(Tp.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ep.set(s,A0(Ep.get(s)||null,t,e,n,i,r)),!0}return!1}function i9(t){var e=dh(t.target);if(e!==null){var n=Bh(e);if(n!==null){if(e=n.tag,e===13){if(e=Gk(n),e!==null){t.blockedOn=e,n9(t.priority,function(){e9(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function r1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);wv=i,n.target.dispatchEvent(i),wv=null}else return e=pg(n),e!==null&&Nb(e),t.blockedOn=n,!1;e.shift()}return!0}function e6(t,e,n){r1(t)&&n.delete(e)}function ME(){Cv=!1,Zc!==null&&r1(Zc)&&(Zc=null),eu!==null&&r1(eu)&&(eu=null),tu!==null&&r1(tu)&&(tu=null),Tp.forEach(e6),Ep.forEach(e6)}function P0(t,e){t.blockedOn===e&&(t.blockedOn=null,Cv||(Cv=!0,ha.unstable_scheduleCallback(ha.unstable_NormalPriority,ME)))}function Mp(t){function e(r){return P0(r,t)}if(0<lm.length){P0(lm[0],t);for(var n=1;n<lm.length;n++){var i=lm[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Zc!==null&&P0(Zc,t),eu!==null&&P0(eu,t),tu!==null&&P0(tu,t),Tp.forEach(e),Ep.forEach(e),n=0;n<$c.length;n++)i=$c[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<$c.length&&(n=$c[0],n.blockedOn===null);)i9(n),n.blockedOn===null&&$c.shift()}var cf=ac.ReactCurrentBatchConfig,I1=!0;function RE(t,e,n,i){var r=Ln,s=cf.transition;cf.transition=null;try{Ln=1,kb(t,e,n,i)}finally{Ln=r,cf.transition=s}}function FE(t,e,n,i){var r=Ln,s=cf.transition;cf.transition=null;try{Ln=4,kb(t,e,n,i)}finally{Ln=r,cf.transition=s}}function kb(t,e,n,i){if(I1){var r=jv(t,e,n,i);if(r===null)Iy(t,e,i,B1,n),Zw(t,i);else if(EE(r,t,e,n,i))i.stopPropagation();else if(Zw(t,i),e&4&&-1<TE.indexOf(t)){for(;r!==null;){var s=pg(r);if(s!==null&&Zk(s),s=jv(t,e,n,i),s===null&&Iy(t,e,i,B1,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Iy(t,e,i,null,n)}}var B1=null;function jv(t,e,n,i){if(B1=null,t=wb(i),t=dh(t),t!==null)if(e=Bh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return B1=t,null}function r9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_E()){case _b:return 1;case Xk:return 4;case D1:case SE:return 16;case Yk:return 536870912;default:return 16}default:return 16}}var qc=null,Cb=null,s1=null;function s9(){if(s1)return s1;var t,e=Cb,n=e.length,i,r="value"in qc?qc.value:qc.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return s1=r.slice(t,1<i?1-i:void 0)}function a1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cm(){return!0}function t6(){return!1}function pa(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cm:t6,this.isPropagationStopped=t6,this}return gi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cm)},persist:function(){},isPersistent:cm}),e}var Of={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jb=pa(Of),fg=gi({},Of,{view:0,detail:0}),DE=pa(fg),Py,Ly,L0,B2=gi({},fg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ab,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==L0&&(L0&&t.type==="mousemove"?(Py=t.screenX-L0.screenX,Ly=t.screenY-L0.screenY):Ly=Py=0,L0=t),Py)},movementY:function(t){return"movementY"in t?t.movementY:Ly}}),n6=pa(B2),OE=gi({},B2,{dataTransfer:0}),IE=pa(OE),BE=gi({},fg,{relatedTarget:0}),Ty=pa(BE),zE=gi({},Of,{animationName:0,elapsedTime:0,pseudoElement:0}),UE=pa(zE),VE=gi({},Of,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HE=pa(VE),$E=gi({},Of,{data:0}),i6=pa($E),GE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WE[t])?!!e[t]:!1}function Ab(){return KE}var XE=gi({},fg,{key:function(t){if(t.key){var e=GE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=a1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ab,charCode:function(t){return t.type==="keypress"?a1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?a1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YE=pa(XE),QE=gi({},B2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r6=pa(QE),JE=gi({},fg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ab}),ZE=pa(JE),eM=gi({},Of,{propertyName:0,elapsedTime:0,pseudoElement:0}),tM=pa(eM),nM=gi({},B2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iM=pa(nM),rM=[9,13,27,32],Pb=tc&&"CompositionEvent"in window,cp=null;tc&&"documentMode"in document&&(cp=document.documentMode);var sM=tc&&"TextEvent"in window&&!cp,a9=tc&&(!Pb||cp&&8<cp&&11>=cp),s6=" ",a6=!1;function o9(t,e){switch(t){case"keyup":return rM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ud=!1;function aM(t,e){switch(t){case"compositionend":return l9(e);case"keypress":return e.which!==32?null:(a6=!0,s6);case"textInput":return t=e.data,t===s6&&a6?null:t;default:return null}}function oM(t,e){if(Ud)return t==="compositionend"||!Pb&&o9(t,e)?(t=s9(),s1=Cb=qc=null,Ud=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return a9&&e.locale!=="ko"?null:e.data;default:return null}}var lM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lM[t.type]:e==="textarea"}function c9(t,e,n,i){zk(i),e=z1(e,"onChange"),0<e.length&&(n=new jb("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var up=null,Rp=null;function cM(t){b9(t,0)}function z2(t){var e=$d(t);if(Mk(e))return t}function uM(t,e){if(t==="change")return e}var u9=!1;if(tc){var Ey;if(tc){var My="oninput"in document;if(!My){var l6=document.createElement("div");l6.setAttribute("oninput","return;"),My=typeof l6.oninput=="function"}Ey=My}else Ey=!1;u9=Ey&&(!document.documentMode||9<document.documentMode)}function c6(){up&&(up.detachEvent("onpropertychange",h9),Rp=up=null)}function h9(t){if(t.propertyName==="value"&&z2(Rp)){var e=[];c9(e,Rp,t,wb(t)),$k(cM,e)}}function hM(t,e,n){t==="focusin"?(c6(),up=e,Rp=n,up.attachEvent("onpropertychange",h9)):t==="focusout"&&c6()}function dM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return z2(Rp)}function fM(t,e){if(t==="click")return z2(e)}function pM(t,e){if(t==="input"||t==="change")return z2(e)}function gM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var To=typeof Object.is=="function"?Object.is:gM;function Fp(t,e){if(To(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!cv.call(e,r)||!To(t[r],e[r]))return!1}return!0}function u6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h6(t,e){var n=u6(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u6(n)}}function d9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?d9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function f9(){for(var t=window,e=M1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=M1(t.document)}return e}function Lb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mM(t){var e=f9(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&d9(n.ownerDocument.documentElement,n)){if(i!==null&&Lb(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=h6(n,s);var a=h6(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yM=tc&&"documentMode"in document&&11>=document.documentMode,Vd=null,Av=null,hp=null,Pv=!1;function d6(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pv||Vd==null||Vd!==M1(i)||(i=Vd,"selectionStart"in i&&Lb(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),hp&&Fp(hp,i)||(hp=i,i=z1(Av,"onSelect"),0<i.length&&(e=new jb("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Vd)))}function um(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hd={animationend:um("Animation","AnimationEnd"),animationiteration:um("Animation","AnimationIteration"),animationstart:um("Animation","AnimationStart"),transitionend:um("Transition","TransitionEnd")},Ry={},p9={};tc&&(p9=document.createElement("div").style,"AnimationEvent"in window||(delete Hd.animationend.animation,delete Hd.animationiteration.animation,delete Hd.animationstart.animation),"TransitionEvent"in window||delete Hd.transitionend.transition);function U2(t){if(Ry[t])return Ry[t];if(!Hd[t])return t;var e=Hd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in p9)return Ry[t]=e[n];return t}var g9=U2("animationend"),m9=U2("animationiteration"),y9=U2("animationstart"),x9=U2("transitionend"),v9=new Map,f6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yu(t,e){v9.set(t,e),Ih(e,[t])}for(var Fy=0;Fy<f6.length;Fy++){var Dy=f6[Fy],xM=Dy.toLowerCase(),vM=Dy[0].toUpperCase()+Dy.slice(1);yu(xM,"on"+vM)}yu(g9,"onAnimationEnd");yu(m9,"onAnimationIteration");yu(y9,"onAnimationStart");yu("dblclick","onDoubleClick");yu("focusin","onFocus");yu("focusout","onBlur");yu(x9,"onTransitionEnd");xf("onMouseEnter",["mouseout","mouseover"]);xf("onMouseLeave",["mouseout","mouseover"]);xf("onPointerEnter",["pointerout","pointerover"]);xf("onPointerLeave",["pointerout","pointerover"]);Ih("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ih("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ih("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ih("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ih("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ih("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var J0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bM=new Set("cancel close invalid load scroll toggle".split(" ").concat(J0));function p6(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,xE(i,e,void 0,t),t.currentTarget=null}function b9(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;p6(r,o,c),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;p6(r,o,c),s=l}}}if(F1)throw t=Nv,F1=!1,Nv=null,t}function Yn(t,e){var n=e[Rv];n===void 0&&(n=e[Rv]=new Set);var i=t+"__bubble";n.has(i)||(w9(e,t,2,!1),n.add(i))}function Oy(t,e,n){var i=0;e&&(i|=4),w9(n,t,i,e)}var hm="_reactListening"+Math.random().toString(36).slice(2);function Dp(t){if(!t[hm]){t[hm]=!0,Ak.forEach(function(n){n!=="selectionchange"&&(bM.has(n)||Oy(n,!1,t),Oy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hm]||(e[hm]=!0,Oy("selectionchange",!1,e))}}function w9(t,e,n,i){switch(r9(e)){case 1:var r=RE;break;case 4:r=FE;break;default:r=kb}n=r.bind(null,e,n,t),r=void 0,!Sv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Iy(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=dh(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}$k(function(){var c=s,h=wb(n),g=[];e:{var m=v9.get(t);if(m!==void 0){var p=jb,x=t;switch(t){case"keypress":if(a1(n)===0)break e;case"keydown":case"keyup":p=YE;break;case"focusin":x="focus",p=Ty;break;case"focusout":x="blur",p=Ty;break;case"beforeblur":case"afterblur":p=Ty;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=n6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=IE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZE;break;case g9:case m9:case y9:p=UE;break;case x9:p=tM;break;case"scroll":p=DE;break;case"wheel":p=iM;break;case"copy":case"cut":case"paste":p=HE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=r6}var b=(e&4)!==0,S=!b&&t==="scroll",N=b?m!==null?m+"Capture":null:m;b=[];for(var j=c,w;j!==null;){w=j;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,N!==null&&(k=Lp(j,N),k!=null&&b.push(Op(j,k,w)))),S)break;j=j.return}0<b.length&&(m=new p(m,x,null,n,h),g.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==wv&&(x=n.relatedTarget||n.fromElement)&&(dh(x)||x[nc]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=c,x=x?dh(x):null,x!==null&&(S=Bh(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(b=n6,k="onMouseLeave",N="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(b=r6,k="onPointerLeave",N="onPointerEnter",j="pointer"),S=p==null?m:$d(p),w=x==null?m:$d(x),m=new b(k,j+"leave",p,n,h),m.target=S,m.relatedTarget=w,k=null,dh(h)===c&&(b=new b(N,j+"enter",x,n,h),b.target=w,b.relatedTarget=S,k=b),S=k,p&&x)t:{for(b=p,N=x,j=0,w=b;w;w=Nd(w))j++;for(w=0,k=N;k;k=Nd(k))w++;for(;0<j-w;)b=Nd(b),j--;for(;0<w-j;)N=Nd(N),w--;for(;j--;){if(b===N||N!==null&&b===N.alternate)break t;b=Nd(b),N=Nd(N)}b=null}else b=null;p!==null&&g6(g,m,p,b,!1),x!==null&&S!==null&&g6(g,S,x,b,!0)}}e:{if(m=c?$d(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var E=uM;else if(o6(m))if(u9)E=pM;else{E=dM;var O=hM}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=fM);if(E&&(E=E(t,c))){c9(g,E,n,h);break e}O&&O(t,m,c),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&mv(m,"number",m.value)}switch(O=c?$d(c):window,t){case"focusin":(o6(O)||O.contentEditable==="true")&&(Vd=O,Av=c,hp=null);break;case"focusout":hp=Av=Vd=null;break;case"mousedown":Pv=!0;break;case"contextmenu":case"mouseup":case"dragend":Pv=!1,d6(g,n,h);break;case"selectionchange":if(yM)break;case"keydown":case"keyup":d6(g,n,h)}var U;if(Pb)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Ud?o9(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(a9&&n.locale!=="ko"&&(Ud||M!=="onCompositionStart"?M==="onCompositionEnd"&&Ud&&(U=s9()):(qc=h,Cb="value"in qc?qc.value:qc.textContent,Ud=!0)),O=z1(c,M),0<O.length&&(M=new i6(M,t,null,n,h),g.push({event:M,listeners:O}),U?M.data=U:(U=l9(n),U!==null&&(M.data=U)))),(U=sM?aM(t,n):oM(t,n))&&(c=z1(c,"onBeforeInput"),0<c.length&&(h=new i6("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:c}),h.data=U))}b9(g,e)})}function Op(t,e,n){return{instance:t,listener:e,currentTarget:n}}function z1(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Lp(t,n),s!=null&&i.unshift(Op(t,s,r)),s=Lp(t,e),s!=null&&i.push(Op(t,s,r))),t=t.return}return i}function Nd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function g6(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,r?(l=Lp(n,s),l!=null&&a.unshift(Op(n,l,o))):r||(l=Lp(n,s),l!=null&&a.push(Op(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var wM=/\r\n?/g,_M=/\u0000|\uFFFD/g;function m6(t){return(typeof t=="string"?t:""+t).replace(wM,`
`).replace(_M,"")}function dm(t,e,n){if(e=m6(e),m6(t)!==e&&n)throw Error(He(425))}function U1(){}var Lv=null,Tv=null;function Ev(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mv=typeof setTimeout=="function"?setTimeout:void 0,SM=typeof clearTimeout=="function"?clearTimeout:void 0,y6=typeof Promise=="function"?Promise:void 0,NM=typeof queueMicrotask=="function"?queueMicrotask:typeof y6<"u"?function(t){return y6.resolve(null).then(t).catch(kM)}:Mv;function kM(t){setTimeout(function(){throw t})}function By(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Mp(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Mp(e)}function nu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function x6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var If=Math.random().toString(36).slice(2),al="__reactFiber$"+If,Ip="__reactProps$"+If,nc="__reactContainer$"+If,Rv="__reactEvents$"+If,CM="__reactListeners$"+If,jM="__reactHandles$"+If;function dh(t){var e=t[al];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nc]||n[al]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=x6(t);t!==null;){if(n=t[al])return n;t=x6(t)}return e}t=n,n=t.parentNode}return null}function pg(t){return t=t[al]||t[nc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $d(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(He(33))}function V2(t){return t[Ip]||null}var Fv=[],Gd=-1;function xu(t){return{current:t}}function Zn(t){0>Gd||(t.current=Fv[Gd],Fv[Gd]=null,Gd--)}function Un(t,e){Gd++,Fv[Gd]=t.current,t.current=e}var uu={},ls=xu(uu),Bs=xu(!1),jh=uu;function vf(t,e){var n=t.type.contextTypes;if(!n)return uu;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function zs(t){return t=t.childContextTypes,t!=null}function V1(){Zn(Bs),Zn(ls)}function v6(t,e,n){if(ls.current!==uu)throw Error(He(168));Un(ls,e),Un(Bs,n)}function _9(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(He(108,hE(t)||"Unknown",r));return gi({},n,i)}function H1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||uu,jh=ls.current,Un(ls,t),Un(Bs,Bs.current),!0}function b6(t,e,n){var i=t.stateNode;if(!i)throw Error(He(169));n?(t=_9(t,e,jh),i.__reactInternalMemoizedMergedChildContext=t,Zn(Bs),Zn(ls),Un(ls,t)):Zn(Bs),Un(Bs,n)}var Gl=null,H2=!1,zy=!1;function S9(t){Gl===null?Gl=[t]:Gl.push(t)}function AM(t){H2=!0,S9(t)}function vu(){if(!zy&&Gl!==null){zy=!0;var t=0,e=Ln;try{var n=Gl;for(Ln=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Gl=null,H2=!1}catch(r){throw Gl!==null&&(Gl=Gl.slice(t+1)),Kk(_b,vu),r}finally{Ln=e,zy=!1}}return null}var qd=[],Wd=0,$1=null,G1=0,Ha=[],$a=0,Ah=null,Xl=1,Yl="";function ih(t,e){qd[Wd++]=G1,qd[Wd++]=$1,$1=t,G1=e}function N9(t,e,n){Ha[$a++]=Xl,Ha[$a++]=Yl,Ha[$a++]=Ah,Ah=t;var i=Xl;t=Yl;var r=32-jo(i)-1;i&=~(1<<r),n+=1;var s=32-jo(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Xl=1<<32-jo(e)+r|n<<r|i,Yl=s+t}else Xl=1<<s|n<<r|i,Yl=t}function Tb(t){t.return!==null&&(ih(t,1),N9(t,1,0))}function Eb(t){for(;t===$1;)$1=qd[--Wd],qd[Wd]=null,G1=qd[--Wd],qd[Wd]=null;for(;t===Ah;)Ah=Ha[--$a],Ha[$a]=null,Yl=Ha[--$a],Ha[$a]=null,Xl=Ha[--$a],Ha[$a]=null}var ca=null,oa=null,ai=!1,No=null;function k9(t,e){var n=Ga(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function w6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ca=t,oa=nu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ca=t,oa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ah!==null?{id:Xl,overflow:Yl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ga(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ca=t,oa=null,!0):!1;default:return!1}}function Dv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ov(t){if(ai){var e=oa;if(e){var n=e;if(!w6(t,e)){if(Dv(t))throw Error(He(418));e=nu(n.nextSibling);var i=ca;e&&w6(t,e)?k9(i,n):(t.flags=t.flags&-4097|2,ai=!1,ca=t)}}else{if(Dv(t))throw Error(He(418));t.flags=t.flags&-4097|2,ai=!1,ca=t}}}function _6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ca=t}function fm(t){if(t!==ca)return!1;if(!ai)return _6(t),ai=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ev(t.type,t.memoizedProps)),e&&(e=oa)){if(Dv(t))throw C9(),Error(He(418));for(;e;)k9(t,e),e=nu(e.nextSibling)}if(_6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(He(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){oa=nu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}oa=null}}else oa=ca?nu(t.stateNode.nextSibling):null;return!0}function C9(){for(var t=oa;t;)t=nu(t.nextSibling)}function bf(){oa=ca=null,ai=!1}function Mb(t){No===null?No=[t]:No.push(t)}var PM=ac.ReactCurrentBatchConfig;function T0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(He(309));var i=n.stateNode}if(!i)throw Error(He(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(He(284));if(!n._owner)throw Error(He(290,t))}return t}function pm(t,e){throw t=Object.prototype.toString.call(e),Error(He(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function S6(t){var e=t._init;return e(t._payload)}function j9(t){function e(N,j){if(t){var w=N.deletions;w===null?(N.deletions=[j],N.flags|=16):w.push(j)}}function n(N,j){if(!t)return null;for(;j!==null;)e(N,j),j=j.sibling;return null}function i(N,j){for(N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function r(N,j){return N=au(N,j),N.index=0,N.sibling=null,N}function s(N,j,w){return N.index=w,t?(w=N.alternate,w!==null?(w=w.index,w<j?(N.flags|=2,j):w):(N.flags|=2,j)):(N.flags|=1048576,j)}function a(N){return t&&N.alternate===null&&(N.flags|=2),N}function o(N,j,w,k){return j===null||j.tag!==6?(j=Wy(w,N.mode,k),j.return=N,j):(j=r(j,w),j.return=N,j)}function l(N,j,w,k){var E=w.type;return E===zd?h(N,j,w.props.children,k,w.key):j!==null&&(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Uc&&S6(E)===j.type)?(k=r(j,w.props),k.ref=T0(N,j,w),k.return=N,k):(k=f1(w.type,w.key,w.props,null,N.mode,k),k.ref=T0(N,j,w),k.return=N,k)}function c(N,j,w,k){return j===null||j.tag!==4||j.stateNode.containerInfo!==w.containerInfo||j.stateNode.implementation!==w.implementation?(j=Ky(w,N.mode,k),j.return=N,j):(j=r(j,w.children||[]),j.return=N,j)}function h(N,j,w,k,E){return j===null||j.tag!==7?(j=wh(w,N.mode,k,E),j.return=N,j):(j=r(j,w),j.return=N,j)}function g(N,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Wy(""+j,N.mode,w),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case im:return w=f1(j.type,j.key,j.props,null,N.mode,w),w.ref=T0(N,null,j),w.return=N,w;case Bd:return j=Ky(j,N.mode,w),j.return=N,j;case Uc:var k=j._init;return g(N,k(j._payload),w)}if(Y0(j)||C0(j))return j=wh(j,N.mode,w,null),j.return=N,j;pm(N,j)}return null}function m(N,j,w,k){var E=j!==null?j.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:o(N,j,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case im:return w.key===E?l(N,j,w,k):null;case Bd:return w.key===E?c(N,j,w,k):null;case Uc:return E=w._init,m(N,j,E(w._payload),k)}if(Y0(w)||C0(w))return E!==null?null:h(N,j,w,k,null);pm(N,w)}return null}function p(N,j,w,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return N=N.get(w)||null,o(j,N,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case im:return N=N.get(k.key===null?w:k.key)||null,l(j,N,k,E);case Bd:return N=N.get(k.key===null?w:k.key)||null,c(j,N,k,E);case Uc:var O=k._init;return p(N,j,w,O(k._payload),E)}if(Y0(k)||C0(k))return N=N.get(w)||null,h(j,N,k,E,null);pm(j,k)}return null}function x(N,j,w,k){for(var E=null,O=null,U=j,M=j=0,I=null;U!==null&&M<w.length;M++){U.index>M?(I=U,U=null):I=U.sibling;var F=m(N,U,w[M],k);if(F===null){U===null&&(U=I);break}t&&U&&F.alternate===null&&e(N,U),j=s(F,j,M),O===null?E=F:O.sibling=F,O=F,U=I}if(M===w.length)return n(N,U),ai&&ih(N,M),E;if(U===null){for(;M<w.length;M++)U=g(N,w[M],k),U!==null&&(j=s(U,j,M),O===null?E=U:O.sibling=U,O=U);return ai&&ih(N,M),E}for(U=i(N,U);M<w.length;M++)I=p(U,N,M,w[M],k),I!==null&&(t&&I.alternate!==null&&U.delete(I.key===null?M:I.key),j=s(I,j,M),O===null?E=I:O.sibling=I,O=I);return t&&U.forEach(function(P){return e(N,P)}),ai&&ih(N,M),E}function b(N,j,w,k){var E=C0(w);if(typeof E!="function")throw Error(He(150));if(w=E.call(w),w==null)throw Error(He(151));for(var O=E=null,U=j,M=j=0,I=null,F=w.next();U!==null&&!F.done;M++,F=w.next()){U.index>M?(I=U,U=null):I=U.sibling;var P=m(N,U,F.value,k);if(P===null){U===null&&(U=I);break}t&&U&&P.alternate===null&&e(N,U),j=s(P,j,M),O===null?E=P:O.sibling=P,O=P,U=I}if(F.done)return n(N,U),ai&&ih(N,M),E;if(U===null){for(;!F.done;M++,F=w.next())F=g(N,F.value,k),F!==null&&(j=s(F,j,M),O===null?E=F:O.sibling=F,O=F);return ai&&ih(N,M),E}for(U=i(N,U);!F.done;M++,F=w.next())F=p(U,N,M,F.value,k),F!==null&&(t&&F.alternate!==null&&U.delete(F.key===null?M:F.key),j=s(F,j,M),O===null?E=F:O.sibling=F,O=F);return t&&U.forEach(function(R){return e(N,R)}),ai&&ih(N,M),E}function S(N,j,w,k){if(typeof w=="object"&&w!==null&&w.type===zd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case im:e:{for(var E=w.key,O=j;O!==null;){if(O.key===E){if(E=w.type,E===zd){if(O.tag===7){n(N,O.sibling),j=r(O,w.props.children),j.return=N,N=j;break e}}else if(O.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Uc&&S6(E)===O.type){n(N,O.sibling),j=r(O,w.props),j.ref=T0(N,O,w),j.return=N,N=j;break e}n(N,O);break}else e(N,O);O=O.sibling}w.type===zd?(j=wh(w.props.children,N.mode,k,w.key),j.return=N,N=j):(k=f1(w.type,w.key,w.props,null,N.mode,k),k.ref=T0(N,j,w),k.return=N,N=k)}return a(N);case Bd:e:{for(O=w.key;j!==null;){if(j.key===O)if(j.tag===4&&j.stateNode.containerInfo===w.containerInfo&&j.stateNode.implementation===w.implementation){n(N,j.sibling),j=r(j,w.children||[]),j.return=N,N=j;break e}else{n(N,j);break}else e(N,j);j=j.sibling}j=Ky(w,N.mode,k),j.return=N,N=j}return a(N);case Uc:return O=w._init,S(N,j,O(w._payload),k)}if(Y0(w))return x(N,j,w,k);if(C0(w))return b(N,j,w,k);pm(N,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,j!==null&&j.tag===6?(n(N,j.sibling),j=r(j,w),j.return=N,N=j):(n(N,j),j=Wy(w,N.mode,k),j.return=N,N=j),a(N)):n(N,j)}return S}var wf=j9(!0),A9=j9(!1),q1=xu(null),W1=null,Kd=null,Rb=null;function Fb(){Rb=Kd=W1=null}function Db(t){var e=q1.current;Zn(q1),t._currentValue=e}function Iv(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function uf(t,e){W1=t,Rb=Kd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Is=!0),t.firstContext=null)}function Ya(t){var e=t._currentValue;if(Rb!==t)if(t={context:t,memoizedValue:e,next:null},Kd===null){if(W1===null)throw Error(He(308));Kd=t,W1.dependencies={lanes:0,firstContext:t}}else Kd=Kd.next=t;return e}var fh=null;function Ob(t){fh===null?fh=[t]:fh.push(t)}function P9(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Ob(e)):(n.next=r.next,r.next=n),e.interleaved=n,ic(t,i)}function ic(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vc=!1;function Ib(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ql(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function iu(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,fn&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ic(t,n)}return r=i.interleaved,r===null?(e.next=e,Ob(i)):(e.next=r.next,r.next=e),i.interleaved=e,ic(t,n)}function o1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Sb(t,n)}}function N6(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function K1(t,e,n,i){var r=t.updateQueue;Vc=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var g=r.baseState;a=0,h=c=l=null,o=s;do{var m=o.lane,p=o.eventTime;if((i&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,b=o;switch(m=e,p=n,b.tag){case 1:if(x=b.payload,typeof x=="function"){g=x.call(p,g,m);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,m=typeof x=="function"?x.call(p,g,m):x,m==null)break e;g=gi({},g,m);break e;case 2:Vc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=r.effects,m===null?r.effects=[o]:m.push(o))}else p={eventTime:p,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=p,l=g):h=h.next=p,a|=m;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;m=o,o=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(h===null&&(l=g),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Lh|=a,t.lanes=a,t.memoizedState=g}}function k6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(He(191,r));r.call(i)}}}var gg={},ul=xu(gg),Bp=xu(gg),zp=xu(gg);function ph(t){if(t===gg)throw Error(He(174));return t}function Bb(t,e){switch(Un(zp,e),Un(Bp,t),Un(ul,gg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xv(e,t)}Zn(ul),Un(ul,e)}function _f(){Zn(ul),Zn(Bp),Zn(zp)}function T9(t){ph(zp.current);var e=ph(ul.current),n=xv(e,t.type);e!==n&&(Un(Bp,t),Un(ul,n))}function zb(t){Bp.current===t&&(Zn(ul),Zn(Bp))}var di=xu(0);function X1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uy=[];function Ub(){for(var t=0;t<Uy.length;t++)Uy[t]._workInProgressVersionPrimary=null;Uy.length=0}var l1=ac.ReactCurrentDispatcher,Vy=ac.ReactCurrentBatchConfig,Ph=0,pi=null,ir=null,br=null,Y1=!1,dp=!1,Up=0,LM=0;function Yr(){throw Error(He(321))}function Vb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!To(t[n],e[n]))return!1;return!0}function Hb(t,e,n,i,r,s){if(Ph=s,pi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,l1.current=t===null||t.memoizedState===null?RM:FM,t=n(i,r),dp){s=0;do{if(dp=!1,Up=0,25<=s)throw Error(He(301));s+=1,br=ir=null,e.updateQueue=null,l1.current=DM,t=n(i,r)}while(dp)}if(l1.current=Q1,e=ir!==null&&ir.next!==null,Ph=0,br=ir=pi=null,Y1=!1,e)throw Error(He(300));return t}function $b(){var t=Up!==0;return Up=0,t}function il(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?pi.memoizedState=br=t:br=br.next=t,br}function Qa(){if(ir===null){var t=pi.alternate;t=t!==null?t.memoizedState:null}else t=ir.next;var e=br===null?pi.memoizedState:br.next;if(e!==null)br=e,ir=t;else{if(t===null)throw Error(He(310));ir=t,t={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},br===null?pi.memoizedState=br=t:br=br.next=t}return br}function Vp(t,e){return typeof e=="function"?e(t):e}function Hy(t){var e=Qa(),n=e.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=t;var i=ir,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,l=null,c=s;do{var h=c.lane;if((Ph&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var g={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=g,a=i):l=l.next=g,pi.lanes|=h,Lh|=h}c=c.next}while(c!==null&&c!==s);l===null?a=i:l.next=o,To(i,e.memoizedState)||(Is=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,pi.lanes|=s,Lh|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $y(t){var e=Qa(),n=e.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);To(s,e.memoizedState)||(Is=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function E9(){}function M9(t,e){var n=pi,i=Qa(),r=e(),s=!To(i.memoizedState,r);if(s&&(i.memoizedState=r,Is=!0),i=i.queue,Gb(D9.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||br!==null&&br.memoizedState.tag&1){if(n.flags|=2048,Hp(9,F9.bind(null,n,i,r,e),void 0,null),_r===null)throw Error(He(349));Ph&30||R9(n,e,r)}return r}function R9(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pi.updateQueue,e===null?(e={lastEffect:null,stores:null},pi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function F9(t,e,n,i){e.value=n,e.getSnapshot=i,O9(e)&&I9(t)}function D9(t,e,n){return n(function(){O9(e)&&I9(t)})}function O9(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!To(t,n)}catch{return!0}}function I9(t){var e=ic(t,1);e!==null&&Ao(e,t,1,-1)}function C6(t){var e=il();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vp,lastRenderedState:t},e.queue=t,t=t.dispatch=MM.bind(null,pi,t),[e.memoizedState,t]}function Hp(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=pi.updateQueue,e===null?(e={lastEffect:null,stores:null},pi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function B9(){return Qa().memoizedState}function c1(t,e,n,i){var r=il();pi.flags|=t,r.memoizedState=Hp(1|e,n,void 0,i===void 0?null:i)}function $2(t,e,n,i){var r=Qa();i=i===void 0?null:i;var s=void 0;if(ir!==null){var a=ir.memoizedState;if(s=a.destroy,i!==null&&Vb(i,a.deps)){r.memoizedState=Hp(e,n,s,i);return}}pi.flags|=t,r.memoizedState=Hp(1|e,n,s,i)}function j6(t,e){return c1(8390656,8,t,e)}function Gb(t,e){return $2(2048,8,t,e)}function z9(t,e){return $2(4,2,t,e)}function U9(t,e){return $2(4,4,t,e)}function V9(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function H9(t,e,n){return n=n!=null?n.concat([t]):null,$2(4,4,V9.bind(null,e,t),n)}function qb(){}function $9(t,e){var n=Qa();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vb(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function G9(t,e){var n=Qa();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vb(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function q9(t,e,n){return Ph&21?(To(n,e)||(n=Qk(),pi.lanes|=n,Lh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Is=!0),t.memoizedState=n)}function TM(t,e){var n=Ln;Ln=n!==0&&4>n?n:4,t(!0);var i=Vy.transition;Vy.transition={};try{t(!1),e()}finally{Ln=n,Vy.transition=i}}function W9(){return Qa().memoizedState}function EM(t,e,n){var i=su(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},K9(t))X9(e,n);else if(n=P9(t,e,n,i),n!==null){var r=bs();Ao(n,t,i,r),Y9(n,e,i)}}function MM(t,e,n){var i=su(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(K9(t))X9(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,To(o,a)){var l=e.interleaved;l===null?(r.next=r,Ob(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=P9(t,e,r,i),n!==null&&(r=bs(),Ao(n,t,i,r),Y9(n,e,i))}}function K9(t){var e=t.alternate;return t===pi||e!==null&&e===pi}function X9(t,e){dp=Y1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Y9(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Sb(t,n)}}var Q1={readContext:Ya,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},RM={readContext:Ya,useCallback:function(t,e){return il().memoizedState=[t,e===void 0?null:e],t},useContext:Ya,useEffect:j6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,c1(4194308,4,V9.bind(null,e,t),n)},useLayoutEffect:function(t,e){return c1(4194308,4,t,e)},useInsertionEffect:function(t,e){return c1(4,2,t,e)},useMemo:function(t,e){var n=il();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=il();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=EM.bind(null,pi,t),[i.memoizedState,t]},useRef:function(t){var e=il();return t={current:t},e.memoizedState=t},useState:C6,useDebugValue:qb,useDeferredValue:function(t){return il().memoizedState=t},useTransition:function(){var t=C6(!1),e=t[0];return t=TM.bind(null,t[1]),il().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=pi,r=il();if(ai){if(n===void 0)throw Error(He(407));n=n()}else{if(n=e(),_r===null)throw Error(He(349));Ph&30||R9(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,j6(D9.bind(null,i,s,t),[t]),i.flags|=2048,Hp(9,F9.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=il(),e=_r.identifierPrefix;if(ai){var n=Yl,i=Xl;n=(i&~(1<<32-jo(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Up++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FM={readContext:Ya,useCallback:$9,useContext:Ya,useEffect:Gb,useImperativeHandle:H9,useInsertionEffect:z9,useLayoutEffect:U9,useMemo:G9,useReducer:Hy,useRef:B9,useState:function(){return Hy(Vp)},useDebugValue:qb,useDeferredValue:function(t){var e=Qa();return q9(e,ir.memoizedState,t)},useTransition:function(){var t=Hy(Vp)[0],e=Qa().memoizedState;return[t,e]},useMutableSource:E9,useSyncExternalStore:M9,useId:W9,unstable_isNewReconciler:!1},DM={readContext:Ya,useCallback:$9,useContext:Ya,useEffect:Gb,useImperativeHandle:H9,useInsertionEffect:z9,useLayoutEffect:U9,useMemo:G9,useReducer:$y,useRef:B9,useState:function(){return $y(Vp)},useDebugValue:qb,useDeferredValue:function(t){var e=Qa();return ir===null?e.memoizedState=t:q9(e,ir.memoizedState,t)},useTransition:function(){var t=$y(Vp)[0],e=Qa().memoizedState;return[t,e]},useMutableSource:E9,useSyncExternalStore:M9,useId:W9,unstable_isNewReconciler:!1};function _o(t,e){if(t&&t.defaultProps){e=gi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bv(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:gi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var G2={isMounted:function(t){return(t=t._reactInternals)?Bh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=bs(),r=su(t),s=Ql(i,r);s.payload=e,n!=null&&(s.callback=n),e=iu(t,s,r),e!==null&&(Ao(e,t,r,i),o1(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=bs(),r=su(t),s=Ql(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=iu(t,s,r),e!==null&&(Ao(e,t,r,i),o1(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bs(),i=su(t),r=Ql(n,i);r.tag=2,e!=null&&(r.callback=e),e=iu(t,r,i),e!==null&&(Ao(e,t,i,n),o1(e,t,i))}};function A6(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Fp(n,i)||!Fp(r,s):!0}function Q9(t,e,n){var i=!1,r=uu,s=e.contextType;return typeof s=="object"&&s!==null?s=Ya(s):(r=zs(e)?jh:ls.current,i=e.contextTypes,s=(i=i!=null)?vf(t,r):uu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=G2,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function P6(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&G2.enqueueReplaceState(e,e.state,null)}function zv(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Ib(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Ya(s):(s=zs(e)?jh:ls.current,r.context=vf(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bv(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&G2.enqueueReplaceState(r,r.state,null),K1(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Sf(t,e){try{var n="",i=e;do n+=uE(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Gy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OM=typeof WeakMap=="function"?WeakMap:Map;function J9(t,e,n){n=Ql(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Z1||(Z1=!0,Qv=i),Uv(t,e)},n}function Z9(t,e,n){n=Ql(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Uv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Uv(t,e),typeof i!="function"&&(ru===null?ru=new Set([this]):ru.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function L6(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new OM;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=QM.bind(null,t,e,n),e.then(t,t))}function T6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E6(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ql(-1,1),e.tag=2,iu(n,e,1))),n.lanes|=1),t)}var IM=ac.ReactCurrentOwner,Is=!1;function vs(t,e,n,i){e.child=t===null?A9(e,null,n,i):wf(e,t.child,n,i)}function M6(t,e,n,i,r){n=n.render;var s=e.ref;return uf(e,r),i=Hb(t,e,n,i,s,r),n=$b(),t!==null&&!Is?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,rc(t,e,r)):(ai&&n&&Tb(e),e.flags|=1,vs(t,e,i,r),e.child)}function R6(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!e3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,eC(t,e,s,i,r)):(t=f1(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fp,n(a,i)&&t.ref===e.ref)return rc(t,e,r)}return e.flags|=1,t=au(s,i),t.ref=e.ref,t.return=e,e.child=t}function eC(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Fp(s,i)&&t.ref===e.ref)if(Is=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Is=!0);else return e.lanes=t.lanes,rc(t,e,r)}return Vv(t,e,n,i,r)}function tC(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(Yd,aa),aa|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Un(Yd,aa),aa|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Un(Yd,aa),aa|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Un(Yd,aa),aa|=i;return vs(t,e,r,n),e.child}function nC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vv(t,e,n,i,r){var s=zs(n)?jh:ls.current;return s=vf(e,s),uf(e,r),n=Hb(t,e,n,i,s,r),i=$b(),t!==null&&!Is?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,rc(t,e,r)):(ai&&i&&Tb(e),e.flags|=1,vs(t,e,n,r),e.child)}function F6(t,e,n,i,r){if(zs(n)){var s=!0;H1(e)}else s=!1;if(uf(e,r),e.stateNode===null)u1(t,e),Q9(e,n,i),zv(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ya(c):(c=zs(n)?jh:ls.current,c=vf(e,c));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==c)&&P6(e,a,i,c),Vc=!1;var m=e.memoizedState;a.state=m,K1(e,i,a,r),l=e.memoizedState,o!==i||m!==l||Bs.current||Vc?(typeof h=="function"&&(Bv(e,n,h,i),l=e.memoizedState),(o=Vc||A6(e,n,o,i,m,l,c))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,L9(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:_o(e.type,o),a.props=c,g=e.pendingProps,m=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ya(l):(l=zs(n)?jh:ls.current,l=vf(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==g||m!==l)&&P6(e,a,i,l),Vc=!1,m=e.memoizedState,a.state=m,K1(e,i,a,r);var x=e.memoizedState;o!==g||m!==x||Bs.current||Vc?(typeof p=="function"&&(Bv(e,n,p,i),x=e.memoizedState),(c=Vc||A6(e,n,c,i,m,x,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),a.props=i,a.state=x,a.context=l,i=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return Hv(t,e,n,i,s,r)}function Hv(t,e,n,i,r,s){nC(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&b6(e,n,!1),rc(t,e,s);i=e.stateNode,IM.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=wf(e,t.child,null,s),e.child=wf(e,null,o,s)):vs(t,e,o,s),e.memoizedState=i.state,r&&b6(e,n,!0),e.child}function iC(t){var e=t.stateNode;e.pendingContext?v6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&v6(t,e.context,!1),Bb(t,e.containerInfo)}function D6(t,e,n,i,r){return bf(),Mb(r),e.flags|=256,vs(t,e,n,i),e.child}var $v={dehydrated:null,treeContext:null,retryLane:0};function Gv(t){return{baseLanes:t,cachePool:null,transitions:null}}function rC(t,e,n){var i=e.pendingProps,r=di.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Un(di,r&1),t===null)return Ov(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=K2(a,i,0,null),t=wh(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gv(n),e.memoizedState=$v,t):Wb(e,a));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return BM(t,e,a,i,o,r,n);if(s){s=i.fallback,a=e.mode,r=t.child,o=r.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=au(r,l),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=au(o,s):(s=wh(s,a,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=t.child.memoizedState,a=a===null?Gv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=$v,i}return s=t.child,t=s.sibling,i=au(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Wb(t,e){return e=K2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gm(t,e,n,i){return i!==null&&Mb(i),wf(e,t.child,null,n),t=Wb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BM(t,e,n,i,r,s,a){if(n)return e.flags&256?(e.flags&=-257,i=Gy(Error(He(422))),gm(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=K2({mode:"visible",children:i.children},r,0,null),s=wh(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&wf(e,t.child,null,a),e.child.memoizedState=Gv(a),e.memoizedState=$v,s);if(!(e.mode&1))return gm(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(He(419)),i=Gy(s,i,void 0),gm(t,e,a,i)}if(o=(a&t.childLanes)!==0,Is||o){if(i=_r,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ic(t,r),Ao(i,t,r,-1))}return Zb(),i=Gy(Error(He(421))),gm(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=JM.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,oa=nu(r.nextSibling),ca=e,ai=!0,No=null,t!==null&&(Ha[$a++]=Xl,Ha[$a++]=Yl,Ha[$a++]=Ah,Xl=t.id,Yl=t.overflow,Ah=e),e=Wb(e,i.children),e.flags|=4096,e)}function O6(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Iv(t.return,e,n)}function qy(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function sC(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(vs(t,e,i.children,n),i=di.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O6(t,n,e);else if(t.tag===19)O6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Un(di,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&X1(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),qy(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&X1(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}qy(e,!0,n,null,s);break;case"together":qy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function u1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(He(153));if(e.child!==null){for(t=e.child,n=au(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=au(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zM(t,e,n){switch(e.tag){case 3:iC(e),bf();break;case 5:T9(e);break;case 1:zs(e.type)&&H1(e);break;case 4:Bb(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Un(q1,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Un(di,di.current&1),e.flags|=128,null):n&e.child.childLanes?rC(t,e,n):(Un(di,di.current&1),t=rc(t,e,n),t!==null?t.sibling:null);Un(di,di.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return sC(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Un(di,di.current),i)break;return null;case 22:case 23:return e.lanes=0,tC(t,e,n)}return rc(t,e,n)}var aC,qv,oC,lC;aC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qv=function(){};oC=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,ph(ul.current);var s=null;switch(n){case"input":r=pv(t,r),i=pv(t,i),s=[];break;case"select":r=gi({},r,{value:void 0}),i=gi({},i,{value:void 0}),s=[];break;case"textarea":r=yv(t,r),i=yv(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=U1)}vv(n,i);var a;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ap.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(o=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ap.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Yn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};lC=function(t,e,n,i){n!==i&&(e.flags|=4)};function E0(t,e){if(!ai)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Qr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function UM(t,e,n){var i=e.pendingProps;switch(Eb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(e),null;case 1:return zs(e.type)&&V1(),Qr(e),null;case 3:return i=e.stateNode,_f(),Zn(Bs),Zn(ls),Ub(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(fm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,No!==null&&(e4(No),No=null))),qv(t,e),Qr(e),null;case 5:zb(e);var r=ph(zp.current);if(n=e.type,t!==null&&e.stateNode!=null)oC(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(He(166));return Qr(e),null}if(t=ph(ul.current),fm(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[al]=e,i[Ip]=s,t=(e.mode&1)!==0,n){case"dialog":Yn("cancel",i),Yn("close",i);break;case"iframe":case"object":case"embed":Yn("load",i);break;case"video":case"audio":for(r=0;r<J0.length;r++)Yn(J0[r],i);break;case"source":Yn("error",i);break;case"img":case"image":case"link":Yn("error",i),Yn("load",i);break;case"details":Yn("toggle",i);break;case"input":qw(i,s),Yn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Yn("invalid",i);break;case"textarea":Kw(i,s),Yn("invalid",i)}vv(n,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&dm(i.textContent,o,t),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&dm(i.textContent,o,t),r=["children",""+o]):Ap.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Yn("scroll",i)}switch(n){case"input":rm(i),Ww(i,s,!0);break;case"textarea":rm(i),Xw(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=U1)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[al]=e,t[Ip]=i,aC(t,e,!1,!1),e.stateNode=t;e:{switch(a=bv(n,i),n){case"dialog":Yn("cancel",t),Yn("close",t),r=i;break;case"iframe":case"object":case"embed":Yn("load",t),r=i;break;case"video":case"audio":for(r=0;r<J0.length;r++)Yn(J0[r],t);r=i;break;case"source":Yn("error",t),r=i;break;case"img":case"image":case"link":Yn("error",t),Yn("load",t),r=i;break;case"details":Yn("toggle",t),r=i;break;case"input":qw(t,i),r=pv(t,i),Yn("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=gi({},i,{value:void 0}),Yn("invalid",t);break;case"textarea":Kw(t,i),r=yv(t,i),Yn("invalid",t);break;default:r=i}vv(n,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Bk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ok(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pp(t,l):typeof l=="number"&&Pp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ap.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Yn("scroll",t):l!=null&&yb(t,s,l,a))}switch(n){case"input":rm(t),Ww(t,i,!1);break;case"textarea":rm(t),Xw(t);break;case"option":i.value!=null&&t.setAttribute("value",""+cu(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?af(t,!!i.multiple,s,!1):i.defaultValue!=null&&af(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=U1)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qr(e),null;case 6:if(t&&e.stateNode!=null)lC(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(He(166));if(n=ph(zp.current),ph(ul.current),fm(e)){if(i=e.stateNode,n=e.memoizedProps,i[al]=e,(s=i.nodeValue!==n)&&(t=ca,t!==null))switch(t.tag){case 3:dm(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dm(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[al]=e,e.stateNode=i}return Qr(e),null;case 13:if(Zn(di),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ai&&oa!==null&&e.mode&1&&!(e.flags&128))C9(),bf(),e.flags|=98560,s=!1;else if(s=fm(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(He(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[al]=e}else bf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qr(e),s=!1}else No!==null&&(e4(No),No=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||di.current&1?sr===0&&(sr=3):Zb())),e.updateQueue!==null&&(e.flags|=4),Qr(e),null);case 4:return _f(),qv(t,e),t===null&&Dp(e.stateNode.containerInfo),Qr(e),null;case 10:return Db(e.type._context),Qr(e),null;case 17:return zs(e.type)&&V1(),Qr(e),null;case 19:if(Zn(di),s=e.memoizedState,s===null)return Qr(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)E0(s,!1);else{if(sr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=X1(t),a!==null){for(e.flags|=128,E0(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Un(di,di.current&1|2),e.child}t=t.sibling}s.tail!==null&&Di()>Nf&&(e.flags|=128,i=!0,E0(s,!1),e.lanes=4194304)}else{if(!i)if(t=X1(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),E0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ai)return Qr(e),null}else 2*Di()-s.renderingStartTime>Nf&&n!==1073741824&&(e.flags|=128,i=!0,E0(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Di(),e.sibling=null,n=di.current,Un(di,i?n&1|2:n&1),e):(Qr(e),null);case 22:case 23:return Jb(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?aa&1073741824&&(Qr(e),e.subtreeFlags&6&&(e.flags|=8192)):Qr(e),null;case 24:return null;case 25:return null}throw Error(He(156,e.tag))}function VM(t,e){switch(Eb(e),e.tag){case 1:return zs(e.type)&&V1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _f(),Zn(Bs),Zn(ls),Ub(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zb(e),null;case 13:if(Zn(di),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(He(340));bf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Zn(di),null;case 4:return _f(),null;case 10:return Db(e.type._context),null;case 22:case 23:return Jb(),null;case 24:return null;default:return null}}var mm=!1,rs=!1,HM=typeof WeakSet=="function"?WeakSet:Set,at=null;function Xd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ki(t,e,i)}else n.current=null}function Wv(t,e,n){try{n()}catch(i){ki(t,e,i)}}var I6=!1;function $M(t,e){if(Lv=I1,t=f9(),Lb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,h=0,g=t,m=null;t:for(;;){for(var p;g!==n||r!==0&&g.nodeType!==3||(o=a+r),g!==s||i!==0&&g.nodeType!==3||(l=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(p=g.firstChild)!==null;)m=g,g=p;for(;;){if(g===t)break t;if(m===n&&++c===r&&(o=a),m===s&&++h===i&&(l=a),(p=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tv={focusedElem:t,selectionRange:n},I1=!1,at=e;at!==null;)if(e=at,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,at=t;else for(;at!==null;){e=at;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,S=x.memoizedState,N=e.stateNode,j=N.getSnapshotBeforeUpdate(e.elementType===e.type?b:_o(e.type,b),S);N.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(k){ki(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,at=t;break}at=e.return}return x=I6,I6=!1,x}function fp(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Wv(e,n,s)}r=r.next}while(r!==i)}}function q2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Kv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cC(t){var e=t.alternate;e!==null&&(t.alternate=null,cC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[al],delete e[Ip],delete e[Rv],delete e[CM],delete e[jM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uC(t){return t.tag===5||t.tag===3||t.tag===4}function B6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xv(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=U1));else if(i!==4&&(t=t.child,t!==null))for(Xv(t,e,n),t=t.sibling;t!==null;)Xv(t,e,n),t=t.sibling}function Yv(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Yv(t,e,n),t=t.sibling;t!==null;)Yv(t,e,n),t=t.sibling}var Rr=null,So=!1;function Rc(t,e,n){for(n=n.child;n!==null;)hC(t,e,n),n=n.sibling}function hC(t,e,n){if(cl&&typeof cl.onCommitFiberUnmount=="function")try{cl.onCommitFiberUnmount(I2,n)}catch{}switch(n.tag){case 5:rs||Xd(n,e);case 6:var i=Rr,r=So;Rr=null,Rc(t,e,n),Rr=i,So=r,Rr!==null&&(So?(t=Rr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rr.removeChild(n.stateNode));break;case 18:Rr!==null&&(So?(t=Rr,n=n.stateNode,t.nodeType===8?By(t.parentNode,n):t.nodeType===1&&By(t,n),Mp(t)):By(Rr,n.stateNode));break;case 4:i=Rr,r=So,Rr=n.stateNode.containerInfo,So=!0,Rc(t,e,n),Rr=i,So=r;break;case 0:case 11:case 14:case 15:if(!rs&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Wv(n,e,a),r=r.next}while(r!==i)}Rc(t,e,n);break;case 1:if(!rs&&(Xd(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){ki(n,e,o)}Rc(t,e,n);break;case 21:Rc(t,e,n);break;case 22:n.mode&1?(rs=(i=rs)||n.memoizedState!==null,Rc(t,e,n),rs=i):Rc(t,e,n);break;default:Rc(t,e,n)}}function z6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HM),e.forEach(function(i){var r=ZM.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function xo(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Rr=o.stateNode,So=!1;break e;case 3:Rr=o.stateNode.containerInfo,So=!0;break e;case 4:Rr=o.stateNode.containerInfo,So=!0;break e}o=o.return}if(Rr===null)throw Error(He(160));hC(s,a,r),Rr=null,So=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){ki(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dC(e,t),e=e.sibling}function dC(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xo(e,t),Qo(t),i&4){try{fp(3,t,t.return),q2(3,t)}catch(b){ki(t,t.return,b)}try{fp(5,t,t.return)}catch(b){ki(t,t.return,b)}}break;case 1:xo(e,t),Qo(t),i&512&&n!==null&&Xd(n,n.return);break;case 5:if(xo(e,t),Qo(t),i&512&&n!==null&&Xd(n,n.return),t.flags&32){var r=t.stateNode;try{Pp(r,"")}catch(b){ki(t,t.return,b)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Rk(r,s),bv(o,a);var c=bv(o,s);for(a=0;a<l.length;a+=2){var h=l[a],g=l[a+1];h==="style"?Bk(r,g):h==="dangerouslySetInnerHTML"?Ok(r,g):h==="children"?Pp(r,g):yb(r,h,g,c)}switch(o){case"input":gv(r,s);break;case"textarea":Fk(r,s);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?af(r,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?af(r,!!s.multiple,s.defaultValue,!0):af(r,!!s.multiple,s.multiple?[]:"",!1))}r[Ip]=s}catch(b){ki(t,t.return,b)}}break;case 6:if(xo(e,t),Qo(t),i&4){if(t.stateNode===null)throw Error(He(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(b){ki(t,t.return,b)}}break;case 3:if(xo(e,t),Qo(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Mp(e.containerInfo)}catch(b){ki(t,t.return,b)}break;case 4:xo(e,t),Qo(t);break;case 13:xo(e,t),Qo(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Yb=Di())),i&4&&z6(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(rs=(c=rs)||h,xo(e,t),rs=c):xo(e,t),Qo(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(at=t,h=t.child;h!==null;){for(g=at=h;at!==null;){switch(m=at,p=m.child,m.tag){case 0:case 11:case 14:case 15:fp(4,m,m.return);break;case 1:Xd(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){i=m,n=m.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(b){ki(i,n,b)}}break;case 5:Xd(m,m.return);break;case 22:if(m.memoizedState!==null){V6(g);continue}}p!==null?(p.return=m,at=p):V6(g)}h=h.sibling}e:for(h=null,g=t;;){if(g.tag===5){if(h===null){h=g;try{r=g.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=g.stateNode,l=g.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Ik("display",a))}catch(b){ki(t,t.return,b)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(b){ki(t,t.return,b)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:xo(e,t),Qo(t),i&4&&z6(t);break;case 21:break;default:xo(e,t),Qo(t)}}function Qo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uC(n)){var i=n;break e}n=n.return}throw Error(He(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Pp(r,""),i.flags&=-33);var s=B6(t);Yv(t,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=B6(t);Xv(t,o,a);break;default:throw Error(He(161))}}catch(l){ki(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GM(t,e,n){at=t,fC(t)}function fC(t,e,n){for(var i=(t.mode&1)!==0;at!==null;){var r=at,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||mm;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||rs;o=mm;var c=rs;if(mm=a,(rs=l)&&!c)for(at=r;at!==null;)a=at,l=a.child,a.tag===22&&a.memoizedState!==null?H6(r):l!==null?(l.return=a,at=l):H6(r);for(;s!==null;)at=s,fC(s),s=s.sibling;at=r,mm=o,rs=c}U6(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,at=s):U6(t)}}function U6(t){for(;at!==null;){var e=at;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rs||q2(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!rs)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:_o(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&k6(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}k6(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&Mp(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}rs||e.flags&512&&Kv(e)}catch(m){ki(e,e.return,m)}}if(e===t){at=null;break}if(n=e.sibling,n!==null){n.return=e.return,at=n;break}at=e.return}}function V6(t){for(;at!==null;){var e=at;if(e===t){at=null;break}var n=e.sibling;if(n!==null){n.return=e.return,at=n;break}at=e.return}}function H6(t){for(;at!==null;){var e=at;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{q2(4,e)}catch(l){ki(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){ki(e,r,l)}}var s=e.return;try{Kv(e)}catch(l){ki(e,s,l)}break;case 5:var a=e.return;try{Kv(e)}catch(l){ki(e,a,l)}}}catch(l){ki(e,e.return,l)}if(e===t){at=null;break}var o=e.sibling;if(o!==null){o.return=e.return,at=o;break}at=e.return}}var qM=Math.ceil,J1=ac.ReactCurrentDispatcher,Kb=ac.ReactCurrentOwner,Xa=ac.ReactCurrentBatchConfig,fn=0,_r=null,Gi=null,Or=0,aa=0,Yd=xu(0),sr=0,$p=null,Lh=0,W2=0,Xb=0,pp=null,Ds=null,Yb=0,Nf=1/0,$l=null,Z1=!1,Qv=null,ru=null,ym=!1,Wc=null,e2=0,gp=0,Jv=null,h1=-1,d1=0;function bs(){return fn&6?Di():h1!==-1?h1:h1=Di()}function su(t){return t.mode&1?fn&2&&Or!==0?Or&-Or:PM.transition!==null?(d1===0&&(d1=Qk()),d1):(t=Ln,t!==0||(t=window.event,t=t===void 0?16:r9(t.type)),t):1}function Ao(t,e,n,i){if(50<gp)throw gp=0,Jv=null,Error(He(185));dg(t,n,i),(!(fn&2)||t!==_r)&&(t===_r&&(!(fn&2)&&(W2|=n),sr===4&&Gc(t,Or)),Us(t,i),n===1&&fn===0&&!(e.mode&1)&&(Nf=Di()+500,H2&&vu()))}function Us(t,e){var n=t.callbackNode;PE(t,e);var i=O1(t,t===_r?Or:0);if(i===0)n!==null&&Jw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Jw(n),e===1)t.tag===0?AM($6.bind(null,t)):S9($6.bind(null,t)),NM(function(){!(fn&6)&&vu()}),n=null;else{switch(Jk(i)){case 1:n=_b;break;case 4:n=Xk;break;case 16:n=D1;break;case 536870912:n=Yk;break;default:n=D1}n=wC(n,pC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pC(t,e){if(h1=-1,d1=0,fn&6)throw Error(He(327));var n=t.callbackNode;if(hf()&&t.callbackNode!==n)return null;var i=O1(t,t===_r?Or:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=t2(t,i);else{e=i;var r=fn;fn|=2;var s=mC();(_r!==t||Or!==e)&&($l=null,Nf=Di()+500,bh(t,e));do try{XM();break}catch(o){gC(t,o)}while(!0);Fb(),J1.current=s,fn=r,Gi!==null?e=0:(_r=null,Or=0,e=sr)}if(e!==0){if(e===2&&(r=kv(t),r!==0&&(i=r,e=Zv(t,r))),e===1)throw n=$p,bh(t,0),Gc(t,i),Us(t,Di()),n;if(e===6)Gc(t,i);else{if(r=t.current.alternate,!(i&30)&&!WM(r)&&(e=t2(t,i),e===2&&(s=kv(t),s!==0&&(i=s,e=Zv(t,s))),e===1))throw n=$p,bh(t,0),Gc(t,i),Us(t,Di()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(He(345));case 2:rh(t,Ds,$l);break;case 3:if(Gc(t,i),(i&130023424)===i&&(e=Yb+500-Di(),10<e)){if(O1(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){bs(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Mv(rh.bind(null,t,Ds,$l),e);break}rh(t,Ds,$l);break;case 4:if(Gc(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-jo(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=Di()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qM(i/1960))-i,10<i){t.timeoutHandle=Mv(rh.bind(null,t,Ds,$l),i);break}rh(t,Ds,$l);break;case 5:rh(t,Ds,$l);break;default:throw Error(He(329))}}}return Us(t,Di()),t.callbackNode===n?pC.bind(null,t):null}function Zv(t,e){var n=pp;return t.current.memoizedState.isDehydrated&&(bh(t,e).flags|=256),t=t2(t,e),t!==2&&(e=Ds,Ds=n,e!==null&&e4(e)),t}function e4(t){Ds===null?Ds=t:Ds.push.apply(Ds,t)}function WM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!To(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gc(t,e){for(e&=~Xb,e&=~W2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jo(e),i=1<<n;t[n]=-1,e&=~i}}function $6(t){if(fn&6)throw Error(He(327));hf();var e=O1(t,0);if(!(e&1))return Us(t,Di()),null;var n=t2(t,e);if(t.tag!==0&&n===2){var i=kv(t);i!==0&&(e=i,n=Zv(t,i))}if(n===1)throw n=$p,bh(t,0),Gc(t,e),Us(t,Di()),n;if(n===6)throw Error(He(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rh(t,Ds,$l),Us(t,Di()),null}function Qb(t,e){var n=fn;fn|=1;try{return t(e)}finally{fn=n,fn===0&&(Nf=Di()+500,H2&&vu())}}function Th(t){Wc!==null&&Wc.tag===0&&!(fn&6)&&hf();var e=fn;fn|=1;var n=Xa.transition,i=Ln;try{if(Xa.transition=null,Ln=1,t)return t()}finally{Ln=i,Xa.transition=n,fn=e,!(fn&6)&&vu()}}function Jb(){aa=Yd.current,Zn(Yd)}function bh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SM(n)),Gi!==null)for(n=Gi.return;n!==null;){var i=n;switch(Eb(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&V1();break;case 3:_f(),Zn(Bs),Zn(ls),Ub();break;case 5:zb(i);break;case 4:_f();break;case 13:Zn(di);break;case 19:Zn(di);break;case 10:Db(i.type._context);break;case 22:case 23:Jb()}n=n.return}if(_r=t,Gi=t=au(t.current,null),Or=aa=e,sr=0,$p=null,Xb=W2=Lh=0,Ds=pp=null,fh!==null){for(e=0;e<fh.length;e++)if(n=fh[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}n.pending=i}fh=null}return t}function gC(t,e){do{var n=Gi;try{if(Fb(),l1.current=Q1,Y1){for(var i=pi.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Y1=!1}if(Ph=0,br=ir=pi=null,dp=!1,Up=0,Kb.current=null,n===null||n.return===null){sr=1,$p=e,Gi=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Or,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=T6(a);if(p!==null){p.flags&=-257,E6(p,a,o,s,e),p.mode&1&&L6(s,c,e),e=p,l=c;var x=e.updateQueue;if(x===null){var b=new Set;b.add(l),e.updateQueue=b}else x.add(l);break e}else{if(!(e&1)){L6(s,c,e),Zb();break e}l=Error(He(426))}}else if(ai&&o.mode&1){var S=T6(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),E6(S,a,o,s,e),Mb(Sf(l,o));break e}}s=l=Sf(l,o),sr!==4&&(sr=2),pp===null?pp=[s]:pp.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var N=J9(s,l,e);N6(s,N);break e;case 1:o=l;var j=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof j.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ru===null||!ru.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=Z9(s,o,e);N6(s,k);break e}}s=s.return}while(s!==null)}xC(n)}catch(E){e=E,Gi===n&&n!==null&&(Gi=n=n.return);continue}break}while(!0)}function mC(){var t=J1.current;return J1.current=Q1,t===null?Q1:t}function Zb(){(sr===0||sr===3||sr===2)&&(sr=4),_r===null||!(Lh&268435455)&&!(W2&268435455)||Gc(_r,Or)}function t2(t,e){var n=fn;fn|=2;var i=mC();(_r!==t||Or!==e)&&($l=null,bh(t,e));do try{KM();break}catch(r){gC(t,r)}while(!0);if(Fb(),fn=n,J1.current=i,Gi!==null)throw Error(He(261));return _r=null,Or=0,sr}function KM(){for(;Gi!==null;)yC(Gi)}function XM(){for(;Gi!==null&&!bE();)yC(Gi)}function yC(t){var e=bC(t.alternate,t,aa);t.memoizedProps=t.pendingProps,e===null?xC(t):Gi=e,Kb.current=null}function xC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VM(n,e),n!==null){n.flags&=32767,Gi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sr=6,Gi=null;return}}else if(n=UM(n,e,aa),n!==null){Gi=n;return}if(e=e.sibling,e!==null){Gi=e;return}Gi=e=t}while(e!==null);sr===0&&(sr=5)}function rh(t,e,n){var i=Ln,r=Xa.transition;try{Xa.transition=null,Ln=1,YM(t,e,n,i)}finally{Xa.transition=r,Ln=i}return null}function YM(t,e,n,i){do hf();while(Wc!==null);if(fn&6)throw Error(He(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(He(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(LE(t,s),t===_r&&(Gi=_r=null,Or=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ym||(ym=!0,wC(D1,function(){return hf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xa.transition,Xa.transition=null;var a=Ln;Ln=1;var o=fn;fn|=4,Kb.current=null,$M(t,n),dC(n,t),mM(Tv),I1=!!Lv,Tv=Lv=null,t.current=n,GM(n),wE(),fn=o,Ln=a,Xa.transition=s}else t.current=n;if(ym&&(ym=!1,Wc=t,e2=r),s=t.pendingLanes,s===0&&(ru=null),NE(n.stateNode),Us(t,Di()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Z1)throw Z1=!1,t=Qv,Qv=null,t;return e2&1&&t.tag!==0&&hf(),s=t.pendingLanes,s&1?t===Jv?gp++:(gp=0,Jv=t):gp=0,vu(),null}function hf(){if(Wc!==null){var t=Jk(e2),e=Xa.transition,n=Ln;try{if(Xa.transition=null,Ln=16>t?16:t,Wc===null)var i=!1;else{if(t=Wc,Wc=null,e2=0,fn&6)throw Error(He(331));var r=fn;for(fn|=4,at=t.current;at!==null;){var s=at,a=s.child;if(at.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(at=c;at!==null;){var h=at;switch(h.tag){case 0:case 11:case 15:fp(8,h,s)}var g=h.child;if(g!==null)g.return=h,at=g;else for(;at!==null;){h=at;var m=h.sibling,p=h.return;if(cC(h),h===c){at=null;break}if(m!==null){m.return=p,at=m;break}at=p}}}var x=s.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}at=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,at=a;else e:for(;at!==null;){if(s=at,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fp(9,s,s.return)}var N=s.sibling;if(N!==null){N.return=s.return,at=N;break e}at=s.return}}var j=t.current;for(at=j;at!==null;){a=at;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,at=w;else e:for(a=j;at!==null;){if(o=at,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:q2(9,o)}}catch(E){ki(o,o.return,E)}if(o===a){at=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,at=k;break e}at=o.return}}if(fn=r,vu(),cl&&typeof cl.onPostCommitFiberRoot=="function")try{cl.onPostCommitFiberRoot(I2,t)}catch{}i=!0}return i}finally{Ln=n,Xa.transition=e}}return!1}function G6(t,e,n){e=Sf(n,e),e=J9(t,e,1),t=iu(t,e,1),e=bs(),t!==null&&(dg(t,1,e),Us(t,e))}function ki(t,e,n){if(t.tag===3)G6(t,t,n);else for(;e!==null;){if(e.tag===3){G6(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ru===null||!ru.has(i))){t=Sf(n,t),t=Z9(e,t,1),e=iu(e,t,1),t=bs(),e!==null&&(dg(e,1,t),Us(e,t));break}}e=e.return}}function QM(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=bs(),t.pingedLanes|=t.suspendedLanes&n,_r===t&&(Or&n)===n&&(sr===4||sr===3&&(Or&130023424)===Or&&500>Di()-Yb?bh(t,0):Xb|=n),Us(t,e)}function vC(t,e){e===0&&(t.mode&1?(e=om,om<<=1,!(om&130023424)&&(om=4194304)):e=1);var n=bs();t=ic(t,e),t!==null&&(dg(t,e,n),Us(t,n))}function JM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vC(t,n)}function ZM(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(He(314))}i!==null&&i.delete(e),vC(t,n)}var bC;bC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bs.current)Is=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Is=!1,zM(t,e,n);Is=!!(t.flags&131072)}else Is=!1,ai&&e.flags&1048576&&N9(e,G1,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;u1(t,e),t=e.pendingProps;var r=vf(e,ls.current);uf(e,n),r=Hb(null,e,i,t,r,n);var s=$b();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zs(i)?(s=!0,H1(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ib(e),r.updater=G2,e.stateNode=r,r._reactInternals=e,zv(e,i,t,n),e=Hv(null,e,i,!0,s,n)):(e.tag=0,ai&&s&&Tb(e),vs(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(u1(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=tR(i),t=_o(i,t),r){case 0:e=Vv(null,e,i,t,n);break e;case 1:e=F6(null,e,i,t,n);break e;case 11:e=M6(null,e,i,t,n);break e;case 14:e=R6(null,e,i,_o(i.type,t),n);break e}throw Error(He(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_o(i,r),Vv(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_o(i,r),F6(t,e,i,r,n);case 3:e:{if(iC(e),t===null)throw Error(He(387));i=e.pendingProps,s=e.memoizedState,r=s.element,L9(t,e),K1(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Sf(Error(He(423)),e),e=D6(t,e,i,n,r);break e}else if(i!==r){r=Sf(Error(He(424)),e),e=D6(t,e,i,n,r);break e}else for(oa=nu(e.stateNode.containerInfo.firstChild),ca=e,ai=!0,No=null,n=A9(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bf(),i===r){e=rc(t,e,n);break e}vs(t,e,i,n)}e=e.child}return e;case 5:return T9(e),t===null&&Ov(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,a=r.children,Ev(i,r)?a=null:s!==null&&Ev(i,s)&&(e.flags|=32),nC(t,e),vs(t,e,a,n),e.child;case 6:return t===null&&Ov(e),null;case 13:return rC(t,e,n);case 4:return Bb(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=wf(e,null,i,n):vs(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_o(i,r),M6(t,e,i,r,n);case 7:return vs(t,e,e.pendingProps,n),e.child;case 8:return vs(t,e,e.pendingProps.children,n),e.child;case 12:return vs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Un(q1,i._currentValue),i._currentValue=a,s!==null)if(To(s.value,a)){if(s.children===r.children&&!Bs.current){e=rc(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Ql(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Iv(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(He(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Iv(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}vs(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,uf(e,n),r=Ya(r),i=i(r),e.flags|=1,vs(t,e,i,n),e.child;case 14:return i=e.type,r=_o(i,e.pendingProps),r=_o(i.type,r),R6(t,e,i,r,n);case 15:return eC(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_o(i,r),u1(t,e),e.tag=1,zs(i)?(t=!0,H1(e)):t=!1,uf(e,n),Q9(e,i,r),zv(e,i,r,n),Hv(null,e,i,!0,t,n);case 19:return sC(t,e,n);case 22:return tC(t,e,n)}throw Error(He(156,e.tag))};function wC(t,e){return Kk(t,e)}function eR(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ga(t,e,n,i){return new eR(t,e,n,i)}function e3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tR(t){if(typeof t=="function")return e3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vb)return 11;if(t===bb)return 14}return 2}function au(t,e){var n=t.alternate;return n===null?(n=Ga(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function f1(t,e,n,i,r,s){var a=2;if(i=t,typeof t=="function")e3(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case zd:return wh(n.children,r,s,e);case xb:a=8,r|=8;break;case uv:return t=Ga(12,n,e,r|2),t.elementType=uv,t.lanes=s,t;case hv:return t=Ga(13,n,e,r),t.elementType=hv,t.lanes=s,t;case dv:return t=Ga(19,n,e,r),t.elementType=dv,t.lanes=s,t;case Tk:return K2(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pk:a=10;break e;case Lk:a=9;break e;case vb:a=11;break e;case bb:a=14;break e;case Uc:a=16,i=null;break e}throw Error(He(130,t==null?t:typeof t,""))}return e=Ga(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function wh(t,e,n,i){return t=Ga(7,t,i,e),t.lanes=n,t}function K2(t,e,n,i){return t=Ga(22,t,i,e),t.elementType=Tk,t.lanes=n,t.stateNode={isHidden:!1},t}function Wy(t,e,n){return t=Ga(6,t,null,e),t.lanes=n,t}function Ky(t,e,n){return e=Ga(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nR(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ay(0),this.expirationTimes=Ay(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ay(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function t3(t,e,n,i,r,s,a,o,l){return t=new nR(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ga(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ib(s),t}function iR(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bd,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function _C(t){if(!t)return uu;t=t._reactInternals;e:{if(Bh(t)!==t||t.tag!==1)throw Error(He(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(He(171))}if(t.tag===1){var n=t.type;if(zs(n))return _9(t,n,e)}return e}function SC(t,e,n,i,r,s,a,o,l){return t=t3(n,i,!0,t,r,s,a,o,l),t.context=_C(null),n=t.current,i=bs(),r=su(n),s=Ql(i,r),s.callback=e??null,iu(n,s,r),t.current.lanes=r,dg(t,r,i),Us(t,i),t}function X2(t,e,n,i){var r=e.current,s=bs(),a=su(r);return n=_C(n),e.context===null?e.context=n:e.pendingContext=n,e=Ql(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=iu(r,e,a),t!==null&&(Ao(t,r,a,s),o1(t,r,a)),a}function n2(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function q6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function n3(t,e){q6(t,e),(t=t.alternate)&&q6(t,e)}function rR(){return null}var NC=typeof reportError=="function"?reportError:function(t){console.error(t)};function i3(t){this._internalRoot=t}Y2.prototype.render=i3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(He(409));X2(t,e,null,null)};Y2.prototype.unmount=i3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Th(function(){X2(null,t,null,null)}),e[nc]=null}};function Y2(t){this._internalRoot=t}Y2.prototype.unstable_scheduleHydration=function(t){if(t){var e=t9();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$c.length&&e!==0&&e<$c[n].priority;n++);$c.splice(n,0,t),n===0&&i9(t)}};function r3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Q2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function W6(){}function sR(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=n2(a);s.call(c)}}var a=SC(e,i,t,0,null,!1,!1,"",W6);return t._reactRootContainer=a,t[nc]=a.current,Dp(t.nodeType===8?t.parentNode:t),Th(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var c=n2(l);o.call(c)}}var l=t3(t,0,!1,null,null,!1,!1,"",W6);return t._reactRootContainer=l,t[nc]=l.current,Dp(t.nodeType===8?t.parentNode:t),Th(function(){X2(e,l,n,i)}),l}function J2(t,e,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=n2(a);o.call(l)}}X2(e,a,t,r)}else a=sR(n,e,t,r,i);return n2(a)}Zk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Q0(e.pendingLanes);n!==0&&(Sb(e,n|1),Us(e,Di()),!(fn&6)&&(Nf=Di()+500,vu()))}break;case 13:Th(function(){var i=ic(t,1);if(i!==null){var r=bs();Ao(i,t,1,r)}}),n3(t,1)}};Nb=function(t){if(t.tag===13){var e=ic(t,134217728);if(e!==null){var n=bs();Ao(e,t,134217728,n)}n3(t,134217728)}};e9=function(t){if(t.tag===13){var e=su(t),n=ic(t,e);if(n!==null){var i=bs();Ao(n,t,e,i)}n3(t,e)}};t9=function(){return Ln};n9=function(t,e){var n=Ln;try{return Ln=t,e()}finally{Ln=n}};_v=function(t,e,n){switch(e){case"input":if(gv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=V2(i);if(!r)throw Error(He(90));Mk(i),gv(i,r)}}}break;case"textarea":Fk(t,n);break;case"select":e=n.value,e!=null&&af(t,!!n.multiple,e,!1)}};Vk=Qb;Hk=Th;var aR={usingClientEntryPoint:!1,Events:[pg,$d,V2,zk,Uk,Qb]},M0={findFiberByHostInstance:dh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oR={bundleType:M0.bundleType,version:M0.version,rendererPackageName:M0.rendererPackageName,rendererConfig:M0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ac.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qk(t),t===null?null:t.stateNode},findFiberByHostInstance:M0.findFiberByHostInstance||rR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xm.isDisabled&&xm.supportsFiber)try{I2=xm.inject(oR),cl=xm}catch{}}fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aR;fa.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r3(e))throw Error(He(200));return iR(t,e,null,n)};fa.createRoot=function(t,e){if(!r3(t))throw Error(He(299));var n=!1,i="",r=NC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=t3(t,1,!1,null,null,n,!1,i,r),t[nc]=e.current,Dp(t.nodeType===8?t.parentNode:t),new i3(e)};fa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(He(188)):(t=Object.keys(t).join(","),Error(He(268,t)));return t=qk(e),t=t===null?null:t.stateNode,t};fa.flushSync=function(t){return Th(t)};fa.hydrate=function(t,e,n){if(!Q2(e))throw Error(He(200));return J2(null,t,e,!0,n)};fa.hydrateRoot=function(t,e,n){if(!r3(t))throw Error(He(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",a=NC;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=SC(e,null,t,1,n??null,r,!1,s,a),t[nc]=e.current,Dp(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Y2(e)};fa.render=function(t,e,n){if(!Q2(e))throw Error(He(200));return J2(null,t,e,!1,n)};fa.unmountComponentAtNode=function(t){if(!Q2(t))throw Error(He(40));return t._reactRootContainer?(Th(function(){J2(null,null,t,!1,function(){t._reactRootContainer=null,t[nc]=null})}),!0):!1};fa.unstable_batchedUpdates=Qb;fa.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Q2(n))throw Error(He(200));if(t==null||t._reactInternals===void 0)throw Error(He(38));return J2(t,e,n,!1,i)};fa.version="18.3.1-next-f1338f8080-20240426";function kC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kC)}catch(t){console.error(t)}}kC(),kk.exports=fa;var lR=kk.exports,K6=lR;lv.createRoot=K6.createRoot,lv.hydrateRoot=K6.hydrateRoot;function CC(t,e){return function(){return t.apply(e,arguments)}}const{toString:cR}=Object.prototype,{getPrototypeOf:s3}=Object,{iterator:Z2,toStringTag:jC}=Symbol,e5=(t=>e=>{const n=cR.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mo=t=>(t=t.toLowerCase(),e=>e5(e)===t),t5=t=>e=>typeof e===t,{isArray:Bf}=Array,kf=t5("undefined");function mg(t){return t!==null&&!kf(t)&&t.constructor!==null&&!kf(t.constructor)&&Vs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const AC=Mo("ArrayBuffer");function uR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&AC(t.buffer),e}const hR=t5("string"),Vs=t5("function"),PC=t5("number"),yg=t=>t!==null&&typeof t=="object",dR=t=>t===!0||t===!1,p1=t=>{if(e5(t)!=="object")return!1;const e=s3(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(jC in t)&&!(Z2 in t)},fR=t=>{if(!yg(t)||mg(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},pR=Mo("Date"),gR=Mo("File"),mR=Mo("Blob"),yR=Mo("FileList"),xR=t=>yg(t)&&Vs(t.pipe),vR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Vs(t.append)&&((e=e5(t))==="formdata"||e==="object"&&Vs(t.toString)&&t.toString()==="[object FormData]"))},bR=Mo("URLSearchParams"),[wR,_R,SR,NR]=["ReadableStream","Request","Response","Headers"].map(Mo),kR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xg(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Bf(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(mg(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(i=0;i<a;i++)o=s[i],e.call(null,t[o],o,t)}}function LC(t,e){if(mg(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const gh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,TC=t=>!kf(t)&&t!==gh;function t4(){const{caseless:t,skipUndefined:e}=TC(this)&&this||{},n={},i=(r,s)=>{const a=t&&LC(n,s)||s;p1(n[a])&&p1(r)?n[a]=t4(n[a],r):p1(r)?n[a]=t4({},r):Bf(r)?n[a]=r.slice():(!e||!kf(r))&&(n[a]=r)};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&xg(arguments[r],i);return n}const CR=(t,e,n,{allOwnKeys:i}={})=>(xg(e,(r,s)=>{n&&Vs(r)?t[s]=CC(r,n):t[s]=r},{allOwnKeys:i}),t),jR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),AR=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},PR=(t,e,n,i)=>{let r,s,a;const o={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)a=r[s],(!i||i(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&s3(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},LR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},TR=t=>{if(!t)return null;if(Bf(t))return t;let e=t.length;if(!PC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},ER=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&s3(Uint8Array)),MR=(t,e)=>{const i=(t&&t[Z2]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},RR=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},FR=Mo("HTMLFormElement"),DR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),X6=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),OR=Mo("RegExp"),EC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};xg(n,(r,s)=>{let a;(a=e(r,s,t))!==!1&&(i[s]=a||r)}),Object.defineProperties(t,i)},IR=t=>{EC(t,(e,n)=>{if(Vs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Vs(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},BR=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return Bf(t)?i(t):i(String(t).split(e)),n},zR=()=>{},UR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function VR(t){return!!(t&&Vs(t.append)&&t[jC]==="FormData"&&t[Z2])}const HR=t=>{const e=new Array(10),n=(i,r)=>{if(yg(i)){if(e.indexOf(i)>=0)return;if(mg(i))return i;if(!("toJSON"in i)){e[r]=i;const s=Bf(i)?[]:{};return xg(i,(a,o)=>{const l=n(a,r+1);!kf(l)&&(s[o]=l)}),e[r]=void 0,s}}return i};return n(t,0)},$R=Mo("AsyncFunction"),GR=t=>t&&(yg(t)||Vs(t))&&Vs(t.then)&&Vs(t.catch),MC=((t,e)=>t?setImmediate:e?((n,i)=>(gh.addEventListener("message",({source:r,data:s})=>{r===gh&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),gh.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Vs(gh.postMessage)),qR=typeof queueMicrotask<"u"?queueMicrotask.bind(gh):typeof process<"u"&&process.nextTick||MC,WR=t=>t!=null&&Vs(t[Z2]),Pe={isArray:Bf,isArrayBuffer:AC,isBuffer:mg,isFormData:vR,isArrayBufferView:uR,isString:hR,isNumber:PC,isBoolean:dR,isObject:yg,isPlainObject:p1,isEmptyObject:fR,isReadableStream:wR,isRequest:_R,isResponse:SR,isHeaders:NR,isUndefined:kf,isDate:pR,isFile:gR,isBlob:mR,isRegExp:OR,isFunction:Vs,isStream:xR,isURLSearchParams:bR,isTypedArray:ER,isFileList:yR,forEach:xg,merge:t4,extend:CR,trim:kR,stripBOM:jR,inherits:AR,toFlatObject:PR,kindOf:e5,kindOfTest:Mo,endsWith:LR,toArray:TR,forEachEntry:MR,matchAll:RR,isHTMLForm:FR,hasOwnProperty:X6,hasOwnProp:X6,reduceDescriptors:EC,freezeMethods:IR,toObjectSet:BR,toCamelCase:DR,noop:zR,toFiniteNumber:UR,findKey:LC,global:gh,isContextDefined:TC,isSpecCompliantForm:VR,toJSONObject:HR,isAsyncFn:$R,isThenable:GR,setImmediate:MC,asap:qR,isIterable:WR};function Vt(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Pe.inherits(Vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const RC=Vt.prototype,FC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{FC[t]={value:t}});Object.defineProperties(Vt,FC);Object.defineProperty(RC,"isAxiosError",{value:!0});Vt.from=(t,e,n,i,r,s)=>{const a=Object.create(RC);Pe.toFlatObject(t,a,function(h){return h!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Vt.call(a,o,l,n,i,r),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const KR=null;function n4(t){return Pe.isPlainObject(t)||Pe.isArray(t)}function DC(t){return Pe.endsWith(t,"[]")?t.slice(0,-2):t}function Y6(t,e,n){return t?t.concat(e).map(function(r,s){return r=DC(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function XR(t){return Pe.isArray(t)&&!t.some(n4)}const YR=Pe.toFlatObject(Pe,{},null,function(e){return/^is[A-Z]/.test(e)});function n5(t,e,n){if(!Pe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,S){return!Pe.isUndefined(S[b])});const i=n.metaTokens,r=n.visitor||h,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(e);if(!Pe.isFunction(r))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(Pe.isDate(x))return x.toISOString();if(Pe.isBoolean(x))return x.toString();if(!l&&Pe.isBlob(x))throw new Vt("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(x)||Pe.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,b,S){let N=x;if(x&&!S&&typeof x=="object"){if(Pe.endsWith(b,"{}"))b=i?b:b.slice(0,-2),x=JSON.stringify(x);else if(Pe.isArray(x)&&XR(x)||(Pe.isFileList(x)||Pe.endsWith(b,"[]"))&&(N=Pe.toArray(x)))return b=DC(b),N.forEach(function(w,k){!(Pe.isUndefined(w)||w===null)&&e.append(a===!0?Y6([b],k,s):a===null?b:b+"[]",c(w))}),!1}return n4(x)?!0:(e.append(Y6(S,b,s),c(x)),!1)}const g=[],m=Object.assign(YR,{defaultVisitor:h,convertValue:c,isVisitable:n4});function p(x,b){if(!Pe.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+b.join("."));g.push(x),Pe.forEach(x,function(N,j){(!(Pe.isUndefined(N)||N===null)&&r.call(e,N,Pe.isString(j)?j.trim():j,b,m))===!0&&p(N,b?b.concat(j):[j])}),g.pop()}}if(!Pe.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Q6(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function a3(t,e){this._pairs=[],t&&n5(t,this,e)}const OC=a3.prototype;OC.append=function(e,n){this._pairs.push([e,n])};OC.toString=function(e){const n=e?function(i){return e.call(this,i,Q6)}:Q6;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function QR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function IC(t,e,n){if(!e)return t;const i=n&&n.encode||QR;Pe.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=Pe.isURLSearchParams(e)?e.toString():new a3(e,n).toString(i),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class J6{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pe.forEach(this.handlers,function(i){i!==null&&e(i)})}}const BC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JR=typeof URLSearchParams<"u"?URLSearchParams:a3,ZR=typeof FormData<"u"?FormData:null,eF=typeof Blob<"u"?Blob:null,tF={isBrowser:!0,classes:{URLSearchParams:JR,FormData:ZR,Blob:eF},protocols:["http","https","file","blob","url","data"]},o3=typeof window<"u"&&typeof document<"u",i4=typeof navigator=="object"&&navigator||void 0,nF=o3&&(!i4||["ReactNative","NativeScript","NS"].indexOf(i4.product)<0),iF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rF=o3&&window.location.href||"http://localhost",sF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:o3,hasStandardBrowserEnv:nF,hasStandardBrowserWebWorkerEnv:iF,navigator:i4,origin:rF},Symbol.toStringTag,{value:"Module"})),ss={...sF,...tF};function aF(t,e){return n5(t,new ss.classes.URLSearchParams,{visitor:function(n,i,r,s){return ss.isNode&&Pe.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function oF(t){return Pe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function lF(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function zC(t){function e(n,i,r,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&Pe.isArray(r)?r.length:a,l?(Pe.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!o):((!r[a]||!Pe.isObject(r[a]))&&(r[a]=[]),e(n,i,r[a],s)&&Pe.isArray(r[a])&&(r[a]=lF(r[a])),!o)}if(Pe.isFormData(t)&&Pe.isFunction(t.entries)){const n={};return Pe.forEachEntry(t,(i,r)=>{e(oF(i),r,n,0)}),n}return null}function cF(t,e,n){if(Pe.isString(t))try{return(e||JSON.parse)(t),Pe.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const vg={transitional:BC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=Pe.isObject(e);if(s&&Pe.isHTMLForm(e)&&(e=new FormData(e)),Pe.isFormData(e))return r?JSON.stringify(zC(e)):e;if(Pe.isArrayBuffer(e)||Pe.isBuffer(e)||Pe.isStream(e)||Pe.isFile(e)||Pe.isBlob(e)||Pe.isReadableStream(e))return e;if(Pe.isArrayBufferView(e))return e.buffer;if(Pe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return aF(e,this.formSerializer).toString();if((o=Pe.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return n5(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),cF(e)):e}],transformResponse:[function(e){const n=this.transitional||vg.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(Pe.isResponse(e)||Pe.isReadableStream(e))return e;if(e&&Pe.isString(e)&&(i&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Vt.from(o,Vt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ss.classes.FormData,Blob:ss.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],t=>{vg.headers[t]={}});const uF=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hF=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!n||e[n]&&uF[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Z6=Symbol("internals");function R0(t){return t&&String(t).trim().toLowerCase()}function g1(t){return t===!1||t==null?t:Pe.isArray(t)?t.map(g1):String(t)}function dF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const fF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Xy(t,e,n,i,r){if(Pe.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!Pe.isString(e)){if(Pe.isString(i))return e.indexOf(i)!==-1;if(Pe.isRegExp(i))return i.test(e)}}function pF(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function gF(t,e){const n=Pe.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,a){return this[i].call(this,e,r,s,a)},configurable:!0})})}let Hs=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(o,l,c){const h=R0(l);if(!h)throw new Error("header name must be a non-empty string");const g=Pe.findKey(r,h);(!g||r[g]===void 0||c===!0||c===void 0&&r[g]!==!1)&&(r[g||l]=g1(o))}const a=(o,l)=>Pe.forEach(o,(c,h)=>s(c,h,l));if(Pe.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Pe.isString(e)&&(e=e.trim())&&!fF(e))a(hF(e),n);else if(Pe.isObject(e)&&Pe.isIterable(e)){let o={},l,c;for(const h of e){if(!Pe.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[c=h[0]]=(l=o[c])?Pe.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}a(o,n)}else e!=null&&s(n,e,i);return this}get(e,n){if(e=R0(e),e){const i=Pe.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return dF(r);if(Pe.isFunction(n))return n.call(this,r,i);if(Pe.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=R0(e),e){const i=Pe.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Xy(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(a){if(a=R0(a),a){const o=Pe.findKey(i,a);o&&(!n||Xy(i,i[o],o,n))&&(delete i[o],r=!0)}}return Pe.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||Xy(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return Pe.forEach(this,(r,s)=>{const a=Pe.findKey(i,s);if(a){n[a]=g1(r),delete n[s];return}const o=e?pF(s):String(s).trim();o!==s&&delete n[s],n[o]=g1(r),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Pe.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&Pe.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Z6]=this[Z6]={accessors:{}}).accessors,r=this.prototype;function s(a){const o=R0(a);i[o]||(gF(r,a),i[o]=!0)}return Pe.isArray(e)?e.forEach(s):s(e),this}};Hs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Hs.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Pe.freezeMethods(Hs);function Yy(t,e){const n=this||vg,i=e||n,r=Hs.from(i.headers);let s=i.data;return Pe.forEach(t,function(o){s=o.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function UC(t){return!!(t&&t.__CANCEL__)}function zf(t,e,n){Vt.call(this,t??"canceled",Vt.ERR_CANCELED,e,n),this.name="CanceledError"}Pe.inherits(zf,Vt,{__CANCEL__:!0});function VC(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Vt("Request failed with status code "+n.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function yF(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=i[s];a||(a=c),n[r]=l,i[r]=c;let g=s,m=0;for(;g!==r;)m+=n[g++],g=g%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-a<e)return;const p=h&&c-h;return p?Math.round(m*1e3/p):void 0}}function xF(t,e){let n=0,i=1e3/e,r,s;const a=(c,h=Date.now())=>{n=h,r=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const h=Date.now(),g=h-n;g>=i?a(c,h):(r=c,s||(s=setTimeout(()=>{s=null,a(r)},i-g)))},()=>r&&a(r)]}const i2=(t,e,n=3)=>{let i=0;const r=yF(50,250);return xF(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-i,c=r(l),h=a<=o;i=a;const g={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&h?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(g)},n)},e_=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},t_=t=>(...e)=>Pe.asap(()=>t(...e)),vF=ss.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ss.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ss.origin),ss.navigator&&/(msie|trident)/i.test(ss.navigator.userAgent)):()=>!0,bF=ss.hasStandardBrowserEnv?{write(t,e,n,i,r,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];Pe.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),Pe.isString(i)&&o.push(`path=${i}`),Pe.isString(r)&&o.push(`domain=${r}`),s===!0&&o.push("secure"),Pe.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function wF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _F(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function HC(t,e,n){let i=!wF(e);return t&&(i||n==!1)?_F(t,e):e}const n_=t=>t instanceof Hs?{...t}:t;function Eh(t,e){e=e||{};const n={};function i(c,h,g,m){return Pe.isPlainObject(c)&&Pe.isPlainObject(h)?Pe.merge.call({caseless:m},c,h):Pe.isPlainObject(h)?Pe.merge({},h):Pe.isArray(h)?h.slice():h}function r(c,h,g,m){if(Pe.isUndefined(h)){if(!Pe.isUndefined(c))return i(void 0,c,g,m)}else return i(c,h,g,m)}function s(c,h){if(!Pe.isUndefined(h))return i(void 0,h)}function a(c,h){if(Pe.isUndefined(h)){if(!Pe.isUndefined(c))return i(void 0,c)}else return i(void 0,h)}function o(c,h,g){if(g in e)return i(c,h);if(g in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,h,g)=>r(n_(c),n_(h),g,!0)};return Pe.forEach(Object.keys({...t,...e}),function(h){const g=l[h]||r,m=g(t[h],e[h],h);Pe.isUndefined(m)&&g!==o||(n[h]=m)}),n}const $C=t=>{const e=Eh({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=Hs.from(a),e.url=IC(HC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Pe.isFormData(n)){if(ss.hasStandardBrowserEnv||ss.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Pe.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([h,g])=>{c.includes(h.toLowerCase())&&a.set(h,g)})}}if(ss.hasStandardBrowserEnv&&(i&&Pe.isFunction(i)&&(i=i(e)),i||i!==!1&&vF(e.url))){const l=r&&s&&bF.read(s);l&&a.set(r,l)}return e},SF=typeof XMLHttpRequest<"u",NF=SF&&function(t){return new Promise(function(n,i){const r=$C(t);let s=r.data;const a=Hs.from(r.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=r,h,g,m,p,x;function b(){p&&p(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(h),r.signal&&r.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function N(){if(!S)return;const w=Hs.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:w,config:t,request:S};VC(function(U){n(U),b()},function(U){i(U),b()},E),S=null}"onloadend"in S?S.onloadend=N:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(N)},S.onabort=function(){S&&(i(new Vt("Request aborted",Vt.ECONNABORTED,t,S)),S=null)},S.onerror=function(k){const E=k&&k.message?k.message:"Network Error",O=new Vt(E,Vt.ERR_NETWORK,t,S);O.event=k||null,i(O),S=null},S.ontimeout=function(){let k=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const E=r.transitional||BC;r.timeoutErrorMessage&&(k=r.timeoutErrorMessage),i(new Vt(k,E.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,t,S)),S=null},s===void 0&&a.setContentType(null),"setRequestHeader"in S&&Pe.forEach(a.toJSON(),function(k,E){S.setRequestHeader(E,k)}),Pe.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),o&&o!=="json"&&(S.responseType=r.responseType),c&&([m,x]=i2(c,!0),S.addEventListener("progress",m)),l&&S.upload&&([g,p]=i2(l),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(h=w=>{S&&(i(!w||w.type?new zf(null,t,S):w),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(h),r.signal&&(r.signal.aborted?h():r.signal.addEventListener("abort",h)));const j=mF(r.url);if(j&&ss.protocols.indexOf(j)===-1){i(new Vt("Unsupported protocol "+j+":",Vt.ERR_BAD_REQUEST,t));return}S.send(s||null)})},kF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,o();const h=c instanceof Error?c:this.reason;i.abort(h instanceof Vt?h:new zf(h instanceof Error?h.message:h))}};let a=e&&setTimeout(()=>{a=null,s(new Vt(`timeout ${e} of ms exceeded`,Vt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>Pe.asap(o),l}},CF=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},jF=async function*(t,e){for await(const n of AF(t))yield*CF(n,e)},AF=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},i_=(t,e,n,i)=>{const r=jF(t,e);let s=0,a,o=l=>{a||(a=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:h}=await r.next();if(c){o(),l.close();return}let g=h.byteLength;if(n){let m=s+=g;n(m)}l.enqueue(new Uint8Array(h))}catch(c){throw o(c),c}},cancel(l){return o(l),r.return()}},{highWaterMark:2})},r_=64*1024,{isFunction:vm}=Pe,PF=(({Request:t,Response:e})=>({Request:t,Response:e}))(Pe.global),{ReadableStream:s_,TextEncoder:a_}=Pe.global,o_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},LF=t=>{t=Pe.merge.call({skipUndefined:!0},PF,t);const{fetch:e,Request:n,Response:i}=t,r=e?vm(e):typeof fetch=="function",s=vm(n),a=vm(i);if(!r)return!1;const o=r&&vm(s_),l=r&&(typeof a_=="function"?(x=>b=>x.encode(b))(new a_):async x=>new Uint8Array(await new n(x).arrayBuffer())),c=s&&o&&o_(()=>{let x=!1;const b=new n(ss.origin,{body:new s_,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!b}),h=a&&o&&o_(()=>Pe.isReadableStream(new i("").body)),g={stream:h&&(x=>x.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!g[x]&&(g[x]=(b,S)=>{let N=b&&b[x];if(N)return N.call(b);throw new Vt(`Response type '${x}' is not supported`,Vt.ERR_NOT_SUPPORT,S)})});const m=async x=>{if(x==null)return 0;if(Pe.isBlob(x))return x.size;if(Pe.isSpecCompliantForm(x))return(await new n(ss.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(x)||Pe.isArrayBuffer(x))return x.byteLength;if(Pe.isURLSearchParams(x)&&(x=x+""),Pe.isString(x))return(await l(x)).byteLength},p=async(x,b)=>{const S=Pe.toFiniteNumber(x.getContentLength());return S??m(b)};return async x=>{let{url:b,method:S,data:N,signal:j,cancelToken:w,timeout:k,onDownloadProgress:E,onUploadProgress:O,responseType:U,headers:M,withCredentials:I="same-origin",fetchOptions:F}=$C(x),P=e||fetch;U=U?(U+"").toLowerCase():"text";let R=kF([j,w&&w.toAbortSignal()],k),$=null;const G=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let ee;try{if(O&&c&&S!=="get"&&S!=="head"&&(ee=await p(M,N))!==0){let Y=new n(b,{method:"POST",body:N,duplex:"half"}),B;if(Pe.isFormData(N)&&(B=Y.headers.get("content-type"))&&M.setContentType(B),Y.body){const[K,ie]=e_(ee,i2(t_(O)));N=i_(Y.body,r_,K,ie)}}Pe.isString(I)||(I=I?"include":"omit");const ce=s&&"credentials"in n.prototype,pe={...F,signal:R,method:S.toUpperCase(),headers:M.normalize().toJSON(),body:N,duplex:"half",credentials:ce?I:void 0};$=s&&new n(b,pe);let Z=await(s?P($,F):P(b,pe));const te=h&&(U==="stream"||U==="response");if(h&&(E||te&&G)){const Y={};["status","statusText","headers"].forEach(ue=>{Y[ue]=Z[ue]});const B=Pe.toFiniteNumber(Z.headers.get("content-length")),[K,ie]=E&&e_(B,i2(t_(E),!0))||[];Z=new i(i_(Z.body,r_,K,()=>{ie&&ie(),G&&G()}),Y)}U=U||"text";let he=await g[Pe.findKey(g,U)||"text"](Z,x);return!te&&G&&G(),await new Promise((Y,B)=>{VC(Y,B,{data:he,headers:Hs.from(Z.headers),status:Z.status,statusText:Z.statusText,config:x,request:$})})}catch(ce){throw G&&G(),ce&&ce.name==="TypeError"&&/Load failed|fetch/i.test(ce.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,x,$),{cause:ce.cause||ce}):Vt.from(ce,ce&&ce.code,x,$)}}},TF=new Map,GC=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:r}=e,s=[i,r,n];let a=s.length,o=a,l,c,h=TF;for(;o--;)l=s[o],c=h.get(l),c===void 0&&h.set(l,c=o?new Map:LF(e)),h=c;return c};GC();const l3={http:KR,xhr:NF,fetch:{get:GC}};Pe.forEach(l3,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const l_=t=>`- ${t}`,EF=t=>Pe.isFunction(t)||t===null||t===!1;function MF(t,e){t=Pe.isArray(t)?t:[t];const{length:n}=t;let i,r;const s={};for(let a=0;a<n;a++){i=t[a];let o;if(r=i,!EF(i)&&(r=l3[(o=String(i)).toLowerCase()],r===void 0))throw new Vt(`Unknown adapter '${o}'`);if(r&&(Pe.isFunction(r)||(r=r.get(e))))break;s[o||"#"+a]=r}if(!r){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(l_).join(`
`):" "+l_(a[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r}const qC={getAdapter:MF,adapters:l3};function Qy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zf(null,t)}function c_(t){return Qy(t),t.headers=Hs.from(t.headers),t.data=Yy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),qC.getAdapter(t.adapter||vg.adapter,t)(t).then(function(i){return Qy(t),i.data=Yy.call(t,t.transformResponse,i),i.headers=Hs.from(i.headers),i},function(i){return UC(i)||(Qy(t),i&&i.response&&(i.response.data=Yy.call(t,t.transformResponse,i.response),i.response.headers=Hs.from(i.response.headers))),Promise.reject(i)})}const WC="1.13.2",i5={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{i5[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const u_={};i5.transitional=function(e,n,i){function r(s,a){return"[Axios v"+WC+"] Transitional option '"+s+"'"+a+(i?". "+i:"")}return(s,a,o)=>{if(e===!1)throw new Vt(r(a," has been removed"+(n?" in "+n:"")),Vt.ERR_DEPRECATED);return n&&!u_[a]&&(u_[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};i5.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function RF(t,e,n){if(typeof t!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Vt("option "+s+" must be "+l,Vt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Vt("Unknown option "+s,Vt.ERR_BAD_OPTION)}}const m1={assertOptions:RF,validators:i5},Jo=m1.validators;let _h=class{constructor(e){this.defaults=e||{},this.interceptors={request:new J6,response:new J6}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Eh(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&m1.assertOptions(i,{silentJSONParsing:Jo.transitional(Jo.boolean),forcedJSONParsing:Jo.transitional(Jo.boolean),clarifyTimeoutError:Jo.transitional(Jo.boolean)},!1),r!=null&&(Pe.isFunction(r)?n.paramsSerializer={serialize:r}:m1.assertOptions(r,{encode:Jo.function,serialize:Jo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),m1.assertOptions(n,{baseUrl:Jo.spelling("baseURL"),withXsrfToken:Jo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&Pe.merge(s.common,s[n.method]);s&&Pe.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),n.headers=Hs.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let h,g=0,m;if(!l){const x=[c_.bind(this),void 0];for(x.unshift(...o),x.push(...c),m=x.length,h=Promise.resolve(n);g<m;)h=h.then(x[g++],x[g++]);return h}m=o.length;let p=n;for(;g<m;){const x=o[g++],b=o[g++];try{p=x(p)}catch(S){b.call(this,S);break}}try{h=c_.call(this,p)}catch(x){return Promise.reject(x)}for(g=0,m=c.length;g<m;)h=h.then(c[g++],c[g++]);return h}getUri(e){e=Eh(this.defaults,e);const n=HC(e.baseURL,e.url,e.allowAbsoluteUrls);return IC(n,e.params,e.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(e){_h.prototype[e]=function(n,i){return this.request(Eh(i||{},{method:e,url:n,data:(i||{}).data}))}});Pe.forEach(["post","put","patch"],function(e){function n(i){return function(s,a,o){return this.request(Eh(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}_h.prototype[e]=n(),_h.prototype[e+"Form"]=n(!0)});let FF=class KC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const a=new Promise(o=>{i.subscribe(o),s=o}).then(r);return a.cancel=function(){i.unsubscribe(s)},a},e(function(s,a,o){i.reason||(i.reason=new zf(s,a,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new KC(function(r){e=r}),cancel:e}}};function DF(t){return function(n){return t.apply(null,n)}}function OF(t){return Pe.isObject(t)&&t.isAxiosError===!0}const r4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(r4).forEach(([t,e])=>{r4[e]=t});function XC(t){const e=new _h(t),n=CC(_h.prototype.request,e);return Pe.extend(n,_h.prototype,e,{allOwnKeys:!0}),Pe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return XC(Eh(t,r))},n}const ei=XC(vg);ei.Axios=_h;ei.CanceledError=zf;ei.CancelToken=FF;ei.isCancel=UC;ei.VERSION=WC;ei.toFormData=n5;ei.AxiosError=Vt;ei.Cancel=ei.CanceledError;ei.all=function(e){return Promise.all(e)};ei.spread=DF;ei.isAxiosError=OF;ei.mergeConfig=Eh;ei.AxiosHeaders=Hs;ei.formToJSON=t=>zC(Pe.isHTMLForm(t)?new FormData(t):t);ei.getAdapter=qC.getAdapter;ei.HttpStatusCode=r4;ei.default=ei;const{Axios:_ne,AxiosError:Sne,CanceledError:Nne,isCancel:kne,CancelToken:Cne,VERSION:jne,all:Ane,Cancel:Pne,isAxiosError:Lne,spread:Tne,toFormData:Ene,AxiosHeaders:Mne,HttpStatusCode:Rne,formToJSON:Fne,getAdapter:Dne,mergeConfig:One}=ei;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gp.apply(this,arguments)}var Kc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kc||(Kc={}));const h_="popstate";function IF(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return s4("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:r2(r)}return zF(e,n,null,t)}function ji(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BF(){return Math.random().toString(36).substr(2,8)}function d_(t,e){return{usr:t.state,key:t.key,idx:e}}function s4(t,e,n,i){return n===void 0&&(n=null),Gp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Uf(e):e,{state:n,key:e&&e.key||i||BF()})}function r2(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Uf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function zF(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o=Kc.Pop,l=null,c=h();c==null&&(c=0,a.replaceState(Gp({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function g(){o=Kc.Pop;let S=h(),N=S==null?null:S-c;c=S,l&&l({action:o,location:b.location,delta:N})}function m(S,N){o=Kc.Push;let j=s4(b.location,S,N);c=h()+1;let w=d_(j,c),k=b.createHref(j);try{a.pushState(w,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(k)}s&&l&&l({action:o,location:b.location,delta:1})}function p(S,N){o=Kc.Replace;let j=s4(b.location,S,N);c=h();let w=d_(j,c),k=b.createHref(j);a.replaceState(w,"",k),s&&l&&l({action:o,location:b.location,delta:0})}function x(S){let N=r.location.origin!=="null"?r.location.origin:r.location.href,j=typeof S=="string"?S:r2(S);return j=j.replace(/ $/,"%20"),ji(N,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,N)}let b={get action(){return o},get location(){return t(r,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(h_,g),l=S,()=>{r.removeEventListener(h_,g),l=null}},createHref(S){return e(r,S)},createURL:x,encodeLocation(S){let N=x(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:p,go(S){return a.go(S)}};return b}var f_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(f_||(f_={}));function UF(t,e,n){return n===void 0&&(n="/"),VF(t,e,n)}function VF(t,e,n,i){let r=typeof e=="string"?Uf(e):e,s=Cf(r.pathname||"/",n);if(s==null)return null;let a=QC(t);HF(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=eD(s);o=JF(a[l],c)}return o}function QC(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(ji(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=ou([i,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(ji(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),QC(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:YF(c,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let l of JC(s.path))r(s,a,l)}),e}function JC(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=JC(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function HF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QF(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const $F=/^:[\w-]+$/,GF=3,qF=2,WF=1,KF=10,XF=-2,p_=t=>t==="*";function YF(t,e){let n=t.split("/"),i=n.length;return n.some(p_)&&(i+=XF),e&&(i+=qF),n.filter(r=>!p_(r)).reduce((r,s)=>r+($F.test(s)?GF:s===""?WF:KF),i)}function QF(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function JF(t,e,n){let{routesMeta:i}=t,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",g=a4({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),m=l.route;if(!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:ou([s,g.pathname]),pathnameBase:rD(ou([s,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(s=ou([s,g.pathnameBase]))}return a}function a4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=ZF(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((c,h,g)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let b=o[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[g];return p&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function ZF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),YC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function eD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return YC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function tD(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Uf(t):t;return{pathname:n?n.startsWith("/")?n:nD(n,e):e,search:sD(i),hash:aD(r)}}function nD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Jy(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZC(t,e){let n=iD(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function ej(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Uf(t):(r=Gp({},t),ji(!r.pathname||!r.pathname.includes("?"),Jy("?","pathname","search",r)),ji(!r.pathname||!r.pathname.includes("#"),Jy("#","pathname","hash",r)),ji(!r.search||!r.search.includes("#"),Jy("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),g-=1;r.pathname=m.join("/")}o=g>=0?e[g]:"/"}let l=tD(r,o),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const ou=t=>t.join("/").replace(/\/\/+/g,"/"),rD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tj=["post","put","patch","delete"];new Set(tj);const lD=["get",...tj];new Set(lD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qp(){return qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},qp.apply(this,arguments)}const r5=Q.createContext(null),nj=Q.createContext(null),bu=Q.createContext(null),s5=Q.createContext(null),wu=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),ij=Q.createContext(null);function cD(t,e){let{relative:n}=e===void 0?{}:e;bg()||ji(!1);let{basename:i,navigator:r}=Q.useContext(bu),{hash:s,pathname:a,search:o}=a5(t,{relative:n}),l=a;return i!=="/"&&(l=a==="/"?i:ou([i,a])),r.createHref({pathname:l,search:o,hash:s})}function bg(){return Q.useContext(s5)!=null}function _u(){return bg()||ji(!1),Q.useContext(s5).location}function rj(t){Q.useContext(bu).static||Q.useLayoutEffect(t)}function ga(){let{isDataRoute:t}=Q.useContext(wu);return t?_D():uD()}function uD(){bg()||ji(!1);let t=Q.useContext(r5),{basename:e,future:n,navigator:i}=Q.useContext(bu),{matches:r}=Q.useContext(wu),{pathname:s}=_u(),a=JSON.stringify(ZC(r,n.v7_relativeSplatPath)),o=Q.useRef(!1);return rj(()=>{o.current=!0}),Q.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){i.go(c);return}let g=ej(c,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ou([e,g.pathname])),(h.replace?i.replace:i.push)(g,h.state,h)},[e,i,a,s,t])}function c3(){let{matches:t}=Q.useContext(wu),e=t[t.length-1];return e?e.params:{}}function a5(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=Q.useContext(bu),{matches:r}=Q.useContext(wu),{pathname:s}=_u(),a=JSON.stringify(ZC(r,i.v7_relativeSplatPath));return Q.useMemo(()=>ej(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function hD(t,e){return dD(t,e)}function dD(t,e,n,i){bg()||ji(!1);let{navigator:r}=Q.useContext(bu),{matches:s}=Q.useContext(wu),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=_u(),h;if(e){var g;let S=typeof e=="string"?Uf(e):e;l==="/"||(g=S.pathname)!=null&&g.startsWith(l)||ji(!1),h=S}else h=c;let m=h.pathname||"/",p=m;if(l!=="/"){let S=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=UF(t,{pathname:p}),b=yD(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:ou([l,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:ou([l,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,i);return e&&b?Q.createElement(s5.Provider,{value:{location:qp({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Kc.Pop}},b):b}function fD(){let t=wD(),e=oD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:r},n):null,null)}const pD=Q.createElement(fD,null);class gD extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Q.createElement(wu.Provider,{value:this.props.routeContext},Q.createElement(ij.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mD(t){let{routeContext:e,match:n,children:i}=t,r=Q.useContext(r5);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(wu.Provider,{value:e},i)}function yD(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let h=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);h>=0||ji(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<a.length;h++){let g=a[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=h),g.route.id){let{loaderData:m,errors:p}=n,x=g.route.loader&&m[g.route.id]===void 0&&(!p||p[g.route.id]===void 0);if(g.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,g,m)=>{let p,x=!1,b=null,S=null;n&&(p=o&&g.route.id?o[g.route.id]:void 0,b=g.route.errorElement||pD,l&&(c<0&&m===0?(SD("route-fallback"),x=!0,S=null):c===m&&(x=!0,S=g.route.hydrateFallbackElement||null)));let N=e.concat(a.slice(0,m+1)),j=()=>{let w;return p?w=b:x?w=S:g.route.Component?w=Q.createElement(g.route.Component,null):g.route.element?w=g.route.element:w=h,Q.createElement(mD,{match:g,routeContext:{outlet:h,matches:N,isDataRoute:n!=null},children:w})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?Q.createElement(gD,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):j()},null)}var sj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sj||{}),aj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(aj||{});function xD(t){let e=Q.useContext(r5);return e||ji(!1),e}function vD(t){let e=Q.useContext(nj);return e||ji(!1),e}function bD(t){let e=Q.useContext(wu);return e||ji(!1),e}function oj(t){let e=bD(),n=e.matches[e.matches.length-1];return n.route.id||ji(!1),n.route.id}function wD(){var t;let e=Q.useContext(ij),n=vD(),i=oj();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function _D(){let{router:t}=xD(sj.UseNavigateStable),e=oj(aj.UseNavigateStable),n=Q.useRef(!1);return rj(()=>{n.current=!0}),Q.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,qp({fromRouteId:e},s)))},[t,e])}const g_={};function SD(t,e,n){g_[t]||(g_[t]=!0)}function ND(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Mr(t){ji(!1)}function kD(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Kc.Pop,navigator:s,static:a=!1,future:o}=t;bg()&&ji(!1);let l=e.replace(/^\/*/,"/"),c=Q.useMemo(()=>({basename:l,navigator:s,static:a,future:qp({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=Uf(i));let{pathname:h="/",search:g="",hash:m="",state:p=null,key:x="default"}=i,b=Q.useMemo(()=>{let S=Cf(h,l);return S==null?null:{location:{pathname:S,search:g,hash:m,state:p,key:x},navigationType:r}},[l,h,g,m,p,x,r]);return b==null?null:Q.createElement(bu.Provider,{value:c},Q.createElement(s5.Provider,{children:n,value:b}))}function CD(t){let{children:e,location:n}=t;return hD(o4(e),n)}new Promise(()=>{});function o4(t,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(t,(i,r)=>{if(!Q.isValidElement(i))return;let s=[...e,r];if(i.type===Q.Fragment){n.push.apply(n,o4(i.props.children,s));return}i.type!==Mr&&ji(!1),!i.props.index||!i.props.children||ji(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=o4(i.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s2.apply(this,arguments)}function lj(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function jD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AD(t,e){return t.button===0&&(!e||e==="_self")&&!jD(t)}function l4(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(r=>[n,r]):[[n,i]])},[]))}function PD(t,e){let n=l4(t);return e&&e.forEach((i,r)=>{n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)})}),n}const LD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ED="6";try{window.__reactRouterVersion=ED}catch{}const MD=Q.createContext({isTransitioning:!1}),RD="startTransition",m_=JT[RD];function FD(t){let{basename:e,children:n,future:i,window:r}=t,s=Q.useRef();s.current==null&&(s.current=IF({window:r,v5Compat:!0}));let a=s.current,[o,l]=Q.useState({action:a.action,location:a.location}),{v7_startTransition:c}=i||{},h=Q.useCallback(g=>{c&&m_?m_(()=>l(g)):l(g)},[l,c]);return Q.useLayoutEffect(()=>a.listen(h),[a,h]),Q.useEffect(()=>ND(i),[i]),Q.createElement(kD,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:i})}const DD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zn=Q.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:h,viewTransition:g}=e,m=lj(e,LD),{basename:p}=Q.useContext(bu),x,b=!1;if(typeof c=="string"&&OD.test(c)&&(x=c,DD))try{let w=new URL(window.location.href),k=c.startsWith("//")?new URL(w.protocol+c):new URL(c),E=Cf(k.pathname,p);k.origin===w.origin&&E!=null?c=E+k.search+k.hash:b=!0}catch{}let S=cD(c,{relative:r}),N=BD(c,{replace:a,state:o,target:l,preventScrollReset:h,relative:r,viewTransition:g});function j(w){i&&i(w),w.defaultPrevented||N(w)}return Q.createElement("a",s2({},m,{href:x||S,onClick:b||s?i:j,ref:n,target:l}))}),kd=Q.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:h}=e,g=lj(e,TD),m=a5(l,{relative:g.relative}),p=_u(),x=Q.useContext(nj),{navigator:b,basename:S}=Q.useContext(bu),N=x!=null&&zD(m)&&c===!0,j=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,w=p.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(w=w.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&S&&(k=Cf(k,S)||k);const E=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let O=w===j||!a&&w.startsWith(j)&&w.charAt(E)==="/",U=k!=null&&(k===j||!a&&k.startsWith(j)&&k.charAt(j.length)==="/"),M={isActive:O,isPending:U,isTransitioning:N},I=O?i:void 0,F;typeof s=="function"?F=s(M):F=[s,O?"active":null,U?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(M):o;return Q.createElement(zn,s2({},g,{"aria-current":I,className:F,ref:n,style:P,to:l,viewTransition:c}),typeof h=="function"?h(M):h)});var c4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(c4||(c4={}));var y_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y_||(y_={}));function ID(t){let e=Q.useContext(r5);return e||ji(!1),e}function BD(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=ga(),c=_u(),h=a5(t,{relative:a});return Q.useCallback(g=>{if(AD(g,n)){g.preventDefault();let m=i!==void 0?i:r2(c)===r2(h);l(t,{replace:m,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,h,i,r,n,t,s,a,o])}function cj(t){let e=Q.useRef(l4(t)),n=Q.useRef(!1),i=_u(),r=Q.useMemo(()=>PD(i.search,n.current?null:e.current),[i.search]),s=ga(),a=Q.useCallback((o,l)=>{const c=l4(typeof o=="function"?o(r):o);n.current=!0,s("?"+c,l)},[s,r]);return[r,a]}function zD(t,e){e===void 0&&(e={});let n=Q.useContext(MD);n==null&&ji(!1);let{basename:i}=ID(c4.useViewTransitionState),r=a5(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Cf(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Cf(n.nextLocation.pathname,i)||n.nextLocation.pathname;return a4(r.pathname,a)!=null||a4(r.pathname,s)!=null}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),x_=t=>{const e=VD(t);return e.charAt(0).toUpperCase()+e.slice(1)},uj=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),HD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>Q.createElement("svg",{ref:l,...$D,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:uj("lucide",r),...!s&&!HD(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,h])=>Q.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(t,e)=>{const n=Q.forwardRef(({className:i,...r},s)=>Q.createElement(GD,{ref:s,iconNode:e,className:uj(`lucide-${UD(x_(t))}`,`lucide-${t}`,i),...r}));return n.displayName=x_(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hj=xt("activity",qD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],KD=xt("arrow-down",WD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],u4=xt("arrow-left",XD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],QD=xt("arrow-up",YD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],u3=xt("ban",JD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Zy=xt("bell",ZD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],h3=xt("calendar",eO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],nO=xt("chart-column",tO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rO=xt("check",iO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sh=xt("chevron-down",sO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oO=xt("chevron-left",aO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cO=xt("chevron-right",lO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],hO=xt("chromium",uO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fd=xt("circle-alert",dO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],v_=xt("circle-check-big",fO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],h4=xt("circle-check",pO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],a2=xt("circle-x",gO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dj=xt("clock",mO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],xO=xt("crop",yO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],df=xt("crown",vO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Kl=xt("download",bO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],_O=xt("ellipsis-vertical",wO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hu=xt("eye",SO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],kO=xt("facebook",NO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],fj=xt("file-down",CO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],AO=xt("file-image",jO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],LO=xt("funnel",PO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],EO=xt("globe",TO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],RO=xt("heart",MO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ws=xt("image",FO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ex=xt("info",DO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],IO=xt("layout-dashboard",OO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],o2=xt("loader-circle",BO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],pj=xt("lock-open",zO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],d4=xt("log-out",UO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],HO=xt("mail",VO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],b_=xt("maximize-2",$O);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],qO=xt("menu",GO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],KO=xt("pencil",WO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wp=xt("plus",XO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],y1=xt("refresh-cw",YO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],d3=xt("search",QO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ZO=xt("share-2",JO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],l2=xt("shield",eI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],f3=xt("square-pen",tI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ol=xt("star",nI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],gj=xt("toggle-left",iI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],mj=xt("toggle-right",rI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yj=xt("trash-2",sI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oI=xt("trash",aI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],cI=xt("trending-up",lI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wg=xt("triangle-alert",uI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Mh=xt("upload",hI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fI=xt("user-check",dI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],gI=xt("user-x",pI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qa=xt("user",mI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],p3=xt("users",yI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],vI=xt("users-round",xI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rh=xt("x",bI),bm="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net";class wI{async loginWithGoogle(){return new Promise((e,n)=>{const s=window.top.outerHeight/2+window.top.screenY-310,a=window.top.outerWidth/2+window.top.screenX-520/2,o=window.open(`${bm}/api/auth/google`,"google-auth",`width=520,height=620,left=${a},top=${s},scrollbars=yes,resizable=yes`);if(!o||o.closed){n(new Error("Khng th m popup. Vui lng kim tra popup blocker."));return}const l=h=>{const g=new URL(bm).origin;h.origin===g&&h.data==="auth:success"&&(o==null||o.close(),window.removeEventListener("message",l),e(!0))};window.addEventListener("message",l);const c=setInterval(()=>{o!=null&&o.closed&&(clearInterval(c),window.removeEventListener("message",l),n(new Error("Popup  ng")))},1e3)})}async getMe(){const e=await fetch(`${bm}/api/auth/me`,{credentials:"include"});if(!e.ok)throw e.status===401?new Error("Not authenticated"):new Error(`Failed to get user info: ${e.status}`);const n=await e.json();return localStorage.setItem("kh_me",JSON.stringify(n)),window.dispatchEvent(new Event("kh_me_changed")),n}async logout(){try{await fetch(`${bm}/api/auth/logout`,{method:"POST",credentials:"include"})}catch(e){console.error("Logout API error:",e)}finally{localStorage.removeItem("kh_me"),window.dispatchEvent(new Event("kh_me_changed"))}}isAdmin(){try{const e=JSON.parse(localStorage.getItem("kh_me")||"null");return(e==null?void 0:e.vaiTro)==="admin"}catch{return!1}}isAuthenticated(){try{const e=JSON.parse(localStorage.getItem("kh_me")||"null");return!!(e!=null&&e.email)}catch{return!1}}async refreshMe(){try{return await this.getMe()}catch(e){throw console.error("Failed to refresh user info:",e),localStorage.removeItem("kh_me"),window.dispatchEvent(new Event("kh_me_changed")),e}}}const Qd=new wI,_I="https://localhost:7090".replace(/\/$/,"");function g3({onClose:t}){const e=ga(),[n,i]=Q.useState(!1),[r,s]=Q.useState(()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}}),[a,o]=Q.useState(""),l=Q.useRef(null),c=Q.useRef(null);Q.useEffect(()=>{const p=async x=>{console.log(" Message from:",x.origin,x.data);const b=new URL(_I).origin;if(x.origin===b&&x.data==="auth:success")try{i(!0),console.log(" Getting user info...");const S=await Qd.getMe();console.log(" User info received:",S),s(S),h()}catch(S){console.error(" Failed to get user info:",S),o("Khng th ly thng tin ngi dng")}finally{i(!1),l.current&&!l.current.closed&&l.current.close(),l.current=null,c.current&&(clearInterval(c.current),c.current=null)}};return window.addEventListener("message",p),document.body.style.overflow="hidden",()=>{window.removeEventListener("message",p),document.body.style.overflow="auto",c.current&&clearInterval(c.current)}},[]);const h=()=>{t?t():window.history.length>1?e(-1):e("/")};Q.useEffect(()=>{const p=x=>{x.key==="Escape"&&h()};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[]);const g=async()=>{try{i(!0),o(""),console.log(" Starting Google OAuth..."),await Qd.loginWithGoogle(),console.log(" OAuth popup completed");const p=await Qd.getMe();console.log(" User info received:",p),s(p),h()}catch(p){console.error(" Login error:",p),o(p.message||"ng nhp tht bi. Vui lng th li.")}finally{i(!1)}},m=async()=>{try{await Qd.logout(),s(null),h()}catch(p){console.error(" Logout error:",p),o("ng xut tht bi")}};return d.jsxs("div",{className:"fixed inset-0 z-[100]",children:[d.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px]",onClick:h}),d.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-16 sm:top-20 md:top-24 w-full max-w-md px-4",children:d.jsxs("div",{className:"relative rounded-2xl bg-white shadow-xl",children:[d.jsx("button",{onClick:h,className:"absolute right-3 top-3 p-2 rounded-full hover:bg-black/5","aria-label":"ng",children:d.jsx(Rh,{size:18})}),d.jsx("div",{className:"p-6 pt-10",children:r?d.jsxs("div",{className:"space-y-4 text-center",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Bn  ng nhp"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"font-medium",children:r.name||r.tenHienThi}),d.jsx("div",{className:"text-sm text-gray-600",children:r.email}),r.vaiTro&&d.jsx("div",{className:`text-xs font-medium ${r.vaiTro==="admin"?"text-purple-600":"text-blue-600"}`,children:r.vaiTro==="admin"?" Qun tr vin":r.vaiTro})]}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[d.jsx("button",{onClick:m,className:"flex-1 border border-gray-300 rounded-lg py-2 hover:bg-gray-50 transition",children:"ng xut"}),d.jsx("button",{onClick:h,className:"flex-1 bg-blue-600 text-white rounded-lg py-2 hover:bg-blue-700 transition",children:"ng"})]})]}):d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4",children:d.jsx(l2,{className:"w-8 h-8 text-white"})}),d.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"ng nhp"}),d.jsx("p",{className:"text-sm text-slate-600 mt-2 mb-6",children:"ng nhp  s dng y  tnh nng TrendyFrame"}),a&&d.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:d.jsx("p",{className:"text-sm text-red-600",children:a})}),d.jsxs("button",{onClick:g,disabled:n,className:"w-full flex items-center justify-center gap-3 bg-white border border-slate-300 rounded-xl px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition",children:[n?d.jsx(o2,{className:"w-5 h-5 animate-spin"}):d.jsx(hO,{className:"w-5 h-5"}),n?"ang ng nhp...":"ng nhp bng Google"]}),d.jsx("div",{className:"mt-6",children:d.jsxs("p",{className:"text-xs text-slate-500",children:["Bng vic ng nhp, bn ng  vi"," ",d.jsx("a",{href:"/terms",className:"text-blue-600 hover:underline",children:"iu khon"})," ","v"," ",d.jsx("a",{href:"/privacy",className:"text-blue-600 hover:underline",children:"Chnh sch bo mt"})]})})]})})]})})]})}function SI(){const[t,e]=Q.useState(!1),[n,i]=Q.useState(!1),[r,s]=Q.useState(null),[a,o]=Q.useState(!1),[l,c]=Q.useState(!1),[h,g]=Q.useState(!1),[m,p]=Q.useState(!1),x=Q.useRef(null),b=Q.useRef(null),S=_u(),N=ga(),j=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}},w=async()=>{try{p(!0);const I=await Qd.getMe();s(I),console.log(" User info refreshed:",I)}catch(I){console.error(" Failed to refresh user info:",I),s(null),localStorage.removeItem("kh_me")}finally{p(!1)}};Q.useEffect(()=>{const I=j();s(I),I&&w()},[]),Q.useEffect(()=>{const I=j();JSON.stringify(I)!==JSON.stringify(r)&&s(I)},[S.pathname]),Q.useEffect(()=>{const I=()=>{const F=j();s(F),console.log(" User synced from event:",F)};return window.addEventListener("kh_me_changed",I),window.addEventListener("storage",I),()=>{window.removeEventListener("kh_me_changed",I),window.removeEventListener("storage",I)}},[]),Q.useEffect(()=>{const I=()=>i(window.scrollY>8);return I(),window.addEventListener("scroll",I,{passive:!0}),()=>window.removeEventListener("scroll",I)},[]),Q.useEffect(()=>{e(!1),o(!1),c(!1)},[S.pathname]),Q.useEffect(()=>{console.log("=== DEBUG USER DATA ==="),console.log("localStorage:",j()),console.log("me state:",r),console.log("vaiTro:",r==null?void 0:r.vaiTro),console.log("email:",r==null?void 0:r.email);const I=(r==null?void 0:r.vaiTro)==="admin";console.log("isAdmin:",I)},[r]),Q.useEffect(()=>(document.body.style.overflow=t?"hidden":"",()=>{document.body.style.overflow=""}),[t]),Q.useEffect(()=>{const I=F=>{x.current&&!x.current.contains(F.target)&&o(!1),b.current&&!b.current.contains(F.target)&&c(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]),Q.useEffect(()=>{const I=()=>{window.innerWidth>=768&&e(!1)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const k=async()=>{try{await Qd.logout(),s(null),o(!1),N("/"),console.log(" Logout successful")}catch(I){console.error(" Logout error:",I),s(null),o(!1),N("/")}},E=(r==null?void 0:r.name)||(r==null?void 0:r.tenHienThi)||"User",O=(r==null?void 0:r.vaiTro)==="admin",U=!!r,M=(r==null?void 0:r.picture)||`https://ui-avatars.com/api/?name=${encodeURIComponent(E)}&background=0D8ABC&color=fff&size=96`;return d.jsxs(d.Fragment,{children:[d.jsxs("header",{className:["fixed top-0 inset-x-0 z-50","transition-all duration-300","bg-white/30","supports-[backdrop-filter]:bg-white/20 supports-[backdrop-filter]:backdrop-blur-xl",n?"shadow-md":"shadow-none"].join(" "),children:[d.jsxs("nav",{className:"max-w-7xl mx-auto px-6 py-3 flex items-center justify-between",children:[d.jsx(zn,{to:"/",className:"flex items-center gap-2 select-none","aria-label":"Khung Hnh",children:d.jsx("img",{src:"/frames/logo.png",alt:"Logo Khung Hnh",className:"h-14 w-14 object-contain"})}),d.jsxs("div",{className:"hidden md:flex items-center gap-8 text-gray-800 font-medium",children:[d.jsxs("div",{className:"relative",ref:b,children:[d.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-1 text-gray-800 hover:text-blue-600 font-medium transition",children:["Cng c",d.jsx(Sh,{size:16,className:`transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&d.jsxs("div",{className:"absolute left-0 mt-3 w-60 bg-white/95 backdrop-blur-sm border border-gray-200 shadow-xl rounded-xl py-2 z-50",children:[d.jsx("div",{className:"absolute -top-2 left-6 w-4 h-4 bg-white border-l border-t border-gray-200 rotate-45"}),[{to:"/compress",title:"Nn nh",desc:"Gim dung lng nhanh chng"},{to:"/resize",title:"Thay i kch thc",desc:"Ty chnh chiu rng v cao"},{to:"/image-to-pdf",title:"nh sang PDF",desc:"Chuyn i nh thnh file PDF"}].map(I=>d.jsxs(zn,{to:I.to,onClick:()=>c(!1),className:"block px-4 py-2.5 hover:bg-blue-50/70 transition rounded-lg group",children:[d.jsx("div",{className:"font-semibold text-gray-800 group-hover:text-blue-700",children:I.title}),d.jsx("div",{className:"text-xs text-gray-500 group-hover:text-blue-600",children:I.desc})]},I.to))]})]}),d.jsx(kd,{to:"/trending",className:"hover:text-blue-600 transition",children:"Xu hng"}),U&&d.jsx(kd,{to:"/create-frame",className:"hover:text-blue-600 transition",children:"To khung"}),O&&d.jsx(kd,{to:"/admin",className:"hover:text-purple-700 transition text-purple-600 font-semibold flex items-center gap-1",children:" Qun tr"}),U?d.jsxs("div",{className:"relative",ref:x,children:[d.jsxs("button",{onClick:()=>o(!a),className:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-100/50 transition",children:[d.jsx("img",{src:M,alt:`Avatar ca ${E}`,className:"w-10 h-10 rounded-full border object-cover",referrerPolicy:"no-referrer",onError:I=>{I.currentTarget.onerror=null,I.currentTarget.src="/frames/icon/default-avatar.png"}}),m?d.jsx(y1,{size:16,className:"text-blue-600 animate-spin"}):d.jsx(Sh,{size:16,className:`text-gray-600 transition-transform ${a?"rotate-180":""}`})]}),a&&d.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[d.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-white border-l border-t border-gray-200 rotate-45"}),d.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[d.jsx("div",{className:"font-medium text-gray-900",children:E}),d.jsx("div",{className:"text-sm text-gray-500",children:r==null?void 0:r.email}),(r==null?void 0:r.vaiTro)&&d.jsx("div",{className:`text-xs font-medium mt-1 ${r.vaiTro==="admin"?"text-purple-600":"text-blue-600"}`,children:r.vaiTro==="admin"?" Qun tr vin":` ${r.vaiTro}`})]}),d.jsxs(zn,{to:"/account",className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition",onClick:()=>o(!1),children:[d.jsx(qa,{size:16}),d.jsx("span",{children:"Ti khon"})]}),d.jsxs(zn,{to:"/my-frames",className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition",onClick:()=>o(!1),children:[d.jsx(ws,{size:16}),d.jsx("span",{children:"Khung hnh ca ti"})]}),O&&d.jsxs(zn,{to:"/admin",className:"flex items-center gap-3 px-4 py-2 text-purple-600 hover:bg-purple-50 transition",onClick:()=>o(!1),children:[d.jsx("span",{className:"text-sm",children:""}),d.jsx("span",{children:"Trang qun tr"})]}),d.jsxs("button",{onClick:async()=>{o(!1),await w()},disabled:m,className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition w-full text-left disabled:opacity-50",children:[d.jsx(y1,{size:16,className:m?"animate-spin":""}),d.jsx("span",{children:"Lm mi thng tin"})]}),d.jsx("hr",{className:"my-2"}),d.jsxs("button",{onClick:k,className:"flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 transition w-full text-left",children:[d.jsx(d4,{size:16}),d.jsx("span",{children:"ng xut"})]})]})]}):d.jsx("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 transition",children:"ng nhp"})]}),d.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-200/60 transition",onClick:()=>e(I=>!I),"aria-label":"Menu","aria-expanded":t,"aria-controls":"mobile-menu",children:t?d.jsx(Rh,{size:28}):d.jsx(qO,{size:28})})]}),t&&d.jsxs("div",{id:"mobile-menu",className:"md:hidden px-6 pb-5 pt-2 space-y-4 bg-white/95 supports-[backdrop-filter]:bg-white/80 supports-[backdrop-filter]:backdrop-blur-md border-t border-gray-200",children:[d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>c(!l),className:"flex items-center justify-between w-full text-gray-800 py-2",children:[d.jsx("span",{children:"Cng c"}),d.jsx(Sh,{size:16,className:`transition-transform ${l?"rotate-180":""}`})]}),l&&d.jsxs("div",{className:"pl-4 space-y-2 mt-2",children:[d.jsxs(zn,{to:"/resize",onClick:()=>e(!1),className:"flex items-center gap-2 text-gray-600 py-2",children:[d.jsx(xO,{size:16}),d.jsx("span",{children:"Thay i kch thc"})]}),d.jsxs(zn,{to:"/image-to-pdf",onClick:()=>e(!1),className:"flex items-center gap-2 text-gray-600 py-2",children:[d.jsx(AO,{size:16}),d.jsx("span",{children:"nh sang PDF"})]}),d.jsxs(zn,{to:"/tools",onClick:()=>e(!1),className:"flex items-center gap-2 text-blue-600 py-2 font-medium",children:[d.jsx(ws,{size:16}),d.jsx("span",{children:"Xem tt c"})]})]})]}),d.jsx(kd,{onClick:()=>e(!1),to:"/trending",className:"block text-gray-800 py-2",children:"Xu hng"}),U&&d.jsx(kd,{onClick:()=>e(!1),to:"/create-frame",className:"block text-gray-800 py-2",children:"To khung"}),O&&d.jsx(kd,{onClick:()=>e(!1),to:"/admin",className:"block text-purple-600 font-semibold py-2",children:" Qun tr"}),U?d.jsxs("div",{className:"space-y-3 pt-3",children:[d.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-200",children:[d.jsx("img",{src:M,alt:"avatar",className:"w-12 h-12 rounded-full border object-cover",referrerPolicy:"no-referrer"}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("div",{className:"font-medium text-gray-900 truncate",children:E}),d.jsx("div",{className:"text-sm text-gray-500 truncate",children:r==null?void 0:r.email}),(r==null?void 0:r.vaiTro)&&d.jsx("div",{className:`text-xs font-medium ${r.vaiTro==="admin"?"text-purple-600":"text-blue-600"}`,children:r.vaiTro==="admin"?" Qun tr vin":r.vaiTro})]}),d.jsx("button",{onClick:w,disabled:m,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50",children:d.jsx(y1,{size:16,className:m?"animate-spin":""})})]}),d.jsxs(zn,{to:"/account",onClick:()=>e(!1),className:"flex items-center gap-3 text-gray-700 py-2",children:[d.jsx(qa,{size:16}),d.jsx("span",{children:"Ti khon"})]}),d.jsxs(zn,{to:"/my-frames",onClick:()=>e(!1),className:"flex items-center gap-3 text-gray-700 py-2",children:[d.jsx(ws,{size:16}),d.jsx("span",{children:"Khung hnh ca ti"})]}),d.jsxs("button",{onClick:k,className:"flex items-center gap-3 text-red-600 py-2 w-full text-left",children:[d.jsx(d4,{size:16}),d.jsx("span",{children:"ng xut"})]})]}):d.jsx("button",{onClick:()=>{e(!1),g(!0)},className:"bg-blue-600 text-white px-5 py-2 rounded-lg inline-block",children:"ng nhp"})]})]}),d.jsx("div",{className:"h-[64px]"}),h&&d.jsx(g3,{onClose:()=>g(!1)})]})}function NI(){const t=new Date().getFullYear();return d.jsxs("footer",{className:"relative mt-16 text-white",children:[d.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-[#233246] via-[#1f2a3a] to-[#101826]"}),d.jsx("div",{className:"pointer-events-none absolute inset-x-0 -top-8 -z-10 h-24 opacity-70 blur-2xl [background:radial-gradient(60%_60%_at_50%_0%,rgba(255,255,255,0.18),rgba(255,255,255,0))]"}),d.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[d.jsxs("div",{className:"grid gap-10 md:grid-cols-4",children:[d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-10 w-10 rounded-xl bg-white/15 ring-1 ring-white/20 grid place-items-center text-lg shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:d.jsx("span",{children:""})}),d.jsx("span",{className:"text-2xl font-extrabold tracking-tight",children:"Khunghinh"})]}),d.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg border border-white/20 bg-white/10 px-4 py-2 text-sm backdrop-blur transition hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40","aria-label":"i ngn ng",type:"button",children:[d.jsx(EO,{className:"h-4 w-4"}),"Ting Vit ",d.jsx("span",{"aria-hidden":!0,className:"opacity-70",children:""})]}),d.jsx("p",{className:"text-sm text-white/70 leading-relaxed",children:"To & qun l khung hnh trc tuyn. Nhanh, nh, thn thin."})]}),d.jsxs("nav",{"aria-label":"Khunghinh",className:"text-sm",children:[d.jsx("h3",{className:"mb-3 font-semibold tracking-wide text-white/90",children:"Khunghinh"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Lin h"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"iu khon s dng"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Chnh sch bo mt"})})]})]}),d.jsxs("nav",{"aria-label":"Cng c",className:"text-sm",children:[d.jsx("h3",{className:"mb-3 font-semibold tracking-wide text-white/90",children:"Cng c"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsx("a",{href:"/editor",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"To khung hnh"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Xa nn"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"To vng trong sut"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Nn hnh nh"})}),d.jsx("li",{children:d.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Thay i kch thc"})})]})]}),d.jsxs("div",{className:"text-sm",children:[d.jsx("h3",{className:"mb-3 font-semibold tracking-wide text-white/90",children:"Theo di chng ti"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("a",{href:"#","aria-label":"Facebook Page",className:"group rounded-full p-3 ring-1 ring-white/20 bg-white/10 backdrop-blur transition hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40",children:d.jsx(kO,{className:"h-5 w-5 transition group-hover:scale-110"})}),d.jsx("a",{href:"#","aria-label":"Facebook Group",className:"group rounded-full p-3 ring-1 ring-white/20 bg-white/10 backdrop-blur transition hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40",children:d.jsx(vI,{className:"h-5 w-5 transition group-hover:scale-110"})})]}),d.jsxs("div",{className:"mt-2 flex gap-8 text-xs text-white/70",children:[d.jsx("span",{children:"Page"}),d.jsx("span",{children:"Group"})]})]})]}),d.jsxs("div",{className:"mt-10",children:[d.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-white/30 to-transparent"}),d.jsxs("div",{className:"mt-4 text-center text-sm text-white/80",children:[d.jsxs("p",{children:["2016",t,"  ",d.jsx("span",{className:"font-semibold",children:"KhungHinh"}),". All rights reserved."]}),d.jsxs("p",{className:"mt-1 text-white/70",children:["Thit k & pht trin bi ",d.jsx("span",{className:"font-medium",children:"Nguyn L Quc Lm"})," & ",d.jsx("span",{className:"font-medium",children:"Nguyn Vn Trng"}),"."]})]})]})]})]})}const xj=Q.createContext({});function kI(t){const e=Q.useRef(null);return e.current===null&&(e.current=t()),e.current}const m3=Q.createContext(null),vj=Q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function CI(t=!0){const e=Q.useContext(m3);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=Q.useId();Q.useEffect(()=>{t&&r(s)},[t]);const a=Q.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,a]:[!0]}const y3=typeof window<"u",jI=y3?Q.useLayoutEffect:Q.useEffect,ua=t=>t;let bj=ua;function x3(t){let e;return()=>(e===void 0&&(e=t()),e)}const jf=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Jl=t=>t*1e3,Zl=t=>t/1e3,AI={useManualTiming:!1};function PI(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){s.has(c)&&(l.schedule(c),t()),c(a)}const l={schedule:(c,h=!1,g=!1)=>{const p=g&&i?e:n;return h&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(a=c,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(o),e.clear(),i=!1,r&&(r=!1,l.process(c))}};return l}const wm=["read","resolveKeyframes","update","preRender","render","postRender"],LI=40;function wj(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=wm.reduce((N,j)=>(N[j]=PI(s),N),{}),{read:o,resolveKeyframes:l,update:c,preRender:h,render:g,postRender:m}=a,p=()=>{const N=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(N-r.timestamp,LI),1),r.timestamp=N,r.isProcessing=!0,o.process(r),l.process(r),c.process(r),h.process(r),g.process(r),m.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(p))},x=()=>{n=!0,i=!0,r.isProcessing||t(p)};return{schedule:wm.reduce((N,j)=>{const w=a[j];return N[j]=(k,E=!1,O=!1)=>(n||x(),w.schedule(k,E,O)),N},{}),cancel:N=>{for(let j=0;j<wm.length;j++)a[wm[j]].cancel(N)},state:r,steps:a}}const{schedule:ti,cancel:du,state:Fr,steps:tx}=wj(typeof requestAnimationFrame<"u"?requestAnimationFrame:ua,!0),_j=Q.createContext({strict:!1}),w_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Af={};for(const t in w_)Af[t]={isEnabled:e=>w_[t].some(n=>!!e[n])};function TI(t){for(const e in t)Af[e]={...Af[e],...t[e]}}const EI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function c2(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||EI.has(t)}let Sj=t=>!c2(t);function MI(t){t&&(Sj=e=>e.startsWith("on")?!c2(e):t(e))}try{MI(require("@emotion/is-prop-valid").default)}catch{}function RI(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(Sj(r)||n===!0&&c2(r)||!e&&!c2(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function FI(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const o5=Q.createContext({});function Kp(t){return typeof t=="string"||Array.isArray(t)}function l5(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const v3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],b3=["initial",...v3];function c5(t){return l5(t.animate)||b3.some(e=>Kp(t[e]))}function Nj(t){return!!(c5(t)||t.variants)}function DI(t,e){if(c5(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Kp(n)?n:void 0,animate:Kp(i)?i:void 0}}return t.inherit!==!1?e:{}}function OI(t){const{initial:e,animate:n}=DI(t,Q.useContext(o5));return Q.useMemo(()=>({initial:e,animate:n}),[__(e),__(n)])}function __(t){return Array.isArray(t)?t.join(" "):t}const II=Symbol.for("motionComponentSymbol");function Jd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function BI(t,e,n){return Q.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Jd(n)&&(n.current=i))},[e])}const w3=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zI="framerAppearId",kj="data-"+w3(zI),{schedule:_3}=wj(queueMicrotask,!1),Cj=Q.createContext({});function UI(t,e,n,i,r){var s,a;const{visualElement:o}=Q.useContext(o5),l=Q.useContext(_j),c=Q.useContext(m3),h=Q.useContext(vj).reducedMotion,g=Q.useRef(null);i=i||l.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=g.current,p=Q.useContext(Cj);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&VI(g.current,n,r,p);const x=Q.useRef(!1);Q.useInsertionEffect(()=>{m&&x.current&&m.update(n,c)});const b=n[kj],S=Q.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,b)));return jI(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),_3.render(m.render),S.current&&m.animationState&&m.animationState.animateChanges())}),Q.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,b)}),S.current=!1))}),m}function VI(t,e,n,i){const{layoutId:r,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jj(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||o&&Jd(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function jj(t){if(t)return t.options.allowProjection!==!1?t.projection:jj(t.parent)}function HI({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,a;t&&TI(t);function o(c,h){let g;const m={...Q.useContext(vj),...c,layoutId:$I(c)},{isStatic:p}=m,x=OI(c),b=i(c,p);if(!p&&y3){GI();const S=qI(m);g=S.MeasureLayout,x.visualElement=UI(r,b,m,e,S.ProjectionNode)}return d.jsxs(o5.Provider,{value:x,children:[g&&x.visualElement?d.jsx(g,{visualElement:x.visualElement,...m}):null,n(r,c,BI(b,x.visualElement,h),b,p,x.visualElement)]})}o.displayName=`motion.${typeof r=="string"?r:`create(${(a=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&a!==void 0?a:""})`}`;const l=Q.forwardRef(o);return l[II]=r,l}function $I({layoutId:t}){const e=Q.useContext(xj).id;return e&&t!==void 0?e+"-"+t:t}function GI(t,e){Q.useContext(_j).strict}function qI(t){const{drag:e,layout:n}=Af;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const WI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function S3(t){return typeof t!="string"||t.includes("-")?!1:!!(WI.indexOf(t)>-1||/[A-Z]/u.test(t))}function S_(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function N3(t,e,n,i){if(typeof e=="function"){const[r,s]=S_(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=S_(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const f4=t=>Array.isArray(t),KI=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),XI=t=>f4(t)?t[t.length-1]||0:t,as=t=>!!(t&&t.getVelocity);function x1(t){const e=as(t)?t.get():t;return KI(e)?e.toValue():e}function YI({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const a={latestValues:QI(i,r,s,t),renderState:e()};return n&&(a.onMount=o=>n({props:i,current:o,...a}),a.onUpdate=o=>n(o)),a}const Aj=t=>(e,n)=>{const i=Q.useContext(o5),r=Q.useContext(m3),s=()=>YI(t,e,i,r);return n?s():kI(s)};function QI(t,e,n,i){const r={},s=i(t,{});for(const m in s)r[m]=x1(s[m]);let{initial:a,animate:o}=t;const l=c5(t),c=Nj(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const g=h?o:a;if(g&&typeof g!="boolean"&&!l5(g)){const m=Array.isArray(g)?g:[g];for(let p=0;p<m.length;p++){const x=N3(t,m[p]);if(x){const{transitionEnd:b,transition:S,...N}=x;for(const j in N){let w=N[j];if(Array.isArray(w)){const k=h?w.length-1:0;w=w[k]}w!==null&&(r[j]=w)}for(const j in b)r[j]=b[j]}}}return r}const Vf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zh=new Set(Vf),Pj=t=>e=>typeof e=="string"&&e.startsWith(t),Lj=Pj("--"),JI=Pj("var(--"),k3=t=>JI(t)?ZI.test(t.split("/*")[0].trim()):!1,ZI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,sc=(t,e,n)=>n>e?e:n<t?t:n,Hf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xp={...Hf,transform:t=>sc(0,1,t)},_m={...Hf,default:1},_g=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bc=_g("deg"),hl=_g("%"),Ct=_g("px"),eB=_g("vh"),tB=_g("vw"),N_={...hl,parse:t=>hl.parse(t)/100,transform:t=>hl.transform(t*100)},nB={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,backgroundPositionX:Ct,backgroundPositionY:Ct},iB={rotate:Bc,rotateX:Bc,rotateY:Bc,rotateZ:Bc,scale:_m,scaleX:_m,scaleY:_m,scaleZ:_m,skew:Bc,skewX:Bc,skewY:Bc,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:Xp,originX:N_,originY:N_,originZ:Ct},k_={...Hf,transform:Math.round},C3={...nB,...iB,zIndex:k_,size:Ct,fillOpacity:Xp,strokeOpacity:Xp,numOctaves:k_},rB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sB=Vf.length;function aB(t,e,n){let i="",r=!0;for(let s=0;s<sB;s++){const a=Vf[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=Tj(o,C3[a]);if(!l){r=!1;const h=rB[a]||a;i+=`${h}(${c}) `}n&&(e[a]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function j3(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(zh.has(l)){a=!0;continue}else if(Lj(l)){r[l]=c;continue}else{const h=Tj(c,C3[l]);l.startsWith("origin")?(o=!0,s[l]=h):i[l]=h}}if(e.transform||(a||n?i.transform=aB(e,t.transform,n):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;i.transformOrigin=`${l} ${c} ${h}`}}const oB={offset:"stroke-dashoffset",array:"stroke-dasharray"},lB={offset:"strokeDashoffset",array:"strokeDasharray"};function cB(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?oB:lB;t[s.offset]=Ct.transform(-i);const a=Ct.transform(e),o=Ct.transform(n);t[s.array]=`${a} ${o}`}function C_(t,e,n){return typeof t=="string"?t:Ct.transform(e+n*t)}function uB(t,e,n){const i=C_(e,t.x,t.width),r=C_(n,t.y,t.height);return`${i} ${r}`}function A3(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},h,g){if(j3(t,c,g),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:x}=t;m.transform&&(x&&(p.transform=m.transform),delete m.transform),x&&(r!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=uB(x,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),i!==void 0&&(m.scale=i),a!==void 0&&cB(m,a,o,l,!1)}const P3=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ej=()=>({...P3(),attrs:{}}),L3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Mj(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const Rj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fj(t,e,n,i){Mj(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(Rj.has(r)?r:w3(r),e.attrs[r])}const u2={};function hB(t){Object.assign(u2,t)}function Dj(t,{layout:e,layoutId:n}){return zh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!u2[t]||t==="opacity")}function T3(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(as(r[a])||e.style&&as(e.style[a])||Dj(a,t)||((i=n==null?void 0:n.getValue(a))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}function Oj(t,e,n){const i=T3(t,e,n);for(const r in t)if(as(t[r])||as(e[r])){const s=Vf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}function dB(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const j_=["x","y","width","height","cx","cy","r"],fB={useVisualState:Aj({scrapeMotionValuesFromProps:Oj,createRenderState:Ej,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const o in r)if(zh.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<j_.length;o++){const l=j_[o];t[l]!==e[l]&&(a=!0)}a&&ti.read(()=>{dB(n,i),ti.render(()=>{A3(i,r,L3(n.tagName),t.transformTemplate),Fj(n,i)})})}})},pB={useVisualState:Aj({scrapeMotionValuesFromProps:T3,createRenderState:P3})};function Ij(t,e,n){for(const i in e)!as(e[i])&&!Dj(i,n)&&(t[i]=e[i])}function gB({transformTemplate:t},e){return Q.useMemo(()=>{const n=P3();return j3(n,e,t),Object.assign({},n.vars,n.style)},[e])}function mB(t,e){const n=t.style||{},i={};return Ij(i,n,t),Object.assign(i,gB(t,e)),i}function yB(t,e){const n={},i=mB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function xB(t,e,n,i){const r=Q.useMemo(()=>{const s=Ej();return A3(s,e,L3(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Ij(s,t.style,t),r.style={...s,...r.style}}return r}function vB(t=!1){return(n,i,r,{latestValues:s},a)=>{const l=(S3(n)?xB:yB)(i,s,a,n),c=RI(i,typeof n=="string",t),h=n!==Q.Fragment?{...c,...l,ref:r}:{},{children:g}=i,m=Q.useMemo(()=>as(g)?g.get():g,[g]);return Q.createElement(n,{...h,children:m})}}function bB(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...S3(i)?fB:pB,preloadedFeatures:t,useRender:vB(r),createVisualElement:e,Component:i};return HI(a)}}function Bj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function u5(t,e,n){const i=t.getProps();return N3(i,e,n!==void 0?n:i.custom,t)}const wB=x3(()=>window.ScrollTimeline!==void 0);class _B{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(wB()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class SB extends _B{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function E3(t,e){return t?t[e]||t.default||t:void 0}const p4=2e4;function zj(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<p4;)e+=n,i=t.next(e);return e>=p4?1/0:e}function M3(t){return typeof t=="function"}function A_(t,e){t.timeline=e,t.onfinish=null}const R3=t=>Array.isArray(t)&&typeof t[0]=="number",NB={linearEasing:void 0};function kB(t,e){const n=x3(t);return()=>{var i;return(i=NB[e])!==null&&i!==void 0?i:n()}}const h2=kB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uj=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(jf(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function Vj(t){return!!(typeof t=="function"&&h2()||!t||typeof t=="string"&&(t in g4||h2())||R3(t)||Array.isArray(t)&&t.every(Vj))}const Z0=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,g4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Z0([0,.65,.55,1]),circOut:Z0([.55,0,1,.45]),backIn:Z0([.31,.01,.66,-.59]),backOut:Z0([.33,1.53,.69,.99])};function Hj(t,e){if(t)return typeof t=="function"&&h2()?Uj(t,e):R3(t)?Z0(t):Array.isArray(t)?t.map(n=>Hj(n,e)||g4.easeOut):g4[t]}const bo={x:!1,y:!1};function $j(){return bo.x||bo.y}function CB(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function Gj(t,e){const n=CB(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function P_(t){return e=>{e.pointerType==="touch"||$j()||t(e)}}function jB(t,e,n={}){const[i,r,s]=Gj(t,n),a=P_(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const h=P_(g=>{c(g),l.removeEventListener("pointerleave",h)});l.addEventListener("pointerleave",h,r)});return i.forEach(o=>{o.addEventListener("pointerenter",a,r)}),s}const qj=(t,e)=>e?t===e?!0:qj(t,e.parentElement):!1,F3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,AB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PB(t){return AB.has(t.tagName)||t.tabIndex!==-1}const ep=new WeakSet;function L_(t){return e=>{e.key==="Enter"&&t(e)}}function nx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LB=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=L_(()=>{if(ep.has(n))return;nx(n,"down");const r=L_(()=>{nx(n,"up")}),s=()=>nx(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function T_(t){return F3(t)&&!$j()}function TB(t,e,n={}){const[i,r,s]=Gj(t,n),a=o=>{const l=o.currentTarget;if(!T_(o)||ep.has(l))return;ep.add(l);const c=e(o),h=(p,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",m),!(!T_(p)||!ep.has(l))&&(ep.delete(l),typeof c=="function"&&c(p,{success:x}))},g=p=>{h(p,n.useGlobalTarget||qj(l,p.target))},m=p=>{h(p,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",m,r)};return i.forEach(o=>{!PB(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,r),o.addEventListener("focus",c=>LB(c,r),r)}),s}function EB(t){return t==="x"||t==="y"?bo[t]?null:(bo[t]=!0,()=>{bo[t]=!1}):bo.x||bo.y?null:(bo.x=bo.y=!0,()=>{bo.x=bo.y=!1})}const Wj=new Set(["width","height","top","left","right","bottom",...Vf]);let v1;function MB(){v1=void 0}const dl={now:()=>(v1===void 0&&dl.set(Fr.isProcessing||AI.useManualTiming?Fr.timestamp:performance.now()),v1),set:t=>{v1=t,queueMicrotask(MB)}};function D3(t,e){t.indexOf(e)===-1&&t.push(e)}function O3(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class I3{constructor(){this.subscriptions=[]}add(e){return D3(this.subscriptions,e),()=>O3(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Kj(t,e){return e?t*(1e3/e):0}const E_=30,RB=t=>!isNaN(parseFloat(t));class FB{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=dl.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=dl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=RB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new I3);const i=this.events[e].add(n);return e==="change"?()=>{i(),ti.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>E_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,E_);return Kj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yp(t,e){return new FB(t,e)}function DB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yp(n))}function OB(t,e){const n=u5(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const a in s){const o=XI(s[a]);DB(t,a,o)}}function IB(t){return!!(as(t)&&t.add)}function m4(t,e){const n=t.getValue("willChange");if(IB(n))return n.add(e)}function Xj(t){return t.props[kj]}const Yj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,BB=1e-7,zB=12;function UB(t,e,n,i,r){let s,a,o=0;do a=e+(n-e)/2,s=Yj(a,i,r)-t,s>0?n=a:e=a;while(Math.abs(s)>BB&&++o<zB);return a}function Sg(t,e,n,i){if(t===e&&n===i)return ua;const r=s=>UB(s,0,1,t,n);return s=>s===0||s===1?s:Yj(r(s),e,i)}const Qj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Jj=t=>e=>1-t(1-e),Zj=Sg(.33,1.53,.69,.99),B3=Jj(Zj),eA=Qj(B3),tA=t=>(t*=2)<1?.5*B3(t):.5*(2-Math.pow(2,-10*(t-1))),z3=t=>1-Math.sin(Math.acos(t)),nA=Jj(z3),iA=Qj(z3),rA=t=>/^0[^.\s]+$/u.test(t);function VB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rA(t):!0}const mp=t=>Math.round(t*1e5)/1e5,U3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HB(t){return t==null}const $B=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,V3=(t,e)=>n=>!!(typeof n=="string"&&$B.test(n)&&n.startsWith(t)||e&&!HB(n)&&Object.prototype.hasOwnProperty.call(n,e)),sA=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,a,o]=i.match(U3);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},GB=t=>sc(0,255,t),ix={...Hf,transform:t=>Math.round(GB(t))},mh={test:V3("rgb","red"),parse:sA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ix.transform(t)+", "+ix.transform(e)+", "+ix.transform(n)+", "+mp(Xp.transform(i))+")"};function qB(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const y4={test:V3("#"),parse:qB,transform:mh.transform},Zd={test:V3("hsl","hue"),parse:sA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+hl.transform(mp(e))+", "+hl.transform(mp(n))+", "+mp(Xp.transform(i))+")"},is={test:t=>mh.test(t)||y4.test(t)||Zd.test(t),parse:t=>mh.test(t)?mh.parse(t):Zd.test(t)?Zd.parse(t):y4.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?mh.transform(t):Zd.transform(t)},WB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KB(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(U3))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(WB))===null||n===void 0?void 0:n.length)||0)>0}const aA="number",oA="color",XB="var",YB="var(",M_="${}",QB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qp(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const o=e.replace(QB,l=>(is.test(l)?(i.color.push(s),r.push(oA),n.push(is.parse(l))):l.startsWith(YB)?(i.var.push(s),r.push(XB),n.push(l)):(i.number.push(s),r.push(aA),n.push(parseFloat(l))),++s,M_)).split(M_);return{values:n,split:o,indexes:i,types:r}}function lA(t){return Qp(t).values}function cA(t){const{split:e,types:n}=Qp(t),i=e.length;return r=>{let s="";for(let a=0;a<i;a++)if(s+=e[a],r[a]!==void 0){const o=n[a];o===aA?s+=mp(r[a]):o===oA?s+=is.transform(r[a]):s+=r[a]}return s}}const JB=t=>typeof t=="number"?0:t;function ZB(t){const e=lA(t);return cA(t)(e.map(JB))}const fu={test:KB,parse:lA,createTransformer:cA,getAnimatableNone:ZB},ez=new Set(["brightness","contrast","saturate","opacity"]);function tz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(U3)||[];if(!i)return t;const r=n.replace(i,"");let s=ez.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const nz=/\b([a-z-]*)\(.*?\)/gu,x4={...fu,getAnimatableNone:t=>{const e=t.match(nz);return e?e.map(tz).join(" "):t}},iz={...C3,color:is,backgroundColor:is,outlineColor:is,fill:is,stroke:is,borderColor:is,borderTopColor:is,borderRightColor:is,borderBottomColor:is,borderLeftColor:is,filter:x4,WebkitFilter:x4},H3=t=>iz[t];function uA(t,e){let n=H3(t);return n!==x4&&(n=fu),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const rz=new Set(["auto","none","0"]);function sz(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!rz.has(s)&&Qp(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=uA(n,r)}const R_=t=>t===Hf||t===Ct,F_=(t,e)=>parseFloat(t.split(", ")[e]),D_=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return F_(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?F_(s[1],t):0}},az=new Set(["x","y","z"]),oz=Vf.filter(t=>!az.has(t));function lz(t){const e=[];return oz.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Pf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:D_(4,13),y:D_(5,14)};Pf.translateX=Pf.x;Pf.translateY=Pf.y;const Nh=new Set;let v4=!1,b4=!1;function hA(){if(b4){const t=Array.from(Nh).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=lz(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,a])=>{var o;(o=i.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}b4=!1,v4=!1,Nh.forEach(t=>t.complete()),Nh.clear()}function dA(){Nh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(b4=!0)})}function cz(){dA(),hA()}class $3{constructor(e,n,i,r,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Nh.add(this),v4||(v4=!0,ti.read(dA),ti.resolveKeyframes(hA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=r==null?void 0:r.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const l=i.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&a===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Nh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Nh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),uz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hz(t){const e=uz.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function pA(t,e,n=1){const[i,r]=hz(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const a=s.trim();return fA(a)?parseFloat(a):a}return k3(r)?pA(r,e,n+1):r}const gA=t=>e=>e.test(t),dz={test:t=>t==="auto",parse:t=>t},mA=[Hf,Ct,hl,Bc,tB,eB,dz],O_=t=>mA.find(gA(t));class yA extends $3{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),k3(c))){const h=pA(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Wj.has(i)||e.length!==2)return;const[r,s]=e,a=O_(r),o=O_(s);if(a!==o)if(R_(a)&&R_(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)VB(e[r])&&i.push(r);i.length&&sz(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pf[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Pf[i](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const I_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fu.test(t)||t==="0")&&!t.startsWith("url("));function fz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function pz(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=I_(r,e),o=I_(s,e);return!a||!o?!1:fz(t)||(n==="spring"||M3(n))&&i}const gz=t=>t!==null;function h5(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(gz),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const mz=40;class xA{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=dl.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>mz?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&cz(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=dl.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!pz(e,i,r,s))if(a)this.options.duration=0;else{l&&l(h5(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const fi=(t,e,n)=>t+(e-t)*n;function rx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yz({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,a=0;if(!e)r=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;r=rx(l,o,t+1/3),s=rx(l,o,t),a=rx(l,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}function d2(t,e){return n=>n>0?e:t}const sx=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},xz=[y4,mh,Zd],vz=t=>xz.find(e=>e.test(t));function B_(t){const e=vz(t);if(!e)return!1;let n=e.parse(t);return e===Zd&&(n=yz(n)),n}const z_=(t,e)=>{const n=B_(t),i=B_(e);if(!n||!i)return d2(t,e);const r={...n};return s=>(r.red=sx(n.red,i.red,s),r.green=sx(n.green,i.green,s),r.blue=sx(n.blue,i.blue,s),r.alpha=fi(n.alpha,i.alpha,s),mh.transform(r))},bz=(t,e)=>n=>e(t(n)),Ng=(...t)=>t.reduce(bz),w4=new Set(["none","hidden"]);function wz(t,e){return w4.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _z(t,e){return n=>fi(t,e,n)}function G3(t){return typeof t=="number"?_z:typeof t=="string"?k3(t)?d2:is.test(t)?z_:kz:Array.isArray(t)?vA:typeof t=="object"?is.test(t)?z_:Sz:d2}function vA(t,e){const n=[...t],i=n.length,r=t.map((s,a)=>G3(s)(s,e[a]));return s=>{for(let a=0;a<i;a++)n[a]=r[a](s);return n}}function Sz(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=G3(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function Nz(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][r[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;i[s]=l,r[a]++}return i}const kz=(t,e)=>{const n=fu.createTransformer(e),i=Qp(t),r=Qp(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?w4.has(t)&&!r.values.length||w4.has(e)&&!i.values.length?wz(t,e):Ng(vA(Nz(i,r),r.values),n):d2(t,e)};function bA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?fi(t,e,n):G3(t)(t,e)}const Cz=5;function wA(t,e,n){const i=Math.max(e-Cz,0);return Kj(n-t(i),e-i)}const Ni={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ax=.001;function jz({duration:t=Ni.duration,bounce:e=Ni.bounce,velocity:n=Ni.velocity,mass:i=Ni.mass}){let r,s,a=1-e;a=sc(Ni.minDamping,Ni.maxDamping,a),t=sc(Ni.minDuration,Ni.maxDuration,Zl(t)),a<1?(r=c=>{const h=c*a,g=h*t,m=h-n,p=_4(c,a),x=Math.exp(-g);return ax-m/p*x},s=c=>{const g=c*a*t,m=g*n+n,p=Math.pow(a,2)*Math.pow(c,2)*t,x=Math.exp(-g),b=_4(Math.pow(c,2),a);return(-r(c)+ax>0?-1:1)*((m-p)*x)/b}):(r=c=>{const h=Math.exp(-c*t),g=(c-n)*t+1;return-ax+h*g},s=c=>{const h=Math.exp(-c*t),g=(n-c)*(t*t);return h*g});const o=5/t,l=Pz(r,s,o);if(t=Jl(t),isNaN(l))return{stiffness:Ni.stiffness,damping:Ni.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:t}}}const Az=12;function Pz(t,e,n){let i=n;for(let r=1;r<Az;r++)i=i-t(i)/e(i);return i}function _4(t,e){return t*Math.sqrt(1-e*e)}const Lz=["duration","bounce"],Tz=["stiffness","damping","mass"];function U_(t,e){return e.some(n=>t[n]!==void 0)}function Ez(t){let e={velocity:Ni.velocity,stiffness:Ni.stiffness,damping:Ni.damping,mass:Ni.mass,isResolvedFromDuration:!1,...t};if(!U_(t,Tz)&&U_(t,Lz))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*sc(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Ni.mass,stiffness:r,damping:s}}else{const n=jz(t);e={...e,...n,mass:Ni.mass},e.isResolvedFromDuration=!0}return e}function _A(t=Ni.visualDuration,e=Ni.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:g,velocity:m,isResolvedFromDuration:p}=Ez({...n,velocity:-Zl(n.velocity||0)}),x=m||0,b=c/(2*Math.sqrt(l*h)),S=a-s,N=Zl(Math.sqrt(l/h)),j=Math.abs(S)<5;i||(i=j?Ni.restSpeed.granular:Ni.restSpeed.default),r||(r=j?Ni.restDelta.granular:Ni.restDelta.default);let w;if(b<1){const E=_4(N,b);w=O=>{const U=Math.exp(-b*N*O);return a-U*((x+b*N*S)/E*Math.sin(E*O)+S*Math.cos(E*O))}}else if(b===1)w=E=>a-Math.exp(-N*E)*(S+(x+N*S)*E);else{const E=N*Math.sqrt(b*b-1);w=O=>{const U=Math.exp(-b*N*O),M=Math.min(E*O,300);return a-U*((x+b*N*S)*Math.sinh(M)+E*S*Math.cosh(M))/E}}const k={calculatedDuration:p&&g||null,next:E=>{const O=w(E);if(p)o.done=E>=g;else{let U=0;b<1&&(U=E===0?Jl(x):wA(w,E,O));const M=Math.abs(U)<=i,I=Math.abs(a-O)<=r;o.done=M&&I}return o.value=o.done?a:O,o},toString:()=>{const E=Math.min(zj(k),p4),O=Uj(U=>k.next(E*U).value,E,30);return E+"ms "+O}};return k}function V_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:h}){const g=t[0],m={done:!1,value:g},p=M=>o!==void 0&&M<o||l!==void 0&&M>l,x=M=>o===void 0?l:l===void 0||Math.abs(o-M)<Math.abs(l-M)?o:l;let b=n*e;const S=g+b,N=a===void 0?S:a(S);N!==S&&(b=N-g);const j=M=>-b*Math.exp(-M/i),w=M=>N+j(M),k=M=>{const I=j(M),F=w(M);m.done=Math.abs(I)<=c,m.value=m.done?N:F};let E,O;const U=M=>{p(m.value)&&(E=M,O=_A({keyframes:[m.value,x(m.value)],velocity:wA(w,M,m.value),damping:r,stiffness:s,restDelta:c,restSpeed:h}))};return U(0),{calculatedDuration:null,next:M=>{let I=!1;return!O&&E===void 0&&(I=!0,k(M),U(M)),E!==void 0&&M>=E?O.next(M-E):(!I&&k(M),m)}}}const Mz=Sg(.42,0,1,1),Rz=Sg(0,0,.58,1),SA=Sg(.42,0,.58,1),Fz=t=>Array.isArray(t)&&typeof t[0]!="number",Dz={linear:ua,easeIn:Mz,easeInOut:SA,easeOut:Rz,circIn:z3,circInOut:iA,circOut:nA,backIn:B3,backInOut:eA,backOut:Zj,anticipate:tA},H_=t=>{if(R3(t)){bj(t.length===4);const[e,n,i,r]=t;return Sg(e,n,i,r)}else if(typeof t=="string")return Dz[t];return t};function Oz(t,e,n){const i=[],r=n||bA,s=t.length-1;for(let a=0;a<s;a++){let o=r(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ua:e;o=Ng(l,o)}i.push(o)}return i}function Iz(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(bj(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Oz(e,i,r),l=o.length,c=h=>{if(a&&h<t[0])return e[0];let g=0;if(l>1)for(;g<t.length-2&&!(h<t[g+1]);g++);const m=jf(t[g],t[g+1],h);return o[g](m)};return n?h=>c(sc(t[0],t[s-1],h)):c}function Bz(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=jf(0,e,i);t.push(fi(n,1,r))}}function zz(t){const e=[0];return Bz(e,t.length-1),e}function Uz(t,e){return t.map(n=>n*e)}function Vz(t,e){return t.map(()=>e||SA).splice(0,t.length-1)}function f2({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=Fz(i)?i.map(H_):H_(i),s={done:!1,value:e[0]},a=Uz(n&&n.length===e.length?n:zz(e),t),o=Iz(a,e,{ease:Array.isArray(r)?r:Vz(e,r)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const Hz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ti.update(e,!0),stop:()=>du(e),now:()=>Fr.isProcessing?Fr.timestamp:dl.now()}},$z={decay:V_,inertia:V_,tween:f2,keyframes:f2,spring:_A},Gz=t=>t/100;class q3 extends xA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,a=(r==null?void 0:r.KeyframeResolver)||$3,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(s,o,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=this.options,o=M3(n)?n:$z[n]||f2;let l,c;o!==f2&&typeof e[0]!="number"&&(l=Ng(Gz,bA(e[0],e[1])),e=[0,100]);const h=o({...this.options,keyframes:e});s==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=zj(h));const{calculatedDuration:g}=h,m=g+r,p=m*(i+1)-r;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:g,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:g}=i;if(this.startTime===null)return s.next(0);const{delay:m,repeat:p,repeatType:x,repeatDelay:b,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-m*(this.speed>=0?1:-1),j=this.speed>=0?N<0:N>h;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let w=this.currentTime,k=s;if(p){const M=Math.min(this.currentTime,h)/g;let I=Math.floor(M),F=M%1;!F&&M>=1&&(F=1),F===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(x==="reverse"?(F=1-F,b&&(F-=b/g)):x==="mirror"&&(k=a)),w=sc(0,1,F)*g}const E=j?{done:!1,value:l[0]}:k.next(w);o&&(E.value=o(E.value));let{done:O}=E;!j&&c!==null&&(O=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return U&&r!==void 0&&(E.value=h5(l,this.options,r)),S&&S(E.value),U&&this.finish(),E}get duration(){const{resolved:e}=this;return e?Zl(e.calculatedDuration):0}get time(){return Zl(this.currentTime)}set time(e){e=Jl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Hz,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const qz=new Set(["opacity","clipPath","filter","transform"]);function Wz(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=Hj(o,r);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const Kz=x3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),p2=10,Xz=2e4;function Yz(t){return M3(t.type)||t.type==="spring"||!Vj(t.ease)}function Qz(t,e){const n=new q3({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<Xz;)i=n.sample(s),r.push(i.value),s+=p2;return{times:void 0,keyframes:r,duration:s-p2,ease:"linear"}}const NA={anticipate:tA,backInOut:eA,circInOut:iA};function Jz(t){return t in NA}class $_ extends xA{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new yA(s,(a,o)=>this.onKeyframesResolved(a,o),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&h2()&&Jz(s)&&(s=NA[s]),Yz(this.options)){const{onComplete:g,onUpdate:m,motionValue:p,element:x,...b}=this.options,S=Qz(e,b);e=S.keyframes,e.length===1&&(e[1]=e[0]),i=S.duration,r=S.times,s=S.ease,a="keyframes"}const h=Wz(o.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(A_(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:g}=this.options;o.set(h5(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:r,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Zl(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Zl(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Jl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ua;const{animation:i}=n;A_(i,e)}return ua}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:g,element:m,...p}=this.options,x=new q3({...p,keyframes:i,duration:r,type:s,ease:a,times:o,isGenerator:!0}),b=Jl(this.time);c.setWithVelocity(x.sample(b-p2).value,x.sample(b).value,p2)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:a,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Kz()&&i&&qz.has(i)&&!l&&!c&&!r&&s!=="mirror"&&a!==0&&o!=="inertia"}}const Zz={type:"spring",stiffness:500,damping:25,restSpeed:10},eU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tU={type:"keyframes",duration:.8},nU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iU=(t,{keyframes:e})=>e.length>2?tU:zh.has(t)?t.startsWith("scale")?eU(e[1]):Zz:nU;function rU({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const W3=(t,e,n,i={},r,s)=>a=>{const o=E3(i,t)||{},l=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Jl(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:r};rU(o)||(h={...h,...iU(t,h)}),h.duration&&(h.duration=Jl(h.duration)),h.repeatDelay&&(h.repeatDelay=Jl(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(g=!0)),g&&!s&&e.get()!==void 0){const m=h5(h.keyframes,o);if(m!==void 0)return ti.update(()=>{h.onUpdate(m),h.onComplete()}),new SB([])}return!s&&$_.supports(h)?new $_(h):new q3(h)};function sU({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function kA(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;i&&(a=i);const c=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const g in l){const m=t.getValue(g,(s=t.latestValues[g])!==null&&s!==void 0?s:null),p=l[g];if(p===void 0||h&&sU(h,g))continue;const x={delay:n,...E3(a||{},g)};let b=!1;if(window.MotionHandoffAnimation){const N=Xj(t);if(N){const j=window.MotionHandoffAnimation(N,g,ti);j!==null&&(x.startTime=j,b=!0)}}m4(t,g),m.start(W3(g,m,p,t.shouldReduceMotion&&Wj.has(g)?{type:!1}:x,t,b));const S=m.animation;S&&c.push(S)}return o&&Promise.all(c).then(()=>{ti.update(()=>{o&&OB(t,o)})}),c}function S4(t,e,n={}){var i;const r=u5(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(kA(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:g,staggerDirection:m}=s;return aU(t,e,h+c,g,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>h())}else return Promise.all([a(),o(n.delay)])}function aU(t,e,n=0,i=0,r=1,s){const a=[],o=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>o-c*i;return Array.from(t.variantChildren).sort(oU).forEach((c,h)=>{c.notify("AnimationStart",e),a.push(S4(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function oU(t,e){return t.sortNodePosition(e)}function lU(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>S4(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=S4(t,e,n);else{const r=typeof e=="function"?u5(t,e,n.custom):e;i=Promise.all(kA(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const cU=b3.length;function CA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?CA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cU;n++){const i=b3[n],r=t.props[i];(Kp(r)||r===!1)&&(e[i]=r)}return e}const uU=[...v3].reverse(),hU=v3.length;function dU(t){return e=>Promise.all(e.map(({animation:n,options:i})=>lU(t,n,i)))}function fU(t){let e=dU(t),n=G_(),i=!0;const r=l=>(c,h)=>{var g;const m=u5(t,h,l==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(m){const{transition:p,transitionEnd:x,...b}=m;c={...c,...b,...x}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,h=CA(t.parent)||{},g=[],m=new Set;let p={},x=1/0;for(let S=0;S<hU;S++){const N=uU[S],j=n[N],w=c[N]!==void 0?c[N]:h[N],k=Kp(w),E=N===l?j.isActive:null;E===!1&&(x=S);let O=w===h[N]&&w!==c[N]&&k;if(O&&i&&t.manuallyAnimateOnMount&&(O=!1),j.protectedKeys={...p},!j.isActive&&E===null||!w&&!j.prevProp||l5(w)||typeof w=="boolean")continue;const U=pU(j.prevProp,w);let M=U||N===l&&j.isActive&&!O&&k||S>x&&k,I=!1;const F=Array.isArray(w)?w:[w];let P=F.reduce(r(N),{});E===!1&&(P={});const{prevResolvedValues:R={}}=j,$={...R,...P},G=pe=>{M=!0,m.has(pe)&&(I=!0,m.delete(pe)),j.needsAnimating[pe]=!0;const Z=t.getValue(pe);Z&&(Z.liveStyle=!1)};for(const pe in $){const Z=P[pe],te=R[pe];if(p.hasOwnProperty(pe))continue;let he=!1;f4(Z)&&f4(te)?he=!Bj(Z,te):he=Z!==te,he?Z!=null?G(pe):m.add(pe):Z!==void 0&&m.has(pe)?G(pe):j.protectedKeys[pe]=!0}j.prevProp=w,j.prevResolvedValues=P,j.isActive&&(p={...p,...P}),i&&t.blockInitialAnimation&&(M=!1),M&&(!(O&&U)||I)&&g.push(...F.map(pe=>({animation:pe,options:{type:N}})))}if(m.size){const S={};m.forEach(N=>{const j=t.getBaseTarget(N),w=t.getValue(N);w&&(w.liveStyle=!0),S[N]=j??null}),g.push({animation:S})}let b=!!g.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(g):Promise.resolve()}function o(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const g=a(l);for(const m in n)n[m].protectedKeys={};return g}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=G_(),i=!0}}}function pU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Bj(e,t):!1}function Yu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function G_(){return{animate:Yu(!0),whileInView:Yu(),whileHover:Yu(),whileTap:Yu(),whileDrag:Yu(),whileFocus:Yu(),exit:Yu()}}class Su{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gU extends Su{constructor(e){super(e),e.animationState||(e.animationState=fU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();l5(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let mU=0;class yU extends Su{constructor(){super(...arguments),this.id=mU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xU={animation:{Feature:gU},exit:{Feature:yU}};function Jp(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function kg(t){return{point:{x:t.pageX,y:t.pageY}}}const vU=t=>e=>F3(e)&&t(e,kg(e));function yp(t,e,n,i){return Jp(t,e,vU(n),i)}const q_=(t,e)=>Math.abs(t-e);function bU(t,e){const n=q_(t.x,e.x),i=q_(t.y,e.y);return Math.sqrt(n**2+i**2)}class jA{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=lx(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=bU(g.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:x}=g,{timestamp:b}=Fr;this.history.push({...x,timestamp:b});const{onStart:S,onMove:N}=this.handlers;m||(S&&S(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,g)},this.handlePointerMove=(g,m)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=ox(m,this.transformPagePoint),ti.update(this.updatePoint,!0)},this.handlePointerUp=(g,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=lx(g.type==="pointercancel"?this.lastMoveEventInfo:ox(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(g,S),x&&x(g,S)},!F3(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const a=kg(e),o=ox(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Fr;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,lx(o,this.history)),this.removeListeners=Ng(yp(this.contextWindow,"pointermove",this.handlePointerMove),yp(this.contextWindow,"pointerup",this.handlePointerUp),yp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),du(this.updatePoint)}}function ox(t,e){return e?{point:e(t.point)}:t}function W_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lx({point:t},e){return{point:t,delta:W_(t,AA(e)),offset:W_(t,wU(e)),velocity:_U(e,.1)}}function wU(t){return t[0]}function AA(t){return t[t.length-1]}function _U(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=AA(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Jl(e)));)n--;if(!i)return{x:0,y:0};const s=Zl(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const PA=1e-4,SU=1-PA,NU=1+PA,LA=.01,kU=0-LA,CU=0+LA;function da(t){return t.max-t.min}function jU(t,e,n){return Math.abs(t-e)<=n}function K_(t,e,n,i=.5){t.origin=i,t.originPoint=fi(e.min,e.max,t.origin),t.scale=da(n)/da(e),t.translate=fi(n.min,n.max,t.origin)-t.originPoint,(t.scale>=SU&&t.scale<=NU||isNaN(t.scale))&&(t.scale=1),(t.translate>=kU&&t.translate<=CU||isNaN(t.translate))&&(t.translate=0)}function xp(t,e,n,i){K_(t.x,e.x,n.x,i?i.originX:void 0),K_(t.y,e.y,n.y,i?i.originY:void 0)}function X_(t,e,n){t.min=n.min+e.min,t.max=t.min+da(e)}function AU(t,e,n){X_(t.x,e.x,n.x),X_(t.y,e.y,n.y)}function Y_(t,e,n){t.min=e.min-n.min,t.max=t.min+da(e)}function vp(t,e,n){Y_(t.x,e.x,n.x),Y_(t.y,e.y,n.y)}function PU(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?fi(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?fi(n,t,i.max):Math.min(t,n)),t}function Q_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function LU(t,{top:e,left:n,bottom:i,right:r}){return{x:Q_(t.x,n,r),y:Q_(t.y,e,i)}}function J_(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function TU(t,e){return{x:J_(t.x,e.x),y:J_(t.y,e.y)}}function EU(t,e){let n=.5;const i=da(t),r=da(e);return r>i?n=jf(e.min,e.max-i,t.min):i>r&&(n=jf(t.min,t.max-r,e.min)),sc(0,1,n)}function MU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const N4=.35;function RU(t=N4){return t===!1?t=0:t===!0&&(t=N4),{x:Z_(t,"left","right"),y:Z_(t,"top","bottom")}}function Z_(t,e,n){return{min:e8(t,e),max:e8(t,n)}}function e8(t,e){return typeof t=="number"?t:t[e]||0}const t8=()=>({translate:0,scale:1,origin:0,originPoint:0}),ef=()=>({x:t8(),y:t8()}),n8=()=>({min:0,max:0}),Fi=()=>({x:n8(),y:n8()});function Va(t){return[t("x"),t("y")]}function TA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function FU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function DU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function cx(t){return t===void 0||t===1}function k4({scale:t,scaleX:e,scaleY:n}){return!cx(t)||!cx(e)||!cx(n)}function sh(t){return k4(t)||EA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function EA(t){return i8(t.x)||i8(t.y)}function i8(t){return t&&t!=="0%"}function g2(t,e,n){const i=t-n,r=e*i;return n+r}function r8(t,e,n,i,r){return r!==void 0&&(t=g2(t,r,i)),g2(t,n,i)+e}function C4(t,e=0,n=1,i,r){t.min=r8(t.min,e,n,i,r),t.max=r8(t.max,e,n,i,r)}function MA(t,{x:e,y:n}){C4(t.x,e.translate,e.scale,e.originPoint),C4(t.y,n.translate,n.scale,n.originPoint)}const s8=.999999999999,a8=1.0000000000001;function OU(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,a;for(let o=0;o<r;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&nf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,MA(t,a)),i&&sh(s.latestValues)&&nf(t,s.latestValues))}e.x<a8&&e.x>s8&&(e.x=1),e.y<a8&&e.y>s8&&(e.y=1)}function tf(t,e){t.min=t.min+e,t.max=t.max+e}function o8(t,e,n,i,r=.5){const s=fi(t.min,t.max,r);C4(t,e,n,s,i)}function nf(t,e){o8(t.x,e.x,e.scaleX,e.scale,e.originX),o8(t.y,e.y,e.scaleY,e.scale,e.originY)}function RA(t,e){return TA(DU(t.getBoundingClientRect(),e))}function IU(t,e,n){const i=RA(t,n),{scroll:r}=e;return r&&(tf(i.x,r.offset.x),tf(i.y,r.offset.y)),i}const FA=({current:t})=>t?t.ownerDocument.defaultView:null,BU=new WeakMap;class zU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fi(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kg(h).point)},s=(h,g)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EB(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Va(S=>{let N=this.getAxisMotionValue(S).get()||0;if(hl.test(N)){const{projection:j}=this.visualElement;if(j&&j.layout){const w=j.layout.layoutBox[S];w&&(N=da(w)*(parseFloat(N)/100))}}this.originPoint[S]=N}),x&&ti.postRender(()=>x(h,g)),m4(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,g)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:S}=g;if(p&&this.currentDirection===null){this.currentDirection=UU(S),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,S),this.updateAxis("y",g.point,S),this.visualElement.render(),b&&b(h,g)},o=(h,g)=>this.stop(h,g),l=()=>Va(h=>{var g;return this.getAnimationState(h)==="paused"&&((g=this.getAxisMotionValue(h).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new jA(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:FA(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&ti.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Sm(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=PU(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Jd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=LU(r.layoutBox,n):this.constraints=!1,this.elastic=RU(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Va(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=MU(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jd(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=IU(i,r.root,this.visualElement.getTransformPagePoint());let a=TU(r.layout.layoutBox,s);if(n){const o=n(FU(a));this.hasMutatedConstraints=!!o,o&&(a=TA(o))}return a}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Va(h=>{if(!Sm(h,n,this.currentDirection))return;let g=l&&l[h]||{};a&&(g={min:0,max:0});const m=r?200:1e6,p=r?40:1e7,x={type:"inertia",velocity:i?e[h]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(h,x)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return m4(this.visualElement,e),i.start(W3(e,i,0,n,this.visualElement,!1))}stopAnimation(){Va(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Va(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Va(n=>{const{drag:i}=this.getProps();if(!Sm(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[n];s.set(e[n]-fi(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Jd(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Va(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();r[a]=EU({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Va(a=>{if(!Sm(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(fi(l,c,r[a]))})}addListeners(){if(!this.visualElement.current)return;BU.set(this.visualElement,this);const e=this.visualElement.current,n=yp(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Jd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ti.read(i);const a=Jp(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Va(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=l[h].translate,g.set(g.get()+l[h].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=N4,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Sm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function UU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VU extends Su{constructor(e){super(e),this.removeGroupControls=ua,this.removeListeners=ua,this.controls=new zU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ua}unmount(){this.removeGroupControls(),this.removeListeners()}}const l8=t=>(e,n)=>{t&&ti.postRender(()=>t(e,n))};class HU extends Su{constructor(){super(...arguments),this.removePointerDownListener=ua}onPointerDown(e){this.session=new jA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:l8(e),onStart:l8(n),onMove:i,onEnd:(s,a)=>{delete this.session,r&&ti.postRender(()=>r(s,a))}}}mount(){this.removePointerDownListener=yp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const b1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const F0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ct.test(t))t=parseFloat(t);else return t;const n=c8(t,e.target.x),i=c8(t,e.target.y);return`${n}% ${i}%`}},$U={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=fu.parse(t);if(r.length>5)return i;const s=fu.createTransformer(t),a=typeof r[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;r[0+a]/=o,r[1+a]/=l;const c=fi(o,l,.5);return typeof r[2+a]=="number"&&(r[2+a]/=c),typeof r[3+a]=="number"&&(r[3+a]/=c),s(r)}};class GU extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;hB(qU),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),b1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,a=i.projection;return a&&(a.isPresent=s,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||ti.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DA(t){const[e,n]=CI(),i=Q.useContext(xj);return d.jsx(GU,{...t,layoutGroup:i,switchLayoutGroup:Q.useContext(Cj),isPresent:e,safeToRemove:n})}const qU={borderRadius:{...F0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:F0,borderTopRightRadius:F0,borderBottomLeftRadius:F0,borderBottomRightRadius:F0,boxShadow:$U};function WU(t,e,n){const i=as(t)?t:Yp(t);return i.start(W3("",i,e,n)),i.animation}function KU(t){return t instanceof SVGElement&&t.tagName!=="svg"}const XU=(t,e)=>t.depth-e.depth;class YU{constructor(){this.children=[],this.isDirty=!1}add(e){D3(this.children,e),this.isDirty=!0}remove(e){O3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XU),this.isDirty=!1,this.children.forEach(e)}}function QU(t,e){const n=dl.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(du(i),t(s-e))};return ti.read(i,!0),()=>du(i)}const OA=["TopLeft","TopRight","BottomLeft","BottomRight"],JU=OA.length,u8=t=>typeof t=="string"?parseFloat(t):t,h8=t=>typeof t=="number"||Ct.test(t);function ZU(t,e,n,i,r,s){r?(t.opacity=fi(0,n.opacity!==void 0?n.opacity:1,eV(i)),t.opacityExit=fi(e.opacity!==void 0?e.opacity:1,0,tV(i))):s&&(t.opacity=fi(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let a=0;a<JU;a++){const o=`border${OA[a]}Radius`;let l=d8(e,o),c=d8(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||h8(l)===h8(c)?(t[o]=Math.max(fi(u8(l),u8(c),i),0),(hl.test(c)||hl.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=fi(e.rotate||0,n.rotate||0,i))}function d8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const eV=IA(0,.5,nA),tV=IA(.5,.95,ua);function IA(t,e,n){return i=>i<t?0:i>e?1:n(jf(t,e,i))}function f8(t,e){t.min=e.min,t.max=e.max}function Ba(t,e){f8(t.x,e.x),f8(t.y,e.y)}function p8(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function g8(t,e,n,i,r){return t-=e,t=g2(t,1/n,i),r!==void 0&&(t=g2(t,1/r,i)),t}function nV(t,e=0,n=1,i=.5,r,s=t,a=t){if(hl.test(e)&&(e=parseFloat(e),e=fi(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=fi(s.min,s.max,i);t===s&&(o-=e),t.min=g8(t.min,e,n,o,r),t.max=g8(t.max,e,n,o,r)}function m8(t,e,[n,i,r],s,a){nV(t,e[n],e[i],e[r],e.scale,s,a)}const iV=["x","scaleX","originX"],rV=["y","scaleY","originY"];function y8(t,e,n,i){m8(t.x,e,iV,n?n.x:void 0,i?i.x:void 0),m8(t.y,e,rV,n?n.y:void 0,i?i.y:void 0)}function x8(t){return t.translate===0&&t.scale===1}function BA(t){return x8(t.x)&&x8(t.y)}function v8(t,e){return t.min===e.min&&t.max===e.max}function sV(t,e){return v8(t.x,e.x)&&v8(t.y,e.y)}function b8(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zA(t,e){return b8(t.x,e.x)&&b8(t.y,e.y)}function w8(t){return da(t.x)/da(t.y)}function _8(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class aV{constructor(){this.members=[]}add(e){D3(this.members,e),e.scheduleRender()}remove(e){if(O3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oV(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((r||s||a)&&(i=`translate3d(${r}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:g,rotateY:m,skewX:p,skewY:x}=n;c&&(i=`perspective(${c}px) ${i}`),h&&(i+=`rotate(${h}deg) `),g&&(i+=`rotateX(${g}deg) `),m&&(i+=`rotateY(${m}deg) `),p&&(i+=`skewX(${p}deg) `),x&&(i+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const ah={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},tp=typeof window<"u"&&window.MotionDebug!==void 0,ux=["","X","Y","Z"],lV={visibility:"hidden"},S8=1e3;let cV=0;function hx(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function UA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Xj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ti,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&UA(i)}function VA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},o=e==null?void 0:e()){this.id=cV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,tp&&(ah.totalNodes=ah.resolvedTargetDeltas=ah.recalculatedProjection=0),this.nodes.forEach(dV),this.nodes.forEach(yV),this.nodes.forEach(xV),this.nodes.forEach(fV),tp&&window.MotionDebug.record(ah)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new YU)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new I3),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KU(a),this.instance=a;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let g;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=QU(m,250),b1.hasAnimatedSinceResize&&(b1.hasAnimatedSinceResize=!1,this.nodes.forEach(k8))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||SV,{onLayoutAnimationStart:S,onLayoutAnimationComplete:N}=h.getProps(),j=!this.targetLayout||!zA(this.targetLayout,x)||p,w=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,w);const k={...E3(b,"layout"),onPlay:S,onComplete:N};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else m||k8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,du(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vV),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(N8);return}this.isUpdating||this.nodes.forEach(gV),this.isUpdating=!1,this.nodes.forEach(mV),this.nodes.forEach(uV),this.nodes.forEach(hV),this.clearAllSnapshots();const o=dl.now();Fr.delta=sc(0,1e3/60,o-Fr.timestamp),Fr.timestamp=o,Fr.isProcessing=!0,tx.update.process(Fr),tx.preRender.process(Fr),tx.render.process(Fr),Fr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pV),this.sharedNodes.forEach(bV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ti.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ti.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!BA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;a&&(o||sh(this.latestValues)||h)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),NV(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Fi();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(kV))){const{scroll:h}=this.root;h&&(tf(l.x,h.offset.x),tf(l.y,h.offset.y))}return l}removeElementScroll(a){var o;const l=Fi();if(Ba(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:g,options:m}=h;h!==this.root&&g&&m.layoutScroll&&(g.wasRoot&&Ba(l,a),tf(l.x,g.offset.x),tf(l.y,g.offset.y))}return l}applyTransform(a,o=!1){const l=Fi();Ba(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&nf(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),sh(h.latestValues)&&nf(l,h.latestValues)}return sh(this.latestValues)&&nf(l,this.latestValues),l}removeTransform(a){const o=Fi();Ba(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!sh(c.latestValues))continue;k4(c.latestValues)&&c.updateSnapshot();const h=Fi(),g=c.measurePageBox();Ba(h,g),y8(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return sh(this.latestValues)&&y8(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:m}=this.options;if(!(!this.layout||!(g||m))){if(this.resolvedRelativeTargetAt=Fr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fi(),this.relativeTargetOrigin=Fi(),vp(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ba(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fi(),this.targetWithTransforms=Fi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ba(this.target,this.layout.layoutBox),MA(this.target,this.targetDelta)):Ba(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fi(),this.relativeTargetOrigin=Fi(),vp(this.relativeTargetOrigin,this.target,p.target),Ba(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tp&&ah.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||k4(this.parent.latestValues)||EA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Fr.timestamp&&(c=!1),c)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;Ba(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;OU(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Fi());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p8(this.prevProjectionDelta.x,this.projectionDelta.x),p8(this.prevProjectionDelta.y,this.projectionDelta.y)),xp(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!_8(this.projectionDelta.x,this.prevProjectionDelta.x)||!_8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),tp&&ah.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ef(),this.projectionDelta=ef(),this.projectionDeltaWithTransform=ef()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},g=ef();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Fi(),p=l?l.source:void 0,x=this.layout?this.layout.source:void 0,b=p!==x,S=this.getStack(),N=!S||S.members.length<=1,j=!!(b&&!N&&this.options.crossfade===!0&&!this.path.some(_V));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const E=k/1e3;C8(g.x,a.x,E),C8(g.y,a.y,E),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vp(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wV(this.relativeTarget,this.relativeTargetOrigin,m,E),w&&sV(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Fi()),Ba(w,this.relativeTarget)),b&&(this.animationValues=h,ZU(h,c,this.latestValues,E,j,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(du(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ti.update(()=>{b1.hasAnimatedSinceResize=!0,this.currentAnimation=WU(0,S8,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(S8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:h}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&HA(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Fi();const g=da(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+g;const m=da(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+m}Ba(o,l),nf(o,h),xp(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new aV),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&hx("z",a,c,this.animationValues);for(let h=0;h<ux.length;h++)hx(`rotate${ux[h]}`,a,c,this.animationValues),hx(`skew${ux[h]}`,a,c,this.animationValues);a.render();for(const h in c)a.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lV;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=x1(a==null?void 0:a.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=x1(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!sh(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const m=g.animationValues||g.latestValues;this.applyTransformsToTarget(),c.transform=oV(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:p,y:x}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,g.animationValues?c.opacity=g===this?(l=(o=m.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=g===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in u2){if(m[b]===void 0)continue;const{correct:S,applyTo:N}=u2[b],j=c.transform==="none"?m[b]:S(m[b],g);if(N){const w=N.length;for(let k=0;k<w;k++)c[N[k]]=j}else c[b]=j}return this.options.layoutId&&(c.pointerEvents=g===this?x1(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(N8),this.root.sharedNodes.clear()}}}function uV(t){t.updateLayout()}function hV(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Va(g=>{const m=a?n.measuredBox[g]:n.layoutBox[g],p=da(m);m.min=i[g].min,m.max=m.min+p}):HA(s,n.layoutBox,i)&&Va(g=>{const m=a?n.measuredBox[g]:n.layoutBox[g],p=da(i[g]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+p)});const o=ef();xp(o,i,n.layoutBox);const l=ef();a?xp(l,t.applyTransform(r,!0),n.measuredBox):xp(l,i,n.layoutBox);const c=!BA(o);let h=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:m,layout:p}=g;if(m&&p){const x=Fi();vp(x,n.layoutBox,m.layoutBox);const b=Fi();vp(b,i,p.layoutBox),zA(x,b)||(h=!0),g.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function dV(t){tp&&ah.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pV(t){t.clearSnapshot()}function N8(t){t.clearMeasurements()}function gV(t){t.isLayoutDirty=!1}function mV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function k8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yV(t){t.resolveTargetDelta()}function xV(t){t.calcProjection()}function vV(t){t.resetSkewAndRotation()}function bV(t){t.removeLeadSnapshot()}function C8(t,e,n){t.translate=fi(e.translate,0,n),t.scale=fi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function j8(t,e,n,i){t.min=fi(e.min,n.min,i),t.max=fi(e.max,n.max,i)}function wV(t,e,n,i){j8(t.x,e.x,n.x,i),j8(t.y,e.y,n.y,i)}function _V(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const SV={duration:.45,ease:[.4,0,.1,1]},A8=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),P8=A8("applewebkit/")&&!A8("chrome/")?Math.round:ua;function L8(t){t.min=P8(t.min),t.max=P8(t.max)}function NV(t){L8(t.x),L8(t.y)}function HA(t,e,n){return t==="position"||t==="preserve-aspect"&&!jU(w8(e),w8(n),.2)}function kV(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const CV=VA({attachResizeListener:(t,e)=>Jp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dx={current:void 0},$A=VA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dx.current){const t=new CV({});t.mount(window),t.setOptions({layoutScroll:!0}),dx.current=t}return dx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jV={pan:{Feature:HU},drag:{Feature:VU,ProjectionNode:$A,MeasureLayout:DA}};function T8(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&ti.postRender(()=>s(e,kg(e)))}class AV extends Su{mount(){const{current:e}=this.node;e&&(this.unmount=jB(e,n=>(T8(this.node,n,"Start"),i=>T8(this.node,i,"End"))))}unmount(){}}class PV extends Su{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ng(Jp(this.node.current,"focus",()=>this.onFocus()),Jp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function E8(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&ti.postRender(()=>s(e,kg(e)))}class LV extends Su{mount(){const{current:e}=this.node;e&&(this.unmount=TB(e,n=>(E8(this.node,n,"Start"),(i,{success:r})=>E8(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const j4=new WeakMap,fx=new WeakMap,TV=t=>{const e=j4.get(t.target);e&&e(t)},EV=t=>{t.forEach(TV)};function MV({root:t,...e}){const n=t||document;fx.has(n)||fx.set(n,{});const i=fx.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(EV,{root:t,...e})),i[r]}function RV(t,e,n){const i=MV(e);return j4.set(t,n),i.observe(t),()=>{j4.delete(t),i.unobserve(t)}}const FV={some:0,all:1};class DV extends Su{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:FV[r]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),m=c?h:g;m&&m(l)};return RV(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(OV(e,n))&&this.startObserver()}unmount(){}}function OV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const IV={inView:{Feature:DV},tap:{Feature:LV},focus:{Feature:PV},hover:{Feature:AV}},BV={layout:{ProjectionNode:$A,MeasureLayout:DA}},A4={current:null},GA={current:!1};function zV(){if(GA.current=!0,!!y3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>A4.current=t.matches;t.addListener(e),e()}else A4.current=!1}const UV=[...mA,is,fu],VV=t=>UV.find(gA(t)),M8=new WeakMap;function HV(t,e,n){for(const i in e){const r=e[i],s=n[i];if(as(r))t.addValue(i,r);else if(as(s))t.addValue(i,Yp(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(i);t.addValue(i,Yp(a!==void 0?a:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const R8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $V{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=dl.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ti.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:h}=a;this.onUpdate=h,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=c5(n),this.isVariantNode=Nj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const x=m[p];l[p]!==void 0&&as(x)&&x.set(l[p],!1)}}mount(e){this.current=e,M8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),GA.current||zV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:A4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){M8.delete(this.current),this.projection&&this.projection.unmount(),du(this.notifyUpdate),du(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=zh.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ti.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Af){const n=Af[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<R8.length;i++){const r=R8[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=e[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=HV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Yp(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(fA(r)||rA(r))?r=parseFloat(r):!VV(r)&&fu.test(n)&&(r=uA(e,n)),this.setBaseTarget(e,as(r)?r.get():r)),as(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const a=N3(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(r=a[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!as(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new I3),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class qA extends $V{constructor(){super(...arguments),this.KeyframeResolver=yA}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;as(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GV(t){return window.getComputedStyle(t)}class qV extends qA{constructor(){super(...arguments),this.type="html",this.renderInstance=Mj}readValueFromInstance(e,n){if(zh.has(n)){const i=H3(n);return i&&i.default||0}else{const i=GV(e),r=(Lj(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return RA(e,n)}build(e,n,i){j3(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return T3(e,n,i)}}class WV extends qA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zh.has(n)){const i=H3(n);return i&&i.default||0}return n=Rj.has(n)?n:w3(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Oj(e,n,i)}build(e,n,i){A3(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){Fj(e,n,i,r)}mount(e){this.isSVGTag=L3(e.tagName),super.mount(e)}}const KV=(t,e)=>S3(t)?new WV(e):new qV(e,{allowProjection:t!==Q.Fragment}),XV=bB({...xU,...IV,...jV,...BV},KV),m2=FI(XV),YV=[{alias:"quockhanh",name:"Khung Quc Khnh",color:"#e11d48",thumb:"/frames/khung-hinh-quockhanh.png",overlay:"/frames/khung-hinh-quockhanh.png",used24h:128,campaign:"A80"},{alias:"khung304",name:"Khung 30/04",color:"#dc2626",thumb:"/frames/kh3.png",overlay:"/frames/kh3.png",used24h:86,campaign:"A80"},{alias:"trungthu",name:"Khung Trung thu",color:"#f43f5e",thumb:"/frames/khung-trung-thu.png",overlay:"/frames/khung-trung-thu.png",used24h:64,campaign:"A80"},{alias:"giangsinh",name:"Khung Ging sinh",color:"#22c55e",thumb:"/frames/khung-giang-sinh.png",overlay:"/frames/khung-giang-sinh.png",used24h:44,campaign:"A80"},{alias:"daihoi3",name:"Khung i hi Ln III",thumb:"/frames/kh1.png",overlay:"/frames/kh1.png",author:"MARKETING VEC",tags:["a80","daihoi","2025"],featured:!0},{alias:"khung-phuong-tan-son-nhi",name:"Khung Phng Tn Sn Nh",thumb:"/frames/kh2.png",overlay:"/frames/kh2.png",author:"MARKETING VEC",tags:["a80","daihoi","2025"],featured:!0}],yh="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,"");async function QV(){try{console.log(` Calling API: ${yh}/api/frames/public`);const t=await fetch(`${yh}/api/frames/public`,{credentials:"include"});if(!t.ok)return console.warn(` API failed: ${t.status}`),null;const e=await t.json();return console.log(" Public frames from API:",e),e.map(i=>({alias:i.Alias||i.alias,name:i.TieuDe||i.tieuDe||"Khung khng tn",thumb:i.UrlXemTruoc||i.urlXemTruoc?`${yh}${i.UrlXemTruoc||i.urlXemTruoc}`:null,overlay:i.UrlXemTruoc||i.urlXemTruoc?`${yh}${i.UrlXemTruoc||i.urlXemTruoc}`:null,id:i.Id||i.id,owner:i.owner||i.Owner||null,ngayTao:i.NgayDang||i.ngayDang||i.NgayTao||i.ngayTao||null,campaign:"a80",featured:!0,used24h:Math.floor(Math.random()*100)+50}))}catch(t){return console.error(" Error fetching public frames:",t),null}}async function JV(t){try{console.log(` Calling API: ${yh}/api/Frames/alias/${t}`);const e=await fetch(`${yh}/api/Frames/alias/${t}`,{credentials:"include"});if(console.log(` Response status: ${e.status}`),!e.ok){if(e.status===404)return null;throw new Error(`HTTP ${e.status}`)}const n=await e.json();console.log(" Raw backend data:",n);const i=n.urlXemTruoc??n.UrlXemTruoc,r=i?`${yh}${i}`:null,s={id:n.id??n.Id,name:n.tieuDe??n.TieuDe,alias:n.alias??n.Alias,type:n.loai??n.Loai,overlay:r,thumb:r,ngayTao:n.ngayDang??n.NgayDang,clicks:n.luotXem??n.LuotXem??0,uses:n.luotTai??n.LuotTai??0,owner:n.owner?{id:n.owner.id??n.owner.Id,name:n.owner.name??n.owner.Name,avatar:n.owner.avatar??n.owner.Avatar}:null};return console.log(" Mapped data:",s),s}catch(e){return console.error(" API Error:",e),null}}async function ZV(){const t=await QV();return t&&t.length>0?(console.log(" Using frames from API"),Promise.resolve(t)):(console.log(" Fallback to mock data"),Promise.resolve(YV.slice(0,10)))}const P4={hidden:{opacity:0,y:24,filter:"blur(2px)"},visible:(t=0)=>({opacity:1,y:0,filter:"blur(0px)",transition:{type:"spring",stiffness:260,damping:22,delay:t*.06}})},eH={hidden:{},visible:{transition:{staggerChildren:.08,delayChildren:.06}}};function F8({i:t=0,className:e="",children:n}){return d.jsx(m2.div,{variants:P4,custom:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"0px 0px -80px 0px"},className:`transform-gpu ${e}`,children:n})}function tH({className:t="",children:e}){return d.jsx(m2.div,{variants:eH,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"0px 0px -80px 0px"},className:t,children:e})}const D8="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,"");function nH({rank:t}){const e=()=>t===1?"bg-gradient-to-br from-yellow-400 to-yellow-500 text-white":t===2?"bg-gradient-to-br from-blue-400 to-blue-500 text-white":t===3?"bg-gradient-to-br from-orange-400 to-orange-500 text-white":"bg-gradient-to-br from-gray-400 to-gray-500 text-white";return d.jsx("div",{className:`absolute top-3 left-3 w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold shadow-lg ${e()} border-4 border-white z-10`,children:t})}function iH(){return d.jsxs("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-50 via-sky-100 to-sky-200"}),d.jsx("div",{className:"absolute -top-24 left-1/4 h-[340px] w-[340px] rounded-full bg-sky-300/30 blur-3xl animate-float"}),d.jsx("div",{className:"absolute bottom-[-140px] right-[18%] h-[420px] w-[420px] rounded-full bg-sky-400/25 blur-3xl animate-float-slow"}),d.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-70",viewBox:"0 0 1440 700",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"cube",x1:"0",x2:"1",children:[d.jsx("stop",{stopColor:"#8DD6FF",stopOpacity:".35"}),d.jsx("stop",{offset:"1",stopColor:"#60A5FA",stopOpacity:".25"})]})}),[{x:80,y:110,w:80,h:80,d:9},{x:220,y:240,w:120,h:120,d:11},{x:420,y:150,w:90,h:90,d:10},{x:620,y:90,w:70,h:70,d:8},{x:730,y:260,w:180,h:180,d:13},{x:980,y:80,w:140,h:140,d:12},{x:1160,y:220,w:90,h:90,d:10},{x:340,y:360,w:70,h:70,d:8},{x:520,y:410,w:160,h:160,d:12},{x:840,y:340,w:110,h:110,d:11}].map((t,e)=>d.jsxs("g",{children:[d.jsx("rect",{x:t.x,y:t.y,width:t.w,height:t.h,rx:"12",fill:"url(#cube)",stroke:"#fff",strokeOpacity:".35"}),d.jsx("path",{d:`M ${t.x} ${t.y} l ${t.d} -${t.d} h ${t.w} l -${t.d} ${t.d} z`,fill:"#ffffff",opacity:".10"}),d.jsx("rect",{x:t.x,y:t.y+t.h,width:t.w,height:"6",fill:"#60A5FA",opacity:".10"})]},e))]})]})}function rH(){const[t,e]=Q.useState([]),[n,i]=Q.useState([]),[r,s]=Q.useState(!1),[a,o]=Q.useState(null),l=ga(),c=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}};Q.useEffect(()=>{o(c())},[]),Q.useEffect(()=>{const b=()=>{const S=c();o(S)};return window.addEventListener("kh_me_changed",b),window.addEventListener("storage",b),()=>{window.removeEventListener("kh_me_changed",b),window.removeEventListener("storage",b)}},[]),Q.useEffect(()=>{ZV().then(e),(async()=>{try{const S=await fetch(`${D8}/api/frames/trending?take=4`,{credentials:"include"});if(S.ok){const j=(await S.json()).map(w=>{let k=w.thumb||w.UrlXemTruoc||w.urlXemTruoc;k&&!k.startsWith("http")&&(k=`${D8}${k}`);const E=w.ngayTao||w.NgayTao||w.createdAt||w.CreatedAt||w.createdDate||w.CreatedDate||null;return{id:w.id||w.Id,alias:w.alias||w.Alias,name:w.name||w.tieuDe||w.TieuDe,thumb:k,overlay:k,views:w.luotXem||w.LuotXem||0,ngayTao:E,tag:"Chin dch",owner:w.owner?{id:w.owner.id,name:w.owner.name,avatar:w.owner.avatar}:null}});i(j)}}catch(S){console.error(" Fetch trending error:",S)}})()},[]),Q.useMemo(()=>t!=null&&t.length?t.map(S=>({...S,_score:(S.used24h||S.views24h||0)+(S.featured?100:0)})).sort((S,N)=>N._score-S._score).slice(0,4):[],[t]);const h=Q.useMemo(()=>t!=null&&t.length?t.filter(b=>b.campaign&&String(b.campaign).toLowerCase().includes("a80")||Array.isArray(b.tags)&&b.tags.some(S=>String(S).toLowerCase().includes("a80"))).slice(0,10):[],[t]),g=[{t:"Nn nh",d:"Gim dung lng nh d dng",to:"/compress",icon:d.jsx(b_,{className:"w-6 h-6"})},{t:"Thay i kch thc",d:"Resize nh theo kch thc mong mun",to:"/resize",icon:d.jsx(b_,{className:"w-6 h-6"})},{t:"nh  PDF",d:"Gp nhiu nh thnh mt PDF",to:"/image-to-pdf",icon:d.jsx(fj,{className:"w-6 h-6"})}],m=b=>{if(typeof b.isNew=="boolean")return b.isNew;const S=b.ngayTao||b.NgayTao||b.createdAt||b.date;if(!S)return!1;const N=new Date(S);return(Date.now()-N.getTime())/36e5<=24},p=b=>{if(!b)return"Mi ng";const S=new Date,N=new Date(b);if(isNaN(N.getTime()))return"Mi ng";const j=S.getTime()-N.getTime(),w=Math.floor(j/1e3),k=Math.floor(w/60),E=Math.floor(k/60),O=Math.floor(E/24);if(O===0)return E>0?`${E} gi trc`:k>0?`${k} pht trc`:w>0?`${w} giy trc`:"Va to";if(O<=7)return`${O} ngy trc`;const U=N.getDate().toString().padStart(2,"0"),M=(N.getMonth()+1).toString().padStart(2,"0"),I=N.getFullYear();return`${U}/${M}/${I}`},x=b=>{b.preventDefault(),a?l("/create-frame"):s(!0)};return d.jsxs("div",{children:[d.jsxs("section",{className:"relative overflow-hidden min-h-[70vh] flex items-center bg-gradient-to-b from-blue-50 to-white",children:[d.jsx(iH,{}),d.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center px-6 py-16",children:[d.jsxs("div",{className:"max-w-xl space-y-6",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-100 text-blue-700 text-sm font-medium ring-1 ring-blue-300/60 shadow-sm",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600"}),"Ni khung hnh c chia s"]}),d.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight text-gray-900",children:["To"," ",d.jsxs("span",{className:"relative inline-block px-1",children:[d.jsx("span",{className:"relative z-10 bg-clip-text text-transparent bg-gradient-to-r from-blue-700 to-sky-500 italic",children:"khung hnh"}),d.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-2 bg-blue-300/40 rounded-sm"})]}),d.jsx("br",{}),"online  nhanh, p v tin li"]}),d.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"Cung cp cng c trc tuyn gip bn to khung hnh v lan to thng ip cho chin dch, s kin hay hot ng ca mnh ch trong vi pht."}),d.jsxs("div",{className:"flex flex-wrap gap-4 pt-2",children:[d.jsx("button",{onClick:x,className:"px-6 py-3 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition shadow-md",children:"TO NGAY"}),d.jsx("a",{href:"/trending",className:"px-6 py-3 rounded-xl font-semibold text-gray-800 ring-1 ring-gray-300 hover:bg-gray-50 transition",children:"XU HNG"})]})]}),d.jsx("div",{className:"flex justify-center md:justify-end",children:d.jsx("img",{src:"/frames/khung-home.png",alt:"Khung hnh minh ho",className:"w-full max-w-md md:max-w-lg drop-shadow-xl rounded-xl"})})]})]}),h.length>0&&d.jsxs("section",{className:"relative overflow-hidden",children:[d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-gradient-to-b from-[#0d47a1] via-[#1976d2] to-[#1565c0]"}),d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 opacity-[.08] [background:radial-gradient(80%_80%_at_20%_10%,#fff,transparent_60%)]"}),d.jsx("div",{className:"absolute -top-20 left-1/4 h-[280px] w-[280px] rounded-full bg-sky-300/30 blur-3xl animate-float"}),d.jsx("div",{className:"absolute bottom-[-120px] right-[15%] h-[360px] w-[360px] rounded-full bg-sky-400/25 blur-3xl animate-float-slow"}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[d.jsxs("h2",{className:"text-white text-2xl md:text-3xl font-extrabold tracking-wide drop-shadow-md",children:["KHUNG HNH MI NHT NM ",d.jsx("span",{className:"opacity-90",children:"2025"})]}),d.jsxs("div",{className:"mt-4 rounded-3xl bg-white/90 shadow-[0_10px_40px_-10px_rgba(0,0,0,.25)] ring-1 ring-blue-200/60 p-4 backdrop-blur",children:[d.jsx("div",{className:"px-3 pb-2",children:d.jsx("div",{className:"text-[15px] font-semibold text-blue-700",children:"Khung hnh i hi ng"})}),d.jsx("div",{className:"overflow-x-auto scrollbar-thin scrollbar-thumb-blue-400 scrollbar-track-blue-100 hover:scrollbar-thumb-blue-500",children:d.jsx("ul",{className:"flex gap-4 min-w-max px-2 pb-2",children:h.map((b,S)=>d.jsx("li",{className:"shrink-0",children:d.jsx("button",{onClick:()=>l(`/editor?alias=${b.alias}`),className:"block w-[220px] rounded-2xl overflow-hidden ring-1 ring-black/5 bg-white shadow-[0_10px_25px_-12px_rgba(0,0,0,.25)] transition-shadow hover:shadow-lg",title:b.name||"Khung",children:d.jsxs("div",{className:"relative aspect-square bg-white grid place-items-center",children:[d.jsx("img",{src:b.overlay||b.thumb,alt:b.name||"frame",className:"max-w-full max-h-full object-contain select-none [image-rendering:auto] [image-rendering:-webkit-optimize-contrast]",width:"512",height:"512",decoding:"async",loading:"lazy"}),m(b)&&d.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-md bg-gradient-to-r from-rose-500 to-orange-500 text-white text-xs font-bold shadow-md animate-pulse",children:"NEW"}),d.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-black/5"})]})})},b.alias||S))})})]})]})]}),d.jsxs("section",{className:"relative",children:[d.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-[radial-gradient(60%_60%_at_50%_0%,rgba(59,130,246,0.12),transparent_70%)]"}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-12",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Cc cng c tin li"}),d.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:g.map((b,S)=>d.jsx(F8,{i:S,children:d.jsxs("div",{className:"group rounded-2xl p-6 bg-white/80 ring-1 ring-gray-200 hover:ring-blue-200 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-[0_12px_40px_-12px_rgba(59,130,246,.25)] shine hover-lift",children:[d.jsx("div",{className:"inline-grid place-items-center w-10 h-10 rounded-xl bg-blue-50 ring-1 ring-blue-200/60 text-blue-700",children:b.icon}),d.jsx("h3",{className:"font-semibold mt-3 mb-1",children:b.t}),d.jsx("p",{className:"text-sm text-gray-600",children:b.d}),d.jsx(zn,{to:b.to,className:"mt-4 inline-block px-4 py-2 rounded-lg text-blue-700 font-medium ring-1 ring-blue-200 hover:bg-blue-50",children:"Th ngay"})]})},b.t))})]})]}),d.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-12",children:[d.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-4 mb-6",children:[d.jsxs(m2.div,{variants:P4,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:[d.jsx("p",{className:"text-blue-600 font-semibold",children:"Xu hng"}),d.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold",children:"Cc khung hnh ni bt"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Danh sch khung hnh nhn c nhiu tng tc nht trong 24 gi qua."})]}),d.jsx(m2.button,{variants:P4,custom:1,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"px-4 py-2 rounded-xl font-semibold text-gray-800 ring-1 ring-gray-300/70 hover:bg-white hover-lift",onClick:()=>l("/trending"),children:"Xem thm"})]}),n.length>0?d.jsx(tH,{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((b,S)=>d.jsx(F8,{i:S,className:"h-full",children:d.jsx("div",{className:"shine-safe hover-lift transform-gpu",children:d.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden ring-1 ring-gray-200 hover:ring-blue-300 transition-all shadow-sm hover:shadow-lg",children:[d.jsxs("button",{onClick:()=>l(`/editor?alias=${b.alias}`),className:"relative w-full aspect-square bg-gray-50 overflow-hidden group",children:[d.jsx("img",{src:b.thumb,alt:b.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),d.jsx(nH,{rank:S+1}),m(b)&&d.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 rounded-md bg-gradient-to-r from-rose-500 to-orange-500 text-white text-xs font-bold shadow-md animate-pulse",children:"NEW"})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"font-bold text-gray-900 mb-3 line-clamp-2 min-h-[3rem]",children:b.name}),d.jsx("div",{className:"border-t border-gray-200 mb-3"}),b.owner&&d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("img",{src:b.owner.avatar||"/icon/default-avatar.png",alt:b.owner.name,className:"w-8 h-8 rounded-full object-cover border-2 border-gray-200"}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:b.owner.name})})]}),b.ngayTao&&d.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-2",children:[d.jsx(dj,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),d.jsx("span",{className:"font-medium",children:p(b.ngayTao)})]}),d.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-4",children:[d.jsx(hu,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),d.jsx("span",{className:"font-medium",children:b.views||0})]}),d.jsx("button",{onClick:()=>l(`/editor?alias=${b.alias}`),className:"w-full px-4 py-2.5 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-colors",children:"S dng ngay"})]})]})})},b.alias))}):d.jsx("div",{className:"text-center py-12 text-gray-500",children:"ang ti khung hnh xu hng..."})]}),d.jsxs("section",{className:"relative overflow-hidden",children:[d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-gradient-to-b from-[#0d47a1] via-[#1976d2] to-[#1565c0]"}),d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 opacity-[.08] [background:radial-gradient(80%_80%_at_20%_10%,#fff,transparent_60%)]"}),d.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-sky-200/40 blur-3xl animate-float"}),d.jsx("div",{className:"absolute -bottom-24 -right-24 h-72 w-72 rounded-full bg-sky-300/30 blur-3xl animate-float-slow"}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[d.jsx("h2",{className:"text-white text-2xl md:text-3xl font-extrabold tracking-wide drop-shadow-md",children:"THEO DI CHNG TI  NHN MU MI HNG NGY"}),d.jsx("div",{className:"mt-4 rounded-3xl bg-white/90 shadow-[0_10px_40px_-10px_rgba(0,0,0,.25)] ring-1 ring-blue-200/60 p-6 md:p-8 backdrop-blur",children:d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[d.jsxs("a",{className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-blue-700 ring-1 ring-blue-200 hover:bg-blue-50 transition-all duration-200 shadow-sm",href:"#",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook Page"]}),d.jsxs("a",{className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-blue-700 ring-1 ring-blue-200 hover:bg-blue-50 transition-all duration-200 shadow-sm",href:"#",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.989C18.343 21.129 22 16.99 22 12c0-5.523-4.477-10-10-10z"})}),"Facebook Group"]})]})})})]})]}),d.jsxs("section",{className:"max-w-4xl mx-auto px-6 py-16",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900",children:"Cu hi thng gp"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Nhng thc mc ph bin v dch v ca chng ti"})]}),d.jsx("div",{className:"space-y-4",children:[{q:"Ti c th to bao nhiu khung hnh?",a:"Khng gii hn! Bn c th to v ti v min ph khng gii hn s lng."},{q:"Khung hnh c bn quyn khng?",a:"Tt c khung hnh do chng ti cung cp u min ph s dng cho mc ch c nhn v phi thng mi."},{q:"Ti c th ng gp khung hnh khng?",a:"C! Bn c th ng k ti khon v ng ti khung hnh ca ring mnh  chia s vi cng ng."},{q:"Lm sao  ti nh cht lng cao?",a:'Sau khi chnh sa, click nt "Ti v"  xut nh vi  phn gii 1080x1080 pixels.'}].map((b,S)=>d.jsxs("details",{className:"group rounded-2xl bg-white ring-1 ring-gray-200 hover:ring-blue-300 transition-all",children:[d.jsxs("summary",{className:"cursor-pointer px-6 py-4 font-semibold text-gray-900 flex items-center justify-between",children:[b.q,d.jsx("span",{className:"text-blue-600 group-open:rotate-180 transition-transform",children:""})]}),d.jsx("div",{className:"px-6 pb-4 text-gray-600 border-t border-gray-100 pt-3",children:b.a})]},S))})]}),r&&d.jsx(g3,{onClose:()=>s(!1)})]})}function sH(){return d.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Cng c"}),d.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:["Nn nh","Xo nn","i kch thc","Chuyn WebP","Lm m nn","ng du"].map((t,e)=>d.jsxs("div",{className:"card p-6",children:[d.jsx("div",{className:"font-semibold mb-1",children:t}),d.jsx("p",{className:"text-sm text-gray-600",children:"S trin khai sau khi ni API."}),d.jsx("button",{className:"btn-primary mt-4",children:"Th ngay"})]},e))})]})}const O8="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),I8={su_kien:"S kin",le_hoi:"L hi  Ngy c bit",hoat_dong:"Hot ng  Cng ng",chien_dich:"Chin dch  C v",thuong_hieu:"Thng hiu  T chc",giai_tri:"Gii tr  Fandom",sang_tao:"Ch  sng to",khac:"Khc"};function B8({rank:t}){const e=()=>t===1?"bg-yellow-400 text-white":t===2?"bg-blue-500 text-white":t===3?"bg-orange-500 text-white":"bg-gray-400 text-white";return d.jsx("div",{className:`absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-lg ${e()} border-4 border-white z-10`,children:t})}function aH(){const[t,e]=Q.useState([]),[n,i]=Q.useState(!0),[r,s]=Q.useState(null),a=ga();Q.useEffect(()=>{const c=new AbortController;return(async()=>{try{const g=await fetch(`${O8}/api/frames/trending?take=10`,{credentials:"include",signal:c.signal});if(!g.ok)throw new Error(`HTTP ${g.status}`);const m=await g.json();console.log(" Trending API raw data:",m);const p=m.map(x=>{let b=x.thumb||x.UrlXemTruoc||x.urlXemTruoc;return b&&!b.startsWith("http")&&(b=`${O8}${b}`),{id:x.id||x.Id,rank:x.rank||0,name:x.name||x.tieuDe||x.TieuDe||"Khng c tn",alias:x.alias||x.Alias,loai:x.loai||x.Loai||null,thumb:b,overlay:b,totalViews:x.luotXem||x.LuotXem||0,totalDownloads:x.luotTai||x.LuotTai||0,owner:x.owner}});console.log(" Transformed data:",p),e(p)}catch(g){console.error(" Trending error:",g),g.name!=="AbortError"&&s(g.message)}finally{i(!1)}})(),()=>c.abort()},[]);const o=t[0],l=t.slice(1);return d.jsx("div",{className:"min-h-screen bg-white",children:d.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-12",children:[d.jsx("span",{className:"text-4xl",children:""}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Xu hng"})]}),n&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mb-4"}),d.jsx("p",{className:"text-gray-500",children:"ang ti..."})]}),r&&d.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-6",children:[" ",r]}),!n&&!r&&t.length===0&&d.jsxs("div",{className:"text-center py-20",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("p",{className:"text-gray-500 text-lg",children:"Cha c khung hnh no trong 24h"})]}),!n&&!r&&o&&d.jsxs("div",{className:"flex flex-col items-center mb-12",children:[d.jsxs("div",{className:"relative group cursor-pointer mb-8",onClick:()=>a(`/editor?alias=${o.alias}`),children:[d.jsx("img",{src:o.thumb,alt:o.name,className:"w-80 h-80 object-cover rounded-3xl shadow-lg group-hover:shadow-xl transition-all duration-300 bg-gray-50",onError:c=>{console.error(" Image load error:",o.thumb),c.target.src="/placeholder.png"}}),d.jsx(B8,{rank:1})]}),d.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center cursor-pointer hover:text-blue-600 transition max-w-md px-4",onClick:()=>a(`/editor?alias=${o.alias}`),children:o.name}),o.loai&&d.jsx("div",{className:"mt-2",children:d.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-indigo-50 text-indigo-700 rounded-full px-3 py-1 text-sm font-medium border border-indigo-200",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),I8[o.loai]||o.loai]})}),d.jsxs("div",{className:"mt-3 flex items-center gap-2 text-gray-500",children:[d.jsx(hu,{size:18}),d.jsx("span",{className:"font-medium",children:o.totalViews.toLocaleString()})]})]}),!n&&!r&&l.length>0&&d.jsx("div",{className:"space-y-4",children:l.map((c,h)=>d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-start gap-4 p-4 hover:bg-blue-50 rounded-2xl transition-all duration-300 cursor-pointer group",onClick:()=>a(`/editor?alias=${c.alias}`),children:[d.jsxs("div",{className:"relative flex-shrink-0 mb-6",children:[d.jsx("img",{src:c.thumb,alt:c.name,className:"w-32 h-32 object-cover rounded-2xl shadow-md group-hover:shadow-lg transition-all duration-300 bg-gray-50",onError:g=>{console.error(" Image load error:",c.thumb),g.target.src="/placeholder.png"}}),d.jsx(B8,{rank:c.rank})]}),d.jsx("div",{className:"flex-1 min-w-0 py-1",children:d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition line-clamp-2 mb-2",children:c.name}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[d.jsx(hu,{size:16}),d.jsx("span",{className:"font-medium",children:c.totalViews.toLocaleString()})]})]}),c.loai&&d.jsx("div",{className:"flex-shrink-0",children:d.jsxs("span",{className:"inline-flex items-center gap-1 bg-indigo-50 text-indigo-700 rounded-full px-2.5 py-1 text-xs font-medium border border-indigo-200",children:[d.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),I8[c.loai]||c.loai]})})]})})]}),h<l.length-1&&d.jsx("div",{className:"border-t border-gray-200 my-4"})]},c.id))})]})})}var Qu=Q,oH=function(e,n,i){const r=Qu.useRef("loading"),s=Qu.useRef(),[a,o]=Qu.useState(0),l=Qu.useRef(),c=Qu.useRef(),h=Qu.useRef();return(l.current!==e||c.current!==n||h.current!==i)&&(r.current="loading",s.current=void 0,l.current=e,c.current=n,h.current=i),Qu.useLayoutEffect(function(){if(!e)return;var g=document.createElement("img");function m(){g.decode().catch(()=>{}).finally(()=>{r.current="loaded",s.current=g,o(Math.random())})}function p(){r.current="failed",s.current=void 0,o(Math.random())}return g.addEventListener("load",m),g.addEventListener("error",p),n&&(g.crossOrigin=n),i&&(g.referrerPolicy=i),g.src=e,function(){g.removeEventListener("load",m),g.removeEventListener("error",p)}},[e,n,i]),[s.current,r.current]};const WA=D2(oH);var KA={exports:{}},d5={},y2={},Gt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof Bw<"u"?Bw:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.22",isBrowser:n(),isUnminified:/param/.test((function(r){}).toString()),dblClickWindow:400,getAngle(r){return t.Konva.angleDeg?r*e:r},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var r;return(r=t.Konva.Transformer)===null||r===void 0?void 0:r.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(r){t.glob.Konva=r}};const i=r=>{t.Konva[r.prototype.getClassName()]=r};t._registerNode=i,t.Konva._injectGlobal(t.Konva)})(Gt);var mi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=Gt;class n{constructor(k=[1,0,0,1,0,0]){this.dirty=!1,this.m=k&&k.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(k){k.m[0]=this.m[0],k.m[1]=this.m[1],k.m[2]=this.m[2],k.m[3]=this.m[3],k.m[4]=this.m[4],k.m[5]=this.m[5]}point(k){const E=this.m;return{x:E[0]*k.x+E[2]*k.y+E[4],y:E[1]*k.x+E[3]*k.y+E[5]}}translate(k,E){return this.m[4]+=this.m[0]*k+this.m[2]*E,this.m[5]+=this.m[1]*k+this.m[3]*E,this}scale(k,E){return this.m[0]*=k,this.m[1]*=k,this.m[2]*=E,this.m[3]*=E,this}rotate(k){const E=Math.cos(k),O=Math.sin(k),U=this.m[0]*E+this.m[2]*O,M=this.m[1]*E+this.m[3]*O,I=this.m[0]*-O+this.m[2]*E,F=this.m[1]*-O+this.m[3]*E;return this.m[0]=U,this.m[1]=M,this.m[2]=I,this.m[3]=F,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(k,E){const O=this.m[0]+this.m[2]*E,U=this.m[1]+this.m[3]*E,M=this.m[2]+this.m[0]*k,I=this.m[3]+this.m[1]*k;return this.m[0]=O,this.m[1]=U,this.m[2]=M,this.m[3]=I,this}multiply(k){const E=this.m[0]*k.m[0]+this.m[2]*k.m[1],O=this.m[1]*k.m[0]+this.m[3]*k.m[1],U=this.m[0]*k.m[2]+this.m[2]*k.m[3],M=this.m[1]*k.m[2]+this.m[3]*k.m[3],I=this.m[0]*k.m[4]+this.m[2]*k.m[5]+this.m[4],F=this.m[1]*k.m[4]+this.m[3]*k.m[5]+this.m[5];return this.m[0]=E,this.m[1]=O,this.m[2]=U,this.m[3]=M,this.m[4]=I,this.m[5]=F,this}invert(){const k=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),E=this.m[3]*k,O=-this.m[1]*k,U=-this.m[2]*k,M=this.m[0]*k,I=k*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),F=k*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=E,this.m[1]=O,this.m[2]=U,this.m[3]=M,this.m[4]=I,this.m[5]=F,this}getMatrix(){return this.m}decompose(){const k=this.m[0],E=this.m[1],O=this.m[2],U=this.m[3],M=this.m[4],I=this.m[5],F=k*U-E*O,P={x:M,y:I,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(k!=0||E!=0){const R=Math.sqrt(k*k+E*E);P.rotation=E>0?Math.acos(k/R):-Math.acos(k/R),P.scaleX=R,P.scaleY=F/R,P.skewX=(k*O+E*U)/F,P.skewY=0}else if(O!=0||U!=0){const R=Math.sqrt(O*O+U*U);P.rotation=Math.PI/2-(U>0?Math.acos(-O/R):-Math.acos(O/R)),P.scaleX=F/R,P.scaleY=R,P.skewX=0,P.skewY=(k*O+E*U)/F}return P.rotation=t.Util._getRotation(P.rotation),P}}t.Transform=n;const i="[object Array]",r="[object Number]",s="[object String]",a="[object Boolean]",o=Math.PI/180,l=180/Math.PI,c="#",h="",g="0",m="Konva warning: ",p="Konva error: ",x="rgb(",b={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},S=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let N=[];const j=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(w){setTimeout(w,60)};t.Util={_isElement(w){return!!(w&&w.nodeType==1)},_isFunction(w){return!!(w&&w.constructor&&w.call&&w.apply)},_isPlainObject(w){return!!w&&w.constructor===Object},_isArray(w){return Object.prototype.toString.call(w)===i},_isNumber(w){return Object.prototype.toString.call(w)===r&&!isNaN(w)&&isFinite(w)},_isString(w){return Object.prototype.toString.call(w)===s},_isBoolean(w){return Object.prototype.toString.call(w)===a},isObject(w){return w instanceof Object},isValidSelector(w){if(typeof w!="string")return!1;const k=w[0];return k==="#"||k==="."||k===k.toUpperCase()},_sign(w){return w===0||w>0?1:-1},requestAnimFrame(w){N.push(w),N.length===1&&j(function(){const k=N;N=[],k.forEach(function(E){E()})})},createCanvasElement(){const w=document.createElement("canvas");try{w.style=w.style||{}}catch{}return w},createImageElement(){return document.createElement("img")},_isInDocument(w){for(;w=w.parentNode;)if(w==document)return!0;return!1},_urlToImage(w,k){const E=t.Util.createImageElement();E.onload=function(){k(E)},E.src=w},_rgbToHex(w,k,E){return((1<<24)+(w<<16)+(k<<8)+E).toString(16).slice(1)},_hexToRgb(w){w=w.replace(c,h);const k=parseInt(w,16);return{r:k>>16&255,g:k>>8&255,b:k&255}},getRandomColor(){let w=(Math.random()*16777215<<0).toString(16);for(;w.length<6;)w=g+w;return c+w},getRGB(w){let k;return w in b?(k=b[w],{r:k[0],g:k[1],b:k[2]}):w[0]===c?this._hexToRgb(w.substring(1)):w.substr(0,4)===x?(k=S.exec(w.replace(/ /g,"")),{r:parseInt(k[1],10),g:parseInt(k[2],10),b:parseInt(k[3],10)}):{r:0,g:0,b:0}},colorToRGBA(w){return w=w||"black",t.Util._namedColorToRBA(w)||t.Util._hex3ColorToRGBA(w)||t.Util._hex4ColorToRGBA(w)||t.Util._hex6ColorToRGBA(w)||t.Util._hex8ColorToRGBA(w)||t.Util._rgbColorToRGBA(w)||t.Util._rgbaColorToRGBA(w)||t.Util._hslColorToRGBA(w)},_namedColorToRBA(w){const k=b[w.toLowerCase()];return k?{r:k[0],g:k[1],b:k[2],a:1}:null},_rgbColorToRGBA(w){if(w.indexOf("rgb(")===0){w=w.match(/rgb\(([^)]+)\)/)[1];const k=w.split(/ *, */).map(Number);return{r:k[0],g:k[1],b:k[2],a:1}}},_rgbaColorToRGBA(w){if(w.indexOf("rgba(")===0){w=w.match(/rgba\(([^)]+)\)/)[1];const k=w.split(/ *, */).map((E,O)=>E.slice(-1)==="%"?O===3?parseInt(E)/100:parseInt(E)/100*255:Number(E));return{r:k[0],g:k[1],b:k[2],a:k[3]}}},_hex8ColorToRGBA(w){if(w[0]==="#"&&w.length===9)return{r:parseInt(w.slice(1,3),16),g:parseInt(w.slice(3,5),16),b:parseInt(w.slice(5,7),16),a:parseInt(w.slice(7,9),16)/255}},_hex6ColorToRGBA(w){if(w[0]==="#"&&w.length===7)return{r:parseInt(w.slice(1,3),16),g:parseInt(w.slice(3,5),16),b:parseInt(w.slice(5,7),16),a:1}},_hex4ColorToRGBA(w){if(w[0]==="#"&&w.length===5)return{r:parseInt(w[1]+w[1],16),g:parseInt(w[2]+w[2],16),b:parseInt(w[3]+w[3],16),a:parseInt(w[4]+w[4],16)/255}},_hex3ColorToRGBA(w){if(w[0]==="#"&&w.length===4)return{r:parseInt(w[1]+w[1],16),g:parseInt(w[2]+w[2],16),b:parseInt(w[3]+w[3],16),a:1}},_hslColorToRGBA(w){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(w)){const[k,...E]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(w),O=Number(E[0])/360,U=Number(E[1])/100,M=Number(E[2])/100;let I,F,P;if(U===0)return P=M*255,{r:Math.round(P),g:Math.round(P),b:Math.round(P),a:1};M<.5?I=M*(1+U):I=M+U-M*U;const R=2*M-I,$=[0,0,0];for(let G=0;G<3;G++)F=O+1/3*-(G-1),F<0&&F++,F>1&&F--,6*F<1?P=R+(I-R)*6*F:2*F<1?P=I:3*F<2?P=R+(I-R)*(2/3-F)*6:P=R,$[G]=P*255;return{r:Math.round($[0]),g:Math.round($[1]),b:Math.round($[2]),a:1}}},haveIntersection(w,k){return!(k.x>w.x+w.width||k.x+k.width<w.x||k.y>w.y+w.height||k.y+k.height<w.y)},cloneObject(w){const k={};for(const E in w)this._isPlainObject(w[E])?k[E]=this.cloneObject(w[E]):this._isArray(w[E])?k[E]=this.cloneArray(w[E]):k[E]=w[E];return k},cloneArray(w){return w.slice(0)},degToRad(w){return w*o},radToDeg(w){return w*l},_degToRad(w){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(w)},_radToDeg(w){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(w)},_getRotation(w){return e.Konva.angleDeg?t.Util.radToDeg(w):w},_capitalize(w){return w.charAt(0).toUpperCase()+w.slice(1)},throw(w){throw new Error(p+w)},error(w){console.error(p+w)},warn(w){e.Konva.showWarnings&&console.warn(m+w)},each(w,k){for(const E in w)k(E,w[E])},_inRange(w,k,E){return k<=w&&w<E},_getProjectionToSegment(w,k,E,O,U,M){let I,F,P;const R=(w-E)*(w-E)+(k-O)*(k-O);if(R==0)I=w,F=k,P=(U-E)*(U-E)+(M-O)*(M-O);else{const $=((U-w)*(E-w)+(M-k)*(O-k))/R;$<0?(I=w,F=k,P=(w-U)*(w-U)+(k-M)*(k-M)):$>1?(I=E,F=O,P=(E-U)*(E-U)+(O-M)*(O-M)):(I=w+$*(E-w),F=k+$*(O-k),P=(I-U)*(I-U)+(F-M)*(F-M))}return[I,F,P]},_getProjectionToLine(w,k,E){const O=t.Util.cloneObject(w);let U=Number.MAX_VALUE;return k.forEach(function(M,I){if(!E&&I===k.length-1)return;const F=k[(I+1)%k.length],P=t.Util._getProjectionToSegment(M.x,M.y,F.x,F.y,w.x,w.y),R=P[0],$=P[1],G=P[2];G<U&&(O.x=R,O.y=$,U=G)}),O},_prepareArrayForTween(w,k,E){const O=[],U=[];if(w.length>k.length){const I=k;k=w,w=I}for(let I=0;I<w.length;I+=2)O.push({x:w[I],y:w[I+1]});for(let I=0;I<k.length;I+=2)U.push({x:k[I],y:k[I+1]});const M=[];return U.forEach(function(I){const F=t.Util._getProjectionToLine(I,O,E);M.push(F.x),M.push(F.y)}),M},_prepareToStringify(w){let k;w.visitedByCircularReferenceRemoval=!0;for(const E in w)if(w.hasOwnProperty(E)&&w[E]&&typeof w[E]=="object"){if(k=Object.getOwnPropertyDescriptor(w,E),w[E].visitedByCircularReferenceRemoval||t.Util._isElement(w[E]))if(k.configurable)delete w[E];else return null;else if(t.Util._prepareToStringify(w[E])===null)if(k.configurable)delete w[E];else return null}return delete w.visitedByCircularReferenceRemoval,w},_assign(w,k){for(const E in k)w[E]=k[E];return w},_getFirstPointerId(w){return w.touches?w.changedTouches[0].identifier:w.pointerId||999},releaseCanvas(...w){e.Konva.releaseCanvasOnDestroy&&w.forEach(k=>{k.width=0,k.height=0})},drawRoundedRectPath(w,k,E,O){let U=0,M=0,I=0,F=0;typeof O=="number"?U=M=I=F=Math.min(O,k/2,E/2):(U=Math.min(O[0]||0,k/2,E/2),M=Math.min(O[1]||0,k/2,E/2),F=Math.min(O[2]||0,k/2,E/2),I=Math.min(O[3]||0,k/2,E/2)),w.moveTo(U,0),w.lineTo(k-M,0),w.arc(k-M,M,M,Math.PI*3/2,0,!1),w.lineTo(k,E-F),w.arc(k-F,E-F,F,0,Math.PI/2,!1),w.lineTo(I,E),w.arc(I,E-I,I,Math.PI/2,Math.PI,!1),w.lineTo(0,U),w.arc(U,U,U,Math.PI,Math.PI*3/2,!1)}}})(mi);var oi={},Po={},ec={};Object.defineProperty(ec,"__esModule",{value:!0});ec.HitContext=ec.SceneContext=ec.Context=void 0;const XA=mi,lH=Gt;function cH(t){const e=[],n=t.length,i=XA.Util;for(let r=0;r<n;r++){let s=t[r];i._isNumber(s)?s=Math.round(s*1e3)/1e3:i._isString(s)||(s=s+""),e.push(s)}return e}const z8=",",uH="(",hH=")",dH="([",fH="])",pH=";",gH="()",mH="=",U8=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],yH=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],xH=100;class f5{constructor(e){this.canvas=e,lH.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let i=this.traceArr,r=i.length,s="",a,o,l,c;for(a=0;a<r;a++)o=i[a],l=o.method,l?(c=o.args,s+=l,e?s+=gH:XA.Util._isArray(c[0])?s+=dH+c.join(z8)+fH:(n&&(c=c.map(h=>typeof h=="number"?Math.floor(h):h)),s+=uH+c.join(z8)+hH)):(s+=o.property,e||(s+=mH+o.val)),s+=pH;return s}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,i;n.push(e),i=n.length,i>=xH&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,i,r,s,a){this._context.arc(e,n,i,r,s,a)}arcTo(e,n,i,r,s){this._context.arcTo(e,n,i,r,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,i,r,s,a){this._context.bezierCurveTo(e,n,i,r,s,a)}clearRect(e,n,i,r){this._context.clearRect(e,n,i,r)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const i=arguments;if(i.length===2)return this._context.createImageData(e,n);if(i.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,i,r){return this._context.createLinearGradient(e,n,i,r)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,i,r,s,a){return this._context.createRadialGradient(e,n,i,r,s,a)}drawImage(e,n,i,r,s,a,o,l,c){const h=arguments,g=this._context;h.length===3?g.drawImage(e,n,i):h.length===5?g.drawImage(e,n,i,r,s):h.length===9&&g.drawImage(e,n,i,r,s,a,o,l,c)}ellipse(e,n,i,r,s,a,o,l){this._context.ellipse(e,n,i,r,s,a,o,l)}isPointInPath(e,n,i,r){return i?this._context.isPointInPath(i,e,n,r):this._context.isPointInPath(e,n,r)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,i,r){this._context.fillRect(e,n,i,r)}strokeRect(e,n,i,r){this._context.strokeRect(e,n,i,r)}fillText(e,n,i,r){r?this._context.fillText(e,n,i,r):this._context.fillText(e,n,i)}measureText(e){return this._context.measureText(e)}getImageData(e,n,i,r){return this._context.getImageData(e,n,i,r)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,i,r){this._context.rect(e,n,i,r)}roundRect(e,n,i,r,s){this._context.roundRect(e,n,i,r,s)}putImageData(e,n,i){this._context.putImageData(e,n,i)}quadraticCurveTo(e,n,i,r){this._context.quadraticCurveTo(e,n,i,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,i,r,s,a){this._context.setTransform(e,n,i,r,s,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,i,r){this._context.strokeText(e,n,i,r)}transform(e,n,i,r,s,a){this._context.transform(e,n,i,r,s,a)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=U8.length,i=this.setAttr,r,s;const a=function(o){let l=e[o],c;e[o]=function(){return s=cH(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:o,args:s}),c}};for(r=0;r<n;r++)a(U8[r]);e.setAttr=function(){i.apply(e,arguments);const o=arguments[0];let l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}ec.Context=f5;yH.forEach(function(t){Object.defineProperty(f5.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class vH extends f5{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),i=e.getFillPriority();if(n&&i==="color"){this._fillColor(e);return}const r=e.getFillPatternImage();if(r&&i==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&i==="linear-gradient"){this._fillLinearGradient(e);return}const a=e.getFillRadialGradientColorStops();if(a&&i==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):r?this._fillPattern(e):s?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),i=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,i.x,i.y);if(r){for(let a=0;a<r.length;a+=2)s.addColorStop(r[a],r[a+1]);this.setAttr("strokeStyle",s)}}_stroke(e){const n=e.dash(),i=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!i){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),i||this.restore()}}_applyShadow(e){var n,i,r;const s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",a=(i=e.getShadowBlur())!==null&&i!==void 0?i:5,o=(r=e.getShadowOffset())!==null&&r!==void 0?r:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),h=l.x*c,g=l.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",a*Math.min(Math.abs(h),Math.abs(g))),this.setAttr("shadowOffsetX",o.x*h),this.setAttr("shadowOffsetY",o.y*g)}}ec.SceneContext=vH;class bH extends f5{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e);const i=e.hitStrokeWidth(),r=i==="auto"?e.strokeWidth():i;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}ec.HitContext=bH;Object.defineProperty(Po,"__esModule",{value:!0});Po.HitCanvas=Po.SceneCanvas=Po.Canvas=void 0;const x2=mi,YA=ec,QA=Gt;let Nm;function wH(){if(Nm)return Nm;const t=x2.Util.createCanvasElement(),e=t.getContext("2d");return Nm=function(){const n=QA.Konva._global.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/i}(),x2.Util.releaseCanvas(t),Nm}class K3{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const i=(e||{}).pixelRatio||QA.Konva.pixelRatio||wH();this.pixelRatio=i,this._canvas=x2.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(r){return x2.Util.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Po.Canvas=K3;class _H extends K3{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new YA.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}Po.SceneCanvas=_H;class SH extends K3{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new YA.HitContext(this),this.setSize(e.width,e.height)}}Po.HitCanvas=SH;var p5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=Gt,n=mi;t.DD={get isDragging(){let i=!1;return t.DD._dragElements.forEach(r=>{r.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){let i;return t.DD._dragElements.forEach(r=>{i=r.node}),i},_dragElements:new Map,_drag(i){const r=[];t.DD._dragElements.forEach((s,a)=>{const{node:o}=s,l=o.getStage();l.setPointersPositions(i),s.pointerId===void 0&&(s.pointerId=n.Util._getFirstPointerId(i));const c=l._changedPointerPositions.find(h=>h.id===s.pointerId);if(c){if(s.dragStatus!=="dragging"){const h=o.dragDistance();if(Math.max(Math.abs(c.x-s.startPointerPos.x),Math.abs(c.y-s.startPointerPos.y))<h||(o.startDrag({evt:i}),!o.isDragging()))return}o._setDragPosition(i,s),r.push(o)}}),r.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:i},!0)})},_endDragBefore(i){const r=[];t.DD._dragElements.forEach(s=>{const{node:a}=s,o=a.getStage();if(i&&o.setPointersPositions(i),!o._changedPointerPositions.find(h=>h.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,s.dragStatus="stopped");const c=s.node.getLayer()||s.node instanceof e.Konva.Stage&&s.node;c&&r.indexOf(c)===-1&&r.push(c)}),r.forEach(s=>{s.draw()})},_endDragAfter(i){t.DD._dragElements.forEach((r,s)=>{r.dragStatus==="stopped"&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:i},!0),r.dragStatus!=="dragging"&&t.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))})(p5);var Kt={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.RGBComponent=NH;jt.alphaComponent=kH;jt.getNumberValidator=CH;jt.getNumberOrArrayOfNumbersValidator=jH;jt.getNumberOrAutoValidator=AH;jt.getStringValidator=PH;jt.getStringOrGradientValidator=LH;jt.getFunctionValidator=TH;jt.getNumberArrayValidator=EH;jt.getBooleanValidator=MH;jt.getComponentValidator=RH;const oc=Gt,Ci=mi;function lc(t){return Ci.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||Ci.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function NH(t){return t>255?255:t<0?0:Math.round(t)}function kH(t){return t>1?1:t<1e-4?1e-4:t}function CH(){if(oc.Konva.isUnminified)return function(t,e){return Ci.Util._isNumber(t)||Ci.Util.warn(lc(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function jH(t){if(oc.Konva.isUnminified)return function(e,n){let i=Ci.Util._isNumber(e),r=Ci.Util._isArray(e)&&e.length==t;return!i&&!r&&Ci.Util.warn(lc(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function AH(){if(oc.Konva.isUnminified)return function(t,e){return Ci.Util._isNumber(t)||t==="auto"||Ci.Util.warn(lc(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function PH(){if(oc.Konva.isUnminified)return function(t,e){return Ci.Util._isString(t)||Ci.Util.warn(lc(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function LH(){if(oc.Konva.isUnminified)return function(t,e){const n=Ci.Util._isString(t),i=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||i||Ci.Util.warn(lc(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function TH(){if(oc.Konva.isUnminified)return function(t,e){return Ci.Util._isFunction(t)||Ci.Util.warn(lc(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function EH(){if(oc.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(Ci.Util._isArray(t)?t.forEach(function(i){Ci.Util._isNumber(i)||Ci.Util.warn('"'+e+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):Ci.Util.warn(lc(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function MH(){if(oc.Konva.isUnminified)return function(t,e){return t===!0||t===!1||Ci.Util.warn(lc(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function RH(t){if(oc.Konva.isUnminified)return function(e,n){return e==null||Ci.Util.isObject(e)||Ci.Util.warn(lc(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=mi,n=jt,i="get",r="set";t.Factory={addGetterSetter(s,a,o,l,c){t.Factory.addGetter(s,a,o),t.Factory.addSetter(s,a,l,c),t.Factory.addOverloadedGetterSetter(s,a)},addGetter(s,a,o){const l=i+e.Util._capitalize(a);s.prototype[l]=s.prototype[l]||function(){const c=this.attrs[a];return c===void 0?o:c}},addSetter(s,a,o,l){const c=r+e.Util._capitalize(a);s.prototype[c]||t.Factory.overWriteSetter(s,a,o,l)},overWriteSetter(s,a,o,l){const c=r+e.Util._capitalize(a);s.prototype[c]=function(h){return o&&h!==void 0&&h!==null&&(h=o.call(this,h,a)),this._setAttr(a,h),l&&l.call(this),this}},addComponentsGetterSetter(s,a,o,l,c){const h=o.length,g=e.Util._capitalize,m=i+g(a),p=r+g(a);s.prototype[m]=function(){const b={};for(let S=0;S<h;S++){const N=o[S];b[N]=this.getAttr(a+g(N))}return b};const x=(0,n.getComponentValidator)(o);s.prototype[p]=function(b){const S=this.attrs[a];l&&(b=l.call(this,b,a)),x&&x.call(this,b,a);for(const N in b)b.hasOwnProperty(N)&&this._setAttr(a+g(N),b[N]);return b||o.forEach(N=>{this._setAttr(a+g(N),void 0)}),this._fireChangeEvent(a,S,b),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(s,a)},addOverloadedGetterSetter(s,a){const o=e.Util._capitalize(a),l=r+o,c=i+o;s.prototype[a]=function(){return arguments.length?(this[l](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(s,a,o,l){e.Util.error("Adding deprecated "+a);const c=i+e.Util._capitalize(a),h=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[c]=function(){e.Util.error(h);const g=this.attrs[a];return g===void 0?o:g},t.Factory.addSetter(s,a,l,function(){e.Util.error(h)}),t.Factory.addOverloadedGetterSetter(s,a)},backCompat(s,a){e.Util.each(a,function(o,l){const c=s.prototype[l],h=i+e.Util._capitalize(o),g=r+e.Util._capitalize(o);function m(){c.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}s.prototype[o]=m,s.prototype[h]=m,s.prototype[g]=m})},afterSetFilter(){this._filterUpToDate=!1}}})(Kt);Object.defineProperty(oi,"__esModule",{value:!0});oi.Node=void 0;const Cd=Po,za=p5,Cg=Kt,Fc=Gt,tn=mi,Ui=jt,w1="absoluteOpacity",km="allEventListeners",Ul="absoluteTransform",V8="absoluteScale",Ju="canvas",FH="Change",DH="children",OH="konva",L4="listening",IH="mouseenter",BH="mouseleave",zH="pointerenter",UH="pointerleave",VH="touchenter",HH="touchleave",H8="set",$8="Shape",_1=" ",G8="stage",zc="transform",$H="Stage",T4="visible",GH=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(_1);let qH=1;class Ft{constructor(e){this._id=qH++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===zc||e===Ul)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let i=this._cache.get(e);return(i===void 0||(e===zc||e===Ul)&&i.dirty===!0)&&(i=n.call(this),this._cache.set(e,i)),i}_calculate(e,n,i){if(!this._attachedDepsListeners.get(e)){const r=n.map(s=>s+"Change.konva").join(_1);this.on(r,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,i)}_getCanvasCache(){return this._cache.get(Ju)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Ul&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Ju)){const{scene:e,filter:n,hit:i,buffer:r}=this._cache.get(Ju);tn.Util.releaseCanvas(e,n,i,r),this._cache.delete(Ju)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let i={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let r=Math.ceil(n.width||i.width),s=Math.ceil(n.height||i.height),a=n.pixelRatio,o=n.x===void 0?Math.floor(i.x):n.x,l=n.y===void 0?Math.floor(i.y):n.y,c=n.offset||0,h=n.drawBorder||!1,g=n.hitCanvasPixelRatio||1;if(!r||!s){tn.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const m=Math.abs(Math.round(i.x)-o)>.5?1:0,p=Math.abs(Math.round(i.y)-l)>.5?1:0;r+=c*2+m,s+=c*2+p,o-=c,l-=c;const x=new Cd.SceneCanvas({pixelRatio:a,width:r,height:s}),b=new Cd.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),S=new Cd.HitCanvas({pixelRatio:g,width:r,height:s}),N=x.getContext(),j=S.getContext(),w=new Cd.SceneCanvas({width:x.width/x.pixelRatio+Math.abs(o),height:x.height/x.pixelRatio+Math.abs(l),pixelRatio:x.pixelRatio}),k=w.getContext();return S.isCache=!0,x.isCache=!0,this._cache.delete(Ju),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(x.getContext()._context.imageSmoothingEnabled=!1,b.getContext()._context.imageSmoothingEnabled=!1),N.save(),j.save(),k.save(),N.translate(-o,-l),j.translate(-o,-l),k.translate(-o,-l),w.x=o,w.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(w1),this._clearSelfAndDescendantCache(V8),this.drawScene(x,this,w),this.drawHit(S,this),this._isUnderCache=!1,N.restore(),j.restore(),h&&(N.save(),N.beginPath(),N.rect(0,0,r,s),N.closePath(),N.setAttr("strokeStyle","red"),N.setAttr("lineWidth",5),N.stroke(),N.restore()),this._cache.set(Ju,{scene:x,filter:b,hit:S,buffer:w,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Ju)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let r=1/0,s=1/0,a=-1/0,o=-1/0;const l=this.getAbsoluteTransform(n);return i.forEach(function(c){const h=l.point(c);r===void 0&&(r=a=h.x,s=o=h.y),r=Math.min(r,h.x),s=Math.min(s,h.y),a=Math.max(a,h.x),o=Math.max(o,h.y)}),{x:r,y:s,width:a-r,height:o-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const i=this._getCachedSceneCanvas(),r=i.pixelRatio;e.drawImage(i._canvas,0,0,i.width/r,i.height/r),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),i=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),i=n.scene,r=n.filter,s=r.getContext(),a,o,l,c;if(e){if(!this._filterUpToDate){const h=i.pixelRatio;r.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio);try{for(a=e.length,s.clear(),s.drawImage(i._canvas,0,0,i.getWidth()/h,i.getHeight()/h),o=s.getImageData(0,0,r.getWidth(),r.getHeight()),l=0;l<a;l++){if(c=e[l],typeof c!="function"){tn.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,o),s.putImageData(o,0,0)}}catch(g){tn.Util.error("Unable to apply filter. "+g.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return r}return i}on(e,n){if(this._cache&&this._cache.delete(km),arguments.length===3)return this._delegate.apply(this,arguments);const i=e.split(_1);for(let r=0;r<i.length;r++){const a=i[r].split("."),o=a[0],l=a[1]||"";this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:l,handler:n})}return this}off(e,n){let i=(e||"").split(_1),r=i.length,s,a,o,l,c,h;if(this._cache&&this._cache.delete(km),!e)for(a in this.eventListeners)this._off(a);for(s=0;s<r;s++)if(o=i[s],l=o.split("."),c=l[0],h=l[1],c)this.eventListeners[c]&&this._off(c,h,n);else for(a in this.eventListeners)this._off(a,h,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(i){n.call(this,i.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,i){const r=this;this.on(e,function(s){const a=s.target.findAncestors(n,!0,r);for(let o=0;o<a.length;o++)s=tn.Util.cloneObject(s),s.currentTarget=a[o],i.call(a[o],s)})}remove(){return this.isDragging()&&this.stopDrag(),za.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ul),this._clearSelfAndDescendantCache(w1),this._clearSelfAndDescendantCache(V8),this._clearSelfAndDescendantCache(G8),this._clearSelfAndDescendantCache(T4),this._clearSelfAndDescendantCache(L4)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+tn.Util._capitalize(e);return tn.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,i;if(!e)return this;for(n in e)n!==DH&&(i=H8+tn.Util._capitalize(n),tn.Util._isFunction(this[i])?this[i](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(L4,this._isListening)}_isListening(e){if(!this.listening())return!1;const i=this.getParent();return i&&i!==e&&this!==e?i._isListening(e):!0}isVisible(){return this._getCache(T4,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const i=this.getParent();return i&&i!==e&&this!==e?i._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const i=this.getLayer();let r=!1;za.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===i)&&(r=!0)});const s=!n&&!Fc.Konva.hitOnDragEnabled&&(r||Fc.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,i=0,r,s,a,o;function l(h){for(r=[],s=h.length,a=0;a<s;a++)o=h[a],i++,o.nodeType!==$8&&(r=r.concat(o.getChildren().slice())),o._id===n._id&&(a=s);r.length>0&&r[0].getDepth()<=e&&l(r)}const c=this.getStage();return n.nodeType!==$H&&c&&l(c.getChildren()),i}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(zc),this._clearSelfAndDescendantCache(Ul)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const i=this.getAbsoluteTransform().copy();return i.invert(),i.point(n)}getAbsolutePosition(e){let n=!1,i=this.parent;for(;i;){if(i.isCached()){n=!0;break}i=i.parent}n&&!e&&(e=!0);const r=this.getAbsoluteTransform(e).getMatrix(),s=new tn.Transform,a=this.offset();return s.m=r.slice(),s.translate(a.x,a.y),s.getTranslation()}setAbsolutePosition(e){const{x:n,y:i,...r}=this._clearTransform();this.attrs.x=n,this.attrs.y=i,this._clearCache(zc);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(r),this.setPosition({x:e.x,y:e.y}),this._clearCache(zc),this._clearSelfAndDescendantCache(Ul),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,i=e.y,r=this.x(),s=this.y();return n!==void 0&&(r+=n),i!==void 0&&(s+=i),this.setPosition({x:r,y:s}),this}_eachAncestorReverse(e,n){let i=[],r=this.getParent(),s,a;if(!(n&&n._id===this._id)){for(i.unshift(this);r&&(!n||r._id!==n._id);)i.unshift(r),r=r.parent;for(s=i.length,a=0;a<s;a++)e(i[a])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return tn.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return tn.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return tn.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return tn.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return tn.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&tn.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(w1,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,i,r,s,a;const o={attrs:{},className:this.getClassName()};for(n in e)i=e[n],a=tn.Util.isObject(i)&&!tn.Util._isPlainObject(i)&&!tn.Util._isArray(i),!a&&(r=typeof this[n]=="function"&&this[n],delete e[n],s=r?r.call(this):null,e[n]=i,s!==i&&(o.attrs[n]=i));return tn.Util._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,i){const r=[];n&&this._isMatch(e)&&r.push(this);let s=this.parent;for(;s;){if(s===i)return r;s._isMatch(e)&&r.push(s),s=s.parent}return r}isAncestorOf(e){return!1}findAncestor(e,n,i){return this.findAncestors(e,n,i)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),i=n.length,r,s;for(r=0;r<i;r++)if(s=n[r],tn.Util.isValidSelector(s)||(tn.Util.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),tn.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),tn.Util.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(G8,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},i){return n.target=n.target||this,i?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Ul,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new tn.Transform,this._eachAncestorReverse(function(i){const r=i.transformsEnabled();r==="all"?n.multiply(i.getTransform()):r==="position"&&n.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),n;{n=this._cache.get(Ul)||new tn.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const i=this.transformsEnabled();if(i==="all")n.multiply(this.getTransform());else if(i==="position"){const r=this.attrs.x||0,s=this.attrs.y||0,a=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(r-a,s-o)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const r=this.getAbsoluteTransform(e).decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(zc,this._getTransform)}_getTransform(){var e,n;const i=this._cache.get(zc)||new tn.Transform;i.reset();const r=this.x(),s=this.y(),a=Fc.Konva.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,h=this.attrs.skewY||0,g=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(r!==0||s!==0)&&i.translate(r,s),a!==0&&i.rotate(a),(c!==0||h!==0)&&i.skew(c,h),(o!==1||l!==1)&&i.scale(o,l),(g!==0||m!==0)&&i.translate(-1*g,-1*m),i.dirty=!1,i}clone(e){let n=tn.Util.cloneObject(this.attrs),i,r,s,a,o;for(i in e)n[i]=e[i];const l=new this.constructor(n);for(i in this.eventListeners)for(r=this.eventListeners[i],s=r.length,a=0;a<s;a++)o=r[a],o.name.indexOf(OH)<0&&(l.eventListeners[i]||(l.eventListeners[i]=[]),l.eventListeners[i].push(o));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),i=this.getStage(),r=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),a=e.pixelRatio||1,o=new Cd.SceneCanvas({width:e.width||Math.ceil(n.width)||(i?i.width():0),height:e.height||Math.ceil(n.height)||(i?i.height():0),pixelRatio:a}),l=o.getContext(),c=new Cd.SceneCanvas({width:o.width/o.pixelRatio+Math.abs(r),height:o.height/o.pixelRatio+Math.abs(s),pixelRatio:o.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(r||s)&&l.translate(-1*r,-1*s),this.drawScene(o,void 0,c),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,i=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(n,i);return e.callback&&e.callback(r),r}toImage(e){return new Promise((n,i)=>{try{const r=e==null?void 0:e.callback;r&&delete e.callback,tn.Util._urlToImage(this.toDataURL(e),function(s){n(s),r==null||r(s)})}catch(r){i(r)}})}toBlob(e){return new Promise((n,i)=>{try{const r=e==null?void 0:e.callback;r&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),r==null||r(s)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(r){i(r)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Fc.Konva.dragDistance}_off(e,n,i){let r=this.eventListeners[e],s,a,o;for(s=0;s<r.length;s++)if(a=r[s].name,o=r[s].handler,(a!=="konva"||n==="konva")&&(!n||a===n)&&(!i||i===o)){if(r.splice(s,1),r.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,i){this._fire(e+FH,{oldVal:n,newVal:i})}addName(e){if(!this.hasName(e)){const n=this.name(),i=n?n+" "+e:e;this.name(i)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),i=n.indexOf(e);return i!==-1&&(n.splice(i,1),this.name(n.join(" "))),this}setAttr(e,n){const i=this[H8+tn.Util._capitalize(e)];return tn.Util._isFunction(i)?i.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Fc.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const i=this.attrs[e];i===n&&!tn.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,i,n),this._requestDraw())}_setComponentAttr(e,n,i){let r;i!==void 0&&(r=this.attrs[e],r||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=i,this._fireChangeEvent(e,r,i))}_fireAndBubble(e,n,i){n&&this.nodeType===$8&&(n.target=this);const r=[IH,BH,zH,UH,VH,HH];if(!(r.indexOf(e)!==-1&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||this.nodeType==="Stage"&&!i))){this._fire(e,n);const a=r.indexOf(e)!==-1&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!a&&(i&&i.parent?this._fireAndBubble.call(this.parent,e,n,i):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,i,r;const s=(n=this._cache.get(km))!==null&&n!==void 0?n:{};let a=s==null?void 0:s[e];if(a===void 0){a=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(r=(i=o.eventListeners)===null||i===void 0?void 0:i[e])!==null&&r!==void 0?r:[];a.push(...l),o=Object.getPrototypeOf(o)}s[e]=a,this._cache.set(km,s)}return a}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const i=this._getProtoListeners(e);if(i)for(let s=0;s<i.length;s++)i[s].handler.call(this,n);const r=this.eventListeners[e];if(r)for(let s=0;s<r.length;s++)r[s].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,i=this.getStage(),r=this.getAbsolutePosition();if(!i)return;const s=i._getPointerById(n)||i._changedPointerPositions[0]||r;za.DD._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-r.x,y:s.y-r.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){za.DD._dragElements.has(this._id)||this._createDragElement(e);const i=za.DD._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const i=this.getStage()._getPointerById(n.pointerId);if(!i)return;let r={x:i.x-n.offset.x,y:i.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const a=s.call(this,r,e);a?r=a:tn.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==r.x||this._lastPos.y!==r.y)&&(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}stopDrag(e){const n=za.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),za.DD._endDragBefore(e),za.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=za.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Fc.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let r=!1;za.DD._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(r=!0)}),r||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=za.DD._dragElements.get(this._id),i=n&&n.dragStatus==="dragging",r=n&&n.dragStatus==="ready";i?this.stopDrag():r&&za.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const i={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return tn.Util.haveIntersection(i,this.getClientRect())}static create(e,n){return tn.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let i=Ft.prototype.getClassName.call(e),r=e.children,s,a,o;n&&(e.attrs.container=n),Fc.Konva[i]||(tn.Util.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");const l=Fc.Konva[i];if(s=new l(e.attrs),r)for(a=r.length,o=0;o<a;o++)s.add(Ft._createNode(r[o]));return s}}oi.Node=Ft;Ft.prototype.nodeType="Node";Ft.prototype._attrsAffectingSize=[];Ft.prototype.eventListeners={};Ft.prototype.on.call(Ft.prototype,GH,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(zc),this._clearSelfAndDescendantCache(Ul)});Ft.prototype.on.call(Ft.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(T4)});Ft.prototype.on.call(Ft.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(L4)});Ft.prototype.on.call(Ft.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(w1)});const Dn=Cg.Factory.addGetterSetter;Dn(Ft,"zIndex");Dn(Ft,"absolutePosition");Dn(Ft,"position");Dn(Ft,"x",0,(0,Ui.getNumberValidator)());Dn(Ft,"y",0,(0,Ui.getNumberValidator)());Dn(Ft,"globalCompositeOperation","source-over",(0,Ui.getStringValidator)());Dn(Ft,"opacity",1,(0,Ui.getNumberValidator)());Dn(Ft,"name","",(0,Ui.getStringValidator)());Dn(Ft,"id","",(0,Ui.getStringValidator)());Dn(Ft,"rotation",0,(0,Ui.getNumberValidator)());Cg.Factory.addComponentsGetterSetter(Ft,"scale",["x","y"]);Dn(Ft,"scaleX",1,(0,Ui.getNumberValidator)());Dn(Ft,"scaleY",1,(0,Ui.getNumberValidator)());Cg.Factory.addComponentsGetterSetter(Ft,"skew",["x","y"]);Dn(Ft,"skewX",0,(0,Ui.getNumberValidator)());Dn(Ft,"skewY",0,(0,Ui.getNumberValidator)());Cg.Factory.addComponentsGetterSetter(Ft,"offset",["x","y"]);Dn(Ft,"offsetX",0,(0,Ui.getNumberValidator)());Dn(Ft,"offsetY",0,(0,Ui.getNumberValidator)());Dn(Ft,"dragDistance",void 0,(0,Ui.getNumberValidator)());Dn(Ft,"width",0,(0,Ui.getNumberValidator)());Dn(Ft,"height",0,(0,Ui.getNumberValidator)());Dn(Ft,"listening",!0,(0,Ui.getBooleanValidator)());Dn(Ft,"preventDefault",!0,(0,Ui.getBooleanValidator)());Dn(Ft,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Dn(Ft,"visible",!0,(0,Ui.getBooleanValidator)());Dn(Ft,"transformsEnabled","all",(0,Ui.getStringValidator)());Dn(Ft,"size");Dn(Ft,"dragBoundFunc");Dn(Ft,"draggable",!1,(0,Ui.getBooleanValidator)());Cg.Factory.backCompat(Ft,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Uh={};Object.defineProperty(Uh,"__esModule",{value:!0});Uh.Container=void 0;const $f=Kt,px=oi,g5=jt;class Vh extends px.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let i=0;i<e.length;i++)this.add(e[i]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const i=[];return this._descendants(r=>{const s=r._isMatch(e);return s&&i.push(r),!!(s&&n)}),i}_descendants(e){let n=!1;const i=this.getChildren();for(const r of i){if(n=e(r),n)return!0;if(r.hasChildren()&&(n=r._descendants(e),n))return!0}return!1}toObject(){const e=px.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=px.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(i){n.add(i.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(i=>{i.isVisible()&&i.intersects(e)&&n.push(i)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(i){i._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,i){n.index=i}),this._requestDraw()}drawScene(e,n,i){const r=this.getLayer(),s=e||r&&r.getCanvas(),a=s&&s.getContext(),o=this._getCanvasCache(),l=o&&o.scene,c=s&&s.isCache;if(!this.isVisible()&&!c)return this;if(l){a.save();const h=this.getAbsoluteTransform(n).getMatrix();a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",s,n,i);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const i=this.getLayer(),r=e||i&&i.hitCanvas,s=r&&r.getContext(),a=this._getCanvasCache();if(a&&a.hit){s.save();const l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",r,n);return this}_drawChildren(e,n,i,r){var s;const a=n&&n.getContext(),o=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),h=typeof o=="number"&&typeof l=="number"||c,g=i===this;if(h){a.save();const p=this.getAbsoluteTransform(i);let x=p.getMatrix();a.transform(x[0],x[1],x[2],x[3],x[4],x[5]),a.beginPath();let b;if(c)b=c.call(this,a,this);else{const S=this.clipX(),N=this.clipY();a.rect(S||0,N||0,o,l)}a.clip.apply(a,b),x=p.copy().invert().getMatrix(),a.transform(x[0],x[1],x[2],x[3],x[4],x[5])}const m=!g&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(a.save(),a._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(p){p[e](n,i,r)}),m&&a.restore(),h&&a.restore()}getClientRect(e={}){var n;const i=e.skipTransform,r=e.relativeTo;let s,a,o,l,c={x:1/0,y:1/0,width:0,height:0};const h=this;(n=this.children)===null||n===void 0||n.forEach(function(p){if(!p.visible())return;const x=p.getClientRect({relativeTo:h,skipShadow:e.skipShadow,skipStroke:e.skipStroke});x.width===0&&x.height===0||(s===void 0?(s=x.x,a=x.y,o=x.x+x.width,l=x.y+x.height):(s=Math.min(s,x.x),a=Math.min(a,x.y),o=Math.max(o,x.x+x.width),l=Math.max(l,x.y+x.height)))});const g=this.find("Shape");let m=!1;for(let p=0;p<g.length;p++)if(g[p]._isVisible(this)){m=!0;break}return m&&s!==void 0?c={x:s,y:a,width:o-s,height:l-a}:c={x:0,y:0,width:0,height:0},i?c:this._transformedRect(c,r)}}Uh.Container=Vh;$f.Factory.addComponentsGetterSetter(Vh,"clip",["x","y","width","height"]);$f.Factory.addGetterSetter(Vh,"clipX",void 0,(0,g5.getNumberValidator)());$f.Factory.addGetterSetter(Vh,"clipY",void 0,(0,g5.getNumberValidator)());$f.Factory.addGetterSetter(Vh,"clipWidth",void 0,(0,g5.getNumberValidator)());$f.Factory.addGetterSetter(Vh,"clipHeight",void 0,(0,g5.getNumberValidator)());$f.Factory.addGetterSetter(Vh,"clipFunc");var JA={},Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.getCapturedShape=KH;Nu.createEvent=X3;Nu.hasPointerCapture=XH;Nu.setPointerCapture=YH;Nu.releaseCapture=eP;const WH=Gt,Zp=new Map,ZA=WH.Konva._global.PointerEvent!==void 0;function KH(t){return Zp.get(t)}function X3(t){return{evt:t,pointerId:t.pointerId}}function XH(t,e){return Zp.get(t)===e}function YH(t,e){eP(t),e.getStage()&&(Zp.set(t,e),ZA&&e._fire("gotpointercapture",X3(new PointerEvent("gotpointercapture"))))}function eP(t,e){const n=Zp.get(t);if(!n)return;const i=n.getStage();i&&i.content,Zp.delete(t),ZA&&n._fire("lostpointercapture",X3(new PointerEvent("lostpointercapture")))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=mi,n=Kt,i=Uh,r=Gt,s=Po,a=p5,o=Gt,l=Nu,c="Stage",h="string",g="px",m="mouseout",p="mouseleave",x="mouseover",b="mouseenter",S="mousemove",N="mousedown",j="mouseup",w="pointermove",k="pointerdown",E="pointerup",O="pointercancel",U="lostpointercapture",M="pointerout",I="pointerleave",F="pointerover",P="pointerenter",R="contextmenu",$="touchstart",G="touchend",ee="touchmove",ce="touchcancel",pe="wheel",Z=5,te=[[b,"_pointerenter"],[N,"_pointerdown"],[S,"_pointermove"],[j,"_pointerup"],[p,"_pointerleave"],[$,"_pointerdown"],[ee,"_pointermove"],[G,"_pointerup"],[ce,"_pointercancel"],[x,"_pointerover"],[pe,"_wheel"],[R,"_contextmenu"],[k,"_pointerdown"],[w,"_pointermove"],[E,"_pointerup"],[O,"_pointercancel"],[I,"_pointerleave"],[U,"_lostpointercapture"]],he={mouse:{[M]:m,[I]:p,[F]:x,[P]:b,[w]:S,[k]:N,[E]:j,[O]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[M]:"touchout",[I]:"touchleave",[F]:"touchover",[P]:"touchenter",[w]:ee,[k]:$,[E]:G,[O]:ce,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[M]:M,[I]:I,[F]:F,[P]:P,[w]:w,[k]:k,[E]:E,[O]:O,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Y=de=>de.indexOf("pointer")>=0?"pointer":de.indexOf("touch")>=0?"touch":"mouse",B=de=>{const X=Y(de);if(X==="pointer")return r.Konva.pointerEventsEnabled&&he.pointer;if(X==="touch")return he.touch;if(X==="mouse")return he.mouse};function K(de={}){return(de.clipFunc||de.clipWidth||de.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),de}const ie="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class ue extends i.Container{constructor(X){super(K(X)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{K(this.attrs)}),this._checkVisibility()}_validateAdd(X){const fe=X.getType()==="Layer",me=X.getType()==="FastLayer";fe||me||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const X=this.visible()?"":"none";this.content.style.display=X}setContainer(X){if(typeof X===h){let fe;if(X.charAt(0)==="."){const me=X.slice(1);X=document.getElementsByClassName(me)[0]}else X.charAt(0)!=="#"?fe=X:fe=X.slice(1),X=document.getElementById(fe);if(!X)throw"Can not find container in document with id "+fe}return this._setAttr("container",X),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),X.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const X=this.children,fe=X.length;for(let me=0;me<fe;me++)X[me].clear();return this}clone(X){return X||(X={}),X.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,X)}destroy(){super.destroy();const X=this.content;X&&e.Util._isInDocument(X)&&this.container().removeChild(X);const fe=t.stages.indexOf(this);return fe>-1&&t.stages.splice(fe,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const X=this._pointerPositions[0]||this._changedPointerPositions[0];return X?{x:X.x,y:X.y}:(e.Util.warn(ie),null)}_getPointerById(X){return this._pointerPositions.find(fe=>fe.id===X)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(X){X=X||{},X.x=X.x||0,X.y=X.y||0,X.width=X.width||this.width(),X.height=X.height||this.height();const fe=new s.SceneCanvas({width:X.width,height:X.height,pixelRatio:X.pixelRatio||1}),me=fe.getContext()._context,Ce=this.children;return(X.x||X.y)&&me.translate(-1*X.x,-1*X.y),Ce.forEach(function(Te){if(!Te.isVisible())return;const Ue=Te._toKonvaCanvas(X);me.drawImage(Ue._canvas,X.x,X.y,Ue.getWidth()/Ue.getPixelRatio(),Ue.getHeight()/Ue.getPixelRatio())}),fe}getIntersection(X){if(!X)return null;const fe=this.children,me=fe.length,Ce=me-1;for(let Te=Ce;Te>=0;Te--){const Ue=fe[Te].getIntersection(X);if(Ue)return Ue}return null}_resizeDOM(){const X=this.width(),fe=this.height();this.content&&(this.content.style.width=X+g,this.content.style.height=fe+g),this.bufferCanvas.setSize(X,fe),this.bufferHitCanvas.setSize(X,fe),this.children.forEach(me=>{me.setSize({width:X,height:fe}),me.draw()})}add(X,...fe){if(arguments.length>1){for(let Ce=0;Ce<arguments.length;Ce++)this.add(arguments[Ce]);return this}super.add(X);const me=this.children.length;return me>Z&&e.Util.warn("The stage has "+me+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),X.setSize({width:this.width(),height:this.height()}),X.draw(),r.Konva.isBrowser&&this.content.appendChild(X.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(X){return l.hasPointerCapture(X,this)}setPointerCapture(X){l.setPointerCapture(X,this)}releaseCapture(X){l.releaseCapture(X,this)}getLayers(){return this.children}_bindContentEvents(){r.Konva.isBrowser&&te.forEach(([X,fe])=>{this.content.addEventListener(X,me=>{this[fe](me)},{passive:!1})})}_pointerenter(X){this.setPointersPositions(X);const fe=B(X.type);fe&&this._fire(fe.pointerenter,{evt:X,target:this,currentTarget:this})}_pointerover(X){this.setPointersPositions(X);const fe=B(X.type);fe&&this._fire(fe.pointerover,{evt:X,target:this,currentTarget:this})}_getTargetShape(X){let fe=this[X+"targetShape"];return fe&&!fe.getStage()&&(fe=null),fe}_pointerleave(X){const fe=B(X.type),me=Y(X.type);if(!fe)return;this.setPointersPositions(X);const Ce=this._getTargetShape(me),Te=!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled;Ce&&Te?(Ce._fireAndBubble(fe.pointerout,{evt:X}),Ce._fireAndBubble(fe.pointerleave,{evt:X}),this._fire(fe.pointerleave,{evt:X,target:this,currentTarget:this}),this[me+"targetShape"]=null):Te&&(this._fire(fe.pointerleave,{evt:X,target:this,currentTarget:this}),this._fire(fe.pointerout,{evt:X,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(X){const fe=B(X.type),me=Y(X.type);if(!fe)return;this.setPointersPositions(X);let Ce=!1;this._changedPointerPositions.forEach(Te=>{const Ue=this.getIntersection(Te);if(a.DD.justDragged=!1,r.Konva["_"+me+"ListenClick"]=!0,!Ue||!Ue.isListening()){this[me+"ClickStartShape"]=void 0;return}r.Konva.capturePointerEventsEnabled&&Ue.setPointerCapture(Te.id),this[me+"ClickStartShape"]=Ue,Ue._fireAndBubble(fe.pointerdown,{evt:X,pointerId:Te.id}),Ce=!0;const ze=X.type.indexOf("touch")>=0;Ue.preventDefault()&&X.cancelable&&ze&&X.preventDefault()}),Ce||this._fire(fe.pointerdown,{evt:X,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(X){const fe=B(X.type),me=Y(X.type);if(!fe||(r.Konva.isDragging()&&a.DD.node.preventDefault()&&X.cancelable&&X.preventDefault(),this.setPointersPositions(X),!(!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled)))return;const Te={};let Ue=!1;const ze=this._getTargetShape(me);this._changedPointerPositions.forEach(je=>{const le=l.getCapturedShape(je.id)||this.getIntersection(je),At=je.id,bt={evt:X,pointerId:At},ht=ze!==le;if(ht&&ze&&(ze._fireAndBubble(fe.pointerout,{...bt},le),ze._fireAndBubble(fe.pointerleave,{...bt},le)),le){if(Te[le._id])return;Te[le._id]=!0}le&&le.isListening()?(Ue=!0,ht&&(le._fireAndBubble(fe.pointerover,{...bt},ze),le._fireAndBubble(fe.pointerenter,{...bt},ze),this[me+"targetShape"]=le),le._fireAndBubble(fe.pointermove,{...bt})):ze&&(this._fire(fe.pointerover,{evt:X,target:this,currentTarget:this,pointerId:At}),this[me+"targetShape"]=null)}),Ue||this._fire(fe.pointermove,{evt:X,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(X){const fe=B(X.type),me=Y(X.type);if(!fe)return;this.setPointersPositions(X);const Ce=this[me+"ClickStartShape"],Te=this[me+"ClickEndShape"],Ue={};let ze=!1;this._changedPointerPositions.forEach(je=>{const le=l.getCapturedShape(je.id)||this.getIntersection(je);if(le){if(le.releaseCapture(je.id),Ue[le._id])return;Ue[le._id]=!0}const At=je.id,bt={evt:X,pointerId:At};let ht=!1;r.Konva["_"+me+"InDblClickWindow"]?(ht=!0,clearTimeout(this[me+"DblTimeout"])):a.DD.justDragged||(r.Konva["_"+me+"InDblClickWindow"]=!0,clearTimeout(this[me+"DblTimeout"])),this[me+"DblTimeout"]=setTimeout(function(){r.Konva["_"+me+"InDblClickWindow"]=!1},r.Konva.dblClickWindow),le&&le.isListening()?(ze=!0,this[me+"ClickEndShape"]=le,le._fireAndBubble(fe.pointerup,{...bt}),r.Konva["_"+me+"ListenClick"]&&Ce&&Ce===le&&(le._fireAndBubble(fe.pointerclick,{...bt}),ht&&Te&&Te===le&&le._fireAndBubble(fe.pointerdblclick,{...bt}))):(this[me+"ClickEndShape"]=null,r.Konva["_"+me+"ListenClick"]&&this._fire(fe.pointerclick,{evt:X,target:this,currentTarget:this,pointerId:At}),ht&&this._fire(fe.pointerdblclick,{evt:X,target:this,currentTarget:this,pointerId:At}))}),ze||this._fire(fe.pointerup,{evt:X,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r.Konva["_"+me+"ListenClick"]=!1,X.cancelable&&me!=="touch"&&me!=="pointer"&&X.preventDefault()}_contextmenu(X){this.setPointersPositions(X);const fe=this.getIntersection(this.getPointerPosition());fe&&fe.isListening()?fe._fireAndBubble(R,{evt:X}):this._fire(R,{evt:X,target:this,currentTarget:this})}_wheel(X){this.setPointersPositions(X);const fe=this.getIntersection(this.getPointerPosition());fe&&fe.isListening()?fe._fireAndBubble(pe,{evt:X}):this._fire(pe,{evt:X,target:this,currentTarget:this})}_pointercancel(X){this.setPointersPositions(X);const fe=l.getCapturedShape(X.pointerId)||this.getIntersection(this.getPointerPosition());fe&&fe._fireAndBubble(E,l.createEvent(X)),l.releaseCapture(X.pointerId)}_lostpointercapture(X){l.releaseCapture(X.pointerId)}setPointersPositions(X){const fe=this._getContentPosition();let me=null,Ce=null;X=X||window.event,X.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(X.touches,Te=>{this._pointerPositions.push({id:Te.identifier,x:(Te.clientX-fe.left)/fe.scaleX,y:(Te.clientY-fe.top)/fe.scaleY})}),Array.prototype.forEach.call(X.changedTouches||X.touches,Te=>{this._changedPointerPositions.push({id:Te.identifier,x:(Te.clientX-fe.left)/fe.scaleX,y:(Te.clientY-fe.top)/fe.scaleY})})):(me=(X.clientX-fe.left)/fe.scaleX,Ce=(X.clientY-fe.top)/fe.scaleY,this.pointerPos={x:me,y:Ce},this._pointerPositions=[{x:me,y:Ce,id:e.Util._getFirstPointerId(X)}],this._changedPointerPositions=[{x:me,y:Ce,id:e.Util._getFirstPointerId(X)}])}_setPointerPosition(X){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(X)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const X=this.content.getBoundingClientRect();return{top:X.top,left:X.left,scaleX:X.width/this.content.clientWidth||1,scaleY:X.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!r.Konva.isBrowser)return;const X=this.container();if(!X)throw"Stage has no container. A container is required.";X.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),X.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(X){X.batchDraw()}),this}}t.Stage=ue,ue.prototype.nodeType=c,(0,o._registerNode)(ue),n.Factory.addGetterSetter(ue,"container"),r.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(de=>{de.batchDraw()})})})(JA);var jg={},ar={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=Gt,n=mi,i=Kt,r=oi,s=jt,a=Gt,o=Nu,l="hasShadow",c="shadowRGBA",h="patternImage",g="linearGradient",m="radialGradient";let p;function x(){return p||(p=n.Util.createCanvasElement().getContext("2d"),p)}t.shapes={};function b(I){const F=this.attrs.fillRule;F?I.fill(F):I.fill()}function S(I){I.stroke()}function N(I){const F=this.attrs.fillRule;F?I.fill(F):I.fill()}function j(I){I.stroke()}function w(){this._clearCache(l)}function k(){this._clearCache(c)}function E(){this._clearCache(h)}function O(){this._clearCache(g)}function U(){this._clearCache(m)}class M extends r.Node{constructor(F){super(F);let P;for(;P=n.Util.getRandomColor(),!(P&&!(P in t.shapes)););this.colorKey=P,t.shapes[P]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(h,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const P=x().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(P&&P.setTransform){const R=new n.Transform;R.translate(this.fillPatternX(),this.fillPatternY()),R.rotate(e.Konva.getAngle(this.fillPatternRotation())),R.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),R.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const $=R.getMatrix(),G=typeof DOMMatrix>"u"?{a:$[0],b:$[1],c:$[2],d:$[3],e:$[4],f:$[5]}:new DOMMatrix($);P.setTransform(G)}return P}}_getLinearGradient(){return this._getCache(g,this.__getLinearGradient)}__getLinearGradient(){const F=this.fillLinearGradientColorStops();if(F){const P=x(),R=this.fillLinearGradientStartPoint(),$=this.fillLinearGradientEndPoint(),G=P.createLinearGradient(R.x,R.y,$.x,$.y);for(let ee=0;ee<F.length;ee+=2)G.addColorStop(F[ee],F[ee+1]);return G}}_getRadialGradient(){return this._getCache(m,this.__getRadialGradient)}__getRadialGradient(){const F=this.fillRadialGradientColorStops();if(F){const P=x(),R=this.fillRadialGradientStartPoint(),$=this.fillRadialGradientEndPoint(),G=P.createRadialGradient(R.x,R.y,this.fillRadialGradientStartRadius(),$.x,$.y,this.fillRadialGradientEndRadius());for(let ee=0;ee<F.length;ee+=2)G.addColorStop(F[ee],F[ee+1]);return G}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const F=n.Util.colorToRGBA(this.shadowColor());if(F)return"rgba("+F.r+","+F.g+","+F.b+","+F.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const F=this.hitStrokeWidth();return F==="auto"?this.hasStroke():this.strokeEnabled()&&!!F}intersects(F){const P=this.getStage();if(!P)return!1;const R=P.bufferHitCanvas;return R.getContext().clear(),this.drawHit(R,void 0,!0),R.context.getImageData(Math.round(F.x),Math.round(F.y),1,1).data[3]>0}destroy(){return r.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(F){var P;if(!((P=this.attrs.perfectDrawEnabled)!==null&&P!==void 0?P:!0))return!1;const $=F||this.hasFill(),G=this.hasStroke(),ee=this.getAbsoluteOpacity()!==1;if($&&G&&ee)return!0;const ce=this.hasShadow(),pe=this.shadowForStrokeEnabled();return!!($&&G&&ce&&pe)}setStrokeHitEnabled(F){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),F?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const F=this.size();return{x:this._centroid?-F.width/2:0,y:this._centroid?-F.height/2:0,width:F.width,height:F.height}}getClientRect(F={}){let P=!1,R=this.getParent();for(;R;){if(R.isCached()){P=!0;break}R=R.getParent()}const $=F.skipTransform,G=F.relativeTo||P&&this.getStage()||void 0,ee=this.getSelfRect(),pe=!F.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,Z=ee.width+pe,te=ee.height+pe,he=!F.skipShadow&&this.hasShadow(),Y=he?this.shadowOffsetX():0,B=he?this.shadowOffsetY():0,K=Z+Math.abs(Y),ie=te+Math.abs(B),ue=he&&this.shadowBlur()||0,de=K+ue*2,X=ie+ue*2,fe={width:de,height:X,x:-(pe/2+ue)+Math.min(Y,0)+ee.x,y:-(pe/2+ue)+Math.min(B,0)+ee.y};return $?fe:this._transformedRect(fe,G)}drawScene(F,P,R){const $=this.getLayer(),G=F||$.getCanvas(),ee=G.getContext(),ce=this._getCanvasCache(),pe=this.getSceneFunc(),Z=this.hasShadow();let te;const he=P===this;if(!this.isVisible()&&!he)return this;if(ce){ee.save();const Y=this.getAbsoluteTransform(P).getMatrix();return ee.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),this._drawCachedSceneCanvas(ee),ee.restore(),this}if(!pe)return this;if(ee.save(),this._useBufferCanvas()){te=this.getStage();const Y=R||te.bufferCanvas,B=Y.getContext();B.clear(),B.save(),B._applyLineJoin(this);const K=this.getAbsoluteTransform(P).getMatrix();B.transform(K[0],K[1],K[2],K[3],K[4],K[5]),pe.call(this,B,this),B.restore();const ie=Y.pixelRatio;Z&&ee._applyShadow(this),ee._applyOpacity(this),ee._applyGlobalCompositeOperation(this),ee.drawImage(Y._canvas,Y.x||0,Y.y||0,Y.width/ie,Y.height/ie)}else{if(ee._applyLineJoin(this),!he){const Y=this.getAbsoluteTransform(P).getMatrix();ee.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),ee._applyOpacity(this),ee._applyGlobalCompositeOperation(this)}Z&&ee._applyShadow(this),pe.call(this,ee,this)}return ee.restore(),this}drawHit(F,P,R=!1){if(!this.shouldDrawHit(P,R))return this;const $=this.getLayer(),G=F||$.hitCanvas,ee=G&&G.getContext(),ce=this.hitFunc()||this.sceneFunc(),pe=this._getCanvasCache(),Z=pe&&pe.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),Z){ee.save();const he=this.getAbsoluteTransform(P).getMatrix();return ee.transform(he[0],he[1],he[2],he[3],he[4],he[5]),this._drawCachedHitCanvas(ee),ee.restore(),this}if(!ce)return this;if(ee.save(),ee._applyLineJoin(this),!(this===P)){const he=this.getAbsoluteTransform(P).getMatrix();ee.transform(he[0],he[1],he[2],he[3],he[4],he[5])}return ce.call(this,ee,this),ee.restore(),this}drawHitFromCache(F=0){const P=this._getCanvasCache(),R=this._getCachedSceneCanvas(),$=P.hit,G=$.getContext(),ee=$.getWidth(),ce=$.getHeight();G.clear(),G.drawImage(R._canvas,0,0,ee,ce);try{const pe=G.getImageData(0,0,ee,ce),Z=pe.data,te=Z.length,he=n.Util._hexToRgb(this.colorKey);for(let Y=0;Y<te;Y+=4)Z[Y+3]>F?(Z[Y]=he.r,Z[Y+1]=he.g,Z[Y+2]=he.b,Z[Y+3]=255):Z[Y+3]=0;G.putImageData(pe,0,0)}catch(pe){n.Util.error("Unable to draw hit graph from cached scene canvas. "+pe.message)}return this}hasPointerCapture(F){return o.hasPointerCapture(F,this)}setPointerCapture(F){o.setPointerCapture(F,this)}releaseCapture(F){o.releaseCapture(F,this)}}t.Shape=M,M.prototype._fillFunc=b,M.prototype._strokeFunc=S,M.prototype._fillFuncHit=N,M.prototype._strokeFuncHit=j,M.prototype._centroid=!1,M.prototype.nodeType="Shape",(0,a._registerNode)(M),M.prototype.eventListeners={},M.prototype.on.call(M.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",w),M.prototype.on.call(M.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",k),M.prototype.on.call(M.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",E),M.prototype.on.call(M.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",O),M.prototype.on.call(M.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",U),i.Factory.addGetterSetter(M,"stroke",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(M,"strokeWidth",2,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(M,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(M,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(M,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(M,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(M,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(M,"lineJoin"),i.Factory.addGetterSetter(M,"lineCap"),i.Factory.addGetterSetter(M,"sceneFunc"),i.Factory.addGetterSetter(M,"hitFunc"),i.Factory.addGetterSetter(M,"dash"),i.Factory.addGetterSetter(M,"dashOffset",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(M,"shadowColor",void 0,(0,s.getStringValidator)()),i.Factory.addGetterSetter(M,"shadowBlur",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(M,"shadowOpacity",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(M,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(M,"shadowOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(M,"shadowOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(M,"fillPatternImage"),i.Factory.addGetterSetter(M,"fill",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(M,"fillPatternX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(M,"fillPatternY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(M,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(M,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(M,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(M,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(M,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(M,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(M,"fillEnabled",!0),i.Factory.addGetterSetter(M,"strokeEnabled",!0),i.Factory.addGetterSetter(M,"shadowEnabled",!0),i.Factory.addGetterSetter(M,"dashEnabled",!0),i.Factory.addGetterSetter(M,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(M,"fillPriority","color"),i.Factory.addComponentsGetterSetter(M,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(M,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(M,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(M,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(M,"fillPatternScaleX",1,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(M,"fillPatternScaleY",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(M,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(M,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(M,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(M,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(M,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(M,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(M,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(M,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(M,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(M,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(M,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(M,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(M,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(M,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(M,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(M,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(M,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(M,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(M,"fillPatternRotation",0),i.Factory.addGetterSetter(M,"fillRule",void 0,(0,s.getStringValidator)()),i.Factory.backCompat(M,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(ar);Object.defineProperty(jg,"__esModule",{value:!0});jg.Layer=void 0;const Ol=mi,gx=Uh,jd=oi,Y3=Kt,q8=Po,QH=jt,JH=ar,ZH=Gt,e$="#",t$="beforeDraw",n$="draw",tP=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],i$=tP.length;let Gf=class extends gx.Container{constructor(e){super(e),this.canvas=new q8.SceneCanvas,this.hitCanvas=new q8.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){jd.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!jd.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(jd.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(jd.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return jd.Node.prototype.remove.call(this),e&&e.parentNode&&Ol.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&Ol.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),jd.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Ol.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Ol.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Ol.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,i=!1;for(;;){for(let r=0;r<i$;r++){const s=tP[r],a=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),o=a.shape;if(o)return o;if(i=!!a.antialiased,!a.antialiased)break}if(i)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,r=i[3];if(r===255){const s=Ol.Util._rgbToHex(i[0],i[1],i[2]),a=JH.shapes[e$+s];return a?{shape:a}:{antialiased:!0}}else if(r>0)return{antialiased:!0};return{}}drawScene(e,n,i){const r=this.getLayer(),s=e||r&&r.getCanvas();return this._fire(t$,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),gx.Container.prototype.drawScene.call(this,s,n,i),this._fire(n$,{node:this}),this}drawHit(e,n){const i=this.getLayer(),r=e||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),gx.Container.prototype.drawHit.call(this,r,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Ol.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Ol.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Ol.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};jg.Layer=Gf;Gf.prototype.nodeType="Layer";(0,ZH._registerNode)(Gf);Y3.Factory.addGetterSetter(Gf,"imageSmoothingEnabled",!0);Y3.Factory.addGetterSetter(Gf,"clearBeforeDraw",!0);Y3.Factory.addGetterSetter(Gf,"hitGraphEnabled",!0,(0,QH.getBooleanValidator)());var m5={};Object.defineProperty(m5,"__esModule",{value:!0});m5.FastLayer=void 0;const r$=mi,s$=jg,a$=Gt;class Q3 extends s$.Layer{constructor(e){super(e),this.listening(!1),r$.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}m5.FastLayer=Q3;Q3.prototype.nodeType="FastLayer";(0,a$._registerNode)(Q3);var qf={};Object.defineProperty(qf,"__esModule",{value:!0});qf.Group=void 0;const o$=mi,l$=Uh,c$=Gt;let J3=class extends l$.Container{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&o$.Util.throw("You may only add groups and shapes to groups.")}};qf.Group=J3;J3.prototype.nodeType="Group";(0,c$._registerNode)(J3);var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.Animation=void 0;const mx=Gt,W8=mi,yx=function(){return mx.glob.performance&&mx.glob.performance.now?function(){return mx.glob.performance.now()}:function(){return new Date().getTime()}}();let y5=class Dd{constructor(e,n){this.id=Dd.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:yx(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,i=n.length;for(let r=0;r<i;r++)if(n[r]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Dd.animations,i=n.length;for(let r=0;r<i;r++)if(n[r].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=yx(),Dd._addAnimation(this),this}stop(){return Dd._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,i=this.animations,r=i.length;for(let s=0;s<r;s++)if(i[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const e={},n=this.animations;for(let i=0;i<n.length;i++){const r=n[i],s=r.layers,a=r.func;r._updateFrameObject(yx());const o=s.length;let l;if(a?l=a.call(r,r.frame)!==!1:l=!0,!!l)for(let c=0;c<o;c++){const h=s[c];h._id!==void 0&&(e[h._id]=h)}}for(const i in e)e.hasOwnProperty(i)&&e[i].batchDraw()}static _animationLoop(){const e=Dd;e.animations.length?(e._runFrames(),W8.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,W8.Util.requestAnimFrame(this._animationLoop))}};Wf.Animation=y5;y5.animations=[];y5.animIdCounter=0;y5.animRunning=!1;var nP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=mi,n=Wf,i=oi,r=Gt,s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,o=2,l=3,c=["fill","stroke","shadowColor"];let h=0;class g{constructor(x,b,S,N,j,w,k){this.prop=x,this.propFunc=b,this.begin=N,this._pos=N,this.duration=w,this._change=0,this.prevPos=0,this.yoyo=k,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=S,this._change=j-this.begin,this.pause()}fire(x){const b=this[x];b&&b()}setTime(x){x>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():x<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=x,this.update())}getTime(){return this._time}setPosition(x){this.prevPos=this._pos,this.propFunc(x),this._pos=x}getPosition(x){return x===void 0&&(x=this._time),this.func(x,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(x){this.pause(),this._time=x,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const x=this.getTimer()-this._startTime;this.state===o?this.setTime(x):this.state===l&&this.setTime(this.duration-x)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class m{constructor(x){const b=this,S=x.node,N=S._id,j=x.easing||t.Easings.Linear,w=!!x.yoyo;let k,E;typeof x.duration>"u"?k=.3:x.duration===0?k=.001:k=x.duration,this.node=S,this._id=h++;const O=S.getLayer()||(S instanceof r.Konva.Stage?S.getLayers():null);O||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){b.tween.onEnterFrame()},O),this.tween=new g(E,function(U){b._tweenFunc(U)},j,0,1,k*1e3,w),this._addListeners(),m.attrs[N]||(m.attrs[N]={}),m.attrs[N][this._id]||(m.attrs[N][this._id]={}),m.tweens[N]||(m.tweens[N]={});for(E in x)s[E]===void 0&&this._addAttr(E,x[E]);this.reset(),this.onFinish=x.onFinish,this.onReset=x.onReset,this.onUpdate=x.onUpdate}_addAttr(x,b){const S=this.node,N=S._id;let j,w,k,E,O;const U=m.tweens[N][x];U&&delete m.attrs[N][U][x];let M=S.getAttr(x);if(e.Util._isArray(b))if(j=[],w=Math.max(b.length,M.length),x==="points"&&b.length!==M.length&&(b.length>M.length?(E=M,M=e.Util._prepareArrayForTween(M,b,S.closed())):(k=b,b=e.Util._prepareArrayForTween(b,M,S.closed()))),x.indexOf("fill")===0)for(let I=0;I<w;I++)if(I%2===0)j.push(b[I]-M[I]);else{const F=e.Util.colorToRGBA(M[I]);O=e.Util.colorToRGBA(b[I]),M[I]=F,j.push({r:O.r-F.r,g:O.g-F.g,b:O.b-F.b,a:O.a-F.a})}else for(let I=0;I<w;I++)j.push(b[I]-M[I]);else c.indexOf(x)!==-1?(M=e.Util.colorToRGBA(M),O=e.Util.colorToRGBA(b),j={r:O.r-M.r,g:O.g-M.g,b:O.b-M.b,a:O.a-M.a}):j=b-M;m.attrs[N][this._id][x]={start:M,diff:j,end:b,trueEnd:k,trueStart:E},m.tweens[N][x]=this._id}_tweenFunc(x){const b=this.node,S=m.attrs[b._id][this._id];let N,j,w,k,E,O,U,M;for(N in S){if(j=S[N],w=j.start,k=j.diff,M=j.end,e.Util._isArray(w))if(E=[],U=Math.max(w.length,M.length),N.indexOf("fill")===0)for(O=0;O<U;O++)O%2===0?E.push((w[O]||0)+k[O]*x):E.push("rgba("+Math.round(w[O].r+k[O].r*x)+","+Math.round(w[O].g+k[O].g*x)+","+Math.round(w[O].b+k[O].b*x)+","+(w[O].a+k[O].a*x)+")");else for(O=0;O<U;O++)E.push((w[O]||0)+k[O]*x);else c.indexOf(N)!==-1?E="rgba("+Math.round(w.r+k.r*x)+","+Math.round(w.g+k.g*x)+","+Math.round(w.b+k.b*x)+","+(w.a+k.a*x)+")":E=w+k*x;b.setAttr(N,E)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const x=this.node,b=m.attrs[x._id][this._id];b.points&&b.points.trueEnd&&x.setAttr("points",b.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const x=this.node,b=m.attrs[x._id][this._id];b.points&&b.points.trueStart&&x.points(b.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(x){return this.tween.seek(x*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const x=this.node._id,b=this._id,S=m.tweens[x];this.pause(),this.anim&&this.anim.stop();for(const N in S)delete m.tweens[x][N];delete m.attrs[x][b],m.tweens[x]&&(Object.keys(m.tweens[x]).length===0&&delete m.tweens[x],Object.keys(m.attrs[x]).length===0&&delete m.attrs[x])}}t.Tween=m,m.attrs={},m.tweens={},i.Node.prototype.to=function(p){const x=p.onFinish;p.node=this,p.onFinish=function(){this.destroy(),x&&x()},new m(p).play()},t.Easings={BackEaseIn(p,x,b,S){return b*(p/=S)*p*((1.70158+1)*p-1.70158)+x},BackEaseOut(p,x,b,S){return b*((p=p/S-1)*p*((1.70158+1)*p+1.70158)+1)+x},BackEaseInOut(p,x,b,S){let N=1.70158;return(p/=S/2)<1?b/2*(p*p*(((N*=1.525)+1)*p-N))+x:b/2*((p-=2)*p*(((N*=1.525)+1)*p+N)+2)+x},ElasticEaseIn(p,x,b,S,N,j){let w=0;return p===0?x:(p/=S)===1?x+b:(j||(j=S*.3),!N||N<Math.abs(b)?(N=b,w=j/4):w=j/(2*Math.PI)*Math.asin(b/N),-(N*Math.pow(2,10*(p-=1))*Math.sin((p*S-w)*(2*Math.PI)/j))+x)},ElasticEaseOut(p,x,b,S,N,j){let w=0;return p===0?x:(p/=S)===1?x+b:(j||(j=S*.3),!N||N<Math.abs(b)?(N=b,w=j/4):w=j/(2*Math.PI)*Math.asin(b/N),N*Math.pow(2,-10*p)*Math.sin((p*S-w)*(2*Math.PI)/j)+b+x)},ElasticEaseInOut(p,x,b,S,N,j){let w=0;return p===0?x:(p/=S/2)===2?x+b:(j||(j=S*(.3*1.5)),!N||N<Math.abs(b)?(N=b,w=j/4):w=j/(2*Math.PI)*Math.asin(b/N),p<1?-.5*(N*Math.pow(2,10*(p-=1))*Math.sin((p*S-w)*(2*Math.PI)/j))+x:N*Math.pow(2,-10*(p-=1))*Math.sin((p*S-w)*(2*Math.PI)/j)*.5+b+x)},BounceEaseOut(p,x,b,S){return(p/=S)<1/2.75?b*(7.5625*p*p)+x:p<2/2.75?b*(7.5625*(p-=1.5/2.75)*p+.75)+x:p<2.5/2.75?b*(7.5625*(p-=2.25/2.75)*p+.9375)+x:b*(7.5625*(p-=2.625/2.75)*p+.984375)+x},BounceEaseIn(p,x,b,S){return b-t.Easings.BounceEaseOut(S-p,0,b,S)+x},BounceEaseInOut(p,x,b,S){return p<S/2?t.Easings.BounceEaseIn(p*2,0,b,S)*.5+x:t.Easings.BounceEaseOut(p*2-S,0,b,S)*.5+b*.5+x},EaseIn(p,x,b,S){return b*(p/=S)*p+x},EaseOut(p,x,b,S){return-b*(p/=S)*(p-2)+x},EaseInOut(p,x,b,S){return(p/=S/2)<1?b/2*p*p+x:-b/2*(--p*(p-2)-1)+x},StrongEaseIn(p,x,b,S){return b*(p/=S)*p*p*p*p+x},StrongEaseOut(p,x,b,S){return b*((p=p/S-1)*p*p*p*p+1)+x},StrongEaseInOut(p,x,b,S){return(p/=S/2)<1?b/2*p*p*p*p*p+x:b/2*((p-=2)*p*p*p*p+2)+x},Linear(p,x,b,S){return b*p/S+x}}})(nP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=Gt,n=mi,i=oi,r=Uh,s=JA,a=jg,o=m5,l=qf,c=p5,h=ar,g=Wf,m=nP,p=ec,x=Po;t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:i.Node,Container:r.Container,Stage:s.Stage,stages:s.stages,Layer:a.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:c.DD,Shape:h.Shape,shapes:h.shapes,Animation:g.Animation,Tween:m.Tween,Easings:m.Easings,Context:p.Context,Canvas:x.Canvas}),t.default=t.Konva})(y2);var x5={};Object.defineProperty(x5,"__esModule",{value:!0});x5.Arc=void 0;const v5=Kt,u$=ar,K8=Gt,b5=jt,h$=Gt;class cc extends u$.Shape{_sceneFunc(e){const n=K8.Konva.getAngle(this.angle()),i=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,i),e.arc(0,0,this.innerRadius(),n,0,!i),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),i=this.clockwise(),r=K8.Konva.getAngle(i?360-this.angle():this.angle()),s=Math.cos(Math.min(r,Math.PI)),a=1,o=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),l=Math.sin(Math.min(r,Math.PI/2)),c=s*(s>0?e:n),h=a*n,g=o*(o>0?e:n),m=l*(l>0?n:e);return{x:c,y:i?-1*m:g,width:h-c,height:m-g}}}x5.Arc=cc;cc.prototype._centroid=!0;cc.prototype.className="Arc";cc.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,h$._registerNode)(cc);v5.Factory.addGetterSetter(cc,"innerRadius",0,(0,b5.getNumberValidator)());v5.Factory.addGetterSetter(cc,"outerRadius",0,(0,b5.getNumberValidator)());v5.Factory.addGetterSetter(cc,"angle",0,(0,b5.getNumberValidator)());v5.Factory.addGetterSetter(cc,"clockwise",!1,(0,b5.getBooleanValidator)());var w5={},Ag={};Object.defineProperty(Ag,"__esModule",{value:!0});Ag.Line=void 0;const _5=Kt,d$=Gt,f$=ar,iP=jt;function E4(t,e,n,i,r,s,a){const o=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2)),l=Math.sqrt(Math.pow(r-n,2)+Math.pow(s-i,2)),c=a*o/(o+l),h=a*l/(o+l),g=n-c*(r-t),m=i-c*(s-e),p=n+h*(r-t),x=i+h*(s-e);return[g,m,p,x]}function X8(t,e){const n=t.length,i=[];for(let r=2;r<n-2;r+=2){const s=E4(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],e);isNaN(s[0])||(i.push(s[0]),i.push(s[1]),i.push(t[r]),i.push(t[r+1]),i.push(s[2]),i.push(s[3]))}return i}let ku=class extends f$.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),i=n.length,r=this.tension(),s=this.closed(),a=this.bezier();if(!i)return;let o=0;if(e.beginPath(),e.moveTo(n[0],n[1]),r!==0&&i>4){const l=this.getTensionPoints(),c=l.length;for(o=s?0:4,s||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);o<c-2;)e.bezierCurveTo(l[o++],l[o++],l[o++],l[o++],l[o++],l[o++]);s||e.quadraticCurveTo(l[c-2],l[c-1],n[i-2],n[i-1])}else if(a)for(o=2;o<i;)e.bezierCurveTo(n[o++],n[o++],n[o++],n[o++],n[o++],n[o++]);else for(o=2;o<i;o+=2)e.lineTo(n[o],n[o+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():X8(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,i=this.tension(),r=E4(e[n-2],e[n-1],e[0],e[1],e[2],e[3],i),s=E4(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],i),a=X8(e,i);return[r[2],r[3]].concat(a).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],i=e[0],r=e[1],s=e[1],a,o;for(let l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],n=Math.min(n,a),i=Math.max(i,a),r=Math.min(r,o),s=Math.max(s,o);return{x:n,y:r,width:i-n,height:s-r}}};Ag.Line=ku;ku.prototype.className="Line";ku.prototype._attrsAffectingSize=["points","bezier","tension"];(0,d$._registerNode)(ku);_5.Factory.addGetterSetter(ku,"closed",!1);_5.Factory.addGetterSetter(ku,"bezier",!1);_5.Factory.addGetterSetter(ku,"tension",0,(0,iP.getNumberValidator)());_5.Factory.addGetterSetter(ku,"points",[],(0,iP.getNumberArrayValidator)());var Kf={},rP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(a,o,l)=>{let c,h;const m=l/2;c=0;for(let p=0;p<20;p++)h=m*t.tValues[20][p]+m,c+=t.cValues[20][p]*i(a,o,h);return m*c};t.getCubicArcLength=e;const n=(a,o,l)=>{l===void 0&&(l=1);const c=a[0]-2*a[1]+a[2],h=o[0]-2*o[1]+o[2],g=2*a[1]-2*a[0],m=2*o[1]-2*o[0],p=4*(c*c+h*h),x=4*(c*g+h*m),b=g*g+m*m;if(p===0)return l*Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(o[2]-o[0],2));const S=x/(2*p),N=b/p,j=l+S,w=N-S*S,k=j*j+w>0?Math.sqrt(j*j+w):0,E=S*S+w>0?Math.sqrt(S*S+w):0,O=S+Math.sqrt(S*S+w)!==0?w*Math.log(Math.abs((j+k)/(S+E))):0;return Math.sqrt(p)/2*(j*k-S*E+O)};t.getQuadraticArcLength=n;function i(a,o,l){const c=r(1,l,a),h=r(1,l,o),g=c*c+h*h;return Math.sqrt(g)}const r=(a,o,l)=>{const c=l.length-1;let h,g;if(c===0)return 0;if(a===0){g=0;for(let m=0;m<=c;m++)g+=t.binomialCoefficients[c][m]*Math.pow(1-o,c-m)*Math.pow(o,m)*l[m];return g}else{h=new Array(c);for(let m=0;m<c;m++)h[m]=c*(l[m+1]-l[m]);return r(a-1,o,h)}},s=(a,o,l)=>{let c=1,h=a/o,g=(a-l(h))/o,m=0;for(;c>.001;){const p=l(h+g),x=Math.abs(a-p)/o;if(x<c)c=x,h+=g;else{const b=l(h-g),S=Math.abs(a-b)/o;S<c?(c=S,h-=g):g/=2}if(m++,m>500)break}return h};t.t2length=s})(rP);Object.defineProperty(Kf,"__esModule",{value:!0});Kf.Path=void 0;const p$=Kt,g$=Gt,m$=ar,Ad=rP;class nr extends m$.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=nr.parsePathData(this.data()),this.pathLength=nr.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let i=!1;for(let r=0;r<n.length;r++){const s=n[r].command,a=n[r].points;switch(s){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":const o=a[0],l=a[1],c=a[2],h=a[3],g=a[4],m=a[5],p=a[6],x=a[7],b=c>h?c:h,S=c>h?1:c/h,N=c>h?h/c:1;e.translate(o,l),e.rotate(p),e.scale(S,N),e.arc(0,0,b,g,g+m,1-x),e.scale(1/S,1/N),e.rotate(-p),e.translate(-o,-l);break;case"z":i=!0,e.closePath();break}}!i&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const c=l.points[4],h=l.points[5],g=l.points[4]+h;let m=Math.PI/180;if(Math.abs(c-g)<m&&(m=Math.abs(c-g)),h<0)for(let p=c-m;p>g;p-=m){const x=nr.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(x.x,x.y)}else for(let p=c+m;p<g;p+=m){const x=nr.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(x.x,x.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){const h=nr.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(h.x,h.y)}else e=e.concat(l.points)});let n=e[0],i=e[0],r=e[1],s=e[1],a,o;for(let l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],isNaN(a)||(n=Math.min(n,a),i=Math.max(i,a)),isNaN(o)||(r=Math.min(r,o),s=Math.max(s,o));return{x:n,y:r,width:i-n,height:s-r}}getLength(){return this.pathLength}getPointAtLength(e){return nr.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,i,r){return Math.sqrt((i-e)*(i-e)+(r-n)*(r-n))}static getPathLength(e){let n=0;for(let i=0;i<e.length;++i)n+=e[i].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let i,r=0,s=n.length;if(!s)return null;for(;r<s&&e>n[r].pathLength;)e-=n[r].pathLength,++r;if(r===s)return i=n[r-1].points.slice(-2),{x:i[0],y:i[1]};if(e<.01)return n[r].command==="M"?(i=n[r].points.slice(0,2),{x:i[0],y:i[1]}):{x:n[r].start.x,y:n[r].start.y};const a=n[r],o=a.points;switch(a.command){case"L":return nr.getPointOnLine(e,a.start.x,a.start.y,o[0],o[1]);case"C":return nr.getPointOnCubicBezier((0,Ad.t2length)(e,nr.getPathLength(n),b=>(0,Ad.getCubicArcLength)([a.start.x,o[0],o[2],o[4]],[a.start.y,o[1],o[3],o[5]],b)),a.start.x,a.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return nr.getPointOnQuadraticBezier((0,Ad.t2length)(e,nr.getPathLength(n),b=>(0,Ad.getQuadraticArcLength)([a.start.x,o[0],o[2]],[a.start.y,o[1],o[3]],b)),a.start.x,a.start.y,o[0],o[1],o[2],o[3]);case"A":const l=o[0],c=o[1],h=o[2],g=o[3],m=o[5],p=o[6];let x=o[4];return x+=m*e/a.pathLength,nr.getPointOnEllipticalArc(l,c,h,g,x,p)}return null}static getPointOnLine(e,n,i,r,s,a,o){a=a??n,o=o??i;const l=this.getLineLength(n,i,r,s);if(l<1e-10)return{x:n,y:i};if(r===n)return{x:a,y:o+(s>i?e:-e)};const c=(s-i)/(r-n),h=Math.sqrt(e*e/(1+c*c))*(r<n?-1:1),g=c*h;if(Math.abs(o-i-c*(a-n))<1e-10)return{x:a+h,y:o+g};const m=((a-n)*(r-n)+(o-i)*(s-i))/(l*l),p=n+m*(r-n),x=i+m*(s-i),b=this.getLineLength(a,o,p,x),S=Math.sqrt(e*e-b*b),N=Math.sqrt(S*S/(1+c*c))*(r<n?-1:1),j=c*N;return{x:p+N,y:x+j}}static getPointOnCubicBezier(e,n,i,r,s,a,o,l,c){function h(S){return S*S*S}function g(S){return 3*S*S*(1-S)}function m(S){return 3*S*(1-S)*(1-S)}function p(S){return(1-S)*(1-S)*(1-S)}const x=l*h(e)+a*g(e)+r*m(e)+n*p(e),b=c*h(e)+o*g(e)+s*m(e)+i*p(e);return{x,y:b}}static getPointOnQuadraticBezier(e,n,i,r,s,a,o){function l(p){return p*p}function c(p){return 2*p*(1-p)}function h(p){return(1-p)*(1-p)}const g=a*l(e)+r*c(e)+n*h(e),m=o*l(e)+s*c(e)+i*h(e);return{x:g,y:m}}static getPointOnEllipticalArc(e,n,i,r,s,a){const o=Math.cos(a),l=Math.sin(a),c={x:i*Math.cos(s),y:r*Math.sin(s)};return{x:e+(c.x*o-c.y*l),y:n+(c.x*l+c.y*o)}}static parsePathData(e){if(!e)return[];let n=e;const i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let g=0;g<i.length;g++)n=n.replace(new RegExp(i[g],"g"),"|"+i[g]);const r=n.split("|"),s=[],a=[];let o=0,l=0;const c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let h;for(let g=1;g<r.length;g++){let m=r[g],p=m.charAt(0);for(m=m.slice(1),a.length=0;h=c.exec(m);)a.push(h[0]);const x=[];for(let b=0,S=a.length;b<S;b++){if(a[b]==="00"){x.push(0,0);continue}const N=parseFloat(a[b]);isNaN(N)?x.push(0):x.push(N)}for(;x.length>0&&!isNaN(x[0]);){let b="",S=[];const N=o,j=l;let w,k,E,O,U,M,I,F,P,R;switch(p){case"l":o+=x.shift(),l+=x.shift(),b="L",S.push(o,l);break;case"L":o=x.shift(),l=x.shift(),S.push(o,l);break;case"m":const $=x.shift(),G=x.shift();if(o+=$,l+=G,b="M",s.length>2&&s[s.length-1].command==="z"){for(let ee=s.length-2;ee>=0;ee--)if(s[ee].command==="M"){o=s[ee].points[0]+$,l=s[ee].points[1]+G;break}}S.push(o,l),p="l";break;case"M":o=x.shift(),l=x.shift(),b="M",S.push(o,l),p="L";break;case"h":o+=x.shift(),b="L",S.push(o,l);break;case"H":o=x.shift(),b="L",S.push(o,l);break;case"v":l+=x.shift(),b="L",S.push(o,l);break;case"V":l=x.shift(),b="L",S.push(o,l);break;case"C":S.push(x.shift(),x.shift(),x.shift(),x.shift()),o=x.shift(),l=x.shift(),S.push(o,l);break;case"c":S.push(o+x.shift(),l+x.shift(),o+x.shift(),l+x.shift()),o+=x.shift(),l+=x.shift(),b="C",S.push(o,l);break;case"S":k=o,E=l,w=s[s.length-1],w.command==="C"&&(k=o+(o-w.points[2]),E=l+(l-w.points[3])),S.push(k,E,x.shift(),x.shift()),o=x.shift(),l=x.shift(),b="C",S.push(o,l);break;case"s":k=o,E=l,w=s[s.length-1],w.command==="C"&&(k=o+(o-w.points[2]),E=l+(l-w.points[3])),S.push(k,E,o+x.shift(),l+x.shift()),o+=x.shift(),l+=x.shift(),b="C",S.push(o,l);break;case"Q":S.push(x.shift(),x.shift()),o=x.shift(),l=x.shift(),S.push(o,l);break;case"q":S.push(o+x.shift(),l+x.shift()),o+=x.shift(),l+=x.shift(),b="Q",S.push(o,l);break;case"T":k=o,E=l,w=s[s.length-1],w.command==="Q"&&(k=o+(o-w.points[0]),E=l+(l-w.points[1])),o=x.shift(),l=x.shift(),b="Q",S.push(k,E,o,l);break;case"t":k=o,E=l,w=s[s.length-1],w.command==="Q"&&(k=o+(o-w.points[0]),E=l+(l-w.points[1])),o+=x.shift(),l+=x.shift(),b="Q",S.push(k,E,o,l);break;case"A":O=x.shift(),U=x.shift(),M=x.shift(),I=x.shift(),F=x.shift(),P=o,R=l,o=x.shift(),l=x.shift(),b="A",S=this.convertEndpointToCenterParameterization(P,R,o,l,I,F,O,U,M);break;case"a":O=x.shift(),U=x.shift(),M=x.shift(),I=x.shift(),F=x.shift(),P=o,R=l,o+=x.shift(),l+=x.shift(),b="A",S=this.convertEndpointToCenterParameterization(P,R,o,l,I,F,O,U,M);break}s.push({command:b||p,points:S,start:{x:N,y:j},pathLength:this.calcLength(N,j,b||p,S)})}(p==="z"||p==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,i,r){let s,a,o,l;const c=nr;switch(i){case"L":return c.getLineLength(e,n,r[0],r[1]);case"C":return(0,Ad.getCubicArcLength)([e,r[0],r[2],r[4]],[n,r[1],r[3],r[5]],1);case"Q":return(0,Ad.getQuadraticArcLength)([e,r[0],r[2]],[n,r[1],r[3]],1);case"A":s=0;const h=r[4],g=r[5],m=r[4]+g;let p=Math.PI/180;if(Math.abs(h-m)<p&&(p=Math.abs(h-m)),a=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],h,0),g<0)for(l=h-p;l>m;l-=p)o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(l=h+p;l<m;l+=p)o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],m,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),s}return 0}static convertEndpointToCenterParameterization(e,n,i,r,s,a,o,l,c){const h=c*(Math.PI/180),g=Math.cos(h)*(e-i)/2+Math.sin(h)*(n-r)/2,m=-1*Math.sin(h)*(e-i)/2+Math.cos(h)*(n-r)/2,p=g*g/(o*o)+m*m/(l*l);p>1&&(o*=Math.sqrt(p),l*=Math.sqrt(p));let x=Math.sqrt((o*o*(l*l)-o*o*(m*m)-l*l*(g*g))/(o*o*(m*m)+l*l*(g*g)));s===a&&(x*=-1),isNaN(x)&&(x=0);const b=x*o*m/l,S=x*-l*g/o,N=(e+i)/2+Math.cos(h)*b-Math.sin(h)*S,j=(n+r)/2+Math.sin(h)*b+Math.cos(h)*S,w=function(F){return Math.sqrt(F[0]*F[0]+F[1]*F[1])},k=function(F,P){return(F[0]*P[0]+F[1]*P[1])/(w(F)*w(P))},E=function(F,P){return(F[0]*P[1]<F[1]*P[0]?-1:1)*Math.acos(k(F,P))},O=E([1,0],[(g-b)/o,(m-S)/l]),U=[(g-b)/o,(m-S)/l],M=[(-1*g-b)/o,(-1*m-S)/l];let I=E(U,M);return k(U,M)<=-1&&(I=Math.PI),k(U,M)>=1&&(I=0),a===0&&I>0&&(I=I-2*Math.PI),a===1&&I<0&&(I=I+2*Math.PI),[N,j,o,l,O,I,h,a]}}Kf.Path=nr;nr.prototype.className="Path";nr.prototype._attrsAffectingSize=["data"];(0,g$._registerNode)(nr);p$.Factory.addGetterSetter(nr,"data");Object.defineProperty(w5,"__esModule",{value:!0});w5.Arrow=void 0;const S5=Kt,y$=Ag,sP=jt,x$=Gt,Y8=Kf;class Hh extends y$.Line{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,i=this.points();let r=i;const s=this.tension()!==0&&i.length>4;s&&(r=this.getTensionPoints());const a=this.pointerLength(),o=i.length;let l,c;if(s){const m=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],i[o-2],i[o-1]],p=Y8.Path.calcLength(r[r.length-4],r[r.length-3],"C",m),x=Y8.Path.getPointOnQuadraticBezier(Math.min(1,1-a/p),m[0],m[1],m[2],m[3],m[4],m[5]);l=i[o-2]-x.x,c=i[o-1]-x.y}else l=i[o-2]-i[o-4],c=i[o-1]-i[o-3];const h=(Math.atan2(c,l)+n)%n,g=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(i[o-2],i[o-1]),e.rotate(h),e.moveTo(0,0),e.lineTo(-a,g/2),e.lineTo(-a,-g/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(i[0],i[1]),s?(l=(r[0]+r[2])/2-i[0],c=(r[1]+r[3])/2-i[1]):(l=i[2]-i[0],c=i[3]-i[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-a,g/2),e.lineTo(-a,-g/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}w5.Arrow=Hh;Hh.prototype.className="Arrow";(0,x$._registerNode)(Hh);S5.Factory.addGetterSetter(Hh,"pointerLength",10,(0,sP.getNumberValidator)());S5.Factory.addGetterSetter(Hh,"pointerWidth",10,(0,sP.getNumberValidator)());S5.Factory.addGetterSetter(Hh,"pointerAtBeginning",!1);S5.Factory.addGetterSetter(Hh,"pointerAtEnding",!0);var N5={};Object.defineProperty(N5,"__esModule",{value:!0});N5.Circle=void 0;const v$=Kt,b$=ar,w$=jt,_$=Gt;let Xf=class extends b$.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};N5.Circle=Xf;Xf.prototype._centroid=!0;Xf.prototype.className="Circle";Xf.prototype._attrsAffectingSize=["radius"];(0,_$._registerNode)(Xf);v$.Factory.addGetterSetter(Xf,"radius",0,(0,w$.getNumberValidator)());var k5={};Object.defineProperty(k5,"__esModule",{value:!0});k5.Ellipse=void 0;const Z3=Kt,S$=ar,aP=jt,N$=Gt;class Cu extends S$.Shape{_sceneFunc(e){const n=this.radiusX(),i=this.radiusY();e.beginPath(),e.save(),n!==i&&e.scale(1,i/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}k5.Ellipse=Cu;Cu.prototype.className="Ellipse";Cu.prototype._centroid=!0;Cu.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,N$._registerNode)(Cu);Z3.Factory.addComponentsGetterSetter(Cu,"radius",["x","y"]);Z3.Factory.addGetterSetter(Cu,"radiusX",0,(0,aP.getNumberValidator)());Z3.Factory.addGetterSetter(Cu,"radiusY",0,(0,aP.getNumberValidator)());var C5={};Object.defineProperty(C5,"__esModule",{value:!0});C5.Image=void 0;const xx=mi,$h=Kt,k$=ar,C$=Gt,Pg=jt;let fl=class oP extends k$.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),i=this.getHeight(),r=this.cornerRadius(),s=this.attrs.image;let a;if(s){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?a=[s,this.cropX(),this.cropY(),o,l,0,0,n,i]:a=[s,0,0,n,i]}(this.hasFill()||this.hasStroke()||r)&&(e.beginPath(),r?xx.Util.drawRoundedRectPath(e,n,i,r):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)),s&&(r&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){const n=this.width(),i=this.height(),r=this.cornerRadius();e.beginPath(),r?xx.Util.drawRoundedRectPath(e,n,i,r):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,i=null){const r=xx.Util.createImageElement();r.onload=function(){const s=new oP({image:r});n(s)},r.onerror=i,r.crossOrigin="Anonymous",r.src=e}};C5.Image=fl;fl.prototype.className="Image";(0,C$._registerNode)(fl);$h.Factory.addGetterSetter(fl,"cornerRadius",0,(0,Pg.getNumberOrArrayOfNumbersValidator)(4));$h.Factory.addGetterSetter(fl,"image");$h.Factory.addComponentsGetterSetter(fl,"crop",["x","y","width","height"]);$h.Factory.addGetterSetter(fl,"cropX",0,(0,Pg.getNumberValidator)());$h.Factory.addGetterSetter(fl,"cropY",0,(0,Pg.getNumberValidator)());$h.Factory.addGetterSetter(fl,"cropWidth",0,(0,Pg.getNumberValidator)());$h.Factory.addGetterSetter(fl,"cropHeight",0,(0,Pg.getNumberValidator)());var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.Tag=Lf.Label=void 0;const j5=Kt,j$=ar,A$=qf,ew=jt,lP=Gt,cP=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],P$="Change.konva",L$="none",M4="up",R4="right",F4="down",D4="left",T$=cP.length;class tw extends A$.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,i;const r=function(){n._sync()};for(i=0;i<T$;i++)e.on(cP[i]+P$,r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),i,r,s,a,o,l,c;if(e&&n){switch(i=e.width(),r=e.height(),s=n.pointerDirection(),a=n.pointerWidth(),c=n.pointerHeight(),o=0,l=0,s){case M4:o=i/2,l=-1*c;break;case R4:o=i+a,l=r/2;break;case F4:o=i/2,l=r+c;break;case D4:o=-1*a,l=r/2;break}n.setAttrs({x:-1*o,y:-1*l,width:i,height:r}),e.setAttrs({x:-1*o,y:-1*l})}}}Lf.Label=tw;tw.prototype.className="Label";(0,lP._registerNode)(tw);class Gh extends j$.Shape{_sceneFunc(e){const n=this.width(),i=this.height(),r=this.pointerDirection(),s=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let l=0,c=0,h=0,g=0;typeof o=="number"?l=c=h=g=Math.min(o,n/2,i/2):(l=Math.min(o[0]||0,n/2,i/2),c=Math.min(o[1]||0,n/2,i/2),g=Math.min(o[2]||0,n/2,i/2),h=Math.min(o[3]||0,n/2,i/2)),e.beginPath(),e.moveTo(l,0),r===M4&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*a),e.lineTo((n+s)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),r===R4&&(e.lineTo(n,(i-a)/2),e.lineTo(n+s,i/2),e.lineTo(n,(i+a)/2)),e.lineTo(n,i-g),e.arc(n-g,i-g,g,0,Math.PI/2,!1),r===F4&&(e.lineTo((n+s)/2,i),e.lineTo(n/2,i+a),e.lineTo((n-s)/2,i)),e.lineTo(h,i),e.arc(h,i-h,h,Math.PI/2,Math.PI,!1),r===D4&&(e.lineTo(0,(i+a)/2),e.lineTo(-1*s,i/2),e.lineTo(0,(i-a)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,i=this.pointerWidth(),r=this.pointerHeight(),s=this.pointerDirection(),a=this.width(),o=this.height();return s===M4?(n-=r,o+=r):s===F4?o+=r:s===D4?(e-=i*1.5,a+=i):s===R4&&(a+=i*1.5),{x:e,y:n,width:a,height:o}}}Lf.Tag=Gh;Gh.prototype.className="Tag";(0,lP._registerNode)(Gh);j5.Factory.addGetterSetter(Gh,"pointerDirection",L$);j5.Factory.addGetterSetter(Gh,"pointerWidth",0,(0,ew.getNumberValidator)());j5.Factory.addGetterSetter(Gh,"pointerHeight",0,(0,ew.getNumberValidator)());j5.Factory.addGetterSetter(Gh,"cornerRadius",0,(0,ew.getNumberOrArrayOfNumbersValidator)(4));var Lg={};Object.defineProperty(Lg,"__esModule",{value:!0});Lg.Rect=void 0;const E$=Kt,M$=ar,R$=Gt,F$=mi,D$=jt;let A5=class extends M$.Shape{_sceneFunc(e){const n=this.cornerRadius(),i=this.width(),r=this.height();e.beginPath(),n?F$.Util.drawRoundedRectPath(e,i,r,n):e.rect(0,0,i,r),e.closePath(),e.fillStrokeShape(this)}};Lg.Rect=A5;A5.prototype.className="Rect";(0,R$._registerNode)(A5);E$.Factory.addGetterSetter(A5,"cornerRadius",0,(0,D$.getNumberOrArrayOfNumbersValidator)(4));var P5={};Object.defineProperty(P5,"__esModule",{value:!0});P5.RegularPolygon=void 0;const uP=Kt,O$=ar,hP=jt,I$=Gt;class qh extends O$.Shape{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(let i=1;i<n.length;i++)e.lineTo(n[i].x,n[i].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,i=[];for(let r=0;r<e;r++)i.push({x:n*Math.sin(r*2*Math.PI/e),y:-1*n*Math.cos(r*2*Math.PI/e)});return i}getSelfRect(){const e=this._getPoints();let n=e[0].x,i=e[0].y,r=e[0].x,s=e[0].y;return e.forEach(a=>{n=Math.min(n,a.x),i=Math.max(i,a.x),r=Math.min(r,a.y),s=Math.max(s,a.y)}),{x:n,y:r,width:i-n,height:s-r}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}P5.RegularPolygon=qh;qh.prototype.className="RegularPolygon";qh.prototype._centroid=!0;qh.prototype._attrsAffectingSize=["radius"];(0,I$._registerNode)(qh);uP.Factory.addGetterSetter(qh,"radius",0,(0,hP.getNumberValidator)());uP.Factory.addGetterSetter(qh,"sides",0,(0,hP.getNumberValidator)());var L5={};Object.defineProperty(L5,"__esModule",{value:!0});L5.Ring=void 0;const dP=Kt,B$=ar,fP=jt,z$=Gt,Q8=Math.PI*2;class Wh extends B$.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Q8,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Q8,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}L5.Ring=Wh;Wh.prototype.className="Ring";Wh.prototype._centroid=!0;Wh.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,z$._registerNode)(Wh);dP.Factory.addGetterSetter(Wh,"innerRadius",0,(0,fP.getNumberValidator)());dP.Factory.addGetterSetter(Wh,"outerRadius",0,(0,fP.getNumberValidator)());var T5={};Object.defineProperty(T5,"__esModule",{value:!0});T5.Sprite=void 0;const Kh=Kt,U$=ar,V$=Wf,pP=jt,H$=Gt;class pl extends U$.Shape{constructor(e){super(e),this._updated=!0,this.anim=new V$.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),i=this.frameIndex(),r=i*4,s=this.animations()[n],a=this.frameOffsets(),o=s[r+0],l=s[r+1],c=s[r+2],h=s[r+3],g=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,h),e.closePath(),e.fillStrokeShape(this)),g)if(a){const m=a[n],p=i*2;e.drawImage(g,o,l,c,h,m[p+0],m[p+1],c,h)}else e.drawImage(g,o,l,c,h,0,0,c,h)}_hitFunc(e){const n=this.animation(),i=this.frameIndex(),r=i*4,s=this.animations()[n],a=this.frameOffsets(),o=s[r+2],l=s[r+3];if(e.beginPath(),a){const c=a[n],h=i*2;e.rect(c[h+0],c[h+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),i=this.animations(),r=i[n],s=r.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}T5.Sprite=pl;pl.prototype.className="Sprite";(0,H$._registerNode)(pl);Kh.Factory.addGetterSetter(pl,"animation");Kh.Factory.addGetterSetter(pl,"animations");Kh.Factory.addGetterSetter(pl,"frameOffsets");Kh.Factory.addGetterSetter(pl,"image");Kh.Factory.addGetterSetter(pl,"frameIndex",0,(0,pP.getNumberValidator)());Kh.Factory.addGetterSetter(pl,"frameRate",17,(0,pP.getNumberValidator)());Kh.Factory.backCompat(pl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var E5={};Object.defineProperty(E5,"__esModule",{value:!0});E5.Star=void 0;const nw=Kt,$$=ar,iw=jt,G$=Gt;class ju extends $$.Shape{_sceneFunc(e){const n=this.innerRadius(),i=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-i);for(let s=1;s<r*2;s++){const a=s%2===0?i:n,o=a*Math.sin(s*Math.PI/r),l=-1*a*Math.cos(s*Math.PI/r);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}E5.Star=ju;ju.prototype.className="Star";ju.prototype._centroid=!0;ju.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,G$._registerNode)(ju);nw.Factory.addGetterSetter(ju,"numPoints",5,(0,iw.getNumberValidator)());nw.Factory.addGetterSetter(ju,"innerRadius",0,(0,iw.getNumberValidator)());nw.Factory.addGetterSetter(ju,"outerRadius",0,(0,iw.getNumberValidator)());var Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.Text=void 0;Yf.stringToArray=oh;const O4=mi,us=Kt,q$=ar,vx=Gt,Au=jt,W$=Gt;function oh(t){return[...t].reduce((e,n,i,r)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const s=r[i+1];s&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(s)?(e.push(n+s),r[i+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(r[i+1]||""))?e.push(n+r[i+1]):i>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const Pd="auto",K$="center",gP="inherit",D0="justify",X$="Change.konva",Y$="2d",J8="-",mP="left",Q$="text",J$="Text",Z$="top",eG="bottom",Z8="middle",yP="normal",tG="px ",Cm=" ",nG="right",eS="rtl",iG="word",rG="char",tS="none",bx="",xP=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],sG=xP.length;function aG(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,i=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!i&&(e=`"${e}"`),e}).join(", ")}let jm;function wx(){return jm||(jm=O4.Util.createCanvasElement().getContext(Y$),jm)}function oG(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function lG(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function cG(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let Ai=class extends q$.Shape{constructor(e){super(cG(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<sG;n++)this.on(xP[n]+X$,this._setTextData);this._setTextData()}_sceneFunc(e){const n=this.textArr,i=n.length;if(!this.text())return;let r=this.padding(),s=this.fontSize(),a=this.lineHeight()*s,o=this.verticalAlign(),l=this.direction(),c=0,h=this.align(),g=this.getWidth(),m=this.letterSpacing(),p=this.fill(),x=this.textDecoration(),b=x.indexOf("underline")!==-1,S=x.indexOf("line-through")!==-1,N;l=l===gP?e.direction:l;let j=a/2,w=Z8;if(vx.Konva._fixTextRendering){const k=this.measureSize("M");w="alphabetic",j=(k.fontBoundingBoxAscent-k.fontBoundingBoxDescent)/2+a/2}for(l===eS&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",w),e.setAttr("textAlign",mP),o===Z8?c=(this.getHeight()-i*a-r*2)/2:o===eG&&(c=this.getHeight()-i*a-r*2),e.translate(r,c+r),N=0;N<i;N++){let k=0,E=0;const O=n[N],U=O.text,M=O.width,I=O.lastInParagraph;if(e.save(),h===nG?k+=g-M-r*2:h===K$&&(k+=(g-M-r*2)/2),b){e.save(),e.beginPath();const F=vx.Konva._fixTextRendering?Math.round(s/4):Math.round(s/2),P=k,R=j+E+F;e.moveTo(P,R);const $=h===D0&&!I?g-r*2:M;e.lineTo(P+Math.round($),R),e.lineWidth=s/15;const G=this._getLinearGradient();e.strokeStyle=G||p,e.stroke(),e.restore()}if(S){e.save(),e.beginPath();const F=vx.Konva._fixTextRendering?-Math.round(s/4):0;e.moveTo(k,j+E+F);const P=h===D0&&!I?g-r*2:M;e.lineTo(k+Math.round(P),j+E+F),e.lineWidth=s/15;const R=this._getLinearGradient();e.strokeStyle=R||p,e.stroke(),e.restore()}if(l!==eS&&(m!==0||h===D0)){const F=U.split(" ").length-1,P=oh(U);for(let R=0;R<P.length;R++){const $=P[R];$===" "&&!I&&h===D0&&(k+=(g-r*2-M)/F),this._partialTextX=k,this._partialTextY=j+E,this._partialText=$,e.fillStrokeShape(this),k+=this.measureSize($).width+m}}else m!==0&&e.setAttr("letterSpacing",`${m}px`),this._partialTextX=k,this._partialTextY=j+E,this._partialText=U,e.fillStrokeShape(this);e.restore(),i>1&&(j+=a)}}_hitFunc(e){const n=this.getWidth(),i=this.getHeight();e.beginPath(),e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=O4.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(Q$,n),this}getWidth(){return this.attrs.width===Pd||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Pd||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return O4.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,i,r,s,a,o,l,c,h,g,m;let p=wx(),x=this.fontSize(),b;p.save(),p.font=this._getContextFont(),b=p.measureText(e),p.restore();const S=x/100;return{actualBoundingBoxAscent:(n=b.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*S,actualBoundingBoxDescent:(i=b.actualBoundingBoxDescent)!==null&&i!==void 0?i:0,actualBoundingBoxLeft:(r=b.actualBoundingBoxLeft)!==null&&r!==void 0?r:-7.421875*S,actualBoundingBoxRight:(s=b.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*S,alphabeticBaseline:(a=b.alphabeticBaseline)!==null&&a!==void 0?a:0,emHeightAscent:(o=b.emHeightAscent)!==null&&o!==void 0?o:100*S,emHeightDescent:(l=b.emHeightDescent)!==null&&l!==void 0?l:-20*S,fontBoundingBoxAscent:(c=b.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*S,fontBoundingBoxDescent:(h=b.fontBoundingBoxDescent)!==null&&h!==void 0?h:21*S,hangingBaseline:(g=b.hangingBaseline)!==null&&g!==void 0?g:72.80000305175781*S,ideographicBaseline:(m=b.ideographicBaseline)!==null&&m!==void 0?m:-21*S,width:b.width,height:x}}_getContextFont(){return this.fontStyle()+Cm+this.fontVariant()+Cm+(this.fontSize()+tG)+aG(this.fontFamily())}_addTextLine(e){this.align()===D0&&(e=e.trim());const i=this._getTextWidth(e);return this.textArr.push({text:e,width:i,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),i=e.length;return wx().measureText(e).width+n*i}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),i=0,r=this.lineHeight()*n,s=this.attrs.width,a=this.attrs.height,o=s!==Pd&&s!==void 0,l=a!==Pd&&a!==void 0,c=this.padding(),h=s-c*2,g=a-c*2,m=0,p=this.wrap(),x=p!==tS,b=p!==rG&&x,S=this.ellipsis();this.textArr=[],wx().font=this._getContextFont();const N=S?this._getTextWidth(bx):0;for(let j=0,w=e.length;j<w;++j){let k=e[j],E=this._getTextWidth(k);if(o&&E>h)for(;k.length>0;){let O=0,U=oh(k).length,M="",I=0;for(;O<U;){const F=O+U>>>1,P=oh(k),R=P.slice(0,F+1).join(""),$=this._getTextWidth(R);(S&&l&&m+r>g?$+N:$)<=h?(O=F+1,M=R,I=$):U=F}if(M){if(b){const R=oh(k),$=oh(M),G=R[$.length],ee=G===Cm||G===J8;let ce;if(ee&&I<=h)ce=$.length;else{const pe=$.lastIndexOf(Cm),Z=$.lastIndexOf(J8);ce=Math.max(pe,Z)+1}ce>0&&(O=ce,M=R.slice(0,O).join(""),I=this._getTextWidth(M))}if(M=M.trimRight(),this._addTextLine(M),i=Math.max(i,I),m+=r,this._shouldHandleEllipsis(m)){this._tryToAddEllipsisToLastLine();break}if(k=oh(k).slice(O).join("").trimLeft(),k.length>0&&(E=this._getTextWidth(k),E<=h)){this._addTextLine(k),m+=r,i=Math.max(i,E);break}}else break}else this._addTextLine(k),m+=r,i=Math.max(i,E),this._shouldHandleEllipsis(m)&&j<w-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&m+r>g)break}this.textHeight=n,this.textWidth=i}_shouldHandleEllipsis(e){const n=+this.fontSize(),i=this.lineHeight()*n,r=this.attrs.height,s=r!==Pd&&r!==void 0,a=this.padding(),o=r-a*2;return!(this.wrap()!==tS)||s&&e+i>o}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==Pd&&e!==void 0,i=this.padding(),r=e-i*2,s=this.ellipsis(),a=this.textArr[this.textArr.length-1];!a||!s||(n&&(this._getTextWidth(a.text+bx)<r||(a.text=a.text.slice(0,a.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+bx))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Yf.Text=Ai;Ai.prototype._fillFunc=oG;Ai.prototype._strokeFunc=lG;Ai.prototype.className=J$;Ai.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,W$._registerNode)(Ai);us.Factory.overWriteSetter(Ai,"width",(0,Au.getNumberOrAutoValidator)());us.Factory.overWriteSetter(Ai,"height",(0,Au.getNumberOrAutoValidator)());us.Factory.addGetterSetter(Ai,"direction",gP);us.Factory.addGetterSetter(Ai,"fontFamily","Arial");us.Factory.addGetterSetter(Ai,"fontSize",12,(0,Au.getNumberValidator)());us.Factory.addGetterSetter(Ai,"fontStyle",yP);us.Factory.addGetterSetter(Ai,"fontVariant",yP);us.Factory.addGetterSetter(Ai,"padding",0,(0,Au.getNumberValidator)());us.Factory.addGetterSetter(Ai,"align",mP);us.Factory.addGetterSetter(Ai,"verticalAlign",Z$);us.Factory.addGetterSetter(Ai,"lineHeight",1,(0,Au.getNumberValidator)());us.Factory.addGetterSetter(Ai,"wrap",iG);us.Factory.addGetterSetter(Ai,"ellipsis",!1,(0,Au.getBooleanValidator)());us.Factory.addGetterSetter(Ai,"letterSpacing",0,(0,Au.getNumberValidator)());us.Factory.addGetterSetter(Ai,"text","",(0,Au.getStringValidator)());us.Factory.addGetterSetter(Ai,"textDecoration","");var M5={};Object.defineProperty(M5,"__esModule",{value:!0});M5.TextPath=void 0;const _x=mi,Ro=Kt,uG=ar,O0=Kf,Sx=Yf,vP=jt,hG=Gt,dG="",bP="normal";function wP(t){t.fillText(this.partialText,0,0)}function _P(t){t.strokeText(this.partialText,0,0)}class or extends uG.Shape{constructor(e){super(e),this.dummyCanvas=_x.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return O0.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e-1>n?null:O0.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=O0.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),i=this.fill(),r=this.fontSize(),s=this.glyphInfo;n==="underline"&&e.beginPath();for(let a=0;a<s.length;a++){e.save();const o=s[a].p0;e.translate(o.x,o.y),e.rotate(s[a].rotation),this.partialText=s[a].text,e.fillStrokeShape(this),n==="underline"&&(a===0&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=i,e.lineWidth=r/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const i=n[0].p0;e.moveTo(i.x,i.y)}for(let i=0;i<n.length;i++){const r=n[i].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return _x.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Sx.Text.prototype.setText.call(this,e)}_getContextFont(){return Sx.Text.prototype._getContextFont.call(this)}_getTextSize(e){const i=this.dummyCanvas.getContext("2d");i.save(),i.font=this._getContextFont();const r=i.measureText(e);return i.restore(),{width:r.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),r=this.align(),s=this.kerningFunc(),a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let o=0;r==="center"&&(o=Math.max(0,this.pathLength/2-a/2)),r==="right"&&(o=Math.max(0,this.pathLength-a));const l=(0,Sx.stringToArray)(this.text());let c=o;for(let h=0;h<l.length;h++){const g=this._getPointAtLength(c);if(!g)return;let m=this._getTextSize(l[h]).width+i;if(l[h]===" "&&r==="justify"){const j=this.text().split(" ").length-1;m+=(this.pathLength-a)/j}const p=this._getPointAtLength(c+m);if(!p)return;const x=O0.Path.getLineLength(g.x,g.y,p.x,p.y);let b=0;if(s)try{b=s(l[h-1],l[h])*this.fontSize()}catch{b=0}g.x+=b,p.x+=b,this.textWidth+=b;const S=O0.Path.getPointOnLine(b+x/2,g.x,g.y,p.x,p.y),N=Math.atan2(p.y-g.y,p.x-g.x);this.glyphInfo.push({transposeX:S.x,transposeY:S.y,text:l[h],rotation:N,p0:g,p1:p}),c+=m}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let n=e[0]||0,i=e[0]||0,r=e[1]||0,s=e[1]||0,a,o;for(let c=0;c<e.length/2;c++)a=e[c*2],o=e[c*2+1],n=Math.min(n,a),i=Math.max(i,a),r=Math.min(r,o),s=Math.max(s,o);const l=this.fontSize();return{x:n-l/2,y:r-l/2,width:i-n+l,height:s-r+l}}destroy(){return _x.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}M5.TextPath=or;or.prototype._fillFunc=wP;or.prototype._strokeFunc=_P;or.prototype._fillFuncHit=wP;or.prototype._strokeFuncHit=_P;or.prototype.className="TextPath";or.prototype._attrsAffectingSize=["text","fontSize","data"];(0,hG._registerNode)(or);Ro.Factory.addGetterSetter(or,"data");Ro.Factory.addGetterSetter(or,"fontFamily","Arial");Ro.Factory.addGetterSetter(or,"fontSize",12,(0,vP.getNumberValidator)());Ro.Factory.addGetterSetter(or,"fontStyle",bP);Ro.Factory.addGetterSetter(or,"align","left");Ro.Factory.addGetterSetter(or,"letterSpacing",0,(0,vP.getNumberValidator)());Ro.Factory.addGetterSetter(or,"textBaseline","middle");Ro.Factory.addGetterSetter(or,"fontVariant",bP);Ro.Factory.addGetterSetter(or,"text",dG);Ro.Factory.addGetterSetter(or,"textDecoration","");Ro.Factory.addGetterSetter(or,"kerningFunc",void 0);var R5={};Object.defineProperty(R5,"__esModule",{value:!0});R5.Transformer=void 0;const Mn=mi,_n=Kt,nS=oi,fG=ar,pG=Lg,iS=qf,wo=Gt,Pu=jt,gG=Gt,SP="tr-konva",mG=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${SP}`).join(" "),rS="nodesRect",yG=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],xG={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},vG="ontouchstart"in wo.Konva._global;function bG(t,e,n){if(t==="rotater")return n;e+=Mn.Util.degToRad(xG[t]||0);const i=(Mn.Util.radToDeg(e)%360+360)%360;return Mn.Util._inRange(i,315+22.5,360)||Mn.Util._inRange(i,0,22.5)?"ns-resize":Mn.Util._inRange(i,45-22.5,45+22.5)?"nesw-resize":Mn.Util._inRange(i,90-22.5,90+22.5)?"ew-resize":Mn.Util._inRange(i,135-22.5,135+22.5)?"nwse-resize":Mn.Util._inRange(i,180-22.5,180+22.5)?"ns-resize":Mn.Util._inRange(i,225-22.5,225+22.5)?"nesw-resize":Mn.Util._inRange(i,270-22.5,270+22.5)?"ew-resize":Mn.Util._inRange(i,315-22.5,315+22.5)?"nwse-resize":(Mn.Util.error("Transformer has unknown angle for cursor detection: "+i),"pointer")}const v2=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function wG(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function NP(t,e,n){const i=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),r=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:i,y:r}}function _G(t,e){const n=wG(t);return NP(t,e,n)}function SG(t,e,n){let i=e;for(let r=0;r<t.length;r++){const s=wo.Konva.getAngle(t[r]),a=Math.abs(s-e)%(Math.PI*2);Math.min(a,Math.PI*2-a)<n&&(i=s)}return i}let I4=0;class an extends iS.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(mG,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Mn.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return SP+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(r=>r.isAncestorOf(this)?(Mn.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(r._attrsAffectingSize.length){const a=r._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");r.on(a,s)}r.on(yG.map(a=>a+`.${this._getEventNamespace()}`).join(" "),s),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(r)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,i=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(i,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!n)return;const r=e.getAbsolutePosition(),s=r.x-n.x,a=r.y-n.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+s,y:l.y+a}),o.startDrag(i)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(rS),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(rS,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),i){const r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(i),a=e.getAbsolutePosition(i),o=r.x*s.x-e.offsetX()*s.x,l=r.y*s.y-e.offsetY()*s.y,c=(wo.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),h={x:a.x+o*Math.cos(c)+l*Math.sin(-c),y:a.y+l*Math.cos(c)+o*Math.sin(c),width:r.width*s.x,height:r.height*s.y,rotation:c};return NP(h,-wo.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const h=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),g=[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}],m=c.getAbsoluteTransform();g.forEach(function(p){const x=m.point(p);n.push(x)})});const i=new Mn.Transform;i.rotate(-wo.Konva.getAngle(this.rotation()));let r=1/0,s=1/0,a=-1/0,o=-1/0;n.forEach(function(c){const h=i.point(c);r===void 0&&(r=a=h.x,s=o=h.y),r=Math.min(r,h.x),s=Math.min(s,h.y),a=Math.max(a,h.x),o=Math.max(o,h.y)}),i.invert();const l=i.point({x:r,y:s});return{x:l.x,y:l.y,width:a-r,height:o-s,rotation:wo.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),v2.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new pG.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:vG?10:"auto"}),i=this;n.on("mousedown touchstart",function(r){i._handleMouseDown(r)}),n.on("dragstart",r=>{n.stopDrag(),r.cancelBubble=!0}),n.on("dragend",r=>{r.cancelBubble=!0}),n.on("mouseenter",()=>{const r=wo.Konva.getAngle(this.rotation()),s=this.rotateAnchorCursor(),a=bG(e,r,s);n.getStage().content&&(n.getStage().content.style.cursor=a),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new fG.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,i){const r=i.getParent(),s=r.padding();n.beginPath(),n.rect(-s,-s,i.width()+s*2,i.height()+s*2),n.moveTo(i.width()/2,-s),r.rotateEnabled()&&r.rotateLineVisible()&&n.lineTo(i.width()/2,-r.rotateAnchorOffset()*Mn.Util._sign(i.height())-s),n.fillStrokeShape(i)},hitFunc:(n,i)=>{if(!this.shouldOverdrawWholeArea())return;const r=this.padding();n.beginPath(),n.rect(-r,-r,i.width()+r*2,i.height()+r*2),n.fillStrokeShape(i)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),i=n.width,r=n.height,s=Math.sqrt(Math.pow(i,2)+Math.pow(r,2));this.sin=Math.abs(r/s),this.cos=Math.abs(i/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const a=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},I4++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,i,r;const s=this.findOne("."+this._movingAnchorName),a=s.getStage();a.setPointersPositions(e);const o=a.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),s.setAbsolutePosition(l);const h=s.getAbsolutePosition();if(c.x===h.x&&c.y===h.y)return;if(this._movingAnchorName==="rotater"){const j=this._getNodeRect();n=s.x()-j.width/2,i=-s.y()+j.height/2;let w=Math.atan2(-i,n)+Math.PI/2;j.height<0&&(w-=Math.PI);const E=wo.Konva.getAngle(this.rotation())+w,O=wo.Konva.getAngle(this.rotationSnapTolerance()),M=SG(this.rotationSnaps(),E,O)-j.rotation,I=_G(j,M);this._fitNodesInto(I,e);return}const g=this.shiftBehavior();let m;g==="inverted"?m=this.keepRatio()&&!e.shiftKey:g==="none"?m=this.keepRatio():m=this.keepRatio()||e.shiftKey;let p=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(m){const j=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(j.x-s.x(),2)+Math.pow(j.y-s.y(),2));const w=this.findOne(".top-left").x()>j.x?-1:1,k=this.findOne(".top-left").y()>j.y?-1:1;n=r*this.cos*w,i=r*this.sin*k,this.findOne(".top-left").x(j.x-n),this.findOne(".top-left").y(j.y-i)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(m){const j=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(s.x()-j.x,2)+Math.pow(j.y-s.y(),2));const w=this.findOne(".top-right").x()<j.x?-1:1,k=this.findOne(".top-right").y()>j.y?-1:1;n=r*this.cos*w,i=r*this.sin*k,this.findOne(".top-right").x(j.x+n),this.findOne(".top-right").y(j.y-i)}var x=s.position();this.findOne(".top-left").y(x.y),this.findOne(".bottom-right").x(x.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(m){const j=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(j.x-s.x(),2)+Math.pow(s.y()-j.y,2));const w=j.x<s.x()?-1:1,k=s.y()<j.y?-1:1;n=r*this.cos*w,i=r*this.sin*k,s.x(j.x-n),s.y(j.y+i)}x=s.position(),this.findOne(".top-left").x(x.x),this.findOne(".bottom-right").y(x.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(m){const j=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(s.x()-j.x,2)+Math.pow(s.y()-j.y,2));const w=this.findOne(".bottom-right").x()<j.x?-1:1,k=this.findOne(".bottom-right").y()<j.y?-1:1;n=r*this.cos*w,i=r*this.sin*k,this.findOne(".bottom-right").x(j.x+n),this.findOne(".bottom-right").y(j.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(p=this.centeredScaling()||e.altKey,p){const j=this.findOne(".top-left"),w=this.findOne(".bottom-right"),k=j.x(),E=j.y(),O=this.getWidth()-w.x(),U=this.getHeight()-w.y();w.move({x:-k,y:-E}),j.move({x:O,y:U})}const b=this.findOne(".top-left").getAbsolutePosition();n=b.x,i=b.y;const S=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),N=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:i,width:S,height:N,rotation:wo.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const i=this.getNode();I4--,this._fire("transformend",{evt:e,target:i}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),i&&this._nodes.forEach(r=>{var s;r._fire("transformend",{evt:e,target:r}),(s=r.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const i=this._getNodeRect(),r=1;if(Mn.Util._inRange(e.width,-this.padding()*2-r,r)){this.update();return}if(Mn.Util._inRange(e.height,-this.padding()*2-r,r)){this.update();return}const s=new Mn.Transform;if(s.rotate(wo.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const m=s.point({x:-this.padding()*2,y:0});e.x+=m.x,e.y+=m.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const m=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const m=s.point({x:0,y:-this.padding()*2});e.x+=m.x,e.y+=m.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const m=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const m=this.boundBoxFunc()(i,e);m?e=m:Mn.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const a=1e7,o=new Mn.Transform;o.translate(i.x,i.y),o.rotate(i.rotation),o.scale(i.width/a,i.height/a);const l=new Mn.Transform,c=e.width/a,h=e.height/a;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(h))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,h));const g=l.multiply(o.invert());this._nodes.forEach(m=>{var p;const x=m.getParent().getAbsoluteTransform(),b=m.getTransform().copy();b.translate(m.offsetX(),m.offsetY());const S=new Mn.Transform;S.multiply(x.copy().invert()).multiply(g).multiply(x).multiply(b);const N=S.decompose();m.setAttrs(N),(p=m.getLayer())===null||p===void 0||p.batchDraw()}),this.rotation(Mn.Util._getRotation(e.rotation)),this._nodes.forEach(m=>{this._fire("transform",{evt:n,target:m}),m._fire("transform",{evt:n,target:m})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(Mn.Util._getRotation(n.rotation));const i=n.width,r=n.height,s=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(g=>{g.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:a&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:l/2+o,visible:a&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:a&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:l/2+o,visible:a&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:r/2,offsetX:l/2-o,visible:a&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:l/2+o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:r,offsetY:l/2-o,visible:a&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:r,offsetX:l/2-o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:i/2,y:-this.rotateAnchorOffset()*Mn.Util._sign(r)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const h=this.anchorStyleFunc();h&&c.forEach(g=>{h(g)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),iS.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return nS.Node.prototype.toObject.call(this)}clone(e){return nS.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}R5.Transformer=an;an.isTransforming=()=>I4>0;function NG(t){return t instanceof Array||Mn.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){v2.indexOf(e)===-1&&Mn.Util.warn("Unknown anchor name: "+e+". Available names are: "+v2.join(", "))}),t||[]}an.prototype.className="Transformer";(0,gG._registerNode)(an);_n.Factory.addGetterSetter(an,"enabledAnchors",v2,NG);_n.Factory.addGetterSetter(an,"flipEnabled",!0,(0,Pu.getBooleanValidator)());_n.Factory.addGetterSetter(an,"resizeEnabled",!0);_n.Factory.addGetterSetter(an,"anchorSize",10,(0,Pu.getNumberValidator)());_n.Factory.addGetterSetter(an,"rotateEnabled",!0);_n.Factory.addGetterSetter(an,"rotateLineVisible",!0);_n.Factory.addGetterSetter(an,"rotationSnaps",[]);_n.Factory.addGetterSetter(an,"rotateAnchorOffset",50,(0,Pu.getNumberValidator)());_n.Factory.addGetterSetter(an,"rotateAnchorCursor","crosshair");_n.Factory.addGetterSetter(an,"rotationSnapTolerance",5,(0,Pu.getNumberValidator)());_n.Factory.addGetterSetter(an,"borderEnabled",!0);_n.Factory.addGetterSetter(an,"anchorStroke","rgb(0, 161, 255)");_n.Factory.addGetterSetter(an,"anchorStrokeWidth",1,(0,Pu.getNumberValidator)());_n.Factory.addGetterSetter(an,"anchorFill","white");_n.Factory.addGetterSetter(an,"anchorCornerRadius",0,(0,Pu.getNumberValidator)());_n.Factory.addGetterSetter(an,"borderStroke","rgb(0, 161, 255)");_n.Factory.addGetterSetter(an,"borderStrokeWidth",1,(0,Pu.getNumberValidator)());_n.Factory.addGetterSetter(an,"borderDash");_n.Factory.addGetterSetter(an,"keepRatio",!0);_n.Factory.addGetterSetter(an,"shiftBehavior","default");_n.Factory.addGetterSetter(an,"centeredScaling",!1);_n.Factory.addGetterSetter(an,"ignoreStroke",!1);_n.Factory.addGetterSetter(an,"padding",0,(0,Pu.getNumberValidator)());_n.Factory.addGetterSetter(an,"nodes");_n.Factory.addGetterSetter(an,"node");_n.Factory.addGetterSetter(an,"boundBoxFunc");_n.Factory.addGetterSetter(an,"anchorDragBoundFunc");_n.Factory.addGetterSetter(an,"anchorStyleFunc");_n.Factory.addGetterSetter(an,"shouldOverdrawWholeArea",!1);_n.Factory.addGetterSetter(an,"useSingleNodeRotation",!0);_n.Factory.backCompat(an,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var F5={};Object.defineProperty(F5,"__esModule",{value:!0});F5.Wedge=void 0;const D5=Kt,kG=ar,CG=Gt,kP=jt,jG=Gt;class uc extends kG.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,CG.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}F5.Wedge=uc;uc.prototype.className="Wedge";uc.prototype._centroid=!0;uc.prototype._attrsAffectingSize=["radius"];(0,jG._registerNode)(uc);D5.Factory.addGetterSetter(uc,"radius",0,(0,kP.getNumberValidator)());D5.Factory.addGetterSetter(uc,"angle",0,(0,kP.getNumberValidator)());D5.Factory.addGetterSetter(uc,"clockwise",!1);D5.Factory.backCompat(uc,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var O5={};Object.defineProperty(O5,"__esModule",{value:!0});O5.Blur=void 0;const sS=Kt,AG=oi,PG=jt;function aS(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const LG=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],TG=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function EG(t,e){const n=t.data,i=t.width,r=t.height;let s,a,o,l,c,h,g,m,p,x,b,S,N,j,w,k,E,O,U,M;const I=e+e+1,F=i-1,P=r-1,R=e+1,$=R*(R+1)/2,G=new aS,ee=LG[e],ce=TG[e];let pe=null,Z=G,te=null,he=null;for(let Y=1;Y<I;Y++)Z=Z.next=new aS,Y===R&&(pe=Z);Z.next=G,o=a=0;for(let Y=0;Y<r;Y++){S=N=j=w=l=c=h=g=0,m=R*(k=n[a]),p=R*(E=n[a+1]),x=R*(O=n[a+2]),b=R*(U=n[a+3]),l+=$*k,c+=$*E,h+=$*O,g+=$*U,Z=G;for(let B=0;B<R;B++)Z.r=k,Z.g=E,Z.b=O,Z.a=U,Z=Z.next;for(let B=1;B<R;B++)s=a+((F<B?F:B)<<2),l+=(Z.r=k=n[s])*(M=R-B),c+=(Z.g=E=n[s+1])*M,h+=(Z.b=O=n[s+2])*M,g+=(Z.a=U=n[s+3])*M,S+=k,N+=E,j+=O,w+=U,Z=Z.next;te=G,he=pe;for(let B=0;B<i;B++)n[a+3]=U=g*ee>>ce,U!==0?(U=255/U,n[a]=(l*ee>>ce)*U,n[a+1]=(c*ee>>ce)*U,n[a+2]=(h*ee>>ce)*U):n[a]=n[a+1]=n[a+2]=0,l-=m,c-=p,h-=x,g-=b,m-=te.r,p-=te.g,x-=te.b,b-=te.a,s=o+((s=B+e+1)<F?s:F)<<2,S+=te.r=n[s],N+=te.g=n[s+1],j+=te.b=n[s+2],w+=te.a=n[s+3],l+=S,c+=N,h+=j,g+=w,te=te.next,m+=k=he.r,p+=E=he.g,x+=O=he.b,b+=U=he.a,S-=k,N-=E,j-=O,w-=U,he=he.next,a+=4;o+=i}for(let Y=0;Y<i;Y++){N=j=w=S=c=h=g=l=0,a=Y<<2,m=R*(k=n[a]),p=R*(E=n[a+1]),x=R*(O=n[a+2]),b=R*(U=n[a+3]),l+=$*k,c+=$*E,h+=$*O,g+=$*U,Z=G;for(let K=0;K<R;K++)Z.r=k,Z.g=E,Z.b=O,Z.a=U,Z=Z.next;let B=i;for(let K=1;K<=e;K++)a=B+Y<<2,l+=(Z.r=k=n[a])*(M=R-K),c+=(Z.g=E=n[a+1])*M,h+=(Z.b=O=n[a+2])*M,g+=(Z.a=U=n[a+3])*M,S+=k,N+=E,j+=O,w+=U,Z=Z.next,K<P&&(B+=i);a=Y,te=G,he=pe;for(let K=0;K<r;K++)s=a<<2,n[s+3]=U=g*ee>>ce,U>0?(U=255/U,n[s]=(l*ee>>ce)*U,n[s+1]=(c*ee>>ce)*U,n[s+2]=(h*ee>>ce)*U):n[s]=n[s+1]=n[s+2]=0,l-=m,c-=p,h-=x,g-=b,m-=te.r,p-=te.g,x-=te.b,b-=te.a,s=Y+((s=K+R)<P?s:P)*i<<2,l+=S+=te.r=n[s],c+=N+=te.g=n[s+1],h+=j+=te.b=n[s+2],g+=w+=te.a=n[s+3],te=te.next,m+=k=he.r,p+=E=he.g,x+=O=he.b,b+=U=he.a,S-=k,N-=E,j-=O,w-=U,he=he.next,a+=i}}const MG=function(e){const n=Math.round(this.blurRadius());n>0&&EG(e,n)};O5.Blur=MG;sS.Factory.addGetterSetter(AG.Node,"blurRadius",0,(0,PG.getNumberValidator)(),sS.Factory.afterSetFilter);var I5={};Object.defineProperty(I5,"__esModule",{value:!0});I5.Brighten=void 0;const oS=Kt,RG=oi,FG=jt,DG=function(t){const e=this.brightness()*255,n=t.data,i=n.length;for(let r=0;r<i;r+=4)n[r]+=e,n[r+1]+=e,n[r+2]+=e};I5.Brighten=DG;oS.Factory.addGetterSetter(RG.Node,"brightness",0,(0,FG.getNumberValidator)(),oS.Factory.afterSetFilter);var B5={};Object.defineProperty(B5,"__esModule",{value:!0});B5.Contrast=void 0;const lS=Kt,OG=oi,IG=jt,BG=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,i=n.length;let r=150,s=150,a=150;for(let o=0;o<i;o+=4)r=n[o],s=n[o+1],a=n[o+2],r/=255,r-=.5,r*=e,r+=.5,r*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,r=r<0?0:r>255?255:r,s=s<0?0:s>255?255:s,a=a<0?0:a>255?255:a,n[o]=r,n[o+1]=s,n[o+2]=a};B5.Contrast=BG;lS.Factory.addGetterSetter(OG.Node,"contrast",0,(0,IG.getNumberValidator)(),lS.Factory.afterSetFilter);var z5={};Object.defineProperty(z5,"__esModule",{value:!0});z5.Emboss=void 0;const pu=Kt,U5=oi,zG=mi,CP=jt,UG=function(t){const e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,i=this.embossDirection(),r=this.embossBlend(),s=t.data,a=t.width,o=t.height,l=a*4;let c=0,h=0,g=o;switch(i){case"top-left":c=-1,h=-1;break;case"top":c=-1,h=0;break;case"top-right":c=-1,h=1;break;case"right":c=0,h=1;break;case"bottom-right":c=1,h=1;break;case"bottom":c=1,h=0;break;case"bottom-left":c=1,h=-1;break;case"left":c=0,h=-1;break;default:zG.Util.error("Unknown emboss direction: "+i)}do{const m=(g-1)*l;let p=c;g+p<1&&(p=0),g+p>o&&(p=0);const x=(g-1+p)*a*4;let b=a;do{const S=m+(b-1)*4;let N=h;b+N<1&&(N=0),b+N>a&&(N=0);const j=x+(b-1+N)*4,w=s[S]-s[j],k=s[S+1]-s[j+1],E=s[S+2]-s[j+2];let O=w;const U=O>0?O:-O,M=k>0?k:-k,I=E>0?E:-E;if(M>U&&(O=k),I>U&&(O=E),O*=e,r){const F=s[S]+O,P=s[S+1]+O,R=s[S+2]+O;s[S]=F>255?255:F<0?0:F,s[S+1]=P>255?255:P<0?0:P,s[S+2]=R>255?255:R<0?0:R}else{let F=n-O;F<0?F=0:F>255&&(F=255),s[S]=s[S+1]=s[S+2]=F}}while(--b)}while(--g)};z5.Emboss=UG;pu.Factory.addGetterSetter(U5.Node,"embossStrength",.5,(0,CP.getNumberValidator)(),pu.Factory.afterSetFilter);pu.Factory.addGetterSetter(U5.Node,"embossWhiteLevel",.5,(0,CP.getNumberValidator)(),pu.Factory.afterSetFilter);pu.Factory.addGetterSetter(U5.Node,"embossDirection","top-left",void 0,pu.Factory.afterSetFilter);pu.Factory.addGetterSetter(U5.Node,"embossBlend",!1,void 0,pu.Factory.afterSetFilter);var V5={};Object.defineProperty(V5,"__esModule",{value:!0});V5.Enhance=void 0;const cS=Kt,VG=oi,HG=jt;function Nx(t,e,n,i,r){const s=n-e,a=r-i;if(s===0)return i+a/2;if(a===0)return i;let o=(t-e)/s;return o=a*o+i,o}const $G=function(t){const e=t.data,n=e.length;let i=e[0],r=i,s,a=e[1],o=a,l,c=e[2],h=c,g;const m=this.enhance();if(m===0)return;for(let w=0;w<n;w+=4)s=e[w+0],s<i?i=s:s>r&&(r=s),l=e[w+1],l<a?a=l:l>o&&(o=l),g=e[w+2],g<c?c=g:g>h&&(h=g);r===i&&(r=255,i=0),o===a&&(o=255,a=0),h===c&&(h=255,c=0);let p,x,b,S,N,j;if(m>0)p=r+m*(255-r),x=i-m*(i-0),b=o+m*(255-o),S=a-m*(a-0),N=h+m*(255-h),j=c-m*(c-0);else{const w=(r+i)*.5;p=r+m*(r-w),x=i+m*(i-w);const k=(o+a)*.5;b=o+m*(o-k),S=a+m*(a-k);const E=(h+c)*.5;N=h+m*(h-E),j=c+m*(c-E)}for(let w=0;w<n;w+=4)e[w+0]=Nx(e[w+0],i,r,x,p),e[w+1]=Nx(e[w+1],a,o,S,b),e[w+2]=Nx(e[w+2],c,h,j,N)};V5.Enhance=$G;cS.Factory.addGetterSetter(VG.Node,"enhance",0,(0,HG.getNumberValidator)(),cS.Factory.afterSetFilter);var H5={};Object.defineProperty(H5,"__esModule",{value:!0});H5.Grayscale=void 0;const GG=function(t){const e=t.data,n=e.length;for(let i=0;i<n;i+=4){const r=.34*e[i]+.5*e[i+1]+.16*e[i+2];e[i]=r,e[i+1]=r,e[i+2]=r}};H5.Grayscale=GG;var $5={};Object.defineProperty($5,"__esModule",{value:!0});$5.HSL=void 0;const Tf=Kt,rw=oi,sw=jt;Tf.Factory.addGetterSetter(rw.Node,"hue",0,(0,sw.getNumberValidator)(),Tf.Factory.afterSetFilter);Tf.Factory.addGetterSetter(rw.Node,"saturation",0,(0,sw.getNumberValidator)(),Tf.Factory.afterSetFilter);Tf.Factory.addGetterSetter(rw.Node,"luminance",0,(0,sw.getNumberValidator)(),Tf.Factory.afterSetFilter);const qG=function(t){const e=t.data,n=e.length,i=1,r=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=this.luminance()*127,o=i*r*Math.cos(s*Math.PI/180),l=i*r*Math.sin(s*Math.PI/180),c=.299*i+.701*o+.167*l,h=.587*i-.587*o+.33*l,g=.114*i-.114*o-.497*l,m=.299*i-.299*o-.328*l,p=.587*i+.413*o+.035*l,x=.114*i-.114*o+.293*l,b=.299*i-.3*o+1.25*l,S=.587*i-.586*o-1.05*l,N=.114*i+.886*o-.2*l;let j,w,k,E;for(let O=0;O<n;O+=4)j=e[O+0],w=e[O+1],k=e[O+2],E=e[O+3],e[O+0]=c*j+h*w+g*k+a,e[O+1]=m*j+p*w+x*k+a,e[O+2]=b*j+S*w+N*k+a,e[O+3]=E};$5.HSL=qG;var G5={};Object.defineProperty(G5,"__esModule",{value:!0});G5.HSV=void 0;const Ef=Kt,aw=oi,ow=jt,WG=function(t){const e=t.data,n=e.length,i=Math.pow(2,this.value()),r=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=i*r*Math.cos(s*Math.PI/180),o=i*r*Math.sin(s*Math.PI/180),l=.299*i+.701*a+.167*o,c=.587*i-.587*a+.33*o,h=.114*i-.114*a-.497*o,g=.299*i-.299*a-.328*o,m=.587*i+.413*a+.035*o,p=.114*i-.114*a+.293*o,x=.299*i-.3*a+1.25*o,b=.587*i-.586*a-1.05*o,S=.114*i+.886*a-.2*o;for(let N=0;N<n;N+=4){const j=e[N+0],w=e[N+1],k=e[N+2],E=e[N+3];e[N+0]=l*j+c*w+h*k,e[N+1]=g*j+m*w+p*k,e[N+2]=x*j+b*w+S*k,e[N+3]=E}};G5.HSV=WG;Ef.Factory.addGetterSetter(aw.Node,"hue",0,(0,ow.getNumberValidator)(),Ef.Factory.afterSetFilter);Ef.Factory.addGetterSetter(aw.Node,"saturation",0,(0,ow.getNumberValidator)(),Ef.Factory.afterSetFilter);Ef.Factory.addGetterSetter(aw.Node,"value",0,(0,ow.getNumberValidator)(),Ef.Factory.afterSetFilter);var q5={};Object.defineProperty(q5,"__esModule",{value:!0});q5.Invert=void 0;const KG=function(t){const e=t.data,n=e.length;for(let i=0;i<n;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2]};q5.Invert=KG;var W5={};Object.defineProperty(W5,"__esModule",{value:!0});W5.Kaleidoscope=void 0;const b2=Kt,jP=oi,uS=mi,AP=jt,XG=function(t,e,n){const i=t.data,r=e.data,s=t.width,a=t.height,o=n.polarCenterX||s/2,l=n.polarCenterY||a/2;let c=Math.sqrt(o*o+l*l),h=s-o,g=a-l;const m=Math.sqrt(h*h+g*g);c=m>c?m:c;const p=a,x=s,b=360/x*Math.PI/180;for(let S=0;S<x;S+=1){const N=Math.sin(S*b),j=Math.cos(S*b);for(let w=0;w<p;w+=1){h=Math.floor(o+c*w/p*j),g=Math.floor(l+c*w/p*N);let k=(g*s+h)*4;const E=i[k+0],O=i[k+1],U=i[k+2],M=i[k+3];k=(S+w*s)*4,r[k+0]=E,r[k+1]=O,r[k+2]=U,r[k+3]=M}}},YG=function(t,e,n){const i=t.data,r=e.data,s=t.width,a=t.height,o=n.polarCenterX||s/2,l=n.polarCenterY||a/2;let c=Math.sqrt(o*o+l*l),h=s-o,g=a-l;const m=Math.sqrt(h*h+g*g);c=m>c?m:c;const p=a,x=s,b=0;let S,N;for(h=0;h<s;h+=1)for(g=0;g<a;g+=1){const j=h-o,w=g-l,k=Math.sqrt(j*j+w*w)*p/c;let E=(Math.atan2(w,j)*180/Math.PI+360+b)%360;E=E*x/360,S=Math.floor(E),N=Math.floor(k);let O=(N*s+S)*4;const U=i[O+0],M=i[O+1],I=i[O+2],F=i[O+3];O=(g*s+h)*4,r[O+0]=U,r[O+1]=M,r[O+2]=I,r[O+3]=F}},QG=function(t){const e=t.width,n=t.height;let i,r,s,a,o,l,c,h,g,m,p=Math.round(this.kaleidoscopePower());const x=Math.round(this.kaleidoscopeAngle()),b=Math.floor(e*(x%360)/360);if(p<1)return;const S=uS.Util.createCanvasElement();S.width=e,S.height=n;const N=S.getContext("2d").getImageData(0,0,e,n);uS.Util.releaseCanvas(S),XG(t,N,{polarCenterX:e/2,polarCenterY:n/2});let j=e/Math.pow(2,p);for(;j<=8;)j=j*2,p-=1;j=Math.ceil(j);let w=j,k=0,E=w,O=1;for(b+j>e&&(k=w,E=0,O=-1),r=0;r<n;r+=1)for(i=k;i!==E;i+=O)s=Math.round(i+b)%e,g=(e*r+s)*4,o=N.data[g+0],l=N.data[g+1],c=N.data[g+2],h=N.data[g+3],m=(e*r+i)*4,N.data[m+0]=o,N.data[m+1]=l,N.data[m+2]=c,N.data[m+3]=h;for(r=0;r<n;r+=1)for(w=Math.floor(j),a=0;a<p;a+=1){for(i=0;i<w+1;i+=1)g=(e*r+i)*4,o=N.data[g+0],l=N.data[g+1],c=N.data[g+2],h=N.data[g+3],m=(e*r+w*2-i-1)*4,N.data[m+0]=o,N.data[m+1]=l,N.data[m+2]=c,N.data[m+3]=h;w*=2}YG(N,t,{})};W5.Kaleidoscope=QG;b2.Factory.addGetterSetter(jP.Node,"kaleidoscopePower",2,(0,AP.getNumberValidator)(),b2.Factory.afterSetFilter);b2.Factory.addGetterSetter(jP.Node,"kaleidoscopeAngle",0,(0,AP.getNumberValidator)(),b2.Factory.afterSetFilter);var K5={};Object.defineProperty(K5,"__esModule",{value:!0});K5.Mask=void 0;const hS=Kt,JG=oi,ZG=jt;function Am(t,e,n){let i=(n*t.width+e)*4;const r=[];return r.push(t.data[i++],t.data[i++],t.data[i++],t.data[i++]),r}function I0(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function eq(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function tq(t,e){const n=Am(t,0,0),i=Am(t,t.width-1,0),r=Am(t,0,t.height-1),s=Am(t,t.width-1,t.height-1),a=e||10;if(I0(n,i)<a&&I0(i,s)<a&&I0(s,r)<a&&I0(r,n)<a){const o=eq([i,n,s,r]),l=[];for(let c=0;c<t.width*t.height;c++){const h=I0(o,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=h<a?0:255}return l}}function nq(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function iq(t,e,n){const i=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(i.length)),s=Math.floor(r/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let h=0;for(let g=0;g<r;g++)for(let m=0;m<r;m++){const p=o+g-s,x=l+m-s;if(p>=0&&p<n&&x>=0&&x<e){const b=p*e+x,S=i[g*r+m];h+=t[b]*S}}a[c]=h===255*8?255:0}return a}function rq(t,e,n){const i=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(i.length)),s=Math.floor(r/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let h=0;for(let g=0;g<r;g++)for(let m=0;m<r;m++){const p=o+g-s,x=l+m-s;if(p>=0&&p<n&&x>=0&&x<e){const b=p*e+x,S=i[g*r+m];h+=t[b]*S}}a[c]=h>=255*4?255:0}return a}function sq(t,e,n){const i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],r=Math.round(Math.sqrt(i.length)),s=Math.floor(r/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let h=0;for(let g=0;g<r;g++)for(let m=0;m<r;m++){const p=o+g-s,x=l+m-s;if(p>=0&&p<n&&x>=0&&x<e){const b=p*e+x,S=i[g*r+m];h+=t[b]*S}}a[c]=h}return a}const aq=function(t){const e=this.threshold();let n=tq(t,e);return n&&(n=iq(n,t.width,t.height),n=rq(n,t.width,t.height),n=sq(n,t.width,t.height),nq(t,n)),t};K5.Mask=aq;hS.Factory.addGetterSetter(JG.Node,"threshold",0,(0,ZG.getNumberValidator)(),hS.Factory.afterSetFilter);var X5={};Object.defineProperty(X5,"__esModule",{value:!0});X5.Noise=void 0;const dS=Kt,oq=oi,lq=jt,cq=function(t){const e=this.noise()*255,n=t.data,i=n.length,r=e/2;for(let s=0;s<i;s+=4)n[s+0]+=r-2*r*Math.random(),n[s+1]+=r-2*r*Math.random(),n[s+2]+=r-2*r*Math.random()};X5.Noise=cq;dS.Factory.addGetterSetter(oq.Node,"noise",.2,(0,lq.getNumberValidator)(),dS.Factory.afterSetFilter);var Y5={};Object.defineProperty(Y5,"__esModule",{value:!0});Y5.Pixelate=void 0;const fS=Kt,uq=mi,hq=oi,dq=jt,fq=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,i=t.height,r=Math.ceil(n/e),s=Math.ceil(i/e),a=t.data;if(e<=0){uq.Util.error("pixelSize value can not be <= 0");return}for(let o=0;o<r;o+=1)for(let l=0;l<s;l+=1){let c=0,h=0,g=0,m=0;const p=o*e,x=p+e,b=l*e,S=b+e;let N=0;for(let j=p;j<x;j+=1)if(!(j>=n))for(let w=b;w<S;w+=1){if(w>=i)continue;const k=(n*w+j)*4;c+=a[k+0],h+=a[k+1],g+=a[k+2],m+=a[k+3],N+=1}c=c/N,h=h/N,g=g/N,m=m/N;for(let j=p;j<x;j+=1)if(!(j>=n))for(let w=b;w<S;w+=1){if(w>=i)continue;const k=(n*w+j)*4;a[k+0]=c,a[k+1]=h,a[k+2]=g,a[k+3]=m}}};Y5.Pixelate=fq;fS.Factory.addGetterSetter(hq.Node,"pixelSize",8,(0,dq.getNumberValidator)(),fS.Factory.afterSetFilter);var Q5={};Object.defineProperty(Q5,"__esModule",{value:!0});Q5.Posterize=void 0;const pS=Kt,pq=oi,gq=jt,mq=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,i=n.length,r=255/e;for(let s=0;s<i;s+=1)n[s]=Math.floor(n[s]/r)*r};Q5.Posterize=mq;pS.Factory.addGetterSetter(pq.Node,"levels",.5,(0,gq.getNumberValidator)(),pS.Factory.afterSetFilter);var J5={};Object.defineProperty(J5,"__esModule",{value:!0});J5.RGB=void 0;const w2=Kt,lw=oi,yq=jt,xq=function(t){const e=t.data,n=e.length,i=this.red(),r=this.green(),s=this.blue();for(let a=0;a<n;a+=4){const o=(.34*e[a]+.5*e[a+1]+.16*e[a+2])/255;e[a]=o*i,e[a+1]=o*r,e[a+2]=o*s,e[a+3]=e[a+3]}};J5.RGB=xq;w2.Factory.addGetterSetter(lw.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});w2.Factory.addGetterSetter(lw.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});w2.Factory.addGetterSetter(lw.Node,"blue",0,yq.RGBComponent,w2.Factory.afterSetFilter);var Z5={};Object.defineProperty(Z5,"__esModule",{value:!0});Z5.RGBA=void 0;const eg=Kt,ey=oi,vq=jt,bq=function(t){const e=t.data,n=e.length,i=this.red(),r=this.green(),s=this.blue(),a=this.alpha();for(let o=0;o<n;o+=4){const l=1-a;e[o]=i*a+e[o]*l,e[o+1]=r*a+e[o+1]*l,e[o+2]=s*a+e[o+2]*l}};Z5.RGBA=bq;eg.Factory.addGetterSetter(ey.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});eg.Factory.addGetterSetter(ey.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});eg.Factory.addGetterSetter(ey.Node,"blue",0,vq.RGBComponent,eg.Factory.afterSetFilter);eg.Factory.addGetterSetter(ey.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var ty={};Object.defineProperty(ty,"__esModule",{value:!0});ty.Sepia=void 0;const wq=function(t){const e=t.data,n=e.length;for(let i=0;i<n;i+=4){const r=e[i+0],s=e[i+1],a=e[i+2];e[i+0]=Math.min(255,r*.393+s*.769+a*.189),e[i+1]=Math.min(255,r*.349+s*.686+a*.168),e[i+2]=Math.min(255,r*.272+s*.534+a*.131)}};ty.Sepia=wq;var ny={};Object.defineProperty(ny,"__esModule",{value:!0});ny.Solarize=void 0;const _q=function(t){const e=t.data,n=t.width,i=t.height,r=n*4;let s=i;do{const a=(s-1)*r;let o=n;do{const l=a+(o-1)*4;let c=e[l],h=e[l+1],g=e[l+2];c>127&&(c=255-c),h>127&&(h=255-h),g>127&&(g=255-g),e[l]=c,e[l+1]=h,e[l+2]=g}while(--o)}while(--s)};ny.Solarize=_q;var iy={};Object.defineProperty(iy,"__esModule",{value:!0});iy.Threshold=void 0;const gS=Kt,Sq=oi,Nq=jt,kq=function(t){const e=this.threshold()*255,n=t.data,i=n.length;for(let r=0;r<i;r+=1)n[r]=n[r]<e?0:255};iy.Threshold=kq;gS.Factory.addGetterSetter(Sq.Node,"threshold",.5,(0,Nq.getNumberValidator)(),gS.Factory.afterSetFilter);Object.defineProperty(d5,"__esModule",{value:!0});d5.Konva=void 0;const mS=y2,Cq=x5,jq=w5,Aq=N5,Pq=k5,Lq=C5,yS=Lf,Tq=Ag,Eq=Kf,Mq=Lg,Rq=P5,Fq=L5,Dq=T5,Oq=E5,Iq=Yf,Bq=M5,zq=R5,Uq=F5,Vq=O5,Hq=I5,$q=B5,Gq=z5,qq=V5,Wq=H5,Kq=$5,Xq=G5,Yq=q5,Qq=W5,Jq=K5,Zq=X5,eW=Y5,tW=Q5,nW=J5,iW=Z5,rW=ty,sW=ny,aW=iy;d5.Konva=mS.Konva.Util._assign(mS.Konva,{Arc:Cq.Arc,Arrow:jq.Arrow,Circle:Aq.Circle,Ellipse:Pq.Ellipse,Image:Lq.Image,Label:yS.Label,Tag:yS.Tag,Line:Tq.Line,Path:Eq.Path,Rect:Mq.Rect,RegularPolygon:Rq.RegularPolygon,Ring:Fq.Ring,Sprite:Dq.Sprite,Star:Oq.Star,Text:Iq.Text,TextPath:Bq.TextPath,Transformer:zq.Transformer,Wedge:Uq.Wedge,Filters:{Blur:Vq.Blur,Brighten:Hq.Brighten,Contrast:$q.Contrast,Emboss:Gq.Emboss,Enhance:qq.Enhance,Grayscale:Wq.Grayscale,HSL:Kq.HSL,HSV:Xq.HSV,Invert:Yq.Invert,Kaleidoscope:Qq.Kaleidoscope,Mask:Jq.Mask,Noise:Zq.Noise,Pixelate:eW.Pixelate,Posterize:tW.Posterize,RGB:nW.RGB,RGBA:iW.RGBA,Sepia:rW.Sepia,Solarize:sW.Solarize,Threshold:aW.Threshold}});var oW=KA.exports;Object.defineProperty(oW,"__esModule",{value:!0});const lW=d5;KA.exports=lW.Konva;var B4={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var n=y2;Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return n.Konva}});const i=y2;t.exports=i.Konva})(B4,B4.exports);var cW=B4.exports;const tg=D2(cW);var PP={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uW=function(e){var n={},i=Q,r=ap,s=Object.assign;function a(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),x=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),E=Symbol.iterator;function O(u){return u===null||typeof u!="object"?null:(u=E&&u[E]||u["@@iterator"],typeof u=="function"?u:null)}function U(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case h:return"Fragment";case c:return"Portal";case m:return"Profiler";case g:return"StrictMode";case S:return"Suspense";case N:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case x:return(u.displayName||"Context")+".Consumer";case p:return(u._context.displayName||"Context")+".Provider";case b:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case j:return f=u.displayName||null,f!==null?f:U(u.type)||"Memo";case w:f=u._payload,u=u._init;try{return U(u(f))}catch{}}return null}function M(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(f);case 8:return f===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function I(u){var f=u,v=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(v=f.return),u=f.return;while(u)}return f.tag===3?v:null}function F(u){if(I(u)!==u)throw Error(a(188))}function P(u){var f=u.alternate;if(!f){if(f=I(u),f===null)throw Error(a(188));return f!==u?null:u}for(var v=u,C=f;;){var L=v.return;if(L===null)break;var z=L.alternate;if(z===null){if(C=L.return,C!==null){v=C;continue}break}if(L.child===z.child){for(z=L.child;z;){if(z===v)return F(L),u;if(z===C)return F(L),f;z=z.sibling}throw Error(a(188))}if(v.return!==C.return)v=L,C=z;else{for(var re=!1,we=L.child;we;){if(we===v){re=!0,v=L,C=z;break}if(we===C){re=!0,C=L,v=z;break}we=we.sibling}if(!re){for(we=z.child;we;){if(we===v){re=!0,v=z,C=L;break}if(we===C){re=!0,C=z,v=L;break}we=we.sibling}if(!re)throw Error(a(189))}}if(v.alternate!==C)throw Error(a(190))}if(v.tag!==3)throw Error(a(188));return v.stateNode.current===v?u:f}function R(u){return u=P(u),u!==null?$(u):null}function $(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=$(u);if(f!==null)return f;u=u.sibling}return null}function G(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=G(u);if(f!==null)return f}u=u.sibling}return null}var ee=Array.isArray,ce=e.getPublicInstance,pe=e.getRootHostContext,Z=e.getChildHostContext,te=e.prepareForCommit,he=e.resetAfterCommit,Y=e.createInstance,B=e.appendInitialChild,K=e.finalizeInitialChildren,ie=e.prepareUpdate,ue=e.shouldSetTextContent,de=e.createTextInstance,X=e.scheduleTimeout,fe=e.cancelTimeout,me=e.noTimeout,Ce=e.isPrimaryRenderer,Te=e.supportsMutation,Ue=e.supportsPersistence,ze=e.supportsHydration,je=e.getInstanceFromNode,le=e.preparePortalMount,At=e.getCurrentEventPriority,bt=e.detachDeletedInstance,ht=e.supportsMicrotasks,Ve=e.scheduleMicrotask,Ye=e.supportsTestSelectors,Ke=e.findFiberRoot,Et=e.getBoundingRect,Ee=e.getTextContent,qe=e.isHiddenSubtree,Ge=e.matchAccessibilityRole,dt=e.setFocusIfFocusable,Ht=e.setupIntersectionObserver,ft=e.appendChild,ot=e.appendChildToContainer,wt=e.commitTextUpdate,tt=e.commitMount,on=e.commitUpdate,nn=e.insertBefore,mt=e.insertInContainerBefore,Dt=e.removeChild,kn=e.removeChildFromContainer,_t=e.resetTextContent,Xt=e.hideInstance,Ot=e.hideTextInstance,li=e.unhideInstance,Pi=e.unhideTextInstance,Cn=e.clearContainer,Pt=e.cloneInstance,un=e.createContainerChildSet,Oo=e.appendChildToContainerChildSet,lr=e.finalizeContainerChildren,Gs=e.replaceContainerChildren,qs=e.cloneHiddenInstance,St=e.cloneHiddenTextInstance,eo=e.canHydrateInstance,to=e.canHydrateTextInstance,Ns=e.canHydrateSuspenseInstance,hs=e.isSuspenseInstancePending,On=e.isSuspenseInstanceFallback,Vi=e.getSuspenseInstanceFallbackErrorDetails,qi=e.registerSuspenseInstanceRetry,ma=e.getNextHydratableSibling,Io=e.getFirstHydratableChild,Ws=e.getFirstHydratableChildWithinContainer,ya=e.getFirstHydratableChildWithinSuspenseInstance,Ks=e.hydrateInstance,Xs=e.hydrateTextInstance,ks=e.hydrateSuspenseInstance,ml=e.getNextHydratableInstanceAfterSuspenseInstance,xa=e.commitHydratedContainer,yl=e.commitHydratedSuspenseInstance,hc=e.clearSuspenseBoundary,dc=e.clearSuspenseBoundaryFromContainer,fc=e.shouldDeleteUnhydratedTailInstances,Zf=e.didNotMatchHydratedContainerTextInstance,Tu=e.didNotMatchHydratedTextInstance,pc;function Bo(u){if(pc===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);pc=f&&f[1]||""}return`
`+pc+u}var Br=!1;function xl(u,f){if(!u||Br)return"";Br=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch($e){var C=$e}Reflect.construct(u,[],f)}else{try{f.call()}catch($e){C=$e}u.call(f.prototype)}else{try{throw Error()}catch($e){C=$e}u()}}catch($e){if($e&&C&&typeof $e.stack=="string"){for(var L=$e.stack.split(`
`),z=C.stack.split(`
`),re=L.length-1,we=z.length-1;1<=re&&0<=we&&L[re]!==z[we];)we--;for(;1<=re&&0<=we;re--,we--)if(L[re]!==z[we]){if(re!==1||we!==1)do if(re--,we--,0>we||L[re]!==z[we]){var Le=`
`+L[re].replace(" at new "," at ");return u.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",u.displayName)),Le}while(1<=re&&0<=we);break}}}finally{Br=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?Bo(u):""}var ed=Object.prototype.hasOwnProperty,vl=[],no=-1;function Ys(u){return{current:u}}function Sn(u){0>no||(u.current=vl[no],vl[no]=null,no--)}function hn(u,f){no++,vl[no]=u.current,u.current=f}var va={},Yt=Ys(va),Wi=Ys(!1),ba=va;function zr(u,f){var v=u.type.contextTypes;if(!v)return va;var C=u.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===f)return C.__reactInternalMemoizedMaskedChildContext;var L={},z;for(z in v)L[z]=f[z];return C&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=L),L}function yi(u){return u=u.childContextTypes,u!=null}function Ur(){Sn(Wi),Sn(Yt)}function zo(u,f,v){if(Yt.current!==va)throw Error(a(168));hn(Yt,f),hn(Wi,v)}function ni(u,f,v){var C=u.stateNode;if(f=f.childContextTypes,typeof C.getChildContext!="function")return v;C=C.getChildContext();for(var L in C)if(!(L in f))throw Error(a(108,M(u)||"Unknown",L));return s({},v,C)}function Uo(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||va,ba=Yt.current,hn(Yt,u),hn(Wi,Wi.current),!0}function td(u,f,v){var C=u.stateNode;if(!C)throw Error(a(169));v?(u=ni(u,f,ba),C.__reactInternalMemoizedMergedChildContext=u,Sn(Wi),Sn(Yt),hn(Yt,u)):Sn(Wi),hn(Wi,v)}var ds=Math.clz32?Math.clz32:nd,e0=Math.log,wa=Math.LN2;function nd(u){return u>>>=0,u===0?32:31-(e0(u)/wa|0)|0}var bl=64,Qs=4194304;function io(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function gc(u,f){var v=u.pendingLanes;if(v===0)return 0;var C=0,L=u.suspendedLanes,z=u.pingedLanes,re=v&268435455;if(re!==0){var we=re&~L;we!==0?C=io(we):(z&=re,z!==0&&(C=io(z)))}else re=v&~L,re!==0?C=io(re):z!==0&&(C=io(z));if(C===0)return 0;if(f!==0&&f!==C&&!(f&L)&&(L=C&-C,z=f&-f,L>=z||L===16&&(z&4194240)!==0))return f;if(C&4&&(C|=v&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=C;0<f;)v=31-ds(f),L=1<<v,C|=u[v],f&=~L;return C}function t0(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n0(u,f){for(var v=u.suspendedLanes,C=u.pingedLanes,L=u.expirationTimes,z=u.pendingLanes;0<z;){var re=31-ds(z),we=1<<re,Le=L[re];Le===-1?(!(we&v)||we&C)&&(L[re]=t0(we,f)):Le<=f&&(u.expiredLanes|=we),z&=~we}}function wl(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Vo(){var u=bl;return bl<<=1,!(bl&4194240)&&(bl=64),u}function _a(u){for(var f=[],v=0;31>v;v++)f.push(u);return f}function _l(u,f,v){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-ds(f),u[f]=v}function Sl(u,f){var v=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var C=u.eventTimes;for(u=u.expirationTimes;0<v;){var L=31-ds(v),z=1<<L;f[L]=0,C[L]=-1,u[L]=-1,v&=~z}}function Nl(u,f){var v=u.entangledLanes|=f;for(u=u.entanglements;v;){var C=31-ds(v),L=1<<C;L&f|u[C]&f&&(u[C]|=f),v&=~L}}var Xe=0;function id(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var Eu=r.unstable_scheduleCallback,rd=r.unstable_cancelCallback,i0=r.unstable_shouldYield,ro=r.unstable_requestPaint,Tn=r.unstable_now,Mu=r.unstable_ImmediatePriority,r0=r.unstable_UserBlockingPriority,Ho=r.unstable_NormalPriority,Ru=r.unstable_IdlePriority,Sa=null,Nr=null;function mc(u){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Sa,u,void 0,(u.current.flags&128)===128)}catch{}}function s0(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var kr=typeof Object.is=="function"?Object.is:s0,fs=null,Na=!1,so=!1;function yc(u){fs===null?fs=[u]:fs.push(u)}function xc(u){Na=!0,yc(u)}function Vr(){if(!so&&fs!==null){so=!0;var u=0,f=Xe;try{var v=fs;for(Xe=1;u<v.length;u++){var C=v[u];do C=C(!0);while(C!==null)}fs=null,Na=!1}catch(L){throw fs!==null&&(fs=fs.slice(u+1)),Eu(Mu,Vr),L}finally{Xe=f,so=!1}}return null}var Cs=[],ka=0,$o=null,cr=0,ci=[],A=0,H=null,ae=1,ge="";function be(u,f){Cs[ka++]=cr,Cs[ka++]=$o,$o=u,cr=f}function De(u,f,v){ci[A++]=ae,ci[A++]=ge,ci[A++]=H,H=u;var C=ae;u=ge;var L=32-ds(C)-1;C&=~(1<<L),v+=1;var z=32-ds(f)+L;if(30<z){var re=L-L%5;z=(C&(1<<re)-1).toString(32),C>>=re,L-=re,ae=1<<32-ds(f)+L|v<<L|C,ge=z+u}else ae=1<<z|v<<L|C,ge=u}function Ie(u){u.return!==null&&(be(u,1),De(u,1,0))}function nt(u){for(;u===$o;)$o=Cs[--ka],Cs[ka]=null,cr=Cs[--ka],Cs[ka]=null;for(;u===H;)H=ci[--A],ci[A]=null,ge=ci[--A],ci[A]=null,ae=ci[--A],ci[A]=null}var Qe=null,yt=null,it=!1,Qt=!1,rn=null;function ui(u,f){var v=Ia(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=u,f=u.deletions,f===null?(u.deletions=[v],u.flags|=16):f.push(v)}function vn(u,f){switch(u.tag){case 5:return f=eo(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,Qe=u,yt=Io(f),!0):!1;case 6:return f=to(f,u.pendingProps),f!==null?(u.stateNode=f,Qe=u,yt=null,!0):!1;case 13:if(f=Ns(f),f!==null){var v=H!==null?{id:ae,overflow:ge}:null;return u.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=Ia(18,null,null,0),v.stateNode=f,v.return=u,u.child=v,Qe=u,yt=null,!0}return!1;default:return!1}}function hi(u){return(u.mode&1)!==0&&(u.flags&128)===0}function ii(u){if(it){var f=yt;if(f){var v=f;if(!vn(u,f)){if(hi(u))throw Error(a(418));f=ma(v);var C=Qe;f&&vn(u,f)?ui(C,v):(u.flags=u.flags&-4097|2,it=!1,Qe=u)}}else{if(hi(u))throw Error(a(418));u.flags=u.flags&-4097|2,it=!1,Qe=u}}}function Hi(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Qe=u}function js(u){if(!ze||u!==Qe)return!1;if(!it)return Hi(u),it=!0,!1;if(u.tag!==3&&(u.tag!==5||fc(u.type)&&!ue(u.type,u.memoizedProps))){var f=yt;if(f){if(hi(u))throw ao(),Error(a(418));for(;f;)ui(u,f),f=ma(f)}}if(Hi(u),u.tag===13){if(!ze)throw Error(a(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));yt=ml(u)}else yt=Qe?ma(u.stateNode):null;return!0}function ao(){for(var u=yt;u;)u=ma(u)}function Go(){ze&&(yt=Qe=null,Qt=it=!1)}function vc(u){rn===null?rn=[u]:rn.push(u)}var kl=o.ReactCurrentBatchConfig;function Hr(u,f){if(kr(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var v=Object.keys(u),C=Object.keys(f);if(v.length!==C.length)return!1;for(C=0;C<v.length;C++){var L=v[C];if(!ed.call(f,L)||!kr(u[L],f[L]))return!1}return!0}function Fu(u){switch(u.tag){case 5:return Bo(u.type);case 16:return Bo("Lazy");case 13:return Bo("Suspense");case 19:return Bo("SuspenseList");case 0:case 2:case 15:return u=xl(u.type,!1),u;case 11:return u=xl(u.type.render,!1),u;case 1:return u=xl(u.type,!0),u;default:return""}}function Ca(u,f,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(a(309));var C=v.stateNode}if(!C)throw Error(a(147,u));var L=C,z=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===z?f.ref:(f=function(re){var we=L.refs;re===null?delete we[z]:we[z]=re},f._stringRef=z,f)}if(typeof u!="string")throw Error(a(284));if(!v._owner)throw Error(a(290,u))}return u}function Js(u,f){throw u=Object.prototype.toString.call(f),Error(a(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function Li(u){var f=u._init;return f(u._payload)}function ja(u){function f(Ae,Se){if(u){var Re=Ae.deletions;Re===null?(Ae.deletions=[Se],Ae.flags|=16):Re.push(Se)}}function v(Ae,Se){if(!u)return null;for(;Se!==null;)f(Ae,Se),Se=Se.sibling;return null}function C(Ae,Se){for(Ae=new Map;Se!==null;)Se.key!==null?Ae.set(Se.key,Se):Ae.set(Se.index,Se),Se=Se.sibling;return Ae}function L(Ae,Se){return Ae=Ec(Ae,Se),Ae.index=0,Ae.sibling=null,Ae}function z(Ae,Se,Re){return Ae.index=Re,u?(Re=Ae.alternate,Re!==null?(Re=Re.index,Re<Se?(Ae.flags|=2,Se):Re):(Ae.flags|=2,Se)):(Ae.flags|=1048576,Se)}function re(Ae){return u&&Ae.alternate===null&&(Ae.flags|=2),Ae}function we(Ae,Se,Re,Ze){return Se===null||Se.tag!==6?(Se=wy(Re,Ae.mode,Ze),Se.return=Ae,Se):(Se=L(Se,Re),Se.return=Ae,Se)}function Le(Ae,Se,Re,Ze){var Nt=Re.type;return Nt===h?ct(Ae,Se,Re.props.children,Ze,Re.key):Se!==null&&(Se.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===w&&Li(Nt)===Se.type)?(Ze=L(Se,Re.props),Ze.ref=Ca(Ae,Se,Re),Ze.return=Ae,Ze):(Ze=Zg(Re.type,Re.key,Re.props,null,Ae.mode,Ze),Ze.ref=Ca(Ae,Se,Re),Ze.return=Ae,Ze)}function $e(Ae,Se,Re,Ze){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Re.containerInfo||Se.stateNode.implementation!==Re.implementation?(Se=_y(Re,Ae.mode,Ze),Se.return=Ae,Se):(Se=L(Se,Re.children||[]),Se.return=Ae,Se)}function ct(Ae,Se,Re,Ze,Nt){return Se===null||Se.tag!==7?(Se=Xu(Re,Ae.mode,Ze,Nt),Se.return=Ae,Se):(Se=L(Se,Re),Se.return=Ae,Se)}function zt(Ae,Se,Re){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=wy(""+Se,Ae.mode,Re),Se.return=Ae,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:return Re=Zg(Se.type,Se.key,Se.props,null,Ae.mode,Re),Re.ref=Ca(Ae,null,Se),Re.return=Ae,Re;case c:return Se=_y(Se,Ae.mode,Re),Se.return=Ae,Se;case w:var Ze=Se._init;return zt(Ae,Ze(Se._payload),Re)}if(ee(Se)||O(Se))return Se=Xu(Se,Ae.mode,Re,null),Se.return=Ae,Se;Js(Ae,Se)}return null}function Je(Ae,Se,Re,Ze){var Nt=Se!==null?Se.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Nt!==null?null:we(Ae,Se,""+Re,Ze);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case l:return Re.key===Nt?Le(Ae,Se,Re,Ze):null;case c:return Re.key===Nt?$e(Ae,Se,Re,Ze):null;case w:return Nt=Re._init,Je(Ae,Se,Nt(Re._payload),Ze)}if(ee(Re)||O(Re))return Nt!==null?null:ct(Ae,Se,Re,Ze,null);Js(Ae,Re)}return null}function Xn(Ae,Se,Re,Ze,Nt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return Ae=Ae.get(Re)||null,we(Se,Ae,""+Ze,Nt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case l:return Ae=Ae.get(Ze.key===null?Re:Ze.key)||null,Le(Se,Ae,Ze,Nt);case c:return Ae=Ae.get(Ze.key===null?Re:Ze.key)||null,$e(Se,Ae,Ze,Nt);case w:var $t=Ze._init;return Xn(Ae,Se,Re,$t(Ze._payload),Nt)}if(ee(Ze)||O(Ze))return Ae=Ae.get(Re)||null,ct(Se,Ae,Ze,Nt,null);Js(Se,Ze)}return null}function Rn(Ae,Se,Re,Ze){for(var Nt=null,$t=null,Ut=Se,yn=Se=0,vr=null;Ut!==null&&yn<Re.length;yn++){Ut.index>yn?(vr=Ut,Ut=null):vr=Ut.sibling;var xn=Je(Ae,Ut,Re[yn],Ze);if(xn===null){Ut===null&&(Ut=vr);break}u&&Ut&&xn.alternate===null&&f(Ae,Ut),Se=z(xn,Se,yn),$t===null?Nt=xn:$t.sibling=xn,$t=xn,Ut=vr}if(yn===Re.length)return v(Ae,Ut),it&&be(Ae,yn),Nt;if(Ut===null){for(;yn<Re.length;yn++)Ut=zt(Ae,Re[yn],Ze),Ut!==null&&(Se=z(Ut,Se,yn),$t===null?Nt=Ut:$t.sibling=Ut,$t=Ut);return it&&be(Ae,yn),Nt}for(Ut=C(Ae,Ut);yn<Re.length;yn++)vr=Xn(Ut,Ae,yn,Re[yn],Ze),vr!==null&&(u&&vr.alternate!==null&&Ut.delete(vr.key===null?yn:vr.key),Se=z(vr,Se,yn),$t===null?Nt=vr:$t.sibling=vr,$t=vr);return u&&Ut.forEach(function(Mc){return f(Ae,Mc)}),it&&be(Ae,yn),Nt}function Rs(Ae,Se,Re,Ze){var Nt=O(Re);if(typeof Nt!="function")throw Error(a(150));if(Re=Nt.call(Re),Re==null)throw Error(a(151));for(var $t=Nt=null,Ut=Se,yn=Se=0,vr=null,xn=Re.next();Ut!==null&&!xn.done;yn++,xn=Re.next()){Ut.index>yn?(vr=Ut,Ut=null):vr=Ut.sibling;var Mc=Je(Ae,Ut,xn.value,Ze);if(Mc===null){Ut===null&&(Ut=vr);break}u&&Ut&&Mc.alternate===null&&f(Ae,Ut),Se=z(Mc,Se,yn),$t===null?Nt=Mc:$t.sibling=Mc,$t=Mc,Ut=vr}if(xn.done)return v(Ae,Ut),it&&be(Ae,yn),Nt;if(Ut===null){for(;!xn.done;yn++,xn=Re.next())xn=zt(Ae,xn.value,Ze),xn!==null&&(Se=z(xn,Se,yn),$t===null?Nt=xn:$t.sibling=xn,$t=xn);return it&&be(Ae,yn),Nt}for(Ut=C(Ae,Ut);!xn.done;yn++,xn=Re.next())xn=Xn(Ut,Ae,yn,xn.value,Ze),xn!==null&&(u&&xn.alternate!==null&&Ut.delete(xn.key===null?yn:xn.key),Se=z(xn,Se,yn),$t===null?Nt=xn:$t.sibling=xn,$t=xn);return u&&Ut.forEach(function(MT){return f(Ae,MT)}),it&&be(Ae,yn),Nt}function Dl(Ae,Se,Re,Ze){if(typeof Re=="object"&&Re!==null&&Re.type===h&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case l:e:{for(var Nt=Re.key,$t=Se;$t!==null;){if($t.key===Nt){if(Nt=Re.type,Nt===h){if($t.tag===7){v(Ae,$t.sibling),Se=L($t,Re.props.children),Se.return=Ae,Ae=Se;break e}}else if($t.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===w&&Li(Nt)===$t.type){v(Ae,$t.sibling),Se=L($t,Re.props),Se.ref=Ca(Ae,$t,Re),Se.return=Ae,Ae=Se;break e}v(Ae,$t);break}else f(Ae,$t);$t=$t.sibling}Re.type===h?(Se=Xu(Re.props.children,Ae.mode,Ze,Re.key),Se.return=Ae,Ae=Se):(Ze=Zg(Re.type,Re.key,Re.props,null,Ae.mode,Ze),Ze.ref=Ca(Ae,Se,Re),Ze.return=Ae,Ae=Ze)}return re(Ae);case c:e:{for($t=Re.key;Se!==null;){if(Se.key===$t)if(Se.tag===4&&Se.stateNode.containerInfo===Re.containerInfo&&Se.stateNode.implementation===Re.implementation){v(Ae,Se.sibling),Se=L(Se,Re.children||[]),Se.return=Ae,Ae=Se;break e}else{v(Ae,Se);break}else f(Ae,Se);Se=Se.sibling}Se=_y(Re,Ae.mode,Ze),Se.return=Ae,Ae=Se}return re(Ae);case w:return $t=Re._init,Dl(Ae,Se,$t(Re._payload),Ze)}if(ee(Re))return Rn(Ae,Se,Re,Ze);if(O(Re))return Rs(Ae,Se,Re,Ze);Js(Ae,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,Se!==null&&Se.tag===6?(v(Ae,Se.sibling),Se=L(Se,Re),Se.return=Ae,Ae=Se):(v(Ae,Se),Se=wy(Re,Ae.mode,Ze),Se.return=Ae,Ae=Se),re(Ae)):v(Ae,Se)}return Dl}var $r=ja(!0),Cl=ja(!1),qo=Ys(null),$i=null,oo=null,Wo=null;function bc(){Wo=oo=$i=null}function xi(u,f,v){Ce?(hn(qo,f._currentValue),f._currentValue=v):(hn(qo,f._currentValue2),f._currentValue2=v)}function Gr(u){var f=qo.current;Sn(qo),Ce?u._currentValue=f:u._currentValue2=f}function jl(u,f,v){for(;u!==null;){var C=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,C!==null&&(C.childLanes|=f)):C!==null&&(C.childLanes&f)!==f&&(C.childLanes|=f),u===v)break;u=u.return}}function Aa(u,f){$i=u,Wo=oo=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(jr=!0),u.firstContext=null)}function Ti(u){var f=Ce?u._currentValue:u._currentValue2;if(Wo!==u)if(u={context:u,memoizedValue:f,next:null},oo===null){if($i===null)throw Error(a(308));oo=u,$i.dependencies={lanes:0,firstContext:u}}else oo=oo.next=u;return f}var As=null;function ur(u){As===null?As=[u]:As.push(u)}function Cr(u,f,v,C){var L=f.interleaved;return L===null?(v.next=v,ur(f)):(v.next=L.next,L.next=v),f.interleaved=v,hr(u,C)}function hr(u,f){u.lanes|=f;var v=u.alternate;for(v!==null&&(v.lanes|=f),v=u,u=u.return;u!==null;)u.childLanes|=f,v=u.alternate,v!==null&&(v.childLanes|=f),v=u,u=u.return;return v.tag===3?v.stateNode:null}var Ki=!1;function Pa(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wc(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function dr(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function Nn(u,f,v){var C=u.updateQueue;if(C===null)return null;if(C=C.shared,Rt&2){var L=C.pending;return L===null?f.next=f:(f.next=L.next,L.next=f),C.pending=f,hr(u,v)}return L=C.interleaved,L===null?(f.next=f,ur(C)):(f.next=L.next,L.next=f),C.interleaved=f,hr(u,v)}function _c(u,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var C=f.lanes;C&=u.pendingLanes,v|=C,f.lanes=v,Nl(u,v)}}function Zs(u,f){var v=u.updateQueue,C=u.alternate;if(C!==null&&(C=C.updateQueue,v===C)){var L=null,z=null;if(v=v.firstBaseUpdate,v!==null){do{var re={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};z===null?L=z=re:z=z.next=re,v=v.next}while(v!==null);z===null?L=z=f:z=z.next=f}else L=z=f;v={baseState:C.baseState,firstBaseUpdate:L,lastBaseUpdate:z,shared:C.shared,effects:C.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=f:u.next=f,v.lastBaseUpdate=f}function ps(u,f,v,C){var L=u.updateQueue;Ki=!1;var z=L.firstBaseUpdate,re=L.lastBaseUpdate,we=L.shared.pending;if(we!==null){L.shared.pending=null;var Le=we,$e=Le.next;Le.next=null,re===null?z=$e:re.next=$e,re=Le;var ct=u.alternate;ct!==null&&(ct=ct.updateQueue,we=ct.lastBaseUpdate,we!==re&&(we===null?ct.firstBaseUpdate=$e:we.next=$e,ct.lastBaseUpdate=Le))}if(z!==null){var zt=L.baseState;re=0,ct=$e=Le=null,we=z;do{var Je=we.lane,Xn=we.eventTime;if((C&Je)===Je){ct!==null&&(ct=ct.next={eventTime:Xn,lane:0,tag:we.tag,payload:we.payload,callback:we.callback,next:null});e:{var Rn=u,Rs=we;switch(Je=f,Xn=v,Rs.tag){case 1:if(Rn=Rs.payload,typeof Rn=="function"){zt=Rn.call(Xn,zt,Je);break e}zt=Rn;break e;case 3:Rn.flags=Rn.flags&-65537|128;case 0:if(Rn=Rs.payload,Je=typeof Rn=="function"?Rn.call(Xn,zt,Je):Rn,Je==null)break e;zt=s({},zt,Je);break e;case 2:Ki=!0}}we.callback!==null&&we.lane!==0&&(u.flags|=64,Je=L.effects,Je===null?L.effects=[we]:Je.push(we))}else Xn={eventTime:Xn,lane:Je,tag:we.tag,payload:we.payload,callback:we.callback,next:null},ct===null?($e=ct=Xn,Le=zt):ct=ct.next=Xn,re|=Je;if(we=we.next,we===null){if(we=L.shared.pending,we===null)break;Je=we,we=Je.next,Je.next=null,L.lastBaseUpdate=Je,L.shared.pending=null}}while(!0);if(ct===null&&(Le=zt),L.baseState=Le,L.firstBaseUpdate=$e,L.lastBaseUpdate=ct,f=L.shared.interleaved,f!==null){L=f;do re|=L.lane,L=L.next;while(L!==f)}else z===null&&(L.shared.lanes=0);El|=re,u.lanes=re,u.memoizedState=zt}}function Al(u,f,v){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var C=u[f],L=C.callback;if(L!==null){if(C.callback=null,C=v,typeof L!="function")throw Error(a(191,L));L.call(C)}}}var lo={},Xi=Ys(lo),La=Ys(lo),Ps=Ys(lo);function fr(u){if(u===lo)throw Error(a(174));return u}function ea(u,f){hn(Ps,f),hn(La,u),hn(Xi,lo),u=pe(f),Sn(Xi),hn(Xi,u)}function Ta(){Sn(Xi),Sn(La),Sn(Ps)}function qr(u){var f=fr(Ps.current),v=fr(Xi.current);f=Z(v,u.type,f),v!==f&&(hn(La,u),hn(Xi,f))}function Ls(u){La.current===u&&(Sn(Xi),Sn(La))}var kt=Ys(0);function bn(u){for(var f=u;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||hs(v)||On(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Hn=[];function $n(){for(var u=0;u<Hn.length;u++){var f=Hn[u];Ce?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Hn.length=0}var Ts=o.ReactCurrentDispatcher,Ko=o.ReactCurrentBatchConfig,pr=0,jn=null,vi=null,Ei=null,Du=!1,Sc=!1,Nc=0,Mg=0;function Yi(){throw Error(a(321))}function sd(u,f){if(f===null)return!1;for(var v=0;v<f.length&&v<u.length;v++)if(!kr(u[v],f[v]))return!1;return!0}function ad(u,f,v,C,L,z){if(pr=z,jn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Ts.current=u===null||u.memoizedState===null?g0:Uu,u=v(C,L),Sc){z=0;do{if(Sc=!1,Nc=0,25<=z)throw Error(a(301));z+=1,Ei=vi=null,f.updateQueue=null,Ts.current=yy,u=v(C,L)}while(Sc)}if(Ts.current=Cc,f=vi!==null&&vi.next!==null,pr=0,Ei=vi=jn=null,Du=!1,f)throw Error(a(300));return u}function od(){var u=Nc!==0;return Nc=0,u}function ta(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ei===null?jn.memoizedState=Ei=u:Ei=Ei.next=u,Ei}function gs(){if(vi===null){var u=jn.alternate;u=u!==null?u.memoizedState:null}else u=vi.next;var f=Ei===null?jn.memoizedState:Ei.next;if(f!==null)Ei=f,vi=u;else{if(u===null)throw Error(a(310));vi=u,u={memoizedState:vi.memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},Ei===null?jn.memoizedState=Ei=u:Ei=Ei.next=u}return Ei}function co(u,f){return typeof f=="function"?f(u):f}function ld(u){var f=gs(),v=f.queue;if(v===null)throw Error(a(311));v.lastRenderedReducer=u;var C=vi,L=C.baseQueue,z=v.pending;if(z!==null){if(L!==null){var re=L.next;L.next=z.next,z.next=re}C.baseQueue=L=z,v.pending=null}if(L!==null){z=L.next,C=C.baseState;var we=re=null,Le=null,$e=z;do{var ct=$e.lane;if((pr&ct)===ct)Le!==null&&(Le=Le.next={lane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),C=$e.hasEagerState?$e.eagerState:u(C,$e.action);else{var zt={lane:ct,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null};Le===null?(we=Le=zt,re=C):Le=Le.next=zt,jn.lanes|=ct,El|=ct}$e=$e.next}while($e!==null&&$e!==z);Le===null?re=C:Le.next=we,kr(C,f.memoizedState)||(jr=!0),f.memoizedState=C,f.baseState=re,f.baseQueue=Le,v.lastRenderedState=C}if(u=v.interleaved,u!==null){L=u;do z=L.lane,jn.lanes|=z,El|=z,L=L.next;while(L!==u)}else L===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function cd(u){var f=gs(),v=f.queue;if(v===null)throw Error(a(311));v.lastRenderedReducer=u;var C=v.dispatch,L=v.pending,z=f.memoizedState;if(L!==null){v.pending=null;var re=L=L.next;do z=u(z,re.action),re=re.next;while(re!==L);kr(z,f.memoizedState)||(jr=!0),f.memoizedState=z,f.baseQueue===null&&(f.baseState=z),v.lastRenderedState=z}return[z,C]}function a0(){}function o0(u,f){var v=jn,C=gs(),L=f(),z=!kr(C.memoizedState,L);if(z&&(C.memoizedState=L,jr=!0),C=C.queue,kc(u0.bind(null,v,C,u),[u]),C.getSnapshot!==f||z||Ei!==null&&Ei.memoizedState.tag&1){if(v.flags|=2048,Qi(9,c0.bind(null,v,C,L,f),void 0,null),En===null)throw Error(a(349));pr&30||l0(v,f,L)}return L}function l0(u,f,v){u.flags|=16384,u={getSnapshot:f,value:v},f=jn.updateQueue,f===null?(f={lastEffect:null,stores:null},jn.updateQueue=f,f.stores=[u]):(v=f.stores,v===null?f.stores=[u]:v.push(u))}function c0(u,f,v,C){f.value=v,f.getSnapshot=C,h0(f)&&ud(u)}function u0(u,f,v){return v(function(){h0(f)&&ud(u)})}function h0(u){var f=u.getSnapshot;u=u.value;try{var v=f();return!kr(u,v)}catch{return!0}}function ud(u){var f=hr(u,1);f!==null&&Ms(f,u,1,-1)}function Ou(u){var f=ta();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:u},f.queue=u,u=u.dispatch=my.bind(null,jn,u),[f.memoizedState,u]}function Qi(u,f,v,C){return u={tag:u,create:f,destroy:v,deps:C,next:null},f=jn.updateQueue,f===null?(f={lastEffect:null,stores:null},jn.updateQueue=f,f.lastEffect=u.next=u):(v=f.lastEffect,v===null?f.lastEffect=u.next=u:(C=v.next,v.next=u,u.next=C,f.lastEffect=u)),u}function ms(){return gs().memoizedState}function Pl(u,f,v,C){var L=ta();jn.flags|=u,L.memoizedState=Qi(1|f,v,void 0,C===void 0?null:C)}function Ll(u,f,v,C){var L=gs();C=C===void 0?null:C;var z=void 0;if(vi!==null){var re=vi.memoizedState;if(z=re.destroy,C!==null&&sd(C,re.deps)){L.memoizedState=Qi(f,v,z,C);return}}jn.flags|=u,L.memoizedState=Qi(1|f,v,z,C)}function d0(u,f){return Pl(8390656,8,u,f)}function kc(u,f){return Ll(2048,8,u,f)}function Iu(u,f){return Ll(4,2,u,f)}function hd(u,f){return Ll(4,4,u,f)}function f0(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function dd(u,f,v){return v=v!=null?v.concat([u]):null,Ll(4,4,f0.bind(null,f,u),v)}function Bu(){}function zu(u,f){var v=gs();f=f===void 0?null:f;var C=v.memoizedState;return C!==null&&f!==null&&sd(f,C[1])?C[0]:(v.memoizedState=[u,f],u)}function fd(u,f){var v=gs();f=f===void 0?null:f;var C=v.memoizedState;return C!==null&&f!==null&&sd(f,C[1])?C[0]:(u=u(),v.memoizedState=[u,f],u)}function Rg(u,f,v){return pr&21?(kr(v,f)||(v=Vo(),jn.lanes|=v,El|=v,u.baseState=!0),f):(u.baseState&&(u.baseState=!1,jr=!0),u.memoizedState=v)}function py(u,f){var v=Xe;Xe=v!==0&&4>v?v:4,u(!0);var C=Ko.transition;Ko.transition={};try{u(!1),f()}finally{Xe=v,Ko.transition=C}}function p0(){return gs().memoizedState}function gy(u,f,v){var C=po(u);if(v={lane:C,action:v,hasEagerState:!1,eagerState:null,next:null},Fg(u))Dg(f,v);else if(v=Cr(u,f,v,C),v!==null){var L=tr();Ms(v,u,C,L),Og(v,f,C)}}function my(u,f,v){var C=po(u),L={lane:C,action:v,hasEagerState:!1,eagerState:null,next:null};if(Fg(u))Dg(f,L);else{var z=u.alternate;if(u.lanes===0&&(z===null||z.lanes===0)&&(z=f.lastRenderedReducer,z!==null))try{var re=f.lastRenderedState,we=z(re,v);if(L.hasEagerState=!0,L.eagerState=we,kr(we,re)){var Le=f.interleaved;Le===null?(L.next=L,ur(f)):(L.next=Le.next,Le.next=L),f.interleaved=L;return}}catch{}finally{}v=Cr(u,f,L,C),v!==null&&(L=tr(),Ms(v,u,C,L),Og(v,f,C))}}function Fg(u){var f=u.alternate;return u===jn||f!==null&&f===jn}function Dg(u,f){Sc=Du=!0;var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}function Og(u,f,v){if(v&4194240){var C=f.lanes;C&=u.pendingLanes,v|=C,f.lanes=v,Nl(u,v)}}var Cc={readContext:Ti,useCallback:Yi,useContext:Yi,useEffect:Yi,useImperativeHandle:Yi,useInsertionEffect:Yi,useLayoutEffect:Yi,useMemo:Yi,useReducer:Yi,useRef:Yi,useState:Yi,useDebugValue:Yi,useDeferredValue:Yi,useTransition:Yi,useMutableSource:Yi,useSyncExternalStore:Yi,useId:Yi,unstable_isNewReconciler:!1},g0={readContext:Ti,useCallback:function(u,f){return ta().memoizedState=[u,f===void 0?null:f],u},useContext:Ti,useEffect:d0,useImperativeHandle:function(u,f,v){return v=v!=null?v.concat([u]):null,Pl(4194308,4,f0.bind(null,f,u),v)},useLayoutEffect:function(u,f){return Pl(4194308,4,u,f)},useInsertionEffect:function(u,f){return Pl(4,2,u,f)},useMemo:function(u,f){var v=ta();return f=f===void 0?null:f,u=u(),v.memoizedState=[u,f],u},useReducer:function(u,f,v){var C=ta();return f=v!==void 0?v(f):f,C.memoizedState=C.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},C.queue=u,u=u.dispatch=gy.bind(null,jn,u),[C.memoizedState,u]},useRef:function(u){var f=ta();return u={current:u},f.memoizedState=u},useState:Ou,useDebugValue:Bu,useDeferredValue:function(u){return ta().memoizedState=u},useTransition:function(){var u=Ou(!1),f=u[0];return u=py.bind(null,u[1]),ta().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,v){var C=jn,L=ta();if(it){if(v===void 0)throw Error(a(407));v=v()}else{if(v=f(),En===null)throw Error(a(349));pr&30||l0(C,f,v)}L.memoizedState=v;var z={value:v,getSnapshot:f};return L.queue=z,d0(u0.bind(null,C,z,u),[u]),C.flags|=2048,Qi(9,c0.bind(null,C,z,v,f),void 0,null),v},useId:function(){var u=ta(),f=En.identifierPrefix;if(it){var v=ge,C=ae;v=(C&~(1<<32-ds(C)-1)).toString(32)+v,f=":"+f+"R"+v,v=Nc++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=Mg++,f=":"+f+"r"+v.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},Uu={readContext:Ti,useCallback:zu,useContext:Ti,useEffect:kc,useImperativeHandle:dd,useInsertionEffect:Iu,useLayoutEffect:hd,useMemo:fd,useReducer:ld,useRef:ms,useState:function(){return ld(co)},useDebugValue:Bu,useDeferredValue:function(u){var f=gs();return Rg(f,vi.memoizedState,u)},useTransition:function(){var u=ld(co)[0],f=gs().memoizedState;return[u,f]},useMutableSource:a0,useSyncExternalStore:o0,useId:p0,unstable_isNewReconciler:!1},yy={readContext:Ti,useCallback:zu,useContext:Ti,useEffect:kc,useImperativeHandle:dd,useInsertionEffect:Iu,useLayoutEffect:hd,useMemo:fd,useReducer:cd,useRef:ms,useState:function(){return cd(co)},useDebugValue:Bu,useDeferredValue:function(u){var f=gs();return vi===null?f.memoizedState=u:Rg(f,vi.memoizedState,u)},useTransition:function(){var u=cd(co)[0],f=gs().memoizedState;return[u,f]},useMutableSource:a0,useSyncExternalStore:o0,useId:p0,unstable_isNewReconciler:!1};function na(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var v in u)f[v]===void 0&&(f[v]=u[v]);return f}return f}function pd(u,f,v,C){f=u.memoizedState,v=v(C,f),v=v==null?f:s({},f,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var gd={isMounted:function(u){return(u=u._reactInternals)?I(u)===u:!1},enqueueSetState:function(u,f,v){u=u._reactInternals;var C=tr(),L=po(u),z=dr(C,L);z.payload=f,v!=null&&(z.callback=v),f=Nn(u,z,L),f!==null&&(Ms(f,u,L,C),_c(f,u,L))},enqueueReplaceState:function(u,f,v){u=u._reactInternals;var C=tr(),L=po(u),z=dr(C,L);z.tag=1,z.payload=f,v!=null&&(z.callback=v),f=Nn(u,z,L),f!==null&&(Ms(f,u,L,C),_c(f,u,L))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var v=tr(),C=po(u),L=dr(v,C);L.tag=2,f!=null&&(L.callback=f),f=Nn(u,L,C),f!==null&&(Ms(f,u,C,v),_c(f,u,C))}};function Ig(u,f,v,C,L,z,re){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(C,z,re):f.prototype&&f.prototype.isPureReactComponent?!Hr(v,C)||!Hr(L,z):!0}function Bg(u,f,v){var C=!1,L=va,z=f.contextType;return typeof z=="object"&&z!==null?z=Ti(z):(L=yi(f)?ba:Yt.current,C=f.contextTypes,z=(C=C!=null)?zr(u,L):va),f=new f(v,z),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gd,u.stateNode=f,f._reactInternals=u,C&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=L,u.__reactInternalMemoizedMaskedChildContext=z),f}function zg(u,f,v,C){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,C),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,C),f.state!==u&&gd.enqueueReplaceState(f,f.state,null)}function Ea(u,f,v,C){var L=u.stateNode;L.props=v,L.state=u.memoizedState,L.refs={},Pa(u);var z=f.contextType;typeof z=="object"&&z!==null?L.context=Ti(z):(z=yi(f)?ba:Yt.current,L.context=zr(u,z)),L.state=u.memoizedState,z=f.getDerivedStateFromProps,typeof z=="function"&&(pd(u,f,z,v),L.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(f=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),f!==L.state&&gd.enqueueReplaceState(L,L.state,null),ps(u,v,L,C),L.state=u.memoizedState),typeof L.componentDidMount=="function"&&(u.flags|=4194308)}function gr(u,f){try{var v="",C=f;do v+=Fu(C),C=C.return;while(C);var L=v}catch(z){L=`
Error generating stack: `+z.message+`
`+z.stack}return{value:u,source:f,stack:L,digest:null}}function ia(u,f,v){return{value:u,source:null,stack:v??null,digest:f??null}}function m0(u,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var Ug=typeof WeakMap=="function"?WeakMap:Map;function uo(u,f,v){v=dr(-1,v),v.tag=3,v.payload={element:null};var C=f.value;return v.callback=function(){qu||(qu=!0,Pc=C),m0(u,f)},v}function ys(u,f,v){v=dr(-1,v),v.tag=3;var C=u.type.getDerivedStateFromError;if(typeof C=="function"){var L=f.value;v.payload=function(){return C(L)},v.callback=function(){m0(u,f)}}var z=u.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(v.callback=function(){m0(u,f),typeof C!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var re=f.stack;this.componentDidCatch(f.value,{componentStack:re!==null?re:""})}),v}function Vg(u,f,v){var C=u.pingCache;if(C===null){C=u.pingCache=new Ug;var L=new Set;C.set(f,L)}else L=C.get(f),L===void 0&&(L=new Set,C.set(f,L));L.has(v)||(L.add(v),u=kT.bind(null,u,f,v),f.then(u,u))}function Hg(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function y0(u,f,v,C,L){return u.mode&1?(u.flags|=65536,u.lanes=L,u):(u===f?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=dr(-1,1),f.tag=2,Nn(v,f,1))),v.lanes|=1),u)}var $g=o.ReactCurrentOwner,jr=!1;function mr(u,f,v,C){f.child=u===null?Cl(f,null,v,C):$r(f,u.child,v,C)}function Gg(u,f,v,C,L){v=v.render;var z=f.ref;return Aa(f,L),C=ad(u,f,v,C,z,L),v=od(),u!==null&&!jr?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~L,T(u,f,L)):(it&&v&&Ie(f),f.flags|=1,mr(u,f,C,L),f.child)}function Vu(u,f,v,C,L){if(u===null){var z=v.type;return typeof z=="function"&&!by(z)&&z.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=z,Hu(u,f,z,C,L)):(u=Zg(v.type,null,C,f,f.mode,L),u.ref=f.ref,u.return=f,f.child=u)}if(z=u.child,!(u.lanes&L)){var re=z.memoizedProps;if(v=v.compare,v=v!==null?v:Hr,v(re,C)&&u.ref===f.ref)return T(u,f,L)}return f.flags|=1,u=Ec(z,C),u.ref=f.ref,u.return=f,f.child=u}function Hu(u,f,v,C,L){if(u!==null){var z=u.memoizedProps;if(Hr(z,C)&&u.ref===f.ref)if(jr=!1,f.pendingProps=C=z,(u.lanes&L)!==0)u.flags&131072&&(jr=!0);else return f.lanes=u.lanes,T(u,f,L)}return x0(u,f,v,C,L)}function jc(u,f,v){var C=f.pendingProps,L=C.children,z=u!==null?u.memoizedState:null;if(C.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(ho,Tr),Tr|=v;else{if(!(v&1073741824))return u=z!==null?z.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,hn(ho,Tr),Tr|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=z!==null?z.baseLanes:v,hn(ho,Tr),Tr|=C}else z!==null?(C=z.baseLanes|v,f.memoizedState=null):C=v,hn(ho,Tr),Tr|=C;return mr(u,f,L,v),f.child}function md(u,f){var v=f.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function x0(u,f,v,C,L){var z=yi(v)?ba:Yt.current;return z=zr(f,z),Aa(f,L),v=ad(u,f,v,C,z,L),C=od(),u!==null&&!jr?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~L,T(u,f,L)):(it&&C&&Ie(f),f.flags|=1,mr(u,f,v,L),f.child)}function v0(u,f,v,C,L){if(yi(v)){var z=!0;Uo(f)}else z=!1;if(Aa(f,L),f.stateNode===null)_(u,f),Bg(f,v,C),Ea(f,v,C,L),C=!0;else if(u===null){var re=f.stateNode,we=f.memoizedProps;re.props=we;var Le=re.context,$e=v.contextType;typeof $e=="object"&&$e!==null?$e=Ti($e):($e=yi(v)?ba:Yt.current,$e=zr(f,$e));var ct=v.getDerivedStateFromProps,zt=typeof ct=="function"||typeof re.getSnapshotBeforeUpdate=="function";zt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(we!==C||Le!==$e)&&zg(f,re,C,$e),Ki=!1;var Je=f.memoizedState;re.state=Je,ps(f,C,re,L),Le=f.memoizedState,we!==C||Je!==Le||Wi.current||Ki?(typeof ct=="function"&&(pd(f,v,ct,C),Le=f.memoizedState),(we=Ki||Ig(f,v,we,C,Je,Le,$e))?(zt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(f.flags|=4194308)):(typeof re.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=C,f.memoizedState=Le),re.props=C,re.state=Le,re.context=$e,C=we):(typeof re.componentDidMount=="function"&&(f.flags|=4194308),C=!1)}else{re=f.stateNode,wc(u,f),we=f.memoizedProps,$e=f.type===f.elementType?we:na(f.type,we),re.props=$e,zt=f.pendingProps,Je=re.context,Le=v.contextType,typeof Le=="object"&&Le!==null?Le=Ti(Le):(Le=yi(v)?ba:Yt.current,Le=zr(f,Le));var Xn=v.getDerivedStateFromProps;(ct=typeof Xn=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(we!==zt||Je!==Le)&&zg(f,re,C,Le),Ki=!1,Je=f.memoizedState,re.state=Je,ps(f,C,re,L);var Rn=f.memoizedState;we!==zt||Je!==Rn||Wi.current||Ki?(typeof Xn=="function"&&(pd(f,v,Xn,C),Rn=f.memoizedState),($e=Ki||Ig(f,v,$e,C,Je,Rn,Le)||!1)?(ct||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(C,Rn,Le),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(C,Rn,Le)),typeof re.componentDidUpdate=="function"&&(f.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof re.componentDidUpdate!="function"||we===u.memoizedProps&&Je===u.memoizedState||(f.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||we===u.memoizedProps&&Je===u.memoizedState||(f.flags|=1024),f.memoizedProps=C,f.memoizedState=Rn),re.props=C,re.state=Rn,re.context=Le,C=$e):(typeof re.componentDidUpdate!="function"||we===u.memoizedProps&&Je===u.memoizedState||(f.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||we===u.memoizedProps&&Je===u.memoizedState||(f.flags|=1024),C=!1)}return b0(u,f,v,C,z,L)}function b0(u,f,v,C,L,z){md(u,f);var re=(f.flags&128)!==0;if(!C&&!re)return L&&td(f,v,!1),T(u,f,z);C=f.stateNode,$g.current=f;var we=re&&typeof v.getDerivedStateFromError!="function"?null:C.render();return f.flags|=1,u!==null&&re?(f.child=$r(f,u.child,null,z),f.child=$r(f,null,we,z)):mr(u,f,we,z),f.memoizedState=C.state,L&&td(f,v,!0),f.child}function qg(u){var f=u.stateNode;f.pendingContext?zo(u,f.pendingContext,f.pendingContext!==f.context):f.context&&zo(u,f.context,!1),ea(u,f.containerInfo)}function Wg(u,f,v,C,L){return Go(),vc(L),f.flags|=256,mr(u,f,v,C),f.child}var w0={dehydrated:null,treeContext:null,retryLane:0};function _0(u){return{baseLanes:u,cachePool:null,transitions:null}}function Kg(u,f,v){var C=f.pendingProps,L=kt.current,z=!1,re=(f.flags&128)!==0,we;if((we=re)||(we=u!==null&&u.memoizedState===null?!1:(L&2)!==0),we?(z=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(L|=1),hn(kt,L&1),u===null)return ii(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?On(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(re=C.children,u=C.fallback,z?(C=f.mode,z=f.child,re={mode:"hidden",children:re},!(C&1)&&z!==null?(z.childLanes=0,z.pendingProps=re):z=em(re,C,0,null),u=Xu(u,C,v,null),z.return=f,u.return=f,z.sibling=u,f.child=z,f.child.memoizedState=_0(v),f.memoizedState=w0,u):yd(f,re));if(L=u.memoizedState,L!==null&&(we=L.dehydrated,we!==null))return xy(u,f,re,C,we,L,v);if(z){z=C.fallback,re=f.mode,L=u.child,we=L.sibling;var Le={mode:"hidden",children:C.children};return!(re&1)&&f.child!==L?(C=f.child,C.childLanes=0,C.pendingProps=Le,f.deletions=null):(C=Ec(L,Le),C.subtreeFlags=L.subtreeFlags&14680064),we!==null?z=Ec(we,z):(z=Xu(z,re,v,null),z.flags|=2),z.return=f,C.return=f,C.sibling=z,f.child=C,C=z,z=f.child,re=u.child.memoizedState,re=re===null?_0(v):{baseLanes:re.baseLanes|v,cachePool:null,transitions:re.transitions},z.memoizedState=re,z.childLanes=u.childLanes&~v,f.memoizedState=w0,C}return z=u.child,u=z.sibling,C=Ec(z,{mode:"visible",children:C.children}),!(f.mode&1)&&(C.lanes=v),C.return=f,C.sibling=null,u!==null&&(v=f.deletions,v===null?(f.deletions=[u],f.flags|=16):v.push(u)),f.child=C,f.memoizedState=null,C}function yd(u,f){return f=em({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function Tl(u,f,v,C){return C!==null&&vc(C),$r(f,u.child,null,v),u=yd(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function xy(u,f,v,C,L,z,re){if(v)return f.flags&256?(f.flags&=-257,C=ia(Error(a(422))),Tl(u,f,re,C)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(z=C.fallback,L=f.mode,C=em({mode:"visible",children:C.children},L,0,null),z=Xu(z,L,re,null),z.flags|=2,C.return=f,z.return=f,C.sibling=z,f.child=C,f.mode&1&&$r(f,u.child,null,re),f.child.memoizedState=_0(re),f.memoizedState=w0,z);if(!(f.mode&1))return Tl(u,f,re,null);if(On(L))return C=Vi(L).digest,z=Error(a(419)),C=ia(z,C,void 0),Tl(u,f,re,C);if(v=(re&u.childLanes)!==0,jr||v){if(C=En,C!==null){switch(re&-re){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=L&(C.suspendedLanes|re)?0:L,L!==0&&L!==z.retryLane&&(z.retryLane=L,hr(u,L),Ms(C,u,L,-1))}return Oa(),C=ia(Error(a(421))),Tl(u,f,re,C)}return hs(L)?(f.flags|=128,f.child=u.child,f=CT.bind(null,u),qi(L,f),null):(u=z.treeContext,ze&&(yt=ya(L),Qe=f,it=!0,rn=null,Qt=!1,u!==null&&(ci[A++]=ae,ci[A++]=ge,ci[A++]=H,ae=u.id,ge=u.overflow,H=f)),f=yd(f,C.children),f.flags|=4096,f)}function Xg(u,f,v){u.lanes|=f;var C=u.alternate;C!==null&&(C.lanes|=f),jl(u.return,f,v)}function xd(u,f,v,C,L){var z=u.memoizedState;z===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:C,tail:v,tailMode:L}:(z.isBackwards=f,z.rendering=null,z.renderingStartTime=0,z.last=C,z.tail=v,z.tailMode=L)}function y(u,f,v){var C=f.pendingProps,L=C.revealOrder,z=C.tail;if(mr(u,f,C.children,v),C=kt.current,C&2)C=C&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Xg(u,v,f);else if(u.tag===19)Xg(u,v,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}C&=1}if(hn(kt,C),!(f.mode&1))f.memoizedState=null;else switch(L){case"forwards":for(v=f.child,L=null;v!==null;)u=v.alternate,u!==null&&bn(u)===null&&(L=v),v=v.sibling;v=L,v===null?(L=f.child,f.child=null):(L=v.sibling,v.sibling=null),xd(f,!1,L,v,z);break;case"backwards":for(v=null,L=f.child,f.child=null;L!==null;){if(u=L.alternate,u!==null&&bn(u)===null){f.child=L;break}u=L.sibling,L.sibling=v,v=L,L=u}xd(f,!0,v,null,z);break;case"together":xd(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function _(u,f){!(f.mode&1)&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function T(u,f,v){if(u!==null&&(f.dependencies=u.dependencies),El|=f.lanes,!(v&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(a(153));if(f.child!==null){for(u=f.child,v=Ec(u,u.pendingProps),f.child=v,v.return=f;u.sibling!==null;)u=u.sibling,v=v.sibling=Ec(u,u.pendingProps),v.return=f;v.sibling=null}return f.child}function D(u,f,v){switch(f.tag){case 3:qg(f),Go();break;case 5:qr(f);break;case 1:yi(f.type)&&Uo(f);break;case 4:ea(f,f.stateNode.containerInfo);break;case 10:xi(f,f.type._context,f.memoizedProps.value);break;case 13:var C=f.memoizedState;if(C!==null)return C.dehydrated!==null?(hn(kt,kt.current&1),f.flags|=128,null):v&f.child.childLanes?Kg(u,f,v):(hn(kt,kt.current&1),u=T(u,f,v),u!==null?u.sibling:null);hn(kt,kt.current&1);break;case 19:if(C=(v&f.childLanes)!==0,u.flags&128){if(C)return y(u,f,v);f.flags|=128}var L=f.memoizedState;if(L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),hn(kt,kt.current),C)break;return null;case 22:case 23:return f.lanes=0,jc(u,f,v)}return T(u,f,v)}function V(u){u.flags|=4}function q(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var W,J,ne,oe;if(Te)W=function(u,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)B(u,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},J=function(){},ne=function(u,f,v,C,L){if(u=u.memoizedProps,u!==C){var z=f.stateNode,re=fr(Xi.current);v=ie(z,v,u,C,L,re),(f.updateQueue=v)&&V(f)}},oe=function(u,f,v,C){v!==C&&V(f)};else if(Ue){W=function(u,f,v,C){for(var L=f.child;L!==null;){if(L.tag===5){var z=L.stateNode;v&&C&&(z=qs(z,L.type,L.memoizedProps,L)),B(u,z)}else if(L.tag===6)z=L.stateNode,v&&C&&(z=St(z,L.memoizedProps,L)),B(u,z);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)z=L.child,z!==null&&(z.return=L),W(u,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===f)break;for(;L.sibling===null;){if(L.return===null||L.return===f)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};var ye=function(u,f,v,C){for(var L=f.child;L!==null;){if(L.tag===5){var z=L.stateNode;v&&C&&(z=qs(z,L.type,L.memoizedProps,L)),Oo(u,z)}else if(L.tag===6)z=L.stateNode,v&&C&&(z=St(z,L.memoizedProps,L)),Oo(u,z);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)z=L.child,z!==null&&(z.return=L),ye(u,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===f)break;for(;L.sibling===null;){if(L.return===null||L.return===f)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};J=function(u,f){var v=f.stateNode;if(!q(u,f)){u=v.containerInfo;var C=un(u);ye(C,f,!1,!1),v.pendingChildren=C,V(f),lr(u,C)}},ne=function(u,f,v,C,L){var z=u.stateNode,re=u.memoizedProps;if((u=q(u,f))&&re===C)f.stateNode=z;else{var we=f.stateNode,Le=fr(Xi.current),$e=null;re!==C&&($e=ie(we,v,re,C,L,Le)),u&&$e===null?f.stateNode=z:(z=Pt(z,$e,v,re,C,f,u,we),K(z,v,C,L,Le)&&V(f),f.stateNode=z,u?V(f):W(z,f,!1,!1))}},oe=function(u,f,v,C){v!==C?(u=fr(Ps.current),v=fr(Xi.current),f.stateNode=de(C,u,v,f),V(f)):f.stateNode=u.stateNode}}else J=function(){},ne=function(){},oe=function(){};function ke(u,f){if(!it)switch(u.tailMode){case"hidden":f=u.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var C=null;v!==null;)v.alternate!==null&&(C=v),v=v.sibling;C===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:C.sibling=null}}function se(u){var f=u.alternate!==null&&u.alternate.child===u.child,v=0,C=0;if(f)for(var L=u.child;L!==null;)v|=L.lanes|L.childLanes,C|=L.subtreeFlags&14680064,C|=L.flags&14680064,L.return=u,L=L.sibling;else for(L=u.child;L!==null;)v|=L.lanes|L.childLanes,C|=L.subtreeFlags,C|=L.flags,L.return=u,L=L.sibling;return u.subtreeFlags|=C,u.childLanes=v,f}function xe(u,f,v){var C=f.pendingProps;switch(nt(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(f),null;case 1:return yi(f.type)&&Ur(),se(f),null;case 3:return v=f.stateNode,Ta(),Sn(Wi),Sn(Yt),$n(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(u===null||u.child===null)&&(js(f)?V(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,rn!==null&&(_d(rn),rn=null))),J(u,f),se(f),null;case 5:Ls(f),v=fr(Ps.current);var L=f.type;if(u!==null&&f.stateNode!=null)ne(u,f,L,C,v),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!C){if(f.stateNode===null)throw Error(a(166));return se(f),null}if(u=fr(Xi.current),js(f)){if(!ze)throw Error(a(175));u=Ks(f.stateNode,f.type,f.memoizedProps,v,u,f,!Qt),f.updateQueue=u,u!==null&&V(f)}else{var z=Y(L,C,v,u,f);W(z,f,!1,!1),f.stateNode=z,K(z,L,C,v,u)&&V(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return se(f),null;case 6:if(u&&f.stateNode!=null)oe(u,f,u.memoizedProps,C);else{if(typeof C!="string"&&f.stateNode===null)throw Error(a(166));if(u=fr(Ps.current),v=fr(Xi.current),js(f)){if(!ze)throw Error(a(176));if(u=f.stateNode,v=f.memoizedProps,(C=Xs(u,v,f,!Qt))&&(L=Qe,L!==null))switch(L.tag){case 3:Zf(L.stateNode.containerInfo,u,v,(L.mode&1)!==0);break;case 5:Tu(L.type,L.memoizedProps,L.stateNode,u,v,(L.mode&1)!==0)}C&&V(f)}else f.stateNode=de(C,u,v,f)}return se(f),null;case 13:if(Sn(kt),C=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(it&&yt!==null&&f.mode&1&&!(f.flags&128))ao(),Go(),f.flags|=98560,L=!1;else if(L=js(f),C!==null&&C.dehydrated!==null){if(u===null){if(!L)throw Error(a(318));if(!ze)throw Error(a(344));if(L=f.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(a(317));ks(L,f)}else Go(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;se(f),L=!1}else rn!==null&&(_d(rn),rn=null),L=!0;if(!L)return f.flags&65536?f:null}return f.flags&128?(f.lanes=v,f):(v=C!==null,v!==(u!==null&&u.memoizedState!==null)&&v&&(f.child.flags|=8192,f.mode&1&&(u===null||kt.current&1?Kn===0&&(Kn=3):Oa())),f.updateQueue!==null&&(f.flags|=4),se(f),null);case 4:return Ta(),J(u,f),u===null&&le(f.stateNode.containerInfo),se(f),null;case 10:return Gr(f.type._context),se(f),null;case 17:return yi(f.type)&&Ur(),se(f),null;case 19:if(Sn(kt),L=f.memoizedState,L===null)return se(f),null;if(C=(f.flags&128)!==0,z=L.rendering,z===null)if(C)ke(L,!1);else{if(Kn!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(z=bn(u),z!==null){for(f.flags|=128,ke(L,!1),u=z.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=v,v=f.child;v!==null;)C=v,L=u,C.flags&=14680066,z=C.alternate,z===null?(C.childLanes=0,C.lanes=L,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=z.childLanes,C.lanes=z.lanes,C.child=z.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=z.memoizedProps,C.memoizedState=z.memoizedState,C.updateQueue=z.updateQueue,C.type=z.type,L=z.dependencies,C.dependencies=L===null?null:{lanes:L.lanes,firstContext:L.firstContext}),v=v.sibling;return hn(kt,kt.current&1|2),f.child}u=u.sibling}L.tail!==null&&Tn()>vd&&(f.flags|=128,C=!0,ke(L,!1),f.lanes=4194304)}else{if(!C)if(u=bn(z),u!==null){if(f.flags|=128,C=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),ke(L,!0),L.tail===null&&L.tailMode==="hidden"&&!z.alternate&&!it)return se(f),null}else 2*Tn()-L.renderingStartTime>vd&&v!==1073741824&&(f.flags|=128,C=!0,ke(L,!1),f.lanes=4194304);L.isBackwards?(z.sibling=f.child,f.child=z):(u=L.last,u!==null?u.sibling=z:f.child=z,L.last=z)}return L.tail!==null?(f=L.tail,L.rendering=f,L.tail=f.sibling,L.renderingStartTime=Tn(),f.sibling=null,u=kt.current,hn(kt,C?u&1|2:u&1),f):(se(f),null);case 22:case 23:return Wu(),v=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==v&&(f.flags|=8192),v&&f.mode&1?Tr&1073741824&&(se(f),Te&&f.subtreeFlags&6&&(f.flags|=8192)):se(f),null;case 24:return null;case 25:return null}throw Error(a(156,f.tag))}function Ne(u,f){switch(nt(f),f.tag){case 1:return yi(f.type)&&Ur(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Ta(),Sn(Wi),Sn(Yt),$n(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return Ls(f),null;case 13:if(Sn(kt),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(a(340));Go()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Sn(kt),null;case 4:return Ta(),null;case 10:return Gr(f.type._context),null;case 22:case 23:return Wu(),null;case 24:return null;default:return null}}var Me=!1,_e=!1,Fe=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Be(u,f){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(C){ri(u,f,C)}else v.current=null}function Oe(u,f,v){try{v()}catch(C){ri(u,f,C)}}var pt=!1;function rt(u,f){for(te(u.containerInfo),ve=f;ve!==null;)if(u=ve,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,ve=f;else for(;ve!==null;){u=ve;try{var v=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var C=v.memoizedProps,L=v.memoizedState,z=u.stateNode,re=z.getSnapshotBeforeUpdate(u.elementType===u.type?C:na(u.type,C),L);z.__reactInternalSnapshotBeforeUpdate=re}break;case 3:Te&&Cn(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(we){ri(u,u.return,we)}if(f=u.sibling,f!==null){f.return=u.return,ve=f;break}ve=u.return}return v=pt,pt=!1,v}function Lt(u,f,v){var C=f.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var L=C=C.next;do{if((L.tag&u)===u){var z=L.destroy;L.destroy=void 0,z!==void 0&&Oe(f,v,z)}L=L.next}while(L!==C)}}function st(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&u)===u){var C=v.create;v.destroy=C()}v=v.next}while(v!==f)}}function qt(u){var f=u.ref;if(f!==null){var v=u.stateNode;switch(u.tag){case 5:u=ce(v);break;default:u=v}typeof f=="function"?f(u):f.current=u}}function bi(u){var f=u.alternate;f!==null&&(u.alternate=null,bi(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&bt(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function It(u){return u.tag===5||u.tag===3||u.tag===4}function lt(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||It(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function We(u,f,v){var C=u.tag;if(C===5||C===6)u=u.stateNode,f?mt(v,u,f):ot(v,u);else if(C!==4&&(u=u.child,u!==null))for(We(u,f,v),u=u.sibling;u!==null;)We(u,f,v),u=u.sibling}function Gn(u,f,v){var C=u.tag;if(C===5||C===6)u=u.stateNode,f?nn(v,u,f):ft(v,u);else if(C!==4&&(u=u.child,u!==null))for(Gn(u,f,v),u=u.sibling;u!==null;)Gn(u,f,v),u=u.sibling}var gt=null,Mt=!1;function Zt(u,f,v){for(v=v.child;v!==null;)Mi(u,f,v),v=v.sibling}function Mi(u,f,v){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Sa,v)}catch{}switch(v.tag){case 5:_e||Be(v,f);case 6:if(Te){var C=gt,L=Mt;gt=null,Zt(u,f,v),gt=C,Mt=L,gt!==null&&(Mt?kn(gt,v.stateNode):Dt(gt,v.stateNode))}else Zt(u,f,v);break;case 18:Te&&gt!==null&&(Mt?dc(gt,v.stateNode):hc(gt,v.stateNode));break;case 4:Te?(C=gt,L=Mt,gt=v.stateNode.containerInfo,Mt=!0,Zt(u,f,v),gt=C,Mt=L):(Ue&&(C=v.stateNode.containerInfo,L=un(C),Gs(C,L)),Zt(u,f,v));break;case 0:case 11:case 14:case 15:if(!_e&&(C=v.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){L=C=C.next;do{var z=L,re=z.destroy;z=z.tag,re!==void 0&&(z&2||z&4)&&Oe(v,f,re),L=L.next}while(L!==C)}Zt(u,f,v);break;case 1:if(!_e&&(Be(v,f),C=v.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=v.memoizedProps,C.state=v.memoizedState,C.componentWillUnmount()}catch(we){ri(v,f,we)}Zt(u,f,v);break;case 21:Zt(u,f,v);break;case 22:v.mode&1?(_e=(C=_e)||v.memoizedState!==null,Zt(u,f,v),_e=C):Zt(u,f,v);break;default:Zt(u,f,v)}}function yr(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new Fe),f.forEach(function(C){var L=jT.bind(null,u,C);v.has(C)||(v.add(C),C.then(L,L))})}}function ln(u,f){var v=f.deletions;if(v!==null)for(var C=0;C<v.length;C++){var L=v[C];try{var z=u,re=f;if(Te){var we=re;e:for(;we!==null;){switch(we.tag){case 5:gt=we.stateNode,Mt=!1;break e;case 3:gt=we.stateNode.containerInfo,Mt=!0;break e;case 4:gt=we.stateNode.containerInfo,Mt=!0;break e}we=we.return}if(gt===null)throw Error(a(160));Mi(z,re,L),gt=null,Mt=!1}else Mi(z,re,L);var Le=L.alternate;Le!==null&&(Le.return=null),L.return=null}catch($e){ri(L,f,$e)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)Ji(f,u),f=f.sibling}function Ji(u,f){var v=u.alternate,C=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(ln(f,u),In(u),C&4){try{Lt(3,u,u.return),st(3,u)}catch(Je){ri(u,u.return,Je)}try{Lt(5,u,u.return)}catch(Je){ri(u,u.return,Je)}}break;case 1:ln(f,u),In(u),C&512&&v!==null&&Be(v,v.return);break;case 5:if(ln(f,u),In(u),C&512&&v!==null&&Be(v,v.return),Te){if(u.flags&32){var L=u.stateNode;try{_t(L)}catch(Je){ri(u,u.return,Je)}}if(C&4&&(L=u.stateNode,L!=null)){var z=u.memoizedProps;if(v=v!==null?v.memoizedProps:z,C=u.type,f=u.updateQueue,u.updateQueue=null,f!==null)try{on(L,f,C,v,z,u)}catch(Je){ri(u,u.return,Je)}}}break;case 6:if(ln(f,u),In(u),C&4&&Te){if(u.stateNode===null)throw Error(a(162));L=u.stateNode,z=u.memoizedProps,v=v!==null?v.memoizedProps:z;try{wt(L,v,z)}catch(Je){ri(u,u.return,Je)}}break;case 3:if(ln(f,u),In(u),C&4){if(Te&&ze&&v!==null&&v.memoizedState.isDehydrated)try{xa(f.containerInfo)}catch(Je){ri(u,u.return,Je)}if(Ue){L=f.containerInfo,z=f.pendingChildren;try{Gs(L,z)}catch(Je){ri(u,u.return,Je)}}}break;case 4:if(ln(f,u),In(u),C&4&&Ue){z=u.stateNode,L=z.containerInfo,z=z.pendingChildren;try{Gs(L,z)}catch(Je){ri(u,u.return,Je)}}break;case 13:ln(f,u),In(u),L=u.child,L.flags&8192&&(z=L.memoizedState!==null,L.stateNode.isHidden=z,!z||L.alternate!==null&&L.alternate.memoizedState!==null||(S0=Tn())),C&4&&yr(u);break;case 22:var re=v!==null&&v.memoizedState!==null;if(u.mode&1?(_e=(v=_e)||re,ln(f,u),_e=v):ln(f,u),In(u),C&8192){if(v=u.memoizedState!==null,(u.stateNode.isHidden=v)&&!re&&u.mode&1)for(ve=u,C=u.child;C!==null;){for(f=ve=C;ve!==null;){re=ve;var we=re.child;switch(re.tag){case 0:case 11:case 14:case 15:Lt(4,re,re.return);break;case 1:Be(re,re.return);var Le=re.stateNode;if(typeof Le.componentWillUnmount=="function"){var $e=re,ct=re.return;try{var zt=$e;Le.props=zt.memoizedProps,Le.state=zt.memoizedState,Le.componentWillUnmount()}catch(Je){ri($e,ct,Je)}}break;case 5:Be(re,re.return);break;case 22:if(re.memoizedState!==null){qn(f);continue}}we!==null?(we.return=re,ve=we):qn(f)}C=C.sibling}if(Te){e:if(C=null,Te)for(f=u;;){if(f.tag===5){if(C===null){C=f;try{L=f.stateNode,v?Xt(L):li(f.stateNode,f.memoizedProps)}catch(Je){ri(u,u.return,Je)}}}else if(f.tag===6){if(C===null)try{z=f.stateNode,v?Ot(z):Pi(z,f.memoizedProps)}catch(Je){ri(u,u.return,Je)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;C===f&&(C=null),f=f.return}C===f&&(C=null),f.sibling.return=f.return,f=f.sibling}}}break;case 19:ln(f,u),In(u),C&4&&yr(u);break;case 21:break;default:ln(f,u),In(u)}}function In(u){var f=u.flags;if(f&2){try{if(Te){e:{for(var v=u.return;v!==null;){if(It(v)){var C=v;break e}v=v.return}throw Error(a(160))}switch(C.tag){case 5:var L=C.stateNode;C.flags&32&&(_t(L),C.flags&=-33);var z=lt(u);Gn(u,z,L);break;case 3:case 4:var re=C.stateNode.containerInfo,we=lt(u);We(u,we,re);break;default:throw Error(a(161))}}}catch(Le){ri(u,u.return,Le)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function Ri(u,f,v){ve=u,en(u)}function en(u,f,v){for(var C=(u.mode&1)!==0;ve!==null;){var L=ve,z=L.child;if(L.tag===22&&C){var re=L.memoizedState!==null||Me;if(!re){var we=L.alternate,Le=we!==null&&we.memoizedState!==null||_e;we=Me;var $e=_e;if(Me=re,(_e=Le)&&!$e)for(ve=L;ve!==null;)re=ve,Le=re.child,re.tag===22&&re.memoizedState!==null?gn(L):Le!==null?(Le.return=re,ve=Le):gn(L);for(;z!==null;)ve=z,en(z),z=z.sibling;ve=L,Me=we,_e=$e}pn(u)}else L.subtreeFlags&8772&&z!==null?(z.return=L,ve=z):pn(u)}}function pn(u){for(;ve!==null;){var f=ve;if(f.flags&8772){var v=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:_e||st(5,f);break;case 1:var C=f.stateNode;if(f.flags&4&&!_e)if(v===null)C.componentDidMount();else{var L=f.elementType===f.type?v.memoizedProps:na(f.type,v.memoizedProps);C.componentDidUpdate(L,v.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var z=f.updateQueue;z!==null&&Al(f,z,C);break;case 3:var re=f.updateQueue;if(re!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=ce(f.child.stateNode);break;case 1:v=f.child.stateNode}Al(f,re,v)}break;case 5:var we=f.stateNode;v===null&&f.flags&4&&tt(we,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(ze&&f.memoizedState===null){var Le=f.alternate;if(Le!==null){var $e=Le.memoizedState;if($e!==null){var ct=$e.dehydrated;ct!==null&&yl(ct)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}_e||f.flags&512&&qt(f)}catch(zt){ri(f,f.return,zt)}}if(f===u){ve=null;break}if(v=f.sibling,v!==null){v.return=f.return,ve=v;break}ve=f.return}}function qn(u){for(;ve!==null;){var f=ve;if(f===u){ve=null;break}var v=f.sibling;if(v!==null){v.return=f.return,ve=v;break}ve=f.return}}function gn(u){for(;ve!==null;){var f=ve;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{st(4,f)}catch(Le){ri(f,v,Le)}break;case 1:var C=f.stateNode;if(typeof C.componentDidMount=="function"){var L=f.return;try{C.componentDidMount()}catch(Le){ri(f,L,Le)}}var z=f.return;try{qt(f)}catch(Le){ri(f,z,Le)}break;case 5:var re=f.return;try{qt(f)}catch(Le){ri(f,re,Le)}}}catch(Le){ri(f,f.return,Le)}if(f===u){ve=null;break}var we=f.sibling;if(we!==null){we.return=f.return,ve=we;break}ve=f.return}}var wi=0,Wr=1,Bn=2,Zi=3,mn=4;if(typeof Symbol=="function"&&Symbol.for){var Wn=Symbol.for;wi=Wn("selector.component"),Wr=Wn("selector.has_pseudo_class"),Bn=Wn("selector.role"),Zi=Wn("selector.test_id"),mn=Wn("selector.text")}function Ar(u){var f=je(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(a(364));return f}if(u=Ke(u),u===null)throw Error(a(362));return u.stateNode.current}function er(u,f){switch(f.$$typeof){case wi:if(u.type===f.value)return!0;break;case Wr:e:{f=f.value,u=[u,0];for(var v=0;v<u.length;){var C=u[v++],L=u[v++],z=f[L];if(C.tag!==5||!qe(C)){for(;z!=null&&er(C,z);)L++,z=f[L];if(L===f.length){f=!0;break e}else for(C=C.child;C!==null;)u.push(C,L),C=C.sibling}}f=!1}return f;case Bn:if(u.tag===5&&Ge(u.stateNode,f.value))return!0;break;case mn:if((u.tag===5||u.tag===6)&&(u=Ee(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case Zi:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Pr(u){switch(u.$$typeof){case wi:return"<"+(U(u.value)||"Unknown")+">";case Wr:return":has("+(Pr(u)||"")+")";case Bn:return'[role="'+u.value+'"]';case mn:return'"'+u.value+'"';case Zi:return'[data-testname="'+u.value+'"]';default:throw Error(a(365))}}function Kr(u,f){var v=[];u=[u,0];for(var C=0;C<u.length;){var L=u[C++],z=u[C++],re=f[z];if(L.tag!==5||!qe(L)){for(;re!=null&&er(L,re);)z++,re=f[z];if(z===f.length)v.push(L);else for(L=L.child;L!==null;)u.push(L,z),L=L.sibling}}return v}function xr(u,f){if(!Ye)throw Error(a(363));u=Ar(u),u=Kr(u,f),f=[],u=Array.from(u);for(var v=0;v<u.length;){var C=u[v++];if(C.tag===5)qe(C)||f.push(C.stateNode);else for(C=C.child;C!==null;)u.push(C),C=C.sibling}return f}var xs=Math.ceil,wn=o.ReactCurrentDispatcher,Lr=o.ReactCurrentOwner,dn=o.ReactCurrentBatchConfig,Rt=0,En=null,Wt=null,_i=0,Tr=0,ho=Ys(0),Kn=0,$u=null,El=0,Ac=0,Ma=0,Gu=null,Xr=null,S0=0,vd=1/0,Es=null;function Ml(){vd=Tn()+500}var qu=!1,Pc=null,Ra=null,Xo=!1,fo=null,bd=0,Yo=0,wd=null,Lc=-1,ra=0;function tr(){return Rt&6?Tn():Lc!==-1?Lc:Lc=Tn()}function po(u){return u.mode&1?Rt&2&&_i!==0?_i&-_i:kl.transition!==null?(ra===0&&(ra=Vo()),ra):(u=Xe,u!==0?u:At()):1}function Ms(u,f,v,C){if(50<Yo)throw Yo=0,wd=null,Error(a(185));_l(u,v,C),(!(Rt&2)||u!==En)&&(u===En&&(!(Rt&2)&&(Ac|=v),Kn===4&&go(u,_i)),Er(u,C),v===1&&Rt===0&&!(f.mode&1)&&(Ml(),Na&&Vr()))}function Er(u,f){var v=u.callbackNode;n0(u,f);var C=gc(u,u===En?_i:0);if(C===0)v!==null&&rd(v),u.callbackNode=null,u.callbackPriority=0;else if(f=C&-C,u.callbackPriority!==f){if(v!=null&&rd(v),f===1)u.tag===0?xc(Yg.bind(null,u)):yc(Yg.bind(null,u)),ht?Ve(function(){!(Rt&6)&&Vr()}):Eu(Mu,Vr),v=null;else{switch(id(C)){case 1:v=Mu;break;case 4:v=r0;break;case 16:v=Ho;break;case 536870912:v=Ru;break;default:v=Ho}v=Rw(v,Rl.bind(null,u))}u.callbackPriority=f,u.callbackNode=v}}function Rl(u,f){if(Lc=-1,ra=0,Rt&6)throw Error(a(327));var v=u.callbackNode;if(Ku()&&u.callbackNode!==v)return null;var C=gc(u,u===En?_i:0);if(C===0)return null;if(C&30||C&u.expiredLanes||f)f=Fl(u,C);else{f=C;var L=Rt;Rt|=2;var z=mo();(En!==u||_i!==f)&&(Es=null,Ml(),Fa(u,f));do try{Qg();break}catch(we){Da(u,we)}while(!0);bc(),wn.current=z,Rt=L,Wt!==null?f=0:(En=null,_i=0,f=Kn)}if(f!==0){if(f===2&&(L=wl(u),L!==0&&(C=L,f=N0(u,L))),f===1)throw v=$u,Fa(u,0),go(u,C),Er(u,Tn()),v;if(f===6)go(u,C);else{if(L=u.current.alternate,!(C&30)&&!vy(L)&&(f=Fl(u,C),f===2&&(z=wl(u),z!==0&&(C=z,f=N0(u,z))),f===1))throw v=$u,Fa(u,0),go(u,C),Er(u,Tn()),v;switch(u.finishedWork=L,u.finishedLanes=C,f){case 0:case 1:throw Error(a(345));case 2:yo(u,Xr,Es);break;case 3:if(go(u,C),(C&130023424)===C&&(f=S0+500-Tn(),10<f)){if(gc(u,0)!==0)break;if(L=u.suspendedLanes,(L&C)!==C){tr(),u.pingedLanes|=u.suspendedLanes&L;break}u.timeoutHandle=X(yo.bind(null,u,Xr,Es),f);break}yo(u,Xr,Es);break;case 4:if(go(u,C),(C&4194240)===C)break;for(f=u.eventTimes,L=-1;0<C;){var re=31-ds(C);z=1<<re,re=f[re],re>L&&(L=re),C&=~z}if(C=L,C=Tn()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*xs(C/1960))-C,10<C){u.timeoutHandle=X(yo.bind(null,u,Xr,Es),C);break}yo(u,Xr,Es);break;case 5:yo(u,Xr,Es);break;default:throw Error(a(329))}}}return Er(u,Tn()),u.callbackNode===v?Rl.bind(null,u):null}function N0(u,f){var v=Gu;return u.current.memoizedState.isDehydrated&&(Fa(u,f).flags|=256),u=Fl(u,f),u!==2&&(f=Xr,Xr=v,f!==null&&_d(f)),u}function _d(u){Xr===null?Xr=u:Xr.push.apply(Xr,u)}function vy(u){for(var f=u;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var C=0;C<v.length;C++){var L=v[C],z=L.getSnapshot;L=L.value;try{if(!kr(z(),L))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function go(u,f){for(f&=~Ma,f&=~Ac,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var v=31-ds(f),C=1<<v;u[v]=-1,f&=~C}}function Yg(u){if(Rt&6)throw Error(a(327));Ku();var f=gc(u,0);if(!(f&1))return Er(u,Tn()),null;var v=Fl(u,f);if(u.tag!==0&&v===2){var C=wl(u);C!==0&&(f=C,v=N0(u,C))}if(v===1)throw v=$u,Fa(u,0),go(u,f),Er(u,Tn()),v;if(v===6)throw Error(a(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,yo(u,Xr,Es),Er(u,Tn()),null}function Tc(u){fo!==null&&fo.tag===0&&!(Rt&6)&&Ku();var f=Rt;Rt|=1;var v=dn.transition,C=Xe;try{if(dn.transition=null,Xe=1,u)return u()}finally{Xe=C,dn.transition=v,Rt=f,!(Rt&6)&&Vr()}}function Wu(){Tr=ho.current,Sn(ho)}function Fa(u,f){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==me&&(u.timeoutHandle=me,fe(v)),Wt!==null)for(v=Wt.return;v!==null;){var C=v;switch(nt(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Ur();break;case 3:Ta(),Sn(Wi),Sn(Yt),$n();break;case 5:Ls(C);break;case 4:Ta();break;case 13:Sn(kt);break;case 19:Sn(kt);break;case 10:Gr(C.type._context);break;case 22:case 23:Wu()}v=v.return}if(En=u,Wt=u=Ec(u.current,null),_i=Tr=f,Kn=0,$u=null,Ma=Ac=El=0,Xr=Gu=null,As!==null){for(f=0;f<As.length;f++)if(v=As[f],C=v.interleaved,C!==null){v.interleaved=null;var L=C.next,z=v.pending;if(z!==null){var re=z.next;z.next=L,C.next=re}v.pending=C}As=null}return u}function Da(u,f){do{var v=Wt;try{if(bc(),Ts.current=Cc,Du){for(var C=jn.memoizedState;C!==null;){var L=C.queue;L!==null&&(L.pending=null),C=C.next}Du=!1}if(pr=0,Ei=vi=jn=null,Sc=!1,Nc=0,Lr.current=null,v===null||v.return===null){Kn=1,$u=f,Wt=null;break}e:{var z=u,re=v.return,we=v,Le=f;if(f=_i,we.flags|=32768,Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var $e=Le,ct=we,zt=ct.tag;if(!(ct.mode&1)&&(zt===0||zt===11||zt===15)){var Je=ct.alternate;Je?(ct.updateQueue=Je.updateQueue,ct.memoizedState=Je.memoizedState,ct.lanes=Je.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var Xn=Hg(re);if(Xn!==null){Xn.flags&=-257,y0(Xn,re,we,z,f),Xn.mode&1&&Vg(z,$e,f),f=Xn,Le=$e;var Rn=f.updateQueue;if(Rn===null){var Rs=new Set;Rs.add(Le),f.updateQueue=Rs}else Rn.add(Le);break e}else{if(!(f&1)){Vg(z,$e,f),Oa();break e}Le=Error(a(426))}}else if(it&&we.mode&1){var Dl=Hg(re);if(Dl!==null){!(Dl.flags&65536)&&(Dl.flags|=256),y0(Dl,re,we,z,f),vc(gr(Le,we));break e}}z=Le=gr(Le,we),Kn!==4&&(Kn=2),Gu===null?Gu=[z]:Gu.push(z),z=re;do{switch(z.tag){case 3:z.flags|=65536,f&=-f,z.lanes|=f;var Ae=uo(z,Le,f);Zs(z,Ae);break e;case 1:we=Le;var Se=z.type,Re=z.stateNode;if(!(z.flags&128)&&(typeof Se.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(Ra===null||!Ra.has(Re)))){z.flags|=65536,f&=-f,z.lanes|=f;var Ze=ys(z,we,f);Zs(z,Ze);break e}}z=z.return}while(z!==null)}Sd(v)}catch(Nt){f=Nt,Wt===v&&v!==null&&(Wt=v=v.return);continue}break}while(!0)}function mo(){var u=wn.current;return wn.current=Cc,u===null?Cc:u}function Oa(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),En===null||!(El&268435455)&&!(Ac&268435455)||go(En,_i)}function Fl(u,f){var v=Rt;Rt|=2;var C=mo();(En!==u||_i!==f)&&(Es=null,Fa(u,f));do try{k0();break}catch(L){Da(u,L)}while(!0);if(bc(),Rt=v,wn.current=C,Wt!==null)throw Error(a(261));return En=null,_i=0,Kn}function k0(){for(;Wt!==null;)Jg(Wt)}function Qg(){for(;Wt!==null&&!i0();)Jg(Wt)}function Jg(u){var f=Mw(u.alternate,u,Tr);u.memoizedProps=u.pendingProps,f===null?Sd(u):Wt=f,Lr.current=null}function Sd(u){var f=u;do{var v=f.alternate;if(u=f.return,f.flags&32768){if(v=Ne(v,f),v!==null){v.flags&=32767,Wt=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Kn=6,Wt=null;return}}else if(v=xe(v,f,Tr),v!==null){Wt=v;return}if(f=f.sibling,f!==null){Wt=f;return}Wt=f=u}while(f!==null);Kn===0&&(Kn=5)}function yo(u,f,v){var C=Xe,L=dn.transition;try{dn.transition=null,Xe=1,NT(u,f,v,C)}finally{dn.transition=L,Xe=C}return null}function NT(u,f,v,C){do Ku();while(fo!==null);if(Rt&6)throw Error(a(327));v=u.finishedWork;var L=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(a(177));u.callbackNode=null,u.callbackPriority=0;var z=v.lanes|v.childLanes;if(Sl(u,z),u===En&&(Wt=En=null,_i=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||Xo||(Xo=!0,Rw(Ho,function(){return Ku(),null})),z=(v.flags&15990)!==0,v.subtreeFlags&15990||z){z=dn.transition,dn.transition=null;var re=Xe;Xe=1;var we=Rt;Rt|=4,Lr.current=null,rt(u,v),Ji(v,u),he(u.containerInfo),u.current=v,Ri(v),ro(),Rt=we,Xe=re,dn.transition=z}else u.current=v;if(Xo&&(Xo=!1,fo=u,bd=L),z=u.pendingLanes,z===0&&(Ra=null),mc(v.stateNode),Er(u,Tn()),f!==null)for(C=u.onRecoverableError,v=0;v<f.length;v++)L=f[v],C(L.value,{componentStack:L.stack,digest:L.digest});if(qu)throw qu=!1,u=Pc,Pc=null,u;return bd&1&&u.tag!==0&&Ku(),z=u.pendingLanes,z&1?u===wd?Yo++:(Yo=0,wd=u):Yo=0,Vr(),null}function Ku(){if(fo!==null){var u=id(bd),f=dn.transition,v=Xe;try{if(dn.transition=null,Xe=16>u?16:u,fo===null)var C=!1;else{if(u=fo,fo=null,bd=0,Rt&6)throw Error(a(331));var L=Rt;for(Rt|=4,ve=u.current;ve!==null;){var z=ve,re=z.child;if(ve.flags&16){var we=z.deletions;if(we!==null){for(var Le=0;Le<we.length;Le++){var $e=we[Le];for(ve=$e;ve!==null;){var ct=ve;switch(ct.tag){case 0:case 11:case 15:Lt(8,ct,z)}var zt=ct.child;if(zt!==null)zt.return=ct,ve=zt;else for(;ve!==null;){ct=ve;var Je=ct.sibling,Xn=ct.return;if(bi(ct),ct===$e){ve=null;break}if(Je!==null){Je.return=Xn,ve=Je;break}ve=Xn}}}var Rn=z.alternate;if(Rn!==null){var Rs=Rn.child;if(Rs!==null){Rn.child=null;do{var Dl=Rs.sibling;Rs.sibling=null,Rs=Dl}while(Rs!==null)}}ve=z}}if(z.subtreeFlags&2064&&re!==null)re.return=z,ve=re;else e:for(;ve!==null;){if(z=ve,z.flags&2048)switch(z.tag){case 0:case 11:case 15:Lt(9,z,z.return)}var Ae=z.sibling;if(Ae!==null){Ae.return=z.return,ve=Ae;break e}ve=z.return}}var Se=u.current;for(ve=Se;ve!==null;){re=ve;var Re=re.child;if(re.subtreeFlags&2064&&Re!==null)Re.return=re,ve=Re;else e:for(re=Se;ve!==null;){if(we=ve,we.flags&2048)try{switch(we.tag){case 0:case 11:case 15:st(9,we)}}catch(Nt){ri(we,we.return,Nt)}if(we===re){ve=null;break e}var Ze=we.sibling;if(Ze!==null){Ze.return=we.return,ve=Ze;break e}ve=we.return}}if(Rt=L,Vr(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Sa,u)}catch{}C=!0}return C}finally{Xe=v,dn.transition=f}}return!1}function Tw(u,f,v){f=gr(v,f),f=uo(u,f,1),u=Nn(u,f,1),f=tr(),u!==null&&(_l(u,1,f),Er(u,f))}function ri(u,f,v){if(u.tag===3)Tw(u,u,v);else for(;f!==null;){if(f.tag===3){Tw(f,u,v);break}else if(f.tag===1){var C=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Ra===null||!Ra.has(C))){u=gr(v,u),u=ys(f,u,1),f=Nn(f,u,1),u=tr(),f!==null&&(_l(f,1,u),Er(f,u));break}}f=f.return}}function kT(u,f,v){var C=u.pingCache;C!==null&&C.delete(f),f=tr(),u.pingedLanes|=u.suspendedLanes&v,En===u&&(_i&v)===v&&(Kn===4||Kn===3&&(_i&130023424)===_i&&500>Tn()-S0?Fa(u,0):Ma|=v),Er(u,f)}function Ew(u,f){f===0&&(u.mode&1?(f=Qs,Qs<<=1,!(Qs&130023424)&&(Qs=4194304)):f=1);var v=tr();u=hr(u,f),u!==null&&(_l(u,f,v),Er(u,v))}function CT(u){var f=u.memoizedState,v=0;f!==null&&(v=f.retryLane),Ew(u,v)}function jT(u,f){var v=0;switch(u.tag){case 13:var C=u.stateNode,L=u.memoizedState;L!==null&&(v=L.retryLane);break;case 19:C=u.stateNode;break;default:throw Error(a(314))}C!==null&&C.delete(f),Ew(u,v)}var Mw;Mw=function(u,f,v){if(u!==null)if(u.memoizedProps!==f.pendingProps||Wi.current)jr=!0;else{if(!(u.lanes&v)&&!(f.flags&128))return jr=!1,D(u,f,v);jr=!!(u.flags&131072)}else jr=!1,it&&f.flags&1048576&&De(f,cr,f.index);switch(f.lanes=0,f.tag){case 2:var C=f.type;_(u,f),u=f.pendingProps;var L=zr(f,Yt.current);Aa(f,v),L=ad(null,f,C,u,L,v);var z=od();return f.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,yi(C)?(z=!0,Uo(f)):z=!1,f.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,Pa(f),L.updater=gd,f.stateNode=L,L._reactInternals=f,Ea(f,C,u,v),f=b0(null,f,C,!0,z,v)):(f.tag=0,it&&z&&Ie(f),mr(null,f,L,v),f=f.child),f;case 16:C=f.elementType;e:{switch(_(u,f),u=f.pendingProps,L=C._init,C=L(C._payload),f.type=C,L=f.tag=PT(C),u=na(C,u),L){case 0:f=x0(null,f,C,u,v);break e;case 1:f=v0(null,f,C,u,v);break e;case 11:f=Gg(null,f,C,u,v);break e;case 14:f=Vu(null,f,C,na(C.type,u),v);break e}throw Error(a(306,C,""))}return f;case 0:return C=f.type,L=f.pendingProps,L=f.elementType===C?L:na(C,L),x0(u,f,C,L,v);case 1:return C=f.type,L=f.pendingProps,L=f.elementType===C?L:na(C,L),v0(u,f,C,L,v);case 3:e:{if(qg(f),u===null)throw Error(a(387));C=f.pendingProps,z=f.memoizedState,L=z.element,wc(u,f),ps(f,C,null,v);var re=f.memoizedState;if(C=re.element,ze&&z.isDehydrated)if(z={element:C,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},f.updateQueue.baseState=z,f.memoizedState=z,f.flags&256){L=gr(Error(a(423)),f),f=Wg(u,f,C,v,L);break e}else if(C!==L){L=gr(Error(a(424)),f),f=Wg(u,f,C,v,L);break e}else for(ze&&(yt=Ws(f.stateNode.containerInfo),Qe=f,it=!0,rn=null,Qt=!1),v=Cl(f,null,C,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Go(),C===L){f=T(u,f,v);break e}mr(u,f,C,v)}f=f.child}return f;case 5:return qr(f),u===null&&ii(f),C=f.type,L=f.pendingProps,z=u!==null?u.memoizedProps:null,re=L.children,ue(C,L)?re=null:z!==null&&ue(C,z)&&(f.flags|=32),md(u,f),mr(u,f,re,v),f.child;case 6:return u===null&&ii(f),null;case 13:return Kg(u,f,v);case 4:return ea(f,f.stateNode.containerInfo),C=f.pendingProps,u===null?f.child=$r(f,null,C,v):mr(u,f,C,v),f.child;case 11:return C=f.type,L=f.pendingProps,L=f.elementType===C?L:na(C,L),Gg(u,f,C,L,v);case 7:return mr(u,f,f.pendingProps,v),f.child;case 8:return mr(u,f,f.pendingProps.children,v),f.child;case 12:return mr(u,f,f.pendingProps.children,v),f.child;case 10:e:{if(C=f.type._context,L=f.pendingProps,z=f.memoizedProps,re=L.value,xi(f,C,re),z!==null)if(kr(z.value,re)){if(z.children===L.children&&!Wi.current){f=T(u,f,v);break e}}else for(z=f.child,z!==null&&(z.return=f);z!==null;){var we=z.dependencies;if(we!==null){re=z.child;for(var Le=we.firstContext;Le!==null;){if(Le.context===C){if(z.tag===1){Le=dr(-1,v&-v),Le.tag=2;var $e=z.updateQueue;if($e!==null){$e=$e.shared;var ct=$e.pending;ct===null?Le.next=Le:(Le.next=ct.next,ct.next=Le),$e.pending=Le}}z.lanes|=v,Le=z.alternate,Le!==null&&(Le.lanes|=v),jl(z.return,v,f),we.lanes|=v;break}Le=Le.next}}else if(z.tag===10)re=z.type===f.type?null:z.child;else if(z.tag===18){if(re=z.return,re===null)throw Error(a(341));re.lanes|=v,we=re.alternate,we!==null&&(we.lanes|=v),jl(re,v,f),re=z.sibling}else re=z.child;if(re!==null)re.return=z;else for(re=z;re!==null;){if(re===f){re=null;break}if(z=re.sibling,z!==null){z.return=re.return,re=z;break}re=re.return}z=re}mr(u,f,L.children,v),f=f.child}return f;case 9:return L=f.type,C=f.pendingProps.children,Aa(f,v),L=Ti(L),C=C(L),f.flags|=1,mr(u,f,C,v),f.child;case 14:return C=f.type,L=na(C,f.pendingProps),L=na(C.type,L),Vu(u,f,C,L,v);case 15:return Hu(u,f,f.type,f.pendingProps,v);case 17:return C=f.type,L=f.pendingProps,L=f.elementType===C?L:na(C,L),_(u,f),f.tag=1,yi(C)?(u=!0,Uo(f)):u=!1,Aa(f,v),Bg(f,C,L),Ea(f,C,L,v),b0(null,f,C,!0,u,v);case 19:return y(u,f,v);case 22:return jc(u,f,v)}throw Error(a(156,f.tag))};function Rw(u,f){return Eu(u,f)}function AT(u,f,v,C){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(u,f,v,C){return new AT(u,f,v,C)}function by(u){return u=u.prototype,!(!u||!u.isReactComponent)}function PT(u){if(typeof u=="function")return by(u)?1:0;if(u!=null){if(u=u.$$typeof,u===b)return 11;if(u===j)return 14}return 2}function Ec(u,f){var v=u.alternate;return v===null?(v=Ia(u.tag,f,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=f,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,f=u.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function Zg(u,f,v,C,L,z){var re=2;if(C=u,typeof u=="function")by(u)&&(re=1);else if(typeof u=="string")re=5;else e:switch(u){case h:return Xu(v.children,L,z,f);case g:re=8,L|=8;break;case m:return u=Ia(12,v,f,L|2),u.elementType=m,u.lanes=z,u;case S:return u=Ia(13,v,f,L),u.elementType=S,u.lanes=z,u;case N:return u=Ia(19,v,f,L),u.elementType=N,u.lanes=z,u;case k:return em(v,L,z,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case p:re=10;break e;case x:re=9;break e;case b:re=11;break e;case j:re=14;break e;case w:re=16,C=null;break e}throw Error(a(130,u==null?u:typeof u,""))}return f=Ia(re,v,f,L),f.elementType=u,f.type=C,f.lanes=z,f}function Xu(u,f,v,C){return u=Ia(7,u,C,f),u.lanes=v,u}function em(u,f,v,C){return u=Ia(22,u,C,f),u.elementType=k,u.lanes=v,u.stateNode={isHidden:!1},u}function wy(u,f,v){return u=Ia(6,u,null,f),u.lanes=v,u}function _y(u,f,v){return f=Ia(4,u.children!==null?u.children:[],u.key,f),f.lanes=v,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function LT(u,f,v,C,L){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_a(0),this.expirationTimes=_a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.identifierPrefix=C,this.onRecoverableError=L,ze&&(this.mutableSourceEagerHydrationData=null)}function Fw(u,f,v,C,L,z,re,we,Le){return u=new LT(u,f,v,we,Le),f===1?(f=1,z===!0&&(f|=8)):f=0,z=Ia(3,null,null,f),u.current=z,z.stateNode=u,z.memoizedState={element:C,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(z),u}function Dw(u){if(!u)return va;u=u._reactInternals;e:{if(I(u)!==u||u.tag!==1)throw Error(a(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(yi(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(a(171))}if(u.tag===1){var v=u.type;if(yi(v))return ni(u,v,f)}return f}function Ow(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(a(188)):(u=Object.keys(u).join(","),Error(a(268,u)));return u=R(f),u===null?null:u.stateNode}function Iw(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<f?v:f}}function tm(u,f){Iw(u,f),(u=u.alternate)&&Iw(u,f)}function TT(u){return u=R(u),u===null?null:u.stateNode}function ET(){return null}return n.attemptContinuousHydration=function(u){if(u.tag===13){var f=hr(u,134217728);if(f!==null){var v=tr();Ms(f,u,134217728,v)}tm(u,134217728)}},n.attemptDiscreteHydration=function(u){if(u.tag===13){var f=hr(u,1);if(f!==null){var v=tr();Ms(f,u,1,v)}tm(u,1)}},n.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=po(u),v=hr(u,f);if(v!==null){var C=tr();Ms(v,u,f,C)}tm(u,f)}},n.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var v=io(f.pendingLanes);v!==0&&(Nl(f,v|1),Er(f,Tn()),!(Rt&6)&&(Ml(),Vr()))}break;case 13:Tc(function(){var C=hr(u,1);if(C!==null){var L=tr();Ms(C,u,1,L)}}),tm(u,1)}},n.batchedUpdates=function(u,f){var v=Rt;Rt|=1;try{return u(f)}finally{Rt=v,Rt===0&&(Ml(),Na&&Vr())}},n.createComponentSelector=function(u){return{$$typeof:wi,value:u}},n.createContainer=function(u,f,v,C,L,z,re){return Fw(u,f,!1,null,v,C,L,z,re)},n.createHasPseudoClassSelector=function(u){return{$$typeof:Wr,value:u}},n.createHydrationContainer=function(u,f,v,C,L,z,re,we,Le){return u=Fw(v,C,!0,u,L,z,re,we,Le),u.context=Dw(null),v=u.current,C=tr(),L=po(v),z=dr(C,L),z.callback=f??null,Nn(v,z,L),u.current.lanes=L,_l(u,L,C),Er(u,C),u},n.createPortal=function(u,f,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:u,containerInfo:f,implementation:v}},n.createRoleSelector=function(u){return{$$typeof:Bn,value:u}},n.createTestNameSelector=function(u){return{$$typeof:Zi,value:u}},n.createTextSelector=function(u){return{$$typeof:mn,value:u}},n.deferredUpdates=function(u){var f=Xe,v=dn.transition;try{return dn.transition=null,Xe=16,u()}finally{Xe=f,dn.transition=v}},n.discreteUpdates=function(u,f,v,C,L){var z=Xe,re=dn.transition;try{return dn.transition=null,Xe=1,u(f,v,C,L)}finally{Xe=z,dn.transition=re,Rt===0&&Ml()}},n.findAllNodes=xr,n.findBoundingRects=function(u,f){if(!Ye)throw Error(a(363));f=xr(u,f),u=[];for(var v=0;v<f.length;v++)u.push(Et(f[v]));for(f=u.length-1;0<f;f--){v=u[f];for(var C=v.x,L=C+v.width,z=v.y,re=z+v.height,we=f-1;0<=we;we--)if(f!==we){var Le=u[we],$e=Le.x,ct=$e+Le.width,zt=Le.y,Je=zt+Le.height;if(C>=$e&&z>=zt&&L<=ct&&re<=Je){u.splice(f,1);break}else if(C!==$e||v.width!==Le.width||Je<z||zt>re){if(!(z!==zt||v.height!==Le.height||ct<C||$e>L)){$e>C&&(Le.width+=$e-C,Le.x=C),ct<L&&(Le.width=L-$e),u.splice(f,1);break}}else{zt>z&&(Le.height+=zt-z,Le.y=z),Je<re&&(Le.height=re-zt),u.splice(f,1);break}}}return u},n.findHostInstance=Ow,n.findHostInstanceWithNoPortals=function(u){return u=P(u),u=u!==null?G(u):null,u===null?null:u.stateNode},n.findHostInstanceWithWarning=function(u){return Ow(u)},n.flushControlled=function(u){var f=Rt;Rt|=1;var v=dn.transition,C=Xe;try{dn.transition=null,Xe=1,u()}finally{Xe=C,dn.transition=v,Rt=f,Rt===0&&(Ml(),Vr())}},n.flushPassiveEffects=Ku,n.flushSync=Tc,n.focusWithin=function(u,f){if(!Ye)throw Error(a(363));for(u=Ar(u),f=Kr(u,f),f=Array.from(f),u=0;u<f.length;){var v=f[u++];if(!qe(v)){if(v.tag===5&&dt(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Xe},n.getFindAllNodesFailureDescription=function(u,f){if(!Ye)throw Error(a(363));var v=0,C=[];u=[Ar(u),0];for(var L=0;L<u.length;){var z=u[L++],re=u[L++],we=f[re];if((z.tag!==5||!qe(z))&&(er(z,we)&&(C.push(Pr(we)),re++,re>v&&(v=re)),re<f.length))for(z=z.child;z!==null;)u.push(z,re),z=z.sibling}if(v<f.length){for(u=[];v<f.length;v++)u.push(Pr(f[v]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},n.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return ce(u.child.stateNode);default:return u.child.stateNode}},n.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:TT,findFiberByHostInstance:u.findFiberByHostInstance||ET,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{Sa=f.inject(u),Nr=f}catch{}u=!!f.checkDCE}}return u},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(u,f,v,C){if(!Ye)throw Error(a(363));u=xr(u,f);var L=Ht(u,v,C).disconnect;return{disconnect:function(){L()}}},n.registerMutableSourceForHydration=function(u,f){var v=f._getVersion;v=v(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,v]:u.mutableSourceEagerHydrationData.push(f,v)},n.runWithPriority=function(u,f){var v=Xe;try{return Xe=u,f()}finally{Xe=v}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(u,f,v,C){var L=f.current,z=tr(),re=po(L);return v=Dw(v),f.context===null?f.context=v:f.pendingContext=v,f=dr(z,re),f.payload={element:u},C=C===void 0?null:C,C!==null&&(f.callback=C),u=Nn(L,f,re),u!==null&&(Ms(u,L,re,z),_c(u,L,re)),re},n};PP.exports=uW;var hW=PP.exports;const dW=D2(hW);var LP={exports:{}},Xh={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Xh.ConcurrentRoot=1;Xh.ContinuousEventPriority=4;Xh.DefaultEventPriority=16;Xh.DiscreteEventPriority=1;Xh.IdleEventPriority=536870912;Xh.LegacyRoot=0;LP.exports=Xh;var TP=LP.exports;const xS={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let vS=!1,bS=!1;const cw=".react-konva-event",fW=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,pW=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,gW={};function ry(t,e,n=gW){if(!vS&&"zIndex"in e&&(console.warn(pW),vS=!0),!bS&&e.draggable){var i=e.x!==void 0||e.y!==void 0,r=e.onDragEnd||e.onDragMove;i&&!r&&(console.warn(fW),bS=!0)}for(var s in n)if(!xS[s]){var a=s.slice(0,2)==="on",o=n[s]!==e[s];if(a&&o){var l=s.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),t.off(l,n[s])}var c=!e.hasOwnProperty(s);c&&t.setAttr(s,void 0)}var h=e._useStrictMode,g={},m=!1;const p={};for(var s in e)if(!xS[s]){var a=s.slice(0,2)==="on",x=n[s]!==e[s];if(a&&x){var l=s.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),e[s]&&(p[l]=e[s])}!a&&(e[s]!==n[s]||h&&e[s]!==t.getAttr(s))&&(m=!0,g[s]=e[s])}m&&(t.setAttrs(g),Lu(t));for(var l in p)t.on(l+cw,p[l])}function Lu(t){if(!Gt.Konva.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const EP={},mW={};tg.Node.prototype._applyProps=ry;function yW(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Lu(t)}function xW(t,e,n){let i=tg[t];i||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),i=tg.Group);const r={},s={};for(var a in e){var o=a.slice(0,2)==="on";o?s[a]=e[a]:r[a]=e[a]}const l=new i(r);return ry(l,s),l}function vW(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function bW(t,e,n){return!1}function wW(t){return t}function _W(){return null}function SW(){return null}function NW(t,e,n,i){return mW}function kW(){}function CW(t){}function jW(t,e){return!1}function AW(){return EP}function PW(){return EP}const LW=setTimeout,TW=clearTimeout,EW=-1;function MW(t,e){return!1}const RW=!1,FW=!0,DW=!0;function OW(t,e){e.parent===t?e.moveToTop():t.add(e),Lu(t)}function IW(t,e){e.parent===t?e.moveToTop():t.add(e),Lu(t)}function MP(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Lu(t)}function BW(t,e,n){MP(t,e,n)}function zW(t,e){e.destroy(),e.off(cw),Lu(t)}function UW(t,e){e.destroy(),e.off(cw),Lu(t)}function VW(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function HW(t,e,n){}function $W(t,e,n,i,r){ry(t,r,i)}function GW(t){t.hide(),Lu(t)}function qW(t){}function WW(t,e){(e.visible==null||e.visible)&&t.show()}function KW(t,e){}function XW(t){}function YW(){}const QW=()=>TP.DefaultEventPriority,JW=Object.freeze(Object.defineProperty({__proto__:null,appendChild:OW,appendChildToContainer:IW,appendInitialChild:yW,cancelTimeout:TW,clearContainer:XW,commitMount:HW,commitTextUpdate:VW,commitUpdate:$W,createInstance:xW,createTextInstance:vW,detachDeletedInstance:YW,finalizeInitialChildren:bW,getChildHostContext:PW,getCurrentEventPriority:QW,getPublicInstance:wW,getRootHostContext:AW,hideInstance:GW,hideTextInstance:qW,idlePriority:ap.unstable_IdlePriority,insertBefore:MP,insertInContainerBefore:BW,isPrimaryRenderer:RW,noTimeout:EW,now:ap.unstable_now,prepareForCommit:_W,preparePortalMount:SW,prepareUpdate:NW,removeChild:zW,removeChildFromContainer:UW,resetAfterCommit:kW,resetTextContent:CW,run:ap.unstable_runWithPriority,scheduleTimeout:LW,shouldDeprioritizeSubtree:jW,shouldSetTextContent:MW,supportsMutation:DW,unhideInstance:WW,unhideTextInstance:KW,warnsIfNotActing:FW},Symbol.toStringTag,{value:"Module"}));var ZW=Object.defineProperty,eK=Object.defineProperties,tK=Object.getOwnPropertyDescriptors,wS=Object.getOwnPropertySymbols,nK=Object.prototype.hasOwnProperty,iK=Object.prototype.propertyIsEnumerable,_S=(t,e,n)=>e in t?ZW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,SS=(t,e)=>{for(var n in e||(e={}))nK.call(e,n)&&_S(t,n,e[n]);if(wS)for(var n of wS(e))iK.call(e,n)&&_S(t,n,e[n]);return t},rK=(t,e)=>eK(t,tK(e)),NS,kS;typeof window<"u"&&((NS=window.document)!=null&&NS.createElement||((kS=window.navigator)==null?void 0:kS.product)==="ReactNative")?Q.useLayoutEffect:Q.useEffect;function RP(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=t.child;for(;i;){const r=RP(i,e,n);if(r)return r;i=i.sibling}}function FP(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const CS=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=CS;return}return CS.apply(this,arguments)};const uw=FP(Q.createContext(null));class DP extends Q.Component{render(){return Q.createElement(uw.Provider,{value:this._reactInternals},this.props.children)}}function sK(){const t=Q.useContext(uw);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Q.useId();return Q.useMemo(()=>{for(const i of[t,t==null?void 0:t.alternate]){if(!i)continue;const r=RP(i,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[t,e])}function aK(){const t=sK(),[e]=Q.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const r=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;r&&r!==uw&&!e.has(r)&&e.set(r,Q.useContext(FP(r)))}n=n.return}return e}function oK(){const t=aK();return Q.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>Q.createElement(e,null,Q.createElement(n.Provider,rK(SS({},i),{value:t.get(n)}))),e=>Q.createElement(DP,SS({},e))),[t])}function lK(t){const e=Dr.useRef({});return Dr.useLayoutEffect(()=>{e.current=t}),Dr.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const cK=t=>{const e=Dr.useRef(),n=Dr.useRef(),i=Dr.useRef(),r=lK(t),s=oK(),a=o=>{const{forwardedRef:l}=t;l&&(typeof l=="function"?l(o):l.current=o)};return Dr.useLayoutEffect(()=>(n.current=new tg.Stage({width:t.width,height:t.height,container:e.current}),a(n.current),i.current=np.createContainer(n.current,TP.LegacyRoot,!1,null),np.updateContainer(Dr.createElement(s,{},t.children),i.current),()=>{tg.isBrowser&&(a(null),np.updateContainer(null,i.current,null),n.current.destroy())}),[]),Dr.useLayoutEffect(()=>{a(n.current),ry(n.current,t,r),np.updateContainer(Dr.createElement(s,{},t.children),i.current,null)}),Dr.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},uK="Layer",jS="Group",hK="Rect",dK="Circle",OP="Image",fK="Text",np=dW(JW);np.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Dr.version,rendererPackageName:"react-konva"});const pK=Dr.forwardRef((t,e)=>Dr.createElement(DP,{},Dr.createElement(cK,{...t,forwardedRef:e})));function IP({message:t="Khng tm thy trang bn yu cu"}){return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:d.jsxs("div",{className:"max-w-md w-full text-center",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("div",{className:"text-9xl font-bold text-indigo-600 mb-4",children:"404"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Oops! Trang khng tn ti"}),d.jsx("p",{className:"text-gray-600 mb-8",children:t})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(zn,{to:"/",className:"inline-flex items-center justify-center w-full px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 transition-colors",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"V trang ch"]}),d.jsxs(zn,{to:"/editor",className:"inline-flex items-center justify-center w-full px-6 py-3 border border-gray-300 text-base font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"To khung mi"]})]}),d.jsxs("div",{className:"mt-8 text-sm text-gray-500",children:[d.jsx("p",{children:"C th bn ang tm:"}),d.jsxs("div",{className:"mt-2 space-x-4",children:[d.jsx(zn,{to:"/quockhanh",className:"text-indigo-600 hover:text-indigo-800",children:"Khung Quc Khnh"}),d.jsx(zn,{to:"/trungthu",className:"text-indigo-600 hover:text-indigo-800",children:"Khung Trung Thu"}),d.jsx(zn,{to:"/giangsinh",className:"text-indigo-600 hover:text-indigo-800",children:"Khung Ging Sinh"})]})]})]})})}const kx="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),gK={su_kien:"S kin",le_hoi:"L hi  Ngy c bit",hoat_dong:"Hot ng  Cng ng",chien_dich:"Chin dch  C v",thuong_hieu:"Thng hiu  T chc",giai_tri:"Gii tr  Fandom",sang_tao:"Ch  sng to",khac:"Khc"},mK=1080,Cx=500,yK=300,Zu=(t,e,n)=>Math.min(n,Math.max(e,t)),AS=(t,e,n=2)=>Math.abs(t-e)<=n,BP=()=>"anonymous";function PS({url:t,scale:e,rotation:n,flipX:i,dragBound:r}){const[s]=WA(t||"",BP());return s?d.jsx(OP,{image:s,x:0,y:0,offsetX:s.width/2,offsetY:s.height/2,draggable:!0,dragBoundFunc:r,scaleX:e*(i?-1:1),scaleY:e,rotation:n}):null}function xK({url:t,size:e}){const[n]=WA(t||"",BP());return n?d.jsx(OP,{image:n,x:-e/2,y:-e/2,width:e,height:e,listening:!1}):null}function vK({onPick:t,className:e=""}){const n=Q.useRef(null),[i,r]=Q.useState(!1),s=()=>{var o;return(o=n.current)==null?void 0:o.click()},a=o=>{const l=o==null?void 0:o[0];l&&t(l)};return d.jsxs("div",{role:"button",tabIndex:0,onClick:s,onKeyDown:o=>(o.key==="Enter"||o.key===" ")&&s(),onDrop:o=>{o.preventDefault(),r(!1),a(o.dataTransfer.files)},onDragOver:o=>{o.preventDefault(),r(!0)},onDragLeave:()=>r(!1),className:["w-full h-32 sm:h-36 rounded-xl border-2 border-dashed grid place-items-center","transition-colors select-none cursor-pointer",i?"border-indigo-400 bg-indigo-50":"border-gray-300 bg-white",e].join(" "),children:[d.jsx("input",{ref:n,type:"file",accept:"image/*",className:"hidden",onChange:o=>a(o.target.files)}),d.jsxs("div",{className:"text-center",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"mx-auto mb-2 h-7 w-7 text-slate-700",fill:"currentColor",children:d.jsx("path",{d:"M7 18a5 5 0 0 1-.75-9.94 6 6 0 0 1 11.5 1.63A4 4 0 1 1 18 18H7Zm6-7v4a1 1 0 1 1-2 0v-4H9.5a1 1 0 0 1-.7-1.7l2.5-2.5a1 1 0 0 1 1.4 0l2.5 2.5a1 1 0 0 1-.7 1.7H13Z"})}),d.jsxs("div",{className:"text-slate-900 font-semibold text-sm",children:["Ko th hoc ",d.jsx("span",{className:"text-indigo-600",children:"Bm vo y"})]}),d.jsx("div",{className:"text-slate-500 text-sm",children:" ng ti hnh nh"})]})]})}function LS(){const t=ga(),{alias:e}=c3(),[n]=cj();Q.useEffect(()=>{const Ee=n.get("alias");!e&&Ee&&t(`/${Ee}`,{replace:!0})},[e,n,t]);const i=e||"quockhanh",[r,s]=Q.useState(null),[a,o]=Q.useState(""),[l,c]=Q.useState(!0),[h,g]=Q.useState(""),[m,p]=Q.useState(1),[x,b]=Q.useState(0),[S,N]=Q.useState(!1),[j,w]=Q.useState(!1),[k,E]=Q.useState(!1),[O,U]=Q.useState("T ho Vit Nam"),[M,I]=Q.useState(28),[F,P]=Q.useState("#0f172a"),[R,$]=Q.useState("Arial"),[G,ee]=Q.useState("normal"),[ce,pe]=Q.useState("normal"),Z=[{value:"Arial",label:"Arial",category:"Sans-serif"},{value:"Helvetica",label:"Helvetica",category:"Sans-serif"},{value:"Verdana",label:"Verdana",category:"Sans-serif"},{value:"Tahoma",label:"Tahoma",category:"Sans-serif"},{value:"Trebuchet MS",label:"Trebuchet MS",category:"Sans-serif"},{value:"Calibri",label:"Calibri",category:"Sans-serif"},{value:"Times New Roman",label:"Times New Roman",category:"Serif"},{value:"Georgia",label:"Georgia",category:"Serif"},{value:"Palatino",label:"Palatino",category:"Serif"},{value:"Garamond",label:"Garamond",category:"Serif"},{value:"Bookman",label:"Bookman",category:"Serif"},{value:"Courier New",label:"Courier New",category:"Monospace"},{value:"Lucida Console",label:"Lucida Console",category:"Monospace"},{value:"Monaco",label:"Monaco",category:"Monospace"},{value:"Consolas",label:"Consolas",category:"Monospace"},{value:"Comic Sans MS",label:"Comic Sans MS",category:"Display"},{value:"Impact",label:"Impact",category:"Display"},{value:"Brush Script MT",label:"Brush Script MT",category:"Display"},{value:"Copperplate",label:"Copperplate",category:"Display"}],[te,he]=Q.useState(!1),[Y,B]=Q.useState(null),[K,ie]=Q.useState(Cx),ue=Q.useRef(null);Q.useEffect(()=>{const Ee=new ResizeObserver(()=>{var dt;const qe=((dt=ue.current)==null?void 0:dt.clientWidth)||Cx+40,Ge=Math.max(yK,Math.min(Cx,Math.floor(qe-40)));ie(Ge)});return ue.current&&Ee.observe(ue.current),()=>Ee.disconnect()},[]);const[de,X]=Q.useState(!1),fe=async()=>{try{await navigator.clipboard.writeText(ze),X(!0),setTimeout(()=>X(!1),1500)}catch(Ee){console.error(Ee),alert("Khng th sao chp lin kt.")}};Q.useEffect(()=>{let Ee=!0;return s(null),o(""),c(!0),JV(i).then(qe=>{Ee&&(s(qe||null),qe||o("Khng tm thy khung cho alias ny."),c(!1),qe!=null&&qe.id&&fetch(`${kx}/api/Frames/view/${qe.id}`,{method:"POST",credentials:"include"}).then(Ge=>Ge.json()).then(Ge=>{console.log(" View counted:",Ge),Ge.luotXem!==void 0&&s(dt=>dt&&{...dt,clicks:Ge.luotXem})}).catch(Ge=>console.error(" View count failed:",Ge)))}).catch(()=>{Ee&&(o("Khng ti c khung (overlay)."),c(!1))}),()=>{Ee=!1}},[i]),Q.useEffect(()=>{const Ee=document.title;return document.title=`Editor  ${i}`,()=>{document.title=Ee}},[i]),Q.useEffect(()=>{g(""),p(1),b(0),N(!1),E(!1),w(!1)},[i]);const me=Q.useMemo(()=>(r==null?void 0:r.overlay)||(r==null?void 0:r.thumb)||null,[r]),Ce=Q.useRef(null),Te=Q.useRef(null),Ue=Q.useRef(null),ze=typeof window<"u"?`${window.location.origin}/${i}`:"";Q.useEffect(()=>{he(!!h&&!!me)},[h,me]);const je=Ee=>{var Ge;const qe=(Ge=Ce.current)==null?void 0:Ge.container();qe&&(qe.style.cursor=Ee)},le=Q.useRef(null),At=Ee=>{if(!h)return;Ee.evt.preventDefault();const qe=Ee.evt.deltaY>0;je(qe?"zoom-out":"zoom-in"),clearTimeout(le.current),le.current=setTimeout(()=>je(k?"text":"grab"),120);const Ge=qe?.95:1.05;p(dt=>Zu(dt*Ge,.2,3))};Q.useEffect(()=>{const Ee=qe=>{qe.target&&["INPUT","TEXTAREA"].includes(qe.target.tagName)||(qe.key==="["&&b(Ge=>Ge-5),qe.key==="]"&&b(Ge=>Ge+5),(qe.key==="+"||qe.key==="=")&&p(Ge=>Zu(+(Ge+.05).toFixed(3),.2,3)),(qe.key==="-"||qe.key==="_")&&p(Ge=>Zu(+(Ge-.05).toFixed(3),.2,3)),qe.key.toLowerCase()==="r"&&Ve(),qe.key.toLowerCase()==="f"&&N(Ge=>!Ge))};return window.addEventListener("keydown",Ee),()=>window.removeEventListener("keydown",Ee)},[]),Q.useEffect(()=>{AS(x%360,0)&&(AS(x,0)||b(0))},[x]);const bt=Ee=>{const qe=K*.6;return{x:Zu(Ee.x,-qe,qe),y:Zu(Ee.y,-qe,qe)}},ht=async()=>{const Ee=Ce.current;if(!Ee)return;const qe=mK/K;try{const Ge=Ee.toDataURL({pixelRatio:qe,mimeType:"image/png",quality:1}),Ht=await(await fetch(Ge)).blob();if("showSaveFilePicker"in window)try{const ot=await(await window.showSaveFilePicker({suggestedName:`${i}.png`,types:[{description:"PNG Image",accept:{"image/png":[".png"]}}]})).createWritable();if(await ot.write(Ht),await ot.close(),r!=null&&r.id){const tt=await(await fetch(`${kx}/api/Frames/download/${r.id}`,{method:"POST",credentials:"include"})).json();console.log(" Download counted:",tt),tt.luotTai!==void 0&&s(on=>on&&{...on,uses:tt.luotTai})}}catch{console.log(" User cancelled download");return}else{const ft=document.createElement("a");ft.href=Ge,ft.download=`${i}.png`,document.body.appendChild(ft),ft.click(),ft.remove(),setTimeout(async()=>{if(r!=null&&r.id){const wt=await(await fetch(`${kx}/api/Frames/download/${r.id}`,{method:"POST",credentials:"include"})).json();wt.luotTai!==void 0&&s(tt=>tt&&{...tt,uses:wt.luotTai})}},500)}}catch(Ge){console.error("Save failed:",Ge),alert("Khng th ti nh.")}},Ve=()=>{p(1),b(0),N(!1),E(!1)},Ye=!!h,Ke=Ee=>{if(!Ee)return;const qe=URL.createObjectURL(Ee);Y&&URL.revokeObjectURL(Y),B(qe),g(qe)};Q.useEffect(()=>()=>{Y&&URL.revokeObjectURL(Y)},[Y]);const Et=Ee=>{if(!Ee)return"Mi ng";const qe=new Date,Ge=new Date(Ee),dt=qe.getTime()-Ge.getTime(),Ht=Math.floor(dt/1e3),ft=Math.floor(Ht/60),ot=Math.floor(ft/60),wt=Math.floor(ot/24);if(wt===0)return ot>0?`${ot} gi trc`:ft>0?`${ft} pht trc`:Ht>0?`${Ht} giy trc`:"Va to";if(wt<=7)return`${wt} ngy trc`;const tt=Ge.getDate().toString().padStart(2,"0"),on=(Ge.getMonth()+1).toString().padStart(2,"0"),nn=Ge.getFullYear();return`${tt}/${on}/${nn}`};return l?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),d.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti khung..."})]})}):a&&!r?d.jsx(IP,{message:`Khng tm thy khung vi alias "${i}". Khung c th  b xa hoc khng tn ti.`}):d.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[d.jsx("h1",{className:"text-3xl font-extrabold text-center mb-2",children:(r==null?void 0:r.name)||i}),(r==null?void 0:r.type)&&d.jsx("div",{className:"text-center mb-4",children:d.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-indigo-50 text-indigo-700 rounded-full px-3 py-1 text-sm font-medium border border-indigo-200",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),gK[r.type]||r.type]})}),d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-5",children:[d.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-blue-50 text-blue-700 rounded-full px-3 py-1.5 border border-blue-200",children:[d.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),d.jsx("span",{className:"font-bold text-sm",children:(r==null?void 0:r.clicks)||0}),d.jsx("span",{className:"text-xs",children:"lt xem"})]}),d.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-green-50 text-green-700 rounded-full px-3 py-1.5 border border-green-200",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),d.jsx("span",{className:"font-bold text-sm",children:(r==null?void 0:r.uses)||0}),d.jsx("span",{className:"text-xs",children:"lt ti"})]})]}),d.jsxs("div",{ref:ue,className:"max-w-[560px] mx-auto border-2 border-dashed border-gray-300 rounded-xl p-4 bg-white",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx(pK,{ref:Ce,width:K,height:K,className:"rounded-md",onMouseEnter:()=>je(Ye?k?"text":"grab":"default"),onMouseLeave:()=>je("default"),onMouseDown:Ee=>{var qe,Ge,dt,Ht;Ye&&((Ge=(qe=Ee.target)==null?void 0:qe.draggable)!=null&&Ge.call(qe)||(Ht=(dt=Ee.target)==null?void 0:dt.attrs)!=null&&Ht.draggable)&&je("grabbing")},onMouseUp:()=>je(Ye?k?"text":"grab":"default"),onDragStart:()=>Ye&&je("grabbing"),onDragEnd:()=>je(Ye?k?"text":"grab":"default"),onWheel:At,children:d.jsxs(uK,{children:[!Ye&&d.jsx(hK,{x:0,y:0,width:K,height:K,fill:"#f3f4f6"}),d.jsxs(jS,{x:K/2,y:K/2,children:[j?d.jsxs(d.Fragment,{children:[d.jsx(jS,{clipFunc:Ee=>{Ee.arc(0,0,K/2,0,Math.PI*2,!1)},children:Ye&&d.jsx(PS,{url:h,scale:m,rotation:x,flipX:S,dragBound:bt})}),d.jsx(dK,{x:0,y:0,radius:K/2,stroke:"#e5e7eb",strokeWidth:1})]}):Ye&&d.jsx(PS,{url:h,scale:m,rotation:x,flipX:S,dragBound:bt}),me&&d.jsx(xK,{url:me,size:K}),k&&Ye&&d.jsx(fK,{text:O,fontSize:M,fill:F,fontFamily:R,fontStyle:G,fontVariant:ce==="bold"?"bold":"normal",x:0,y:-K*.18,align:"center",width:K,offsetX:K/2,draggable:!0})]})]})},i)}),a&&d.jsx("p",{className:"mt-3 text-center text-sm text-amber-700 bg-amber-50 rounded-md px-3 py-2",children:a}),!Ye&&d.jsx("div",{className:"mt-4",children:d.jsx(vK,{onPick:Ke})}),Ye&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:()=>N(Ee=>!Ee),className:"px-3 py-1.5 rounded-md bg-slate-100 hover:bg-slate-200 text-sm flex items-center gap-2",children:[d.jsx("img",{src:"/icon/fliptheimage.png",alt:"Lt hnh",className:"w-4 h-4"}),d.jsx("span",{children:"Lt hnh"})]}),d.jsxs("button",{onClick:()=>E(Ee=>!Ee),className:`px-3 py-1.5 rounded-md text-sm flex items-center gap-2 ${k?"bg-indigo-600 text-white":"bg-slate-100 hover:bg-slate-200"}`,children:[d.jsx("img",{src:"/icon/text.png",alt:"Vn bn",className:"w-4 h-4"}),d.jsx("span",{children:"Vn bn"})]}),d.jsx("button",{onClick:()=>w(Ee=>!Ee),className:`px-3 py-1.5 rounded-md text-sm ${j?"bg-indigo-600 text-white":"bg-slate-100 hover:bg-slate-200"}`,title:"Bt/Tt mask trn",children:"Mt n trn"})]}),d.jsxs("button",{onClick:Ve,className:"px-3 py-1.5 rounded-md bg-slate-100 hover:bg-slate-200 text-sm flex items-center gap-2",children:[d.jsx("img",{src:"/icon/reset.png",alt:"Reset",className:"w-4 h-4"}),d.jsx("span",{children:"Reset"})]})]}),d.jsxs("div",{className:"mt-3 grid gap-3 text-sm",children:[d.jsxs("div",{className:"grid grid-cols-[auto,1fr,auto] items-center gap-2",children:[d.jsx("button",{onClick:()=>p(Ee=>Zu(+(Ee-.05).toFixed(3),.2,3)),className:"h-8 w-8 rounded-md border bg-white hover:bg-slate-50 flex items-center justify-center",title:"Thu nh",children:d.jsx("img",{src:"/icon/tru.png",alt:"Thu nh",className:"w-4 h-4"})}),d.jsx("input",{type:"range",min:"0.2",max:"3",step:"0.01",value:m,onChange:Ee=>p(+Ee.target.value),className:"slider-soft",style:{"--percent":`${(m-.2)/(3-.2)*100}%`}}),d.jsx("button",{onClick:()=>p(Ee=>Zu(+(Ee+.05).toFixed(3),.2,3)),className:"h-8 w-8 rounded-md border bg-white hover:bg-slate-50 flex items-center justify-center",title:"Phng to",children:d.jsx("img",{src:"/icon/cong.png",alt:"Phng to",className:"w-4 h-4"})})]}),d.jsxs("div",{className:"grid grid-cols-[auto,1fr,auto] items-center gap-2",children:[d.jsx("button",{onClick:()=>b(Ee=>Ee-5),className:"h-8 w-8 rounded-md border bg-white hover:bg-slate-50",title:"Xoay tri",children:""}),d.jsx("input",{type:"range",min:"-180",max:"180",step:"1",value:x,onChange:Ee=>b(+Ee.target.value),className:"slider-soft",style:{"--percent":`${(x- -180)/360*100}%`}}),d.jsx("button",{onClick:()=>b(Ee=>Ee+5),className:"h-8 w-8 rounded-md border bg-white hover:bg-slate-50",title:"Xoay phi",children:""})]})]}),d.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("input",{ref:Te,type:"file",accept:"image/*",className:"hidden",onChange:Ee=>{var Ge;const qe=(Ge=Ee.target.files)==null?void 0:Ge[0];qe&&Ke(qe)}}),d.jsxs("button",{onClick:()=>{var Ee;return(Ee=Te.current)==null?void 0:Ee.click()},className:"px-3.5 py-1.5 rounded-md bg-slate-100 hover:bg-slate-200 font-medium text-sm flex items-center gap-2",children:[d.jsx("img",{src:"/icon/image.png",alt:"i hnh",className:"w-4 h-4"}),d.jsx("span",{children:"i hnh"})]})]}),d.jsxs("button",{onClick:ht,disabled:!te,"aria-disabled":!te,className:`px-3.5 py-1.5 rounded-md text-sm flex items-center gap-2 border transition-colors
                ${te?"bg-slate-100 text-slate-700 hover:bg-slate-200 border-slate-200":"bg-slate-100 text-slate-400 border-slate-200 opacity-60 cursor-not-allowed"}`,title:te?"Xut nh PNG":"Hy ch nh/khung sn sng",children:[d.jsx("img",{src:"/icon/download2.png",alt:"Ti v",className:`w-4 h-4 ${te?"":"opacity-60"}`}),d.jsx("span",{className:"font-bold",children:"Ti v"})]})]}),k&&d.jsxs("div",{className:"mt-4 space-y-3",children:[d.jsx("input",{value:O,onChange:Ee=>U(Ee.target.value),placeholder:"Nhp ni dung vn bn...",className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all"}),d.jsx("select",{value:R,onChange:Ee=>$(Ee.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all",style:{fontFamily:R},children:Z.map(Ee=>d.jsxs("option",{value:Ee.value,style:{fontFamily:Ee.value},children:[Ee.label," (",Ee.category,")"]},Ee.value))}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsx("input",{type:"number",min:14,max:72,value:M,onChange:Ee=>I(+Ee.target.value),className:"rounded-lg border border-gray-300 px-3 py-2.5 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all",placeholder:"C ch"}),d.jsx("button",{onClick:()=>pe(Ee=>Ee==="bold"?"normal":"bold"),className:`rounded-lg border px-3 py-2.5 text-sm font-bold transition-all ${ce==="bold"?"bg-indigo-600 text-white border-indigo-600":"bg-white border-gray-300 hover:border-indigo-400"}`,title:"Ch m",children:"B"}),d.jsx("button",{onClick:()=>ee(Ee=>Ee==="italic"?"normal":"italic"),className:`rounded-lg border px-3 py-2.5 text-sm italic transition-all ${G==="italic"?"bg-indigo-600 text-white border-indigo-600":"bg-white border-gray-300 hover:border-indigo-400"}`,title:"Ch nghing",children:"I"})]}),d.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 min-w-fit",children:"Mu ch"}),d.jsx("input",{type:"color",value:F,onChange:Ee=>P(Ee.target.value),className:"h-10 w-16 rounded-md border border-gray-300 cursor-pointer"})]})]})]})]}),(r==null?void 0:r.owner)&&d.jsx("div",{className:"mt-8 mb-6 flex flex-col items-center",children:d.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 max-w-sm w-full",children:d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("img",{src:r.owner.avatar||"/icon/default-avatar.png",alt:r.owner.name,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200 mb-3 shadow-sm"}),d.jsx("div",{className:"font-bold text-lg text-slate-900 mb-2",children:r.owner.name}),r.ngayTao&&d.jsxs("div",{className:"flex items-center text-gray-500 text-sm bg-gray-50 rounded-full px-3 py-1.5",children:[d.jsxs("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6l4 2"})]}),Et(r.ngayTao)]})]})})}),d.jsx("div",{ref:Ue,className:"mt-6 flex flex-col items-center",children:d.jsxs("div",{className:"mt-4 w-full max-w-[520px] rounded-xl border border-dashed border-gray-300 p-3",children:[d.jsx("div",{className:"text-gray-600 font-medium mb-2 text-sm",children:"Chia s"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{readOnly:!0,value:ze,onClick:fe,className:"w-full rounded-md border border-indigo-200 bg-indigo-50/40 px-3 py-2 pr-20 outline-none text-sm cursor-pointer",title:"Bm  sao chp lin kt"}),d.jsx("button",{onClick:fe,className:"absolute right-1 top-1/2 -translate-y-1/2 px-2 py-1 rounded-md bg-indigo-600 text-white text-xs hover:bg-indigo-700",title:"Sao chp",children:""}),d.jsx("div",{"aria-live":"polite",className:`absolute right-12 top-1/2 -translate-y-1/2 text-xs
          transition-opacity duration-200
          ${de?"opacity-100":"opacity-0 pointer-events-none"}`,children:d.jsx("span",{className:"bg-emerald-50 text-emerald-700 border border-emerald-200 rounded px-2 py-0.5 shadow-sm",children:" sao chp "})})]}),d.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2",children:[d.jsx("img",{alt:"qr",width:"120",height:"120",src:`https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=${encodeURIComponent(ze)}`,className:"rounded-md"}),d.jsx("div",{className:"flex gap-2",children:d.jsx("button",{onClick:async()=>{const Ee=`https://api.qrserver.com/v1/create-qr-code/?size=512x512&data=${encodeURIComponent(ze)}`;try{const Ge=await(await fetch(Ee)).blob(),dt=URL.createObjectURL(Ge),Ht=i?`qr-${i}.png`:"qr.png",ft=document.createElement("a");ft.href=dt,ft.download=Ht,document.body.appendChild(ft),ft.click(),ft.remove(),URL.revokeObjectURL(dt)}catch(qe){alert("Khng ti c m QR"),console.error(qe)}},className:"px-3 py-1.5 rounded-md bg-indigo-600 text-white hover:bg-indigo-700 text-sm",children:"Ti m QR"})})]})]})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Tg(t){return t+.5|0}const Xc=(t,e,n)=>Math.max(Math.min(t,n),e);function ip(t){return Xc(Tg(t*2.55),0,255)}function lu(t){return Xc(Tg(t*255),0,255)}function ql(t){return Xc(Tg(t/2.55)/100,0,1)}function TS(t){return Xc(Tg(t*100),0,100)}const Ua={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},z4=[..."0123456789ABCDEF"],bK=t=>z4[t&15],wK=t=>z4[(t&240)>>4]+z4[t&15],Pm=t=>(t&240)>>4===(t&15),_K=t=>Pm(t.r)&&Pm(t.g)&&Pm(t.b)&&Pm(t.a);function SK(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ua[t[1]]*17,g:255&Ua[t[2]]*17,b:255&Ua[t[3]]*17,a:e===5?Ua[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ua[t[1]]<<4|Ua[t[2]],g:Ua[t[3]]<<4|Ua[t[4]],b:Ua[t[5]]<<4|Ua[t[6]],a:e===9?Ua[t[7]]<<4|Ua[t[8]]:255})),n}const NK=(t,e)=>t<255?e(t):"";function kK(t){var e=_K(t)?bK:wK;return t?"#"+e(t.r)+e(t.g)+e(t.b)+NK(t.a,e):void 0}const CK=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zP(t,e,n){const i=e*Math.min(n,1-n),r=(s,a=(s+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function jK(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function AK(t,e,n){const i=zP(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function PK(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function hw(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),a=Math.min(n,i,r),o=(s+a)/2;let l,c,h;return s!==a&&(h=s-a,c=o>.5?h/(2-s-a):h/(s+a),l=PK(n,i,r,h,s),l=l*60+.5),[l|0,c||0,o]}function dw(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(lu)}function fw(t,e,n){return dw(zP,t,e,n)}function LK(t,e,n){return dw(AK,t,e,n)}function TK(t,e,n){return dw(jK,t,e,n)}function UP(t){return(t%360+360)%360}function EK(t){const e=CK.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?ip(+e[5]):lu(+e[5]));const r=UP(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=LK(r,s,a):e[1]==="hsv"?i=TK(r,s,a):i=fw(r,s,a),{r:i[0],g:i[1],b:i[2],a:n}}function MK(t,e){var n=hw(t);n[0]=UP(n[0]+e),n=fw(n),t.r=n[0],t.g=n[1],t.b=n[2]}function RK(t){if(!t)return;const e=hw(t),n=e[0],i=TS(e[1]),r=TS(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${ql(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const ES={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},MS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function FK(){const t={},e=Object.keys(MS),n=Object.keys(ES);let i,r,s,a,o;for(i=0;i<e.length;i++){for(a=o=e[i],r=0;r<n.length;r++)s=n[r],o=o.replace(s,ES[s]);s=parseInt(MS[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let Lm;function DK(t){Lm||(Lm=FK(),Lm.transparent=[0,0,0,0]);const e=Lm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const OK=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function IK(t){const e=OK.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?ip(a):Xc(a*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?ip(i):Xc(i,0,255)),r=255&(e[4]?ip(r):Xc(r,0,255)),s=255&(e[6]?ip(s):Xc(s,0,255)),{r:i,g:r,b:s,a:n}}}function BK(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ql(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const jx=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ld=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function zK(t,e,n){const i=Ld(ql(t.r)),r=Ld(ql(t.g)),s=Ld(ql(t.b));return{r:lu(jx(i+n*(Ld(ql(e.r))-i))),g:lu(jx(r+n*(Ld(ql(e.g))-r))),b:lu(jx(s+n*(Ld(ql(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Tm(t,e,n){if(t){let i=hw(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=fw(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function VP(t,e){return t&&Object.assign(e||{},t)}function RS(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=lu(t[3]))):(e=VP(t,{r:0,g:0,b:0,a:1}),e.a=lu(e.a)),e}function UK(t){return t.charAt(0)==="r"?IK(t):EK(t)}class ng{constructor(e){if(e instanceof ng)return e;const n=typeof e;let i;n==="object"?i=RS(e):n==="string"&&(i=SK(e)||DK(e)||UK(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=VP(this._rgb);return e&&(e.a=ql(e.a)),e}set rgb(e){this._rgb=RS(e)}rgbString(){return this._valid?BK(this._rgb):void 0}hexString(){return this._valid?kK(this._rgb):void 0}hslString(){return this._valid?RK(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const a=n===s?.5:n,o=2*a-1,l=i.a-r.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=zK(this._rgb,e._rgb,n)),this}clone(){return new ng(this.rgb)}alpha(e){return this._rgb.a=lu(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Tg(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Tm(this._rgb,2,e),this}darken(e){return Tm(this._rgb,2,-e),this}saturate(e){return Tm(this._rgb,1,e),this}desaturate(e){return Tm(this._rgb,1,-e),this}rotate(e){return MK(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Il(){}const VK=(()=>{let t=0;return()=>t++})();function Vn(t){return t==null}function rr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function cn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function cs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Zo(t,e){return cs(t)?t:e}function sn(t,e){return typeof t>"u"?e:t}const HK=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Qn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function An(t,e,n,i){let r,s,a;if(rr(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(cn(t))for(a=Object.keys(t),s=a.length,r=0;r<s;r++)e.call(n,t[a[r]],a[r])}function _2(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function S2(t){if(rr(t))return t.map(S2);if(cn(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=S2(t[n[r]]);return e}return t}function HP(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function $K(t,e,n,i){if(!HP(t))return;const r=e[t],s=n[t];cn(r)&&cn(s)?ig(r,s,i):e[t]=S2(s)}function ig(t,e,n){const i=rr(e)?e:[e],r=i.length;if(!cn(t))return t;n=n||{};const s=n.merger||$K;let a;for(let o=0;o<r;++o){if(a=i[o],!cn(a))continue;const l=Object.keys(a);for(let c=0,h=l.length;c<h;++c)s(l[c],t,a,n)}return t}function bp(t,e){return ig(t,e,{merger:GK})}function GK(t,e,n){if(!HP(t))return;const i=e[t],r=n[t];cn(i)&&cn(r)?bp(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=S2(r))}const FS={"":t=>t,x:t=>t.x,y:t=>t.y};function qK(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function WK(t){const e=qK(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function N2(t,e){return(FS[e]||(FS[e]=WK(e)))(t)}function pw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const k2=t=>typeof t<"u",gu=t=>typeof t=="function",DS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function KK(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Sr=Math.PI,Lo=2*Sr,XK=Lo+Sr,C2=Number.POSITIVE_INFINITY,YK=Sr/180,Co=Sr/2,eh=Sr/4,OS=Sr*2/3,$P=Math.log10,Mf=Math.sign;function wp(t,e,n){return Math.abs(t-e)<n}function IS(t){const e=Math.round(t);t=wp(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor($P(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function QK(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function JK(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function rg(t){return!JK(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function ZK(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function eX(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function xh(t){return t*(Sr/180)}function tX(t){return t*(180/Sr)}function BS(t){if(!cs(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function nX(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Sr&&(s+=Lo),{angle:s,distance:r}}function U4(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function iX(t,e){return(t-e+XK)%Lo-Sr}function sl(t){return(t%Lo+Lo)%Lo}function GP(t,e,n,i){const r=sl(t),s=sl(e),a=sl(n),o=sl(s-r),l=sl(a-r),c=sl(r-s),h=sl(r-a);return r===s||r===a||i&&s===a||o>l&&c<h}function Wa(t,e,n){return Math.max(e,Math.min(n,t))}function rX(t){return Wa(t,-32768,32767)}function rf(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function gw(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const vh=(t,e,n,i)=>gw(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),sX=(t,e,n)=>gw(t,n,i=>t[i][e]>=n);function aX(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const qP=["push","pop","shift","splice","unshift"];function oX(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),qP.forEach(n=>{const i="_onData"+pw(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...s)}),a}})})}function zS(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(qP.forEach(s=>{delete t[s]}),delete t._chartjs)}function lX(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const WP=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function KP(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,WP.call(window,()=>{i=!1,t.apply(e,n)}))}}function cX(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const mw=t=>t==="start"?"left":t==="end"?"right":"center",ns=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,uX=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function hX(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,h=a.axis,{min:g,max:m,minDefined:p,maxDefined:x}=a.getUserBounds();if(p){if(r=Math.min(vh(l,h,g).lo,n?i:vh(e,h,a.getPixelForValue(g)).lo),c){const b=l.slice(0,r+1).reverse().findIndex(S=>!Vn(S[o.axis]));r-=Math.max(0,b)}r=Wa(r,0,i-1)}if(x){let b=Math.max(vh(l,a.axis,m,!0).hi+1,n?0:vh(e,h,a.getPixelForValue(m),!0).hi+1);if(c){const S=l.slice(b-1).findIndex(N=>!Vn(N[o.axis]));b+=Math.max(0,S)}s=Wa(b,r,i)-r}else s=i-r}return{start:r,count:s}}function dX(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Em=t=>t===0||t===1,US=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Lo/n)),VS=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Lo/n)+1,_p={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Co)+1,easeOutSine:t=>Math.sin(t*Co),easeInOutSine:t=>-.5*(Math.cos(Sr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Em(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Em(t)?t:US(t,.075,.3),easeOutElastic:t=>Em(t)?t:VS(t,.075,.3),easeInOutElastic(t){return Em(t)?t:t<.5?.5*US(t*2,.1125,.45):.5+.5*VS(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-_p.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?_p.easeInBounce(t*2)*.5:_p.easeOutBounce(t*2-1)*.5+.5};function yw(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function HS(t){return yw(t)?t:new ng(t)}function Ax(t){return yw(t)?t:new ng(t).saturate(.5).darken(.1).hexString()}const fX=["x","y","borderWidth","radius","tension"],pX=["color","borderColor","backgroundColor"];function gX(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:pX},numbers:{type:"number",properties:fX}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function mX(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $S=new Map;function yX(t,e){e=e||{};const n=t+JSON.stringify(e);let i=$S.get(n);return i||(i=new Intl.NumberFormat(t,e),$S.set(n,i)),i}function XP(t,e,n){return yX(e,n).format(t)}const xX={values(t){return rr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=vX(t,n)}const a=$P(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),XP(t,i,l)}};function vX(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var YP={formatters:xX};function bX(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:YP.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Fh=Object.create(null),V4=Object.create(null);function Sp(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Px(t,e,n){return typeof e=="string"?ig(Sp(t,e),n):ig(Sp(t,""),e)}class wX{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Ax(r.backgroundColor),this.hoverBorderColor=(i,r)=>Ax(r.borderColor),this.hoverColor=(i,r)=>Ax(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Px(this,e,n)}get(e){return Sp(this,e)}describe(e,n){return Px(V4,e,n)}override(e,n){return Px(Fh,e,n)}route(e,n,i,r){const s=Sp(this,e),a=Sp(this,i),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[r];return cn(l)?Object.assign({},c,l):sn(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var zi=new wX({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[gX,mX,bX]);function _X(t){return!t||Vn(t.size)||Vn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function GS(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function th(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function qS(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function H4(t,e,n,i){QP(t,e,n,i,null)}function QP(t,e,n,i,r){let s,a,o,l,c,h,g,m;const p=e.pointStyle,x=e.rotation,b=e.radius;let S=(x||0)*YK;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(S),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),p){default:r?t.ellipse(n,i,r/2,b,0,0,Lo):t.arc(n,i,b,0,Lo),t.closePath();break;case"triangle":h=r?r/2:b,t.moveTo(n+Math.sin(S)*h,i-Math.cos(S)*b),S+=OS,t.lineTo(n+Math.sin(S)*h,i-Math.cos(S)*b),S+=OS,t.lineTo(n+Math.sin(S)*h,i-Math.cos(S)*b),t.closePath();break;case"rectRounded":c=b*.516,l=b-c,a=Math.cos(S+eh)*l,g=Math.cos(S+eh)*(r?r/2-c:l),o=Math.sin(S+eh)*l,m=Math.sin(S+eh)*(r?r/2-c:l),t.arc(n-g,i-o,c,S-Sr,S-Co),t.arc(n+m,i-a,c,S-Co,S),t.arc(n+g,i+o,c,S,S+Co),t.arc(n-m,i+a,c,S+Co,S+Sr),t.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*b,h=r?r/2:l,t.rect(n-h,i-l,2*h,2*l);break}S+=eh;case"rectRot":g=Math.cos(S)*(r?r/2:b),a=Math.cos(S)*b,o=Math.sin(S)*b,m=Math.sin(S)*(r?r/2:b),t.moveTo(n-g,i-o),t.lineTo(n+m,i-a),t.lineTo(n+g,i+o),t.lineTo(n-m,i+a),t.closePath();break;case"crossRot":S+=eh;case"cross":g=Math.cos(S)*(r?r/2:b),a=Math.cos(S)*b,o=Math.sin(S)*b,m=Math.sin(S)*(r?r/2:b),t.moveTo(n-g,i-o),t.lineTo(n+g,i+o),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a);break;case"star":g=Math.cos(S)*(r?r/2:b),a=Math.cos(S)*b,o=Math.sin(S)*b,m=Math.sin(S)*(r?r/2:b),t.moveTo(n-g,i-o),t.lineTo(n+g,i+o),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a),S+=eh,g=Math.cos(S)*(r?r/2:b),a=Math.cos(S)*b,o=Math.sin(S)*b,m=Math.sin(S)*(r?r/2:b),t.moveTo(n-g,i-o),t.lineTo(n+g,i+o),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a);break;case"line":a=r?r/2:Math.cos(S)*b,o=Math.sin(S)*b,t.moveTo(n-a,i-o),t.lineTo(n+a,i+o);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(S)*(r?r/2:b),i+Math.sin(S)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function sg(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function sy(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ay(t){t.restore()}function SX(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function NX(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function kX(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Vn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function CX(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,h=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,h),t.lineTo(o,h),t.stroke()}}function jX(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ag(t,e,n,i,r,s={}){const a=rr(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,kX(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&jX(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Vn(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),CX(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function $4(t,e){const{x:n,y:i,w:r,h:s,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*Sr,Sr,!0),t.lineTo(n,i+s-a.bottomLeft),t.arc(n+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,Sr,Co,!0),t.lineTo(n+r-a.bottomRight,i+s),t.arc(n+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,Co,0,!0),t.lineTo(n+r,i+a.topRight),t.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-Co,!0),t.lineTo(n+a.topLeft,i)}const AX=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,PX=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function LX(t,e){const n=(""+t).match(AX);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const TX=t=>+t||0;function JP(t,e){const n={},i=cn(e),r=i?Object.keys(e):e,s=cn(t)?i?a=>sn(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=TX(s(a));return n}function EX(t){return JP(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Np(t){return JP(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ja(t){const e=EX(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function os(t,e){t=t||{},e=e||zi.font;let n=sn(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=sn(t.style,e.style);i&&!(""+i).match(PX)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:sn(t.family,e.family),lineHeight:LX(sn(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:sn(t.weight,e.weight),string:""};return r.string=_X(r),r}function Mm(t,e,n,i){let r,s,a;for(r=0,s=t.length;r<s;++r)if(a=t[r],a!==void 0&&a!==void 0)return a}function MX(t,e,n){const{min:i,max:r}=t,s=HK(e,(r-i)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function Yh(t,e){return Object.assign(Object.create(t),e)}function xw(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=nL("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:o=>xw([o,...t],e,s,i)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return eL(o,l,()=>UX(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return KS(o).includes(l)},ownKeys(o){return KS(o)},set(o,l,c){const h=o._storage||(o._storage=r());return o[l]=h[l]=c,delete o._keys,!0}})}function Rf(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ZP(t,i),setContext:s=>Rf(t,s,n,i),override:s=>Rf(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return eL(s,a,()=>FX(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function ZP(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:gu(n)?n:()=>n,isIndexable:gu(i)?i:()=>i}}const RX=(t,e)=>t?t+pw(e):e,vw=(t,e)=>cn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function eL(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function FX(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=t;let o=i[e];return gu(o)&&a.isScriptable(e)&&(o=DX(e,o,t,n)),rr(o)&&o.length&&(o=OX(e,o,t,a.isIndexable)),vw(e,o)&&(o=Rf(o,r,s&&s[e],a)),o}function DX(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||i);return o.delete(t),vw(t,l)&&(l=bw(r._scopes,r,t,l)),l}function OX(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(cn(e[0])){const l=e,c=r._scopes.filter(h=>h!==l);e=[];for(const h of l){const g=bw(c,r,t,h);e.push(Rf(g,s,a&&a[t],o))}}return e}function tL(t,e,n){return gu(t)?t(e,n):t}const IX=(t,e)=>t===!0?e:typeof t=="string"?N2(e,t):void 0;function BX(t,e,n,i,r){for(const s of e){const a=IX(n,s);if(a){t.add(a);const o=tL(a._fallback,n,r);if(typeof o<"u"&&o!==n&&o!==i)return o}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function bw(t,e,n,i){const r=e._rootScopes,s=tL(e._fallback,n,i),a=[...t,...r],o=new Set;o.add(i);let l=WS(o,a,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=WS(o,a,s,l,i),l===null)?!1:xw(Array.from(o),[""],r,s,()=>zX(e,n,i))}function WS(t,e,n,i,r){for(;n;)n=BX(t,e,n,i,r);return n}function zX(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return rr(r)&&cn(n)?n:r||{}}function UX(t,e,n,i){let r;for(const s of e)if(r=nL(RX(s,t),n),typeof r<"u")return vw(t,r)?bw(n,i,t,r):r}function nL(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function KS(t){let e=t._keys;return e||(e=t._keys=VX(t._scopes)),e}function VX(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const HX=Number.EPSILON||1e-14,Ff=(t,e)=>e<t.length&&!t[e].skip&&t[e],iL=t=>t==="x"?"y":"x";function $X(t,e,n,i){const r=t.skip?e:t,s=e,a=n.skip?e:n,o=U4(s,r),l=U4(a,s);let c=o/(o+l),h=l/(o+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const g=i*c,m=i*h;return{previous:{x:s.x-g*(a.x-r.x),y:s.y-g*(a.y-r.y)},next:{x:s.x+m*(a.x-r.x),y:s.y+m*(a.y-r.y)}}}function GX(t,e,n){const i=t.length;let r,s,a,o,l,c=Ff(t,0);for(let h=0;h<i-1;++h)if(l=c,c=Ff(t,h+1),!(!l||!c)){if(wp(e[h],0,HX)){n[h]=n[h+1]=0;continue}r=n[h]/e[h],s=n[h+1]/e[h],o=Math.pow(r,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),n[h]=r*a*e[h],n[h+1]=s*a*e[h])}}function qX(t,e,n="x"){const i=iL(n),r=t.length;let s,a,o,l=Ff(t,0);for(let c=0;c<r;++c){if(a=o,o=l,l=Ff(t,c+1),!o)continue;const h=o[n],g=o[i];a&&(s=(h-a[n])/3,o[`cp1${n}`]=h-s,o[`cp1${i}`]=g-s*e[c]),l&&(s=(l[n]-h)/3,o[`cp2${n}`]=h+s,o[`cp2${i}`]=g+s*e[c])}}function WX(t,e="x"){const n=iL(e),i=t.length,r=Array(i).fill(0),s=Array(i);let a,o,l,c=Ff(t,0);for(a=0;a<i;++a)if(o=l,l=c,c=Ff(t,a+1),!!l){if(c){const h=c[e]-l[e];r[a]=h!==0?(c[n]-l[n])/h:0}s[a]=o?c?Mf(r[a-1])!==Mf(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}GX(t,r,s),qX(t,s,e)}function Rm(t,e,n){return Math.max(Math.min(t,n),e)}function KX(t,e){let n,i,r,s,a,o=sg(t[0],e);for(n=0,i=t.length;n<i;++n)a=s,s=o,o=n<i-1&&sg(t[n+1],e),s&&(r=t[n],a&&(r.cp1x=Rm(r.cp1x,e.left,e.right),r.cp1y=Rm(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=Rm(r.cp2x,e.left,e.right),r.cp2y=Rm(r.cp2y,e.top,e.bottom)))}function XX(t,e,n,i,r){let s,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")WX(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=$X(c,o,t[Math.min(s+1,a-(i?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&KX(t,n)}function ww(){return typeof window<"u"&&typeof document<"u"}function _w(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function j2(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const oy=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function YX(t,e){return oy(t).getPropertyValue(e)}const QX=["top","right","bottom","left"];function kh(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=QX[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const JX=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function ZX(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let a=!1,o,l;if(JX(r,s,t.target))o=r,l=s;else{const c=e.getBoundingClientRect();o=i.clientX-c.left,l=i.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function lh(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=oy(n),s=r.boxSizing==="border-box",a=kh(r,"padding"),o=kh(r,"border","width"),{x:l,y:c,box:h}=ZX(t,n),g=a.left+(h&&o.left),m=a.top+(h&&o.top);let{width:p,height:x}=e;return s&&(p-=a.width+o.width,x-=a.height+o.height),{x:Math.round((l-g)/p*n.width/i),y:Math.round((c-m)/x*n.height/i)}}function eY(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&_w(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),o=oy(s),l=kh(o,"border","width"),c=kh(o,"padding");e=a.width-c.width-l.width,n=a.height-c.height-l.height,i=j2(o.maxWidth,s,"clientWidth"),r=j2(o.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||C2,maxHeight:r||C2}}const Yc=t=>Math.round(t*10)/10;function tY(t,e,n,i){const r=oy(t),s=kh(r,"margin"),a=j2(r.maxWidth,t,"clientWidth")||C2,o=j2(r.maxHeight,t,"clientHeight")||C2,l=eY(t,e,n);let{width:c,height:h}=l;if(r.boxSizing==="content-box"){const m=kh(r,"border","width"),p=kh(r,"padding");c-=p.width+m.width,h-=p.height+m.height}return c=Math.max(0,c-s.width),h=Math.max(0,i?c/i:h-s.height),c=Yc(Math.min(c,a,l.maxWidth)),h=Yc(Math.min(h,o,l.maxHeight)),c&&!h&&(h=Yc(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Yc(Math.floor(h*i))),{width:c,height:h}}function XS(t,e,n){const i=e||1,r=Yc(t.height*i),s=Yc(t.width*i);t.height=Yc(t.height),t.width=Yc(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(t.currentDevicePixelRatio=i,a.height=r,a.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const nY=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ww()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function YS(t,e){const n=YX(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ch(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function iY(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function rY(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=ch(t,r,n),o=ch(r,s,n),l=ch(s,e,n),c=ch(a,o,n),h=ch(o,l,n);return ch(c,h,n)}const sY=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},aY=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ff(t,e,n){return t?sY(e,n):aY()}function rL(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function sL(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function aL(t){return t==="angle"?{between:GP,compare:iX,normalize:sl}:{between:rf,compare:(e,n)=>e-n,normalize:e=>e}}function QS({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function oY(t,e,n){const{property:i,start:r,end:s}=n,{between:a,normalize:o}=aL(i),l=e.length;let{start:c,end:h,loop:g}=t,m,p;if(g){for(c+=l,h+=l,m=0,p=l;m<p&&a(o(e[c%l][i]),r,s);++m)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:g,style:t.style}}function oL(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,a=e.length,{compare:o,between:l,normalize:c}=aL(i),{start:h,end:g,loop:m,style:p}=oY(t,e,n),x=[];let b=!1,S=null,N,j,w;const k=()=>l(r,w,N)&&o(r,w)!==0,E=()=>o(s,N)===0||l(s,w,N),O=()=>b||k(),U=()=>!b||E();for(let M=h,I=h;M<=g;++M)j=e[M%a],!j.skip&&(N=c(j[i]),N!==w&&(b=l(N,r,s),S===null&&O()&&(S=o(N,r)===0?M:I),S!==null&&U()&&(x.push(QS({start:S,end:M,loop:m,count:a,style:p})),S=null),I=M,w=N));return S!==null&&x.push(QS({start:S,end:g,loop:m,count:a,style:p})),x}function lL(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=oL(i[r],t.points,e);s.length&&n.push(...s)}return n}function lY(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function cY(t,e,n,i){const r=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?o.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%r,end:a%r,loop:i}),s}function uY(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:a,end:o}=lY(n,r,s,i);if(i===!0)return JS(t,[{start:a,end:o,loop:s}],n,e);const l=o<a?o+r:o,c=!!t._fullLoop&&a===0&&o===r-1;return JS(t,cY(n,a,l,c),n,e)}function JS(t,e,n,i){return!i||!i.setContext||!n?e:hY(t,e,n,i)}function hY(t,e,n,i){const r=t._chart.getContext(),s=ZS(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,c=[];let h=s,g=e[0].start,m=g;function p(x,b,S,N){const j=o?-1:1;if(x!==b){for(x+=l;n[x%l].skip;)x-=j;for(;n[b%l].skip;)b+=j;x%l!==b%l&&(c.push({start:x%l,end:b%l,loop:S,style:N}),h=N,g=b%l)}}for(const x of e){g=o?g:x.start;let b=n[g%l],S;for(m=g+1;m<=x.end;m++){const N=n[m%l];S=ZS(i.setContext(Yh(r,{type:"segment",p0:b,p1:N,p0DataIndex:(m-1)%l,p1DataIndex:m%l,datasetIndex:a}))),dY(S,h)&&p(g,m-1,x.loop,h),b=N,h=S}g<m-1&&p(g,m-1,x.loop,h)}return c}function ZS(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function dY(t,e){if(!e)return!1;const n=[],i=function(r,s){return yw(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Fm(t,e,n){return t.options.clip?t[n]:e[n]}function fY(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Fm(n,e,"left"),right:Fm(n,e,"right"),top:Fm(i,e,"top"),bottom:Fm(i,e,"bottom")}:e}function cL(t,e){const n=e._clip;if(n.disabled)return!1;const i=fY(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class pY{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],a=n.duration;s.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=WP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Vl=new pY;const e7="transparent",gY={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=HS(t||e7),r=i.valid&&HS(e||e7);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class mY{constructor(e,n,i,r){const s=n[i];r=Mm([e.to,r,s,e.from]);const a=Mm([e.from,s,r]);this._active=!0,this._fn=e.fn||gY[e.type||typeof a],this._easing=_p[e.easing]||_p.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Mm([e.to,n,r,e.from]),this._from=Mm([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||n<i),!this._active){this._target[r]=o,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class uL{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!cn(e))return;const n=Object.keys(zi.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!cn(s))return;const a={};for(const o of n)a[o]=s[o];(rr(s.properties)&&s.properties||[r]).forEach(o=>{(o===r||!i.has(o))&&i.set(o,a)})})}_animateOptions(e,n){const i=n.options,r=xY(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&yY(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[c];let g=s[c];const m=i.get(c);if(g)if(m&&g.active()){g.update(m,h,o);continue}else g.cancel();if(!m||!m.duration){e[c]=h;continue}s[c]=g=new mY(m,e,c,h),r.push(g)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Vl.add(this._chart,i),!0}}function yY(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function xY(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function t7(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function vY(t,e,n){if(n===!1)return!1;const i=t7(t,n),r=t7(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function bY(t){let e,n,i,r;return cn(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function hL(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function n7(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let a,o,l,c;if(e===null)return;let h=!1;for(a=0,o=r.length;a<o;++a){if(l=+r[a],l===n){if(h=!0,i.all)continue;break}c=t.values[l],cs(c)&&(s||e===0||Mf(e)===Mf(c))&&(e+=c)}return!h&&!i.all?0:e}function wY(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,h;for(l=0,c=a.length;l<c;++l)h=a[l],o[l]={[r]:h,[s]:t[h]};return o}function Lx(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function _Y(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function SY(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function NY(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function i7(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function r7(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=i,l=s.axis,c=a.axis,h=_Y(s,a,i),g=e.length;let m;for(let p=0;p<g;++p){const x=e[p],{[l]:b,[c]:S}=x,N=x._stacks||(x._stacks={});m=N[c]=NY(r,h,b),m[o]=S,m._top=i7(m,a,!0,i.type),m._bottom=i7(m,a,!1,i.type);const j=m._visualValues||(m._visualValues={});j[o]=S}}function Tx(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function kY(t,e){return Yh(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function CY(t,e,n){return Yh(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function B0(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Ex=t=>t==="reset"||t==="none",s7=(t,e)=>e?t:Object.assign({},t),jY=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:hL(n,!0),values:null};class kp{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Lx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&B0(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(g,m,p,x)=>g==="x"?m:g==="r"?x:p,s=n.xAxisID=sn(i.xAxisID,Tx(e,"x")),a=n.yAxisID=sn(i.yAxisID,Tx(e,"y")),o=n.rAxisID=sn(i.rAxisID,Tx(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,a,o),h=n.vAxisID=r(l,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&zS(this._data,this),e._stacked&&B0(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(cn(n)){const r=this._cachedMeta;this._data=wY(n,r)}else if(i!==n){if(i){zS(i,this);const r=this._cachedMeta;B0(r),r._parsed=[]}n&&Object.isExtensible(n)&&oX(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Lx(n.vScale,n),n.stack!==i.stack&&(r=!0,B0(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(r7(this,n._parsed),n._stacked=Lx(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,o=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],h,g,m;if(this._parsing===!1)i._parsed=r,i._sorted=!0,m=r;else{rr(r[e])?m=this.parseArrayData(i,r,e,n):cn(r[e])?m=this.parseObjectData(i,r,e,n):m=this.parsePrimitiveData(i,r,e,n);const p=()=>g[o]===null||c&&g[o]<c[o];for(h=0;h<n;++h)i._parsed[h+e]=g=m[h],l&&(p()&&(l=!1),c=g);i._sorted=l}a&&r7(this,m)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),h=s===a,g=new Array(r);let m,p,x;for(m=0,p=r;m<p;++m)x=m+i,g[m]={[o]:h||s.parse(c[x],x),[l]:a.parse(n[x],x)};return g}parseArrayData(e,n,i,r){const{xScale:s,yScale:a}=e,o=new Array(r);let l,c,h,g;for(l=0,c=r;l<c;++l)h=l+i,g=n[h],o[l]={x:s.parse(g[0],h),y:a.parse(g[1],h)};return o}parseObjectData(e,n,i,r){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let h,g,m,p;for(h=0,g=r;h<g;++h)m=h+i,p=n[m],c[h]={x:s.parse(N2(p,o),m),y:a.parse(N2(p,l),m)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,a=n[e.axis],o={keys:hL(r,!0),values:n._stacks[e.axis]._visualValues};return n7(o,a,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let a=s===null?NaN:s;const o=r&&i._stacks[n.axis];r&&o&&(r.values=o,a=n7(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,o=this._getOtherScale(e),l=jY(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:g}=SY(o);let m,p;function x(){p=r[m];const b=p[o.axis];return!cs(p[e.axis])||h>b||g<b}for(m=0;m<a&&!(!x()&&(this.updateRangeFromParsed(c,e,p,l),s));++m);if(s){for(m=a-1;m>=0;--m)if(!x()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=n.length;r<s;++r)a=n[r][e.axis],cs(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=bY(sn(this.options.clip,vY(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,o,l),h=o;h<o+l;++h){const g=r[h];g.hidden||(g.active&&c?a.push(g):g.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=CY(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=kY(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,a=e+"-"+n,o=s[a],l=this.enableOptionSharing&&k2(i);if(o)return s7(o,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),g=r?[`${e}Hover`,"hover",e,""]:[e,""],m=c.getOptionScopes(this.getDataset(),h),p=Object.keys(zi.elements[e]),x=()=>this.getContext(i,r,n),b=c.resolveNamedOptions(m,p,x,g);return b.$shared&&(b.$shared=l,s[a]=Object.freeze(s7(b,l))),b}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let l;if(r.options.animation!==!1){const h=this.chart.config,g=h.datasetAnimationScopeKeys(this._type,n),m=h.getOptionScopes(this.getDataset(),g);l=h.createResolver(m,this.getContext(e,i,n))}const c=new uL(r,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ex(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:a}}updateElement(e,n,i,r){Ex(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Ex(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const r=i.length,s=n.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,a=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&B0(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}et(kp,"defaults",{}),et(kp,"datasetElementType",null),et(kp,"dataElementType",null);class S1 extends kp{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=hX(n,r,a);this._drawStart=o,this._drawCount=l,dX(n)&&(o=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:c},e),this.updateElements(r,o,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:g}=this._getSharedOptions(n,r),m=a.axis,p=o.axis,{spanGaps:x,segment:b}=this.options,S=rg(x)?x:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||s||r==="none",j=n+i,w=e.length;let k=n>0&&this.getParsed(n-1);for(let E=0;E<w;++E){const O=e[E],U=N?O:{};if(E<n||E>=j){U.skip=!0;continue}const M=this.getParsed(E),I=Vn(M[p]),F=U[m]=a.getPixelForValue(M[m],E),P=U[p]=s||I?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,M,l):M[p],E);U.skip=isNaN(F)||isNaN(P)||I,U.stop=E>0&&Math.abs(M[m]-k[m])>S,b&&(U.parsed=M,U.raw=c.data[E]),g&&(U.options=h||this.resolveDataElementOptions(E,O.active?"active":r)),N||this.updateElement(O,E,U,r),k=M}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}et(S1,"id","line"),et(S1,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),et(S1,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function nh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sw{constructor(e){et(this,"options");this.options=e||{}}static override(e){Object.assign(Sw.prototype,e)}init(){}formats(){return nh()}parse(){return nh()}format(){return nh()}add(){return nh()}diff(){return nh()}startOf(){return nh()}endOf(){return nh()}}var AY={_date:Sw};function PY(t,e,n,i){const{controller:r,data:s,_sorted:a}=t,o=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?sX:vh;if(i){if(r._sharedOptions){const h=s[0],g=typeof h.getRange=="function"&&h.getRange(e);if(g){const m=c(s,e,n-g),p=c(s,e,n+g);return{lo:m.lo,hi:p.hi}}}}else{const h=c(s,e,n);if(l){const{vScale:g}=r._cachedMeta,{_parsed:m}=t,p=m.slice(0,h.lo+1).reverse().findIndex(b=>!Vn(b[g.axis]));h.lo-=Math.max(0,p);const x=m.slice(h.hi).findIndex(b=>!Vn(b[g.axis]));h.hi+=Math.max(0,x)}return h}}return{lo:0,hi:s.length-1}}function ly(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:h}=s[o],{lo:g,hi:m}=PY(s[o],e,a,r);for(let p=g;p<=m;++p){const x=h[p];x.skip||i(x,c,p)}}}function LY(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Mx(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||ly(t,n,e,function(o,l,c){!r&&!sg(o,t.chartArea,0)||o.inRange(e.x,e.y,i)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function TY(t,e,n,i){let r=[];function s(a,o,l){const{startAngle:c,endAngle:h}=a.getProps(["startAngle","endAngle"],i),{angle:g}=nX(a,{x:e.x,y:e.y});GP(g,c,h)&&r.push({element:a,datasetIndex:o,index:l})}return ly(t,n,e,s),r}function EY(t,e,n,i,r,s){let a=[];const o=LY(n);let l=Number.POSITIVE_INFINITY;function c(h,g,m){const p=h.inRange(e.x,e.y,r);if(i&&!p)return;const x=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(x))&&!p)return;const S=o(e,x);S<l?(a=[{element:h,datasetIndex:g,index:m}],l=S):S===l&&a.push({element:h,datasetIndex:g,index:m})}return ly(t,n,e,c),a}function Rx(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?TY(t,e,n,r):EY(t,e,n,i,r,s)}function a7(t,e,n,i,r){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return ly(t,n,e,(l,c,h)=>{l[a]&&l[a](e[n],r)&&(s.push({element:l,datasetIndex:c,index:h}),o=o||l.inRange(e.x,e.y,r))}),i&&!o?[]:s}var MY={modes:{index(t,e,n,i){const r=lh(e,t),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Mx(t,r,s,i,a):Rx(t,r,s,!1,i,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const h=o[0].index,g=c.data[h];g&&!g.skip&&l.push({element:g,datasetIndex:c.index,index:h})}),l):[]},dataset(t,e,n,i){const r=lh(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Mx(t,r,s,i,a):Rx(t,r,s,!1,i,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let h=0;h<c.length;++h)o.push({element:c[h],datasetIndex:l,index:h})}return o},point(t,e,n,i){const r=lh(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return Mx(t,r,s,i,a)},nearest(t,e,n,i){const r=lh(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return Rx(t,r,s,n.intersect,i,a)},x(t,e,n,i){const r=lh(e,t);return a7(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=lh(e,t);return a7(t,r,"y",n.intersect,i)}}};const dL=["left","top","right","bottom"];function z0(t,e){return t.filter(n=>n.pos===e)}function o7(t,e){return t.filter(n=>dL.indexOf(n.pos)===-1&&n.box.axis===e)}function U0(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function RY(t){const e=[];let n,i,r,s,a,o;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:a,stackWeight:o=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:o});return e}function FY(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!dL.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function DY(t,e){const n=FY(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,c=n[o.stack],h=c&&o.stackWeight/c.weight;o.horizontal?(o.width=h?h*i:l&&e.availableWidth,o.height=r):(o.width=i,o.height=h?h*r:l&&e.availableHeight)}return n}function OY(t){const e=RY(t),n=U0(e.filter(c=>c.box.fullSize),!0),i=U0(z0(e,"left"),!0),r=U0(z0(e,"right")),s=U0(z0(e,"top"),!0),a=U0(z0(e,"bottom")),o=o7(e,"x"),l=o7(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(a).concat(o),chartArea:z0(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(a).concat(o)}}function l7(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function fL(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function IY(t,e,n,i){const{pos:r,box:s}=n,a=t.maxPadding;if(!cn(r)){n.size&&(t[r]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?s.height:s.width),n.size=g.size/g.count,t[r]+=n.size}s.getPadding&&fL(a,s.getPadding());const o=Math.max(0,e.outerWidth-l7(a,t,"left","right")),l=Math.max(0,e.outerHeight-l7(a,t,"top","bottom")),c=o!==t.w,h=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function BY(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function zY(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return i(t?["left","right"]:["top","bottom"])}function rp(t,e,n,i){const r=[];let s,a,o,l,c,h;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,zY(o.horizontal,e));const{same:g,other:m}=IY(e,n,o,i);c|=g&&r.length,h=h||m,l.fullSize||r.push(o)}return c&&rp(r,e,n,i)||h}function Dm(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function c7(t,e,n,i){const r=n.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,c=i[o.stack]||{placed:0,weight:1},h=o.stackWeight/c.weight||1;if(o.horizontal){const g=e.w*h,m=c.size||l.height;k2(c.start)&&(a=c.start),l.fullSize?Dm(l,r.left,a,n.outerWidth-r.right-r.left,m):Dm(l,e.left+c.placed,a,g,m),c.start=a,c.placed+=g,a=l.bottom}else{const g=e.h*h,m=c.size||l.width;k2(c.start)&&(s=c.start),l.fullSize?Dm(l,s,r.top,m,n.outerHeight-r.bottom-r.top):Dm(l,s,e.top+c.placed,m,g),c.start=s,c.placed+=g,s=l.right}}e.x=s,e.y=a}var Ka={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Ja(t.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(n-r.height,0),o=OY(t.boxes),l=o.vertical,c=o.horizontal;An(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const h=l.reduce((b,S)=>S.box.options&&S.box.options.display===!1?b:b+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/h,hBoxMaxHeight:a/2}),m=Object.assign({},r);fL(m,Ja(i));const p=Object.assign({maxPadding:m,w:s,h:a,x:r.left,y:r.top},r),x=DY(l.concat(c),g);rp(o.fullSize,p,g,x),rp(l,p,g,x),rp(c,p,g,x)&&rp(l,p,g,x),BY(p),c7(o.leftAndTop,p,g,x),p.x+=p.w,p.y+=p.h,c7(o.rightAndBottom,p,g,x),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},An(o.chartArea,b=>{const S=b.box;Object.assign(S,t.chartArea),S.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class pL{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class UY extends pL{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const N1="$chartjs",VY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},u7=t=>t===null||t==="";function HY(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[N1]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",u7(r)){const s=YS(t,"width");s!==void 0&&(t.width=s)}if(u7(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=YS(t,"height");s!==void 0&&(t.height=s)}return t}const gL=nY?{passive:!0}:!1;function $Y(t,e,n){t&&t.addEventListener(e,n,gL)}function GY(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,gL)}function qY(t,e){const n=VY[t.type]||t.type,{x:i,y:r}=lh(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function A2(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function WY(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||A2(o.addedNodes,i),a=a&&!A2(o.removedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function KY(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||A2(o.removedNodes,i),a=a&&!A2(o.addedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const og=new Map;let h7=0;function mL(){const t=window.devicePixelRatio;t!==h7&&(h7=t,og.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function XY(t,e){og.size||window.addEventListener("resize",mL),og.set(t,e)}function YY(t){og.delete(t),og.size||window.removeEventListener("resize",mL)}function QY(t,e,n){const i=t.canvas,r=i&&_w(i);if(!r)return;const s=KP((o,l)=>{const c=r.clientWidth;n(o,l),c<r.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||s(c,h)});return a.observe(r),XY(t,s),a}function Fx(t,e,n){n&&n.disconnect(),e==="resize"&&YY(t)}function JY(t,e,n){const i=t.canvas,r=KP(s=>{t.ctx!==null&&n(qY(s,t))},t);return $Y(i,e,r),r}class ZY extends pL{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(HY(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[N1])return!1;const i=n[N1].initial;["height","width"].forEach(s=>{const a=i[s];Vn(a)?n.removeAttribute(s):n.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[N1],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:WY,detach:KY,resize:QY}[n]||JY;r[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Fx,detach:Fx,resize:Fx}[n]||GY)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return tY(e,n,i,r)}isAttached(e){const n=e&&_w(e);return!!(n&&n.isConnected)}}function eQ(t){return!ww()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?UY:ZY}var t1;let Qh=(t1=class{constructor(){et(this,"x");et(this,"y");et(this,"active",!1);et(this,"options");et(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return rg(this.x)&&rg(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},et(t1,"defaults",{}),et(t1,"defaultRoutes"),t1);function tQ(t,e){const n=t.options.ticks,i=nQ(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?rQ(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>r)return sQ(e,c,s,a/r),c;const h=iQ(s,e,r);if(a>0){let g,m;const p=a>1?Math.round((l-o)/(a-1)):null;for(Om(e,c,h,Vn(p)?0:o-p,o),g=0,m=a-1;g<m;g++)Om(e,c,h,s[g],s[g+1]);return Om(e,c,h,l,Vn(p)?e.length:l+p),c}return Om(e,c,h),c}function nQ(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function iQ(t,e,n){const i=aQ(t),r=e.length/n;if(!i)return Math.max(r,1);const s=QK(i);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>r)return l}return Math.max(r,1)}function rQ(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function sQ(t,e,n,i){let r=0,s=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===s&&(e.push(t[a]),r++,s=n[r*i])}function Om(t,e,n,i,r){const s=sn(i,0),a=Math.min(sn(r,t.length),t.length);let o=0,l,c,h;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),h=s;h<0;)o++,h=Math.round(s+o*n);for(c=Math.max(s,0);c<a;c++)c===h&&(e.push(t[c]),o++,h=Math.round(s+o*n))}function aQ(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const oQ=t=>t==="left"?"right":t==="right"?"left":t,d7=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,f7=(t,e)=>Math.min(e||t,t);function p7(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function lQ(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-o||l>a+o)))return l}function cQ(t,e){An(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function V0(t){return t.drawTicks?t.tickLength:0}function g7(t,e){if(!t.display)return 0;const n=os(t.font,e),i=Ja(t.padding);return(rr(t.text)?t.text.length:1)*n.lineHeight+i.height}function uQ(t,e){return Yh(t,{scale:e,type:"scale"})}function hQ(t,e,n){return Yh(t,{tick:n,index:e,type:"tick"})}function dQ(t,e,n){let i=mw(t);return(n&&e!=="right"||!n&&e==="right")&&(i=oQ(i)),i}function fQ(t,e,n,i){const{top:r,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:h}=l;let g=0,m,p,x;const b=a-r,S=o-s;if(t.isHorizontal()){if(p=ns(i,s,o),cn(n)){const N=Object.keys(n)[0],j=n[N];x=h[N].getPixelForValue(j)+b-e}else n==="center"?x=(c.bottom+c.top)/2+b-e:x=d7(t,n,e);m=o-s}else{if(cn(n)){const N=Object.keys(n)[0],j=n[N];p=h[N].getPixelForValue(j)-S+e}else n==="center"?p=(c.left+c.right)/2-S+e:p=d7(t,n,e);x=ns(i,a,r),g=n==="left"?-Co:Co}return{titleX:p,titleY:x,maxWidth:m,rotation:g}}class Qf extends Qh{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Zo(e,Number.POSITIVE_INFINITY),n=Zo(n,Number.NEGATIVE_INFINITY),i=Zo(i,Number.POSITIVE_INFINITY),r=Zo(r,Number.NEGATIVE_INFINITY),{min:Zo(e,i),max:Zo(n,r),minDefined:cs(e),maxDefined:cs(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),s||(i=Math.max(i,a.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Zo(n,Zo(i,n)),max:Zo(i,Zo(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Qn(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=MX(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?p7(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=tQ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Qn(this.options.afterUpdate,[this])}beforeSetDimensions(){Qn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Qn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Qn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Qn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Qn(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Qn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Qn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=f7(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let a=r,o,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),g=h.widest.width,m=h.highest.height,p=Wa(this.chart.width-g,0,this.maxWidth);o=e.offset?this.maxWidth/i:p/(i-1),g+6>o&&(o=p/(i-(e.offset?.5:1)),l=this.maxHeight-V0(e.grid)-n.padding-g7(e.title,this.chart.options.font),c=Math.sqrt(g*g+m*m),a=tX(Math.min(Math.asin(Wa((h.highest.height+6)/o,-1,1)),Math.asin(Wa(l/c,-1,1))-Math.asin(Wa(m/c,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Qn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Qn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=g7(r,n.options.font);if(o?(e.width=this.maxWidth,e.height=V0(s)+l):(e.height=this.maxHeight,e.width=V0(s)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:g,highest:m}=this._getLabelSizes(),p=i.padding*2,x=xh(this.labelRotation),b=Math.cos(x),S=Math.sin(x);if(o){const N=i.mirror?0:S*g.width+b*m.height;e.height=Math.min(this.maxHeight,e.height+N+p)}else{const N=i.mirror?0:b*g.width+S*m.height;e.width=Math.min(this.maxWidth,e.width+N+p)}this._calculatePadding(c,h,S,b)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,p=0;l?c?(m=r*e.width,p=i*n.height):(m=i*e.height,p=r*n.width):s==="start"?p=n.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,p=n.width/2),this.paddingLeft=Math.max((m-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((p-g+a)*this.width/(this.width-g),0)}else{let h=n.height/2,g=e.height/2;s==="start"?(h=0,g=e.height):s==="end"&&(h=n.height,g=0),this.paddingTop=h+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Qn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Vn(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=p7(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(n/f7(n,i));let c=0,h=0,g,m,p,x,b,S,N,j,w,k,E;for(g=0;g<n;g+=l){if(x=e[g].label,b=this._resolveTickFontOptions(g),r.font=S=b.string,N=s[S]=s[S]||{data:{},gc:[]},j=b.lineHeight,w=k=0,!Vn(x)&&!rr(x))w=GS(r,N.data,N.gc,w,x),k=j;else if(rr(x))for(m=0,p=x.length;m<p;++m)E=x[m],!Vn(E)&&!rr(E)&&(w=GS(r,N.data,N.gc,w,E),k+=j);a.push(w),o.push(k),c=Math.max(w,c),h=Math.max(k,h)}cQ(s,n);const O=a.indexOf(c),U=o.indexOf(h),M=I=>({width:a[I]||0,height:o[I]||0});return{first:M(0),last:M(n-1),widest:M(O),highest:M(U),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return rX(this._alignToPixels?th(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=hQ(this.getContext(),e,i))}return this.$context||(this.$context=uQ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=xh(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*i>o*r?o/i:l/r:l*r<o*i?l/i:o/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:o}=r,l=s.offset,c=this.isHorizontal(),g=this.ticks.length+(l?1:0),m=V0(s),p=[],x=o.setContext(this.getContext()),b=x.display?x.width:0,S=b/2,N=function(ce){return th(i,ce,b)};let j,w,k,E,O,U,M,I,F,P,R,$;if(a==="top")j=N(this.bottom),U=this.bottom-m,I=j-S,P=N(e.top)+S,$=e.bottom;else if(a==="bottom")j=N(this.top),P=e.top,$=N(e.bottom)-S,U=j+S,I=this.top+m;else if(a==="left")j=N(this.right),O=this.right-m,M=j-S,F=N(e.left)+S,R=e.right;else if(a==="right")j=N(this.left),F=e.left,R=N(e.right)-S,O=j+S,M=this.left+m;else if(n==="x"){if(a==="center")j=N((e.top+e.bottom)/2+.5);else if(cn(a)){const ce=Object.keys(a)[0],pe=a[ce];j=N(this.chart.scales[ce].getPixelForValue(pe))}P=e.top,$=e.bottom,U=j+S,I=U+m}else if(n==="y"){if(a==="center")j=N((e.left+e.right)/2);else if(cn(a)){const ce=Object.keys(a)[0],pe=a[ce];j=N(this.chart.scales[ce].getPixelForValue(pe))}O=j-S,M=O-m,F=e.left,R=e.right}const G=sn(r.ticks.maxTicksLimit,g),ee=Math.max(1,Math.ceil(g/G));for(w=0;w<g;w+=ee){const ce=this.getContext(w),pe=s.setContext(ce),Z=o.setContext(ce),te=pe.lineWidth,he=pe.color,Y=Z.dash||[],B=Z.dashOffset,K=pe.tickWidth,ie=pe.tickColor,ue=pe.tickBorderDash||[],de=pe.tickBorderDashOffset;k=lQ(this,w,l),k!==void 0&&(E=th(i,k,te),c?O=M=F=R=E:U=I=P=$=E,p.push({tx1:O,ty1:U,tx2:M,ty2:I,x1:F,y1:P,x2:R,y2:$,width:te,color:he,borderDash:Y,borderDashOffset:B,tickWidth:K,tickColor:ie,tickBorderDash:ue,tickBorderDashOffset:de}))}return this._ticksLength=g,this._borderValue=j,p}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:h,mirror:g}=s,m=V0(i.grid),p=m+h,x=g?-h:p,b=-xh(this.labelRotation),S=[];let N,j,w,k,E,O,U,M,I,F,P,R,$="middle";if(r==="top")O=this.bottom-x,U=this._getXAxisLabelAlignment();else if(r==="bottom")O=this.top+x,U=this._getXAxisLabelAlignment();else if(r==="left"){const ee=this._getYAxisLabelAlignment(m);U=ee.textAlign,E=ee.x}else if(r==="right"){const ee=this._getYAxisLabelAlignment(m);U=ee.textAlign,E=ee.x}else if(n==="x"){if(r==="center")O=(e.top+e.bottom)/2+p;else if(cn(r)){const ee=Object.keys(r)[0],ce=r[ee];O=this.chart.scales[ee].getPixelForValue(ce)+p}U=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")E=(e.left+e.right)/2-p;else if(cn(r)){const ee=Object.keys(r)[0],ce=r[ee];E=this.chart.scales[ee].getPixelForValue(ce)}U=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(l==="start"?$="top":l==="end"&&($="bottom"));const G=this._getLabelSizes();for(N=0,j=o.length;N<j;++N){w=o[N],k=w.label;const ee=s.setContext(this.getContext(N));M=this.getPixelForTick(N)+s.labelOffset,I=this._resolveTickFontOptions(N),F=I.lineHeight,P=rr(k)?k.length:1;const ce=P/2,pe=ee.color,Z=ee.textStrokeColor,te=ee.textStrokeWidth;let he=U;a?(E=M,U==="inner"&&(N===j-1?he=this.options.reverse?"left":"right":N===0?he=this.options.reverse?"right":"left":he="center"),r==="top"?c==="near"||b!==0?R=-P*F+F/2:c==="center"?R=-G.highest.height/2-ce*F+F:R=-G.highest.height+F/2:c==="near"||b!==0?R=F/2:c==="center"?R=G.highest.height/2-ce*F:R=G.highest.height-P*F,g&&(R*=-1),b!==0&&!ee.showLabelBackdrop&&(E+=F/2*Math.sin(b))):(O=M,R=(1-P)*F/2);let Y;if(ee.showLabelBackdrop){const B=Ja(ee.backdropPadding),K=G.heights[N],ie=G.widths[N];let ue=R-B.top,de=0-B.left;switch($){case"middle":ue-=K/2;break;case"bottom":ue-=K;break}switch(U){case"center":de-=ie/2;break;case"right":de-=ie;break;case"inner":N===j-1?de-=ie:N>0&&(de-=ie/2);break}Y={left:de,top:ue,width:ie+B.width,height:K+B.height,color:ee.backdropColor}}S.push({label:k,font:I,textOffset:R,options:{rotation:b,color:pe,strokeColor:Z,strokeWidth:te,textAlign:he,textBaseline:$,translation:[E,O],backdrop:Y}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-xh(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,h;return n==="left"?r?(h=this.right+s,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-o,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+o,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,a=r.length;s<a;++s){const l=r[s];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const o=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,g,m;this.isHorizontal()?(c=th(e,this.left,a)-a/2,h=th(e,this.right,o)+o/2,g=m=l):(g=th(e,this.top,a)-a/2,m=th(e,this.bottom,o)+o/2,c=h=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,g),n.lineTo(h,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&sy(i,r);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,h=a.textOffset;ag(i,c,0,h,l,o)}r&&ay(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=os(i.font),a=Ja(i.padding),o=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||cn(n)?(l+=a.bottom,rr(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=a.top;const{titleX:c,titleY:h,maxWidth:g,rotation:m}=fQ(this,l,n,o);ag(e,i.text,0,0,s,{color:i.color,maxWidth:g,rotation:m,textAlign:dQ(o,n,r),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=sn(e.grid&&e.grid.z,-1),r=sn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Qf.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[i]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return os(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Im{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;mQ(n)&&(i=this.register(n));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,pQ(e,a,i),this.override&&zi.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in zi[r]&&(delete zi[r][i],this.override&&delete Fh[i])}}function pQ(t,e,n){const i=ig(Object.create(null),[n?zi.get(n):{},zi.get(e),t.defaults]);zi.set(e,i),t.defaultRoutes&&gQ(e,t.defaultRoutes),t.descriptors&&zi.describe(e,t.descriptors)}function gQ(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");zi.route(s,r,l,o)})}function mQ(t){return"id"in t&&"defaults"in t}class yQ{constructor(){this.controllers=new Im(kp,"datasets",!0),this.elements=new Im(Qh,"elements"),this.plugins=new Im(Object,"plugins"),this.scales=new Im(Qf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):An(r,a=>{const o=i||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,i){const r=pw(e);Qn(i["before"+r],[],i),n[e](i),Qn(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var rl=new yQ;class xQ{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,i,r){r=r||{};for(const s of e){const a=s.plugin,o=a[i],l=[n,r,s.options];if(Qn(o,l,a)===!1&&r.cancelable)return!1}return!0}invalidate(){Vn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=sn(i.options&&i.options.plugins,{}),s=vQ(i);return r===!1&&!n?[]:wQ(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function vQ(t){const e={},n=[],i=Object.keys(rl.plugins.items);for(let s=0;s<i.length;s++)n.push(rl.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function bQ(t,e){return!e&&t===!1?null:t===!0?{}:t}function wQ(t,{plugins:e,localIds:n},i,r){const s=[],a=t.getContext();for(const o of e){const l=o.id,c=bQ(i[l],r);c!==null&&s.push({plugin:o,options:_Q(t.config,{plugin:o,local:n[l]},c,a)})}return s}function _Q(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(i,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function G4(t,e){const n=zi.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function SQ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function NQ(t,e){return t===e?"_index_":"_value_"}function m7(t){if(t==="x"||t==="y"||t==="r")return t}function kQ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function q4(t,...e){if(m7(t))return t;for(const n of e){const i=n.axis||kQ(n.position)||t.length>1&&m7(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function y7(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function CQ(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return y7(t,"x",n[0])||y7(t,"y",n[0])}return{}}function jQ(t,e){const n=Fh[t.type]||{scales:{}},i=e.scales||{},r=G4(t.type,e),s=Object.create(null);return Object.keys(i).forEach(a=>{const o=i[a];if(!cn(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=q4(a,o,CQ(a,t),zi.scales[o.type]),c=NQ(l,r),h=n.scales||{};s[a]=bp(Object.create(null),[{axis:l},o,h[l],h[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||G4(o,e),h=(Fh[o]||{}).scales||{};Object.keys(h).forEach(g=>{const m=SQ(g,l),p=a[m+"AxisID"]||m;s[p]=s[p]||Object.create(null),bp(s[p],[{axis:m},i[p],h[g]])})}),Object.keys(s).forEach(a=>{const o=s[a];bp(o,[zi.scales[o.type],zi.scale])}),s}function yL(t){const e=t.options||(t.options={});e.plugins=sn(e.plugins,{}),e.scales=jQ(t,e)}function xL(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function AQ(t){return t=t||{},t.data=xL(t.data),yL(t),t}const x7=new Map,vL=new Set;function Bm(t,e){let n=x7.get(t);return n||(n=e(),x7.set(t,n),vL.add(n)),n}const H0=(t,e,n)=>{const i=N2(e,n);i!==void 0&&t.add(i)};class PQ{constructor(e){this._config=AQ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=xL(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),yL(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Bm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Bm(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Bm(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Bm(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),o=a.get(n);if(o)return o;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(g=>H0(l,e,g))),h.forEach(g=>H0(l,r,g)),h.forEach(g=>H0(l,Fh[s]||{},g)),h.forEach(g=>H0(l,zi,g)),h.forEach(g=>H0(l,V4,g))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),vL.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Fh[n]||{},zi.datasets[n]||{},{type:n},zi,V4]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=v7(this._resolverCache,e,r);let l=a;if(TQ(a,n)){s.$shared=!1,i=gu(i)?i():i;const c=this.createResolver(e,i,o);l=Rf(a,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=v7(this._resolverCache,e,i);return cn(n)?Rf(s,n,void 0,r):s}}function v7(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:xw(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},i.set(r,s)),s}const LQ=t=>cn(t)&&Object.getOwnPropertyNames(t).some(e=>gu(t[e]));function TQ(t,e){const{isScriptable:n,isIndexable:i}=ZP(t);for(const r of e){const s=n(r),a=i(r),o=(a||s)&&t[r];if(s&&(gu(o)||LQ(o))||a&&rr(o))return!0}return!1}var EQ="4.5.1";const MQ=["top","bottom","left","right","chartArea"];function b7(t,e){return t==="top"||t==="bottom"||MQ.indexOf(t)===-1&&e==="x"}function w7(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function _7(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Qn(n&&n.onComplete,[t],e)}function RQ(t){const e=t.chart,n=e.options.animation;Qn(n&&n.onProgress,[t],e)}function bL(t){return ww()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const k1={},S7=t=>{const e=bL(t);return Object.values(k1).filter(n=>n.canvas===e).pop()};function FQ(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const a=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=a)}}}function DQ(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var Ic;let cy=(Ic=class{static register(...e){rl.add(...e),N7()}static unregister(...e){rl.remove(...e),N7()}constructor(e,n){const i=this.config=new PQ(n),r=bL(e),s=S7(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||eQ(r)),this.platform.updateConfig(i);const o=this.platform.acquireContext(r,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,h=l&&l.width;if(this.id=VK(),this.ctx=o,this.canvas=l,this.width=h,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xQ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=cX(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],k1[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Vl.listen(this,"complete",_7),Vl.listen(this,"progress",RQ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return Vn(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return rl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():XS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qS(this.canvas,this.ctx),this}stop(){return Vl.stop(this),this}resize(e,n){Vl.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,s),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,XS(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Qn(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};An(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],l=q4(a,o),c=l==="r",h=l==="x";return{options:o,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),An(s,a=>{const o=a.options,l=o.id,c=q4(l,o),h=sn(o.type,a.dtype);(o.position===void 0||b7(o.position,c)!==b7(a.dposition))&&(o.position=a.dposition),r[l]=!0;let g=null;if(l in i&&i[l].type===h)g=i[l];else{const m=rl.getScale(h);g=new m({id:l,type:h,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(o,e)}),An(r,(a,o)=>{a||delete i[o]}),An(i,a=>{Ka.configure(this,a,a.options),Ka.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(w7("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let a=this.getDatasetMeta(i);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=o,a.indexAxis=s.indexAxis||G4(o,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const l=rl.getController(o),{datasetElementType:c,dataElementType:h}=zi.datasets[o];Object.assign(l,{dataElementType:rl.getElement(h),datasetElementType:c&&rl.getElement(c)}),a.controller=new l(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){An(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:g}=this.getDatasetMeta(c),m=!r&&s.indexOf(g)===-1;g.buildOrUpdateElements(m),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||An(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(w7("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){An(this.scales,e=>{Ka.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!DS(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const a=i==="_removeElements"?-s:s;FQ(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!DS(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ka.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],An(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,gu(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vl.has(this)?this.attached&&!Vl.running(this)&&Vl.start(this):(this.draw(),_7({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const a=n[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=cL(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&sy(n,r),e.controller.draw(),r&&ay(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return sg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=MY.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Yh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);k2(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(o=>o.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Vl.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),qS(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete k1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},r=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};An(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{r("attach",o),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){An(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},An(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,a,o,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!_2(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(h=>!c.some(g=>h.datasetIndex===g.datasetIndex&&h.index===g.index)),a=s(n,e),o=i?e:s(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,a=n,o=this._getActiveElements(e,r,i,a),l=KK(e),c=DQ(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Qn(s.onHover,[e,o,this],this),l&&Qn(s.onClick,[e,o,this],this));const h=!_2(o,r);return(h||n)&&(this._active=o,this._updateHoverStyles(o,r,n)),this._lastEvent=c,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},et(Ic,"defaults",zi),et(Ic,"instances",k1),et(Ic,"overrides",Fh),et(Ic,"registry",rl),et(Ic,"version",EQ),et(Ic,"getChart",S7),Ic);function N7(){return An(cy.instances,t=>t._plugins.invalidate())}function wL(t,e,n=e){t.lineCap=sn(n.borderCapStyle,e.borderCapStyle),t.setLineDash(sn(n.borderDash,e.borderDash)),t.lineDashOffset=sn(n.borderDashOffset,e.borderDashOffset),t.lineJoin=sn(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=sn(n.borderWidth,e.borderWidth),t.strokeStyle=sn(n.borderColor,e.borderColor)}function OQ(t,e,n){t.lineTo(n.x,n.y)}function IQ(t){return t.stepped?SX:t.tension||t.cubicInterpolationMode==="monotone"?NX:OQ}function _L(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:a,end:o}=e,l=Math.max(r,a),c=Math.min(s,o),h=r<a&&s<a||r>o&&s>o;return{count:i,start:l,loop:e.loop,ilen:c<l&&!h?i+c-l:c-l}}function BQ(t,e,n,i){const{points:r,options:s}=e,{count:a,start:o,loop:l,ilen:c}=_L(r,n,i),h=IQ(s);let{move:g=!0,reverse:m}=i||{},p,x,b;for(p=0;p<=c;++p)x=r[(o+(m?c-p:p))%a],!x.skip&&(g?(t.moveTo(x.x,x.y),g=!1):h(t,b,x,m,s.stepped),b=x);return l&&(x=r[(o+(m?c:0))%a],h(t,b,x,m,s.stepped)),!!l}function zQ(t,e,n,i){const r=e.points,{count:s,start:a,ilen:o}=_L(r,n,i),{move:l=!0,reverse:c}=i||{};let h=0,g=0,m,p,x,b,S,N;const j=k=>(a+(c?o-k:k))%s,w=()=>{b!==S&&(t.lineTo(h,S),t.lineTo(h,b),t.lineTo(h,N))};for(l&&(p=r[j(0)],t.moveTo(p.x,p.y)),m=0;m<=o;++m){if(p=r[j(m)],p.skip)continue;const k=p.x,E=p.y,O=k|0;O===x?(E<b?b=E:E>S&&(S=E),h=(g*h+k)/++g):(w(),t.lineTo(k,E),x=O,g=0,b=S=E),N=E}w()}function W4(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?zQ:BQ}function UQ(t){return t.stepped?iY:t.tension||t.cubicInterpolationMode==="monotone"?rY:ch}function VQ(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),wL(t,e.options),t.stroke(r)}function HQ(t,e,n,i){const{segments:r,options:s}=e,a=W4(e);for(const o of r)wL(t,s,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const $Q=typeof Path2D=="function";function GQ(t,e,n,i){$Q&&!e.options.segment?VQ(t,e,n,i):HQ(t,e,n,i)}class Qc extends Qh{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;XX(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=uY(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,a=lL(this,{property:n,start:r,end:r});if(!a.length)return;const o=[],l=UQ(i);let c,h;for(c=0,h=a.length;c<h;++c){const{start:g,end:m}=a[c],p=s[g],x=s[m];if(p===x){o.push(p);continue}const b=Math.abs((r-p[n])/(x[n]-p[n])),S=l(p,x,b,i.stepped);S[n]=e[n],o.push(S)}return o.length===1?o[0]:o}pathSegment(e,n,i){return W4(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=W4(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const o of r)a&=s(e,this,o,{start:n,end:n+i-1});return!!a}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),GQ(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}et(Qc,"id","line"),et(Qc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),et(Qc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),et(Qc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function k7(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class C1 extends Qh{constructor(n){super();et(this,"parsed");et(this,"skip");et(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(i-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return k7(this,n,"x",i)}inYRange(n,i){return k7(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!sg(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,H4(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}et(C1,"id","point"),et(C1,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),et(C1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function qQ(t,e,n){const i=t.segments,r=t.points,s=e.points,a=[];for(const o of i){let{start:l,end:c}=o;c=uy(l,c,r);const h=K4(n,r[l],r[c],o.loop);if(!e.segments){a.push({source:o,target:h,start:r[l],end:r[c]});continue}const g=lL(e,h);for(const m of g){const p=K4(n,s[m.start],s[m.end],m.loop),x=oL(o,r,p);for(const b of x)a.push({source:b,target:m,start:{[n]:C7(h,p,"start",Math.max)},end:{[n]:C7(h,p,"end",Math.min)}})}}return a}function K4(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=sl(r),s=sl(s)),{property:t,start:r,end:s}}function WQ(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=uy(a,o,r);const l=r[a],c=r[o];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function uy(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function C7(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function SL(t,e){let n=[],i=!1;return rr(t)?(i=!0,n=t):n=WQ(t,e),n.length?new Qc({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function j7(t){return t&&t.fill!==!1}function KQ(t,e,n){let r=t[e].fill;const s=[e];let a;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!cs(r))return r;if(a=t[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function XQ(t,e,n){const i=ZQ(t);if(cn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return cs(r)&&Math.floor(r)===r?YQ(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function YQ(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function QQ(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:cn(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function JQ(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:cn(t)?i=t.value:i=e.getBaseValue(),i}function ZQ(t){const e=t.options,n=e.fill;let i=sn(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function eJ(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,a=i.points,o=tJ(e,n);o.push(SL({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let h=c.start;h<=c.end;h++)nJ(r,a[h],o)}return new Qc({points:r,options:{}})}function tJ(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function nJ(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:a,last:o,point:l}=iJ(s,e,"x");if(!(!l||a&&o)){if(a)i.unshift(l);else if(t.push(l),!o)break}}t.push(...i)}function iJ(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const h=s[c],g=a[h.start][n],m=a[h.end][n];if(rf(r,g,m)){o=r===g,l=r===m;break}}return{first:o,last:l,point:i}}class NL{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:a}=this;return n=n||{start:0,end:Lo},e.arc(r,s,a,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function rJ(t){const{chart:e,fill:n,line:i}=t;if(cs(n))return sJ(e,n);if(n==="stack")return eJ(t);if(n==="shape")return!0;const r=aJ(t);return r instanceof NL?r:SL(r,i)}function sJ(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function aJ(t){return(t.scale||{}).getPointPositionForValue?lJ(t):oJ(t)}function oJ(t){const{scale:e={},fill:n}=t,i=QQ(n,e);if(cs(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function lJ(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,a=JQ(n,e,s),o=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new NL({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<r;++l)o.push(e.getPointPositionForValue(l,a));return o}function Dx(t,e,n){const i=rJ(e),{chart:r,index:s,line:a,scale:o,axis:l}=e,c=a.options,h=c.fill,g=c.backgroundColor,{above:m=g,below:p=g}=h||{},x=r.getDatasetMeta(s),b=cL(r,x);i&&a.points.length&&(sy(t,n),cJ(t,{line:a,target:i,above:m,below:p,area:n,scale:o,axis:l,clip:b}),ay(t))}function cJ(t,e){const{line:n,target:i,above:r,below:s,area:a,scale:o,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let h=s;s!==r&&(c==="x"?(A7(t,i,a.top),Ox(t,{line:n,target:i,color:r,scale:o,property:c,clip:l}),t.restore(),t.save(),A7(t,i,a.bottom)):c==="y"&&(P7(t,i,a.left),Ox(t,{line:n,target:i,color:s,scale:o,property:c,clip:l}),t.restore(),t.save(),P7(t,i,a.right),h=r)),Ox(t,{line:n,target:i,color:h,scale:o,property:c,clip:l}),t.restore()}function A7(t,e,n){const{segments:i,points:r}=e;let s=!0,a=!1;t.beginPath();for(const o of i){const{start:l,end:c}=o,h=r[l],g=r[uy(l,c,r)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(h.x,n),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function P7(t,e,n){const{segments:i,points:r}=e;let s=!0,a=!1;t.beginPath();for(const o of i){const{start:l,end:c}=o,h=r[l],g=r[uy(l,c,r)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(n,h.y),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(n,g.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Ox(t,e){const{line:n,target:i,property:r,color:s,scale:a,clip:o}=e,l=qQ(n,i,r);for(const{source:c,target:h,start:g,end:m}of l){const{style:{backgroundColor:p=s}={}}=c,x=i!==!0;t.save(),t.fillStyle=p,uJ(t,a,o,x&&K4(r,g,m)),t.beginPath();const b=!!n.pathSegment(t,c);let S;if(x){b?t.closePath():L7(t,i,m,r);const N=!!i.pathSegment(t,h,{move:b,reverse:!0});S=b&&N,S||L7(t,i,g,r)}t.closePath(),t.fill(S?"evenodd":"nonzero"),t.restore()}}function uJ(t,e,n,i){const r=e.chart.chartArea,{property:s,start:a,end:o}=i||{};if(s==="x"||s==="y"){let l,c,h,g;s==="x"?(l=a,c=r.top,h=o,g=r.bottom):(l=r.left,c=a,h=r.right,g=o),t.beginPath(),n&&(l=Math.max(l,n.left),h=Math.min(h,n.right),c=Math.max(c,n.top),g=Math.min(g,n.bottom)),t.rect(l,c,h-l,g-c),t.clip()}}function L7(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var hJ={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,a,o,l;for(a=0;a<i;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof Qc&&(l={visible:t.isDatasetVisible(a),index:a,fill:XQ(o,a,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,r.push(l);for(a=0;a<i;++a)l=r[a],!(!l||l.fill===!1)&&(l.fill=KQ(r,a,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=r.length-1;a>=0;--a){const o=r[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),i&&o.fill&&Dx(t.ctx,o,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;j7(s)&&Dx(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!j7(i)||n.drawTime!=="beforeDatasetDraw"||Dx(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const T7=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},dJ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class E7 extends Qh{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Qn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=os(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=T7(i,s);let c,h;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(a,s,o,l)+10):(h=this.maxHeight,c=this._fitCols(a,r,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=r+o;let g=e;s.textAlign="left",s.textBaseline="middle";let m=-1,p=-h;return this.legendItems.forEach((x,b)=>{const S=i+n/2+s.measureText(x.text).width;(b===0||c[c.length-1]+S+2*o>a)&&(g+=h,c[c.length-(b>0?0:1)]=0,p+=h,m++),l[b]={left:0,top:p,row:m,width:S,height:r},c[c.length-1]+=S+o}),g}_fitCols(e,n,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=a-e;let g=o,m=0,p=0,x=0,b=0;return this.legendItems.forEach((S,N)=>{const{itemWidth:j,itemHeight:w}=fJ(i,n,s,S,r);N>0&&p+w+2*o>h&&(g+=m+o,c.push({width:m,height:p}),x+=m+o,b++,m=p=0),l[N]={left:x,top:p,col:b,width:j,height:w},m=Math.max(m,j),p+=w+o}),g+=m,c.push({width:m,height:p}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,a=ff(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=ns(i,this.left+r,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=ns(i,this.left+r,this.right-this.lineWidths[o])),c.top+=this.top+e+r,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+r}else{let o=0,l=ns(i,this.top+e+r,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=ns(i,this.top+e+r,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+r,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;sy(e,this),this._draw(),ay(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,o=zi.color,l=ff(e.rtl,this.left,this.width),c=os(a.font),{padding:h}=a,g=c.size,m=g/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:x,boxHeight:b,itemHeight:S}=T7(a,g),N=function(O,U,M){if(isNaN(x)||x<=0||isNaN(b)||b<0)return;r.save();const I=sn(M.lineWidth,1);if(r.fillStyle=sn(M.fillStyle,o),r.lineCap=sn(M.lineCap,"butt"),r.lineDashOffset=sn(M.lineDashOffset,0),r.lineJoin=sn(M.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=sn(M.strokeStyle,o),r.setLineDash(sn(M.lineDash,[])),a.usePointStyle){const F={radius:b*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:I},P=l.xPlus(O,x/2),R=U+m;QP(r,F,P,R,a.pointStyleWidth&&x)}else{const F=U+Math.max((g-b)/2,0),P=l.leftForLtr(O,x),R=Np(M.borderRadius);r.beginPath(),Object.values(R).some($=>$!==0)?$4(r,{x:P,y:F,w:x,h:b,radius:R}):r.rect(P,F,x,b),r.fill(),I!==0&&r.stroke()}r.restore()},j=function(O,U,M){ag(r,M.text,O,U+S/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},w=this.isHorizontal(),k=this._computeTitleHeight();w?p={x:ns(s,this.left+h,this.right-i[0]),y:this.top+h+k,line:0}:p={x:this.left+h,y:ns(s,this.top+k+h,this.bottom-n[0].height),line:0},rL(this.ctx,e.textDirection);const E=S+h;this.legendItems.forEach((O,U)=>{r.strokeStyle=O.fontColor,r.fillStyle=O.fontColor;const M=r.measureText(O.text).width,I=l.textAlign(O.textAlign||(O.textAlign=a.textAlign)),F=x+m+M;let P=p.x,R=p.y;l.setWidth(this.width),w?U>0&&P+F+h>this.right&&(R=p.y+=E,p.line++,P=p.x=ns(s,this.left+h,this.right-i[p.line])):U>0&&R+E>this.bottom&&(P=p.x=P+n[p.line].width+h,p.line++,R=p.y=ns(s,this.top+k+h,this.bottom-n[p.line].height));const $=l.x(P);if(N($,R,O),P=uX(I,P+x+m,w?P+F:this.right,e.rtl),j(l.x(P),R,O),w)p.x+=F+h;else if(typeof O.text!="string"){const G=c.lineHeight;p.y+=kL(O,G)+h}else p.y+=E}),sL(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=os(n.font),r=Ja(n.padding);if(!n.display)return;const s=ff(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=i.size/2,c=r.top+l;let h,g=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),h=this.top+c,g=ns(e.align,g,this.right-m);else{const x=this.columnSizes.reduce((b,S)=>Math.max(b,S.height),0);h=c+ns(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const p=ns(o,g,g+m);a.textAlign=s.textAlign(mw(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,ag(a,n.text,p,h,i)}_computeTitleHeight(){const e=this.options.title,n=os(e.font),i=Ja(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(rf(e,this.left,this.right)&&rf(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],rf(e,r.left,r.left+r.width)&&rf(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!mJ(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=dJ(r,i);r&&!s&&Qn(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Qn(n.onHover,[e,i,this],this)}else i&&Qn(n.onClick,[e,i,this],this)}}function fJ(t,e,n,i,r){const s=pJ(i,t,e,n),a=gJ(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}function pJ(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+i.measureText(r).width}function gJ(t,e,n){let i=t;return typeof e.text!="string"&&(i=kL(e,n)),i}function kL(t,e){const n=t.text?t.text.length:0;return e*n}function mJ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var yJ={id:"legend",_element:E7,start(t,e,n){const i=t.legend=new E7({ctx:t.ctx,options:n,chart:t});Ka.configure(t,i,n),Ka.addBox(t,i)},stop(t){Ka.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Ka.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=Ja(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class CL extends Qh{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=rr(i.text)?i.text.length:1;this._padding=Ja(i.padding);const s=r*os(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:a}=this,o=a.align;let l=0,c,h,g;return this.isHorizontal()?(h=ns(o,i,s),g=n+e,c=s-i):(a.position==="left"?(h=i+e,g=ns(o,r,n),l=Sr*-.5):(h=s-e,g=ns(o,n,r),l=Sr*.5),c=r-n),{titleX:h,titleY:g,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=os(n.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);ag(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:mw(n.align),textBaseline:"middle",translation:[a,o]})}}function xJ(t,e){const n=new CL({ctx:t.ctx,options:e,chart:t});Ka.configure(t,n,e),Ka.addBox(t,n),t.titleBlock=n}var vJ={id:"title",_element:CL,start(t,e,n){xJ(t,n)},stop(t){const e=t.titleBlock;Ka.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Ka.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sp={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((o,l)=>o+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=U4(e,c);h<r&&(r=h,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function tl(t,e){return e&&(rr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Hl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function bJ(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:a,value:o}=s.getLabelAndValue(r);return{chart:t,label:a,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:o,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function M7(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=os(e.bodyFont),c=os(e.titleFont),h=os(e.footerFont),g=s.length,m=r.length,p=i.length,x=Ja(e.padding);let b=x.height,S=0,N=i.reduce((k,E)=>k+E.before.length+E.lines.length+E.after.length,0);if(N+=t.beforeBody.length+t.afterBody.length,g&&(b+=g*c.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),N){const k=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;b+=p*k+(N-p)*l.lineHeight+(N-1)*e.bodySpacing}m&&(b+=e.footerMarginTop+m*h.lineHeight+(m-1)*e.footerSpacing);let j=0;const w=function(k){S=Math.max(S,n.measureText(k).width+j)};return n.save(),n.font=c.string,An(t.title,w),n.font=l.string,An(t.beforeBody.concat(t.afterBody),w),j=e.displayColors?a+2+e.boxPadding:0,An(i,k=>{An(k.before,w),An(k.lines,w),An(k.after,w)}),j=0,n.font=h.string,An(t.footer,w),n.restore(),S+=x.width,{width:S,height:b}}function wJ(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function _J(t,e,n,i){const{x:r,width:s}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&r+s+a>e.width||t==="right"&&r-s-a<0)return!0}function SJ(t,e,n,i){const{x:r,width:s}=n,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return i==="center"?c=r<=(o+l)/2?"left":"right":r<=s/2?c="left":r>=a-s/2&&(c="right"),_J(c,t,e,n)&&(c="center"),c}function R7(t,e,n){const i=n.yAlign||e.yAlign||wJ(t,n);return{xAlign:n.xAlign||e.xAlign||SJ(t,e,n,i),yAlign:i}}function NJ(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function kJ(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function F7(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,c=r+s,{topLeft:h,topRight:g,bottomLeft:m,bottomRight:p}=Np(a);let x=NJ(e,o);const b=kJ(e,l,c);return l==="center"?o==="left"?x+=c:o==="right"&&(x-=c):o==="left"?x-=Math.max(h,m)+r:o==="right"&&(x+=Math.max(g,p)+r),{x:Wa(x,0,i.width-e.width),y:Wa(b,0,i.height-e.height)}}function zm(t,e,n){const i=Ja(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function D7(t){return tl([],Hl(t))}function CJ(t,e,n){return Yh(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function O7(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const jL={beforeTitle:Il,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Il,beforeBody:Il,beforeLabel:Il,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Vn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Il,afterBody:Il,beforeFooter:Il,footer:Il,afterFooter:Il};function Fs(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?jL[e].call(n,i):r}class X4 extends Qh{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new uL(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=CJ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Fs(i,"beforeTitle",this,e),s=Fs(i,"title",this,e),a=Fs(i,"afterTitle",this,e);let o=[];return o=tl(o,Hl(r)),o=tl(o,Hl(s)),o=tl(o,Hl(a)),o}getBeforeBody(e,n){return D7(Fs(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return An(e,s=>{const a={before:[],lines:[],after:[]},o=O7(i,s);tl(a.before,Hl(Fs(o,"beforeLabel",this,s))),tl(a.lines,Fs(o,"label",this,s)),tl(a.after,Hl(Fs(o,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,n){return D7(Fs(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Fs(i,"beforeFooter",this,e),s=Fs(i,"footer",this,e),a=Fs(i,"afterFooter",this,e);let o=[];return o=tl(o,Hl(r)),o=tl(o,Hl(s)),o=tl(o,Hl(a)),o}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(bJ(this.chart,n[l]));return e.filter&&(o=o.filter((h,g,m)=>e.filter(h,g,m,i))),e.itemSort&&(o=o.sort((h,g)=>e.itemSort(h,g,i))),An(o,h=>{const g=O7(e.callbacks,h);r.push(Fs(g,"labelColor",this,h)),s.push(Fs(g,"labelPointStyle",this,h)),a.push(Fs(g,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const o=sp[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const l=this._size=M7(this,i),c=Object.assign({},o,l),h=R7(this.chart,i,c),g=F7(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:g.x,y:g.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:g}=Np(o),{x:m,y:p}=e,{width:x,height:b}=n;let S,N,j,w,k,E;return s==="center"?(k=p+b/2,r==="left"?(S=m,N=S-a,w=k+a,E=k-a):(S=m+x,N=S+a,w=k-a,E=k+a),j=S):(r==="left"?N=m+Math.max(l,h)+a:r==="right"?N=m+x-Math.max(c,g)-a:N=this.caretX,s==="top"?(w=p,k=w-a,S=N-a,j=N+a):(w=p+b,k=w+a,S=N+a,j=N-a),E=w),{x1:S,x2:N,x3:j,y1:w,y2:k,y3:E}}drawTitle(e,n,i){const r=this.title,s=r.length;let a,o,l;if(s){const c=ff(i.rtl,this.x,this.width);for(e.x=zm(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",a=os(i.titleFont),o=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,n,i,r,s){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,h=os(s.bodyFont),g=zm(this,"left",s),m=r.x(g),p=l<h.lineHeight?(h.lineHeight-l)/2:0,x=n.y+p;if(s.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},S=r.leftForLtr(m,c)+c/2,N=x+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,H4(e,b,S,N),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,H4(e,b,S,N)}else{e.lineWidth=cn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const b=r.leftForLtr(m,c),S=r.leftForLtr(r.xPlus(m,1),c-2),N=Np(a.borderRadius);Object.values(N).some(j=>j!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,$4(e,{x:b,y:x,w:c,h:l,radius:N}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),$4(e,{x:S,y:x+1,w:c-2,h:l-2,radius:N}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,x,c,l),e.strokeRect(b,x,c,l),e.fillStyle=a.backgroundColor,e.fillRect(S,x+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:h}=i,g=os(i.bodyFont);let m=g.lineHeight,p=0;const x=ff(i.rtl,this.x,this.width),b=function(M){n.fillText(M,x.x(e.x+p),e.y+m/2),e.y+=m+s},S=x.textAlign(a);let N,j,w,k,E,O,U;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,e.x=zm(this,S,i),n.fillStyle=i.bodyColor,An(this.beforeBody,b),p=o&&S!=="right"?a==="center"?c/2+h:c+2+h:0,k=0,O=r.length;k<O;++k){for(N=r[k],j=this.labelTextColors[k],n.fillStyle=j,An(N.before,b),w=N.lines,o&&w.length&&(this._drawColorBox(n,e,k,x,i),m=Math.max(g.lineHeight,l)),E=0,U=w.length;E<U;++E)b(w[E]),m=g.lineHeight;An(N.after,b)}p=0,m=g.lineHeight,An(this.afterBody,b),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let a,o;if(s){const l=ff(i.rtl,this.x,this.width);for(e.x=zm(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",a=os(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(r[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:h}=i,{topLeft:g,topRight:m,bottomLeft:p,bottomRight:x}=Np(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(o+g,l),a==="top"&&this.drawCaret(e,n,i,r),n.lineTo(o+c-m,l),n.quadraticCurveTo(o+c,l,o+c,l+m),a==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(o+c,l+h-x),n.quadraticCurveTo(o+c,l+h,o+c-x,l+h),a==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(o+p,l+h),n.quadraticCurveTo(o,l+h,o,l+h-p),a==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(o,l+g),n.quadraticCurveTo(o,l,o+g,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=sp[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=M7(this,e),l=Object.assign({},a,this._size),c=R7(n,e,l),h=F7(e,l,c,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Ja(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),rL(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),sL(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!_2(i,r),a=this._positionChanged(r,n);(s||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,i),o=this._positionChanged(a,e),l=n||!_2(a,s)||o;return l&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,a=sp[s.position].call(this,e,n);return a!==!1&&(i!==a.x||r!==a.y)}}et(X4,"positioners",sp);var jJ={id:"tooltip",_element:X4,positioners:sp,afterInit(t,e,n){n&&(t.tooltip=new X4({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:jL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const AJ=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function PJ(t,e,n,i){const r=t.indexOf(e);if(r===-1)return AJ(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const LJ=(t,e)=>t===null?null:Wa(Math.round(t),0,e);function I7(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Y4 extends Qf{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Vn(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:PJ(i,e,sn(n,e),this._addedLabels),LJ(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return I7.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}et(Y4,"id","category"),et(Y4,"defaults",{ticks:{callback:I7}});function TJ(t,e){const n=[],{bounds:r,step:s,min:a,max:o,precision:l,count:c,maxTicks:h,maxDigits:g,includeBounds:m}=t,p=s||1,x=h-1,{min:b,max:S}=e,N=!Vn(a),j=!Vn(o),w=!Vn(c),k=(S-b)/(g+1);let E=IS((S-b)/x/p)*p,O,U,M,I;if(E<1e-14&&!N&&!j)return[{value:b},{value:S}];I=Math.ceil(S/E)-Math.floor(b/E),I>x&&(E=IS(I*E/x/p)*p),Vn(l)||(O=Math.pow(10,l),E=Math.ceil(E*O)/O),r==="ticks"?(U=Math.floor(b/E)*E,M=Math.ceil(S/E)*E):(U=b,M=S),N&&j&&s&&ZK((o-a)/s,E/1e3)?(I=Math.round(Math.min((o-a)/E,h)),E=(o-a)/I,U=a,M=o):w?(U=N?a:U,M=j?o:M,I=c-1,E=(M-U)/I):(I=(M-U)/E,wp(I,Math.round(I),E/1e3)?I=Math.round(I):I=Math.ceil(I));const F=Math.max(BS(E),BS(U));O=Math.pow(10,Vn(l)?F:l),U=Math.round(U*O)/O,M=Math.round(M*O)/O;let P=0;for(N&&(m&&U!==a?(n.push({value:a}),U<a&&P++,wp(Math.round((U+P*E)*O)/O,a,B7(a,k,t))&&P++):U<a&&P++);P<I;++P){const R=Math.round((U+P*E)*O)/O;if(j&&R>o)break;n.push({value:R})}return j&&m&&M!==o?n.length&&wp(n[n.length-1].value,o,B7(o,k,t))?n[n.length-1].value=o:n.push({value:o}):(!j||M===o)&&n.push({value:M}),n}function B7(t,e,{horizontal:n,minRotation:i}){const r=xh(i),s=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class EJ extends Qf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Vn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=l=>r=n?r:l,o=l=>s=i?s:l;if(e){const l=Mf(r),c=Mf(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=TJ(r,s);return e.bounds==="ticks"&&eX(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return XP(e,this.chart.options.locale,this.options.ticks.format)}}class Q4 extends EJ{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=cs(e)?e:0,this.max=cs(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=xh(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}et(Q4,"id","linear"),et(Q4,"defaults",{ticks:{callback:YP.formatters.numeric}});const hy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Os=Object.keys(hy);function z7(t,e){return t-e}function U7(t,e){if(Vn(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),cs(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(rg(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,r)),+a)}function V7(t,e,n,i){const r=Os.length;for(let s=Os.indexOf(t);s<r-1;++s){const a=hy[Os[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=i)return Os[s]}return Os[r-1]}function MJ(t,e,n,i,r){for(let s=Os.length-1;s>=Os.indexOf(n);s--){const a=Os[s];if(hy[a].common&&t._adapter.diff(r,i,a)>=e-1)return a}return Os[n?Os.indexOf(n):0]}function RJ(t){for(let e=Os.indexOf(t)+1,n=Os.length;e<n;++e)if(hy[Os[e]].common)return Os[e]}function H7(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=gw(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function FJ(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+r.add(o,1,i))l=n[o],l>=0&&(e[l].major=!0);return e}function $7(t,e,n){const i=[],r={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],r[o]=a,i.push({value:o,major:!1});return s===0||!n?i:FJ(t,i,r,n)}class P2 extends Qf{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new AY._date(e.adapters.date);r.init(n),bp(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:U7(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=cs(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=cs(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,o=aX(r,s,a);return this._unit=n.unit||(i.autoSkip?V7(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):MJ(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:RJ(this._unit),this.initOffsets(r),e.reverse&&o.reverse(),$7(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Wa(n,0,a),i=Wa(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||V7(s.minUnit,n,i,this._getLabelCapacity(n)),o=sn(r.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=rg(l)||l===!0,h={};let g=n,m,p;if(c&&(g=+e.startOf(g,"isoWeek",l)),g=+e.startOf(g,c?"day":a),e.diff(i,n,a)>1e5*o)throw new Error(n+" and "+i+" are too far apart with stepSize of "+o+" "+a);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(m=g,p=0;m<i;m=+e.add(m,o,a),p++)H7(h,m,x);return(m===i||r.bounds==="ticks"||p===1)&&H7(h,m,x),Object.keys(h).sort(z7).map(b=>+b)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,a=n||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,r){const s=this.options,a=s.ticks.callback;if(a)return Qn(a,[e,n,i],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&o[l],g=c&&o[c],m=i[n],p=c&&g&&m&&m.major;return this._adapter.format(e,r||(p?g:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=xh(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:i*s+o*a,h:i*a+o*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,$7(this,[e],this._majorUnit),r),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(U7(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return lX(e.sort(z7))}}et(P2,"id","time"),et(P2,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Um(t,e,n){let i=0,r=t.length-1,s,a,o,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=vh(t,"pos",e)),{pos:s,time:o}=t[i],{pos:a,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=vh(t,"time",e)),{time:s,pos:o}=t[i],{time:a,pos:l}=t[r]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class G7 extends P2{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Um(n,this.min),this._tableRange=Um(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let a,o,l,c,h;for(a=0,o=e.length;a<o;++a)c=e[a],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,o=r.length;a<o;++a)h=r[a+1],l=r[a-1],c=r[a],Math.round((h+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Um(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Um(this._table,i*this._tableRange+this._minPos,!0)}}et(G7,"id","timeseries"),et(G7,"defaults",P2.defaults);const AL="label";function q7(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function DJ(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function PL(t,e){t.labels=e}function LL(t,e,n=AL){const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(a=>a[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function OJ(t,e=AL){const n={labels:[],datasets:[]};return PL(n,t.labels),LL(n,t.datasets,e),n}function IJ(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:c=[],fallbackContent:h,updateMode:g,...m}=t,p=Q.useRef(null),x=Q.useRef(null),b=()=>{p.current&&(x.current=new cy(p.current,{type:a,data:OJ(o,s),options:l&&{...l},plugins:c}),q7(e,x.current))},S=()=>{q7(e,null),x.current&&(x.current.destroy(),x.current=null)};return Q.useEffect(()=>{!r&&x.current&&l&&DJ(x.current,l)},[r,l]),Q.useEffect(()=>{!r&&x.current&&PL(x.current.config.data,o.labels)},[r,o.labels]),Q.useEffect(()=>{!r&&x.current&&o.datasets&&LL(x.current.config.data,o.datasets,s)},[r,o.datasets]),Q.useEffect(()=>{x.current&&(r?(S(),setTimeout(b)):x.current.update(g))},[r,l,o.labels,o.datasets,g]),Q.useEffect(()=>{x.current&&(S(),setTimeout(b))},[a]),Q.useEffect(()=>(b(),()=>S()),[]),d.jsx("canvas",{ref:p,role:"img",height:n,width:i,...m,children:h})}const BJ=Q.forwardRef(IJ);function zJ(t,e){return cy.register(e),Q.forwardRef((n,i)=>d.jsx(BJ,{...n,ref:i,type:t}))}const UJ=zJ("line",S1);cy.register(Y4,Q4,C1,Qc,vJ,jJ,yJ,hJ);const TL="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),ko=t=>typeof t=="number"?t.toLocaleString("vi-VN"):t;function VJ({values:t=[]}){if(!t||t.length===0)return null;const e=240,n=56,i=6,r=Math.max(...t),s=Math.min(...t),a=t.map((o,l)=>{const c=i+l*(e-i*2)/(t.length-1),h=n-i-(o-s)*(n-i*2)/(r-s||1);return`${c},${h}`}).join(" ");return d.jsxs("svg",{viewBox:`0 0 ${e} ${n}`,className:"mt-3 w-full text-blue-500",children:[d.jsx("polyline",{points:a,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),t.map((o,l)=>{const c=i+l*(e-i*2)/(t.length-1),h=n-i-(t[l]-s)*(n-i*2)/(r-s||1);return d.jsx("circle",{cx:c,cy:h,r:"2",className:"fill-current"},l)})]})}function HJ({data:t,period:e}){if(!t||!t.dailyData||t.dailyData.length===0)return d.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Xu hng tng tc"}),d.jsx("div",{className:"text-center py-12 text-slate-500",children:"Cha c d liu"})]});const n={labels:t.dailyData.map(r=>{const s=new Date(r.date);return`${s.getDate()}/${s.getMonth()+1}`}),datasets:[{label:"Lt xem",data:t.dailyData.map(r=>r.views),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0,yAxisID:"y"},{label:"Lt ti",data:t.dailyData.map(r=>r.downloads),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0,yAxisID:"y1"}]},i={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12}}},tooltip:{backgroundColor:"#fff",titleColor:"#1e293b",bodyColor:"#64748b",borderColor:"#e2e8f0",borderWidth:1,padding:12,displayColors:!0,callbacks:{label:function(r){return`${r.dataset.label}: ${r.parsed.y.toLocaleString("vi-VN")}`}}}},scales:{x:{grid:{display:!1},ticks:{color:"#64748b",font:{size:11}}},y:{type:"linear",display:!0,position:"left",grid:{color:"#f1f5f9"},ticks:{color:"#64748b",font:{size:11},callback:function(r){return r.toLocaleString("vi-VN")}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:"#64748b",font:{size:11},callback:function(r){return r.toLocaleString("vi-VN")}}}}};return d.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:" Xu hng tng tc"}),d.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Lt xem v ti xung trong ",t.period]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-right",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ko(t.totalViews)}),d.jsx("div",{className:"text-xs text-slate-500",children:"Tng lt xem"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:ko(t.totalDownloads)}),d.jsx("div",{className:"text-xs text-slate-500",children:"Tng lt ti"})]})]})]}),d.jsx("div",{style:{height:"300px"},children:d.jsx(UJ,{data:n,options:i})})]})}function $J({users:t,frames:e}){return d.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Thng k ngi dng"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between p-4 rounded-xl bg-slate-50",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"size-10 rounded-lg bg-blue-100 text-blue-600 grid place-items-center",children:d.jsx(p3,{size:20})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-slate-600",children:"Tng s ngi dng"}),d.jsx("div",{className:"text-2xl font-bold",children:ko((t==null?void 0:t.total)||0)})]})]})}),d.jsx("div",{className:"flex items-center justify-between p-4 rounded-xl bg-emerald-50",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"size-10 rounded-lg bg-emerald-100 text-emerald-600 grid place-items-center",children:d.jsx(hj,{size:20})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-slate-600",children:"Hot ng 30 ngy qua"}),d.jsx("div",{className:"text-2xl font-bold",children:ko((t==null?void 0:t.activeLast30Days)||0)})]})]})}),d.jsx("div",{className:"flex items-center justify-between p-4 rounded-xl bg-amber-50",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"size-10 rounded-lg bg-amber-100 text-amber-600 grid place-items-center",children:d.jsx(cI,{size:20})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-slate-600",children:"Mi trong 7 ngy"}),d.jsx("div",{className:"text-2xl font-bold",children:ko((t==null?void 0:t.newLast7Days)||0)})]})]})})]})]}),d.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Thng k khung hnh"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"size-2 rounded-full bg-blue-500"}),d.jsx("span",{className:"text-sm text-slate-700",children:"Tng s khung"})]}),d.jsx("span",{className:"font-semibold text-slate-900",children:ko((e==null?void 0:e.total)||0)})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-emerald-200 bg-emerald-50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"size-2 rounded-full bg-emerald-500"}),d.jsx("span",{className:"text-sm text-emerald-700 font-medium",children:"Cng khai & hot ng"})]}),d.jsx("span",{className:"font-semibold text-emerald-900",children:ko((e==null?void 0:e.public_)||0)})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"size-2 rounded-full bg-slate-400"}),d.jsx("span",{className:"text-sm text-slate-700",children:"Tm dng / Khng hot ng"})]}),d.jsx("span",{className:"font-semibold text-slate-900",children:ko((e==null?void 0:e.paused)||0)})]})]})]})]})}function GJ({frames:t}){return!t||t.length===0?d.jsx("div",{className:"text-center py-8 text-slate-500",children:"Cha c d liu"}):d.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200/75 shadow-sm bg-white",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{className:"bg-slate-50 text-slate-600",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left px-4 py-3 font-semibold",children:"Khung"}),d.jsx("th",{className:"text-right px-4 py-3 font-semibold",children:"Lt xem"}),d.jsx("th",{className:"text-right px-4 py-3 font-semibold",children:"Lt ti"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map((e,n)=>d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[e.thumb&&d.jsx("img",{src:`${TL}${e.thumb}`,alt:e.title,className:"w-10 h-10 rounded-lg object-cover ring-1 ring-slate-200",onError:i=>i.target.style.display="none"}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"font-medium text-slate-900 truncate",children:e.title}),d.jsxs("div",{className:"text-xs text-slate-500",children:["/",e.alias]})]})]})}),d.jsx("td",{className:"px-4 py-3 text-right font-mono text-slate-700",children:ko(e.views)}),d.jsx("td",{className:"px-4 py-3 text-right font-mono text-slate-700",children:ko(e.downloads)})]},n))})]})})}function qJ({frames:t}){if(!t||t.length===0)return d.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hot ng gn y"}),d.jsx("div",{className:"text-center py-8 text-slate-500",children:"Cha c hot ng"})]});const e=n=>{const i=new Date(n),s=new Date-i,a=Math.floor(s/6e4),o=Math.floor(s/36e5),l=Math.floor(s/864e5);return a<1?"Va xong":a<60?`${a} pht trc`:o<24?`${o} gi trc`:`${l} ngy trc`};return d.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hot ng gn y"}),d.jsx("div",{className:"space-y-3",children:t.map((n,i)=>d.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[d.jsx("span",{className:"size-2 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"text-slate-700",children:["Khung ",d.jsx("b",{className:"text-slate-900",children:n.tieuDe})," c to mi"]}),d.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400 mt-0.5",children:[d.jsx(dj,{size:12}),e(n.ngayDang)]})]})]},i))})]})}function WJ(){var h,g,m,p,x,b;const[t,e]=Q.useState(null),[n,i]=Q.useState(!0),[r,s]=Q.useState(null),[a,o]=Q.useState(7);Q.useEffect(()=>{l()},[a]);const l=async()=>{try{i(!0),s(null);const S=await fetch(`${TL}/api/admin/stats?days=${a}`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!S.ok){const j=await S.text();throw new Error(`HTTP ${S.status}: ${j}`)}const N=await S.json();console.log(" Dashboard data loaded:",N),e(N)}catch(S){console.error(" Dashboard load error:",S),s(S.message)}finally{i(!1)}};if(n)return d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-slate-600",children:"ang ti d liu..."})]})});if(r)return d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-rose-600 text-lg font-semibold mb-2",children:" Li ti d liu"}),d.jsx("p",{className:"text-slate-600 mb-4",children:r}),d.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Th li"})]})});const c=[{title:"Tng khung hnh",value:((h=t==null?void 0:t.frames)==null?void 0:h.total)||0,diff:0,icon:ws,color:"from-blue-500 to-indigo-500",sparkline:[5,8,6,10,12,9,15,11,14,((g=t==null?void 0:t.frames)==null?void 0:g.total)||0]},{title:"Ngi dng",value:((m=t==null?void 0:t.users)==null?void 0:m.total)||0,diff:0,icon:p3,color:"from-emerald-500 to-teal-500",sparkline:[10,15,12,18,20,17,22,19,24,((p=t==null?void 0:t.users)==null?void 0:p.total)||0]},{title:"Mi 7 ngy qua",value:((x=t==null?void 0:t.users)==null?void 0:x.newLast7Days)||0,diff:0,icon:Wp,color:"from-amber-500 to-orange-500",sparkline:[2,3,5,4,6,8,7,9,10,((b=t==null?void 0:t.users)==null?void 0:b.newLast7Days)||0]}];return d.jsxs("div",{className:"space-y-8",children:[d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:c.map((S,N)=>{const j=S.icon;return d.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200/75 shadow-sm",children:d.jsxs("div",{className:"p-5",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"text-sm text-slate-600",children:S.title}),d.jsx("div",{className:`grid place-items-center size-10 rounded-xl text-white shadow bg-gradient-to-br ${S.color}`,children:d.jsx(j,{size:18})})]}),d.jsx("div",{className:"mt-2 text-3xl font-bold tracking-tight",children:ko(S.value)}),d.jsx(VJ,{values:S.sparkline})]})},N)})}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{onClick:()=>o(7),className:`px-4 py-2 text-sm rounded-lg font-medium transition-colors ${a===7?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"7 ngy"}),d.jsx("button",{onClick:()=>o(30),className:`px-4 py-2 text-sm rounded-lg font-medium transition-colors ${a===30?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"30 ngy"})]}),d.jsx(HJ,{data:t==null?void 0:t.chart,period:a}),d.jsx($J,{users:t==null?void 0:t.users,frames:t==null?void 0:t.frames}),d.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Khung thnh hnh"}),d.jsxs("span",{className:"text-xs text-slate-500",children:["Top 5 trong ",a," ngy"]})]}),d.jsx(GJ,{frames:t==null?void 0:t.topFrames})]}),d.jsx(qJ,{frames:t==null?void 0:t.recentFrames})]})]})}const lg="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net",Hc=t=>typeof t=="number"?t.toLocaleString("vi-VN"):t,L2=t=>t?new Date(t).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",Vm=async(t,e={})=>{try{const n=await fetch(`${lg}/api${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(n){throw console.error("API Error:",n),n}},W7={dang_hoat_dong:{key:"active",label:"ang hot ng",chip:"bg-emerald-50 text-emerald-700 ring-emerald-200",dot:"bg-emerald-500"},cho_duyet:{key:"pending",label:"Ch duyt",chip:"bg-amber-50 text-amber-700 ring-amber-200",dot:"bg-amber-500"},bi_khoa:{key:"blocked",label:"B kha",chip:"bg-rose-50 text-rose-700 ring-rose-200",dot:"bg-rose-500"},da_xoa:{key:"deleted",label:" xa",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"}};function J4({status:t}){const e=W7[t]||W7.bi_khoa;return d.jsxs("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[11px] font-medium ring-1 ${e.chip}`,children:[d.jsx("span",{className:`size-2 rounded-full ${e.dot}`}),e.label]})}function KJ({frame:t,isOpen:e,onClose:n,onStatusChange:i}){return!e||!t?null:d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[d.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:n}),d.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[d.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 grid place-items-center",children:d.jsx(ws,{size:20,className:"text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:t.tieuDe}),d.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",t.id,"  /",t.alias]})]})]}),d.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(a2,{size:20})})]}),d.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"nh xem trc"}),d.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden bg-slate-100 ring-2 ring-white shadow-lg",children:t.urlXemTruoc?d.jsx("img",{src:`${lg}${t.urlXemTruoc}`,alt:t.tieuDe,className:"w-full h-full object-cover",onError:r=>{r.target.src="https://via.placeholder.com/400x400/e2e8f0/64748b?text=No+Image"}}):d.jsx("div",{className:"w-full h-full grid place-items-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(ws,{size:48,className:"text-slate-400 mx-auto mb-2"}),d.jsx("p",{className:"text-slate-500",children:"Cha c nh"})]})})})]}),t.variants&&t.variants.length>0&&d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-3 text-gray-900",children:["Bin th (",t.variants.length,")"]}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.variants.map((r,s)=>d.jsxs("div",{className:"group",children:[d.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-slate-100 ring-1 ring-slate-200",children:r.anhPngUrl?d.jsx("img",{src:`${lg}${r.anhPngUrl}`,alt:r.tenBienThe,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:a=>{var o;a.target.src=`https://via.placeholder.com/120x120/e2e8f0/64748b?text=${((o=r.tenBienThe)==null?void 0:o.charAt(0))||"V"}`}}):d.jsx("div",{className:"w-full h-full grid place-items-center",children:d.jsx(ws,{size:20,className:"text-slate-400"})})}),d.jsx("div",{className:"mt-2 text-xs text-slate-600 truncate",children:r.tenBienThe||`Bin th ${s+1}`}),d.jsx(J4,{status:r.trangThai})]},r.id||s))})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[d.jsx("h4",{className:"font-semibold mb-4 text-gray-900",children:"Thng tin c bn"}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-slate-600",children:"Trng thi:"}),d.jsx(J4,{status:t.trangThai})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-slate-600",children:"Ch  hin th:"}),d.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${t.cheDoHienThi==="cong_khai"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:t.cheDoHienThi==="cong_khai"?"Cng khai":"Ring t"})]}),t.moTa&&d.jsxs("div",{className:"col-span-2",children:[d.jsx("span",{className:"text-slate-600",children:"M t:"}),d.jsx("p",{className:"mt-1 text-slate-900 bg-white rounded-lg p-3 text-sm",children:t.moTa})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4",children:[d.jsx("h4",{className:"font-semibold mb-4 text-gray-900",children:"Thng k s dng"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-white rounded-xl p-3 text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[d.jsx(hu,{size:16,className:"text-blue-600"}),d.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Lt xem"})]}),d.jsx("div",{className:"text-xl font-bold text-blue-600",children:Hc(t.luotXem||0)})]}),d.jsxs("div",{className:"bg-white rounded-xl p-3 text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[d.jsx(Kl,{size:16,className:"text-emerald-600"}),d.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Lt ti"})]}),d.jsx("div",{className:"text-xl font-bold text-emerald-600",children:Hc(t.luotTai||0)})]})]})]}),t.owner&&d.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[d.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Thng tin tc gi"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:t.owner.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.owner.name||"User")}&size=48`,alt:t.owner.name,className:"w-12 h-12 rounded-full ring-2 ring-white shadow-sm"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-medium text-gray-900",children:t.owner.name}),d.jsx("div",{className:"text-sm text-gray-600 truncate",children:t.owner.email})]})]})]}),d.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[d.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Thi gian"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(h3,{size:14,className:"text-slate-500"}),d.jsx("span",{className:"text-slate-600",children:"Ngy to:"})]}),d.jsx("span",{className:"font-medium",children:L2(t.ngayDang)})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(f3,{size:14,className:"text-slate-500"}),d.jsx("span",{className:"text-slate-600",children:"Cp nht:"})]}),d.jsx("span",{className:"font-medium",children:L2(t.ngayChinhSua)})]})]})]}),d.jsxs("div",{className:"pt-4 border-t",children:[d.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Hnh ng nhanh"}),d.jsx("div",{className:"grid gap-2",children:t.trangThai==="cho_duyet"?d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("button",{onClick:()=>i(t.id,"dang_hoat_dong"),className:"flex items-center justify-center gap-2 bg-emerald-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-emerald-700 transition-colors",children:[d.jsx(h4,{size:16})," Duyt"]}),d.jsxs("button",{onClick:()=>i(t.id,"bi_khoa"),className:"flex items-center justify-center gap-2 bg-rose-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-rose-700 transition-colors",children:[d.jsx(a2,{size:16})," T chi"]})]}):d.jsxs("div",{className:"space-y-2",children:[t.trangThai==="dang_hoat_dong"?d.jsxs("button",{onClick:()=>i(t.id,"bi_khoa"),className:"w-full flex items-center justify-center gap-2 bg-amber-500 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-amber-600 transition-colors",children:[d.jsx(gj,{size:16})," Tm kha"]}):d.jsxs("button",{onClick:()=>i(t.id,"dang_hoat_dong"),className:"w-full flex items-center justify-center gap-2 bg-emerald-500 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-emerald-600 transition-colors",children:[d.jsx(mj,{size:16})," Kch hot"]}),d.jsxs("button",{className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:[d.jsx(Mh,{size:16})," Thay nh"]})]})})]})]})]})})]})]})})}function XJ({frame:t,isOpen:e,onClose:n,onConfirm:i}){const[r,s]=Q.useState(!1);if(!e||!t)return null;const a=async()=>{s(!0);try{await i(),n()}catch(o){console.error("Delete failed:",o)}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[d.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:n}),d.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-md w-full",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-100 grid place-items-center",children:d.jsx(wg,{size:24,className:"text-rose-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Xa khung hnh"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Hnh ng ny khng th hon tc"})]})]}),d.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-center gap-3",children:[t.urlXemTruoc&&d.jsx("img",{src:`${lg}${t.urlXemTruoc}`,alt:t.tieuDe,className:"w-12 h-12 rounded-lg object-cover"}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"font-medium truncate",children:t.tieuDe}),d.jsxs("div",{className:"text-sm text-slate-600",children:["/",t.alias]})]})]})}),d.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:['Bn c chc chn mun xa khung hnh "',d.jsx("strong",{children:t.tieuDe}),'" khng? Tt c d liu v file lin quan s b xa vnh vin.']}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:n,disabled:r,className:"flex-1 px-4 py-2.5 text-slate-700 bg-slate-100 rounded-xl font-semibold hover:bg-slate-200 disabled:opacity-50 transition-colors",children:"Hy b"}),d.jsx("button",{onClick:a,disabled:r,className:"flex-1 px-4 py-2.5 bg-rose-600 text-white rounded-xl font-semibold hover:bg-rose-700 disabled:opacity-50 transition-colors",children:r?d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"ang xa..."]}):"Xa vnh vin"})]})]})})]})})}function YJ(){const[t,e]=Q.useState([]),[n,i]=Q.useState(!0),[r,s]=Q.useState(null),[a,o]=Q.useState(""),[l,c]=Q.useState("all"),[h,g]=Q.useState({page:1,pageSize:20,total:0}),[m,p]=Q.useState(null),[x,b]=Q.useState(!1),[S,N]=Q.useState(!1),j=async(F=h.page,P=a,R=l)=>{i(!0),s(null);try{const $=new URLSearchParams({page:F.toString(),pageSize:h.pageSize.toString()});P.trim()&&$.append("search",P.trim()),R!=="all"&&$.append("status",R);const G=await Vm(`/admin/frames?${$}`);e(G.items||[]),g(ee=>({...ee,page:G.page||F,total:G.total||0}))}catch($){s($.message),console.error("Failed to load frames:",$)}finally{i(!1)}};Q.useEffect(()=>{j()},[]);const w=()=>{j(1,a,l)},k=F=>{c(F),j(1,a,F)},E=F=>{j(F,a,l)},O=async(F,P)=>{try{await Vm(`/admin/frames/${F}/status`,{method:"POST",body:JSON.stringify({status:P})}),j(),b(!1),alert(" cp nht trng thi thnh cng!")}catch(R){console.error("Failed to change status:",R),alert("C li xy ra: "+R.message)}},U=async F=>{try{await Vm(`/admin/frames/${F}`,{method:"DELETE"}),j(),alert(" xa khung hnh thnh cng!")}catch(P){console.error("Failed to delete frame:",P),alert("C li xy ra: "+P.message)}},M=async F=>{try{const P=await Vm(`/admin/frames/${F}`);p(P),b(!0)}catch(P){console.error("Failed to load frame detail:",P),alert("Khng th ti chi tit khung: "+P.message)}},I=Q.useMemo(()=>{const F=h.total,P=t.filter(G=>G.trangThai==="dang_hoat_dong").length,R=t.filter(G=>G.trangThai==="cho_duyet").length,$=t.filter(G=>G.trangThai==="bi_khoa").length;return{total:F,active:P,pending:R,blocked:$}},[t,h.total]);return n&&t.length===0?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"ang ti danh sch khung hnh..."})]})}):r&&t.length===0?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx(wg,{className:"mx-auto h-12 w-12 text-red-400 mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng th ti d liu"}),d.jsx("p",{className:"text-gray-500 mb-4",children:r}),d.jsx("button",{onClick:()=>j(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Th li"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-slate-900",children:Hc(I.total)}),d.jsx("div",{className:"text-sm text-slate-500",children:"Tng s khung"})]}),d.jsx("div",{className:"p-3 rounded-xl bg-blue-100 text-blue-600",children:d.jsx(ws,{size:20})})]})}),d.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:Hc(I.active)}),d.jsx("div",{className:"text-sm text-slate-500",children:"ang hot ng"})]}),d.jsx("div",{className:"p-3 rounded-xl bg-emerald-100 text-emerald-600",children:d.jsx(h4,{size:20})})]})}),d.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-amber-600",children:Hc(I.pending)}),d.jsx("div",{className:"text-sm text-slate-500",children:"Ch duyt"})]}),d.jsx("div",{className:"p-3 rounded-xl bg-amber-100 text-amber-600",children:d.jsx(Mh,{size:20})})]})}),d.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-rose-600",children:Hc(I.blocked)}),d.jsx("div",{className:"text-sm text-slate-500",children:"B kha"})]}),d.jsx("div",{className:"p-3 rounded-xl bg-rose-100 text-rose-600",children:d.jsx(a2,{size:20})})]})})]}),d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(d3,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),d.jsx("input",{value:a,onChange:F=>o(F.target.value),onKeyPress:F=>F.key==="Enter"&&w(),className:"w-72 rounded-2xl ring-1 ring-slate-200 bg-white pl-9 pr-3 py-2.5 text-sm outline-none focus:ring-blue-400 focus:ring-2 transition-all",placeholder:"Tm theo tiu , alias hoc tc gi..."})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:l,onChange:F=>k(F.target.value),className:"appearance-none rounded-2xl ring-1 ring-slate-200 bg-white pl-3 pr-10 py-2.5 text-sm outline-none focus:ring-blue-400 focus:ring-2 transition-all",children:[d.jsx("option",{value:"all",children:"Tt c trng thi"}),d.jsx("option",{value:"dang_hoat_dong",children:"ang hot ng"}),d.jsx("option",{value:"cho_duyet",children:"Ch duyt"}),d.jsx("option",{value:"bi_khoa",children:"B kha"}),d.jsx("option",{value:"da_xoa",children:" xa"})]}),d.jsx(Sh,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),d.jsx("button",{onClick:w,className:"rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-blue-700 transition-colors",children:"Tm kim"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{className:"inline-flex items-center gap-2 rounded-xl bg-slate-900 px-4 py-2.5 text-sm font-semibold text-white hover:bg-black transition-colors",children:[d.jsx(Mh,{size:16})," Thm khung"]}),d.jsxs("button",{className:"inline-flex items-center gap-2 rounded-xl bg-white ring-1 ring-slate-200 px-4 py-2.5 text-sm font-semibold hover:bg-slate-50 transition-colors",children:[d.jsx(LO,{size:16})," B lc nng cao"]})]})]}),d.jsxs("div",{className:"overflow-hidden rounded-2xl ring-1 ring-slate-200/75 bg-white shadow-sm",children:[d.jsx("div",{className:"max-w-full overflow-x-auto",children:d.jsxs("table",{className:"min-w-[1200px] w-full text-sm",children:[d.jsx("thead",{className:"bg-slate-50 text-slate-700",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left px-6 py-4 font-semibold",children:"Khung hnh"}),d.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Tc gi"}),d.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Trng thi"}),d.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Ch "}),d.jsx("th",{className:"text-right px-4 py-4 font-semibold",children:"Lt xem"}),d.jsx("th",{className:"text-right px-4 py-4 font-semibold",children:"Lt ti"}),d.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Ngy to"}),d.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Cp nht"}),d.jsx("th",{className:"text-right px-6 py-4 font-semibold",children:"Hnh ng"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n&&d.jsx("tr",{children:d.jsx("td",{colSpan:9,className:"py-8 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),d.jsx("span",{className:"text-slate-500",children:"ang ti..."})]})})}),!n&&t.map(F=>d.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"relative",children:F.urlXemTruoc?d.jsx("img",{src:`${lg}${F.urlXemTruoc}`,alt:F.tieuDe,className:"w-16 h-16 rounded-xl object-cover ring-2 ring-white shadow-sm",onError:P=>{var R;P.target.src=`https://via.placeholder.com/64x64/e2e8f0/64748b?text=${((R=F.tieuDe)==null?void 0:R.charAt(0))||"K"}`}}):d.jsx("div",{className:"w-16 h-16 rounded-xl bg-slate-100 grid place-items-center",children:d.jsx(ws,{size:20,className:"text-slate-400"})})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"font-semibold text-slate-900 truncate max-w-xs",children:F.tieuDe}),d.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-xs",children:["/",F.alias]})]})]})}),d.jsx("td",{className:"px-4 py-4",children:F.owner?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("img",{src:F.owner.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(F.owner.name)}&size=32`,alt:F.owner.name,className:"w-8 h-8 rounded-full"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-slate-900",children:F.owner.name}),d.jsx("div",{className:"text-xs text-slate-500",children:F.owner.email})]})]}):d.jsx("span",{className:"text-slate-400",children:"Khng c"})}),d.jsx("td",{className:"px-4 py-4",children:d.jsx(J4,{status:F.trangThai})}),d.jsx("td",{className:"px-4 py-4",children:d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-lg ${F.cheDoHienThi==="cong_khai"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:F.cheDoHienThi==="cong_khai"?"Cng khai":"Ring t"})}),d.jsx("td",{className:"px-4 py-4 text-right font-mono text-slate-600",children:Hc(F.luotXem||0)}),d.jsx("td",{className:"px-4 py-4 text-right font-mono text-slate-600",children:Hc(F.luotTai||0)}),d.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:L2(F.ngayDang)}),d.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:L2(F.ngayChinhSua)}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("div",{className:"flex items-center justify-end gap-2",children:F.trangThai==="cho_duyet"?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>O(F.id,"dang_hoat_dong"),className:"inline-flex items-center gap-1 rounded-lg bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-emerald-700 transition-colors",title:"Duyt khung",children:[d.jsx(h4,{size:14})," Duyt"]}),d.jsxs("button",{onClick:()=>O(F.id,"bi_khoa"),className:"inline-flex items-center gap-1 rounded-lg bg-rose-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-rose-700 transition-colors",title:"T chi khung",children:[d.jsx(a2,{size:14})," T chi"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>M(F.id),className:"inline-flex items-center gap-1 rounded-lg bg-violet-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-violet-700 transition-colors",title:"Xem chi tit",children:[d.jsx(hu,{size:14})," Xem"]}),F.trangThai==="dang_hoat_dong"?d.jsxs("button",{onClick:()=>O(F.id,"bi_khoa"),className:"inline-flex items-center gap-1 rounded-lg bg-amber-500 px-3 py-1.5 text-xs font-semibold text-white hover:bg-amber-600 transition-colors",title:"Tm kha khung",children:[d.jsx(gj,{size:14})," Kha"]}):d.jsxs("button",{onClick:()=>O(F.id,"dang_hoat_dong"),className:"inline-flex items-center gap-1 rounded-lg bg-emerald-500 px-3 py-1.5 text-xs font-semibold text-white hover:bg-emerald-600 transition-colors",title:"Kch hot khung",children:[d.jsx(mj,{size:14})," Bt"]}),d.jsxs("button",{onClick:()=>{p(F),N(!0)},className:"inline-flex items-center gap-1 rounded-lg bg-rose-500 px-3 py-1.5 text-xs font-semibold text-white hover:bg-rose-600 transition-colors",title:"Xa vnh vin",children:[d.jsx(yj,{size:14})," Xa"]})]})})})]},F.id)),!n&&t.length===0&&d.jsx("tr",{children:d.jsxs("td",{colSpan:9,className:"py-16 text-center",children:[d.jsx(ws,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng c khung hnh"}),d.jsx("p",{className:"text-gray-500",children:"Khng tm thy khung ph hp vi b lc hin ti."})]})})]})]})}),h.total>0&&d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-slate-50 border-t",children:[d.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th ",d.jsx("span",{className:"font-semibold",children:(h.page-1)*h.pageSize+1})," n"," ",d.jsx("span",{className:"font-semibold",children:Math.min(h.page*h.pageSize,h.total)})," trong tng s"," ",d.jsx("span",{className:"font-semibold",children:h.total})," khung hnh"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>E(h.page-1),disabled:h.page<=1,className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Trc"}),d.jsx("div",{className:"flex items-center gap-1",children:(()=>{const F=Math.ceil(h.total/h.pageSize),P=5;let R=Math.max(1,h.page-Math.floor(P/2)),$=Math.min(F,R+P-1);return $-R+1<P&&(R=Math.max(1,$-P+1)),Array.from({length:$-R+1},(G,ee)=>{const ce=R+ee,pe=ce===h.page;return d.jsx("button",{onClick:()=>E(ce),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${pe?"bg-blue-600 text-white":"border border-slate-200 bg-white hover:bg-slate-50"}`,children:ce},ce)})})()}),d.jsx("button",{onClick:()=>E(h.page+1),disabled:h.page>=Math.ceil(h.total/h.pageSize),className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Sau"})]})]})]}),d.jsx(KJ,{frame:m,isOpen:x,onClose:()=>b(!1),onStatusChange:O}),d.jsx(XJ,{frame:m,isOpen:S,onClose:()=>N(!1),onConfirm:()=>U(m==null?void 0:m.id)})]})}const QJ="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),Td=t=>typeof t=="number"?t.toLocaleString("vi-VN"):t,T2=t=>t?new Date(t).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",Hm=async(t,e={})=>{try{const n=await fetch(`${QJ}/api${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(n){throw console.error("API Error:",n),n}},Z4={hoat_dong:{label:"Hot ng",chip:"bg-emerald-50 text-emerald-700 ring-emerald-200",dot:"bg-emerald-500"},bi_khoa:{label:"B kha",chip:"bg-rose-50 text-rose-700 ring-rose-200",dot:"bg-rose-500"},khoa:{label:"B kha",chip:"bg-rose-50 text-rose-700 ring-rose-200",dot:"bg-rose-500"},xoa_mem:{label:" xa",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"},inactive:{label:"Khng hot ng",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"}};function EL({status:t}){const e=Z4[t]||Z4.hoat_dong;return d.jsxs("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[11px] font-medium ring-1 ${e.chip}`,children:[d.jsx("span",{className:`size-2 rounded-full ${e.dot}`}),e.label]})}function Nw({role:t,isSuper:e}){return console.log("RoleBadge:",{role:t,isSuper:e,type:typeof e}),e===!0||e===1||t==="superadmin"?d.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 text-xs font-semibold rounded-full bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-800 ring-1 ring-orange-200",children:[d.jsx(ol,{size:12,className:"text-orange-600"}),"Super Admin"]}):t==="admin"?d.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-700",children:[d.jsx(df,{size:12}),"Qun tr vin"]}):d.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 text-xs font-semibold rounded-full bg-slate-100 text-slate-700",children:[d.jsx(qa,{size:12}),"Ngi dng"]})}function JJ({user:t,isOpen:e,onClose:n,onRoleChange:i,onBanUser:r,onUnlockUser:s,users:a,currentUserEmail:o}){var g;if(!e||!t)return null;const l=t.isSuper||t.role==="superadmin",c=a==null?void 0:a.find(m=>m.email===o),h=(c==null?void 0:c.isSuper)===!0||(c==null?void 0:c.isSuper)===1;return d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[d.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:n}),d.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[d.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"w-12 h-12 rounded-xl bg-blue-100 grid place-items-center relative",children:[t.avatar?d.jsx("img",{src:t.avatar,alt:t.name,className:"w-full h-full rounded-xl object-cover",onError:m=>{m.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name||"User")}&size=48`}}):d.jsx(qa,{size:20,className:"text-blue-600"}),l&&d.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full grid place-items-center",children:d.jsx(ol,{size:12,className:"text-white"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:t.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",t.id]})]})]}),d.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Rh,{size:20})})]}),d.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"nh i din"}),d.jsxs("div",{className:"aspect-square w-48 mx-auto rounded-2xl overflow-hidden bg-slate-100 ring-2 ring-white shadow-lg relative",children:[t.avatar?d.jsx("img",{src:t.avatar,alt:t.name,className:"w-full h-full object-cover",onError:m=>{m.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name||"User")}&size=192`}}):d.jsx("div",{className:"w-full h-full grid place-items-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(qa,{size:48,className:"text-slate-400 mx-auto mb-2"}),d.jsx("p",{className:"text-slate-500",children:"Cha c nh"})]})}),l&&d.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full grid place-items-center shadow-lg",children:d.jsx(ol,{size:16,className:"text-white"})})]})]})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[d.jsx("h4",{className:"font-semibold mb-4 text-gray-900",children:"Thng tin c bn"}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(HO,{size:16,className:"text-slate-500"}),d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-600",children:"Email:"}),d.jsx("div",{className:"font-medium text-slate-900",children:t.email})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(l2,{size:16,className:"text-slate-500"}),d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-600",children:"Vai tr:"}),d.jsx("div",{className:"mt-1",children:d.jsx(Nw,{role:t.role,isSuper:t.isSuper})})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-4 h-4 grid place-items-center",children:d.jsx("div",{className:`w-2 h-2 rounded-full ${((g=Z4[t.status])==null?void 0:g.dot)||"bg-slate-400"}`})}),d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-600",children:"Trng thi:"}),d.jsx("div",{className:"mt-1",children:d.jsx(EL,{status:t.status})})]})]})]})]}),d.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[d.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Thi gian"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(h3,{size:14,className:"text-slate-500"}),d.jsx("span",{className:"text-slate-600",children:"Ngy tham gia:"})]}),d.jsx("span",{className:"font-medium",children:T2(t.ngayTao)})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(f3,{size:14,className:"text-slate-500"}),d.jsx("span",{className:"text-slate-600",children:"Cp nht:"})]}),d.jsx("span",{className:"font-medium",children:T2(t.ngayCapNhat)})]})]})]}),l&&d.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-2xl p-4 border border-yellow-200",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(ol,{size:16,className:"text-orange-600"}),d.jsx("h4",{className:"font-semibold text-orange-800",children:"Super Admin"})]}),d.jsx("p",{className:"text-sm text-orange-700",children:"Ngi dng ny c quyn hn cao nht trong h thng. Ch Super Admin khc mi c th thay i quyn hn ca h."})]}),d.jsxs("div",{className:"pt-4 border-t",children:[d.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Hnh ng nhanh"}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx("div",{className:"grid grid-cols-2 gap-2",children:l?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>{i(t.id,"admin"),n()},className:"flex items-center justify-center gap-2 bg-purple-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-purple-700 transition-colors",children:[d.jsx(df,{size:16})," H xung Admin"]}),d.jsxs("button",{onClick:()=>{i(t.id,"user"),n()},className:"flex items-center justify-center gap-2 bg-slate-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-slate-700 transition-colors",children:[d.jsx(qa,{size:16})," H xung User"]})]}):t.role==="admin"?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>{i(t.id,"superadmin"),n()},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2.5 rounded-xl font-semibold hover:from-yellow-600 hover:to-orange-600 transition-colors",children:[d.jsx(ol,{size:16})," Thng Super Admin"]}),d.jsxs("button",{onClick:()=>{i(t.id,"user"),n()},className:"flex items-center justify-center gap-2 bg-slate-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-slate-700 transition-colors",children:[d.jsx(qa,{size:16})," H xung User"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>{i(t.id,"admin"),n()},className:"flex items-center justify-center gap-2 bg-purple-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-purple-700 transition-colors",children:[d.jsx(df,{size:16})," Thng Admin"]}),d.jsxs("button",{onClick:()=>{i(t.id,"superadmin"),n()},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2.5 rounded-xl font-semibold hover:from-yellow-600 hover:to-orange-600 transition-colors",children:[d.jsx(ol,{size:16})," Thng Super Admin"]})]})}),h&&(t.status==="bi_khoa"?d.jsxs("button",{onClick:()=>{s(t.id),n()},className:"inline-flex items-center justify-center gap-2 rounded-xl bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-emerald-700 transition-colors",children:[d.jsx(pj,{size:16})," M kha ti khon"]}):d.jsxs("button",{onClick:()=>{r(t.id),n()},className:"inline-flex items-center justify-center gap-2 rounded-xl bg-rose-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-rose-700 transition-colors",children:[d.jsx(u3,{size:16})," Kha ti khon"]}))]})]})]})]})})]})]})})}function ZJ({user:t,isOpen:e,onClose:n,onConfirm:i}){const[r,s]=Q.useState(""),[a,o]=Q.useState(!1);if(!e||!t)return null;const l=t.isSuper||t.role==="superadmin",c=async()=>{o(!0);try{await i(r),n()}catch(h){console.error("Ban failed:",h)}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[d.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:n}),d.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-md w-full",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-100 grid place-items-center",children:d.jsx(u3,{size:24,className:"text-rose-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Kha ti khon"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Ti khon s b tm ngng hot ng"})]})]}),d.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:t.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name||"User")}&size=48`,alt:t.name,className:"w-12 h-12 rounded-full"}),l&&d.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full grid place-items-center",children:d.jsx(ol,{size:10,className:"text-white"})})]}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"font-medium truncate",children:t.name}),d.jsx("div",{className:"text-sm text-slate-600",children:t.email}),d.jsx(Nw,{role:t.role,isSuper:t.isSuper})]})]})}),l&&d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[d.jsx(wg,{size:16}),d.jsx("span",{className:"font-medium text-sm",children:"Cnh bo"})]}),d.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Bn ang kha mt Super Admin. Hnh ng ny cn c thn trng."})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"L do kha ti khon *"}),d.jsx("textarea",{value:r,onChange:h=>s(h.target.value),className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-rose-400",rows:3,placeholder:"Nhp l do kha ti khon...",required:!0})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:n,disabled:a,className:"flex-1 px-4 py-2.5 text-slate-700 bg-slate-100 rounded-xl font-semibold hover:bg-slate-200 disabled:opacity-50 transition-colors",children:"Hy b"}),d.jsx("button",{onClick:c,disabled:a||!r.trim(),className:"flex-1 px-4 py-2.5 bg-rose-600 text-white rounded-xl font-semibold hover:bg-rose-700 disabled:opacity-50 transition-colors",children:a?d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"ang kha..."]}):"Kha ti khon"})]})]})})]})})}function eZ({isOpen:t,onClose:e,onAdd:n}){const[i,r]=Q.useState({name:"",email:"",role:"user"}),[s,a]=Q.useState(!1);if(!t)return null;const o=async l=>{if(l.preventDefault(),!(!i.name.trim()||!i.email.trim())){a(!0);try{await n(i),r({name:"",email:"",role:"user"}),e()}catch(c){console.error("Add user failed:",c)}finally{a(!1)}}};return d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[d.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:e}),d.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-md w-full",children:d.jsxs("form",{onSubmit:o,className:"p-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 grid place-items-center",children:d.jsx(Wp,{size:24,className:"text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Thm ngi dng"}),d.jsx("p",{className:"text-sm text-gray-600",children:"To ti khon mi"})]})]}),d.jsxs("div",{className:"space-y-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn hin th *"}),d.jsx("input",{type:"text",value:i.name,onChange:l=>r(c=>({...c,name:l.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Nhp tn ngi dng",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),d.jsx("input",{type:"email",value:i.email,onChange:l=>r(c=>({...c,email:l.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-400",placeholder:"email@example.com",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vai tr"}),d.jsxs("select",{value:i.role,onChange:l=>r(c=>({...c,role:l.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-400",children:[d.jsx("option",{value:"user",children:" Ngi dng"}),d.jsx("option",{value:"admin",children:" Qun tr vin"}),d.jsx("option",{value:"superadmin",children:" Super Admin"})]}),i.role==="superadmin"&&d.jsxs("p",{className:"text-xs text-yellow-600 mt-1 flex items-center gap-1",children:[d.jsx(wg,{size:12}),"Cp quyn Super Admin cn c thn trng"]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"button",onClick:e,disabled:s,className:"flex-1 px-4 py-2.5 text-slate-700 bg-slate-100 rounded-xl font-semibold hover:bg-slate-200 disabled:opacity-50 transition-colors",children:"Hy b"}),d.jsx("button",{type:"submit",disabled:s||!i.name.trim()||!i.email.trim(),className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 disabled:opacity-50 transition-colors",children:s?d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"ang to..."]}):"To ti khon"})]})]})})]})})}function tZ(){const[t,e]=Q.useState([]),[n,i]=Q.useState(!0),[r,s]=Q.useState(null),[a,o]=Q.useState(""),[l,c]=Q.useState("all"),[h,g]=Q.useState({page:1,pageSize:20,total:0}),[m,p]=Q.useState(null),[x,b]=Q.useState(!1),[S,N]=Q.useState(!1),[j,w]=Q.useState(!1),k=async(te=h.page,he=a)=>{i(!0),s(null);try{const Y=new URLSearchParams({page:te.toString(),pageSize:h.pageSize.toString()});he.trim()&&Y.append("search",he.trim());const B=await Hm(`/admin/users?${Y}`);e(B.items||[]),g(K=>({...K,page:B.page||te,total:B.total||0}))}catch(Y){s(Y.message),console.error("Failed to load users:",Y)}finally{i(!1)}};Q.useEffect(()=>{k()},[]);const E=()=>{k(1,a)},O=Q.useMemo(()=>t.filter(te=>l==="all"?!0:l==="superadmin"?te.isSuper===!0||te.isSuper===1:l==="admin"?te.role==="admin"&&!(te.isSuper===!0||te.isSuper===1):l==="user"?te.role==="user"||!te.role&&!(te.isSuper===!0||te.isSuper===1):!1),[t,l]),U=async(te,he)=>{try{const Y=t.find(fe=>fe.id===te);if(!Y){alert(" Khng tm thy ngi dng");return}const B=I();if(!B){alert(` Khng xc nh c ngi dng hin ti.

Vui lng ng nhp li.`);return}const K=t.find(fe=>fe.email===B.email);if(!K){alert(" Khng tm thy thng tin ngi dng hin ti trong h thng.");return}const ie=K.isSuper===!0||K.isSuper===1||K.role==="superadmin",ue=Y.isSuper===!0||Y.isSuper===1||Y.role==="superadmin";if(console.log(" Role Check:",{currentUser:K.email,callerRole:K.role,callerIsSuper:ie,targetUser:Y.email,targetRole:Y.role,targetIsSuper:ue,newRole:he}),K.id===te){alert(" Khng c t thay i quyn ca chnh bn qua API.");return}if(ue&&!ie){alert(` Ch Super Admin mi c quyn thay i Super Admin khc.

Bn cn quyn Super Admin  thc hin hnh ng ny.`);return}if(K.role==="admin"&&!ie&&Y.role!=="user"){alert(` Admin ch c th thao tc trn ngi dng bnh thng.

Ch Super Admin mi c quyn thay i quyn Admin.`);return}if(he==="admin"&&Y.role==="user"&&!ie){alert(" Ch Super Admin mi c quyn thng admin.");return}if(he==="user"&&Y.role==="admin"&&!ie){alert(" Ch Super Admin mi c quyn h admin.");return}if((he==="superadmin"||ue)&&!ie){alert(" Ch Super Admin mi c quyn thng/h Super Admin.");return}const de=P(Y,he);if(!confirm(de))return;const X=await Hm(`/admin/users/${te}/role`,{method:"POST",body:JSON.stringify({role:he})});if(await k(),b(!1),X.success&&X.before&&X.after){const{before:fe,after:me}=X,Ce=F(fe.role,fe.isSuper),Te=F(me.role,me.isSuper);alert(`  cp nht vai tr thnh cng!

Ngi dng: ${Y.name}
Trc: ${Ce}
Sau: ${Te}

Thay i  c ghi nhn vo h thng.`)}else alert("  cp nht vai tr thnh cng!")}catch(Y){console.error(" Failed to change role:",Y),R(Y)}},M=()=>{try{const te=JSON.parse(localStorage.getItem("kh_me")||"null");return(te==null?void 0:te.email)||null}catch{return null}},I=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")||null}catch{return null}},F=(te,he)=>he===!0||he===1?" Super Admin":te==="admin"?" Admin":" User",P=(te,he)=>{const Y=F(te.role,te.isSuper),B=F(he,he==="superadmin"?1:0);let K="";return he==="superadmin"?K=`

 CH : Super Admin c ton quyn trong h thng!
Hnh ng ny cn c thn trng v c thm quyn ph duyt.`:te.isSuper&&he!=="superadmin"&&(K=`

 Bn ang h quyn mt Super Admin.
iu ny s nh hng n quyn qun tr ca h.`),` Xc nhn thay i vai tr

Ngi dng: ${te.name}
Email: ${te.email}

Vai tr hin ti: ${Y}
Vai tr mi: ${B}${K}

Bn c chc chn mun thc hin thay i ny?`},R=te=>{let he="C li xy ra khi thay i vai tr";const Y=te.message||"";Y.includes("500")||Y.includes("Internal Server Error")?he=` Li server ni b.

C th do:
 Stored procedure t chi thay i
 Rng buc v phn quyn trong database
 Trigger database t chi thay i

Vui lng lin h qun tr vin h thng.`:Y.includes("403")||Y.includes("Forbid")?he=` Bn khng c quyn thc hin hnh ng ny.

Ch Super Admin mi c th:
 Thng/h quyn Admin  User
 Qun l Super Admin khc
 Thay i cu trc phn quyn

Vui lng lin h Super Admin nu bn cn h tr.`:Y.includes("404")||Y.includes("Not Found")?he=` Khng tm thy ngi dng.

Ngi dng c th  b xa hoc khng tn ti trong h thng.`:Y.includes("400")||Y.includes("BadRequest")?he=` Yu cu khng hp l.

Li c th do:
 Khng c t thay i quyn ca chnh mnh
 Vai tr mi khng hp l (phi l user/admin/superadmin)
 D liu gi i khng ng nh dng`:(Y.includes("Unauthorized")||Y.includes("401"))&&(he=` Phin ng nhp  ht hn.

Vui lng ng nhp li  tip tc.`),alert(he+`

 Chi tit k thut:
`+Y)},$=async(te,he)=>{try{const Y=t.find(fe=>fe.id===te);if(!Y){alert(" Khng tm thy ngi dng");return}const B=I();if(!B){alert(` Khng xc nh c ngi dng hin ti.

Vui lng ng nhp li.`);return}const K=t.find(fe=>fe.email===B.email);if(!K){alert(" Khng tm thy thng tin ngi dng hin ti trong h thng.");return}const ie=K.isSuper===!0||K.isSuper===1||K.role==="superadmin",ue=Y.isSuper===!0||Y.isSuper===1||Y.role==="superadmin";if(K.id===te){alert(` KHNG TH T KHA CHNH MNH

Bn khng th t kha ti khon ca chnh bn qua API.

 Nu cn v hiu ha ti khon ca bn, vui lng:
 Lin h Super Admin khc
 Hoc s dng chc nng ng xut`);return}if(ue&&!ie){alert(` KHNG TH KHA SUPER ADMIN

Ch Super Admin mi c quyn kha Super Admin khc.

 Hnh ng ny yu cu quyn cao nht  m bo an ninh.`);return}if(Y.role==="admin"&&!ie){alert(` KHNG TH KHA ADMIN

Ch Super Admin mi c quyn kha ti khon Admin.

 Admin thng khng th kha Admin khc  trnh xung t quyn hn.`);return}let de=` XC NHN KHA TI KHON

`;if(de+=`Ngi dng: ${Y.name}
`,de+=`Email: ${Y.email}
`,de+=`Vai tr: ${F(Y.role,Y.isSuper)}
`,de+=`L do: ${he||"Khng c"}

`,ue?(de+=` CH : Bn ang kha mt Super Admin!
`,de+=`Hnh ng ny s:
`,de+=` V hiu ha ton b quyn ca h
`,de+=` Ngn h ng nhp vo h thng
`,de+=` C th nh hng n hot ng qun tr

`):Y.role==="admin"&&(de+=` CH : Bn ang kha mt Admin!
`,de+=`iu ny s nh hng n kh nng qun l ca h.

`),de+="Bn c chc chn mun tip tc?",!confirm(de))return;console.log(`[BanUser] Calling API to ban user ${te}...`);const X=await Hm(`/admin/users/${te}/ban`,{method:"POST",body:JSON.stringify({reason:he||""})});console.log("[BanUser] API Response:",X),await k(),N(!1),X.success&&alert(`  KHA TI KHON THNH CNG!

Ngi dng: ${Y.name}
Email: ${Y.email}
L do: ${he||"Khng c"}
Trng thi mi: ${X.status||"bi_khoa"}

 Ngi dng ny s khng th ng nhp cho n khi c m kha.`)}catch(Y){console.error(" Failed to ban user:",Y),G(Y)}},G=te=>{const he=te.message||"";console.error(" Ban Error Details:",{message:he,stack:te.stack,fullError:te});let Y=" C li xy ra khi kha ti khon";he.includes("500")||he.includes("Internal Server Error")?Y=` LI SERVER - Stored Procedure

 NGUYN NHN:
 Stored procedure sp_LockUser cha tn ti
 SP c li logic hoc validation
 Trigger database t chi thay i
 Rng buc phn quyn trong database

 CCH SA:
1. Kim tra SP: SELECT OBJECT_ID('dbo.sp_LockUser')
2. To SP nu cha c (xem hng dn)
3. Test SP: EXEC sp_LockUser @ActorId=1, @TargetId=5, @Reason='Test'
4. Xem error log: EXEC sp_readerrorlog

 Lin h qun tr vin h thng  fix stored procedure.`:he.includes("403")||he.includes("Forbid")?Y=` KHNG C QUYN KHA TI KHON

 Quy tc phn quyn:
 Ch Super Admin mi c quyn kha ti khon
 Admin thng KHNG th kha bt k ai
 Super Admin kha c: User, Admin, Super Admin khc
 KHNG ai c th t kha chnh mnh

 Nu bn cn kha ti khon ny, vui lng:
 Lin h Super Admin
 Yu cu quyn Super Admin (nu ph hp)`:he.includes("400")||he.includes("BadRequest")?Y=` YU CU KHNG HP L

 Li c th do:
 Khng th t kha ti khon ca chnh mnh qua API.
 L do kha khng hp l
 D liu gi i sai nh dng

 Vui lng kim tra li thng tin v th li.`:he.includes("404")||he.includes("Not Found")?Y=` KHNG TM THY NGI DNG

Ngi dng ny c th:
  b xa khi h thng
 Khng tn ti trong database
 ID khng hp l

 Vui lng lm mi danh sch v th li.`:(he.includes("Unauthorized")||he.includes("401"))&&(Y=` PHIN NG NHP HT HN

Vui lng ng nhp li  tip tc.

 Bn s c chuyn n trang ng nhp.`),alert(Y+`

 Chi tit k thut:
`+he)},ee=async te=>{try{const he=t.find(B=>B.id===te);if(!he){alert(" Khng tm thy ngi dng");return}if(!confirm(` XC NHN M KHA TI KHON

Ngi dng: ${he.name}
Email: ${he.email}
Vai tr: ${F(he.role,he.isSuper)}

Sau khi m kha, ngi dng ny s c th ng nhp tr li.

Bn c chc chn mun m kha?`))return;console.log(`[UnlockUser] Calling API to unlock user ${te}...`);const Y=await Hm(`/admin/users/${te}/unlock`,{method:"POST"});console.log("[UnlockUser] API Response:",Y),await k(),b(!1),Y.success&&alert(`  M KHA TI KHON THNH CNG!

Ngi dng: ${he.name}
Email: ${he.email}
Trng thi mi: ${Y.status||"hoat_dong"}

 Ngi dng ny  c th ng nhp tr li.`)}catch(he){console.error(" Failed to unlock user:",he);let Y="C li xy ra khi m kha ti khon";const B=he.message||"";B.includes("500")?Y=` Li server khi thc thi stored procedure sp_UnlockUser.

Vui lng kim tra:
 SP sp_UnlockUser c tn ti khng
 Log server  xem chi tit li

Lin h qun tr vin h thng.`:B.includes("403")||B.includes("Forbid")?Y=` Bn khng c quyn m kha ti khon ny.

Ch Super Admin mi c th m kha ti khon.`:B.includes("404")&&(Y=` Khng tm thy ngi dng.

Vui lng lm mi danh sch.`),alert(Y+`

 Chi tit: `+B)}},ce=te=>{p(te),b(!0)},pe=async te=>{console.log("Adding user:",te),alert("Chc nng thm ngi dng ang c pht trin")},Z=Q.useMemo(()=>{const te=h.total,he=t.filter(ue=>ue.isSuper||ue.role==="superadmin").length,Y=t.filter(ue=>ue.role==="admin"&&!(ue.isSuper===!0||ue.isSuper===1)).length,B=t.filter(ue=>ue.role==="user"||!ue.role&&!(ue.isSuper===!0||ue.isSuper===1)).length,K=t.filter(ue=>ue.status==="active").length,ie=t.filter(ue=>ue.status==="bi_khoa").length;return{total:te,superAdmin:he,admin:Y,user:B,active:K,banned:ie}},[t,h.total]);return n&&t.length===0?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"ang ti danh sch ngi dng..."})]})}):r&&t.length===0?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsxs("div",{className:"text-center",children:[d.jsx(wg,{className:"mx-auto h-12 w-12 text-red-400 mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng th ti d liu"}),d.jsx("p",{className:"text-gray-500 mb-4",children:r}),d.jsx("button",{onClick:()=>k(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Th li"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[d.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-slate-900",children:Td(Z.total)}),d.jsx("div",{className:"text-sm text-slate-500",children:"Tng s"})]}),d.jsx("div",{className:"p-3 rounded-xl bg-blue-100 text-blue-600",children:d.jsx(qa,{size:20})})]})}),d.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:Td(Z.superAdmin)}),d.jsx("div",{className:"text-sm text-slate-500",children:"Super Admin"})]}),d.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-600",children:d.jsx(ol,{size:20})})]})}),d.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Td(Z.admin)}),d.jsx("div",{className:"text-sm text-slate-500",children:"Admin"})]}),d.jsx("div",{className:"p-3 rounded-xl bg-purple-100 text-purple-600",children:d.jsx(df,{size:20})})]})}),d.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-slate-600",children:Td(Z.user)}),d.jsx("div",{className:"text-sm text-slate-500",children:"User"})]}),d.jsx("div",{className:"p-3 rounded-xl bg-slate-100 text-slate-600",children:d.jsx(qa,{size:20})})]})}),d.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:Td(Z.active)}),d.jsx("div",{className:"text-sm text-slate-500",children:"Hot ng"})]}),d.jsx("div",{className:"p-3 rounded-xl bg-emerald-100 text-emerald-600",children:d.jsx(fI,{size:20})})]})}),d.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-rose-600",children:Td(Z.banned)}),d.jsx("div",{className:"text-sm text-slate-500",children:"B kha"})]}),d.jsx("div",{className:"p-3 rounded-xl bg-rose-100 text-rose-600",children:d.jsx(gI,{size:20})})]})})]}),d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(d3,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),d.jsx("input",{value:a,onChange:te=>o(te.target.value),onKeyPress:te=>te.key==="Enter"&&E(),className:"w-72 rounded-2xl ring-1 ring-slate-200 bg-white pl-9 pr-3 py-2.5 text-sm outline-none focus:ring-blue-400 focus:ring-2 transition-all",placeholder:"Tm theo tn hoc email..."})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:l,onChange:te=>c(te.target.value),className:"appearance-none rounded-2xl ring-1 ring-slate-200 bg-white pl-3 pr-10 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-400 transition-all",children:[d.jsx("option",{value:"all",children:"Tt c vai tr"}),d.jsx("option",{value:"superadmin",children:" Super Admin"}),d.jsx("option",{value:"admin",children:" Qun tr vin"}),d.jsx("option",{value:"user",children:" Ngi dng"})]}),d.jsx(Sh,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),d.jsx("button",{onClick:E,className:"rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-blue-700 transition-colors",children:"Tm kim"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>w(!0),className:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-emerald-700 transition-colors",children:[d.jsx(Wp,{size:16})," Thm ngi dng"]}),d.jsxs("button",{onClick:()=>k(),className:"inline-flex items-center gap-2 rounded-xl bg-white ring-1 ring-slate-200 px-4 py-2.5 text-sm font-semibold hover:bg-slate-50 transition-colors",children:[d.jsx(y1,{size:16})," Lm mi"]})]})]}),d.jsxs("div",{className:"overflow-hidden rounded-2xl ring-1 ring-slate-200/75 bg-white shadow-sm",children:[d.jsx("div",{className:"max-w-full overflow-x-auto",children:d.jsxs("table",{className:"min-w-[900px] w-full text-sm",children:[d.jsx("thead",{className:"bg-slate-50 text-slate-700",children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left px-6 py-4 font-semibold",children:"Ngi dng"}),d.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Vai tr"}),d.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Trng thi"}),d.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Ngy tham gia"}),d.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Cp nht"}),d.jsx("th",{className:"text-right px-6 py-4 font-semibold",children:"Hnh ng"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n&&d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"py-8 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),d.jsx("span",{className:"text-slate-500",children:"ang ti..."})]})})}),!n&&O.map(te=>{const he=te.isSuper===!0||te.isSuper===1;return d.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:te.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(te.name||"User")}&size=48`,alt:te.name,className:"w-12 h-12 rounded-full object-cover ring-2 ring-white shadow-sm"}),he&&d.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full grid place-items-center",children:d.jsx(ol,{size:10,className:"text-white"})})]}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"font-semibold text-slate-900 truncate max-w-xs",children:te.name}),d.jsx("div",{className:"text-xs text-slate-500 truncate max-w-xs",children:te.email})]})]})}),d.jsx("td",{className:"px-4 py-4",children:d.jsx(Nw,{role:te.role,isSuper:te.isSuper})}),d.jsx("td",{className:"px-4 py-4",children:d.jsx(EL,{status:te.status})}),d.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:T2(te.ngayTao)}),d.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:T2(te.ngayCapNhat)}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsxs("button",{onClick:()=>ce(te),className:"inline-flex items-center gap-1 rounded-lg bg-violet-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-violet-700 transition-colors",title:"Xem chi tit",children:[d.jsx(hu,{size:14})," Chi tit"]}),he?d.jsxs("button",{onClick:()=>U(te.id,"admin"),className:"inline-flex items-center gap-1 rounded-lg bg-gradient-to-r from-yellow-500 to-orange-500 px-3 py-1.5 text-xs font-semibold text-white hover:from-yellow-600 hover:to-orange-600 transition-colors",title:"H xung Admin",children:[d.jsx(df,{size:14})," H quyn"]}):te.role==="admin"?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>U(te.id,"superadmin"),className:"inline-flex items-center gap-1 rounded-lg bg-gradient-to-r from-yellow-500 to-orange-500 px-3 py-1.5 text-xs font-semibold text-white hover:from-yellow-600 hover:to-orange-600 transition-colors",title:"Thng Super Admin",children:[d.jsx(ol,{size:14})," Super"]}),d.jsxs("button",{onClick:()=>U(te.id,"user"),className:"inline-flex items-center gap-1 rounded-lg bg-slate-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-slate-700 transition-colors",title:"H xung User",children:[d.jsx(qa,{size:14})," H quyn"]})]}):d.jsxs("button",{onClick:()=>U(te.id,"admin"),className:"inline-flex items-center gap-1 rounded-lg bg-purple-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-purple-700 transition-colors",title:"Thng Admin",children:[d.jsx(df,{size:14})," Thng Admin"]}),(()=>{const Y=I(),B=t.find(ie=>ie.email===(Y==null?void 0:Y.email));return(B==null?void 0:B.isSuper)===!0||(B==null?void 0:B.isSuper)===1?te.status==="bi_khoa"?d.jsxs("button",{onClick:()=>ee(te.id),className:"inline-flex items-center gap-1 rounded-lg bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-emerald-700 transition-colors",title:"M kha ti khon",children:[d.jsx(pj,{size:14})," M kha"]}):d.jsxs("button",{onClick:()=>{p(te),N(!0)},className:"inline-flex items-center gap-1 rounded-lg bg-rose-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-rose-700 transition-colors",title:"Kha ti khon",children:[d.jsx(u3,{size:14})," Kha"]}):null})()]})})]},te.id)}),!n&&O.length===0&&d.jsx("tr",{children:d.jsxs("td",{colSpan:6,className:"py-16 text-center",children:[d.jsx(qa,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng c ngi dng"}),d.jsx("p",{className:"text-gray-500",children:"Khng tm thy ngi dng ph hp vi b lc hin ti."})]})})]})]})}),h.total>0&&d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-slate-50 border-t",children:[d.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th ",d.jsx("span",{className:"font-semibold",children:(h.page-1)*h.pageSize+1})," n"," ",d.jsx("span",{className:"font-semibold",children:Math.min(h.page*h.pageSize,h.total)})," trong tng s"," ",d.jsx("span",{className:"font-semibold",children:h.total})," ngi dng"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>k(h.page-1,a),disabled:h.page<=1,className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Trc"}),d.jsx("div",{className:"flex items-center gap-1",children:(()=>{const te=Math.ceil(h.total/h.pageSize),he=5;let Y=Math.max(1,h.page-Math.floor(he/2)),B=Math.min(te,Y+he-1);return B-Y+1<he&&(Y=Math.max(1,B-he+1)),Array.from({length:B-Y+1},(K,ie)=>{const ue=Y+ie,de=ue===h.page;return d.jsx("button",{onClick:()=>k(ue,a),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${de?"bg-blue-600 text-white":"border border-slate-200 bg-white hover:bg-slate-50"}`,children:ue},ue)})})()}),d.jsx("button",{onClick:()=>k(h.page+1,a),disabled:h.page>=Math.ceil(h.total/h.pageSize),className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Sau"})]})]})]}),d.jsx(JJ,{user:m,isOpen:x,onClose:()=>b(!1),onRoleChange:U,onBanUser:te=>{p(t.find(he=>he.id===te)),N(!0)},onUnlockUser:ee,users:t,currentUserEmail:M()}),d.jsx(ZJ,{user:m,isOpen:S,onClose:()=>N(!1),onConfirm:te=>$(m==null?void 0:m.id,te)}),d.jsx(eZ,{isOpen:j,onClose:()=>w(!1),onAdd:pe})]})}const nZ="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net",iZ=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}},rZ=async(t,e={})=>{try{const n=await fetch(`${nZ}/api${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(n){throw console.error(`API call failed for ${t}:`,n),n}};function sZ(){const t=ga(),[e,n]=Q.useState(null),[i,r]=Q.useState(!0),[s,a]=Q.useState({totalFrames:0,publicFrames:0,totalUsers:0,reportsOpen:0,recentFrames:[]}),[o,l]=Q.useState([]),[c,h]=Q.useState(!1),[g,m]=Q.useState(0),[p,x]=Q.useState(!0),[b,S]=Q.useState("dashboard"),[N,j]=Q.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 768px)").matches:!0);Q.useEffect(()=>{(async()=>{const B=iZ();n(B);const K=(B==null?void 0:B.vaiTro)==="admin"||(B==null?void 0:B.role)==="admin"||(B==null?void 0:B.email)==="admin@example.com";if(!B||!K){t("/");return}try{const ie=await rZ("/admin/stats");a(ie)}catch(ie){console.error("Failed to load admin stats:",ie)}r(!1)})()},[t]),Q.useEffect(()=>{const Y=document.querySelector("footer");if(!Y)return;const B=Y.style.display;return Y.style.display="none",()=>{Y.style.display=B||""}},[]),Q.useEffect(()=>{var K,ie;const Y=window.matchMedia("(min-width: 768px)"),B=ue=>j(ue.matches);return(K=Y.addEventListener)==null||K.call(Y,"change",B),(ie=Y.addListener)==null||ie.call(Y,B),()=>{var ue,de;(ue=Y.removeEventListener)==null||ue.call(Y,"change",B),(de=Y.removeListener)==null||de.call(Y,B)}},[]),Q.useEffect(()=>{if(e){w();const Y=setInterval(w,3e4);return()=>clearInterval(Y)}},[e]);const w=async()=>{try{const Y=[{id:1,tieuDe:"Khung hnh mi c to",noiDung:'Ngi dng "John Doe"  to khung hnh "Summer Vibes"',loai:"new_frame",thoiGian:new Date(Date.now()-3e5).toISOString(),daDoc:!1},{id:2,tieuDe:"Bo co vi phm mi",noiDung:'Khung hnh "Sunset Frame" b bo co vi phm bn quyn',loai:"frame_reported",thoiGian:new Date(Date.now()-9e5).toISOString(),daDoc:!1},{id:3,tieuDe:"Ngi dng mi ng k",noiDung:"jane.smith@example.com  to ti khon mi",loai:"user_registered",thoiGian:new Date(Date.now()-18e5).toISOString(),daDoc:!0}];l(Y),m(Y.filter(B=>!B.daDoc).length)}catch(Y){console.error("Failed to load notifications:",Y)}},k=async Y=>{l(B=>B.map(K=>K.id===Y?{...K,daDoc:!0}:K)),m(B=>Math.max(0,B-1))},E=async()=>{l(Y=>Y.map(B=>({...B,daDoc:!0}))),m(0)},O=Y=>({admin:"Qun tr vin",moderator:"iu hnh vin",user:"Ngi dng",nguoi_dung:"Ngi dng",quan_tri:"Qun tr vin",dieu_hanh:"iu hnh vin"})[Y]||"Ngi dng",U=Y=>{const B=new Date(Y),ie=new Date-B,ue=Math.floor(ie/6e4),de=Math.floor(ie/36e5),X=Math.floor(ie/864e5);return ue<1?"Va xong":ue<60?`${ue} pht trc`:de<24?`${de} gi trc`:X<7?`${X} ngy trc`:B.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})},M=Y=>{switch(Y){case"new_frame":return d.jsx(ws,{size:16,className:"text-blue-600"});case"user_registered":return d.jsx(qa,{size:16,className:"text-green-600"});case"frame_reported":return d.jsx(l2,{size:16,className:"text-red-600"});default:return d.jsx(Zy,{size:16,className:"text-gray-600"})}},I=()=>{const Y=new Date().getHours(),B=O((e==null?void 0:e.vaiTro)||(e==null?void 0:e.role)),K=(e==null?void 0:e.name)||(e==null?void 0:e.ten)||(e==null?void 0:e.TenHienThi)||"Admin";let ie="";return Y<12?ie=" Cho bui sng":Y<17?ie=" Cho bui chiu":ie=" Cho bui ti",`${ie}, ${B} ${K}!`},F=64,P=12,R=288,$=80,G=F+P,ee=P,ce=F+P,pe=N?p?R:$:0,Z=ee+pe,te=[{id:"dashboard",name:"Tng quan",icon:IO},{id:"frames",name:"Khung hnh",icon:ws},{id:"users",name:"Ngi dng",icon:p3}];return i||!e?d.jsx("div",{className:"min-h-screen grid place-items-center bg-gradient-to-br from-slate-50 via-white to-slate-50",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"ang ti bng iu khin..."}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Vui lng ch trong giy lt"})]})}):(e==null?void 0:e.vaiTro)==="admin"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.email)==="admin@example.com"?d.jsxs("div",{className:"relative min-h-screen bg-[radial-gradient(60%_40%_at_10%_10%,#e0f2fe_0%,transparent_70%),radial-gradient(60%_40%_at_90%_10%,#dcfce7_0%,transparent_70%)]",children:[d.jsx("aside",{style:{top:G,bottom:P,left:ee,width:pe},className:"fixed z-40 hidden md:block transition-[width] duration-300",children:d.jsxs("div",{className:"h-full rounded-3xl overflow-hidden bg-white/65 backdrop-blur-md ring-1 ring-slate-200/70 shadow-[0_6px_24px_rgba(0,0,0,0.08)] flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-slate-200/60 bg-gradient-to-r from-blue-50 to-green-50",children:[d.jsx("div",{className:"size-10 grid place-items-center rounded-2xl bg-blue-600 text-white shadow-md",children:d.jsx(nO,{size:20})}),p&&d.jsxs("div",{children:[d.jsx("div",{className:"text-[12px] text-slate-500 leading-none",children:"Admin Panel"}),d.jsx("div",{className:"text-lg font-extrabold tracking-tight text-slate-900",children:"TrendyFrame"})]})]}),p&&d.jsxs("div",{className:"px-4 py-3 border-b border-slate-200/60",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[d.jsxs("div",{className:"bg-blue-50 rounded-lg p-2 text-center",children:[d.jsx("div",{className:"font-semibold text-blue-700",children:s.totalFrames}),d.jsx("div",{className:"text-blue-600",children:"Khung hnh"})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-2 text-center",children:[d.jsx("div",{className:"font-semibold text-green-700",children:s.totalUsers}),d.jsx("div",{className:"text-green-600",children:"Ngi dng"})]})]}),s.reportsOpen>0&&d.jsx("div",{className:"mt-2 bg-red-50 rounded-lg p-2 text-center",children:d.jsxs("div",{className:"text-xs font-semibold text-red-700",children:[s.reportsOpen," bo co ch x l"]})})]}),d.jsx("nav",{className:"flex-1 overflow-y-auto px-3 py-4",children:te.map(Y=>{const B=Y.icon,K=b===Y.id;return d.jsxs("button",{onClick:()=>S(Y.id),className:`w-full flex items-center gap-3 mb-1.5 rounded-2xl px-3 py-2.5 text-sm font-medium transition-all
                    ${K?"bg-blue-600 text-white shadow-sm ring-1 ring-blue-600/40":"text-slate-700 hover:bg-slate-100/80"}`,children:[d.jsx("span",{className:`grid place-items-center size-8 rounded-xl
                    ${K?"bg-white/20 text-white":"bg-slate-100 text-slate-500"}`,children:d.jsx(B,{size:18})}),p&&d.jsx("span",{className:"truncate",children:Y.name}),p&&K&&d.jsx(cO,{className:"ml-auto opacity-80",size:16})]},Y.id)})}),d.jsxs("div",{className:"border-t border-slate-200/70 bg-white/75 px-3 py-4",children:[d.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white ring-1 ring-slate-200 shadow-sm p-3",children:[d.jsx("img",{src:(e==null?void 0:e.picture)||(e==null?void 0:e.AnhDaiDienUrl)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||(e==null?void 0:e.TenHienThi)||"Admin")}&background=0D8ABC&color=fff&size=128&bold=true`,alt:"avatar",className:"size-10 rounded-full object-cover",referrerPolicy:"no-referrer"}),p&&d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:(e==null?void 0:e.name)||(e==null?void 0:e.TenHienThi)||"Admin"}),d.jsx("div",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"admin@example.com"})]})]}),d.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[d.jsx("button",{onClick:()=>x(Y=>!Y),className:"rounded-xl py-2 text-xs font-semibold text-slate-700 bg-slate-100 hover:bg-slate-200 transition",children:p?"Thu gn":"M rng"}),d.jsxs("button",{onClick:()=>{localStorage.removeItem("kh_me"),t("/")},className:"rounded-xl py-2 text-xs font-semibold text-white bg-slate-900 hover:bg-black",children:[d.jsx(d4,{size:14,className:"inline -mt-0.5 mr-1"}),p?"ng xut":""]})]})]})]})}),d.jsxs("div",{style:{paddingTop:ce,paddingRight:P,paddingLeft:P,marginLeft:Z,maxWidth:`calc(100vw - ${Z+P}px)`},className:"px-4 sm:px-6 overflow-x-clip",children:[d.jsx("div",{className:"sticky z-20",style:{top:G},children:d.jsx("div",{className:"rounded-2xl backdrop-blur bg-white/90 ring-1 ring-slate-200 shadow-sm",children:d.jsxs("div",{className:"px-4 sm:px-6 h-16 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[d.jsx("button",{className:"md:hidden rounded-xl bg-white ring-1 ring-slate-200 px-3 py-1.5 text-sm font-medium",onClick:()=>x(Y=>!Y),children:"Menu"}),d.jsxs("div",{className:"hidden md:block",children:[d.jsx("div",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),d.jsx("div",{className:"text-lg font-semibold text-gray-900",children:I()})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"hidden xl:flex items-center gap-2 text-xs",children:[s.reportsOpen>0&&d.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-red-50 text-red-700 rounded-lg",children:[d.jsx(Fd,{size:14}),d.jsx("span",{className:"font-medium",children:s.reportsOpen})]}),d.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded-lg",children:[d.jsx(hj,{size:14}),d.jsxs("span",{className:"font-medium",children:[s.publicFrames," active"]})]})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>h(!c),className:"relative rounded-xl ring-1 ring-slate-200 bg-white px-3 py-2 hover:bg-gray-50 transition-colors",children:[d.jsx(Zy,{size:18}),g>0&&d.jsx("span",{className:"absolute -top-1 -right-1 size-5 grid place-items-center rounded-full bg-rose-500 text-white text-[11px] font-medium",children:g>99?"99+":g})]}),c&&d.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-2xl shadow-xl ring-1 ring-slate-200 z-50",children:[d.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 flex items-center justify-between",children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:"Thng bo"}),d.jsxs("div",{className:"flex items-center gap-2",children:[g>0&&d.jsx("button",{onClick:E,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"nh du tt c"}),d.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(Rh,{size:18})})]})]}),d.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.length===0?d.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[d.jsx(Zy,{size:24,className:"mx-auto mb-2 opacity-50"}),d.jsx("p",{className:"text-sm",children:"Khng c thng bo mi"})]}):d.jsx("div",{className:"py-2",children:o.map(Y=>d.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer border-l-4 transition-colors ${Y.daDoc?"border-transparent":"border-blue-500 bg-blue-50/30"}`,onClick:()=>!Y.daDoc&&k(Y.id),children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"flex-shrink-0 mt-0.5",children:M(Y.loai)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("p",{className:`text-sm ${Y.daDoc?"text-gray-600":"text-gray-900 font-medium"}`,children:Y.tieuDe}),!Y.daDoc&&d.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-1"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Y.noiDung}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:"text-xs text-gray-400",children:U(Y.thoiGian)}),Y.loai==="new_frame"&&d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-100 text-blue-700 text-[10px] font-medium",children:[d.jsx(ws,{size:10}),"Khung mi"]})]})]})]})},Y.id))})}),o.length>0&&d.jsx("div",{className:"px-4 py-3 border-t border-slate-200 text-center",children:d.jsx("button",{onClick:()=>{S("reports"),h(!1)},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Xem tt c thng bo"})})]})]}),d.jsx("button",{className:"rounded-xl ring-1 ring-slate-200 bg-white px-3 py-2 hover:bg-gray-50 transition-colors",children:d.jsx(_O,{size:18})})]})]})})}),d.jsxs("main",{className:"py-8 w-full min-w-0",children:[b==="dashboard"&&d.jsx(WJ,{}),b==="frames"&&d.jsx(YJ,{}),b==="users"&&d.jsx(tZ,{})]})]}),c&&d.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)})]}):d.jsx("div",{className:"min-h-screen grid place-items-center bg-gradient-to-br from-red-50 via-white to-red-50",children:d.jsxs("div",{className:"text-center",children:[d.jsx(l2,{className:"mx-auto h-16 w-16 text-red-400 mb-4"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Khng c quyn truy cp"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Ch Qun tr vin mi c th truy cp trang ny."}),d.jsx("button",{onClick:()=>t("/"),className:"px-6 py-2 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:"V trang ch"})]})})}function Ix(t){if(t===0)return"0 B";const e=1024,n=["B","KB","MB","GB"],i=Math.floor(Math.log(t)/Math.log(e));return`${(t/Math.pow(e,i)).toFixed(2)} ${n[i]}`}async function aZ(t){try{return await createImageBitmap(t)}catch{return new Promise((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=n,i.src=URL.createObjectURL(t)})}}async function oZ(t,e=.8,n=!1){const i=await aZ(t),r=document.createElement("canvas");r.width=i.width,r.height=i.height,r.getContext("2d").drawImage(i,0,0);const a=t.type.toLowerCase();let o="image/webp";n?o=a||"image/webp":(a.includes("jpeg")||a.includes("jpg"))&&(o="image/jpeg");const l=r.toDataURL(o,e),c=await(await fetch(l)).blob(),h=t.name.replace(/\.[^.]+$/,"")+(o.includes("jpeg")?".jpg":o.includes("png")?".png":".webp");return new File([c],h,{type:o})}function lZ(){const t=Q.useRef(null),[e,n]=Q.useState([]),i=async s=>{const a=Array.from(s||[]);if(!a.length)return;const o=a.map(l=>({file:l,outFile:null,saving:!0,thumb:URL.createObjectURL(l)}));n(l=>[...l,...o]);for(const l of a)try{const c=await oZ(l,.85,!1);n(h=>h.map(g=>g.file===l?{...g,outFile:c,saving:!1}:g))}catch(c){console.error(c),n(h=>h.map(g=>g.file===l?{...g,outFile:null,saving:!1}:g))}},r=e.reduce((s,a)=>a.outFile?s+(a.file.size-a.outFile.size):s,0);return d.jsx("div",{className:"min-h-[calc(100vh-64px)] bg-white",children:d.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[d.jsx("h1",{className:"text-[42px] md:text-[48px] font-black text-[#0f172a] text-center mb-8",children:"Nn hnh nh"}),d.jsxs("div",{className:`rounded-3xl bg-white ring-1 ring-slate-200 p-8 md:p-10 mx-auto max-w-4xl\r
                     shadow-[0_20px_60px_-20px_rgba(0,0,0,.06)]\r
                     relative overflow-hidden`,onDrop:s=>{s.preventDefault(),i(s.dataTransfer.files)},onDragOver:s=>s.preventDefault(),children:[d.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 opacity-[0.35] pointer-events-none",style:{backgroundImage:"linear-gradient(0deg, rgba(0,0,0,.03) 1px, transparent 1px), linear-gradient(90deg, rgba(0,0,0,.03) 1px, transparent 1px)",backgroundSize:"22px 22px"}}),d.jsxs("div",{className:"relative grid place-items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{var s;return(s=t.current)==null?void 0:s.click()},className:`inline-flex items-center gap-2 px-5 py-3 rounded-xl\r
     bg-[#2563eb] text-white font-semibold hover:bg-[#1d4ed8]\r
     shadow-[0_8px_22px_rgba(37,99,235,.35)]`,children:"Chn hnh"}),d.jsx("div",{className:"text-sm text-slate-500",children:"H tr nh dng PNG / JPG / WebP"}),d.jsx("input",{ref:t,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:s=>i(s.target.files),onClick:s=>{s.target.value=""}})]})]}),d.jsx("div",{className:"max-w-4xl mx-auto mt-6 flex items-center justify-end",children:d.jsxs("div",{className:"text-emerald-600 font-extrabold text-xl",children:[r>0?`-${(r/(r+e.reduce((s,a)=>{var o;return s+(((o=a.outFile)==null?void 0:o.size)||0)},0))*100).toFixed(1)}%`:"-0%",d.jsxs("span",{className:"ml-2 text-sm font-semibold text-slate-500",children:["(",Ix(r),"  gim)"]})]})}),d.jsx("div",{className:"max-w-4xl mx-auto mt-4 space-y-3",children:e.map((s,a)=>{var g,m;const o=s.file.size,l=((g=s.outFile)==null?void 0:g.size)??o,c=Math.max(0,o-l),h=o?Math.round(c/o*100):0;return d.jsxs("div",{className:"flex items-center gap-4 rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 px-4 py-3",children:[d.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden ring-1 ring-slate-200 shrink-0 bg-slate-50",children:d.jsx("img",{src:s.thumb,alt:"",className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("div",{className:"font-semibold text-slate-800 truncate",children:((m=s.outFile)==null?void 0:m.name)||s.file.name}),d.jsxs("div",{className:"text-xs text-slate-500",children:[Ix(o)," ",d.jsx("span",{className:"mx-1",children:""})," ",Ix(l)]})]}),d.jsxs("span",{className:`shrink-0 inline-flex items-center px-2 py-1 rounded-md text-xs font-bold\r
                                 bg-emerald-50 text-emerald-700 ring-1 ring-emerald-100`,children:["-",h,"%"]}),s.saving?d.jsx("div",{className:"text-sm text-slate-500",children:"ang nn"}):s.outFile?d.jsxs("a",{href:URL.createObjectURL(s.outFile),download:s.outFile.name,className:`shrink-0 inline-flex items-center gap-2 px-4 py-2 rounded-xl\r
             bg-[#2563eb] text-white text-sm font-semibold hover:bg-[#1d4ed8]\r
             shadow-[0_8px_22px_rgba(37,99,235,.35)]`,children:[d.jsx(Kl,{size:16})," Ti v"]}):d.jsx("div",{className:"text-rose-600 text-sm",children:"Li"})]},a)})})]})})}function cZ(){const t=Q.useRef(null),[e,n]=Q.useState("trong"),[i,r]=Q.useState(null),[s,a]=Q.useState(""),[o,l]=Q.useState({w:0,h:0}),[c,h]=Q.useState(!0),[g,m]=Q.useState(!1),[p,x]=Q.useState({w:0,h:0}),[b,S]=Q.useState(""),[N,j]=Q.useState({w:0,h:0}),w=()=>{var P;return(P=t.current)==null?void 0:P.click()},k=P=>{var ee;const R=(ee=P.target.files)==null?void 0:ee[0];if(!R)return;s&&URL.revokeObjectURL(s),b&&URL.revokeObjectURL(b),r(R);const $=URL.createObjectURL(R);a($);const G=new Image;G.onload=()=>{const ce=G.naturalWidth,pe=G.naturalHeight;l({w:ce,h:pe}),x({w:ce,h:pe}),n("chinh-sua")},G.src=$};Q.useEffect(()=>()=>{s&&URL.revokeObjectURL(s),b&&URL.revokeObjectURL(b)},[]);const E=P=>{if(P=Math.max(1,Math.round(+P||0)),c&&o.w){const R=o.h/o.w;x({w:P,h:Math.max(1,Math.round(P*R))})}else x(R=>({...R,w:P}))},O=P=>{if(P=Math.max(1,Math.round(+P||0)),c&&o.h){const R=o.w/o.h;x({h:P,w:Math.max(1,Math.round(P*R))})}else x(R=>({...R,h:P}))},U=async(P,R)=>{if(!i)return;const $=await K7(i);let G=P,ee=R;if(c){const B=o.w/o.h,K=P/R;Math.abs(B-K)>.06&&(B>K?(G=Math.round(R*B),ee=R):(G=P,ee=Math.round(P/B)))}g||(G=Math.min(G,o.w),ee=Math.min(ee,o.h));const{blob:ce}=await X7($,G,ee),pe=URL.createObjectURL(ce),Z=i.name.replace(/\.[^.]+$/,""),te=(i.name.split(".").pop()||"png").toLowerCase(),he=`${Z}-${G}x${ee}.${te}`,Y=document.createElement("a");Y.href=pe,Y.download=he,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(pe)},M=async()=>{if(!i||!p.w||!p.h)return;const P=await K7(i);let R=p.w,$=p.h;g||(R=Math.min(R,o.w),$=Math.min($,o.h));const{blob:G,w:ee,h:ce}=await X7(P,R,$),pe=URL.createObjectURL(G);S(pe),j({w:ee,h:ce}),n("ket-qua")},I=()=>{s&&URL.revokeObjectURL(s),b&&URL.revokeObjectURL(b),r(null),a(""),S(""),n("trong")},F=Q.useMemo(()=>{if(!i)return"";const P=i.name.replace(/\.[^.]+$/,""),R=(i.name.split(".").pop()||"png").toLowerCase();return`${P}-${p.w}x${p.h}.${R}`},[i,p]);return d.jsx("div",{className:"relative min-h-[80vh] bg-white",children:d.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-6 py-10",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 text-center mb-6",children:"Thay i kch thc nh"}),e==="trong"&&d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Ti nh JPEG, PNG v thay i kch thc d dng vi cng c trc tuyn min ph."}),d.jsxs("button",{onClick:w,className:"mt-6 inline-flex items-center gap-2 rounded-xl px-6 py-3 bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 transition",children:[d.jsx(Mh,{size:18})," Chn nh ca bn"]}),d.jsx("input",{ref:t,onChange:k,type:"file",accept:"image/*",hidden:!0})]}),e==="chinh-sua"&&d.jsxs("div",{className:"grid md:grid-cols-[1fr_360px] gap-8",children:[d.jsx("div",{className:"mx-auto",children:d.jsxs("div",{className:"card bg-white rounded-2xl border shadow p-4 w-[320px] h-[380px] grid place-items-center",children:[s&&d.jsx("img",{src:s,alt:"xem trc",className:"max-w-full max-h-56 object-contain"}),d.jsxs("div",{className:"w-full text-sm mt-3",children:[d.jsx("div",{className:"font-semibold truncate",children:i==null?void 0:i.name}),d.jsxs("div",{className:"text-blue-700",children:[o.w,"x",o.h,"  ",p.w,"x",p.h]})]}),d.jsx("button",{onClick:I,className:"mt-2 text-red-500 hover:underline text-sm",children:"Xa nh"})]})}),d.jsxs("aside",{className:"card bg-white rounded-2xl border shadow p-5",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"font-semibold text-lg",children:"Ty chn"}),d.jsx("button",{onClick:w,className:"rounded-lg px-4 py-2 bg-blue-600 text-white font-semibold hover:bg-blue-700",children:"Chn nh khc"}),d.jsx("input",{ref:t,onChange:k,type:"file",accept:"image/*",hidden:!0})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Ty chn nhanh - Ti ngay"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("button",{onClick:()=>U(1080,1080),className:"px-3 py-2 rounded-lg border text-sm hover:bg-blue-50 hover:border-blue-500 transition flex items-center justify-center gap-2",children:[d.jsx(Kl,{size:14}),"1080x1080"]}),d.jsxs("button",{onClick:()=>U(2048,2048),className:"px-3 py-2 rounded-lg border text-sm hover:bg-blue-50 hover:border-blue-500 transition flex items-center justify-center gap-2",children:[d.jsx(Kl,{size:14}),"2048x2048"]}),d.jsxs("button",{onClick:()=>U(1920,1080),className:"px-3 py-2 rounded-lg border text-sm hover:bg-blue-50 hover:border-blue-500 transition flex items-center justify-center gap-2",children:[d.jsx(Kl,{size:14}),"1920x1080"]}),d.jsxs("button",{onClick:()=>U(1080,1920),className:"px-3 py-2 rounded-lg border text-sm hover:bg-blue-50 hover:border-blue-500 transition flex items-center justify-center gap-2",children:[d.jsx(Kl,{size:14}),"1080x1920"]})]})]}),d.jsxs("div",{className:"mt-5 space-y-4",children:[d.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Hoc ty chnh kch thc theo  bn"}),d.jsxs("div",{className:"grid grid-cols-[110px_1fr] gap-2 items-center",children:[d.jsx("span",{children:"Chiu rng"}),d.jsx("input",{type:"number",min:"1",value:p.w||"",onChange:P=>E(P.target.value),className:"w-full border rounded-lg px-3 py-2"}),d.jsx("span",{children:"Chiu cao"}),d.jsx("input",{type:"number",min:"1",value:p.h||"",onChange:P=>O(P.target.value),className:"w-full border rounded-lg px-3 py-2"})]}),(p.w>o.w||p.h>o.h)&&!g&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800",children:' Kch thc bn chn ln hn nh gc. Hy bt ty chn "Cho php phng to" bn di.'}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",id:"giuTyLe",checked:c,onChange:()=>h(P=>!P)}),d.jsx("label",{htmlFor:"giuTyLe",className:"cursor-pointer",children:"Gi nguyn t l nh (khuyn ngh)"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",id:"choPhepPhongTo",checked:g,onChange:()=>m(P=>!P)}),d.jsxs("label",{htmlFor:"choPhepPhongTo",className:"cursor-pointer",children:["Cho php phng to nh",d.jsx("span",{className:"text-xs text-gray-500 block",children:"(Lu : Phng to c th lm nh b m/v)"})]})]}),d.jsx("button",{onClick:M,className:"w-full mt-4 inline-flex justify-center items-center gap-2 rounded-xl px-6 py-3 bg-blue-600 text-white font-semibold hover:bg-blue-700",children:"Xem kt qu"})]})]})]}),e==="ket-qua"&&d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"card bg-white rounded-2xl border shadow p-4 w-[320px] h-[380px] mx-auto grid place-items-center",children:[b?d.jsx("img",{src:b,alt:"kt qu",className:"max-w-full max-h-56 object-contain"}):d.jsxs("div",{className:"text-gray-400 grid place-items-center gap-2",children:[d.jsx(ws,{})," ang x l"]}),d.jsxs("div",{className:"text-blue-700 mt-3",children:["Kch thc mi: ",N.w,"x",N.h]}),d.jsxs("a",{href:b,download:F||"anh-da-resize.png",className:"mt-3 inline-flex items-center gap-2 rounded-xl px-5 py-2.5 bg-blue-600 text-white font-semibold hover:bg-blue-700",children:[d.jsx(Kl,{size:18})," Ti nh v my"]})]}),d.jsxs("button",{onClick:()=>n("chinh-sua"),className:"mt-6 inline-flex items-center gap-2 px-4 py-2 rounded-lg border hover:bg-gray-50",children:[d.jsx(oO,{size:18})," Quay li chnh sa"]})]})]})})}function K7(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=n,i.src=URL.createObjectURL(t)})}function X7(t,e,n,i="image/png",r=.92){return new Promise(s=>{const a=document.createElement("canvas");a.width=Math.max(1,Math.round(e)),a.height=Math.max(1,Math.round(n));const o=a.getContext("2d");o.imageSmoothingQuality="high",o.drawImage(t,0,0,a.width,a.height),a.toBlob(l=>{s({blob:l,w:a.width,h:a.height})},i,r)})}const uZ="modulepreload",hZ=function(t){return"/"+t},Y7={},Bx=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=hZ(l),l in Y7)return;Y7[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":uZ,c||(g.as="script"),g.crossOrigin="",g.href=l,o&&g.setAttribute("nonce",o),document.head.appendChild(g),c)return new Promise((m,p)=>{g.addEventListener("load",m),g.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Pn(t){"@babel/helpers - typeof";return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(t)}var Eo=Uint8Array,la=Uint16Array,kw=Int32Array,Cw=new Eo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),jw=new Eo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Q7=new Eo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ML=function(t,e){for(var n=new la(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new kw(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return{b:n,r}},RL=ML(Cw,2),dZ=RL.b,eb=RL.r;dZ[28]=258,eb[258]=28;var fZ=ML(jw,0),J7=fZ.r,tb=new la(32768);for(var Jn=0;Jn<32768;++Jn){var Dc=(Jn&43690)>>1|(Jn&21845)<<1;Dc=(Dc&52428)>>2|(Dc&13107)<<2,Dc=(Dc&61680)>>4|(Dc&3855)<<4,tb[Jn]=((Dc&65280)>>8|(Dc&255)<<8)>>1}var Cp=function(t,e,n){for(var i=t.length,r=0,s=new la(e);r<i;++r)t[r]&&++s[t[r]-1];var a=new la(e);for(r=1;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;var o;if(n){o=new la(1<<e);var l=15-e;for(r=0;r<i;++r)if(t[r])for(var c=r<<4|t[r],h=e-t[r],g=a[t[r]-1]++<<h,m=g|(1<<h)-1;g<=m;++g)o[tb[g]>>l]=c}else for(o=new la(i),r=0;r<i;++r)t[r]&&(o[r]=tb[a[t[r]-1]++]>>15-t[r]);return o},Dh=new Eo(288);for(var Jn=0;Jn<144;++Jn)Dh[Jn]=8;for(var Jn=144;Jn<256;++Jn)Dh[Jn]=9;for(var Jn=256;Jn<280;++Jn)Dh[Jn]=7;for(var Jn=280;Jn<288;++Jn)Dh[Jn]=8;var E2=new Eo(32);for(var Jn=0;Jn<32;++Jn)E2[Jn]=5;var pZ=Cp(Dh,9,0),gZ=Cp(E2,5,0),FL=function(t){return(t+7)/8|0},mZ=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Eo(t.subarray(e,n))},Bl=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8},$0=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8,t[i+2]|=n>>16},zx=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var r=n.length,s=n.slice();if(!r)return{t:OL,l:0};if(r==1){var a=new Eo(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(E,O){return E.f-O.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,h=1,g=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=r-1;)o=n[n[c].f<n[g].f?c++:g++],l=n[c!=h&&n[c].f<n[g].f?c++:g++],n[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=s[0].s,i=1;i<r;++i)s[i].s>m&&(m=s[i].s);var p=new la(m+1),x=nb(n[h-1],p,0);if(x>e){var i=0,b=0,S=x-e,N=1<<S;for(s.sort(function(O,U){return p[U.s]-p[O.s]||O.f-U.f});i<r;++i){var j=s[i].s;if(p[j]>e)b+=N-(1<<x-p[j]),p[j]=e;else break}for(b>>=S;b>0;){var w=s[i].s;p[w]<e?b-=1<<e-p[w]++-1:++i}for(;i>=0&&b;--i){var k=s[i].s;p[k]==e&&(--p[k],++b)}x=e}return{t:new Eo(p),l:x}},nb=function(t,e,n){return t.s==-1?Math.max(nb(t.l,e,n+1),nb(t.r,e,n+1)):e[t.s]=n},Z7=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new la(++e),i=0,r=t[0],s=1,a=function(l){n[i++]=l},o=1;o<=e;++o)if(t[o]==r&&o!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=t[o]}return{c:n.subarray(0,i),n:e}},G0=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},DL=function(t,e,n){var i=n.length,r=FL(e+2);t[r]=i&255,t[r+1]=i>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var s=0;s<i;++s)t[r+s+4]=n[s];return(r+4+i)*8},eN=function(t,e,n,i,r,s,a,o,l,c,h){Bl(e,h++,n),++r[256];for(var g=zx(r,15),m=g.t,p=g.l,x=zx(s,15),b=x.t,S=x.l,N=Z7(m),j=N.c,w=N.n,k=Z7(b),E=k.c,O=k.n,U=new la(19),M=0;M<j.length;++M)++U[j[M]&31];for(var M=0;M<E.length;++M)++U[E[M]&31];for(var I=zx(U,7),F=I.t,P=I.l,R=19;R>4&&!F[Q7[R-1]];--R);var $=c+5<<3,G=G0(r,Dh)+G0(s,E2)+a,ee=G0(r,m)+G0(s,b)+a+14+3*R+G0(U,F)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&$<=G&&$<=ee)return DL(e,h,t.subarray(l,l+c));var ce,pe,Z,te;if(Bl(e,h,1+(ee<G)),h+=2,ee<G){ce=Cp(m,p,0),pe=m,Z=Cp(b,S,0),te=b;var he=Cp(F,P,0);Bl(e,h,w-257),Bl(e,h+5,O-1),Bl(e,h+10,R-4),h+=14;for(var M=0;M<R;++M)Bl(e,h+3*M,F[Q7[M]]);h+=3*R;for(var Y=[j,E],B=0;B<2;++B)for(var K=Y[B],M=0;M<K.length;++M){var ie=K[M]&31;Bl(e,h,he[ie]),h+=F[ie],ie>15&&(Bl(e,h,K[M]>>5&127),h+=K[M]>>12)}}else ce=pZ,pe=Dh,Z=gZ,te=E2;for(var M=0;M<o;++M){var ue=i[M];if(ue>255){var ie=ue>>18&31;$0(e,h,ce[ie+257]),h+=pe[ie+257],ie>7&&(Bl(e,h,ue>>23&31),h+=Cw[ie]);var de=ue&31;$0(e,h,Z[de]),h+=te[de],de>3&&($0(e,h,ue>>5&8191),h+=jw[de])}else $0(e,h,ce[ue]),h+=pe[ue]}return $0(e,h,ce[256]),h+pe[256]},yZ=new kw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),OL=new Eo(0),xZ=function(t,e,n,i,r,s){var a=s.z||t.length,o=new Eo(i+a+5*(1+Math.ceil(a/7e3))+r),l=o.subarray(i,o.length-r),c=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var g=yZ[e-1],m=g>>13,p=g&8191,x=(1<<n)-1,b=s.p||new la(32768),S=s.h||new la(x+1),N=Math.ceil(n/3),j=2*N,w=function(je){return(t[je]^t[je+1]<<N^t[je+2]<<j)&x},k=new kw(25e3),E=new la(288),O=new la(32),U=0,M=0,I=s.i||0,F=0,P=s.w||0,R=0;I+2<a;++I){var $=w(I),G=I&32767,ee=S[$];if(b[G]=ee,S[$]=G,P<=I){var ce=a-I;if((U>7e3||F>24576)&&(ce>423||!c)){h=eN(t,l,0,k,E,O,M,F,R,I-R,h),F=U=M=0,R=I;for(var pe=0;pe<286;++pe)E[pe]=0;for(var pe=0;pe<30;++pe)O[pe]=0}var Z=2,te=0,he=p,Y=G-ee&32767;if(ce>2&&$==w(I-Y))for(var B=Math.min(m,ce)-1,K=Math.min(32767,I),ie=Math.min(258,ce);Y<=K&&--he&&G!=ee;){if(t[I+Z]==t[I+Z-Y]){for(var ue=0;ue<ie&&t[I+ue]==t[I+ue-Y];++ue);if(ue>Z){if(Z=ue,te=Y,ue>B)break;for(var de=Math.min(Y,ue-2),X=0,pe=0;pe<de;++pe){var fe=I-Y+pe&32767,me=b[fe],Ce=fe-me&32767;Ce>X&&(X=Ce,ee=fe)}}}G=ee,ee=b[G],Y+=G-ee&32767}if(te){k[F++]=268435456|eb[Z]<<18|J7[te];var Te=eb[Z]&31,Ue=J7[te]&31;M+=Cw[Te]+jw[Ue],++E[257+Te],++O[Ue],P=I+Z,++U}else k[F++]=t[I],++E[t[I]]}}for(I=Math.max(I,P);I<a;++I)k[F++]=t[I],++E[t[I]];h=eN(t,l,c,k,E,O,M,F,R,I-R,h),c||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=S,s.p=b,s.i=I,s.w=P)}else{for(var I=s.w||0;I<a+c;I+=65535){var ze=I+65535;ze>=a&&(l[h/8|0]=c,ze=a),h=DL(l,h+1,t.subarray(I,ze))}s.i=a}return mZ(o,0,i+FL(h)+r)},IL=function(){var t=1,e=0;return{p:function(n){for(var i=t,r=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)r+=i+=n[a];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}t=i,e=r},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},vZ=function(t,e,n,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Eo(s.length+t.length);a.set(s),a.set(t,s.length),t=a,r.w=s.length}return xZ(t,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,i,r)},BL=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},bZ=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=IL();r.p(e.dictionary),BL(t,2,r.d())}};function ib(t,e){e||(e={});var n=IL();n.p(t);var i=vZ(t,e,e.dictionary?6:2,4);return bZ(i,e),BL(i,i.length-4,n.d()),i}var wZ=typeof TextDecoder<"u"&&new TextDecoder,_Z=0;try{wZ.decode(OL,{stream:!0}),_Z=1}catch{}function SZ(t){if(Array.isArray(t))return t}function NZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(h){c=!0,r=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return o}}function tN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function kZ(t,e){if(t){if(typeof t=="string")return tN(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tN(t,e):void 0}}function CZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nN(t,e){return SZ(t)||NZ(t,e)||kZ(t,e)||CZ()}function iN(t,e="utf8"){return new TextDecoder(e).decode(t)}const jZ=new TextEncoder;function AZ(t){return jZ.encode(t)}const PZ=1024*8,LZ=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Ux={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Aw{constructor(e=PZ,n={}){et(this,"buffer");et(this,"byteLength");et(this,"byteOffset");et(this,"length");et(this,"offset");et(this,"lastWrittenByte");et(this,"littleEndian");et(this,"_data");et(this,"_mark");et(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const r=n.offset?n.offset>>>0:0,s=e.byteLength-r;let a=r;(ArrayBuffer.isView(e)||e instanceof Aw)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+r),e=e.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const i=Ux[n].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+i);if(this.littleEndian===LZ&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(r,r+i));o.reverse();const l=new Ux[n](o.buffer);return this.offset+=i,l.reverse(),l}const a=new Ux[n](s);return this.offset+=i,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let i=0;i<e;i++)n+=this.readChar();return n}readUtf8(e=1){return iN(this.readBytes(e))}decodeText(e=1,n="utf8"){return iN(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(AZ(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Jf(t){let e=t.length;for(;--e>=0;)t[e]=0}const TZ=3,EZ=258,zL=29,MZ=256,RZ=MZ+1+zL,UL=30,FZ=512,DZ=new Array((RZ+2)*2);Jf(DZ);const OZ=new Array(UL*2);Jf(OZ);const IZ=new Array(FZ);Jf(IZ);const BZ=new Array(EZ-TZ+1);Jf(BZ);const zZ=new Array(zL);Jf(zZ);const UZ=new Array(UL);Jf(UZ);const VZ=(t,e,n,i)=>{let r=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do r=r+e[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};var rb=VZ;const HZ=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},$Z=new Uint32Array(HZ()),GZ=(t,e,n,i)=>{const r=$Z,s=i+n;t^=-1;for(let a=i;a<s;a++)t=t>>>8^r[(t^e[a])&255];return t^-1};var el=GZ,sb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},VL={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const qZ=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var WZ=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)qZ(n,i)&&(t[i]=n[i])}}return t},KZ=t=>{let e=0;for(let i=0,r=t.length;i<r;i++)e+=t[i].length;const n=new Uint8Array(e);for(let i=0,r=0,s=t.length;i<s;i++){let a=t[i];n.set(a,r),r+=a.length}return n},HL={assign:WZ,flattenChunks:KZ};let $L=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$L=!1}const cg=new Uint8Array(256);for(let t=0;t<256;t++)cg[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;cg[254]=cg[254]=1;var XZ=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,i,r,s,a=t.length,o=0;for(r=0;r<a;r++)n=t.charCodeAt(r),(n&64512)===55296&&r+1<a&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,r=0;s<o;r++)n=t.charCodeAt(r),(n&64512)===55296&&r+1<a&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const YZ=(t,e)=>{if(e<65534&&t.subarray&&$L)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n};var QZ=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,r;const s=new Array(n*2);for(r=0,i=0;i<n;){let a=t[i++];if(a<128){s[r++]=a;continue}let o=cg[a];if(o>4){s[r++]=65533,i+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&i<n;)a=a<<6|t[i++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return YZ(s,r)},JZ=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+cg[t[n]]>e?n:e},ab={string2buf:XZ,buf2string:QZ,utf8border:JZ};function ZZ(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var eee=ZZ;const $m=16209,tee=16191;var nee=function(e,n){let i,r,s,a,o,l,c,h,g,m,p,x,b,S,N,j,w,k,E,O,U,M,I,F;const P=e.state;i=e.next_in,I=e.input,r=i+(e.avail_in-5),s=e.next_out,F=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),l=P.dmax,c=P.wsize,h=P.whave,g=P.wnext,m=P.window,p=P.hold,x=P.bits,b=P.lencode,S=P.distcode,N=(1<<P.lenbits)-1,j=(1<<P.distbits)-1;e:do{x<15&&(p+=I[i++]<<x,x+=8,p+=I[i++]<<x,x+=8),w=b[p&N];t:for(;;){if(k=w>>>24,p>>>=k,x-=k,k=w>>>16&255,k===0)F[s++]=w&65535;else if(k&16){E=w&65535,k&=15,k&&(x<k&&(p+=I[i++]<<x,x+=8),E+=p&(1<<k)-1,p>>>=k,x-=k),x<15&&(p+=I[i++]<<x,x+=8,p+=I[i++]<<x,x+=8),w=S[p&j];n:for(;;){if(k=w>>>24,p>>>=k,x-=k,k=w>>>16&255,k&16){if(O=w&65535,k&=15,x<k&&(p+=I[i++]<<x,x+=8,x<k&&(p+=I[i++]<<x,x+=8)),O+=p&(1<<k)-1,O>l){e.msg="invalid distance too far back",P.mode=$m;break e}if(p>>>=k,x-=k,k=s-a,O>k){if(k=O-k,k>h&&P.sane){e.msg="invalid distance too far back",P.mode=$m;break e}if(U=0,M=m,g===0){if(U+=c-k,k<E){E-=k;do F[s++]=m[U++];while(--k);U=s-O,M=F}}else if(g<k){if(U+=c+g-k,k-=g,k<E){E-=k;do F[s++]=m[U++];while(--k);if(U=0,g<E){k=g,E-=k;do F[s++]=m[U++];while(--k);U=s-O,M=F}}}else if(U+=g-k,k<E){E-=k;do F[s++]=m[U++];while(--k);U=s-O,M=F}for(;E>2;)F[s++]=M[U++],F[s++]=M[U++],F[s++]=M[U++],E-=3;E&&(F[s++]=M[U++],E>1&&(F[s++]=M[U++]))}else{U=s-O;do F[s++]=F[U++],F[s++]=F[U++],F[s++]=F[U++],E-=3;while(E>2);E&&(F[s++]=F[U++],E>1&&(F[s++]=F[U++]))}}else if(k&64){e.msg="invalid distance code",P.mode=$m;break e}else{w=S[(w&65535)+(p&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){P.mode=tee;break e}else{e.msg="invalid literal/length code",P.mode=$m;break e}else{w=b[(w&65535)+(p&(1<<k)-1)];continue t}break}}while(i<r&&s<o);E=x>>3,i-=E,x-=E<<3,p&=(1<<x)-1,e.next_in=i,e.next_out=s,e.avail_in=i<r?5+(r-i):5-(i-r),e.avail_out=s<o?257+(o-s):257-(s-o),P.hold=p,P.bits=x};const Ed=15,rN=852,sN=592,aN=0,Vx=1,oN=2,iee=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ree=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),see=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),aee=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),oee=(t,e,n,i,r,s,a,o)=>{const l=o.bits;let c=0,h=0,g=0,m=0,p=0,x=0,b=0,S=0,N=0,j=0,w,k,E,O,U,M=null,I;const F=new Uint16Array(Ed+1),P=new Uint16Array(Ed+1);let R=null,$,G,ee;for(c=0;c<=Ed;c++)F[c]=0;for(h=0;h<i;h++)F[e[n+h]]++;for(p=l,m=Ed;m>=1&&F[m]===0;m--);if(p>m&&(p=m),m===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(g=1;g<m&&F[g]===0;g++);for(p<g&&(p=g),S=1,c=1;c<=Ed;c++)if(S<<=1,S-=F[c],S<0)return-1;if(S>0&&(t===aN||m!==1))return-1;for(P[1]=0,c=1;c<Ed;c++)P[c+1]=P[c]+F[c];for(h=0;h<i;h++)e[n+h]!==0&&(a[P[e[n+h]]++]=h);if(t===aN?(M=R=a,I=20):t===Vx?(M=iee,R=ree,I=257):(M=see,R=aee,I=0),j=0,h=0,c=g,U=s,x=p,b=0,E=-1,N=1<<p,O=N-1,t===Vx&&N>rN||t===oN&&N>sN)return 1;for(;;){$=c-b,a[h]+1<I?(G=0,ee=a[h]):a[h]>=I?(G=R[a[h]-I],ee=M[a[h]-I]):(G=96,ee=0),w=1<<c-b,k=1<<x,g=k;do k-=w,r[U+(j>>b)+k]=$<<24|G<<16|ee|0;while(k!==0);for(w=1<<c-1;j&w;)w>>=1;if(w!==0?(j&=w-1,j+=w):j=0,h++,--F[c]===0){if(c===m)break;c=e[n+a[h]]}if(c>p&&(j&O)!==E){for(b===0&&(b=p),U+=g,x=c-b,S=1<<x;x+b<m&&(S-=F[x+b],!(S<=0));)x++,S<<=1;if(N+=1<<x,t===Vx&&N>rN||t===oN&&N>sN)return 1;E=j&O,r[E]=p<<24|x<<16|U-s|0}}return j!==0&&(r[U+j]=c-b<<24|64<<16|0),o.bits=p,0};var jp=oee;const lee=0,GL=1,qL=2,{Z_FINISH:lN,Z_BLOCK:cee,Z_TREES:Gm,Z_OK:Oh,Z_STREAM_END:uee,Z_NEED_DICT:hee,Z_STREAM_ERROR:Za,Z_DATA_ERROR:WL,Z_MEM_ERROR:KL,Z_BUF_ERROR:dee,Z_DEFLATED:cN}=VL,dy=16180,uN=16181,hN=16182,dN=16183,fN=16184,pN=16185,gN=16186,mN=16187,yN=16188,xN=16189,M2=16190,zl=16191,Hx=16192,vN=16193,$x=16194,bN=16195,wN=16196,_N=16197,SN=16198,qm=16199,Wm=16200,NN=16201,kN=16202,CN=16203,jN=16204,AN=16205,Gx=16206,PN=16207,LN=16208,si=16209,XL=16210,YL=16211,fee=852,pee=592,gee=15,mee=gee,TN=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function yee(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Jh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<dy||e.mode>YL?1:0},QL=t=>{if(Jh(t))return Za;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=dy,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(fee),e.distcode=e.distdyn=new Int32Array(pee),e.sane=1,e.back=-1,Oh},JL=t=>{if(Jh(t))return Za;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,QL(t)},ZL=(t,e)=>{let n;if(Jh(t))return Za;const i=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Za:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,JL(t))},eT=(t,e)=>{if(!t)return Za;const n=new yee;t.state=n,n.strm=t,n.window=null,n.mode=dy;const i=ZL(t,e);return i!==Oh&&(t.state=null),i},xee=t=>eT(t,mee);let EN=!0,qx,Wx;const vee=t=>{if(EN){qx=new Int32Array(512),Wx=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(jp(GL,t.lens,0,288,qx,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;jp(qL,t.lens,0,32,Wx,0,t.work,{bits:5}),EN=!1}t.lencode=qx,t.lenbits=9,t.distcode=Wx,t.distbits=5},tT=(t,e,n,i)=>{let r;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(e.subarray(n-i,n-i+r),s.wnext),i-=r,i?(s.window.set(e.subarray(n-i,n),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},bee=(t,e)=>{let n,i,r,s,a,o,l,c,h,g,m,p,x,b,S=0,N,j,w,k,E,O,U,M;const I=new Uint8Array(4);let F,P;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Jh(t)||!t.output||!t.input&&t.avail_in!==0)return Za;n=t.state,n.mode===zl&&(n.mode=Hx),a=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,c=n.hold,h=n.bits,g=o,m=l,M=Oh;e:for(;;)switch(n.mode){case dy:if(n.wrap===0){n.mode=Hx;break}for(;h<16;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,I[0]=c&255,I[1]=c>>>8&255,n.check=el(n.check,I,2,0),c=0,h=0,n.mode=uN;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=si;break}if((c&15)!==cN){t.msg="unknown compression method",n.mode=si;break}if(c>>>=4,h-=4,U=(c&15)+8,n.wbits===0&&(n.wbits=U),U>15||U>n.wbits){t.msg="invalid window size",n.mode=si;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?xN:zl,c=0,h=0;break;case uN:for(;h<16;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}if(n.flags=c,(n.flags&255)!==cN){t.msg="unknown compression method",n.mode=si;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=si;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,n.check=el(n.check,I,2,0)),c=0,h=0,n.mode=hN;case hN:for(;h<32;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,n.check=el(n.check,I,4,0)),c=0,h=0,n.mode=dN;case dN:for(;h<16;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,n.check=el(n.check,I,2,0)),c=0,h=0,n.mode=fN;case fN:if(n.flags&1024){for(;h<16;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(I[0]=c&255,I[1]=c>>>8&255,n.check=el(n.check,I,2,0)),c=0,h=0}else n.head&&(n.head.extra=null);n.mode=pN;case pN:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(U=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(s,s+p),U)),n.flags&512&&n.wrap&4&&(n.check=el(n.check,i,p,s)),o-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=gN;case gN:if(n.flags&2048){if(o===0)break e;p=0;do U=i[s+p++],n.head&&U&&n.length<65536&&(n.head.name+=String.fromCharCode(U));while(U&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=el(n.check,i,p,s)),o-=p,s+=p,U)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=mN;case mN:if(n.flags&4096){if(o===0)break e;p=0;do U=i[s+p++],n.head&&U&&n.length<65536&&(n.head.comment+=String.fromCharCode(U));while(U&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=el(n.check,i,p,s)),o-=p,s+=p,U)break e}else n.head&&(n.head.comment=null);n.mode=yN;case yN:if(n.flags&512){for(;h<16;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=si;break}c=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=zl;break;case xN:for(;h<32;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}t.adler=n.check=TN(c),c=0,h=0,n.mode=M2;case M2:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=h,hee;t.adler=n.check=1,n.mode=zl;case zl:if(e===cee||e===Gm)break e;case Hx:if(n.last){c>>>=h&7,h-=h&7,n.mode=Gx;break}for(;h<3;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}switch(n.last=c&1,c>>>=1,h-=1,c&3){case 0:n.mode=vN;break;case 1:if(vee(n),n.mode=qm,e===Gm){c>>>=2,h-=2;break e}break;case 2:n.mode=wN;break;case 3:t.msg="invalid block type",n.mode=si}c>>>=2,h-=2;break;case vN:for(c>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=si;break}if(n.length=c&65535,c=0,h=0,n.mode=$x,e===Gm)break e;case $x:n.mode=bN;case bN:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;r.set(i.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,n.length-=p;break}n.mode=zl;break;case wN:for(;h<14;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}if(n.nlen=(c&31)+257,c>>>=5,h-=5,n.ndist=(c&31)+1,c>>>=5,h-=5,n.ncode=(c&15)+4,c>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=si;break}n.have=0,n.mode=_N;case _N:for(;n.have<n.ncode;){for(;h<3;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}n.lens[R[n.have++]]=c&7,c>>>=3,h-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},M=jp(lee,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,M){t.msg="invalid code lengths set",n.mode=si;break}n.have=0,n.mode=SN;case SN:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[c&(1<<n.lenbits)-1],N=S>>>24,j=S>>>16&255,w=S&65535,!(N<=h);){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}if(w<16)c>>>=N,h-=N,n.lens[n.have++]=w;else{if(w===16){for(P=N+2;h<P;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}if(c>>>=N,h-=N,n.have===0){t.msg="invalid bit length repeat",n.mode=si;break}U=n.lens[n.have-1],p=3+(c&3),c>>>=2,h-=2}else if(w===17){for(P=N+3;h<P;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}c>>>=N,h-=N,U=0,p=3+(c&7),c>>>=3,h-=3}else{for(P=N+7;h<P;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}c>>>=N,h-=N,U=0,p=11+(c&127),c>>>=7,h-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=si;break}for(;p--;)n.lens[n.have++]=U}}if(n.mode===si)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=si;break}if(n.lenbits=9,F={bits:n.lenbits},M=jp(GL,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,M){t.msg="invalid literal/lengths set",n.mode=si;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},M=jp(qL,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,M){t.msg="invalid distances set",n.mode=si;break}if(n.mode=qm,e===Gm)break e;case qm:n.mode=Wm;case Wm:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=h,nee(t,m),a=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,c=n.hold,h=n.bits,n.mode===zl&&(n.back=-1);break}for(n.back=0;S=n.lencode[c&(1<<n.lenbits)-1],N=S>>>24,j=S>>>16&255,w=S&65535,!(N<=h);){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}if(j&&!(j&240)){for(k=N,E=j,O=w;S=n.lencode[O+((c&(1<<k+E)-1)>>k)],N=S>>>24,j=S>>>16&255,w=S&65535,!(k+N<=h);){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}c>>>=k,h-=k,n.back+=k}if(c>>>=N,h-=N,n.back+=N,n.length=w,j===0){n.mode=AN;break}if(j&32){n.back=-1,n.mode=zl;break}if(j&64){t.msg="invalid literal/length code",n.mode=si;break}n.extra=j&15,n.mode=NN;case NN:if(n.extra){for(P=n.extra;h<P;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=kN;case kN:for(;S=n.distcode[c&(1<<n.distbits)-1],N=S>>>24,j=S>>>16&255,w=S&65535,!(N<=h);){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}if(!(j&240)){for(k=N,E=j,O=w;S=n.distcode[O+((c&(1<<k+E)-1)>>k)],N=S>>>24,j=S>>>16&255,w=S&65535,!(k+N<=h);){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}c>>>=k,h-=k,n.back+=k}if(c>>>=N,h-=N,n.back+=N,j&64){t.msg="invalid distance code",n.mode=si;break}n.offset=w,n.extra=j&15,n.mode=CN;case CN:if(n.extra){for(P=n.extra;h<P;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=si;break}n.mode=jN;case jN:if(l===0)break e;if(p=m-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=si;break}p>n.wnext?(p-=n.wnext,x=n.wsize-p):x=n.wnext-p,p>n.length&&(p=n.length),b=n.window}else b=r,x=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do r[a++]=b[x++];while(--p);n.length===0&&(n.mode=Wm);break;case AN:if(l===0)break e;r[a++]=n.length,l--,n.mode=Wm;break;case Gx:if(n.wrap){for(;h<32;){if(o===0)break e;o--,c|=i[s++]<<h,h+=8}if(m-=l,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?el(n.check,r,m,a-m):rb(n.check,r,m,a-m)),m=l,n.wrap&4&&(n.flags?c:TN(c))!==n.check){t.msg="incorrect data check",n.mode=si;break}c=0,h=0}n.mode=PN;case PN:if(n.wrap&&n.flags){for(;h<32;){if(o===0)break e;o--,c+=i[s++]<<h,h+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=si;break}c=0,h=0}n.mode=LN;case LN:M=uee;break e;case si:M=WL;break e;case XL:return KL;case YL:default:return Za}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=h,(n.wsize||m!==t.avail_out&&n.mode<si&&(n.mode<Gx||e!==lN))&&tT(t,t.output,t.next_out,m-t.avail_out),g-=t.avail_in,m-=t.avail_out,t.total_in+=g,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?el(n.check,r,m,t.next_out-m):rb(n.check,r,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===zl?128:0)+(n.mode===qm||n.mode===$x?256:0),(g===0&&m===0||e===lN)&&M===Oh&&(M=dee),M},wee=t=>{if(Jh(t))return Za;let e=t.state;return e.window&&(e.window=null),t.state=null,Oh},_ee=(t,e)=>{if(Jh(t))return Za;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Oh):Za},See=(t,e)=>{const n=e.length;let i,r,s;return Jh(t)||(i=t.state,i.wrap!==0&&i.mode!==M2)?Za:i.mode===M2&&(r=1,r=rb(r,e,n,0),r!==i.check)?WL:(s=tT(t,e,n,n),s?(i.mode=XL,KL):(i.havedict=1,Oh))};var Nee=JL,kee=ZL,Cee=QL,jee=xee,Aee=eT,Pee=bee,Lee=wee,Tee=_ee,Eee=See,Mee="pako inflate (from Nodeca project)",Wl={inflateReset:Nee,inflateReset2:kee,inflateResetKeep:Cee,inflateInit:jee,inflateInit2:Aee,inflate:Pee,inflateEnd:Lee,inflateGetHeader:Tee,inflateSetDictionary:Eee,inflateInfo:Mee};function Ree(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Fee=Ree;const nT=Object.prototype.toString,{Z_NO_FLUSH:Dee,Z_FINISH:Oee,Z_OK:ug,Z_STREAM_END:Kx,Z_NEED_DICT:Xx,Z_STREAM_ERROR:Iee,Z_DATA_ERROR:MN,Z_MEM_ERROR:Bee}=VL;function Eg(t){this.options=HL.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eee,this.strm.avail_out=0;let n=Wl.inflateInit2(this.strm,e.windowBits);if(n!==ug)throw new Error(sb[n]);if(this.header=new Fee,Wl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ab.string2buf(e.dictionary):nT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Wl.inflateSetDictionary(this.strm,e.dictionary),n!==ug)))throw new Error(sb[n])}Eg.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Oee:Dee,nT.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),s=Wl.inflate(n,a),s===Xx&&r&&(s=Wl.inflateSetDictionary(n,r),s===ug?s=Wl.inflate(n,a):s===MN&&(s=Xx));n.avail_in>0&&s===Kx&&n.state.wrap>0&&t[n.next_in]!==0;)Wl.inflateReset(n),s=Wl.inflate(n,a);switch(s){case Iee:case MN:case Xx:case Bee:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===Kx))if(this.options.to==="string"){let l=ab.utf8border(n.output,n.next_out),c=n.next_out-l,h=ab.buf2string(n.output,l);n.next_out=c,n.avail_out=i-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===ug&&o===0)){if(s===Kx)return s=Wl.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Eg.prototype.onData=function(t){this.chunks.push(t)};Eg.prototype.onEnd=function(t){t===ug&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=HL.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function zee(t,e){const n=new Eg(e);if(n.push(t),n.err)throw n.msg||sb[n.err];return n.result}var Uee=Eg,Vee=zee,Hee={Inflate:Uee,inflate:Vee};const{Inflate:$ee,inflate:Gee}=Hee;var RN=$ee,qee=Gee;const iT=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;iT[t]=e}const FN=4294967295;function Wee(t,e,n){let i=t;for(let r=0;r<n;r++)i=iT[(i^e[r])&255]^i>>>8;return i}function Kee(t,e){return(Wee(FN,t,e)^FN)>>>0}function DN(t,e,n){const i=t.readUint32(),r=Kee(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(r!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${r}`)}function rT(t,e,n){for(let i=0;i<n;i++)e[i]=t[i]}function sT(t,e,n,i){let r=0;for(;r<i;r++)e[r]=t[r];for(;r<n;r++)e[r]=t[r]+e[r-i]&255}function aT(t,e,n,i){let r=0;if(n.length===0)for(;r<i;r++)e[r]=t[r];else for(;r<i;r++)e[r]=t[r]+n[r]&255}function oT(t,e,n,i,r){let s=0;if(n.length===0){for(;s<r;s++)e[s]=t[s];for(;s<i;s++)e[s]=t[s]+(e[s-r]>>1)&255}else{for(;s<r;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<i;s++)e[s]=t[s]+(e[s-r]+n[s]>>1)&255}}function lT(t,e,n,i,r){let s=0;if(n.length===0){for(;s<r;s++)e[s]=t[s];for(;s<i;s++)e[s]=t[s]+e[s-r]&255}else{for(;s<r;s++)e[s]=t[s]+n[s]&255;for(;s<i;s++)e[s]=t[s]+Xee(e[s-r],n[s],n[s-r])&255}}function Xee(t,e,n){const i=t+e-n,r=Math.abs(i-t),s=Math.abs(i-e),a=Math.abs(i-n);return r<=s&&r<=a?t:s<=a?e:n}function Yee(t,e,n,i,r,s){switch(t){case 0:rT(e,n,r);break;case 1:sT(e,n,r,s);break;case 2:aT(e,n,i,r);break;case 3:oT(e,n,i,r,s);break;case 4:lT(e,n,i,r,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Qee=new Uint16Array([255]),Jee=new Uint8Array(Qee.buffer),Zee=Jee[0]===255;function ete(t){const{data:e,width:n,height:i,channels:r,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*r,l=new Uint8Array(i*n*o);let c=0;for(let h=0;h<7;h++){const g=a[h],m=Math.ceil((n-g.x)/g.xStep),p=Math.ceil((i-g.y)/g.yStep);if(m<=0||p<=0)continue;const x=m*o,b=new Uint8Array(x);for(let S=0;S<p;S++){const N=e[c++],j=e.subarray(c,c+x);c+=x;const w=new Uint8Array(x);Yee(N,j,w,b,x,o),b.set(w);for(let k=0;k<m;k++){const E=g.x+k*g.xStep,O=g.y+S*g.yStep;if(!(E>=n||O>=i))for(let U=0;U<o;U++)l[(O*n+E)*o+U]=w[k*o+U]}}}if(s===16){const h=new Uint16Array(l.buffer);if(Zee)for(let g=0;g<h.length;g++)h[g]=tte(h[g]);return h}else return l}function tte(t){return(t&255)<<8|t>>8&255}const nte=new Uint16Array([255]),ite=new Uint8Array(nte.buffer),rte=ite[0]===255,ste=new Uint8Array(0);function ON(t){const{data:e,width:n,height:i,channels:r,depth:s}=t,a=Math.ceil(s/8)*r,o=Math.ceil(s/8*r*n),l=new Uint8Array(i*o);let c=ste,h=0,g,m;for(let p=0;p<i;p++){switch(g=e.subarray(h+1,h+1+o),m=l.subarray(p*o,(p+1)*o),e[h]){case 0:rT(g,m,o);break;case 1:sT(g,m,o,a);break;case 2:aT(g,m,c,o);break;case 3:oT(g,m,c,o,a);break;case 4:lT(g,m,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}c=m,h+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(rte)for(let x=0;x<p.length;x++)p[x]=ate(p[x]);return p}else return l}function ate(t){return(t&255)<<8|t>>8&255}const j1=Uint8Array.of(137,80,78,71,13,10,26,10);function IN(t){if(!ote(t.readBytes(j1.length)))throw new Error("wrong PNG signature")}function ote(t){if(t.length<j1.length)return!1;for(let e=0;e<j1.length;e++)if(t[e]!==j1[e])return!1;return!0}const lte="tEXt",cte=0,cT=new TextDecoder("latin1");function ute(t){if(dte(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const hte=/^[\u0000-\u00FF]*$/;function dte(t){if(!hte.test(t))throw new Error("invalid latin1 text")}function fte(t,e,n){const i=uT(e);t[i]=pte(e,n-i.length-1)}function uT(t){for(t.mark();t.readByte()!==cte;);const e=t.offset;t.reset();const n=cT.decode(t.readBytes(e-t.offset-1));return t.skip(1),ute(n),n}function pte(t,e){return cT.decode(t.readBytes(e))}const sa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Yx={UNKNOWN:-1,DEFLATE:0},BN={UNKNOWN:-1,ADAPTIVE:0},Qx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Km={NONE:0,BACKGROUND:1,PREVIOUS:2},Jx={SOURCE:0,OVER:1};class gte extends Aw{constructor(n,i={}){super(n);et(this,"_checkCrc");et(this,"_inflator");et(this,"_png");et(this,"_apng");et(this,"_end");et(this,"_hasPalette");et(this,"_palette");et(this,"_hasTransparency");et(this,"_transparency");et(this,"_compressionMethod");et(this,"_filterMethod");et(this,"_interlaceMethod");et(this,"_colorType");et(this,"_isAnimated");et(this,"_numberOfFrames");et(this,"_numberOfPlays");et(this,"_frames");et(this,"_writingDataChunks");const{checkCrc:r=!1}=i;this._checkCrc=r,this._inflator=new RN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Yx.UNKNOWN,this._filterMethod=BN.UNKNOWN,this._interlaceMethod=Qx.UNKNOWN,this._colorType=sa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(IN(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeChunk(n,i)}return this.decodeImage(),this._png}decodeApng(){for(IN(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(n,i)}return this.decodeApngImage(),this._apng}decodeChunk(n,i){const r=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case lte:fte(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?DN(this,n+4,i):this.skip(4)}decodeApngChunk(n,i){const r=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,i),this.offset=r+n;break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?DN(this,n+4,i):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=mte(this.readUint8());const i=this.readUint8();this._colorType=i;let r;switch(i){case sa.GREYSCALE:r=1;break;case sa.TRUECOLOUR:r=3;break;case sa.INDEXED_COLOUR:r=1;break;case sa.GREYSCALE_ALPHA:r=2;break;case sa.TRUECOLOUR_ALPHA:r=4;break;case sa.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Yx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const i=n/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<i;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const i=n,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let i=n,r=this.offset+this.byteOffset;if(r+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case sa.GREYSCALE:case sa.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let i=0;i<n/2;i++)this._transparency[i]=this.readUint16();break}case sa.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let i=0;for(;i<n;i++){const r=this.readByte();this._palette[i].push(r)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case sa.UNKNOWN:case sa.GREYSCALE_ALPHA:case sa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const i=uT(this),r=this.readUint8();if(r!==Yx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(n-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:qee(s)}}decodepHYs(){const n=this.readUint32(),i=this.readUint32(),r=this.readByte();this._png.resolution={x:n,y:i,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const i={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(n);if(r){if(r.data=ON({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)i.data=r.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(r,s,i),this.addFrameDataToCanvas(i,r)}this._apng.frames.push(i)}}return this._apng}disposeFrame(n,i,r){switch(n.disposeOp){case Km.NONE:break;case Km.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*n.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[o+l]=0}break;case Km.PREVIOUS:r.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,i){const r=1<<this._png.depth,s=(a,o)=>{const l=((a+i.yOffset)*this._png.width+i.xOffset+o)*this._png.channels,c=(a*i.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(i.blendOp){case Jx.SOURCE:for(let a=0;a<i.height;a++)for(let o=0;o<i.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let h=0;h<this._png.channels;h++)n.data[l+h]=i.data[c+h]}break;case Jx.OVER:for(let a=0;a<i.height;a++)for(let o=0;o<i.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let h=0;h<this._png.channels;h++){const g=i.data[c+this._png.channels-1]/r,m=h%(this._png.channels-1)===0?1:i.data[c+h],p=Math.floor(g*m+(1-g)*n.data[l+h]);n.data[l+h]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==BN.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Qx.NO_INTERLACE)this._png.data=ON({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Qx.ADAM7)this._png.data=ete({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,i=this._frames.at(-1);i?i.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Km.NONE,blendOp:Jx.SOURCE,data:n}),this._inflator=new RN,this._writingDataChunks=!1}}function mte(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var zN;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(zN||(zN={}));function yte(t,e){return new gte(t,e).decode()}var Tt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Zx(){Tt.console&&typeof Tt.console.log=="function"&&Tt.console.log.apply(Tt.console,arguments)}var Fn={log:Zx,warn:function(t){Tt.console&&(typeof Tt.console.warn=="function"?Tt.console.warn.apply(Tt.console,arguments):Zx.call(null,arguments))},error:function(t){Tt.console&&(typeof Tt.console.error=="function"?Tt.console.error.apply(Tt.console,arguments):Zx(t))}};function ev(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){uh(i.response,e,n)},i.onerror=function(){Fn.error("could not download file")},i.send()}function UN(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var uh=Tt.saveAs||((typeof window>"u"?"undefined":Pn(window))!=="object"||window!==Tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=Tt.URL||Tt.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?UN(r.href)?ev(t,e,n):Xm(r,r.target="_blank"):Xm(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Xm(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(UN(t))ev(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){Xm(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:Pn(s)!=="object"&&(Fn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return ev(t,e,n);var r=t.type==="application/octet-stream",s=/constructor/i.test(Tt.HTMLElement)||Tt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&(typeof FileReader>"u"?"undefined":Pn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=h:location=h,i=null},o.readAsDataURL(t)}else{var l=Tt.URL||Tt.webkitURL,c=l.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hT(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,s=n[i].process,a=r.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var A1=Tt.atob.bind(Tt),VN=Tt.btoa.bind(Tt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function tv(t,e){var n=t[0],i=t[1],r=t[2],s=t[3];n=Jr(n,i,r,s,e[0],7,-680876936),s=Jr(s,n,i,r,e[1],12,-389564586),r=Jr(r,s,n,i,e[2],17,606105819),i=Jr(i,r,s,n,e[3],22,-1044525330),n=Jr(n,i,r,s,e[4],7,-176418897),s=Jr(s,n,i,r,e[5],12,1200080426),r=Jr(r,s,n,i,e[6],17,-1473231341),i=Jr(i,r,s,n,e[7],22,-45705983),n=Jr(n,i,r,s,e[8],7,1770035416),s=Jr(s,n,i,r,e[9],12,-1958414417),r=Jr(r,s,n,i,e[10],17,-42063),i=Jr(i,r,s,n,e[11],22,-1990404162),n=Jr(n,i,r,s,e[12],7,1804603682),s=Jr(s,n,i,r,e[13],12,-40341101),r=Jr(r,s,n,i,e[14],17,-1502002290),n=Zr(n,i=Jr(i,r,s,n,e[15],22,1236535329),r,s,e[1],5,-165796510),s=Zr(s,n,i,r,e[6],9,-1069501632),r=Zr(r,s,n,i,e[11],14,643717713),i=Zr(i,r,s,n,e[0],20,-373897302),n=Zr(n,i,r,s,e[5],5,-701558691),s=Zr(s,n,i,r,e[10],9,38016083),r=Zr(r,s,n,i,e[15],14,-660478335),i=Zr(i,r,s,n,e[4],20,-405537848),n=Zr(n,i,r,s,e[9],5,568446438),s=Zr(s,n,i,r,e[14],9,-1019803690),r=Zr(r,s,n,i,e[3],14,-187363961),i=Zr(i,r,s,n,e[8],20,1163531501),n=Zr(n,i,r,s,e[13],5,-1444681467),s=Zr(s,n,i,r,e[2],9,-51403784),r=Zr(r,s,n,i,e[7],14,1735328473),n=es(n,i=Zr(i,r,s,n,e[12],20,-1926607734),r,s,e[5],4,-378558),s=es(s,n,i,r,e[8],11,-2022574463),r=es(r,s,n,i,e[11],16,1839030562),i=es(i,r,s,n,e[14],23,-35309556),n=es(n,i,r,s,e[1],4,-1530992060),s=es(s,n,i,r,e[4],11,1272893353),r=es(r,s,n,i,e[7],16,-155497632),i=es(i,r,s,n,e[10],23,-1094730640),n=es(n,i,r,s,e[13],4,681279174),s=es(s,n,i,r,e[0],11,-358537222),r=es(r,s,n,i,e[3],16,-722521979),i=es(i,r,s,n,e[6],23,76029189),n=es(n,i,r,s,e[9],4,-640364487),s=es(s,n,i,r,e[12],11,-421815835),r=es(r,s,n,i,e[15],16,530742520),n=ts(n,i=es(i,r,s,n,e[2],23,-995338651),r,s,e[0],6,-198630844),s=ts(s,n,i,r,e[7],10,1126891415),r=ts(r,s,n,i,e[14],15,-1416354905),i=ts(i,r,s,n,e[5],21,-57434055),n=ts(n,i,r,s,e[12],6,1700485571),s=ts(s,n,i,r,e[3],10,-1894986606),r=ts(r,s,n,i,e[10],15,-1051523),i=ts(i,r,s,n,e[1],21,-2054922799),n=ts(n,i,r,s,e[8],6,1873313359),s=ts(s,n,i,r,e[15],10,-30611744),r=ts(r,s,n,i,e[6],15,-1560198380),i=ts(i,r,s,n,e[13],21,1309151649),n=ts(n,i,r,s,e[4],6,-145523070),s=ts(s,n,i,r,e[11],10,-1120210379),r=ts(r,s,n,i,e[2],15,718787259),i=ts(i,r,s,n,e[9],21,-343485551),t[0]=Jc(n,t[0]),t[1]=Jc(i,t[1]),t[2]=Jc(r,t[2]),t[3]=Jc(s,t[3])}function fy(t,e,n,i,r,s){return e=Jc(Jc(e,t),Jc(i,s)),Jc(e<<r|e>>>32-r,n)}function Jr(t,e,n,i,r,s,a){return fy(e&n|~e&i,t,e,r,s,a)}function Zr(t,e,n,i,r,s,a){return fy(e&i|n&~i,t,e,r,s,a)}function es(t,e,n,i,r,s,a){return fy(e^n^i,t,e,r,s,a)}function ts(t,e,n,i,r,s,a){return fy(n^(e|~i),t,e,r,s,a)}function dT(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)tv(i,xte(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(tv(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,tv(i,r),i}function xte(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var HN="0123456789abcdef".split("");function vte(t){for(var e="",n=0;n<4;n++)e+=HN[t>>8*n+4&15]+HN[t>>8*n&15];return e}function bte(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function ob(t){return dT(t).map(bte).join("")}var wte=function(t){for(var e=0;e<t.length;e++)t[e]=vte(t[e]);return t.join("")}(dT("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jc(t,e){if(wte){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function lb(t,e){var n,i,r,s;if(t!==n){for(var a=(r=t,s=1+(256/t.length|0),new Array(s+1).join(r)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var h=o[l];c=(c+h+a.charCodeAt(l))%256,o[l]=o[c],o[c]=h}n=t,i=o}else o=i;var g=e.length,m=0,p=0,x="";for(l=0;l<g;l++)p=(p+(h=o[m=(m+1)%256]))%256,o[m]=o[p],o[p]=h,a=o[(o[m]+o[p])%256],x+=String.fromCharCode(e.charCodeAt(l)^a);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $N={print:4,modify:8,copy:16,"annot-forms":32};function Od(t,e,n,i){this.v=1,this.r=2;var r=192;t.forEach(function(o){if($N.perm!==void 0)throw new Error("Invalid permission: "+o);r+=$N[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^r)),this.encryptionKey=ob(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=lb(this.encryptionKey,this.padding)}function Id(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var r=t.charCodeAt(i);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):t[i]}return e}function GN(t){if(Pn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[i,!!r],s},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,i)}catch(o){Tt.console&&Fn.error("jsPDF PubSub Error",o.message,o)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function R2(t){if(!(this instanceof R2))return new R2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function fT(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function hh(t,e,n,i,r){if(!(this instanceof hh))return new hh(t,e,n,i,r);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,fT.call(this,i,r)}function sf(t,e,n,i,r){if(!(this instanceof sf))return new sf(t,e,n,i,r);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,fT.call(this,i,r)}function vt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",h=null;Pn(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,r=t.format||r,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),i=i||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=GN;var x="1.3",b=p.__private__.getPdfVersion=function(){return x};p.__private__.setPdfVersion=function(A){x=A};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return S};var N=p.__private__.getPageFormat=function(A){return S[A]};r=r||"a4";var j="compat",w="advanced",k=j;function E(){this.saveGraphicsState(),le(new St(wt,0,0,-wt,0,cr()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),c="n",k=w}function O(){this.restoreGraphicsState(),c="S",k=j}var U=p.__private__.combineFontStyleAndFontWeight=function(A,H){if(A=="bold"&&H=="normal"||A=="bold"&&H==400||A=="normal"&&H=="italic"||A=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(A=H==400||H==="normal"?A==="italic"?"italic":"normal":H!=700&&H!=="bold"||A!=="normal"?(H==700?"bold":H)+""+A:"bold"),A};p.advancedAPI=function(A){var H=k===j;return H&&E.call(this),typeof A!="function"||(A(this),H&&O.call(this)),this},p.compatAPI=function(A){var H=k===w;return H&&O.call(this),typeof A!="function"||(A(this),H&&E.call(this)),this},p.isAdvancedAPI=function(){return k===w};var M,I=function(A){if(k!==w)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=p.roundToPrecision=p.__private__.roundToPrecision=function(A,H){var ae=e||H;if(isNaN(A)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ae).replace(/0+$/,"")};M=p.hpf=p.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,16)};var P=p.f2=p.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return F(A,2)},R=p.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return F(A,3)},$=p.scale=p.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return k===j?A*wt:k===w?A:void 0},G=function(A){return $(function(H){return k===j?cr()-H:k===w?H:void 0}(A))};p.__private__.setPrecision=p.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var ee,ce="00000000000000000000000000000000",pe=p.__private__.getFileId=function(){return ce},Z=p.__private__.setFileId=function(A){return ce=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(ni=new Od(h.userPermissions,h.userPassword,h.ownerPassword,ce)),ce};p.setFileId=function(A){return Z(A),this},p.getFileId=function(){return pe()};var te=p.__private__.convertDateToPDFDate=function(A){var H=A.getTimezoneOffset(),ae=H<0?"+":"-",ge=Math.floor(Math.abs(H/60)),be=Math.abs(H%60),De=[ae,ie(ge),"'",ie(be),"'"].join("");return["D:",A.getFullYear(),ie(A.getMonth()+1),ie(A.getDate()),ie(A.getHours()),ie(A.getMinutes()),ie(A.getSeconds()),De].join("")},he=p.__private__.convertPDFDateToDate=function(A){var H=parseInt(A.substr(2,4),10),ae=parseInt(A.substr(6,2),10)-1,ge=parseInt(A.substr(8,2),10),be=parseInt(A.substr(10,2),10),De=parseInt(A.substr(12,2),10),Ie=parseInt(A.substr(14,2),10);return new Date(H,ae,ge,be,De,Ie,0)},Y=p.__private__.setCreationDate=function(A){var H;if(A===void 0&&(A=new Date),A instanceof Date)H=te(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=A}return ee=H},B=p.__private__.getCreationDate=function(A){var H=ee;return A==="jsDate"&&(H=he(ee)),H};p.setCreationDate=function(A){return Y(A),this},p.getCreationDate=function(A){return B(A)};var K,ie=p.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ue=p.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},de=0,X=[],fe=[],me=0,Ce=[],Te=[],Ue=!1,ze=fe;p.__private__.setCustomOutputDestination=function(A){Ue=!0,ze=A};var je=function(A){Ue||(ze=A)};p.__private__.resetCustomOutputDestination=function(){Ue=!1,ze=fe};var le=p.__private__.out=function(A){return A=A.toString(),me+=A.length+1,ze.push(A),ze},At=p.__private__.write=function(A){return le(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},bt=p.__private__.getArrayBuffer=function(A){for(var H=A.length,ae=new ArrayBuffer(H),ge=new Uint8Array(ae);H--;)ge[H]=A.charCodeAt(H);return ae},ht=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ht};var Ve=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(A){return Ve=k===w?A/wt:A,this};var Ye,Ke=p.__private__.getFontSize=p.getFontSize=function(){return k===j?Ve:Ve*wt},Et=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(A){return Et=A,this},p.__private__.getR2L=p.getR2L=function(){return Et};var Ee,qe=p.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Ye=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Ye=A}else Ye=parseInt(A,10)};p.__private__.getZoomMode=function(){return Ye};var Ge,dt=p.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Ee=A};p.__private__.getPageMode=function(){return Ee};var Ht=p.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Ge=A};p.__private__.getLayoutMode=function(){return Ge},p.__private__.setDisplayMode=p.setDisplayMode=function(A,H,ae){return qe(A),Ht(H),dt(ae),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(A){if(Object.keys(ft).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[A]},p.__private__.getDocumentProperties=function(){return ft},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(A){for(var H in ft)ft.hasOwnProperty(H)&&A[H]&&(ft[H]=A[H]);return this},p.__private__.setDocumentProperty=function(A,H){if(Object.keys(ft).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[A]=H};var ot,wt,tt,on,nn,mt={},Dt={},kn=[],_t={},Xt={},Ot={},li={},Pi=null,Cn=0,Pt=[],un=new GN(p),Oo=t.hotfixes||[],lr={},Gs={},qs=[],St=function A(H,ae,ge,be,De,Ie){if(!(this instanceof A))return new A(H,ae,ge,be,De,Ie);isNaN(H)&&(H=1),isNaN(ae)&&(ae=0),isNaN(ge)&&(ge=0),isNaN(be)&&(be=1),isNaN(De)&&(De=0),isNaN(Ie)&&(Ie=0),this._matrix=[H,ae,ge,be,De,Ie]};Object.defineProperty(St.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(St.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(St.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(St.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(St.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(St.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(St.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(St.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(St.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(St.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(St.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(St.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(St.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(St.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(St.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(St.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),St.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(A)},St.prototype.multiply=function(A){var H=A.sx*this.sx+A.shy*this.shx,ae=A.sx*this.shy+A.shy*this.sy,ge=A.shx*this.sx+A.sy*this.shx,be=A.shx*this.shy+A.sy*this.sy,De=A.tx*this.sx+A.ty*this.shx+this.tx,Ie=A.tx*this.shy+A.ty*this.sy+this.ty;return new St(H,ae,ge,be,De,Ie)},St.prototype.decompose=function(){var A=this.sx,H=this.shy,ae=this.shx,ge=this.sy,be=this.tx,De=this.ty,Ie=Math.sqrt(A*A+H*H),nt=(A/=Ie)*ae+(H/=Ie)*ge;ae-=A*nt,ge-=H*nt;var Qe=Math.sqrt(ae*ae+ge*ge);return nt/=Qe,A*(ge/=Qe)<H*(ae/=Qe)&&(A=-A,H=-H,nt=-nt,Ie=-Ie),{scale:new St(Ie,0,0,Qe,0,0),translate:new St(1,0,0,1,be,De),rotate:new St(A,H,-H,A,0,0),skew:new St(1,0,nt,1,0,0)}},St.prototype.toString=function(A){return this.join(" ")},St.prototype.inversed=function(){var A=this.sx,H=this.shy,ae=this.shx,ge=this.sy,be=this.tx,De=this.ty,Ie=1/(A*ge-H*ae),nt=ge*Ie,Qe=-H*Ie,yt=-ae*Ie,it=A*Ie;return new St(nt,Qe,yt,it,-nt*be-yt*De,-Qe*be-it*De)},St.prototype.applyToPoint=function(A){var H=A.x*this.sx+A.y*this.shx+this.tx,ae=A.x*this.shy+A.y*this.sy+this.ty;return new so(H,ae)},St.prototype.applyToRectangle=function(A){var H=this.applyToPoint(A),ae=this.applyToPoint(new so(A.x+A.w,A.y+A.h));return new yc(H.x,H.y,ae.x-H.x,ae.y-H.y)},St.prototype.clone=function(){var A=this.sx,H=this.shy,ae=this.shx,ge=this.sy,be=this.tx,De=this.ty;return new St(A,H,ae,ge,be,De)},p.Matrix=St;var eo=p.matrixMult=function(A,H){return H.multiply(A)},to=new St(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=to;var Ns=function(A,H){if(!Xt[A]){var ae=(H instanceof hh?"Sh":"P")+(Object.keys(_t).length+1).toString(10);H.id=ae,Xt[A]=ae,_t[ae]=H,un.publish("addPattern",H)}};p.ShadingPattern=hh,p.TilingPattern=sf,p.addShadingPattern=function(A,H){return I("addShadingPattern()"),Ns(A,H),this},p.beginTilingPattern=function(A){I("beginTilingPattern()"),Vr(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},p.endTilingPattern=function(A,H){I("endTilingPattern()"),H.stream=Te[K].join(`
`),Ns(A,H),un.publish("endTilingPattern",H),qs.pop().restore()};var hs,On=p.__private__.newObject=function(){var A=Vi();return qi(A,!0),A},Vi=p.__private__.newObjectDeferred=function(){return de++,X[de]=function(){return me},de},qi=function(A,H){return H=typeof H=="boolean"&&H,X[A]=me,H&&le(A+" 0 obj"),A},ma=p.__private__.newAdditionalObject=function(){var A={objId:Vi(),content:""};return Ce.push(A),A},Io=Vi(),Ws=Vi(),ya=p.__private__.decodeColorString=function(A){var H=A.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var ae=parseFloat(H[0]);H=[ae,ae,ae,"r"]}for(var ge="#",be=0;be<3;be++)ge+=("0"+Math.floor(255*parseFloat(H[be])).toString(16)).slice(-2);return ge},Ks=p.__private__.encodeColorString=function(A){var H;typeof A=="string"&&(A={ch1:A});var ae=A.ch1,ge=A.ch2,be=A.ch3,De=A.ch4,Ie=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var nt=new hT(ae);if(nt.ok)ae=nt.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var Qe=parseInt(ae.substr(1),16);ae=Qe>>16&255,ge=Qe>>8&255,be=255&Qe}if(ge===void 0||De===void 0&&ae===ge&&ge===be)H=typeof ae=="string"?ae+" "+Ie[0]:A.precision===2?P(ae/255)+" "+Ie[0]:R(ae/255)+" "+Ie[0];else if(De===void 0||Pn(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return["1.","1.","1.",Ie[1]].join(" ");H=typeof ae=="string"?[ae,ge,be,Ie[1]].join(" "):A.precision===2?[P(ae/255),P(ge/255),P(be/255),Ie[1]].join(" "):[R(ae/255),R(ge/255),R(be/255),Ie[1]].join(" ")}else H=typeof ae=="string"?[ae,ge,be,De,Ie[2]].join(" "):A.precision===2?[P(ae),P(ge),P(be),P(De),Ie[2]].join(" "):[R(ae),R(ge),R(be),R(De),Ie[2]].join(" ");return H},Xs=p.__private__.getFilters=function(){return a},ks=p.__private__.putStream=function(A){var H=(A=A||{}).data||"",ae=A.filters||Xs(),ge=A.alreadyAppliedFilters||[],be=A.addLength1||!1,De=H.length,Ie=A.objectId,nt=function(hi){return hi};if(h!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(nt=ni.encryptor(Ie,0));var Qe={};ae===!0&&(ae=["FlateEncode"]);var yt=A.additionalKeyValues||[],it=(Qe=vt.API.processDataByFilters!==void 0?vt.API.processDataByFilters(H,ae):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Qe.data.length!==0&&(yt.push({key:"Length",value:Qe.data.length}),be===!0&&yt.push({key:"Length1",value:De})),it.length!=0)if(it.split("/").length-1==1)yt.push({key:"Filter",value:it});else{yt.push({key:"Filter",value:"["+it+"]"});for(var Qt=0;Qt<yt.length;Qt+=1)if(yt[Qt].key==="DecodeParms"){for(var rn=[],ui=0;ui<Qe.reverseChain.split("/").length-1;ui+=1)rn.push("null");rn.push(yt[Qt].value),yt[Qt].value="["+rn.join(" ")+"]"}}le("<<");for(var vn=0;vn<yt.length;vn++)le("/"+yt[vn].key+" "+yt[vn].value);le(">>"),Qe.data.length!==0&&(le("stream"),le(nt(Qe.data)),le("endstream"))},ml=p.__private__.putPage=function(A){var H=A.number,ae=A.data,ge=A.objId,be=A.contentsObjId;qi(ge,!0),le("<</Type /Page"),le("/Parent "+A.rootDictionaryObjId+" 0 R"),le("/Resources "+A.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(M(A.mediaBox.bottomLeftX))+" "+parseFloat(M(A.mediaBox.bottomLeftY))+" "+M(A.mediaBox.topRightX)+" "+M(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&le("/CropBox ["+M(A.cropBox.bottomLeftX)+" "+M(A.cropBox.bottomLeftY)+" "+M(A.cropBox.topRightX)+" "+M(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&le("/BleedBox ["+M(A.bleedBox.bottomLeftX)+" "+M(A.bleedBox.bottomLeftY)+" "+M(A.bleedBox.topRightX)+" "+M(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&le("/TrimBox ["+M(A.trimBox.bottomLeftX)+" "+M(A.trimBox.bottomLeftY)+" "+M(A.trimBox.topRightX)+" "+M(A.trimBox.topRightY)+"]"),A.artBox!==null&&le("/ArtBox ["+M(A.artBox.bottomLeftX)+" "+M(A.artBox.bottomLeftY)+" "+M(A.artBox.topRightX)+" "+M(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&le("/UserUnit "+A.userUnit),un.publish("putPage",{objId:ge,pageContext:Pt[H],pageNumber:H,page:ae}),le("/Contents "+be+" 0 R"),le(">>"),le("endobj");var De=ae.join(`
`);return k===w&&(De+=`
Q`),qi(be,!0),ks({data:De,filters:Xs(),objectId:be}),le("endobj"),ge},xa=p.__private__.putPages=function(){var A,H,ae=[];for(A=1;A<=Cn;A++)Pt[A].objId=Vi(),Pt[A].contentsObjId=Vi();for(A=1;A<=Cn;A++)ae.push(ml({number:A,data:Te[A],objId:Pt[A].objId,contentsObjId:Pt[A].contentsObjId,mediaBox:Pt[A].mediaBox,cropBox:Pt[A].cropBox,bleedBox:Pt[A].bleedBox,trimBox:Pt[A].trimBox,artBox:Pt[A].artBox,userUnit:Pt[A].userUnit,rootDictionaryObjId:Io,resourceDictionaryObjId:Ws}));qi(Io,!0),le("<</Type /Pages");var ge="/Kids [";for(H=0;H<Cn;H++)ge+=ae[H]+" 0 R ";le(ge+"]"),le("/Count "+Cn),le(">>"),le("endobj"),un.publish("postPutPages")},yl=function(A){un.publish("putFont",{font:A,out:le,newObject:On,putStream:ks}),A.isAlreadyPutted!==!0&&(A.objectNumber=On(),le("<<"),le("/Type /Font"),le("/BaseFont /"+Id(A.postScriptName)),le("/Subtype /Type1"),typeof A.encoding=="string"&&le("/Encoding /"+A.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},hc=function(A){A.objectNumber=On();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[M(A.x),M(A.y),M(A.x+A.width),M(A.y+A.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ae=A.pages[1].join(`
`);ks({data:ae,additionalKeyValues:H,objectId:A.objectNumber}),le("endobj")},dc=function(A,H){H||(H=21);var ae=On(),ge=function(Ie,nt){var Qe,yt=[],it=1/(nt-1);for(Qe=0;Qe<1;Qe+=it)yt.push(Qe);if(yt.push(1),Ie[0].offset!=0){var Qt={offset:0,color:Ie[0].color};Ie.unshift(Qt)}if(Ie[Ie.length-1].offset!=1){var rn={offset:1,color:Ie[Ie.length-1].color};Ie.push(rn)}for(var ui="",vn=0,hi=0;hi<yt.length;hi++){for(Qe=yt[hi];Qe>Ie[vn+1].offset;)vn++;var ii=Ie[vn].offset,Hi=(Qe-ii)/(Ie[vn+1].offset-ii),js=Ie[vn].color,ao=Ie[vn+1].color;ui+=ue(Math.round((1-Hi)*js[0]+Hi*ao[0]).toString(16))+ue(Math.round((1-Hi)*js[1]+Hi*ao[1]).toString(16))+ue(Math.round((1-Hi)*js[2]+Hi*ao[2]).toString(16))}return ui.trim()}(A.colors,H),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+H+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ks({data:ge,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),le("endobj"),A.objectNumber=On(),le("<< /ShadingType "+A.type),le("/ColorSpace /DeviceRGB");var De="/Coords ["+M(parseFloat(A.coords[0]))+" "+M(parseFloat(A.coords[1]))+" ";A.type===2?De+=M(parseFloat(A.coords[2]))+" "+M(parseFloat(A.coords[3])):De+=M(parseFloat(A.coords[2]))+" "+M(parseFloat(A.coords[3]))+" "+M(parseFloat(A.coords[4]))+" "+M(parseFloat(A.coords[5])),le(De+="]"),A.matrix&&le("/Matrix ["+A.matrix.toString()+"]"),le("/Function "+ae+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},fc=function(A,H){var ae=Vi(),ge=On();H.push({resourcesOid:ae,objectOid:ge}),A.objectNumber=ge;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+A.boundingBox.map(M).join(" ")+"]"}),be.push({key:"XStep",value:M(A.xStep)}),be.push({key:"YStep",value:M(A.yStep)}),be.push({key:"Resources",value:ae+" 0 R"}),A.matrix&&be.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),ks({data:A.stream,additionalKeyValues:be,objectId:A.objectNumber}),le("endobj")},Zf=function(A){for(var H in A.objectNumber=On(),le("<<"),A)switch(H){case"opacity":le("/ca "+P(A[H]));break;case"stroke-opacity":le("/CA "+P(A[H]))}le(">>"),le("endobj")},Tu=function(A){qi(A.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var H in le("/Font <<"),mt)mt.hasOwnProperty(H)&&(g===!1||g===!0&&m.hasOwnProperty(H))&&le("/"+H+" "+mt[H].objectNumber+" 0 R");le(">>")}(),function(){if(Object.keys(_t).length>0){for(var H in le("/Shading <<"),_t)_t.hasOwnProperty(H)&&_t[H]instanceof hh&&_t[H].objectNumber>=0&&le("/"+H+" "+_t[H].objectNumber+" 0 R");un.publish("putShadingPatternDict"),le(">>")}}(),function(H){if(Object.keys(_t).length>0){for(var ae in le("/Pattern <<"),_t)_t.hasOwnProperty(ae)&&_t[ae]instanceof p.TilingPattern&&_t[ae].objectNumber>=0&&_t[ae].objectNumber<H&&le("/"+ae+" "+_t[ae].objectNumber+" 0 R");un.publish("putTilingPatternDict"),le(">>")}}(A.objectOid),function(){if(Object.keys(Ot).length>0){var H;for(H in le("/ExtGState <<"),Ot)Ot.hasOwnProperty(H)&&Ot[H].objectNumber>=0&&le("/"+H+" "+Ot[H].objectNumber+" 0 R");un.publish("putGStateDict"),le(">>")}}(),function(){for(var H in le("/XObject <<"),lr)lr.hasOwnProperty(H)&&lr[H].objectNumber>=0&&le("/"+H+" "+lr[H].objectNumber+" 0 R");un.publish("putXobjectDict"),le(">>")}(),le(">>"),le("endobj")},pc=function(A){Dt[A.fontName]=Dt[A.fontName]||{},Dt[A.fontName][A.fontStyle]=A.id},Bo=function(A,H,ae,ge,be){var De={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:A,fontName:H,fontStyle:ae,encoding:ge,isStandardFont:be||!1,metadata:{}};return un.publish("addFont",{font:De,instance:this}),mt[De.id]=De,pc(De),De.id},Br=p.__private__.pdfEscape=p.pdfEscape=function(A,H){return function(ae,ge){var be,De,Ie,nt,Qe,yt,it,Qt,rn;if(Ie=(ge=ge||{}).sourceEncoding||"Unicode",Qe=ge.outputEncoding,(ge.autoencode||Qe)&&mt[ot].metadata&&mt[ot].metadata[Ie]&&mt[ot].metadata[Ie].encoding&&(nt=mt[ot].metadata[Ie].encoding,!Qe&&mt[ot].encoding&&(Qe=mt[ot].encoding),!Qe&&nt.codePages&&(Qe=nt.codePages[0]),typeof Qe=="string"&&(Qe=nt[Qe]),Qe)){for(it=!1,yt=[],be=0,De=ae.length;be<De;be++)(Qt=Qe[ae.charCodeAt(be)])?yt.push(String.fromCharCode(Qt)):yt.push(ae[be]),yt[be].charCodeAt(0)>>8&&(it=!0);ae=yt.join("")}for(be=ae.length;it===void 0&&be!==0;)ae.charCodeAt(be-1)>>8&&(it=!0),be--;if(!it)return ae;for(yt=ge.noBOM?[]:[254,255],be=0,De=ae.length;be<De;be++){if((rn=(Qt=ae.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yt.push(rn),yt.push(Qt-(rn<<8))}return String.fromCharCode.apply(void 0,yt)}(A,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xl=p.__private__.beginPage=function(A){Te[++Cn]=[],Pt[Cn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},no(Cn),je(Te[K])},ed=function(A,H){var ae,ge,be;switch(n=H||n,typeof A=="string"&&(ae=N(A.toLowerCase()),Array.isArray(ae)&&(ge=ae[0],be=ae[1])),Array.isArray(A)&&(ge=A[0]*wt,be=A[1]*wt),isNaN(ge)&&(ge=r[0],be=r[1]),(ge>14400||be>14400)&&(Fn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),be=Math.min(14400,be)),r=[ge,be],n.substr(0,1)){case"l":be>ge&&(r=[be,ge]);break;case"p":ge>be&&(r=[be,ge])}xl(r),id(Nl),le(Ho),kr!==0&&le(kr+" J"),fs!==0&&le(fs+" j"),un.publish("addPage",{pageNumber:Cn})},vl=function(A){A>0&&A<=Cn&&(Te.splice(A,1),Pt.splice(A,1),Cn--,K>Cn&&(K=Cn),this.setPage(K))},no=function(A){A>0&&A<=Cn&&(K=A)},Ys=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Te.length-1},Sn=function(A,H,ae){var ge,be=void 0;return ae=ae||{},A=A!==void 0?A:mt[ot].fontName,H=H!==void 0?H:mt[ot].fontStyle,ge=A.toLowerCase(),Dt[ge]!==void 0&&Dt[ge][H]!==void 0?be=Dt[ge][H]:Dt[A]!==void 0&&Dt[A][H]!==void 0?be=Dt[A][H]:ae.disableWarning===!1&&Fn.warn("Unable to look up font label for font '"+A+"', '"+H+"'. Refer to getFontList() for available fonts."),be||ae.noFallback||(be=Dt.times[H])==null&&(be=Dt.times.normal),be},hn=p.__private__.putInfo=function(){var A=On(),H=function(ge){return ge};for(var ae in h!==null&&(H=ni.encryptor(A,0)),le("<<"),le("/Producer ("+Br(H("jsPDF "+vt.version))+")"),ft)ft.hasOwnProperty(ae)&&ft[ae]&&le("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+Br(H(ft[ae]))+")");le("/CreationDate ("+Br(H(ee))+")"),le(">>"),le("endobj")},va=p.__private__.putCatalog=function(A){var H=(A=A||{}).rootDictionaryObjId||Io;switch(On(),le("<<"),le("/Type /Catalog"),le("/Pages "+H+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+Ye;ae.substr(ae.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&le("/OpenAction [3 0 R /XYZ null null "+P(Ye)+"]")}switch(Ge||(Ge="continuous"),Ge){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Ee&&le("/PageMode /"+Ee),un.publish("putCatalog"),le(">>"),le("endobj")},Yt=p.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(de+1)),le("/Root "+de+" 0 R"),le("/Info "+(de-1)+" 0 R"),h!==null&&le("/Encrypt "+ni.oid+" 0 R"),le("/ID [ <"+ce+"> <"+ce+"> ]"),le(">>")},Wi=p.__private__.putHeader=function(){le("%PDF-"+x),le("%")},ba=p.__private__.putXRef=function(){var A="0000000000";le("xref"),le("0 "+(de+1)),le("0000000000 65535 f ");for(var H=1;H<=de;H++)typeof X[H]=="function"?le((A+X[H]()).slice(-10)+" 00000 n "):X[H]!==void 0?le((A+X[H]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},zr=p.__private__.buildDocument=function(){var A;de=0,me=0,fe=[],X=[],Ce=[],Io=Vi(),Ws=Vi(),je(fe),un.publish("buildDocument"),Wi(),xa(),function(){un.publish("putAdditionalObjects");for(var ae=0;ae<Ce.length;ae++){var ge=Ce[ae];qi(ge.objId,!0),le(ge.content),le("endobj")}un.publish("postPutAdditionalObjects")}(),A=[],function(){for(var ae in mt)mt.hasOwnProperty(ae)&&(g===!1||g===!0&&m.hasOwnProperty(ae))&&yl(mt[ae])}(),function(){var ae;for(ae in Ot)Ot.hasOwnProperty(ae)&&Zf(Ot[ae])}(),function(){for(var ae in lr)lr.hasOwnProperty(ae)&&hc(lr[ae])}(),function(ae){var ge;for(ge in _t)_t.hasOwnProperty(ge)&&(_t[ge]instanceof hh?dc(_t[ge]):_t[ge]instanceof sf&&fc(_t[ge],ae))}(A),un.publish("putResources"),A.forEach(Tu),Tu({resourcesOid:Ws,objectOid:Number.MAX_SAFE_INTEGER}),un.publish("postPutResources"),h!==null&&(ni.oid=On(),le("<<"),le("/Filter /Standard"),le("/V "+ni.v),le("/R "+ni.r),le("/U <"+ni.toHexString(ni.U)+">"),le("/O <"+ni.toHexString(ni.O)+">"),le("/P "+ni.P),le(">>"),le("endobj")),hn(),va();var H=me;return ba(),Yt(),le("startxref"),le(""+H),le("%%EOF"),je(Te[K]),fe.join(`
`)},yi=p.__private__.getBlob=function(A){return new Blob([bt(A)],{type:"application/pdf"})},Ur=p.output=p.__private__.output=(hs=function(A,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",A){case void 0:return zr();case"save":p.save(H.filename);break;case"arraybuffer":return bt(zr());case"blob":return yi(zr());case"bloburi":case"bloburl":if(Tt.URL!==void 0&&typeof Tt.URL.createObjectURL=="function")return Tt.URL&&Tt.URL.createObjectURL(yi(zr()))||void 0;Fn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",ge=zr();try{ae=VN(ge)}catch{ae=VN(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+H.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(be=H.pdfObjectUrl,De="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",nt=Tt.open();return nt!==null&&nt.document.write(Ie),nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tt)==="[object Window]"){var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',yt=Tt.open();if(yt!==null){yt.document.write(Qe);var it=this;yt.document.documentElement.querySelector("#pdfViewer").onload=function(){yt.document.title=H.filename,yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(it.output("bloburl"))}}return yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',rn=Tt.open();if(rn!==null&&(rn.document.write(Qt),rn.document.title=H.filename),rn||typeof safari>"u")return rn;break;case"datauri":case"dataurl":return Tt.document.location.href=this.output("datauristring",H);default:return null}},hs.foo=function(){try{return hs.apply(this,arguments)}catch(ae){var A=ae.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var H="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ae.message;if(!Tt.console)throw new Error(H);Tt.console.error(H,ae),Tt.alert&&alert(H)}},hs.foo.bar=hs,hs.foo),zo=function(A){return Array.isArray(Oo)===!0&&Oo.indexOf(A)>-1};switch(i){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=zo("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);wt=i}var ni=null;Y(),Z();var Uo=p.__private__.getPageInfo=p.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pt[A].objId,pageNumber:A,pageContext:Pt[A]}},td=p.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in Pt)if(Pt[H].objId===A)break;return Uo(H)},ds=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Pt[K].objId,pageNumber:K,pageContext:Pt[K]}};p.addPage=function(){return ed.apply(this,arguments),this},p.setPage=function(){return no.apply(this,arguments),je.call(this,Te[K]),this},p.insertPage=function(A){return this.addPage(),this.movePage(K,A),this},p.movePage=function(A,H){var ae,ge;if(A>H){ae=Te[A],ge=Pt[A];for(var be=A;be>H;be--)Te[be]=Te[be-1],Pt[be]=Pt[be-1];Te[H]=ae,Pt[H]=ge,this.setPage(H)}else if(A<H){ae=Te[A],ge=Pt[A];for(var De=A;De<H;De++)Te[De]=Te[De+1],Pt[De]=Pt[De+1];Te[H]=ae,Pt[H]=ge,this.setPage(H)}return this},p.deletePage=function(){return vl.apply(this,arguments),this},p.__private__.text=p.text=function(A,H,ae,ge,be){var De,Ie,nt,Qe,yt,it,Qt,rn,ui,vn=(ge=ge||{}).scope||this;if(typeof A=="number"&&typeof H=="number"&&(typeof ae=="string"||Array.isArray(ae))){var hi=ae;ae=H,H=A,A=hi}if(arguments[3]instanceof St==0?(nt=arguments[4],Qe=arguments[5],Pn(Qt=arguments[3])==="object"&&Qt!==null||(typeof nt=="string"&&(Qe=nt,nt=null),typeof Qt=="string"&&(Qe=Qt,Qt=null),typeof Qt=="number"&&(nt=Qt,Qt=null),ge={flags:Qt,angle:nt,align:Qe})):(I("The transform parameter of text() with a Matrix value"),ui=be),isNaN(H)||isNaN(ae)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return vn;var ii,Hi="",js=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Sl,ao=vn.internal.scaleFactor;function Go(kt){return kt=kt.split("	").join(Array(ge.TabLen||9).join(" ")),Br(kt,Qt)}function vc(kt){for(var bn,Hn=kt.concat(),$n=[],Ts=Hn.length;Ts--;)typeof(bn=Hn.shift())=="string"?$n.push(bn):Array.isArray(kt)&&(bn.length===1||bn[1]===void 0&&bn[2]===void 0)?$n.push(bn[0]):$n.push([bn[0],bn[1],bn[2]]);return $n}function kl(kt,bn){var Hn;if(typeof kt=="string")Hn=bn(kt)[0];else if(Array.isArray(kt)){for(var $n,Ts,Ko=kt.concat(),pr=[],jn=Ko.length;jn--;)typeof($n=Ko.shift())=="string"?pr.push(bn($n)[0]):Array.isArray($n)&&typeof $n[0]=="string"&&(Ts=bn($n[0],$n[1],$n[2]),pr.push([Ts[0],Ts[1],Ts[2]]));Hn=pr}return Hn}var Hr=!1,Fu=!0;if(typeof A=="string")Hr=!0;else if(Array.isArray(A)){var Ca=A.concat();Ie=[];for(var Js,Li=Ca.length;Li--;)(typeof(Js=Ca.shift())!="string"||Array.isArray(Js)&&typeof Js[0]!="string")&&(Fu=!1);Hr=Fu}if(Hr===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var ja=Ve/vn.internal.scaleFactor,$r=ja*(js-1);switch(ge.baseline){case"bottom":ae-=$r;break;case"top":ae+=ja-$r;break;case"hanging":ae+=ja-2*$r;break;case"middle":ae+=ja/2-$r}if((it=ge.maxWidth||0)>0&&(typeof A=="string"?A=vn.splitTextToSize(A,it):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(kt,bn){return kt.concat(vn.splitTextToSize(bn,it))},[]))),De={text:A,x:H,y:ae,options:ge,mutex:{pdfEscape:Br,activeFontKey:ot,fonts:mt,activeFontSize:Ve}},un.publish("preProcessText",De),A=De.text,nt=(ge=De.options).angle,ui instanceof St==0&&nt&&typeof nt=="number"){nt*=Math.PI/180,ge.rotationDirection===0&&(nt=-nt),k===w&&(nt=-nt);var Cl=Math.cos(nt),qo=Math.sin(nt);ui=new St(Cl,qo,-qo,Cl,0,0)}else nt&&nt instanceof St&&(ui=nt);k!==w||ui||(ui=to),(yt=ge.charSpace||mc)!==void 0&&(Hi+=M($(yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rn=ge.horizontalScale)!==void 0&&(Hi+=M(100*rn)+` Tz
`),ge.lang;var $i=-1,oo=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Wo=vn.internal.getCurrentPageInfo().pageContext;switch(oo){case 0:case!1:case"fill":$i=0;break;case 1:case!0:case"stroke":$i=1;break;case 2:case"fillThenStroke":$i=2;break;case 3:case"invisible":$i=3;break;case 4:case"fillAndAddForClipping":$i=4;break;case 5:case"strokeAndAddPathForClipping":$i=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$i=6;break;case 7:case"addToPathForClipping":$i=7}var bc=Wo.usedRenderingMode!==void 0?Wo.usedRenderingMode:-1;$i!==-1?Hi+=$i+` Tr
`:bc!==-1&&(Hi+=`0 Tr
`),$i!==-1&&(Wo.usedRenderingMode=$i),Qe=ge.align||"left";var xi,Gr=Ve*js,jl=vn.internal.pageSize.getWidth(),Aa=mt[ot];yt=ge.charSpace||mc,it=ge.maxWidth||0,Qt=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Ti=[],As=function(kt){return vn.getStringUnitWidth(kt,{font:Aa,charSpace:yt,fontSize:Ve,doKerning:!1})*Ve/ao};if(Object.prototype.toString.call(A)==="[object Array]"){var ur;Ie=vc(A),Qe!=="left"&&(xi=Ie.map(As));var Cr,hr=0;if(Qe==="right"){H-=xi[0],A=[],Li=Ie.length;for(var Ki=0;Ki<Li;Ki++)Ki===0?(Cr=ro(H),ur=Tn(ae)):(Cr=$(hr-xi[Ki]),ur=-Gr),A.push([Ie[Ki],Cr,ur]),hr=xi[Ki]}else if(Qe==="center"){H-=xi[0]/2,A=[],Li=Ie.length;for(var Pa=0;Pa<Li;Pa++)Pa===0?(Cr=ro(H),ur=Tn(ae)):(Cr=$((hr-xi[Pa])/2),ur=-Gr),A.push([Ie[Pa],Cr,ur]),hr=xi[Pa]}else if(Qe==="left"){A=[],Li=Ie.length;for(var wc=0;wc<Li;wc++)A.push(Ie[wc])}else if(Qe==="justify"&&Aa.encoding==="Identity-H"){A=[],Li=Ie.length,it=it!==0?it:jl;for(var dr=0,Nn=0;Nn<Li;Nn++)if(ur=Nn===0?Tn(ae):-Gr,Cr=Nn===0?ro(H):dr,Nn<Li-1){var _c=$((it-xi[Nn])/(Ie[Nn].split(" ").length-1)),Zs=Ie[Nn].split(" ");A.push([Zs[0]+" ",Cr,ur]),dr=0;for(var ps=1;ps<Zs.length;ps++){var Al=(As(Zs[ps-1]+" "+Zs[ps])-As(Zs[ps]))*ao+_c;ps==Zs.length-1?A.push([Zs[ps],Al,0]):A.push([Zs[ps]+" ",Al,0]),dr-=Al}}else A.push([Ie[Nn],Cr,ur]);A.push(["",dr,0])}else{if(Qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Li=Ie.length,it=it!==0?it:jl,Nn=0;Nn<Li;Nn++)ur=Nn===0?Tn(ae):-Gr,Cr=Nn===0?ro(H):0,Nn<Li-1?Ti.push(M($((it-xi[Nn])/(Ie[Nn].split(" ").length-1)))):Ti.push(0),A.push([Ie[Nn],Cr,ur])}}(typeof ge.R2L=="boolean"?ge.R2L:Et)===!0&&(A=kl(A,function(kt,bn,Hn){return[kt.split("").reverse().join(""),bn,Hn]})),De={text:A,x:H,y:ae,options:ge,mutex:{pdfEscape:Br,activeFontKey:ot,fonts:mt,activeFontSize:Ve}},un.publish("postProcessText",De),A=De.text,ii=De.mutex.isHex||!1;var lo=mt[ot].encoding;lo!=="WinAnsiEncoding"&&lo!=="StandardEncoding"||(A=kl(A,function(kt,bn,Hn){return[Go(kt),bn,Hn]})),Ie=vc(A),A=[];for(var Xi,La,Ps,fr=Array.isArray(Ie[0])?1:0,ea="",Ta=function(kt,bn,Hn){var $n="";return Hn instanceof St?(Hn=typeof ge.angle=="number"?eo(Hn,new St(1,0,0,1,kt,bn)):eo(new St(1,0,0,1,kt,bn),Hn),k===w&&(Hn=eo(new St(1,0,0,-1,0,0),Hn)),$n=Hn.join(" ")+` Tm
`):$n=M(kt)+" "+M(bn)+` Td
`,$n},qr=0;qr<Ie.length;qr++){switch(ea="",fr){case 1:Ps=(ii?"<":"(")+Ie[qr][0]+(ii?">":")"),Xi=parseFloat(Ie[qr][1]),La=parseFloat(Ie[qr][2]);break;case 0:Ps=(ii?"<":"(")+Ie[qr]+(ii?">":")"),Xi=ro(H),La=Tn(ae)}Ti!==void 0&&Ti[qr]!==void 0&&(ea=Ti[qr]+` Tw
`),qr===0?A.push(ea+Ta(Xi,La,ui)+Ps):fr===0?A.push(ea+Ps):fr===1&&A.push(ea+Ta(Xi,La,ui)+Ps)}A=fr===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Ls=`BT
/`;return Ls+=ot+" "+Ve+` Tf
`,Ls+=M(Ve*js)+` TL
`,Ls+=Sa+`
`,Ls+=Hi,Ls+=A,le(Ls+="ET"),m[ot]=!0,vn};var e0=p.__private__.clip=p.clip=function(A){return le(A==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return e0("evenodd")},p.__private__.discardPath=p.discardPath=function(){return le("n"),this};var wa=p.__private__.isValidStyle=function(A){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(H=!0),H};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(A){return wa(A)&&(c=A),this};var nd=p.__private__.getStyle=p.getStyle=function(A){var H=c;switch(A){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=A}return H},bl=p.close=function(){return le("h"),this};p.stroke=function(){return le("S"),this},p.fill=function(A){return Qs("f",A),this},p.fillEvenOdd=function(A){return Qs("f*",A),this},p.fillStroke=function(A){return Qs("B",A),this},p.fillStrokeEvenOdd=function(A){return Qs("B*",A),this};var Qs=function(A,H){Pn(H)==="object"?t0(H,A):le(A)},io=function(A){A===null||k===w&&A===void 0||(A=nd(A),le(A))};function gc(A,H,ae,ge,be){var De=new sf(H||this.boundingBox,ae||this.xStep,ge||this.yStep,this.gState,be||this.matrix);De.stream=this.stream;var Ie=A+"$$"+this.cloneIndex+++"$$";return Ns(Ie,De),De}var t0=function(A,H){var ae=Xt[A.key],ge=_t[ae];if(ge instanceof hh)le("q"),le(n0(H)),ge.gState&&p.setGState(ge.gState),le(A.matrix.toString()+" cm"),le("/"+ae+" sh"),le("Q");else if(ge instanceof sf){var be=new St(1,0,0,-1,0,cr());A.matrix&&(be=be.multiply(A.matrix||to),ae=gc.call(ge,A.key,A.boundingBox,A.xStep,A.yStep,be).id),le("q"),le("/Pattern cs"),le("/"+ae+" scn"),ge.gState&&p.setGState(ge.gState),le(H),le("Q")}},n0=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},wl=p.moveTo=function(A,H){return le(M($(A))+" "+M(G(H))+" m"),this},Vo=p.lineTo=function(A,H){return le(M($(A))+" "+M(G(H))+" l"),this},_a=p.curveTo=function(A,H,ae,ge,be,De){return le([M($(A)),M(G(H)),M($(ae)),M(G(ge)),M($(be)),M(G(De)),"c"].join(" ")),this};p.__private__.line=p.line=function(A,H,ae,ge,be){if(isNaN(A)||isNaN(H)||isNaN(ae)||isNaN(ge)||!wa(be))throw new Error("Invalid arguments passed to jsPDF.line");return k===j?this.lines([[ae-A,ge-H]],A,H,[1,1],be||"S"):this.lines([[ae-A,ge-H]],A,H,[1,1]).stroke()},p.__private__.lines=p.lines=function(A,H,ae,ge,be,De){var Ie,nt,Qe,yt,it,Qt,rn,ui,vn,hi,ii,Hi;if(typeof A=="number"&&(Hi=ae,ae=H,H=A,A=Hi),ge=ge||[1,1],De=De||!1,isNaN(H)||isNaN(ae)||!Array.isArray(A)||!Array.isArray(ge)||!wa(be)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wl(H,ae),Ie=ge[0],nt=ge[1],yt=A.length,hi=H,ii=ae,Qe=0;Qe<yt;Qe++)(it=A[Qe]).length===2?(hi=it[0]*Ie+hi,ii=it[1]*nt+ii,Vo(hi,ii)):(Qt=it[0]*Ie+hi,rn=it[1]*nt+ii,ui=it[2]*Ie+hi,vn=it[3]*nt+ii,hi=it[4]*Ie+hi,ii=it[5]*nt+ii,_a(Qt,rn,ui,vn,hi,ii));return De&&bl(),io(be),this},p.path=function(A){for(var H=0;H<A.length;H++){var ae=A[H],ge=ae.c;switch(ae.op){case"m":wl(ge[0],ge[1]);break;case"l":Vo(ge[0],ge[1]);break;case"c":_a.apply(this,ge);break;case"h":bl()}}return this},p.__private__.rect=p.rect=function(A,H,ae,ge,be){if(isNaN(A)||isNaN(H)||isNaN(ae)||isNaN(ge)||!wa(be))throw new Error("Invalid arguments passed to jsPDF.rect");return k===j&&(ge=-ge),le([M($(A)),M(G(H)),M($(ae)),M($(ge)),"re"].join(" ")),io(be),this},p.__private__.triangle=p.triangle=function(A,H,ae,ge,be,De,Ie){if(isNaN(A)||isNaN(H)||isNaN(ae)||isNaN(ge)||isNaN(be)||isNaN(De)||!wa(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-A,ge-H],[be-ae,De-ge],[A-be,H-De]],A,H,[1,1],Ie,!0),this},p.__private__.roundedRect=p.roundedRect=function(A,H,ae,ge,be,De,Ie){if(isNaN(A)||isNaN(H)||isNaN(ae)||isNaN(ge)||isNaN(be)||isNaN(De)||!wa(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nt=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*ae),De=Math.min(De,.5*ge),this.lines([[ae-2*be,0],[be*nt,0,be,De-De*nt,be,De],[0,ge-2*De],[0,De*nt,-be*nt,De,-be,De],[2*be-ae,0],[-be*nt,0,-be,-De*nt,-be,-De],[0,2*De-ge],[0,-De*nt,be*nt,-De,be,-De]],A+be,H,[1,1],Ie,!0),this},p.__private__.ellipse=p.ellipse=function(A,H,ae,ge,be){if(isNaN(A)||isNaN(H)||isNaN(ae)||isNaN(ge)||!wa(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*ae,Ie=4/3*(Math.SQRT2-1)*ge;return wl(A+ae,H),_a(A+ae,H-Ie,A+De,H-ge,A,H-ge),_a(A-De,H-ge,A-ae,H-Ie,A-ae,H),_a(A-ae,H+Ie,A-De,H+ge,A,H+ge),_a(A+De,H+ge,A+ae,H+Ie,A+ae,H),io(be),this},p.__private__.circle=p.circle=function(A,H,ae,ge){if(isNaN(A)||isNaN(H)||isNaN(ae)||!wa(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,H,ae,ae,ge)},p.setFont=function(A,H,ae){return ae&&(H=U(H,ae)),ot=Sn(A,H,{disableWarning:!1}),this};var _l=p.__private__.getFont=p.getFont=function(){return mt[Sn.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var A,H,ae={};for(A in Dt)if(Dt.hasOwnProperty(A))for(H in ae[A]=[],Dt[A])Dt[A].hasOwnProperty(H)&&ae[A].push(H);return ae},p.addFont=function(A,H,ae,ge,be){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(ae=U(ae,ge)),Bo.call(this,A,H,ae,be=be||"Identity-H")};var Sl,Nl=t.lineWidth||.200025,Xe=p.__private__.getLineWidth=p.getLineWidth=function(){return Nl},id=p.__private__.setLineWidth=p.setLineWidth=function(A){return Nl=A,le(M($(A))+" w"),this};p.__private__.setLineDash=vt.API.setLineDash=vt.API.setLineDashPattern=function(A,H){if(A=A||[],H=H||0,isNaN(H)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ae){return M($(ae))}).join(" "),H=M($(H)),le("["+A+"] "+H+" d"),this};var Eu=p.__private__.getLineHeight=p.getLineHeight=function(){return Ve*Sl};p.__private__.getLineHeight=p.getLineHeight=function(){return Ve*Sl};var rd=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Sl=A),this},i0=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Sl};rd(t.lineHeight);var ro=p.__private__.getHorizontalCoordinate=function(A){return $(A)},Tn=p.__private__.getVerticalCoordinate=function(A){return k===w?A:Pt[K].mediaBox.topRightY-Pt[K].mediaBox.bottomLeftY-$(A)},Mu=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(A){return M(ro(A))},r0=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(A){return M(Tn(A))},Ho=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ya(Ho)},p.__private__.setStrokeColor=p.setDrawColor=function(A,H,ae,ge){return Ho=Ks({ch1:A,ch2:H,ch3:ae,ch4:ge,pdfColorType:"draw",precision:2}),le(Ho),this};var Ru=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ya(Ru)},p.__private__.setFillColor=p.setFillColor=function(A,H,ae,ge){return Ru=Ks({ch1:A,ch2:H,ch3:ae,ch4:ge,pdfColorType:"fill",precision:2}),le(Ru),this};var Sa=t.textColor||"0 g",Nr=p.__private__.getTextColor=p.getTextColor=function(){return ya(Sa)};p.__private__.setTextColor=p.setTextColor=function(A,H,ae,ge){return Sa=Ks({ch1:A,ch2:H,ch3:ae,ch4:ge,pdfColorType:"text",precision:3}),this};var mc=t.charSpace,s0=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(mc||0)};p.__private__.setCharSpace=p.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return mc=A,this};var kr=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(A){var H=p.CapJoinStyles[A];if(H===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kr=H,le(H+" J"),this};var fs=0;p.__private__.setLineJoin=p.setLineJoin=function(A){var H=p.CapJoinStyles[A];if(H===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fs=H,le(H+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(M($(A))+" M"),this},p.GState=R2,p.setGState=function(A){(A=typeof A=="string"?Ot[li[A]]:Na(null,A)).equals(Pi)||(le("/"+A.id+" gs"),Pi=A)};var Na=function(A,H){if(!A||!li[A]){var ae=!1;for(var ge in Ot)if(Ot.hasOwnProperty(ge)&&Ot[ge].equals(H)){ae=!0;break}if(ae)H=Ot[ge];else{var be="GS"+(Object.keys(Ot).length+1).toString(10);Ot[be]=H,H.id=be}return A&&(li[A]=H.id),un.publish("addGState",H),H}};p.addGState=function(A,H){return Na(A,H),this},p.saveGraphicsState=function(){return le("q"),kn.push({key:ot,size:Ve,color:Sa}),this},p.restoreGraphicsState=function(){le("Q");var A=kn.pop();return ot=A.key,Ve=A.size,Sa=A.color,Pi=null,this},p.setCurrentTransformationMatrix=function(A){return le(A.toString()+" cm"),this},p.comment=function(A){return le("#"+A),this};var so=function(A,H){var ae=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(De){isNaN(De)||(ae=parseFloat(De))}});var ge=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(De){isNaN(De)||(ge=parseFloat(De))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(De){be=De.toString()}}),this},yc=function(A,H,ae,ge){so.call(this,A,H),this.type="rect";var be=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(Ie){isNaN(Ie)||(be=parseFloat(Ie))}});var De=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function(Ie){isNaN(Ie)||(De=parseFloat(Ie))}}),this},xc=function(){this.page=Cn,this.currentPage=K,this.pages=Te.slice(0),this.pagesContext=Pt.slice(0),this.x=tt,this.y=on,this.matrix=nn,this.width=ka(K),this.height=cr(K),this.outputDestination=ze,this.id="",this.objectNumber=-1};xc.prototype.restore=function(){Cn=this.page,K=this.currentPage,Pt=this.pagesContext,Te=this.pages,tt=this.x,on=this.y,nn=this.matrix,$o(K,this.width),ci(K,this.height),ze=this.outputDestination};var Vr=function(A,H,ae,ge,be){qs.push(new xc),Cn=K=0,Te=[],tt=A,on=H,nn=be,xl([ae,ge])};for(var Cs in p.beginFormObject=function(A,H,ae,ge,be){return Vr(A,H,ae,ge,be),this},p.endFormObject=function(A){return function(H){if(Gs[H])qs.pop().restore();else{var ae=new xc,ge="Xo"+(Object.keys(lr).length+1).toString(10);ae.id=ge,Gs[H]=ge,lr[ge]=ae,un.publish("addFormObject",ae),qs.pop().restore()}}(A),this},p.doFormObject=function(A,H){var ae=lr[Gs[A]];return le("q"),le(H.toString()+" cm"),le("/"+ae.id+" Do"),le("Q"),this},p.getFormObject=function(A){var H=lr[Gs[A]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},p.save=function(A,H){return A=A||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(uh(yi(zr()),A),typeof uh.unload=="function"&&Tt.setTimeout&&setTimeout(uh.unload,911),this):new Promise(function(ae,ge){try{var be=uh(yi(zr()),A);typeof uh.unload=="function"&&Tt.setTimeout&&setTimeout(uh.unload,911),ae(be)}catch(De){ge(De.message)}})},vt.API)vt.API.hasOwnProperty(Cs)&&(Cs==="events"&&vt.API.events.length?function(A,H){var ae,ge,be;for(be=H.length-1;be!==-1;be--)ae=H[be][0],ge=H[be][1],A.subscribe.apply(A,[ae].concat(typeof ge=="function"?[ge]:ge))}(un,vt.API.events):p[Cs]=vt.API[Cs]);var ka=p.getPageWidth=function(A){return(Pt[A=A||K].mediaBox.topRightX-Pt[A].mediaBox.bottomLeftX)/wt},$o=p.setPageWidth=function(A,H){Pt[A].mediaBox.topRightX=H*wt+Pt[A].mediaBox.bottomLeftX},cr=p.getPageHeight=function(A){return(Pt[A=A||K].mediaBox.topRightY-Pt[A].mediaBox.bottomLeftY)/wt},ci=p.setPageHeight=function(A,H){Pt[A].mediaBox.topRightY=H*wt+Pt[A].mediaBox.bottomLeftY};return p.internal={pdfEscape:Br,getStyle:nd,getFont:_l,getFontSize:Ke,getCharSpace:s0,getTextColor:Nr,getLineHeight:Eu,getLineHeightFactor:i0,getLineWidth:Xe,write:At,getHorizontalCoordinate:ro,getVerticalCoordinate:Tn,getCoordinateString:Mu,getVerticalCoordinateString:r0,collections:{},newObject:On,newAdditionalObject:ma,newObjectDeferred:Vi,newObjectDeferredBegin:qi,getFilters:Xs,putStream:ks,events:un,scaleFactor:wt,pageSize:{getWidth:function(){return ka(K)},setWidth:function(A){$o(K,A)},getHeight:function(){return cr(K)},setHeight:function(A){ci(K,A)}},encryptionOptions:h,encryption:ni,getEncryptor:function(A){return h!==null?ni.encryptor(A,0):function(H){return H}},output:Ur,getNumberOfPages:Ys,pages:Te,out:le,f2:P,f3:R,getPageInfo:Uo,getPageInfoByObjId:td,getCurrentPageInfo:ds,getPDFVersion:b,Point:so,Rectangle:yc,Matrix:St,hasHotfix:zo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ka(K)},set:function(A){$o(K,A)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return cr(K)},set:function(A){ci(K,A)},enumerable:!0,configurable:!0}),(function(A){for(var H=0,ae=ht.length;H<ae;H++){var ge=Bo.call(this,A[H][0],A[H][1],A[H][2],ht[H][3],!0);g===!1&&(m[ge]=!0);var be=A[H][0].split("-");pc({id:ge,fontName:be[0],fontStyle:be[1]||""})}un.publish("addFonts",{fonts:mt,dictionary:Dt})}).call(p,ht),ot="F1",ed(r,n),un.publish("initialized"),p}Od.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Od.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Od.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Od.prototype.processOwnerPassword=function(t,e){return lb(ob(e).substr(0,5),t)},Od.prototype.encryptor=function(t,e){var n=ob(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return lb(n,i)}},R2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Pn(t)!==Pn(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},vt.API={events:[]},vt.version="3.0.2";var Si=vt.API,Pw=1,Zh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Md=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bt=function(t){return t.toFixed(2)},Oc=function(t){return t.toFixed(5)};Si.__acroform__={};var $s=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},qN=function(t){return t*Pw},nl=function(t){var e=new gT,n=ut.internal.getHeight(t)||0,i=ut.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Bt(i)),Number(Bt(n))],e},_te=Si.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Ste=Si.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Nte=Si.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Oi=Si.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Nte(t,e-1)},Ii=Si.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _te(t,e-1)},Bi=Si.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ste(t,e-1)},kte=Si.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(r)||0,l.lowerLeft_Y=i(s+o)||0,l.upperRight_X=n(r+a)||0,l.upperRight_Y=i(s)||0,[Number(Bt(l.lowerLeft_X)),Number(Bt(l.lowerLeft_Y)),Number(Bt(l.upperRight_X)),Number(Bt(l.upperRight_Y))]},Cte=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=cb(t,n),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+Bt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=nl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},cb=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(P){return P.split(`
`)}):r.map(function(P){return[P]});var s=n,a=ut.internal.getHeight(t)||0;a=a<0?-a:a;var o=ut.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(P,R,$){if(P+1<r.length){var G=R+" "+r[P+1][0];return Ym(G,t,$).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,h,g=Ym("3",t,s).height,m=t.multiline?a-s:(a-g)/2,p=m+=2,x=0,b=0,S=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ym(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var N="",j=0,w=0;w<r.length;w++)if(r.hasOwnProperty(w)){var k=!1;if(r[w].length!==1&&S!==r[w].length-1){if((g+2)*(j+2)+2>a)continue e;N+=r[w][S],k=!0,b=w,w--}else{N=(N+=r[w][S]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var E=parseInt(w),O=l(E,N,s),U=w>=r.length-1;if(O&&!U){N+=" ",S=0;continue}if(O||U){if(U)b=E;else if(t.multiline&&(g+2)*(j+2)+2>a)continue e}else{if(!t.multiline||(g+2)*(j+2)+2>a)continue e;b=E}}for(var M="",I=x;I<=b;I++){var F=r[I];if(t.multiline){if(I===b){M+=F[S]+" ",S=(S+1)%F.length;continue}if(I===x){M+=F[F.length-1]+" ";continue}}M+=F[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,h=Ym(M,t,s).width,t.textAlign){case"right":c=o-h-2;break;case"center":c=(o-h)/2;break;default:c=2}e+=Bt(c)+" "+Bt(p)+` Td
`,e+="("+Zh(M)+`) Tj
`,e+=-Bt(c)+` 0 Td
`,p=-(s+2),h=0,x=k?b:b+1,j++,N=""}break}return i.text=e,i.fontSize=s,i},Ym=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},jte={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ate=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Pte=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Fo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(jte)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Pw=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new mT,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&Ate(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(i,r){var s=!i;for(var a in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var o=i[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=kte(o.Rect,r)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ut.createDefaultAppearanceStream(o),Pn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=Cte(o);l.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var g="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var p=o.appearanceStreamContent[m];if(g+="/"+m+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var x=p[a];typeof x=="function"&&(x=x.call(r,o)),g+="/"+a+" "+x+" ",r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x)}}else typeof(x=p)=="function"&&(x=x.call(r,o)),g+="/"+a+" "+x,r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:o.objId}),r.internal.out("endobj")}s&&function(b,S){for(var N in b)if(b.hasOwnProperty(N)){var j=N,w=b[N];S.internal.newObjectDeferredBegin(w.objId,!0),Pn(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete b[j]}}(r.internal.acroformPlugin.xForms,r)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},pT=Si.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(a){return a};if(Array.isArray(t)){for(var r="[",s=0;s<t.length;s++)switch(s!==0&&(r+=" "),Pn(t[s])){case"boolean":case"number":case"object":r+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),r+="("+Zh(i(t[s].toString()))+")"):r+=t[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},nv=function(t,e,n){var i=function(r){return r};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Zh(i(t))+")"},ll=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ll.prototype.toString=function(){return this.objId+" 0 R"},ll.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ll.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],r=this[i];r&&(Array.isArray(r)?t.push({key:i,value:pT(r,this.objId,this.scope)}):r instanceof ll?(r.scope=this.scope,t.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:i,value:r}))}return t};var gT=function(){ll.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};$s(gT,ll);var mT=function(){ll.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Zh(n(t))+")"}},set:function(n){t=n}})};$s(mT,ll);var Fo=function t(){ll.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Oi(e,3)},set:function(N){N?this.F=Ii(e,3):this.F=Bi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');n=N}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(N){i=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(N){i[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(N){i[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(N){i[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(N){i[3]=N}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof F2)return;s="FieldObject"+t.FieldNum++}var N=function(j){return j};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Zh(N(s))+")"},set:function(N){s=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(N){s=N}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(N){a=N}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Pw:c},set:function(N){c=N}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(N){h=N}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof F2||this instanceof Ch))return nv(g,this.objId,this.scope)},set:function(N){N=N.toString(),g=N}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof wr==0?nv(m,this.objId,this.scope):m},set:function(N){N=N.toString(),m=this instanceof wr==0?N.substr(0,1)==="("?Md(N.substr(1,N.length-2)):Md(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wr==1?Md(m.substr(1,m.length-1)):m},set:function(N){N=N.toString(),m=this instanceof wr==1?"/"+N:N}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof wr==0?nv(p,this.objId,this.scope):p},set:function(N){N=N.toString(),p=this instanceof wr==0?N.substr(0,1)==="("?Md(N.substr(1,N.length-2)):Md(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wr==1?Md(p.substr(1,p.length-1)):p},set:function(N){N=N.toString(),p=this instanceof wr==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(N){N=!!N,b=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(N){x=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,1)},set:function(N){N?this.Ff=Ii(this.Ff,1):this.Ff=Bi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,2)},set:function(N){N?this.Ff=Ii(this.Ff,2):this.Ff=Bi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,3)},set:function(N){N?this.Ff=Ii(this.Ff,3):this.Ff=Bi(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');S=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(S){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};$s(Fo,ll);var pf=function(){Fo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pT(e,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,18)},set:function(n){n?this.Ff=Ii(this.Ff,18):this.Ff=Bi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ii(this.Ff,19):this.Ff=Bi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,20)},set:function(n){n?(this.Ff=Ii(this.Ff,20),e.sort()):this.Ff=Bi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,22)},set:function(n){n?this.Ff=Ii(this.Ff,22):this.Ff=Bi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,23)},set:function(n){n?this.Ff=Ii(this.Ff,23):this.Ff=Bi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,27)},set:function(n){n?this.Ff=Ii(this.Ff,27):this.Ff=Bi(this.Ff,27)}}),this.hasAppearanceStream=!1};$s(pf,Fo);var gf=function(){pf.call(this),this.fontName="helvetica",this.combo=!1};$s(gf,pf);var mf=function(){gf.call(this),this.combo=!0};$s(mf,gf);var P1=function(){mf.call(this),this.edit=!0};$s(P1,mf);var wr=function(){Fo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,15)},set:function(n){n?this.Ff=Ii(this.Ff,15):this.Ff=Bi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,16)},set:function(n){n?this.Ff=Ii(this.Ff,16):this.Ff=Bi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,17)},set:function(n){n?this.Ff=Ii(this.Ff,17):this.Ff=Bi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,26)},set:function(n){n?this.Ff=Ii(this.Ff,26):this.Ff=Bi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+Zh(n(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){Pn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};$s(wr,Fo);var L1=function(){wr.call(this),this.pushButton=!0};$s(L1,wr);var yf=function(){wr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};$s(yf,wr);var F2=function(){var t,e;Fo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),i)a.push("/"+s+" ("+Zh(r(i[s]))+")");return a.push(">>"),a.join(`
`)},set:function(r){Pn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$s(F2,Fo),yf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},yf.prototype.createOption=function(t){var e=new F2;return e.Parent=this,e.optionName=t,this.Kids.push(e),Lte.call(this.scope,e),e};var T1=function(){wr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ut.CheckBox.createAppearanceStream()};$s(T1,wr);var Ch=function(){Fo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,13)},set:function(e){e?this.Ff=Ii(this.Ff,13):this.Ff=Bi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,21)},set:function(e){e?this.Ff=Ii(this.Ff,21):this.Ff=Bi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,23)},set:function(e){e?this.Ff=Ii(this.Ff,23):this.Ff=Bi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,24)},set:function(e){e?this.Ff=Ii(this.Ff,24):this.Ff=Bi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,25)},set:function(e){e?this.Ff=Ii(this.Ff,25):this.Ff=Bi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,26)},set:function(e){e?this.Ff=Ii(this.Ff,26):this.Ff=Bi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$s(Ch,Fo);var E1=function(){Ch.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,14)},set:function(t){t?this.Ff=Ii(this.Ff,14):this.Ff=Bi(this.Ff,14)}}),this.password=!0};$s(E1,Ch);var ut={CheckBox:{createAppearanceStream:function(){return{N:{On:ut.CheckBox.YesNormal},D:{On:ut.CheckBox.YesPushDown,Off:ut.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=nl(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=cb(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Bt(ut.internal.getWidth(t))+" "+Bt(ut.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Bt(s.fontSize)+" Tf "+r),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=nl(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=[],s=ut.internal.getHeight(t),a=ut.internal.getWidth(t),o=cb(t,t.caption);return r.push("1 g"),r.push("0 0 "+Bt(a)+" "+Bt(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Bt(a-1)+" "+Bt(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+Bt(o.fontSize)+" Tf "+i),r.push(o.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=nl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Bt(ut.internal.getWidth(t))+" "+Bt(ut.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ut.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ut.RadioButton.Circle.YesNormal,e.D[t]=ut.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=nl(t);e.scope=t.scope;var n=[],i=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=ut.internal.Bezier_C,s=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Oc(ut.internal.getWidth(t)/2)+" "+Oc(ut.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=nl(t);e.scope=t.scope;var n=[],i=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ut.internal.Bezier_C).toFixed(5)),a=Number((i*ut.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Oc(ut.internal.getWidth(t)/2)+" "+Oc(ut.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Oc(ut.internal.getWidth(t)/2)+" "+Oc(ut.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=nl(t);e.scope=t.scope;var n=[],i=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ut.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Oc(ut.internal.getWidth(t)/2)+" "+Oc(ut.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ut.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ut.RadioButton.Cross.YesNormal,e.D[t]=ut.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=nl(t);e.scope=t.scope;var n=[],i=ut.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Bt(ut.internal.getWidth(t)-2)+" "+Bt(ut.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Bt(i.x1.x)+" "+Bt(i.x1.y)+" m"),n.push(Bt(i.x2.x)+" "+Bt(i.x2.y)+" l"),n.push(Bt(i.x4.x)+" "+Bt(i.x4.y)+" m"),n.push(Bt(i.x3.x)+" "+Bt(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=nl(t);e.scope=t.scope;var n=ut.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Bt(ut.internal.getWidth(t))+" "+Bt(ut.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Bt(ut.internal.getWidth(t)-2)+" "+Bt(ut.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Bt(n.x1.x)+" "+Bt(n.x1.y)+" m"),i.push(Bt(n.x2.x)+" "+Bt(n.x2.y)+" l"),i.push(Bt(n.x4.x)+" "+Bt(n.x4.y)+" m"),i.push(Bt(n.x3.x)+" "+Bt(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=nl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Bt(ut.internal.getWidth(t))+" "+Bt(ut.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ut.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ut.internal.getWidth(t),n=ut.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},ut.internal.getWidth=function(t){var e=0;return Pn(t)==="object"&&(e=qN(t.Rect[2])),e},ut.internal.getHeight=function(t){var e=0;return Pn(t)==="object"&&(e=qN(t.Rect[3])),e};var Lte=Si.addField=function(t){if(Pte(this,t),!(t instanceof Fo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Si.AcroFormChoiceField=pf,Si.AcroFormListBox=gf,Si.AcroFormComboBox=mf,Si.AcroFormEditBox=P1,Si.AcroFormButton=wr,Si.AcroFormPushButton=L1,Si.AcroFormRadioButton=yf,Si.AcroFormCheckBox=T1,Si.AcroFormTextField=Ch,Si.AcroFormPasswordField=E1,Si.AcroFormAppearance=ut,Si.AcroForm={ChoiceField:pf,ListBox:gf,ComboBox:mf,EditBox:P1,Button:wr,PushButton:L1,RadioButton:yf,CheckBox:T1,TextField:Ch,PasswordField:E1,Appearance:ut},vt.AcroForm={ChoiceField:pf,ListBox:gf,ComboBox:mf,EditBox:P1,Button:wr,PushButton:L1,RadioButton:yf,CheckBox:T1,TextField:Ch,PasswordField:E1,Appearance:ut};vt.AcroForm;function yT(t){return t.reduce(function(e,n,i){return e[n]=i,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(P,R){var $,G,ee,ce,pe,Z=n;if((R=R||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(O(P))for(pe in i)for(ee=i[pe],$=0;$<ee.length;$+=1){for(ce=!0,G=0;G<ee[$].length;G+=1)if(ee[$][G]!==void 0&&ee[$][G]!==P[G]){ce=!1;break}if(ce===!0){Z=pe;break}}else for(pe in i)for(ee=i[pe],$=0;$<ee.length;$+=1){for(ce=!0,G=0;G<ee[$].length;G+=1)if(ee[$][G]!==void 0&&ee[$][G]!==P.charCodeAt(G)){ce=!1;break}if(ce===!0){Z=pe;break}}return Z===n&&R!==n&&(Z=R),Z},s=function P(R){for(var $=this.internal.write,G=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:R.width}),ce.push({key:"Height",value:R.height}),R.colorSpace===N.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===N.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var pe="",Z=0,te=R.transparency.length;Z<te;Z++)pe+=R.transparency[Z]+" "+R.transparency[Z]+" ";ce.push({key:"Mask",value:"["+pe+"]"})}R.sMask!==void 0&&ce.push({key:"SMask",value:R.objectId+1+" 0 R"});var he=R.filter!==void 0?["/"+R.filter]:void 0;if(G({data:R.data,additionalKeyValues:ce,alreadyAppliedFilters:he,objectId:R.objectId}),$("endobj"),"sMask"in R&&R.sMask!==void 0){var Y=(R.predictor!=null?"/Predictor "+R.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+R.width,B={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:Y,data:R.sMask};"filter"in R&&(B.filter=R.filter),P.call(this,B)}if(R.colorSpace===N.INDEXED){var K=this.internal.newObject();G({data:M(new Uint8Array(R.palette)),objectId:K}),$("endobj")}},a=function(){var P=this.internal.collections[e+"images"];for(var R in P)s.call(this,P[R])},o=function(){var P,R=this.internal.collections[e+"images"],$=this.internal.write;for(var G in R)$("/I"+(P=R[G]).index,P.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var P=this.internal.collections[e+"images"];return l.call(this),P},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(P){return typeof t["process"+P.toUpperCase()]=="function"},m=function(P){return Pn(P)==="object"&&P.nodeType===1},p=function(P,R){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var $=""+P.getAttribute("src");if($.indexOf("data:image/")===0)return A1(unescape($).split("base64,").pop());var G=t.loadFile($,!0);if(G!==void 0)return G}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var ee;switch(R){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return A1(P.toDataURL(ee,1).split("base64,").pop())}},x=function(P){var R=this.internal.collections[e+"images"];if(R){for(var $ in R)if(P===R[$].alias)return R[$]}},b=function(P,R,$){return P||R||(P=-96,R=-96),P<0&&(P=-1*$.width*72/P/this.internal.scaleFactor),R<0&&(R=-1*$.height*72/R/this.internal.scaleFactor),P===0&&(P=R*$.width/$.height),R===0&&(R=P*$.height/$.width),[P,R]},S=function(P,R,$,G,ee,ce){var pe=b.call(this,$,G,ee),Z=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,he=c.call(this);if($=pe[0],G=pe[1],he[ee.index]=ee,ce){ce*=Math.PI/180;var Y=Math.cos(ce),B=Math.sin(ce),K=function(ue){return ue.toFixed(4)},ie=[K(Y),K(B),K(-1*B),K(Y),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,Z(P),te(R+G),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([Z($),"0","0",Z(G),"0","0","cm"].join(" "))):this.internal.write([Z($),"0","0",Z(G),Z(P),te(R+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(P){var R,$,G=0;if(typeof P=="string")for($=P.length,R=0;R<$;R++)G=(G<<5)-G+P.charCodeAt(R),G|=0;else if(O(P))for($=P.byteLength/2,R=0;R<$;R++)G=(G<<5)-G+P[R],G|=0;return G},k=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var R=!0;return P.length===0&&(R=!1),P.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(R=!1),R},E=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var R=P.indexOf(",");return R<0?null:P.substring(0,R).trim().endsWith("base64")?P.substring(R+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},U=t.__addimage__.binaryStringToUint8Array=function(P){for(var R=P.length,$=new Uint8Array(R),G=0;G<R;G++)$[G]=P.charCodeAt(G);return $},M=t.__addimage__.arrayBufferToBinaryString=function(P){for(var R="",$=O(P)?P:new Uint8Array(P),G=0;G<$.length;G+=8192)R+=String.fromCharCode.apply(null,$.subarray(G,G+8192));return R};t.addImage=function(){var P,R,$,G,ee,ce,pe,Z,te;if(typeof arguments[1]=="number"?(R=n,$=arguments[1],G=arguments[2],ee=arguments[3],ce=arguments[4],pe=arguments[5],Z=arguments[6],te=arguments[7]):(R=arguments[1],$=arguments[2],G=arguments[3],ee=arguments[4],ce=arguments[5],pe=arguments[6],Z=arguments[7],te=arguments[8]),Pn(P=arguments[0])==="object"&&!m(P)&&"imageData"in P){var he=P;P=he.imageData,R=he.format||R||n,$=he.x||$||0,G=he.y||G||0,ee=he.w||he.width||ee,ce=he.h||he.height||ce,pe=he.alias||pe,Z=he.compression||Z,te=he.rotation||he.angle||te}var Y=this.internal.getFilters();if(Z===void 0&&Y.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN($)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=I.call(this,P,R,pe,Z);return S.call(this,$,G,ee,ce,B,te),this};var I=function(P,R,$,G){var ee,ce,pe;if(typeof P=="string"&&r(P)===n){P=unescape(P);var Z=F(P,!1);(Z!==""||(Z=t.loadFile(P,!0))!==void 0)&&(P=Z)}if(m(P)&&(P=p(P,R)),R=r(P,R),!g(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((pe=$)==null||pe.length===0)&&($=function(te){return typeof te=="string"||O(te)?w(te):O(te.data)?w(te.data):null}(P)),(ee=x.call(this,$))||(P instanceof Uint8Array||R==="RGBA"||(ce=P,P=U(P)),ee=this["process"+R.toUpperCase()](P,h.call(this),$,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in t.image_compression?te:j.NONE}(G),ce)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},F=t.__addimage__.convertBase64ToBinaryString=function(P,R){R=typeof R!="boolean"||R;var $,G="";if(typeof P=="string"){var ee;$=(ee=E(P))!==null&&ee!==void 0?ee:P;try{G=A1($)}catch(ce){if(R)throw k($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(P){var R,$,G="";if(m(P)&&(P=p(P)),typeof P=="string"&&r(P)===n&&((G=F(P,!1))===""&&(G=t.loadFile(P)||""),P=G),$=r(P),!g($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(P instanceof Uint8Array||(P=U(P)),!(R=this["process"+$.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=$,R}})(vt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};vt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,r,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,h=!1,g=0;g<c.length&&!h;g++)switch((i=c[g]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){i=c[m];var p=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(b.objId),j=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y)+"] ")+"/Contents ("+p(N(i.contents))+")",s+=" /Popup "+S.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(N(j))+") >>",b.content=s;var w=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(i.bounds.x+30)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+o(i.bounds.y)+"] ")+" /Parent "+w,i.open&&(s+=" /Open true"),s+=" >>",S.content=s,this.internal.write(b.objId,"0 R",S.objId,"0 R");break;case"freetext":r="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y+i.bounds.h)+"] ";var k=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(x(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var E=this.annotations._nameMap[i.options.name];i.options.pageNumber=E.page,i.options.top=E.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(x(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var O=o(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+O+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,r,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(i),w:l(n+r),h:c(i+s)},options:a,type:"link"})},t.textWithLink=function(n,i,r,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(n,o).length;a=Math.ceil(c*h)}else o=l,a=c;return this.text(n,i,r,s),r+=.2*c,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,r-c,o,a,s),l},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(vt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=t.__arabicParser__.isArabicEndLetter=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return a(b)&&r.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(b){var S=0,N=n,j="",w=0;for(S=0;S<b.length;S+=1)N[b.charCodeAt(S)]!==void 0?(w++,typeof(N=N[b.charCodeAt(S)])=="number"&&(j+=String.fromCharCode(N),N=n,w=0),S===b.length-1&&(N=n,j+=b.charAt(S-(w-1)),S-=w-1,w=0)):(N=n,j+=b.charAt(S-w),S-=w,w=0);return j};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&i[b.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(b,S,N){return a(b)?s(b)===!1?-1:!c(b)||!a(S)&&!a(N)||!a(N)&&o(S)||o(b)&&!a(S)||o(b)&&l(S)||o(b)&&o(S)?0:h(b)&&a(S)&&!o(S)&&a(N)&&c(N)?3:o(b)||!a(N)?1:2:-1},p=function(b){var S=0,N=0,j=0,w="",k="",E="",O=(b=b||"").split("\\s+"),U=[];for(S=0;S<O.length;S+=1){for(U.push(""),N=0;N<O[S].length;N+=1)w=O[S][N],k=O[S][N-1],E=O[S][N+1],a(w)?(j=m(w,k,E),U[S]+=j!==-1?String.fromCharCode(e[w.charCodeAt(0)][j]):w):U[S]+=w;U[S]=g(U[S])}return U.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var b,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(S)){var j=0;for(N=[],j=0;j<S.length;j+=1)Array.isArray(S[j])?N.push([p(S[j][0]),S[j][1],S[j][2]]):N.push([p(S[j])]);b=N}else b=p(S);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",x])}(vt.API),vt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(vt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(b){x=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){i.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),g=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,p=0,x=0,b=0,S=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var N=c.maxWidth;N>0?typeof l=="string"?l=this.splitTextToSize(l,N):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,k){return w.concat(S.splitTextToSize(k,N))},[])):l=Array.isArray(l)?l:[l];for(var j=0;j<l.length;j++)p<(b=this.getStringUnitWidth(l[j],{font:g})*h)&&(p=b);return p!==0&&(x=l.length),{w:p/=m,h:Math.max((x*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,h,g,m){if(i.call(this),!h)throw new Error("No data for PDF table.");var p,x,b,S,N=[],j=[],w=[],k={},E={},O=[],U=[],M=(m=m||{}).autoSize||!1,I=m.printHeaders!==!1,F=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,P=m.margins||Object.assign({width:this.getPageWidth()},e),R=typeof m.padding=="number"?m.padding:3,$=m.headerBackgroundColor||"#c8c8c8",G=m.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=G,this.setFontSize(F),g==null)j=N=Object.keys(h[0]),w=N.map(function(){return"left"});else if(Array.isArray(g)&&Pn(g[0])==="object")for(N=g.map(function(he){return he.name}),j=g.map(function(he){return he.prompt||he.name||""}),w=g.map(function(he){return he.align||"left"}),p=0;p<g.length;p+=1)E[g[p].name]=.7499990551181103*g[p].width;else Array.isArray(g)&&typeof g[0]=="string"&&(j=N=g,w=N.map(function(){return"left"}));if(M||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<N.length;p+=1){for(k[S=N[p]]=h.map(function(he){return he[S]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(j[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=k[S],this.setFont(void 0,"normal"),b=0;b<x.length;b+=1)O.push(this.getTextDimensions(x[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[S]=Math.max.apply(null,O)+R+R,O=[]}if(I){var ee={};for(p=0;p<N.length;p+=1)ee[N[p]]={},ee[N[p]].text=j[p],ee[N[p]].align=w[p];var ce=o.call(this,ee,E);U=N.map(function(he){return new s(l,c,E[he],ce,ee[he].text,void 0,ee[he].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var pe=g.reduce(function(he,Y){return he[Y.name]=Y.align,he},{});for(p=0;p<h.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:h[p]},this);var Z=o.call(this,h[p],E);for(b=0;b<N.length;b+=1){var te=h[p][N[b]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:b,data:te},this),a.call(this,new s(l,c,E[N[b]],Z,te,p+2,pe[N[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var h=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var x=l[p];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,c[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/m+h+h},this).reduce(function(p,x){return Math.max(p,x)},0)};t.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,m.push(h)),h.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(vt.API);var xT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ub=yT(vT),bT=[100,200,300,400,500,600,700,800,900],Tte=yT(bT);function iv(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return xT[s=s||"normal"]?s:"normal"}(t.style),i=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),r=function(s){return typeof ub[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:i,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,n,i].join(" ")}}}function WN(t,e,n,i){var r;for(r=n;r>=0&&r<e.length;r+=i)if(t[e[r]])return t[e[r]];for(r=n;r>=0&&r<e.length;r-=i)if(t[e[r]])return t[e[r]]}var Ete={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},KN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function XN(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function YN(t){return t.trimLeft()}function Mte(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Rte(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Qm,QN,JN,Rd,Jm,ZN,ek,tk,rv=["times"];function nk(t,e,n,i){var r=4,s=rk;switch(i){case vt.API.image_compression.FAST:r=1,s=ik;break;case vt.API.image_compression.MEDIUM:r=6,s=sk;break;case vt.API.image_compression.SLOW:r=9,s=ak}t=function(o,l,c,h){for(var g,m=o.length/l,p=new Uint8Array(o.length+m),x=[Fte,ik,rk,sk,ak],b=0;b<m;b+=1){var S=b*l,N=o.subarray(S,S+l);if(h)p.set(h(N,c,g),S+b);else{for(var j=x.length,w=[],k=0;k<j;k+=1)w[k]=x[k](N,c,g);var E=Ote(w.concat());p.set(w[E],S+b)}g=N}return p}(t,e,n,s);var a=ib(t,{level:r});return vt.API.__addimage__.arrayBufferToBinaryString(a)}function Fte(t){var e=Array.apply([],t);return e.unshift(0),e}function ik(t,e){var n=t.length,i=[];i[0]=1;for(var r=0;r<n;r+=1){var s=t[r-e]||0;i[r+1]=t[r]-s+256&255}return i}function rk(t,e,n){var i=t.length,r=[];r[0]=2;for(var s=0;s<i;s+=1){var a=n&&n[s]||0;r[s+1]=t[s]-a+256&255}return r}function sk(t,e,n){var i=t.length,r=[];r[0]=3;for(var s=0;s<i;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;r[s+1]=t[s]+256-(a+o>>>1)&255}return r}function ak(t,e,n){var i=t.length,r=[];r[0]=4;for(var s=0;s<i;s+=1){var a=Dte(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);r[s+1]=t[s]-a+256&255}return r}function Dte(t,e,n){if(t===e&&e===n)return t;var i=Math.abs(e-n),r=Math.abs(t-n),s=Math.abs(t+e-n-n);return i<=r&&i<=s?t:r<=s?e:n}function Ote(t){var e=t.map(function(n){return n.reduce(function(i,r){return i+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function sv(t,e,n){var i=e*n,r=Math.floor(i/8),s=16-(i-8*r+n),a=(1<<n)-1;return wT(t,r)>>s&a}function ok(t,e,n,i){var r=n*i,s=Math.floor(r/8),a=16-(r-8*s+i),o=(1<<i)-1,l=(e&o)<<a;(function(c,h,g){if(h+1<c.byteLength)c.setUint16(h,g,!1);else{var m=g>>8&255;c.setUint8(h,m)}})(t,s,wT(t,s)&~(o<<a)&65535|l)}function wT(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Ite(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,r=t[e++],s=r>>7,a=1<<1+(7&r);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,h=[],g=0,m=null,p=0,x=null;for(this.width=n,this.height=i;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];g=t[e++]|t[e++]<<8,m=t[e++],1&b||(m=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,k=t[e++],E=k>>6&1,O=1<<1+(7&k),U=o,M=l,I=!1;k>>7&&(I=!0,U=e,M=O,e+=3*O);var F=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}h.push({x:S,y:N,width:j,height:w,has_local_palette:I,palette_offset:U,palette_size:M,data_offset:F,data_length:e-F,transparent_index:m,interlaced:!!E,delay:g,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return x},this.frameInfo=function(R){if(R<0||R>=h.length)throw new Error("Frame index out of range.");return h[R]},this.decodeAndBlitFrameBGRA=function(R,$){var G=this.frameInfo(R),ee=G.width*G.height,ce=new Uint8Array(ee);lk(t,G.data_offset,ce,ee);var pe=G.palette_offset,Z=G.transparent_index;Z===null&&(Z=256);var te=G.width,he=n-te,Y=te,B=4*(G.y*n+G.x),K=4*((G.y+G.height)*n+G.x),ie=B,ue=4*he;G.interlaced===!0&&(ue+=4*n*7);for(var de=8,X=0,fe=ce.length;X<fe;++X){var me=ce[X];if(Y===0&&(Y=te,(ie+=ue)>=K&&(ue=4*he+4*n*(de-1),ie=B+(te+he)*(de<<1),de>>=1)),me===Z)ie+=4;else{var Ce=t[pe+3*me],Te=t[pe+3*me+1],Ue=t[pe+3*me+2];$[ie++]=Ue,$[ie++]=Te,$[ie++]=Ce,$[ie++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(R,$){var G=this.frameInfo(R),ee=G.width*G.height,ce=new Uint8Array(ee);lk(t,G.data_offset,ce,ee);var pe=G.palette_offset,Z=G.transparent_index;Z===null&&(Z=256);var te=G.width,he=n-te,Y=te,B=4*(G.y*n+G.x),K=4*((G.y+G.height)*n+G.x),ie=B,ue=4*he;G.interlaced===!0&&(ue+=4*n*7);for(var de=8,X=0,fe=ce.length;X<fe;++X){var me=ce[X];if(Y===0&&(Y=te,(ie+=ue)>=K&&(ue=4*he+4*n*(de-1),ie=B+(te+he)*(de<<1),de>>=1)),me===Z)ie+=4;else{var Ce=t[pe+3*me],Te=t[pe+3*me+1],Ue=t[pe+3*me+2];$[ie++]=Ce,$[ie++]=Te,$[ie++]=Ue,$[ie++]=255}--Y}}}function lk(t,e,n,i){for(var r=t[e++],s=1<<r,a=s+1,o=a+1,l=r+1,c=(1<<l)-1,h=0,g=0,m=0,p=t[e++],x=new Int32Array(4096),b=null;;){for(;h<16&&p!==0;)g|=t[e++]<<h,h+=8,p===1?p=t[e++]:--p;if(h<l)break;var S=g&c;if(g>>=l,h-=l,S!==s){if(S===a)break;for(var N=S<o?S:b,j=0,w=N;w>s;)w=x[w]>>8,++j;var k=w;if(m+j+(N!==S?1:0)>i)return void Fn.log("Warning, gif stream longer than expected.");n[m++]=k;var E=m+=j;for(N!==S&&(n[m++]=k),w=N;j--;)w=x[w],n[--E]=255&w,w>>=8;b!==null&&o<4096&&(x[o++]=b<<8|k,o>=c+1&&l<12&&(++l,c=c<<1|1)),b=S}else o=a+1,c=(1<<(l=r+1))-1,b=null}return m!==i&&Fn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function av(t){var e,n,i,r,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),g=new Array(65535),m=new Array(65535),p=new Array(64),x=new Array(64),b=[],S=0,N=7,j=new Array(64),w=new Array(64),k=new Array(64),E=new Array(256),O=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(B,K){for(var ie=0,ue=0,de=new Array,X=1;X<=16;X++){for(var fe=1;fe<=B[X];fe++)de[K[ue]]=[],de[K[ue]][0]=ie,de[K[ue]][1]=X,ue++,ie++;ie*=2}return de}function pe(B){for(var K=B[0],ie=B[1]-1;ie>=0;)K&1<<ie&&(S|=1<<N),ie--,--N<0&&(S==255?(Z(255),Z(0)):Z(S),N=7,S=0)}function Z(B){b.push(B)}function te(B){Z(B>>8&255),Z(255&B)}function he(B,K,ie,ue,de){for(var X,fe=de[0],me=de[240],Ce=function(Ve,Ye){var Ke,Et,Ee,qe,Ge,dt,Ht,ft,ot,wt,tt=0;for(ot=0;ot<8;++ot){Ke=Ve[tt],Et=Ve[tt+1],Ee=Ve[tt+2],qe=Ve[tt+3],Ge=Ve[tt+4],dt=Ve[tt+5],Ht=Ve[tt+6];var on=Ke+(ft=Ve[tt+7]),nn=Ke-ft,mt=Et+Ht,Dt=Et-Ht,kn=Ee+dt,_t=Ee-dt,Xt=qe+Ge,Ot=qe-Ge,li=on+Xt,Pi=on-Xt,Cn=mt+kn,Pt=mt-kn;Ve[tt]=li+Cn,Ve[tt+4]=li-Cn;var un=.707106781*(Pt+Pi);Ve[tt+2]=Pi+un,Ve[tt+6]=Pi-un;var Oo=.382683433*((li=Ot+_t)-(Pt=Dt+nn)),lr=.5411961*li+Oo,Gs=1.306562965*Pt+Oo,qs=.707106781*(Cn=_t+Dt),St=nn+qs,eo=nn-qs;Ve[tt+5]=eo+lr,Ve[tt+3]=eo-lr,Ve[tt+1]=St+Gs,Ve[tt+7]=St-Gs,tt+=8}for(tt=0,ot=0;ot<8;++ot){Ke=Ve[tt],Et=Ve[tt+8],Ee=Ve[tt+16],qe=Ve[tt+24],Ge=Ve[tt+32],dt=Ve[tt+40],Ht=Ve[tt+48];var to=Ke+(ft=Ve[tt+56]),Ns=Ke-ft,hs=Et+Ht,On=Et-Ht,Vi=Ee+dt,qi=Ee-dt,ma=qe+Ge,Io=qe-Ge,Ws=to+ma,ya=to-ma,Ks=hs+Vi,Xs=hs-Vi;Ve[tt]=Ws+Ks,Ve[tt+32]=Ws-Ks;var ks=.707106781*(Xs+ya);Ve[tt+16]=ya+ks,Ve[tt+48]=ya-ks;var ml=.382683433*((Ws=Io+qi)-(Xs=On+Ns)),xa=.5411961*Ws+ml,yl=1.306562965*Xs+ml,hc=.707106781*(Ks=qi+On),dc=Ns+hc,fc=Ns-hc;Ve[tt+40]=fc+xa,Ve[tt+24]=fc-xa,Ve[tt+8]=dc+yl,Ve[tt+56]=dc-yl,tt++}for(ot=0;ot<64;++ot)wt=Ve[ot]*Ye[ot],p[ot]=wt>0?wt+.5|0:wt-.5|0;return p}(B,K),Te=0;Te<64;++Te)x[U[Te]]=Ce[Te];var Ue=x[0]-ie;ie=x[0],Ue==0?pe(ue[0]):(pe(ue[m[X=32767+Ue]]),pe(g[X]));for(var ze=63;ze>0&&x[ze]==0;)ze--;if(ze==0)return pe(fe),ie;for(var je,le=1;le<=ze;){for(var At=le;x[le]==0&&le<=ze;)++le;var bt=le-At;if(bt>=16){je=bt>>4;for(var ht=1;ht<=je;++ht)pe(me);bt&=15}X=32767+x[le],pe(de[(bt<<4)+m[X]]),pe(g[X]),le++}return ze!=63&&pe(fe),ie}function Y(B){B=Math.min(Math.max(B,1),100),s!=B&&(function(K){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var de=a((ie[ue]*K+50)/100);de=Math.min(Math.max(de,1),255),o[U[ue]]=de}for(var X=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var me=a((X[fe]*K+50)/100);me=Math.min(Math.max(me,1),255),l[U[fe]]=me}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Ue=0;Ue<8;Ue++)for(var ze=0;ze<8;ze++)c[Te]=1/(o[U[Te]]*Ce[Ue]*Ce[ze]*8),h[Te]=1/(l[U[Te]]*Ce[Ue]*Ce[ze]*8),Te++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),s=B)}this.encode=function(B,K){K&&Y(K),b=new Array,S=0,N=7,te(65496),te(65504),te(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),te(1),te(1),Z(0),Z(0),function(){te(65499),te(132),Z(0);for(var Et=0;Et<64;Et++)Z(o[Et]);Z(1);for(var Ee=0;Ee<64;Ee++)Z(l[Ee])}(),function(Et,Ee){te(65472),te(17),Z(8),te(Ee),te(Et),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(B.width,B.height),function(){te(65476),te(418),Z(0);for(var Et=0;Et<16;Et++)Z(M[Et+1]);for(var Ee=0;Ee<=11;Ee++)Z(I[Ee]);Z(16);for(var qe=0;qe<16;qe++)Z(F[qe+1]);for(var Ge=0;Ge<=161;Ge++)Z(P[Ge]);Z(1);for(var dt=0;dt<16;dt++)Z(R[dt+1]);for(var Ht=0;Ht<=11;Ht++)Z($[Ht]);Z(17);for(var ft=0;ft<16;ft++)Z(G[ft+1]);for(var ot=0;ot<=161;ot++)Z(ee[ot])}(),te(65498),te(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var ie=0,ue=0,de=0;S=0,N=7,this.encode.displayName="_encode_";for(var X,fe,me,Ce,Te,Ue,ze,je,le,At=B.data,bt=B.width,ht=B.height,Ve=4*bt,Ye=0;Ye<ht;){for(X=0;X<Ve;){for(Te=Ve*Ye+X,ze=-1,je=0,le=0;le<64;le++)Ue=Te+(je=le>>3)*Ve+(ze=4*(7&le)),Ye+je>=ht&&(Ue-=Ve*(Ye+1+je-ht)),X+ze>=Ve&&(Ue-=X+ze-Ve+4),fe=At[Ue++],me=At[Ue++],Ce=At[Ue++],j[le]=(O[fe]+O[me+256|0]+O[Ce+512|0]>>16)-128,w[le]=(O[fe+768|0]+O[me+1024|0]+O[Ce+1280|0]>>16)-128,k[le]=(O[fe+1280|0]+O[me+1536|0]+O[Ce+1792|0]>>16)-128;ie=he(j,c,ie,e,i),ue=he(w,h,ue,n,r),de=he(k,h,de,n,r),X+=32}Ye+=8}if(N>=0){var Ke=[];Ke[1]=N+1,Ke[0]=(1<<N+1)-1,pe(Ke)}return te(65497),new Uint8Array(b)},t=t||50,function(){for(var B=String.fromCharCode,K=0;K<256;K++)E[K]=B(K)}(),e=ce(M,I),n=ce(R,$),i=ce(F,P),r=ce(G,ee),function(){for(var B=1,K=2,ie=1;ie<=15;ie++){for(var ue=B;ue<K;ue++)m[32767+ue]=ie,g[32767+ue]=[],g[32767+ue][1]=ie,g[32767+ue][0]=ue;for(var de=-(K-1);de<=-B;de++)m[32767+de]=ie,g[32767+de]=[],g[32767+de][1]=ie,g[32767+de][0]=K-1+de;B<<=1,K<<=1}}(),function(){for(var B=0;B<256;B++)O[B]=19595*B,O[B+256|0]=38470*B,O[B+512|0]=7471*B+32768,O[B+768|0]=-11059*B,O[B+1024|0]=-21709*B,O[B+1280|0]=32768*B+8421375,O[B+1536|0]=-27439*B,O[B+1792|0]=-5329*B}(),Y(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ck(t){function e(I){if(!I)throw Error("assert :P")}function n(I,F,P){for(var R=0;4>R;R++)if(I[F+R]!=P.charCodeAt(R))return!0;return!1}function i(I,F,P,R,$){for(var G=0;G<$;G++)I[F+G]=P[R+G]}function r(I,F,P,R){for(var $=0;$<R;$++)I[F+$]=P}function s(I){return new Int32Array(I)}function a(I,F){for(var P=[],R=0;R<I;R++)P.push(new F);return P}function o(I,F){var P=[];return function R($,G,ee){for(var ce=ee[G],pe=0;pe<ce&&($.push(ee.length>G+1?[]:new F),!(ee.length<G+1));pe++)R($[pe],G+1,ee)}(P,0,I),P}var l=function(){var I=this;function F(y,_){for(var T=1<<_-1>>>0;y&T;)T>>>=1;return T?(y&T-1)+T:y}function P(y,_,T,D,V){e(!(D%T));do y[_+(D-=T)]=V;while(0<D)}function R(y,_,T,D,V){if(e(2328>=V),512>=V)var q=s(512);else if((q=s(V))==null)return 0;return function(W,J,ne,oe,ye,ke){var se,xe,Ne=J,Me=1<<ne,_e=s(16),Fe=s(16);for(e(ye!=0),e(oe!=null),e(W!=null),e(0<ne),xe=0;xe<ye;++xe){if(15<oe[xe])return 0;++_e[oe[xe]]}if(_e[0]==ye)return 0;for(Fe[1]=0,se=1;15>se;++se){if(_e[se]>1<<se)return 0;Fe[se+1]=Fe[se]+_e[se]}for(xe=0;xe<ye;++xe)se=oe[xe],0<oe[xe]&&(ke[Fe[se]++]=xe);if(Fe[15]==1)return(oe=new $).g=0,oe.value=ke[0],P(W,Ne,1,Me,oe),Me;var ve,Be=-1,Oe=Me-1,pt=0,rt=1,Lt=1,st=1<<ne;for(xe=0,se=1,ye=2;se<=ne;++se,ye<<=1){if(rt+=Lt<<=1,0>(Lt-=_e[se]))return 0;for(;0<_e[se];--_e[se])(oe=new $).g=se,oe.value=ke[xe++],P(W,Ne+pt,ye,st,oe),pt=F(pt,se)}for(se=ne+1,ye=2;15>=se;++se,ye<<=1){if(rt+=Lt<<=1,0>(Lt-=_e[se]))return 0;for(;0<_e[se];--_e[se]){if(oe=new $,(pt&Oe)!=Be){for(Ne+=st,ve=1<<(Be=se)-ne;15>Be&&!(0>=(ve-=_e[Be]));)++Be,ve<<=1;Me+=st=1<<(ve=Be-ne),W[J+(Be=pt&Oe)].g=ve+ne,W[J+Be].value=Ne-J-Be}oe.g=se-ne,oe.value=ke[xe++],P(W,Ne+(pt>>ne),ye,st,oe),pt=F(pt,se)}}return rt!=2*Fe[15]-1?0:Me}(y,_,T,D,V,q)}function $(){this.value=this.g=0}function G(){this.value=this.g=0}function ee(){this.G=a(5,$),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ki,G)}function ce(y,_,T,D){e(y!=null),e(_!=null),e(2147483648>D),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=_,y.pa=T,y.Jd=_,y.Yc=T+D,y.Zc=4<=D?T+D-4+1:T,fe(y)}function pe(y,_){for(var T=0;0<_--;)T|=Ce(y,128)<<_;return T}function Z(y,_){var T=pe(y,_);return me(y)?-T:T}function te(y,_,T,D){var V,q=0;for(e(y!=null),e(_!=null),e(4294967288>D),y.Sb=D,y.Ra=0,y.u=0,y.h=0,4<D&&(D=4),V=0;V<D;++V)q+=_[T+V]<<8*V;y.Ra=q,y.bb=D,y.oa=_,y.pa=T}function he(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<dr-8>>>0,++y.bb,y.u-=8;ue(y)&&(y.h=1,y.u=0)}function Y(y,_){if(e(0<=_),!y.h&&_<=wc){var T=ie(y)&Pa[_];return y.u+=_,he(y),T}return y.h=1,y.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ie(y){return y.Ra>>>(y.u&dr-1)>>>0}function ue(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>dr}function de(y,_){y.u=_,y.h=ue(y)}function X(y){y.u>=Nn&&(e(y.u>=Nn),he(y))}function fe(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function me(y){return pe(y,1)}function Ce(y,_){var T=y.Ca;0>y.b&&fe(y);var D=y.b,V=T*_>>>8,q=(y.I>>>D>V)+0;for(q?(T-=V,y.I-=V+1<<D>>>0):T=V+1,D=T,V=0;256<=D;)V+=8,D>>=8;return D=7^V+_c[D],y.b-=D,y.Ca=(T<<D)-1,q}function Te(y,_,T){y[_+0]=T>>24&255,y[_+1]=T>>16&255,y[_+2]=T>>8&255,y[_+3]=255&T}function Ue(y,_){return y[_+0]|y[_+1]<<8}function ze(y,_){return Ue(y,_)|y[_+2]<<16}function je(y,_){return Ue(y,_)|Ue(y,_+2)<<16}function le(y,_){var T=1<<_;return e(y!=null),e(0<_),y.X=s(T),y.X==null?0:(y.Mb=32-_,y.Xa=_,1)}function At(y,_){e(y!=null),e(_!=null),e(y.Xa==_.Xa),i(_.X,0,y.X,0,1<<_.Xa)}function bt(){this.X=[],this.Xa=this.Mb=0}function ht(y,_,T,D){e(T!=null),e(D!=null);var V=T[0],q=D[0];return V==0&&(V=(y*q+_/2)/_),q==0&&(q=(_*V+y/2)/y),0>=V||0>=q?0:(T[0]=V,D[0]=q,1)}function Ve(y,_){return y+(1<<_)-1>>>_}function Ye(y,_){return((4278255360&y)+(4278255360&_)>>>0&4278255360)+((16711935&y)+(16711935&_)>>>0&16711935)>>>0}function Ke(y,_){I[_]=function(T,D,V,q,W,J,ne){var oe;for(oe=0;oe<W;++oe){var ye=I[y](J[ne+oe-1],V,q+oe);J[ne+oe]=Ye(T[D+oe],ye)}}}function Et(){this.ud=this.hd=this.jd=0}function Ee(y,_){return((4278124286&(y^_))>>>1)+(y&_)>>>0}function qe(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Ge(y,_){return qe(y+(y-_+.5>>1))}function dt(y,_,T){return Math.abs(_-T)-Math.abs(y-T)}function Ht(y,_,T,D,V,q,W){for(D=q[W-1],T=0;T<V;++T)q[W+T]=D=Ye(y[_+T],D)}function ft(y,_,T,D,V){var q;for(q=0;q<T;++q){var W=y[_+q],J=W>>8&255,ne=16711935&(ne=(ne=16711935&W)+((J<<16)+J));D[V+q]=(4278255360&W)+ne>>>0}}function ot(y,_){_.jd=255&y,_.hd=y>>8&255,_.ud=y>>16&255}function wt(y,_,T,D,V,q){var W;for(W=0;W<D;++W){var J=_[T+W],ne=J>>>8,oe=J,ye=255&(ye=(ye=J>>>16)+((y.jd<<24>>24)*(ne<<24>>24)>>>5));oe=255&(oe=(oe+=(y.hd<<24>>24)*(ne<<24>>24)>>>5)+((y.ud<<24>>24)*(ye<<24>>24)>>>5)),V[q+W]=(4278255360&J)+(ye<<16)+oe}}function tt(y,_,T,D,V){I[_]=function(q,W,J,ne,oe,ye,ke,se,xe){for(ne=ke;ne<se;++ne)for(ke=0;ke<xe;++ke)oe[ye++]=V(J[D(q[W++])])},I[y]=function(q,W,J,ne,oe,ye,ke){var se=8>>q.b,xe=q.Ea,Ne=q.K[0],Me=q.w;if(8>se)for(q=(1<<q.b)-1,Me=(1<<se)-1;W<J;++W){var _e,Fe=0;for(_e=0;_e<xe;++_e)_e&q||(Fe=D(ne[oe++])),ye[ke++]=V(Ne[Fe&Me]),Fe>>=se}else I["VP8LMapColor"+T](ne,oe,Ne,Me,ye,ke,W,J,xe)}}function on(y,_,T,D,V){for(T=_+T;_<T;){var q=y[_++];D[V++]=q>>16&255,D[V++]=q>>8&255,D[V++]=255&q}}function nn(y,_,T,D,V){for(T=_+T;_<T;){var q=y[_++];D[V++]=q>>16&255,D[V++]=q>>8&255,D[V++]=255&q,D[V++]=q>>24&255}}function mt(y,_,T,D,V){for(T=_+T;_<T;){var q=(W=y[_++])>>16&240|W>>12&15,W=240&W|W>>28&15;D[V++]=q,D[V++]=W}}function Dt(y,_,T,D,V){for(T=_+T;_<T;){var q=(W=y[_++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;D[V++]=q,D[V++]=W}}function kn(y,_,T,D,V){for(T=_+T;_<T;){var q=y[_++];D[V++]=255&q,D[V++]=q>>8&255,D[V++]=q>>16&255}}function _t(y,_,T,D,V,q){if(q==0)for(T=_+T;_<T;)Te(D,((q=y[_++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),V+=32;else i(D,V,y,_,T)}function Xt(y,_){I[_][0]=I[y+"0"],I[_][1]=I[y+"1"],I[_][2]=I[y+"2"],I[_][3]=I[y+"3"],I[_][4]=I[y+"4"],I[_][5]=I[y+"5"],I[_][6]=I[y+"6"],I[_][7]=I[y+"7"],I[_][8]=I[y+"8"],I[_][9]=I[y+"9"],I[_][10]=I[y+"10"],I[_][11]=I[y+"11"],I[_][12]=I[y+"12"],I[_][13]=I[y+"13"],I[_][14]=I[y+"0"],I[_][15]=I[y+"0"]}function Ot(y){return y==dd||y==Bu||y==zu||y==fd}function li(){this.eb=[],this.size=this.A=this.fb=0}function Pi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Cn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new li,this.f.kb=new Pi,this.sd=null}function Pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function un(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Oo(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function lr(y,_){var T=y.T,D=_.ba.f.RGBA,V=D.eb,q=D.fb+y.ka*D.A,W=ys[_.ba.S],J=y.y,ne=y.O,oe=y.f,ye=y.N,ke=y.ea,se=y.W,xe=_.cc,Ne=_.dc,Me=_.Mc,_e=_.Nc,Fe=y.ka,ve=y.ka+y.T,Be=y.U,Oe=Be+1>>1;for(Fe==0?W(J,ne,null,null,oe,ye,ke,se,oe,ye,ke,se,V,q,null,null,Be):(W(_.ec,_.fc,J,ne,xe,Ne,Me,_e,oe,ye,ke,se,V,q-D.A,V,q,Be),++T);Fe+2<ve;Fe+=2)xe=oe,Ne=ye,Me=ke,_e=se,ye+=y.Rc,se+=y.Rc,q+=2*D.A,W(J,(ne+=2*y.fa)-y.fa,J,ne,xe,Ne,Me,_e,oe,ye,ke,se,V,q-D.A,V,q,Be);return ne+=y.fa,y.j+ve<y.o?(i(_.ec,_.fc,J,ne,Be),i(_.cc,_.dc,oe,ye,Oe),i(_.Mc,_.Nc,ke,se,Oe),T--):1&ve||W(J,ne,null,null,oe,ye,ke,se,oe,ye,ke,se,V,q+D.A,null,null,Be),T}function Gs(y,_,T){var D=y.F,V=[y.J];if(D!=null){var q=y.U,W=_.ba.S,J=W==Iu||W==zu;_=_.ba.f.RGBA;var ne=[0],oe=y.ka;ne[0]=y.T,y.Kb&&(oe==0?--ne[0]:(--oe,V[0]-=y.width),y.j+y.ka+y.T==y.o&&(ne[0]=y.o-y.j-oe));var ye=_.eb;oe=_.fb+oe*_.A,y=cd(D,V[0],y.width,q,ne,ye,oe+(J?0:3),_.A),e(T==ne),y&&Ot(W)&&co(ye,oe,J,q,ne,_.A)}return 0}function qs(y){var _=y.ma,T=_.ba.S,D=11>T,V=T==Ll||T==kc||T==Iu||T==hd||T==12||Ot(T);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!ur(_.Oa,y,V?11:12))return 0;if(V&&Ot(T)&&Fu(),y.da)alert("todo:use_scaling");else{if(D){if(_.Ib=Oo,y.Kb){if(T=y.U+1>>1,_.memory=s(y.U+2*T),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+y.U,_.Mc=_.cc,_.Nc=_.dc+T,_.Ib=lr,Fu()}}else alert("todo:EmitYUV");V&&(_.Jb=Gs,D&&kl())}if(D&&!v0){for(y=0;256>y;++y)b0[y]=89858*(y-128)+Hu>>Vu,w0[y]=-22014*(y-128)+Hu,Wg[y]=-45773*(y-128),qg[y]=113618*(y-128)+Hu>>Vu;for(y=jc;y<md;++y)_=76283*(y-16)+Hu>>Vu,_0[y-jc]=xi(_,255),Kg[y-jc]=xi(_+8>>4,15);v0=1}return 1}function St(y){var _=y.ma,T=y.U,D=y.T;return e(!(1&y.ka)),0>=T||0>=D?0:(T=_.Ib(y,_),_.Jb!=null&&_.Jb(y,_,T),_.Dc+=T,1)}function eo(y){y.ma.memory=null}function to(y,_,T,D){return Y(y,8)!=47?0:(_[0]=Y(y,14)+1,T[0]=Y(y,14)+1,D[0]=Y(y,1),Y(y,3)!=0?0:!y.h)}function Ns(y,_){if(4>y)return y+1;var T=y-2>>1;return(2+(1&y)<<T)+Y(_,T)+1}function hs(y,_){return 120<_?_-120:1<=(T=((T=Fg[_-1])>>4)*y+(8-(15&T)))?T:1;var T}function On(y,_,T){var D=ie(T),V=y[_+=255&D].g-8;return 0<V&&(de(T,T.u+8),D=ie(T),_+=y[_].value,_+=D&(1<<V)-1),de(T,T.u+y[_].g),y[_].value}function Vi(y,_,T){return T.g+=y.g,T.value+=y.value<<_>>>0,e(8>=T.g),y.g}function qi(y,_,T){var D=y.xc;return e((_=D==0?0:y.vc[y.md*(T>>D)+(_>>D)])<y.Wb),y.Ya[_]}function ma(y,_,T,D){var V=y.ab,q=y.c*_,W=y.C;_=W+_;var J=T,ne=D;for(D=y.Ta,T=y.Ua;0<V--;){var oe=y.gc[V],ye=W,ke=_,se=J,xe=ne,Ne=(ne=D,J=T,oe.Ea);switch(e(ye<ke),e(ke<=oe.nc),oe.hc){case 2:Al(se,xe,(ke-ye)*Ne,ne,J);break;case 0:var Me=ye,_e=ke,Fe=ne,ve=J,Be=(st=oe).Ea;Me==0&&(Zs(se,xe,null,null,1,Fe,ve),Ht(se,xe+1,0,0,Be-1,Fe,ve+1),xe+=Be,ve+=Be,++Me);for(var Oe=1<<st.b,pt=Oe-1,rt=Ve(Be,st.b),Lt=st.K,st=st.w+(Me>>st.b)*rt;Me<_e;){var qt=Lt,bi=st,It=1;for(ps(se,xe,Fe,ve-Be,1,Fe,ve);It<Be;){var lt=(It&~pt)+Oe;lt>Be&&(lt=Be),(0,fr[qt[bi++]>>8&15])(se,xe+ +It,Fe,ve+It-Be,lt-It,Fe,ve+It),It=lt}xe+=Be,ve+=Be,++Me&pt||(st+=rt)}ke!=oe.nc&&i(ne,J-Ne,ne,J+(ke-ye-1)*Ne,Ne);break;case 1:for(Ne=se,_e=xe,Be=(se=oe.Ea)-(ve=se&~(Fe=(xe=1<<oe.b)-1)),Me=Ve(se,oe.b),Oe=oe.K,oe=oe.w+(ye>>oe.b)*Me;ye<ke;){for(pt=Oe,rt=oe,Lt=new Et,st=_e+ve,qt=_e+se;_e<st;)ot(pt[rt++],Lt),ea(Lt,Ne,_e,xe,ne,J),_e+=xe,J+=xe;_e<qt&&(ot(pt[rt++],Lt),ea(Lt,Ne,_e,Be,ne,J),_e+=Be,J+=Be),++ye&Fe||(oe+=Me)}break;case 3:if(se==ne&&xe==J&&0<oe.b){for(_e=ne,se=Ne=J+(ke-ye)*Ne-(ve=(ke-ye)*Ve(oe.Ea,oe.b)),xe=ne,Fe=J,Me=[],ve=(Be=ve)-1;0<=ve;--ve)Me[ve]=xe[Fe+ve];for(ve=Be-1;0<=ve;--ve)_e[se+ve]=Me[ve];lo(oe,ye,ke,ne,Ne,ne,J)}else lo(oe,ye,ke,se,xe,ne,J)}J=D,ne=T}ne!=T&&i(D,T,J,ne,q)}function Io(y,_){var T=y.V,D=y.Ba+y.c*y.C,V=_-y.C;if(e(_<=y.l.o),e(16>=V),0<V){var q=y.l,W=y.Ta,J=y.Ua,ne=q.width;if(ma(y,V,T,D),V=J=[J],e((T=y.C)<(D=_)),e(q.v<q.va),D>q.o&&(D=q.o),T<q.j){var oe=q.j-T;T=q.j,V[0]+=oe*ne}if(T>=D?T=0:(V[0]+=4*q.v,q.ka=T-q.j,q.U=q.va-q.v,q.T=D-T,T=1),T){if(J=J[0],11>(T=y.ca).S){var ye=T.f.RGBA,ke=(D=T.S,V=q.U,q=q.T,oe=ye.eb,ye.A),se=q;for(ye=ye.fb+y.Ma*ye.A;0<se--;){var xe=W,Ne=J,Me=V,_e=oe,Fe=ye;switch(D){case Pl:Ta(xe,Ne,Me,_e,Fe);break;case Ll:qr(xe,Ne,Me,_e,Fe);break;case dd:qr(xe,Ne,Me,_e,Fe),co(_e,Fe,0,Me,1,0);break;case d0:bn(xe,Ne,Me,_e,Fe);break;case kc:_t(xe,Ne,Me,_e,Fe,1);break;case Bu:_t(xe,Ne,Me,_e,Fe,1),co(_e,Fe,0,Me,1,0);break;case Iu:_t(xe,Ne,Me,_e,Fe,0);break;case zu:_t(xe,Ne,Me,_e,Fe,0),co(_e,Fe,1,Me,1,0);break;case hd:Ls(xe,Ne,Me,_e,Fe);break;case fd:Ls(xe,Ne,Me,_e,Fe),ld(_e,Fe,Me,1,0);break;case f0:kt(xe,Ne,Me,_e,Fe);break;default:e(0)}J+=ne,ye+=ke}y.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=T.height)}}y.C=_,e(y.C<=y.i)}function Ws(y){var _;if(0<y.ua)return 0;for(_=0;_<y.Wb;++_){var T=y.Ya[_].G,D=y.Ya[_].H;if(0<T[1][D[1]+0].g||0<T[2][D[2]+0].g||0<T[3][D[3]+0].g)return 0}return 1}function ya(y,_,T,D,V,q){if(y.Z!=0){var W=y.qd,J=y.rd;for(e(uo[y.Z]!=null);_<T;++_)uo[y.Z](W,J,D,V,D,V,q),W=D,J=V,V+=q;y.qd=W,y.rd=J}}function Ks(y,_){var T=y.l.ma,D=T.Z==0||T.Z==1?y.l.j:y.C;if(D=y.C<D?D:y.C,e(_<=y.l.o),_>D){var V=y.l.width,q=T.ca,W=T.tb+V*D,J=y.V,ne=y.Ba+y.c*D,oe=y.gc;e(y.ab==1),e(oe[0].hc==3),La(oe[0],D,_,J,ne,q,W),ya(T,D,_,q,W,V)}y.C=y.Ma=_}function Xs(y,_,T,D,V,q,W){var J=y.$/D,ne=y.$%D,oe=y.m,ye=y.s,ke=T+y.$,se=ke;V=T+D*V;var xe=T+D*q,Ne=280+ye.ua,Me=y.Pb?J:16777216,_e=0<ye.ua?ye.Wa:null,Fe=ye.wc,ve=ke<xe?qi(ye,ne,J):null;e(y.C<q),e(xe<=V);var Be=!1;e:for(;;){for(;Be||ke<xe;){var Oe=0;if(J>=Me){var pt=ke-T;e((Me=y).Pb),Me.wd=Me.m,Me.xd=pt,0<Me.s.ua&&At(Me.s.Wa,Me.s.vb),Me=J+Og}if(ne&Fe||(ve=qi(ye,ne,J)),e(ve!=null),ve.Qb&&(_[ke]=ve.qb,Be=!0),!Be)if(X(oe),ve.jc){Oe=oe,pt=_;var rt=ke,Lt=ve.pd[ie(Oe)&Ki-1];e(ve.jc),256>Lt.g?(de(Oe,Oe.u+Lt.g),pt[rt]=Lt.value,Oe=0):(de(Oe,Oe.u+Lt.g-256),e(256<=Lt.value),Oe=Lt.value),Oe==0&&(Be=!0)}else Oe=On(ve.G[0],ve.H[0],oe);if(oe.h)break;if(Be||256>Oe){if(!Be)if(ve.nd)_[ke]=(ve.qb|Oe<<8)>>>0;else{if(X(oe),Be=On(ve.G[1],ve.H[1],oe),X(oe),pt=On(ve.G[2],ve.H[2],oe),rt=On(ve.G[3],ve.H[3],oe),oe.h)break;_[ke]=(rt<<24|Be<<16|Oe<<8|pt)>>>0}if(Be=!1,++ke,++ne>=D&&(ne=0,++J,W!=null&&J<=q&&!(J%16)&&W(y,J),_e!=null))for(;se<ke;)Oe=_[se++],_e.X[(506832829*Oe&4294967295)>>>_e.Mb]=Oe}else if(280>Oe){if(Oe=Ns(Oe-256,oe),pt=On(ve.G[4],ve.H[4],oe),X(oe),pt=hs(D,pt=Ns(pt,oe)),oe.h)break;if(ke-T<pt||V-ke<Oe)break e;for(rt=0;rt<Oe;++rt)_[ke+rt]=_[ke+rt-pt];for(ke+=Oe,ne+=Oe;ne>=D;)ne-=D,++J,W!=null&&J<=q&&!(J%16)&&W(y,J);if(e(ke<=V),ne&Fe&&(ve=qi(ye,ne,J)),_e!=null)for(;se<ke;)Oe=_[se++],_e.X[(506832829*Oe&4294967295)>>>_e.Mb]=Oe}else{if(!(Oe<Ne))break e;for(Be=Oe-280,e(_e!=null);se<ke;)Oe=_[se++],_e.X[(506832829*Oe&4294967295)>>>_e.Mb]=Oe;Oe=ke,e(!(Be>>>(pt=_e).Xa)),_[Oe]=pt.X[Be],Be=!0}Be||e(oe.h==ue(oe))}if(y.Pb&&oe.h&&ke<V)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&At(y.s.vb,y.s.Wa);else{if(oe.h)break e;W!=null&&W(y,J>q?q:J),y.a=0,y.$=ke-T}return 1}return y.a=3,0}function ks(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var _=y.Wa;_!=null&&(_.X=null),y.vb=null,e(y!=null)}function ml(){var y=new rn;return y==null?null:(y.a=0,y.xb=Ug,Xt("Predictor","VP8LPredictors"),Xt("Predictor","VP8LPredictors_C"),Xt("PredictorAdd","VP8LPredictorsAdd"),Xt("PredictorAdd","VP8LPredictorsAdd_C"),Al=ft,ea=wt,Ta=on,qr=nn,Ls=mt,kt=Dt,bn=kn,I.VP8LMapColor32b=Xi,I.VP8LMapColor8b=Ps,y)}function xa(y,_,T,D,V){var q=1,W=[y],J=[_],ne=D.m,oe=D.s,ye=null,ke=0;e:for(;;){if(T)for(;q&&Y(ne,1);){var se=W,xe=J,Ne=D,Me=1,_e=Ne.m,Fe=Ne.gc[Ne.ab],ve=Y(_e,2);if(Ne.Oc&1<<ve)q=0;else{switch(Ne.Oc|=1<<ve,Fe.hc=ve,Fe.Ea=se[0],Fe.nc=xe[0],Fe.K=[null],++Ne.ab,e(4>=Ne.ab),ve){case 0:case 1:Fe.b=Y(_e,3)+2,Me=xa(Ve(Fe.Ea,Fe.b),Ve(Fe.nc,Fe.b),0,Ne,Fe.K),Fe.K=Fe.K[0];break;case 3:var Be,Oe=Y(_e,8)+1,pt=16<Oe?0:4<Oe?1:2<Oe?2:3;if(se[0]=Ve(Fe.Ea,pt),Fe.b=pt,Be=Me=xa(Oe,1,0,Ne,Fe.K)){var rt,Lt=Oe,st=Fe,qt=1<<(8>>st.b),bi=s(qt);if(bi==null)Be=0;else{var It=st.K[0],lt=st.w;for(bi[0]=st.K[0][0],rt=1;rt<1*Lt;++rt)bi[rt]=Ye(It[lt+rt],bi[rt-1]);for(;rt<4*qt;++rt)bi[rt]=0;st.K[0]=null,st.K[0]=bi,Be=1}}Me=Be;break;case 2:break;default:e(0)}q=Me}}if(W=W[0],J=J[0],q&&Y(ne,1)&&!(q=1<=(ke=Y(ne,4))&&11>=ke)){D.a=3;break e}var We;if(We=q)t:{var Gn,gt,Mt,Zt=D,Mi=W,yr=J,ln=ke,Ji=T,In=Zt.m,Ri=Zt.s,en=[null],pn=1,qn=0,gn=Dg[ln];n:for(;;){if(Ji&&Y(In,1)){var wi=Y(In,3)+2,Wr=Ve(Mi,wi),Bn=Ve(yr,wi),Zi=Wr*Bn;if(!xa(Wr,Bn,0,Zt,en))break n;for(en=en[0],Ri.xc=wi,Gn=0;Gn<Zi;++Gn){var mn=en[Gn]>>8&65535;en[Gn]=mn,mn>=pn&&(pn=mn+1)}}if(In.h)break n;for(gt=0;5>gt;++gt){var Wn=p0[gt];!gt&&0<ln&&(Wn+=1<<ln),qn<Wn&&(qn=Wn)}var Ar=a(pn*gn,$),er=pn,Pr=a(er,ee);if(Pr==null)var Kr=null;else e(65536>=er),Kr=Pr;var xr=s(qn);if(Kr==null||xr==null||Ar==null){Zt.a=1;break n}var xs=Ar;for(Gn=Mt=0;Gn<pn;++Gn){var wn=Kr[Gn],Lr=wn.G,dn=wn.H,Rt=0,En=1,Wt=0;for(gt=0;5>gt;++gt){Wn=p0[gt],Lr[gt]=xs,dn[gt]=Mt,!gt&&0<ln&&(Wn+=1<<ln);r:{var _i,Tr=Wn,ho=Zt,Kn=xr,$u=xs,El=Mt,Ac=0,Ma=ho.m,Gu=Y(Ma,1);if(r(Kn,0,0,Tr),Gu){var Xr=Y(Ma,1)+1,S0=Y(Ma,1),vd=Y(Ma,S0==0?1:8);Kn[vd]=1,Xr==2&&(Kn[vd=Y(Ma,8)]=1);var Es=1}else{var Ml=s(19),qu=Y(Ma,4)+4;if(19<qu){ho.a=3;var Pc=0;break r}for(_i=0;_i<qu;++_i)Ml[my[_i]]=Y(Ma,3);var Ra=void 0,Xo=void 0,fo=ho,bd=Ml,Yo=Tr,wd=Kn,Lc=0,ra=fo.m,tr=8,po=a(128,$);i:for(;R(po,0,7,bd,19);){if(Y(ra,1)){var Ms=2+2*Y(ra,3);if((Ra=2+Y(ra,Ms))>Yo)break i}else Ra=Yo;for(Xo=0;Xo<Yo&&Ra--;){X(ra);var Er=po[0+(127&ie(ra))];de(ra,ra.u+Er.g);var Rl=Er.value;if(16>Rl)wd[Xo++]=Rl,Rl!=0&&(tr=Rl);else{var N0=Rl==16,_d=Rl-16,vy=py[_d],go=Y(ra,Rg[_d])+vy;if(Xo+go>Yo)break i;for(var Yg=N0?tr:0;0<go--;)wd[Xo++]=Yg}}Lc=1;break i}Lc||(fo.a=3),Es=Lc}(Es=Es&&!Ma.h)&&(Ac=R($u,El,8,Kn,Tr)),Es&&Ac!=0?Pc=Ac:(ho.a=3,Pc=0)}if(Pc==0)break n;if(En&&gy[gt]==1&&(En=xs[Mt].g==0),Rt+=xs[Mt].g,Mt+=Pc,3>=gt){var Tc,Wu=xr[0];for(Tc=1;Tc<Wn;++Tc)xr[Tc]>Wu&&(Wu=xr[Tc]);Wt+=Wu}}if(wn.nd=En,wn.Qb=0,En&&(wn.qb=(Lr[3][dn[3]+0].value<<24|Lr[1][dn[1]+0].value<<16|Lr[2][dn[2]+0].value)>>>0,Rt==0&&256>Lr[0][dn[0]+0].value&&(wn.Qb=1,wn.qb+=Lr[0][dn[0]+0].value<<8)),wn.jc=!wn.Qb&&6>Wt,wn.jc){var Fa,Da=wn;for(Fa=0;Fa<Ki;++Fa){var mo=Fa,Oa=Da.pd[mo],Fl=Da.G[0][Da.H[0]+mo];256<=Fl.value?(Oa.g=Fl.g+256,Oa.value=Fl.value):(Oa.g=0,Oa.value=0,mo>>=Vi(Fl,8,Oa),mo>>=Vi(Da.G[1][Da.H[1]+mo],16,Oa),mo>>=Vi(Da.G[2][Da.H[2]+mo],0,Oa),Vi(Da.G[3][Da.H[3]+mo],24,Oa))}}}Ri.vc=en,Ri.Wb=pn,Ri.Ya=Kr,Ri.yc=Ar,We=1;break t}We=0}if(!(q=We)){D.a=3;break e}if(0<ke){if(oe.ua=1<<ke,!le(oe.Wa,ke)){D.a=1,q=0;break e}}else oe.ua=0;var k0=D,Qg=W,Jg=J,Sd=k0.s,yo=Sd.xc;if(k0.c=Qg,k0.i=Jg,Sd.md=Ve(Qg,yo),Sd.wc=yo==0?-1:(1<<yo)-1,T){D.xb=m0;break e}if((ye=s(W*J))==null){D.a=1,q=0;break e}q=(q=Xs(D,ye,0,W,J,J,null))&&!ne.h;break e}return q?(V!=null?V[0]=ye:(e(ye==null),e(T)),D.$=0,T||ks(oe)):ks(oe),q}function yl(y,_){var T=y.c*y.i,D=T+_+16*_;return e(y.c<=_),y.V=s(D),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+T+_,1)}function hc(y,_){var T=y.C,D=_-T,V=y.V,q=y.Ba+y.c*T;for(e(_<=y.l.o);0<D;){var W=16<D?16:D,J=y.l.ma,ne=y.l.width,oe=ne*W,ye=J.ca,ke=J.tb+ne*T,se=y.Ta,xe=y.Ua;ma(y,W,V,q),a0(se,xe,ye,ke,oe),ya(J,T,T+W,ye,ke,ne),D-=W,V+=W*y.c,T+=W}e(T==_),y.C=y.Ma=_}function dc(){this.ub=this.yd=this.td=this.Rb=0}function fc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zf(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Tu(){this.Yb=function(){var y=[];return function _(T,D,V){for(var q=V[D],W=0;W<q&&(T.push(V.length>D+1?[]:0),!(V.length<D+1));W++)_(T[W],D+1,V)}(y,0,[3,11]),y}()}function pc(){this.jb=s(3),this.Wc=o([4,8],Tu),this.Xc=o([4,17],Tu)}function Bo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Br(){this.ld=this.La=this.dd=this.tc=0}function xl(){this.Na=this.la=0}function ed(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function no(){this.uc=this.M=this.Nb=0,this.wa=Array(new Br),this.Y=0,this.ya=Array(new vl),this.aa=0,this.l=new hn}function Ys(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Sn(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new dc,this.Kc=new fc,this.ed=new Bo,this.Qa=new Zf,this.Ic=this.$c=this.Aa=0,this.D=new no,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,B),this.ia=0,this.pb=a(4,ed),this.Pa=new pc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ys),this.Hd=0,this.rb=Array(new xl),this.sb=0,this.wa=Array(new Br),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vl),this.L=this.aa=0,this.gd=o([4,2],Br),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function hn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function va(){var y=new Sn;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Uu||(Uu=zr)),y}function Yt(y,_,T){return y.a==0&&(y.a=_,y.sc=T,y.cb=0),0}function Wi(y,_,T){return 3<=T&&y[_+0]==157&&y[_+1]==1&&y[_+2]==42}function ba(y,_){if(y==null)return 0;if(y.a=0,y.sc="OK",_==null)return Yt(y,2,"null VP8Io passed to VP8GetHeaders()");var T=_.data,D=_.w,V=_.ha;if(4>V)return Yt(y,7,"Truncated header.");var q=T[D+0]|T[D+1]<<8|T[D+2]<<16,W=y.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return Yt(y,3,"Incorrect keyframe parameters.");if(!W.yd)return Yt(y,4,"Frame not displayable.");D+=3,V-=3;var J=y.Kc;if(W.Rb){if(7>V)return Yt(y,7,"cannot parse picture header");if(!Wi(T,D,V))return Yt(y,3,"Bad code word");J.c=16383&(T[D+4]<<8|T[D+3]),J.Td=T[D+4]>>6,J.i=16383&(T[D+6]<<8|T[D+5]),J.Ud=T[D+6]>>6,D+=7,V-=7,y.za=J.c+15>>4,y.Ub=J.i+15>>4,_.width=J.c,_.height=J.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,r((q=y.Pa).jb,0,255,q.jb.length),e((q=y.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,r(q.Zb,0,0,q.Zb.length),r(q.Lb,0,0,q.Lb)}if(W.ub>V)return Yt(y,7,"bad partition length");ce(q=y.m,T,D,W.ub),D+=W.ub,V-=W.ub,W.Rb&&(J.Ld=me(q),J.Kd=me(q)),J=y.Qa;var ne,oe=y.Pa;if(e(q!=null),e(J!=null),J.Cb=me(q),J.Cb){if(J.Bb=me(q),me(q)){for(J.Fb=me(q),ne=0;4>ne;++ne)J.Zb[ne]=me(q)?Z(q,7):0;for(ne=0;4>ne;++ne)J.Lb[ne]=me(q)?Z(q,6):0}if(J.Bb)for(ne=0;3>ne;++ne)oe.jb[ne]=me(q)?pe(q,8):255}else J.Bb=0;if(q.Ka)return Yt(y,3,"cannot parse segment header");if((J=y.ed).zd=me(q),J.Tb=pe(q,6),J.wb=pe(q,3),J.Pc=me(q),J.Pc&&me(q)){for(oe=0;4>oe;++oe)me(q)&&(J.vd[oe]=Z(q,6));for(oe=0;4>oe;++oe)me(q)&&(J.od[oe]=Z(q,6))}if(y.L=J.Tb==0?0:J.zd?1:2,q.Ka)return Yt(y,3,"cannot parse filter header");var ye=V;if(V=ne=D,D=ne+ye,J=ye,y.Xb=(1<<pe(y.m,2))-1,ye<3*(oe=y.Xb))T=7;else{for(ne+=3*oe,J-=3*oe,ye=0;ye<oe;++ye){var ke=T[V+0]|T[V+1]<<8|T[V+2]<<16;ke>J&&(ke=J),ce(y.Jc[+ye],T,ne,ke),ne+=ke,J-=ke,V+=3}ce(y.Jc[+oe],T,ne,J),T=ne<D?0:5}if(T!=0)return Yt(y,T,"cannot parse partitions");for(T=pe(ne=y.m,7),V=me(ne)?Z(ne,4):0,D=me(ne)?Z(ne,4):0,J=me(ne)?Z(ne,4):0,oe=me(ne)?Z(ne,4):0,ne=me(ne)?Z(ne,4):0,ye=y.Qa,ke=0;4>ke;++ke){if(ye.Cb){var se=ye.Zb[ke];ye.Fb||(se+=T)}else{if(0<ke){y.pb[ke]=y.pb[0];continue}se=T}var xe=y.pb[ke];xe.Sc[0]=Cc[xi(se+V,127)],xe.Sc[1]=g0[xi(se+0,127)],xe.Eb[0]=2*Cc[xi(se+D,127)],xe.Eb[1]=101581*g0[xi(se+J,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=Cc[xi(se+oe,117)],xe.Qc[1]=g0[xi(se+ne,127)],xe.lc=se+ne}if(!W.Rb)return Yt(y,4,"Not a key frame.");for(me(q),W=y.Pa,T=0;4>T;++T){for(V=0;8>V;++V)for(D=0;3>D;++D)for(J=0;11>J;++J)oe=Ce(q,Bg[T][V][D][J])?pe(q,8):gd[T][V][D][J],W.Wc[T][V].Yb[D][J]=oe;for(V=0;17>V;++V)W.Xc[T][V]=W.Wc[T][zg[V]]}return y.kc=me(q),y.kc&&(y.Bd=pe(q,8)),y.cb=1}function zr(y,_,T,D,V,q,W){var J=_[V].Yb[T];for(T=0;16>V;++V){if(!Ce(y,J[T+0]))return V;for(;!Ce(y,J[T+1]);)if(J=_[++V].Yb[0],T=0,V==16)return 16;var ne=_[V+1].Yb;if(Ce(y,J[T+2])){var oe=y,ye=0;if(Ce(oe,(se=J)[(ke=T)+3]))if(Ce(oe,se[ke+6])){for(J=0,ke=2*(ye=Ce(oe,se[ke+8]))+(se=Ce(oe,se[ke+9+ye])),ye=0,se=yy[ke];se[J];++J)ye+=ye+Ce(oe,se[J]);ye+=3+(8<<ke)}else Ce(oe,se[ke+7])?(ye=7+2*Ce(oe,165),ye+=Ce(oe,145)):ye=5+Ce(oe,159);else ye=Ce(oe,se[ke+4])?3+Ce(oe,se[ke+5]):2;J=ne[2]}else ye=1,J=ne[1];ne=W+na[V],0>(oe=y).b&&fe(oe);var ke,se=oe.b,xe=(ke=oe.Ca>>1)-(oe.I>>se)>>31;--oe.b,oe.Ca+=xe,oe.Ca|=1,oe.I-=(ke+1&xe)<<se,q[ne]=((ye^xe)-xe)*D[(0<V)+0]}return 16}function yi(y){var _=y.rb[y.sb-1];_.la=0,_.Na=0,r(y.zc,0,0,y.zc.length),y.ja=0}function Ur(y,_,T,D,V){V=y[_+T+32*D]+(V>>3),y[_+T+32*D]=-256&V?0>V?0:255:V}function zo(y,_,T,D,V,q){Ur(y,_,0,T,D+V),Ur(y,_,1,T,D+q),Ur(y,_,2,T,D-q),Ur(y,_,3,T,D-V)}function ni(y){return(20091*y>>16)+y}function Uo(y,_,T,D){var V,q=0,W=s(16);for(V=0;4>V;++V){var J=y[_+0]+y[_+8],ne=y[_+0]-y[_+8],oe=(35468*y[_+4]>>16)-ni(y[_+12]),ye=ni(y[_+4])+(35468*y[_+12]>>16);W[q+0]=J+ye,W[q+1]=ne+oe,W[q+2]=ne-oe,W[q+3]=J-ye,q+=4,_++}for(V=q=0;4>V;++V)J=(y=W[q+0]+4)+W[q+8],ne=y-W[q+8],oe=(35468*W[q+4]>>16)-ni(W[q+12]),Ur(T,D,0,0,J+(ye=ni(W[q+4])+(35468*W[q+12]>>16))),Ur(T,D,1,0,ne+oe),Ur(T,D,2,0,ne-oe),Ur(T,D,3,0,J-ye),q++,D+=32}function td(y,_,T,D){var V=y[_+0]+4,q=35468*y[_+4]>>16,W=ni(y[_+4]),J=35468*y[_+1]>>16;zo(T,D,0,V+W,y=ni(y[_+1]),J),zo(T,D,1,V+q,y,J),zo(T,D,2,V-q,y,J),zo(T,D,3,V-W,y,J)}function ds(y,_,T,D,V){Uo(y,_,T,D),V&&Uo(y,_+16,T,D+4)}function e0(y,_,T,D){$n(y,_+0,T,D,1),$n(y,_+32,T,D+128,1)}function wa(y,_,T,D){var V;for(y=y[_+0]+4,V=0;4>V;++V)for(_=0;4>_;++_)Ur(T,D,_,V,y)}function nd(y,_,T,D){y[_+0]&&pr(y,_+0,T,D),y[_+16]&&pr(y,_+16,T,D+4),y[_+32]&&pr(y,_+32,T,D+128),y[_+48]&&pr(y,_+48,T,D+128+4)}function bl(y,_,T,D){var V,q=s(16);for(V=0;4>V;++V){var W=y[_+0+V]+y[_+12+V],J=y[_+4+V]+y[_+8+V],ne=y[_+4+V]-y[_+8+V],oe=y[_+0+V]-y[_+12+V];q[0+V]=W+J,q[8+V]=W-J,q[4+V]=oe+ne,q[12+V]=oe-ne}for(V=0;4>V;++V)W=(y=q[0+4*V]+3)+q[3+4*V],J=q[1+4*V]+q[2+4*V],ne=q[1+4*V]-q[2+4*V],oe=y-q[3+4*V],T[D+0]=W+J>>3,T[D+16]=oe+ne>>3,T[D+32]=W-J>>3,T[D+48]=oe-ne>>3,D+=64}function Qs(y,_,T){var D,V=_-32,q=Qi,W=255-y[V-1];for(D=0;D<T;++D){var J,ne=q,oe=W+y[_-1];for(J=0;J<T;++J)y[_+J]=ne[oe+y[V+J]];_+=32}}function io(y,_){Qs(y,_,4)}function gc(y,_){Qs(y,_,8)}function t0(y,_){Qs(y,_,16)}function n0(y,_){var T;for(T=0;16>T;++T)i(y,_+32*T,y,_-32,16)}function wl(y,_){var T;for(T=16;0<T;--T)r(y,_,y[_-1],16),_+=32}function Vo(y,_,T){var D;for(D=0;16>D;++D)r(_,T+32*D,y,16)}function _a(y,_){var T,D=16;for(T=0;16>T;++T)D+=y[_-1+32*T]+y[_+T-32];Vo(D>>5,y,_)}function _l(y,_){var T,D=8;for(T=0;16>T;++T)D+=y[_-1+32*T];Vo(D>>4,y,_)}function Sl(y,_){var T,D=8;for(T=0;16>T;++T)D+=y[_+T-32];Vo(D>>4,y,_)}function Nl(y,_){Vo(128,y,_)}function Xe(y,_,T){return y+2*_+T+2>>2}function id(y,_){var T,D=_-32;for(D=new Uint8Array([Xe(y[D-1],y[D+0],y[D+1]),Xe(y[D+0],y[D+1],y[D+2]),Xe(y[D+1],y[D+2],y[D+3]),Xe(y[D+2],y[D+3],y[D+4])]),T=0;4>T;++T)i(y,_+32*T,D,0,D.length)}function Eu(y,_){var T=y[_-1],D=y[_-1+32],V=y[_-1+64],q=y[_-1+96];Te(y,_+0,16843009*Xe(y[_-1-32],T,D)),Te(y,_+32,16843009*Xe(T,D,V)),Te(y,_+64,16843009*Xe(D,V,q)),Te(y,_+96,16843009*Xe(V,q,q))}function rd(y,_){var T,D=4;for(T=0;4>T;++T)D+=y[_+T-32]+y[_-1+32*T];for(D>>=3,T=0;4>T;++T)r(y,_+32*T,D,4)}function i0(y,_){var T=y[_-1+0],D=y[_-1+32],V=y[_-1+64],q=y[_-1-32],W=y[_+0-32],J=y[_+1-32],ne=y[_+2-32],oe=y[_+3-32];y[_+0+96]=Xe(D,V,y[_-1+96]),y[_+1+96]=y[_+0+64]=Xe(T,D,V),y[_+2+96]=y[_+1+64]=y[_+0+32]=Xe(q,T,D),y[_+3+96]=y[_+2+64]=y[_+1+32]=y[_+0+0]=Xe(W,q,T),y[_+3+64]=y[_+2+32]=y[_+1+0]=Xe(J,W,q),y[_+3+32]=y[_+2+0]=Xe(ne,J,W),y[_+3+0]=Xe(oe,ne,J)}function ro(y,_){var T=y[_+1-32],D=y[_+2-32],V=y[_+3-32],q=y[_+4-32],W=y[_+5-32],J=y[_+6-32],ne=y[_+7-32];y[_+0+0]=Xe(y[_+0-32],T,D),y[_+1+0]=y[_+0+32]=Xe(T,D,V),y[_+2+0]=y[_+1+32]=y[_+0+64]=Xe(D,V,q),y[_+3+0]=y[_+2+32]=y[_+1+64]=y[_+0+96]=Xe(V,q,W),y[_+3+32]=y[_+2+64]=y[_+1+96]=Xe(q,W,J),y[_+3+64]=y[_+2+96]=Xe(W,J,ne),y[_+3+96]=Xe(J,ne,ne)}function Tn(y,_){var T=y[_-1+0],D=y[_-1+32],V=y[_-1+64],q=y[_-1-32],W=y[_+0-32],J=y[_+1-32],ne=y[_+2-32],oe=y[_+3-32];y[_+0+0]=y[_+1+64]=q+W+1>>1,y[_+1+0]=y[_+2+64]=W+J+1>>1,y[_+2+0]=y[_+3+64]=J+ne+1>>1,y[_+3+0]=ne+oe+1>>1,y[_+0+96]=Xe(V,D,T),y[_+0+64]=Xe(D,T,q),y[_+0+32]=y[_+1+96]=Xe(T,q,W),y[_+1+32]=y[_+2+96]=Xe(q,W,J),y[_+2+32]=y[_+3+96]=Xe(W,J,ne),y[_+3+32]=Xe(J,ne,oe)}function Mu(y,_){var T=y[_+0-32],D=y[_+1-32],V=y[_+2-32],q=y[_+3-32],W=y[_+4-32],J=y[_+5-32],ne=y[_+6-32],oe=y[_+7-32];y[_+0+0]=T+D+1>>1,y[_+1+0]=y[_+0+64]=D+V+1>>1,y[_+2+0]=y[_+1+64]=V+q+1>>1,y[_+3+0]=y[_+2+64]=q+W+1>>1,y[_+0+32]=Xe(T,D,V),y[_+1+32]=y[_+0+96]=Xe(D,V,q),y[_+2+32]=y[_+1+96]=Xe(V,q,W),y[_+3+32]=y[_+2+96]=Xe(q,W,J),y[_+3+64]=Xe(W,J,ne),y[_+3+96]=Xe(J,ne,oe)}function r0(y,_){var T=y[_-1+0],D=y[_-1+32],V=y[_-1+64],q=y[_-1+96];y[_+0+0]=T+D+1>>1,y[_+2+0]=y[_+0+32]=D+V+1>>1,y[_+2+32]=y[_+0+64]=V+q+1>>1,y[_+1+0]=Xe(T,D,V),y[_+3+0]=y[_+1+32]=Xe(D,V,q),y[_+3+32]=y[_+1+64]=Xe(V,q,q),y[_+3+64]=y[_+2+64]=y[_+0+96]=y[_+1+96]=y[_+2+96]=y[_+3+96]=q}function Ho(y,_){var T=y[_-1+0],D=y[_-1+32],V=y[_-1+64],q=y[_-1+96],W=y[_-1-32],J=y[_+0-32],ne=y[_+1-32],oe=y[_+2-32];y[_+0+0]=y[_+2+32]=T+W+1>>1,y[_+0+32]=y[_+2+64]=D+T+1>>1,y[_+0+64]=y[_+2+96]=V+D+1>>1,y[_+0+96]=q+V+1>>1,y[_+3+0]=Xe(J,ne,oe),y[_+2+0]=Xe(W,J,ne),y[_+1+0]=y[_+3+32]=Xe(T,W,J),y[_+1+32]=y[_+3+64]=Xe(D,T,W),y[_+1+64]=y[_+3+96]=Xe(V,D,T),y[_+1+96]=Xe(q,V,D)}function Ru(y,_){var T;for(T=0;8>T;++T)i(y,_+32*T,y,_-32,8)}function Sa(y,_){var T;for(T=0;8>T;++T)r(y,_,y[_-1],8),_+=32}function Nr(y,_,T){var D;for(D=0;8>D;++D)r(_,T+32*D,y,8)}function mc(y,_){var T,D=8;for(T=0;8>T;++T)D+=y[_+T-32]+y[_-1+32*T];Nr(D>>4,y,_)}function s0(y,_){var T,D=4;for(T=0;8>T;++T)D+=y[_+T-32];Nr(D>>3,y,_)}function kr(y,_){var T,D=4;for(T=0;8>T;++T)D+=y[_-1+32*T];Nr(D>>3,y,_)}function fs(y,_){Nr(128,y,_)}function Na(y,_,T){var D=y[_-T],V=y[_+0],q=3*(V-D)+ud[1020+y[_-2*T]-y[_+T]],W=Ou[112+(q+4>>3)];y[_-T]=Qi[255+D+Ou[112+(q+3>>3)]],y[_+0]=Qi[255+V-W]}function so(y,_,T,D){var V=y[_+0],q=y[_+T];return ms[255+y[_-2*T]-y[_-T]]>D||ms[255+q-V]>D}function yc(y,_,T,D){return 4*ms[255+y[_-T]-y[_+0]]+ms[255+y[_-2*T]-y[_+T]]<=D}function xc(y,_,T,D,V){var q=y[_-3*T],W=y[_-2*T],J=y[_-T],ne=y[_+0],oe=y[_+T],ye=y[_+2*T],ke=y[_+3*T];return 4*ms[255+J-ne]+ms[255+W-oe]>D?0:ms[255+y[_-4*T]-q]<=V&&ms[255+q-W]<=V&&ms[255+W-J]<=V&&ms[255+ke-ye]<=V&&ms[255+ye-oe]<=V&&ms[255+oe-ne]<=V}function Vr(y,_,T,D){var V=2*D+1;for(D=0;16>D;++D)yc(y,_+D,T,V)&&Na(y,_+D,T)}function Cs(y,_,T,D){var V=2*D+1;for(D=0;16>D;++D)yc(y,_+D*T,1,V)&&Na(y,_+D*T,1)}function ka(y,_,T,D){var V;for(V=3;0<V;--V)Vr(y,_+=4*T,T,D)}function $o(y,_,T,D){var V;for(V=3;0<V;--V)Cs(y,_+=4,T,D)}function cr(y,_,T,D,V,q,W,J){for(q=2*q+1;0<V--;){if(xc(y,_,T,q,W))if(so(y,_,T,J))Na(y,_,T);else{var ne=y,oe=_,ye=T,ke=ne[oe-2*ye],se=ne[oe-ye],xe=ne[oe+0],Ne=ne[oe+ye],Me=ne[oe+2*ye],_e=27*(ve=ud[1020+3*(xe-se)+ud[1020+ke-Ne]])+63>>7,Fe=18*ve+63>>7,ve=9*ve+63>>7;ne[oe-3*ye]=Qi[255+ne[oe-3*ye]+ve],ne[oe-2*ye]=Qi[255+ke+Fe],ne[oe-ye]=Qi[255+se+_e],ne[oe+0]=Qi[255+xe-_e],ne[oe+ye]=Qi[255+Ne-Fe],ne[oe+2*ye]=Qi[255+Me-ve]}_+=D}}function ci(y,_,T,D,V,q,W,J){for(q=2*q+1;0<V--;){if(xc(y,_,T,q,W))if(so(y,_,T,J))Na(y,_,T);else{var ne=y,oe=_,ye=T,ke=ne[oe-ye],se=ne[oe+0],xe=ne[oe+ye],Ne=Ou[112+(4+(Me=3*(se-ke))>>3)],Me=Ou[112+(Me+3>>3)],_e=Ne+1>>1;ne[oe-2*ye]=Qi[255+ne[oe-2*ye]+_e],ne[oe-ye]=Qi[255+ke+Me],ne[oe+0]=Qi[255+se-Ne],ne[oe+ye]=Qi[255+xe-_e]}_+=D}}function A(y,_,T,D,V,q){cr(y,_,T,1,16,D,V,q)}function H(y,_,T,D,V,q){cr(y,_,1,T,16,D,V,q)}function ae(y,_,T,D,V,q){var W;for(W=3;0<W;--W)ci(y,_+=4*T,T,1,16,D,V,q)}function ge(y,_,T,D,V,q){var W;for(W=3;0<W;--W)ci(y,_+=4,1,T,16,D,V,q)}function be(y,_,T,D,V,q,W,J){cr(y,_,V,1,8,q,W,J),cr(T,D,V,1,8,q,W,J)}function De(y,_,T,D,V,q,W,J){cr(y,_,1,V,8,q,W,J),cr(T,D,1,V,8,q,W,J)}function Ie(y,_,T,D,V,q,W,J){ci(y,_+4*V,V,1,8,q,W,J),ci(T,D+4*V,V,1,8,q,W,J)}function nt(y,_,T,D,V,q,W,J){ci(y,_+4,1,V,8,q,W,J),ci(T,D+4,1,V,8,q,W,J)}function Qe(){this.ba=new Cn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new un,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function it(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qt(){this.ua=0,this.Wa=new bt,this.vb=new bt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new $}function rn(){this.xb=this.a=0,this.l=new hn,this.ca=new Cn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qt,this.ab=0,this.gc=a(4,it),this.Oc=0}function ui(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new hn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vn(y,_,T,D,V,q,W){for(y=y==null?0:y[_+0],_=0;_<W;++_)V[q+_]=y+T[D+_]&255,y=V[q+_]}function hi(y,_,T,D,V,q,W){var J;if(y==null)vn(null,null,T,D,V,q,W);else for(J=0;J<W;++J)V[q+J]=y[_+J]+T[D+J]&255}function ii(y,_,T,D,V,q,W){if(y==null)vn(null,null,T,D,V,q,W);else{var J,ne=y[_+0],oe=ne,ye=ne;for(J=0;J<W;++J)oe=ye+(ne=y[_+J])-oe,ye=T[D+J]+(-256&oe?0>oe?0:255:oe)&255,oe=ne,V[q+J]=ye}}function Hi(y,_,T,D){var V=_.width,q=_.o;if(e(y!=null&&_!=null),0>T||0>=D||T+D>q)return null;if(!y.Cc){if(y.ga==null){var W;if(y.ga=new ui,(W=y.ga==null)||(W=_.width*_.o,e(y.Gb.length==0),y.Gb=s(W),y.Uc=0,y.Gb==null?W=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,W=1),W=!W),!W){W=y.ga;var J=y.Fa,ne=y.P,oe=y.qc,ye=y.mb,ke=y.nb,se=ne+1,xe=oe-1,Ne=W.l;if(e(J!=null&&ye!=null&&_!=null),uo[0]=null,uo[1]=vn,uo[2]=hi,uo[3]=ii,W.ca=ye,W.tb=ke,W.c=_.width,W.i=_.height,e(0<W.c&&0<W.i),1>=oe)_=0;else if(W.$a=3&J[ne+0],W.Z=J[ne+0]>>2&3,W.Lc=J[ne+0]>>4&3,ne=J[ne+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||ne)_=0;else if(Ne.put=St,Ne.ac=qs,Ne.bc=eo,Ne.ma=W,Ne.width=_.width,Ne.height=_.height,Ne.Da=_.Da,Ne.v=_.v,Ne.va=_.va,Ne.j=_.j,Ne.o=_.o,W.$a)e:{e(W.$a==1),_=ml();t:for(;;){if(_==null){_=0;break e}if(e(W!=null),W.mc=_,_.c=W.c,_.i=W.i,_.l=W.l,_.l.ma=W,_.l.width=W.c,_.l.height=W.i,_.a=0,te(_.m,J,se,xe),!xa(W.c,W.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Ws(_.s)?(W.ic=1,J=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(J),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(W.ic=0,_=yl(_,W.c)),!_))break t;_=1;break e}W.mc=null,_=0}else _=xe>=W.c*W.i;W=!_}if(W)return null;y.ga.Lc!=1?y.Ga=0:D=q-T}e(y.ga!=null),e(T+D<=q);e:{if(_=(J=y.ga).c,q=J.l.o,J.$a==0){if(se=y.rc,xe=y.Vc,Ne=y.Fa,ne=y.P+1+T*_,oe=y.mb,ye=y.nb+T*_,e(ne<=y.P+y.qc),J.Z!=0)for(e(uo[J.Z]!=null),W=0;W<D;++W)uo[J.Z](se,xe,Ne,ne,oe,ye,_),se=oe,xe=ye,ye+=_,ne+=_;else for(W=0;W<D;++W)i(oe,ye,Ne,ne,_),se=oe,xe=ye,ye+=_,ne+=_;y.rc=se,y.Vc=xe}else{if(e(J.mc!=null),_=T+D,e((W=J.mc)!=null),e(_<=W.i),W.C>=_)_=1;else if(J.ic||kl(),J.ic){J=W.V,se=W.Ba,xe=W.c;var Me=W.i,_e=(Ne=1,ne=W.$/xe,oe=W.$%xe,ye=W.m,ke=W.s,W.$),Fe=xe*Me,ve=xe*_,Be=ke.wc,Oe=_e<ve?qi(ke,oe,ne):null;e(_e<=Fe),e(_<=Me),e(Ws(ke));t:for(;;){for(;!ye.h&&_e<ve;){if(oe&Be||(Oe=qi(ke,oe,ne)),e(Oe!=null),X(ye),256>(Me=On(Oe.G[0],Oe.H[0],ye)))J[se+_e]=Me,++_e,++oe>=xe&&(oe=0,++ne<=_&&!(ne%16)&&Ks(W,ne));else{if(!(280>Me)){Ne=0;break t}Me=Ns(Me-256,ye);var pt,rt=On(Oe.G[4],Oe.H[4],ye);if(X(ye),!(_e>=(rt=hs(xe,rt=Ns(rt,ye)))&&Fe-_e>=Me)){Ne=0;break t}for(pt=0;pt<Me;++pt)J[se+_e+pt]=J[se+_e+pt-rt];for(_e+=Me,oe+=Me;oe>=xe;)oe-=xe,++ne<=_&&!(ne%16)&&Ks(W,ne);_e<ve&&oe&Be&&(Oe=qi(ke,oe,ne))}e(ye.h==ue(ye))}Ks(W,ne>_?_:ne);break t}!Ne||ye.h&&_e<Fe?(Ne=0,W.a=ye.h?5:3):W.$=_e,_=Ne}else _=Xs(W,W.V,W.Ba,W.c,W.i,_,hc);if(!_){D=0;break e}}T+D>=q&&(y.Cc=1),D=1}if(!D)return null;if(y.Cc&&((D=y.ga)!=null&&(D.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+T*V}function js(y,_,T,D,V,q){for(;0<V--;){var W,J=y,ne=_+(T?1:0),oe=y,ye=_+(T?0:3);for(W=0;W<D;++W){var ke=oe[ye+4*W];ke!=255&&(ke*=32897,J[ne+4*W+0]=J[ne+4*W+0]*ke>>23,J[ne+4*W+1]=J[ne+4*W+1]*ke>>23,J[ne+4*W+2]=J[ne+4*W+2]*ke>>23)}_+=q}}function ao(y,_,T,D,V){for(;0<D--;){var q;for(q=0;q<T;++q){var W=y[_+2*q+0],J=15&(oe=y[_+2*q+1]),ne=4369*J,oe=(240&oe|oe>>4)*ne>>16;y[_+2*q+0]=(240&W|W>>4)*ne>>16&240|(15&W|W<<4)*ne>>16>>4&15,y[_+2*q+1]=240&oe|J}_+=V}}function Go(y,_,T,D,V,q,W,J){var ne,oe,ye=255;for(oe=0;oe<V;++oe){for(ne=0;ne<D;++ne){var ke=y[_+ne];q[W+4*ne]=ke,ye&=ke}_+=T,W+=J}return ye!=255}function vc(y,_,T,D,V){var q;for(q=0;q<V;++q)T[D+q]=y[_+q]>>8}function kl(){co=js,ld=ao,cd=Go,a0=vc}function Hr(y,_,T){I[y]=function(D,V,q,W,J,ne,oe,ye,ke,se,xe,Ne,Me,_e,Fe,ve,Be){var Oe,pt=Be-1>>1,rt=J[ne+0]|oe[ye+0]<<16,Lt=ke[se+0]|xe[Ne+0]<<16;e(D!=null);var st=3*rt+Lt+131074>>2;for(_(D[V+0],255&st,st>>16,Me,_e),q!=null&&(st=3*Lt+rt+131074>>2,_(q[W+0],255&st,st>>16,Fe,ve)),Oe=1;Oe<=pt;++Oe){var qt=J[ne+Oe]|oe[ye+Oe]<<16,bi=ke[se+Oe]|xe[Ne+Oe]<<16,It=rt+qt+Lt+bi+524296,lt=It+2*(qt+Lt)>>3;st=lt+rt>>1,rt=(It=It+2*(rt+bi)>>3)+qt>>1,_(D[V+2*Oe-1],255&st,st>>16,Me,_e+(2*Oe-1)*T),_(D[V+2*Oe-0],255&rt,rt>>16,Me,_e+(2*Oe-0)*T),q!=null&&(st=It+Lt>>1,rt=lt+bi>>1,_(q[W+2*Oe-1],255&st,st>>16,Fe,ve+(2*Oe-1)*T),_(q[W+2*Oe+0],255&rt,rt>>16,Fe,ve+(2*Oe+0)*T)),rt=qt,Lt=bi}1&Be||(st=3*rt+Lt+131074>>2,_(D[V+Be-1],255&st,st>>16,Me,_e+(Be-1)*T),q!=null&&(st=3*Lt+rt+131074>>2,_(q[W+Be-1],255&st,st>>16,Fe,ve+(Be-1)*T)))}}function Fu(){ys[Pl]=Vg,ys[Ll]=y0,ys[d0]=Hg,ys[kc]=$g,ys[Iu]=jr,ys[hd]=mr,ys[f0]=Gg,ys[dd]=y0,ys[Bu]=$g,ys[zu]=jr,ys[fd]=mr}function Ca(y){return y&-16384?0>y?0:255:y>>x0}function Js(y,_){return Ca((19077*y>>8)+(26149*_>>8)-14234)}function Li(y,_,T){return Ca((19077*y>>8)-(6419*_>>8)-(13320*T>>8)+8708)}function ja(y,_){return Ca((19077*y>>8)+(33050*_>>8)-17685)}function $r(y,_,T,D,V){D[V+0]=Js(y,T),D[V+1]=Li(y,_,T),D[V+2]=ja(y,_)}function Cl(y,_,T,D,V){D[V+0]=ja(y,_),D[V+1]=Li(y,_,T),D[V+2]=Js(y,T)}function qo(y,_,T,D,V){var q=Li(y,_,T);_=q<<3&224|ja(y,_)>>3,D[V+0]=248&Js(y,T)|q>>5,D[V+1]=_}function $i(y,_,T,D,V){var q=240&ja(y,_)|15;D[V+0]=240&Js(y,T)|Li(y,_,T)>>4,D[V+1]=q}function oo(y,_,T,D,V){D[V+0]=255,$r(y,_,T,D,V+1)}function Wo(y,_,T,D,V){Cl(y,_,T,D,V),D[V+3]=255}function bc(y,_,T,D,V){$r(y,_,T,D,V),D[V+3]=255}function xi(y,_){return 0>y?0:y>_?_:y}function Gr(y,_,T){I[y]=function(D,V,q,W,J,ne,oe,ye,ke){for(var se=ye+(-2&ke)*T;ye!=se;)_(D[V+0],q[W+0],J[ne+0],oe,ye),_(D[V+1],q[W+0],J[ne+0],oe,ye+T),V+=2,++W,++ne,ye+=2*T;1&ke&&_(D[V+0],q[W+0],J[ne+0],oe,ye)}}function jl(y,_,T){return T==0?y==0?_==0?6:5:_==0?4:0:T}function Aa(y,_,T,D,V){switch(y>>>30){case 3:$n(_,T,D,V,0);break;case 2:Ts(_,T,D,V);break;case 1:pr(_,T,D,V)}}function Ti(y,_){var T,D,V=_.M,q=_.Nb,W=y.oc,J=y.pc+40,ne=y.oc,oe=y.pc+584,ye=y.oc,ke=y.pc+600;for(T=0;16>T;++T)W[J+32*T-1]=129;for(T=0;8>T;++T)ne[oe+32*T-1]=129,ye[ke+32*T-1]=129;for(0<V?W[J-1-32]=ne[oe-1-32]=ye[ke-1-32]=129:(r(W,J-32-1,127,21),r(ne,oe-32-1,127,9),r(ye,ke-32-1,127,9)),D=0;D<y.za;++D){var se=_.ya[_.aa+D];if(0<D){for(T=-1;16>T;++T)i(W,J+32*T-4,W,J+32*T+12,4);for(T=-1;8>T;++T)i(ne,oe+32*T-4,ne,oe+32*T+4,4),i(ye,ke+32*T-4,ye,ke+32*T+4,4)}var xe=y.Gd,Ne=y.Hd+D,Me=se.ad,_e=se.Hc;if(0<V&&(i(W,J-32,xe[Ne].y,0,16),i(ne,oe-32,xe[Ne].f,0,8),i(ye,ke-32,xe[Ne].ea,0,8)),se.Za){var Fe=W,ve=J-32+16;for(0<V&&(D>=y.za-1?r(Fe,ve,xe[Ne].y[15],4):i(Fe,ve,xe[Ne+1].y,0,4)),T=0;4>T;T++)Fe[ve+128+T]=Fe[ve+256+T]=Fe[ve+384+T]=Fe[ve+0+T];for(T=0;16>T;++T,_e<<=2)Fe=W,ve=J+yd[T],gr[se.Ob[T]](Fe,ve),Aa(_e,Me,16*+T,Fe,ve)}else if(Fe=jl(D,V,se.Ob[0]),Ea[Fe](W,J),_e!=0)for(T=0;16>T;++T,_e<<=2)Aa(_e,Me,16*+T,W,J+yd[T]);for(T=se.Gc,Fe=jl(D,V,se.Dd),ia[Fe](ne,oe),ia[Fe](ye,ke),_e=Me,Fe=ne,ve=oe,255&(se=0|T)&&(170&se?Ko(_e,256,Fe,ve):jn(_e,256,Fe,ve)),se=ye,_e=ke,255&(T>>=8)&&(170&T?Ko(Me,320,se,_e):jn(Me,320,se,_e)),V<y.Ub-1&&(i(xe[Ne].y,0,W,J+480,16),i(xe[Ne].f,0,ne,oe+224,8),i(xe[Ne].ea,0,ye,ke+224,8)),T=8*q*y.B,xe=y.sa,Ne=y.ta+16*D+16*q*y.R,Me=y.qa,se=y.ra+8*D+T,_e=y.Ha,Fe=y.Ia+8*D+T,T=0;16>T;++T)i(xe,Ne+T*y.R,W,J+32*T,16);for(T=0;8>T;++T)i(Me,se+T*y.B,ne,oe+32*T,8),i(_e,Fe+T*y.B,ye,ke+32*T,8)}}function As(y,_,T,D,V,q,W,J,ne){var oe=[0],ye=[0],ke=0,se=ne!=null?ne.kd:0,xe=ne??new yt;if(y==null||12>T)return 7;xe.data=y,xe.w=_,xe.ha=T,_=[_],T=[T],xe.gb=[xe.gb];e:{var Ne=_,Me=T,_e=xe.gb;if(e(y!=null),e(Me!=null),e(_e!=null),_e[0]=0,12<=Me[0]&&!n(y,Ne[0],"RIFF")){if(n(y,Ne[0]+8,"WEBP")){_e=3;break e}var Fe=je(y,Ne[0]+4);if(12>Fe||4294967286<Fe){_e=3;break e}if(se&&Fe>Me[0]-8){_e=7;break e}_e[0]=Fe,Ne[0]+=12,Me[0]-=12}_e=0}if(_e!=0)return _e;for(Fe=0<xe.gb[0],T=T[0];;){e:{var ve=y;Me=_,_e=T;var Be=oe,Oe=ye,pt=Ne=[0];if((st=ke=[ke])[0]=0,8>_e[0])_e=7;else{if(!n(ve,Me[0],"VP8X")){if(je(ve,Me[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var rt=je(ve,Me[0]+8),Lt=1+ze(ve,Me[0]+12);if(2147483648<=Lt*(ve=1+ze(ve,Me[0]+15))){_e=3;break e}pt!=null&&(pt[0]=rt),Be!=null&&(Be[0]=Lt),Oe!=null&&(Oe[0]=ve),Me[0]+=18,_e[0]-=18,st[0]=1}_e=0}}if(ke=ke[0],Ne=Ne[0],_e!=0)return _e;if(Me=!!(2&Ne),!Fe&&ke)return 3;if(q!=null&&(q[0]=!!(16&Ne)),W!=null&&(W[0]=Me),J!=null&&(J[0]=0),W=oe[0],Ne=ye[0],ke&&Me&&ne==null){_e=0;break}if(4>T){_e=7;break}if(Fe&&ke||!Fe&&!ke&&!n(y,_[0],"ALPH")){T=[T],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{rt=y,_e=_,Fe=T;var st=xe.gb;Be=xe.na,Oe=xe.P,pt=xe.Sa,Lt=22,e(rt!=null),e(Fe!=null),ve=_e[0];var qt=Fe[0];for(e(Be!=null),e(pt!=null),Be[0]=null,Oe[0]=null,pt[0]=0;;){if(_e[0]=ve,Fe[0]=qt,8>qt){_e=7;break e}var bi=je(rt,ve+4);if(4294967286<bi){_e=3;break e}var It=8+bi+1&-2;if(Lt+=It,0<st&&Lt>st){_e=3;break e}if(!n(rt,ve,"VP8 ")||!n(rt,ve,"VP8L")){_e=0;break e}if(qt[0]<It){_e=7;break e}n(rt,ve,"ALPH")||(Be[0]=rt,Oe[0]=ve+8,pt[0]=bi),ve+=It,qt-=It}}if(T=T[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],_e!=0)break}T=[T],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(st=y,_e=_,Fe=T,Be=xe.gb[0],Oe=xe.Ja,pt=xe.xa,rt=_e[0],ve=!n(st,rt,"VP8 "),Lt=!n(st,rt,"VP8L"),e(st!=null),e(Fe!=null),e(Oe!=null),e(pt!=null),8>Fe[0])_e=7;else{if(ve||Lt){if(st=je(st,rt+4),12<=Be&&st>Be-12){_e=3;break e}if(se&&st>Fe[0]-8){_e=7;break e}Oe[0]=st,_e[0]+=8,Fe[0]-=8,pt[0]=Lt}else pt[0]=5<=Fe[0]&&st[rt+0]==47&&!(st[rt+4]>>5),Oe[0]=Fe[0];_e=0}if(T=T[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],_=_[0],_e!=0)break;if(4294967286<xe.Ja)return 3;if(J==null||Me||(J[0]=xe.xa?2:1),W=[W],Ne=[Ne],xe.xa){if(5>T){_e=7;break}J=W,se=Ne,Me=q,y==null||5>T?y=0:5<=T&&y[_+0]==47&&!(y[_+4]>>5)?(Fe=[0],st=[0],Be=[0],te(Oe=new K,y,_,T),to(Oe,Fe,st,Be)?(J!=null&&(J[0]=Fe[0]),se!=null&&(se[0]=st[0]),Me!=null&&(Me[0]=Be[0]),y=1):y=0):y=0}else{if(10>T){_e=7;break}J=Ne,y==null||10>T||!Wi(y,_+3,T-3)?y=0:(se=y[_+0]|y[_+1]<<8|y[_+2]<<16,Me=16383&(y[_+7]<<8|y[_+6]),y=16383&(y[_+9]<<8|y[_+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=xe.Ja||!Me||!y?y=0:(W&&(W[0]=Me),J&&(J[0]=y),y=1))}if(!y||(W=W[0],Ne=Ne[0],ke&&(oe[0]!=W||ye[0]!=Ne)))return 3;ne!=null&&(ne[0]=xe,ne.offset=_-ne.w,e(4294967286>_-ne.w),e(ne.offset==ne.ha-T));break}return _e==0||_e==7&&ke&&ne==null?(q!=null&&(q[0]|=xe.na!=null&&0<xe.na.length),D!=null&&(D[0]=W),V!=null&&(V[0]=Ne),0):_e}function ur(y,_,T){var D=_.width,V=_.height,q=0,W=0,J=D,ne=V;if(_.Da=y!=null&&0<y.Da,_.Da&&(J=y.cd,ne=y.bd,q=y.v,W=y.j,11>T||(q&=-2,W&=-2),0>q||0>W||0>=J||0>=ne||q+J>D||W+ne>V))return 0;if(_.v=q,_.j=W,_.va=q+J,_.o=W+ne,_.U=J,_.T=ne,_.da=y!=null&&0<y.da,_.da){if(!ht(J,ne,T=[y.ib],q=[y.hb]))return 0;_.ib=T[0],_.hb=q[0]}return _.ob=y!=null&&y.ob,_.Kb=y==null||!y.Sd,_.da&&(_.ob=_.ib<3*D/4&&_.hb<3*V/4,_.Kb=0),1}function Cr(y){if(y==null)return 2;if(11>y.S){var _=y.f.RGBA;_.fb+=(y.height-1)*_.A,_.A=-_.A}else _=y.f.kb,y=y.height,_.O+=(y-1)*_.fa,_.fa=-_.fa,_.N+=(y-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(y-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(y-1)*_.lb,_.lb=-_.lb);return 0}function hr(y,_,T,D){if(D==null||0>=y||0>=_)return 2;if(T!=null){if(T.Da){var V=T.cd,q=T.bd,W=-2&T.v,J=-2&T.j;if(0>W||0>J||0>=V||0>=q||W+V>y||J+q>_)return 2;y=V,_=q}if(T.da){if(!ht(y,_,V=[T.ib],q=[T.hb]))return 2;y=V[0],_=q[0]}}D.width=y,D.height=_;e:{var ne=D.width,oe=D.height;if(y=D.S,0>=ne||0>=oe||!(y>=Pl&&13>y))y=2;else{if(0>=D.Rd&&D.sd==null){W=q=V=_=0;var ye=(J=ne*xd[y])*oe;if(11>y||(q=(oe+1)/2*(_=(ne+1)/2),y==12&&(W=(V=ne)*oe)),(oe=s(ye+2*q+W))==null){y=1;break e}D.sd=oe,11>y?((ne=D.f.RGBA).eb=oe,ne.fb=0,ne.A=J,ne.size=ye):((ne=D.f.kb).y=oe,ne.O=0,ne.fa=J,ne.Fd=ye,ne.f=oe,ne.N=0+ye,ne.Ab=_,ne.Cd=q,ne.ea=oe,ne.W=0+ye+q,ne.Db=_,ne.Ed=q,y==12&&(ne.F=oe,ne.J=0+ye+2*q),ne.Tc=W,ne.lb=V)}if(_=1,V=D.S,q=D.width,W=D.height,V>=Pl&&13>V)if(11>V)y=D.f.RGBA,_&=(J=Math.abs(y.A))*(W-1)+q<=y.size,_&=J>=q*xd[V],_&=y.eb!=null;else{y=D.f.kb,J=(q+1)/2,ye=(W+1)/2,ne=Math.abs(y.fa),oe=Math.abs(y.Ab);var ke=Math.abs(y.Db),se=Math.abs(y.lb),xe=se*(W-1)+q;_&=ne*(W-1)+q<=y.Fd,_&=oe*(ye-1)+J<=y.Cd,_=(_&=ke*(ye-1)+J<=y.Ed)&ne>=q&oe>=J&ke>=J,_&=y.y!=null,_&=y.f!=null,_&=y.ea!=null,V==12&&(_&=se>=q,_&=xe<=y.Tc,_&=y.F!=null)}else _=0;y=_?0:2}}return y!=0||T!=null&&T.fd&&(y=Cr(D)),y}var Ki=64,Pa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],wc=24,dr=32,Nn=8,_c=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(y){return y},I.Predictor2=function(y,_,T){return _[T+0]},I.Predictor3=function(y,_,T){return _[T+1]},I.Predictor4=function(y,_,T){return _[T-1]},I.Predictor5=function(y,_,T){return Ee(Ee(y,_[T+1]),_[T+0])},I.Predictor6=function(y,_,T){return Ee(y,_[T-1])},I.Predictor7=function(y,_,T){return Ee(y,_[T+0])},I.Predictor8=function(y,_,T){return Ee(_[T-1],_[T+0])},I.Predictor9=function(y,_,T){return Ee(_[T+0],_[T+1])},I.Predictor10=function(y,_,T){return Ee(Ee(y,_[T-1]),Ee(_[T+0],_[T+1]))},I.Predictor11=function(y,_,T){var D=_[T+0];return 0>=dt(D>>24&255,y>>24&255,(_=_[T-1])>>24&255)+dt(D>>16&255,y>>16&255,_>>16&255)+dt(D>>8&255,y>>8&255,_>>8&255)+dt(255&D,255&y,255&_)?D:y},I.Predictor12=function(y,_,T){var D=_[T+0];return(qe((y>>24&255)+(D>>24&255)-((_=_[T-1])>>24&255))<<24|qe((y>>16&255)+(D>>16&255)-(_>>16&255))<<16|qe((y>>8&255)+(D>>8&255)-(_>>8&255))<<8|qe((255&y)+(255&D)-(255&_)))>>>0},I.Predictor13=function(y,_,T){var D=_[T-1];return(Ge((y=Ee(y,_[T+0]))>>24&255,D>>24&255)<<24|Ge(y>>16&255,D>>16&255)<<16|Ge(y>>8&255,D>>8&255)<<8|Ge(255&y,255&D))>>>0};var Zs=I.PredictorAdd0;I.PredictorAdd1=Ht,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var ps=I.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Al,lo=I.ColorIndexInverseTransform,Xi=I.MapARGB,La=I.VP8LColorIndexInverseTransformAlpha,Ps=I.MapAlpha,fr=I.VP8LPredictorsAdd=[];fr.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var ea,Ta,qr,Ls,kt,bn,Hn,$n,Ts,Ko,pr,jn,vi,Ei,Du,Sc,Nc,Mg,Yi,sd,ad,od,ta,gs,co,ld,cd,a0,o0=s(511),l0=s(2041),c0=s(225),u0=s(767),h0=0,ud=l0,Ou=c0,Qi=u0,ms=o0,Pl=0,Ll=1,d0=2,kc=3,Iu=4,hd=5,f0=6,dd=7,Bu=8,zu=9,fd=10,Rg=[2,3,7],py=[3,3,11],p0=[280,256,256,256,40],gy=[0,1,1,1,0],my=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Fg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Dg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Og=8,Cc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],g0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Uu=null,yy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],na=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],pd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ig=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Bg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],zg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ea=[],gr=[],ia=[],m0=1,Ug=2,uo=[],ys=[];Hr("UpsampleRgbLinePair",$r,3),Hr("UpsampleBgrLinePair",Cl,3),Hr("UpsampleRgbaLinePair",bc,4),Hr("UpsampleBgraLinePair",Wo,4),Hr("UpsampleArgbLinePair",oo,4),Hr("UpsampleRgba4444LinePair",$i,2),Hr("UpsampleRgb565LinePair",qo,2);var Vg=I.UpsampleRgbLinePair,Hg=I.UpsampleBgrLinePair,y0=I.UpsampleRgbaLinePair,$g=I.UpsampleBgraLinePair,jr=I.UpsampleArgbLinePair,mr=I.UpsampleRgba4444LinePair,Gg=I.UpsampleRgb565LinePair,Vu=16,Hu=1<<Vu-1,jc=-227,md=482,x0=6,v0=0,b0=s(256),qg=s(256),Wg=s(256),w0=s(256),_0=s(md-jc),Kg=s(md-jc);Gr("YuvToRgbRow",$r,3),Gr("YuvToBgrRow",Cl,3),Gr("YuvToRgbaRow",bc,4),Gr("YuvToBgraRow",Wo,4),Gr("YuvToArgbRow",oo,4),Gr("YuvToRgba4444Row",$i,2),Gr("YuvToRgb565Row",qo,2);var yd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Tl=[0,2,8],xy=[8,7,6,4,4,2,2,2,1,1,1,1],Xg=1;this.WebPDecodeRGBA=function(y,_,T,D,V){var q=Ll,W=new Qe,J=new Cn;W.ba=J,J.S=q,J.width=[J.width],J.height=[J.height];var ne=J.width,oe=J.height,ye=new Pt;if(ye==null||y==null)var ke=2;else e(ye!=null),ke=As(y,_,T,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(ke!=0?ne=0:(ne!=null&&(ne[0]=ye.width[0]),oe!=null&&(oe[0]=ye.height[0]),ne=1),ne){J.width=J.width[0],J.height=J.height[0],D!=null&&(D[0]=J.width),V!=null&&(V[0]=J.height);e:{if(D=new hn,(V=new yt).data=y,V.w=_,V.ha=T,V.kd=1,_=[0],e(V!=null),((y=As(V.data,V.w,V.ha,null,null,null,_,null,V))==0||y==7)&&_[0]&&(y=4),(_=y)==0){if(e(W!=null),D.data=V.data,D.w=V.w+V.offset,D.ha=V.ha-V.offset,D.put=St,D.ac=qs,D.bc=eo,D.ma=W,V.xa){if((y=ml())==null){W=1;break e}if(function(se,xe){var Ne=[0],Me=[0],_e=[0];t:for(;;){if(se==null)return 0;if(xe==null)return se.a=2,0;if(se.l=xe,se.a=0,te(se.m,xe.data,xe.w,xe.ha),!to(se.m,Ne,Me,_e)){se.a=3;break t}if(se.xb=Ug,xe.width=Ne[0],xe.height=Me[0],!xa(Ne[0],Me[0],1,se,null))break t;return 1}return e(se.a!=0),0}(y,D)){if(D=(_=hr(D.width,D.height,W.Oa,W.ba))==0){t:{D=y;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((T=D.l)!=null),e((V=T.ma)!=null),D.xb!=0){if(D.ca=V.ba,D.tb=V.tb,e(D.ca!=null),!ur(V.Oa,T,kc)){D.a=2;break n}if(!yl(D,T.width)||T.da)break n;if((T.da||Ot(D.ca.S))&&kl(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&kl()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!le(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!Xs(D,D.V,D.Ba,D.c,D.i,T.o,Io))break n;V.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(_=y.a)}else _=y.a}else{if((y=new va)==null){W=1;break e}if(y.Fa=V.na,y.P=V.P,y.qc=V.Sa,ba(y,D)){if((_=hr(D.width,D.height,W.Oa,W.ba))==0){if(y.Aa=0,T=W.Oa,e((V=y)!=null),T!=null){if(0<(ne=0>(ne=T.Md)?0:100<ne?255:255*ne/100)){for(oe=ye=0;4>oe;++oe)12>(ke=V.pb[oe]).lc&&(ke.ia=ne*xy[0>ke.lc?0:ke.lc]>>3),ye|=ke.ia;ye&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=T.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(se,xe){if(se==null)return 0;if(xe==null)return Yt(se,2,"NULL VP8Io parameter in VP8Decode().");if(!se.cb&&!ba(se,xe))return 0;if(e(se.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(se.L=0);var Ne=Tl[se.L];if(se.L==2?(se.yb=0,se.zb=0):(se.yb=xe.v-Ne>>4,se.zb=xe.j-Ne>>4,0>se.yb&&(se.yb=0),0>se.zb&&(se.zb=0)),se.Va=xe.o+15+Ne>>4,se.Hb=xe.va+15+Ne>>4,se.Hb>se.za&&(se.Hb=se.za),se.Va>se.Ub&&(se.Va=se.Ub),0<se.L){var Me=se.ed;for(Ne=0;4>Ne;++Ne){var _e;if(se.Qa.Cb){var Fe=se.Qa.Lb[Ne];se.Qa.Fb||(Fe+=Me.Tb)}else Fe=Me.Tb;for(_e=0;1>=_e;++_e){var ve=se.gd[Ne][_e],Be=Fe;if(Me.Pc&&(Be+=Me.vd[0],_e&&(Be+=Me.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var Oe=Be;0<Me.wb&&(Oe=4<Me.wb?Oe>>2:Oe>>1)>9-Me.wb&&(Oe=9-Me.wb),1>Oe&&(Oe=1),ve.dd=Oe,ve.tc=2*Be+Oe,ve.ld=40<=Be?2:15<=Be?1:0}else ve.tc=0;ve.La=_e}}}Ne=0}else Yt(se,6,"Frame setup failed"),Ne=se.a;if(Ne=Ne==0){if(Ne){se.$c=0,0<se.Aa||(se.Ic=Xg);t:{Ne=se.Ic,Me=4*(Oe=se.za);var pt=32*Oe,rt=Oe+1,Lt=0<se.L?Oe*(0<se.Aa?2:1):0,st=(se.Aa==2?2:1)*Oe;if((ve=Me+832+(_e=3*(16*Ne+Tl[se.L])/2*pt)+(Fe=se.Fa!=null&&0<se.Fa.length?se.Kc.c*se.Kc.i:0))!=ve)Ne=0;else{if(ve>se.Vb){if(se.Vb=0,se.Ec=s(ve),se.Fc=0,se.Ec==null){Ne=Yt(se,1,"no memory during frame initialization.");break t}se.Vb=ve}ve=se.Ec,Be=se.Fc,se.Ac=ve,se.Bc=Be,Be+=Me,se.Gd=a(pt,Ys),se.Hd=0,se.rb=a(rt+1,xl),se.sb=1,se.wa=Lt?a(Lt,Br):null,se.Y=0,se.D.Nb=0,se.D.wa=se.wa,se.D.Y=se.Y,0<se.Aa&&(se.D.Y+=Oe),e(!0),se.oc=ve,se.pc=Be,Be+=832,se.ya=a(st,vl),se.aa=0,se.D.ya=se.ya,se.D.aa=se.aa,se.Aa==2&&(se.D.aa+=Oe),se.R=16*Oe,se.B=8*Oe,Oe=(pt=Tl[se.L])*se.R,pt=pt/2*se.B,se.sa=ve,se.ta=Be+Oe,se.qa=se.sa,se.ra=se.ta+16*Ne*se.R+pt,se.Ha=se.qa,se.Ia=se.ra+8*Ne*se.B+pt,se.$c=0,Be+=_e,se.mb=Fe?ve:null,se.nb=Fe?Be:null,e(Be+Fe<=se.Fc+se.Vb),yi(se),r(se.Ac,se.Bc,0,Me),Ne=1}}if(Ne){if(xe.ka=0,xe.y=se.sa,xe.O=se.ta,xe.f=se.qa,xe.N=se.ra,xe.ea=se.Ha,xe.Vd=se.Ia,xe.fa=se.R,xe.Rc=se.B,xe.F=null,xe.J=0,!h0){for(Ne=-255;255>=Ne;++Ne)o0[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)l0[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)c0[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)u0[255+Ne]=0>Ne?0:255<Ne?255:Ne;h0=1}Hn=bl,$n=ds,Ko=e0,pr=wa,jn=nd,Ts=td,vi=A,Ei=H,Du=be,Sc=De,Nc=ae,Mg=ge,Yi=Ie,sd=nt,ad=Vr,od=Cs,ta=ka,gs=$o,gr[0]=rd,gr[1]=io,gr[2]=id,gr[3]=Eu,gr[4]=i0,gr[5]=Tn,gr[6]=ro,gr[7]=Mu,gr[8]=Ho,gr[9]=r0,Ea[0]=_a,Ea[1]=t0,Ea[2]=n0,Ea[3]=wl,Ea[4]=_l,Ea[5]=Sl,Ea[6]=Nl,ia[0]=mc,ia[1]=gc,ia[2]=Ru,ia[3]=Sa,ia[4]=kr,ia[5]=s0,ia[6]=fs,Ne=1}else Ne=0}Ne&&(Ne=function(qt,bi){for(qt.M=0;qt.M<qt.Va;++qt.M){var It,lt=qt.Jc[qt.M&qt.Xb],We=qt.m,Gn=qt;for(It=0;It<Gn.za;++It){var gt=We,Mt=Gn,Zt=Mt.Ac,Mi=Mt.Bc+4*It,yr=Mt.zc,ln=Mt.ya[Mt.aa+It];if(Mt.Qa.Bb?ln.$b=Ce(gt,Mt.Pa.jb[0])?2+Ce(gt,Mt.Pa.jb[2]):Ce(gt,Mt.Pa.jb[1]):ln.$b=0,Mt.kc&&(ln.Ad=Ce(gt,Mt.Bd)),ln.Za=!Ce(gt,145)+0,ln.Za){var Ji=ln.Ob,In=0;for(Mt=0;4>Mt;++Mt){var Ri,en=yr[0+Mt];for(Ri=0;4>Ri;++Ri){en=Ig[Zt[Mi+Ri]][en];for(var pn=pd[Ce(gt,en[0])];0<pn;)pn=pd[2*pn+Ce(gt,en[pn])];en=-pn,Zt[Mi+Ri]=en}i(Ji,In,Zt,Mi,4),In+=4,yr[0+Mt]=en}}else en=Ce(gt,156)?Ce(gt,128)?1:3:Ce(gt,163)?2:0,ln.Ob[0]=en,r(Zt,Mi,en,4),r(yr,0,en,4);ln.Dd=Ce(gt,142)?Ce(gt,114)?Ce(gt,183)?1:3:2:0}if(Gn.m.Ka)return Yt(qt,7,"Premature end-of-partition0 encountered.");for(;qt.ja<qt.za;++qt.ja){if(Gn=lt,gt=(We=qt).rb[We.sb-1],Zt=We.rb[We.sb+We.ja],It=We.ya[We.aa+We.ja],Mi=We.kc?It.Ad:0)gt.la=Zt.la=0,It.Za||(gt.Na=Zt.Na=0),It.Hc=0,It.Gc=0,It.ia=0;else{var qn,gn;if(gt=Zt,Zt=Gn,Mi=We.Pa.Xc,yr=We.ya[We.aa+We.ja],ln=We.pb[yr.$b],Mt=yr.ad,Ji=0,In=We.rb[We.sb-1],en=Ri=0,r(Mt,Ji,0,384),yr.Za)var wi=0,Wr=Mi[3];else{pn=s(16);var Bn=gt.Na+In.Na;if(Bn=Uu(Zt,Mi[1],Bn,ln.Eb,0,pn,0),gt.Na=In.Na=(0<Bn)+0,1<Bn)Hn(pn,0,Mt,Ji);else{var Zi=pn[0]+3>>3;for(pn=0;256>pn;pn+=16)Mt[Ji+pn]=Zi}wi=1,Wr=Mi[0]}var mn=15&gt.la,Wn=15&In.la;for(pn=0;4>pn;++pn){var Ar=1&Wn;for(Zi=gn=0;4>Zi;++Zi)mn=mn>>1|(Ar=(Bn=Uu(Zt,Wr,Bn=Ar+(1&mn),ln.Sc,wi,Mt,Ji))>wi)<<7,gn=gn<<2|(3<Bn?3:1<Bn?2:Mt[Ji+0]!=0),Ji+=16;mn>>=4,Wn=Wn>>1|Ar<<7,Ri=(Ri<<8|gn)>>>0}for(Wr=mn,wi=Wn>>4,qn=0;4>qn;qn+=2){for(gn=0,mn=gt.la>>4+qn,Wn=In.la>>4+qn,pn=0;2>pn;++pn){for(Ar=1&Wn,Zi=0;2>Zi;++Zi)Bn=Ar+(1&mn),mn=mn>>1|(Ar=0<(Bn=Uu(Zt,Mi[2],Bn,ln.Qc,0,Mt,Ji)))<<3,gn=gn<<2|(3<Bn?3:1<Bn?2:Mt[Ji+0]!=0),Ji+=16;mn>>=2,Wn=Wn>>1|Ar<<5}en|=gn<<4*qn,Wr|=mn<<4<<qn,wi|=(240&Wn)<<qn}gt.la=Wr,In.la=wi,yr.Hc=Ri,yr.Gc=en,yr.ia=43690&en?0:ln.ia,Mi=!(Ri|en)}if(0<We.L&&(We.wa[We.Y+We.ja]=We.gd[It.$b][It.Za],We.wa[We.Y+We.ja].La|=!Mi),Gn.Ka)return Yt(qt,7,"Premature end-of-file encountered.")}if(yi(qt),We=bi,Gn=1,It=(lt=qt).D,gt=0<lt.L&&lt.M>=lt.zb&&lt.M<=lt.Va,lt.Aa==0)t:{if(It.M=lt.M,It.uc=gt,Ti(lt,It),Gn=1,It=(gn=lt.D).Nb,gt=(en=Tl[lt.L])*lt.R,Zt=en/2*lt.B,pn=16*It*lt.R,Zi=8*It*lt.B,Mi=lt.sa,yr=lt.ta-gt+pn,ln=lt.qa,Mt=lt.ra-Zt+Zi,Ji=lt.Ha,In=lt.Ia-Zt+Zi,Wn=(mn=gn.M)==0,Ri=mn>=lt.Va-1,lt.Aa==2&&Ti(lt,gn),gn.uc)for(Ar=(Bn=lt).D.M,e(Bn.D.uc),gn=Bn.yb;gn<Bn.Hb;++gn){wi=gn,Wr=Ar;var er=(Pr=(Wt=Bn).D).Nb;qn=Wt.R;var Pr=Pr.wa[Pr.Y+wi],Kr=Wt.sa,xr=Wt.ta+16*er*qn+16*wi,xs=Pr.dd,wn=Pr.tc;if(wn!=0)if(e(3<=wn),Wt.L==1)0<wi&&od(Kr,xr,qn,wn+4),Pr.La&&gs(Kr,xr,qn,wn),0<Wr&&ad(Kr,xr,qn,wn+4),Pr.La&&ta(Kr,xr,qn,wn);else{var Lr=Wt.B,dn=Wt.qa,Rt=Wt.ra+8*er*Lr+8*wi,En=Wt.Ha,Wt=Wt.Ia+8*er*Lr+8*wi;er=Pr.ld,0<wi&&(Ei(Kr,xr,qn,wn+4,xs,er),Sc(dn,Rt,En,Wt,Lr,wn+4,xs,er)),Pr.La&&(Mg(Kr,xr,qn,wn,xs,er),sd(dn,Rt,En,Wt,Lr,wn,xs,er)),0<Wr&&(vi(Kr,xr,qn,wn+4,xs,er),Du(dn,Rt,En,Wt,Lr,wn+4,xs,er)),Pr.La&&(Nc(Kr,xr,qn,wn,xs,er),Yi(dn,Rt,En,Wt,Lr,wn,xs,er))}}if(lt.ia&&alert("todo:DitherRow"),We.put!=null){if(gn=16*mn,mn=16*(mn+1),Wn?(We.y=lt.sa,We.O=lt.ta+pn,We.f=lt.qa,We.N=lt.ra+Zi,We.ea=lt.Ha,We.W=lt.Ia+Zi):(gn-=en,We.y=Mi,We.O=yr,We.f=ln,We.N=Mt,We.ea=Ji,We.W=In),Ri||(mn-=en),mn>We.o&&(mn=We.o),We.F=null,We.J=null,lt.Fa!=null&&0<lt.Fa.length&&gn<mn&&(We.J=Hi(lt,We,gn,mn-gn),We.F=lt.mb,We.F==null&&We.F.length==0)){Gn=Yt(lt,3,"Could not decode alpha data.");break t}gn<We.j&&(en=We.j-gn,gn=We.j,e(!(1&en)),We.O+=lt.R*en,We.N+=lt.B*(en>>1),We.W+=lt.B*(en>>1),We.F!=null&&(We.J+=We.width*en)),gn<mn&&(We.O+=We.v,We.N+=We.v>>1,We.W+=We.v>>1,We.F!=null&&(We.J+=We.v),We.ka=gn-We.j,We.U=We.va-We.v,We.T=mn-gn,Gn=We.put(We))}It+1!=lt.Ic||Ri||(i(lt.sa,lt.ta-gt,Mi,yr+16*lt.R,gt),i(lt.qa,lt.ra-Zt,ln,Mt+8*lt.B,Zt),i(lt.Ha,lt.Ia-Zt,Ji,In+8*lt.B,Zt))}if(!Gn)return Yt(qt,6,"Output aborted.")}return 1}(se,xe)),xe.bc!=null&&xe.bc(xe),Ne&=1}return Ne?(se.cb=0,Ne):0})(y,D)||(_=y.a)}}else _=y.a}_==0&&W.Oa!=null&&W.Oa.fd&&(_=Cr(W.ba))}W=_}q=W!=0?null:11>q?J.f.RGBA.eb:J.f.kb.y}else q=null;return q};var xd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(I,F){for(var P="",R=0;R<4;R++)P+=String.fromCharCode(I[F++]);return P}function h(I,F){return I[F+0]|I[F+1]<<8}function g(I,F){return(I[F+0]|I[F+1]<<8|I[F+2]<<16)>>>0}function m(I,F){return(I[F+0]|I[F+1]<<8|I[F+2]<<16|I[F+3]<<24)>>>0}new l;var p=[0],x=[0],b=[],S=new l,N=t,j=function(I,F){var P={},R=0,$=!1,G=0,ee=0;if(P.frames=[],!function(B,K){for(var ie=0;ie<4;ie++)if(B[K+ie]!="RIFF".charCodeAt(ie))return!0;return!1}(I,F)){for(m(I,F+=4),F+=8;F<I.length;){var ce=c(I,F),pe=m(I,F+=4);F+=4;var Z=pe+(1&pe);switch(ce){case"VP8 ":case"VP8L":P.frames[R]===void 0&&(P.frames[R]={}),(Y=P.frames[R]).src_off=$?ee:F-8,Y.src_size=G+pe+8,R++,$&&($=!1,G=0,ee=0);break;case"VP8X":(Y=P.header={}).feature_flags=I[F];var te=F+4;Y.canvas_width=1+g(I,te),te+=3,Y.canvas_height=1+g(I,te),te+=3;break;case"ALPH":$=!0,G=Z+8,ee=F-8;break;case"ANIM":(Y=P.header).bgcolor=m(I,F),te=F+4,Y.loop_count=h(I,te),te+=2;break;case"ANMF":var he,Y;(Y=P.frames[R]={}).offset_x=2*g(I,F),F+=3,Y.offset_y=2*g(I,F),F+=3,Y.width=1+g(I,F),F+=3,Y.height=1+g(I,F),F+=3,Y.duration=g(I,F),F+=3,he=I[F++],Y.dispose=1&he,Y.blend=he>>1&1}ce!="ANMF"&&(F+=Z)}return P}}(N,0);j.response=N,j.rgbaoutput=!0,j.dataurl=!1;var w=j.header?j.header:null,k=j.frames?j.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],x=[w.canvas_width];for(var E=0;E<k.length&&k[E].blend!=0;E++);}var O=k[0],U=S.WebPDecodeRGBA(N,O.src_off,O.src_size,x,p);O.rgba=U,O.imgwidth=x[0],O.imgheight=p[0];for(var M=0;M<x[0]*p[0]*4;M++)b[M]=U[M];return this.width=x,this.height=p,this.data=b,this}(function(t){var e,n,i,r,s,a,o,l,c,h=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new a,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new a,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var g=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=B;Object.defineProperty(this,"pdf",{get:function(){return K}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(je){ie=!!je}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(je){ue=!!je}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(je){isNaN(je)||(de=je)}});var X=0;Object.defineProperty(this,"posY",{get:function(){return X},set:function(je){isNaN(je)||(X=je)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(je){var le;typeof je=="number"?le=[je,je,je,je]:((le=new Array(4))[0]=je[0],le[1]=je.length>=2?je[1]:le[0],le[2]=je.length>=3?je[2]:le[0],le[3]=je.length>=4?je[3]:le[1]),c.margin=le}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(je){fe=je}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(je){me=je}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(je){Ce=je}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(je){je instanceof h&&(c=je)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(je){c.path=je}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(je){Te=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var le;le=m(je),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var le=m(je);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var Ue=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(je){Ue=null,ze=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var le;if(this.ctx.font=je,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var At=le[1];le[2];var bt=le[3],ht=le[4];le[5];var Ve=le[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ht)[2];ht=Math.floor(Ye==="px"?parseFloat(ht)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(ht)*this.pdf.getFontSize():parseFloat(ht)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ht);var Ke=function(wt){var tt,on,nn=[],mt=wt.trim();if(mt==="")return rv;if(mt in KN)return[KN[mt]];for(;mt!=="";){switch(on=null,tt=(mt=YN(mt)).charAt(0)){case'"':case"'":on=Mte(mt.substring(1),tt);break;default:on=Rte(mt)}if(on===null||(nn.push(on[0]),(mt=YN(on[1]))!==""&&mt.charAt(0)!==","))return rv;mt=mt.replace(/^,/,"")}return nn}(Ve);if(this.fontFaces){var Et=function(wt,tt){if(Ue===null){var on=function(nn){var mt=[];return Object.keys(nn).forEach(function(Dt){nn[Dt].forEach(function(kn){var _t=null;switch(kn){case"bold":_t={family:Dt,weight:"bold"};break;case"italic":_t={family:Dt,style:"italic"};break;case"bolditalic":_t={family:Dt,weight:"bold",style:"italic"};break;case"":case"normal":_t={family:Dt}}_t!==null&&(_t.ref={name:Dt,style:kn},mt.push(_t))})}),mt}(wt.getFontList());Ue=function(nn){for(var mt={},Dt=0;Dt<nn.length;++Dt){var kn=iv(nn[Dt]),_t=kn.family,Xt=kn.stretch,Ot=kn.style,li=kn.weight;mt[_t]=mt[_t]||{},mt[_t][Xt]=mt[_t][Xt]||{},mt[_t][Xt][Ot]=mt[_t][Xt][Ot]||{},mt[_t][Xt][Ot][li]=kn}return mt}(on.concat(tt))}return Ue}(this.pdf,this.fontFaces),Ee=Ke.map(function(wt){return{family:wt,stretch:"normal",weight:bt,style:At}}),qe=function(wt,tt,on){for(var nn=(on=on||{}).defaultFontFamily||"times",mt=Object.assign({},Ete,on.genericFontFamilies||{}),Dt=null,kn=null,_t=0;_t<tt.length;++_t)if(mt[(Dt=iv(tt[_t])).family]&&(Dt.family=mt[Dt.family]),wt.hasOwnProperty(Dt.family)){kn=wt[Dt.family];break}if(!(kn=kn||wt[nn]))throw new Error("Could not find a font-family for the rule '"+XN(Dt)+"' and default family '"+nn+"'.");if(kn=function(Xt,Ot){if(Ot[Xt])return Ot[Xt];var li=ub[Xt],Pi=li<=ub.normal?-1:1,Cn=WN(Ot,vT,li,Pi);if(!Cn)throw new Error("Could not find a matching font-stretch value for "+Xt);return Cn}(Dt.stretch,kn),kn=function(Xt,Ot){if(Ot[Xt])return Ot[Xt];for(var li=xT[Xt],Pi=0;Pi<li.length;++Pi)if(Ot[li[Pi]])return Ot[li[Pi]];throw new Error("Could not find a matching font-style for "+Xt)}(Dt.style,kn),!(kn=function(Xt,Ot){if(Ot[Xt])return Ot[Xt];if(Xt===400&&Ot[500])return Ot[500];if(Xt===500&&Ot[400])return Ot[400];var li=Tte[Xt],Pi=WN(Ot,bT,li,Xt<400?-1:1);if(!Pi)throw new Error("Could not find a matching font-weight for value "+Xt);return Pi}(Dt.weight,kn)))throw new Error("Failed to resolve a font for the rule '"+XN(Dt)+"'.");return kn}(Et,Ee);this.pdf.setFont(qe.ref.name,qe.ref.style)}else{var Ge="";(bt==="bold"||parseInt(bt,10)>=700||At==="bold")&&(Ge="bold"),At==="italic"&&(Ge+="italic"),Ge.length===0&&(Ge="normal");for(var dt="",Ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<Ke.length;ft++){if(this.pdf.internal.getFont(Ke[ft],Ge,{noFallback:!0,disableWarning:!0})!==void 0){dt=Ke[ft];break}if(Ge==="bolditalic"&&this.pdf.internal.getFont(Ke[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)dt=Ke[ft],Ge="bold";else if(this.pdf.internal.getFont(Ke[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){dt=Ke[ft],Ge="normal";break}}if(dt===""){for(var ot=0;ot<Ke.length;ot++)if(Ht[Ke[ot]]){dt=Ht[Ke[ot]];break}}dt=dt===""?"Times":dt,this.pdf.setFont(dt,Ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};g.prototype.setLineDash=function(B){this.lineDash=B},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){k.call(this,"fill",!1)},g.prototype.stroke=function(){k.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(B,K){if(isNaN(B)||isNaN(K))throw Fn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new a(B,K));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(B,K)},g.prototype.closePath=function(){var B=new a(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Pn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){B=new a(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(B.x,B.y)},g.prototype.lineTo=function(B,K){if(isNaN(B)||isNaN(K))throw Fn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new a(B,K));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(ie.x,ie.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},g.prototype.quadraticCurveTo=function(B,K,ie,ue){if(isNaN(ie)||isNaN(ue)||isNaN(B)||isNaN(K))throw Fn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new a(ie,ue)),X=this.ctx.transform.applyToPoint(new a(B,K));this.path.push({type:"qct",x1:X.x,y1:X.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},g.prototype.bezierCurveTo=function(B,K,ie,ue,de,X){if(isNaN(de)||isNaN(X)||isNaN(B)||isNaN(K)||isNaN(ie)||isNaN(ue))throw Fn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new a(de,X)),me=this.ctx.transform.applyToPoint(new a(B,K)),Ce=this.ctx.transform.applyToPoint(new a(ie,ue));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Ce.x,y2:Ce.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},g.prototype.arc=function(B,K,ie,ue,de,X){if(isNaN(B)||isNaN(K)||isNaN(ie)||isNaN(ue)||isNaN(de))throw Fn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(X=!!X,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new a(B,K));B=fe.x,K=fe.y;var me=this.ctx.transform.applyToPoint(new a(0,ie)),Ce=this.ctx.transform.applyToPoint(new a(0,0));ie=Math.sqrt(Math.pow(me.x-Ce.x,2)+Math.pow(me.y-Ce.y,2))}Math.abs(de-ue)>=2*Math.PI&&(ue=0,de=2*Math.PI),this.path.push({type:"arc",x:B,y:K,radius:ie,startAngle:ue,endAngle:de,counterclockwise:X})},g.prototype.arcTo=function(B,K,ie,ue,de){throw new Error("arcTo not implemented.")},g.prototype.rect=function(B,K,ie,ue){if(isNaN(B)||isNaN(K)||isNaN(ie)||isNaN(ue))throw Fn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,K),this.lineTo(B+ie,K),this.lineTo(B+ie,K+ue),this.lineTo(B,K+ue),this.lineTo(B,K),this.lineTo(B+ie,K),this.lineTo(B,K)},g.prototype.fillRect=function(B,K,ie,ue){if(isNaN(B)||isNaN(K)||isNaN(ie)||isNaN(ue))throw Fn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,K,ie,ue),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},g.prototype.strokeRect=function(B,K,ie,ue){if(isNaN(B)||isNaN(K)||isNaN(ie)||isNaN(ue))throw Fn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(B,K,ie,ue),this.stroke())},g.prototype.clearRect=function(B,K,ie,ue){if(isNaN(B)||isNaN(K)||isNaN(ie)||isNaN(ue))throw Fn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,K,ie,ue))},g.prototype.save=function(B){B=typeof B!="boolean"||B;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},g.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(K),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(B){var K,ie,ue,de;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))K=0,ie=0,ue=0,de=0;else{var X=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(X!==null)K=parseInt(X[1]),ie=parseInt(X[2]),ue=parseInt(X[3]),de=1;else if((X=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)K=parseInt(X[1]),ie=parseInt(X[2]),ue=parseInt(X[3]),de=parseFloat(X[4]);else{if(de=1,typeof B=="string"&&B.charAt(0)!=="#"){var fe=new hT(B);B=fe.ok?fe.toHex():"#000000"}B.length===4?(K=B.substring(1,2),K+=K,ie=B.substring(2,3),ie+=ie,ue=B.substring(3,4),ue+=ue):(K=B.substring(1,3),ie=B.substring(3,5),ue=B.substring(5,7)),K=parseInt(K,16),ie=parseInt(ie,16),ue=parseInt(ue,16)}}return{r:K,g:ie,b:ue,a:de,style:B}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(B,K,ie,ue){if(isNaN(K)||isNaN(ie)||typeof B!="string")throw Fn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!p.call(this)){var de=Z(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;R.call(this,{text:B,x:K,y:ie,scale:X,angle:de,align:this.textAlign,maxWidth:ue})}},g.prototype.strokeText=function(B,K,ie,ue){if(isNaN(K)||isNaN(ie)||typeof B!="string")throw Fn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ue=isNaN(ue)?void 0:ue;var de=Z(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;R.call(this,{text:B,x:K,y:ie,scale:X,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ue})}},g.prototype.measureText=function(B){if(typeof B!="string")throw Fn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,ie=this.pdf.internal.scaleFactor,ue=K.internal.getFontSize(),de=K.getStringUnitWidth(B)*ue/K.internal.scaleFactor;return new function(X){var fe=(X=X||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:de*=Math.round(96*ie/72*1e4)/1e4})},g.prototype.scale=function(B,K){if(isNaN(B)||isNaN(K))throw Fn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new l(B,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},g.prototype.rotate=function(B){if(isNaN(B))throw Fn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},g.prototype.translate=function(B,K){if(isNaN(B)||isNaN(K))throw Fn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new l(1,0,0,1,B,K);this.ctx.transform=this.ctx.transform.multiply(ie)},g.prototype.transform=function(B,K,ie,ue,de,X){if(isNaN(B)||isNaN(K)||isNaN(ie)||isNaN(ue)||isNaN(de)||isNaN(X))throw Fn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(B,K,ie,ue,de,X);this.ctx.transform=this.ctx.transform.multiply(fe)},g.prototype.setTransform=function(B,K,ie,ue,de,X){B=isNaN(B)?1:B,K=isNaN(K)?0:K,ie=isNaN(ie)?0:ie,ue=isNaN(ue)?1:ue,de=isNaN(de)?0:de,X=isNaN(X)?0:X,this.ctx.transform=new l(B,K,ie,ue,de,X)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(B,K,ie,ue,de,X,fe,me,Ce){var Te=this.pdf.getImageProperties(B),Ue=1,ze=1,je=1,le=1;ue!==void 0&&me!==void 0&&(je=me/ue,le=Ce/de,Ue=Te.width/ue*me/ue,ze=Te.height/de*Ce/de),X===void 0&&(X=K,fe=ie,K=0,ie=0),ue!==void 0&&me===void 0&&(me=ue,Ce=de),ue===void 0&&me===void 0&&(me=Te.width,Ce=Te.height);for(var At,bt=this.ctx.transform.decompose(),ht=Z(bt.rotate.shx),Ve=new l,Ye=(Ve=(Ve=(Ve=Ve.multiply(bt.translate)).multiply(bt.skew)).multiply(bt.scale)).applyToRectangle(new o(X-K*je,fe-ie*le,ue*Ue,de*ze)),Ke=S.call(this,Ye),Et=[],Ee=0;Ee<Ke.length;Ee+=1)Et.indexOf(Ke[Ee])===-1&&Et.push(Ke[Ee]);if(w(Et),this.autoPaging)for(var qe=Et[0],Ge=Et[Et.length-1],dt=qe;dt<Ge+1;dt++){this.pdf.setPage(dt);var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=dt===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=dt===1?0:ot+(dt-2)*wt;if(this.ctx.clip_path.length!==0){var on=this.path;At=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(At,this.posX+this.margin[3],-tt+ft+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=on}var nn=JSON.parse(JSON.stringify(Ye));nn=j([nn],this.posX+this.margin[3],-tt+ft+this.ctx.prevPageLastElemOffset)[0];var mt=(dt>qe||dt<Ge)&&b.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,wt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,ht),mt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,ht)};var S=function(B,K,ie){var ue=[];K=K||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ue.push(Math.floor((B.y+de)/ie)+1);break;case"arc":ue.push(Math.floor((B.y+de-B.radius)/ie)+1),ue.push(Math.floor((B.y+de+B.radius)/ie)+1);break;case"qct":var X=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ue.push(Math.floor((X.y+de)/ie)+1),ue.push(Math.floor((X.y+X.h+de)/ie)+1);break;case"bct":var fe=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ue.push(Math.floor((fe.y+de)/ie)+1),ue.push(Math.floor((fe.y+fe.h+de)/ie)+1);break;case"rect":ue.push(Math.floor((B.y+de)/ie)+1),ue.push(Math.floor((B.y+B.h+de)/ie)+1)}for(var me=0;me<ue.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<ue[me];)N.call(this);return ue},N=function(){var B=this.fillStyle,K=this.strokeStyle,ie=this.font,ue=this.lineCap,de=this.lineWidth,X=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=K,this.font=ie,this.lineCap=ue,this.lineWidth=de,this.lineJoin=X},j=function(B,K,ie){for(var ue=0;ue<B.length;ue++)switch(B[ue].type){case"bct":B[ue].x2+=K,B[ue].y2+=ie;case"qct":B[ue].x1+=K,B[ue].y1+=ie;default:B[ue].x+=K,B[ue].y+=ie}return B},w=function(B){return B.sort(function(K,ie){return K-ie})},k=function(B,K){for(var ie,ue,de=this.fillStyle,X=this.strokeStyle,fe=this.lineCap,me=this.lineWidth,Ce=Math.abs(me*this.ctx.transform.scaleX),Te=this.lineJoin,Ue=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),je=[],le=0;le<ze.length;le++)if(ze[le].x!==void 0)for(var At=S.call(this,ze[le]),bt=0;bt<At.length;bt+=1)je.indexOf(At[bt])===-1&&je.push(At[bt]);for(var ht=0;ht<je.length;ht++)for(;this.pdf.internal.getNumberOfPages()<je[ht];)N.call(this);if(w(je),this.autoPaging)for(var Ve=je[0],Ye=je[je.length-1],Ke=Ve;Ke<Ye+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=de,this.strokeStyle=X,this.lineCap=fe,this.lineWidth=Ce,this.lineJoin=Te;var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ee=Ke===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Ke===1?0:qe+(Ke-2)*Ge;if(this.ctx.clip_path.length!==0){var Ht=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ie,this.posX+this.margin[3],-dt+Ee+this.ctx.prevPageLastElemOffset),E.call(this,B,!0),this.path=Ht}if(ue=JSON.parse(JSON.stringify(Ue)),this.path=j(ue,this.posX+this.margin[3],-dt+Ee+this.ctx.prevPageLastElemOffset),K===!1||Ke===0){var ft=(Ke>Ve||Ke<Ye)&&b.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Ge,null).clip().discardPath()),E.call(this,B,K),ft&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Ce,E.call(this,B,K),this.lineWidth=me;this.path=Ue},E=function(B,K){if((B!=="stroke"||K||!x.call(this))&&(B==="stroke"||K||!p.call(this))){for(var ie,ue,de=[],X=this.path,fe=0;fe<X.length;fe++){var me=X[fe];switch(me.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:me,deltas:[],abs:[]});break;case"lt":var Ce=de.length;if(X[fe-1]&&!isNaN(X[fe-1].x)&&(ie=[me.x-X[fe-1].x,me.y-X[fe-1].y],Ce>0)){for(;Ce>=0;Ce--)if(de[Ce-1].close!==!0&&de[Ce-1].begin!==!0){de[Ce-1].deltas.push(ie),de[Ce-1].abs.push(me);break}}break;case"bct":ie=[me.x1-X[fe-1].x,me.y1-X[fe-1].y,me.x2-X[fe-1].x,me.y2-X[fe-1].y,me.x-X[fe-1].x,me.y-X[fe-1].y],de[de.length-1].deltas.push(ie);break;case"qct":var Te=X[fe-1].x+2/3*(me.x1-X[fe-1].x),Ue=X[fe-1].y+2/3*(me.y1-X[fe-1].y),ze=me.x+2/3*(me.x1-me.x),je=me.y+2/3*(me.y1-me.y),le=me.x,At=me.y;ie=[Te-X[fe-1].x,Ue-X[fe-1].y,ze-X[fe-1].x,je-X[fe-1].y,le-X[fe-1].x,At-X[fe-1].y],de[de.length-1].deltas.push(ie);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(me)}}ue=K?null:B==="stroke"?"stroke":"fill";for(var bt=!1,ht=0;ht<de.length;ht++)if(de[ht].arc)for(var Ve=de[ht].abs,Ye=0;Ye<Ve.length;Ye++){var Ke=Ve[Ye];Ke.type==="arc"?M.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,K,!bt):$.call(this,Ke.x,Ke.y),bt=!0}else if(de[ht].close===!0)this.pdf.internal.out("h"),bt=!1;else if(de[ht].begin!==!0){var Et=de[ht].start.x,Ee=de[ht].start.y;G.call(this,de[ht].deltas,Et,Ee),bt=!0}ue&&I.call(this,ue),K&&F.call(this)}},O=function(B){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-ie;case"top":return B+K-ie;case"hanging":return B+K-2*ie;case"middle":return B+K/2-ie;default:return B}},U=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(K,ie){this.colorStops.push([K,ie])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(B,K,ie,ue,de,X,fe,me,Ce){for(var Te=ce.call(this,ie,ue,de,X),Ue=0;Ue<Te.length;Ue++){var ze=Te[Ue];Ue===0&&(Ce?P.call(this,ze.x1+B,ze.y1+K):$.call(this,ze.x1+B,ze.y1+K)),ee.call(this,B,K,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}me?F.call(this):I.call(this,fe)},I=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(B,K){this.pdf.internal.out(n(B)+" "+i(K)+" m")},R=function(B){var K;switch(B.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var ie=this.pdf.getTextDimensions(B.text),ue=O.call(this,B.y),de=U.call(this,ue)-ie.h,X=this.ctx.transform.applyToPoint(new a(B.x,ue)),fe=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var Ce,Te,Ue,ze=this.ctx.transform.applyToRectangle(new o(B.x,ue,ie.w,ie.h)),je=me.applyToRectangle(new o(B.x,de,ie.w,ie.h)),le=S.call(this,je),At=[],bt=0;bt<le.length;bt+=1)At.indexOf(le[bt])===-1&&At.push(le[bt]);if(w(At),this.autoPaging)for(var ht=At[0],Ve=At[At.length-1],Ye=ht;Ye<Ve+1;Ye++){this.pdf.setPage(Ye);var Ke=Ye===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[2],qe=Ee-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],dt=Ge-this.margin[3],Ht=Ye===1?0:Et+(Ye-2)*qe;if(this.ctx.clip_path.length!==0){var ft=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ce,this.posX+this.margin[3],-1*Ht+Ke),E.call(this,"fill",!0),this.path=ft}var ot=j([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Ht+Ke+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*B.scale),Ue=this.lineWidth,this.lineWidth=Ue*B.scale);var wt=this.autoPaging!=="text";if(wt||ot.y+ot.h<=Ee){if(wt||ot.y>=Ke&&ot.x<=Ge){var tt=wt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Ge-ot.x)[0],on=j([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Ht+Ke+this.ctx.prevPageLastElemOffset)[0],nn=wt&&(Ye>ht||Ye<Ve)&&b.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,qe,null).clip().discardPath()),this.pdf.text(tt,on.x,on.y,{angle:B.angle,align:K,renderingMode:B.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else ot.y<Ee&&(this.ctx.prevPageLastElemOffset+=Ee-ot.y);B.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Ue)}else B.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*B.scale),Ue=this.lineWidth,this.lineWidth=Ue*B.scale),this.pdf.text(B.text,X.x+this.posX,X.y+this.posY,{angle:B.angle,align:K,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Ue)},$=function(B,K,ie,ue){ie=ie||0,ue=ue||0,this.pdf.internal.out(n(B+ie)+" "+i(K+ue)+" l")},G=function(B,K,ie){return this.pdf.lines(B,K,ie,null,null)},ee=function(B,K,ie,ue,de,X,fe,me){this.pdf.internal.out([e(r(ie+B)),e(s(ue+K)),e(r(de+B)),e(s(X+K)),e(r(fe+B)),e(s(me+K)),"c"].join(" "))},ce=function(B,K,ie,ue){for(var de=2*Math.PI,X=Math.PI/2;K>ie;)K-=de;var fe=Math.abs(ie-K);fe<de&&ue&&(fe=de-fe);for(var me=[],Ce=ue?-1:1,Te=K;fe>1e-5;){var Ue=Te+Ce*Math.min(fe,X);me.push(pe.call(this,B,Te,Ue)),fe-=Math.abs(Ue-Te),Te=Ue}return me},pe=function(B,K,ie){var ue=(ie-K)/2,de=B*Math.cos(ue),X=B*Math.sin(ue),fe=de,me=-X,Ce=fe*fe+me*me,Te=Ce+fe*de+me*X,Ue=4/3*(Math.sqrt(2*Ce*Te)-Te)/(fe*X-me*de),ze=fe-Ue*me,je=me+Ue*fe,le=ze,At=-je,bt=ue+K,ht=Math.cos(bt),Ve=Math.sin(bt);return{x1:B*Math.cos(K),y1:B*Math.sin(K),x2:ze*ht-je*Ve,y2:ze*Ve+je*ht,x3:le*ht-At*Ve,y3:le*Ve+At*ht,x4:B*Math.cos(ie),y4:B*Math.sin(ie)}},Z=function(B){return 180*B/Math.PI},te=function(B,K,ie,ue,de,X){var fe=B+.5*(ie-B),me=K+.5*(ue-K),Ce=de+.5*(ie-de),Te=X+.5*(ue-X),Ue=Math.min(B,de,fe,Ce),ze=Math.max(B,de,fe,Ce),je=Math.min(K,X,me,Te),le=Math.max(K,X,me,Te);return new o(Ue,je,ze-Ue,le-je)},he=function(B,K,ie,ue,de,X,fe,me){var Ce,Te,Ue,ze,je,le,At,bt,ht,Ve,Ye,Ke,Et,Ee,qe=ie-B,Ge=ue-K,dt=de-ie,Ht=X-ue,ft=fe-de,ot=me-X;for(Te=0;Te<41;Te++)ht=(At=(Ue=B+(Ce=Te/40)*qe)+Ce*((je=ie+Ce*dt)-Ue))+Ce*(je+Ce*(de+Ce*ft-je)-At),Ve=(bt=(ze=K+Ce*Ge)+Ce*((le=ue+Ce*Ht)-ze))+Ce*(le+Ce*(X+Ce*ot-le)-bt),Te==0?(Ye=ht,Ke=Ve,Et=ht,Ee=Ve):(Ye=Math.min(Ye,ht),Ke=Math.min(Ke,Ve),Et=Math.max(Et,ht),Ee=Math.max(Ee,Ve));return new o(Math.round(Ye),Math.round(Ke),Math.round(Et-Ye),Math.round(Ee-Ke))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,K,ie=(B=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:K}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(vt.API),function(t){var e=function(a){var o,l,c,h,g,m,p,x,b,S;for(l=[],c=0,h=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;h>c;c+=4)(g=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(m=(g=((g=((g=((g=(g-(S=g%85))/85)-(b=g%85))/85)-(x=g%85))/85)-(p=g%85))/85)%85,l.push(m+33,p+33,x+33,b+33,S+33)):l.push(122);return function(N,j){for(var w=j;w>0;w--)N.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,c,h,g,m=String,p="length",x=255,b="charCodeAt",S="slice",N="replace";for(a[S](-2),a=a[S](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),c=[],h=0,g=(a+=o="uuuuu"[S](a[p]%5||5))[p];g>h;h+=5)l=52200625*(a[b](h)-33)+614125*(a[b](h+1)-33)+7225*(a[b](h+2)-33)+85*(a[b](h+3)-33)+(a[b](h+4)-33),c.push(x&l>>24,x&l>>16,x&l>>8,x&l);return function(j,w){for(var k=w;k>0;k--)j.pop()}(c,o[p]),m.fromCharCode.apply(m,c)},i=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=ib(o)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};t.processDataByFilters=function(a,o){var l=0,c=a||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=i(c),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(vt.API),function(t){t.loadFile=function(e,n,i){return function(r,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,h){var g=new XMLHttpRequest,m=0,p=function(x){var b=x.length,S=[],N=String.fromCharCode;for(m=0;m<b;m+=1)S.push(N(255&x.charCodeAt(m)));return S.join("")};if(g.open("GET",l,!c),g.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(g.onload=function(){g.status===200?h(p(this.responseText)):h(void 0)}),g.send(null),c&&g.status===200)return p(g.responseText)}(r,s,a)}catch{}return o}(e,n,i)},t.loadImageFile=t.loadFile}(vt.API),function(t){function e(){return(Tt.html2canvas?Promise.resolve(Tt.html2canvas):Bx(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Tt.DOMPurify?Promise.resolve(Tt.DOMPurify):Bx(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var l=Pn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(o,l){var c=document.createElement(o);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},s=function o(l,c){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)c!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(o(g,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),c);return(h=h.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(c){return this.set({src:r("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var x=h[p],b=x.src.find(function(S){return S.format==="truetype"});b&&c.addFont(b.url,x.ref.name,x.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(i(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(o=o||vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,h){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,h){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(h,g){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,h),m}).then(h,g).then(function(m){return c.updateProgress(1),m})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),l&&(l=l.bind(h));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:a.convert(Object.assign({},h),Promise.prototype),m=c.call(g,o,l);return a.convert(m,h.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,vt.getPageSize=function(o,l,c){if(Pn(o)==="object"){var h=o;o=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var g,m=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var x,b=0,S=0;if(p.hasOwnProperty(m))b=p[m][1]/g,S=p[m][0]/g;else try{b=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",S>b&&(x=S,S=b,b=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>S&&(x=S,S=b,b=x)}return{width:S,height:b,unit:l,k:g,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(iv):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(vt.API),vt.API.addJS=function(t){return JN=t,this.internal.events.subscribe("postPutResources",function(){Qm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Qm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),QN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+JN+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Qm!==void 0&&QN!==void 0&&this.internal.out("/Names <</JavaScript "+Qm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],o=i.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(s=0;s<c;s++){var g=n.internal.newObject();h.push(g);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,s){var a={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var a=i.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(vt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,r,s,a,o){var l,c=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(g){for(var m,p=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,b={width:0,height:0,numcomponents:1},S=4;S<x;S+=2){if(S+=p,e.indexOf(g.charCodeAt(S+1))!==-1){m=256*g.charCodeAt(S+5)+g.charCodeAt(S+6),b={width:256*g.charCodeAt(S+7)+g.charCodeAt(S+8),height:m,numcomponents:g.charCodeAt(S+9)};break}p=256*g.charCodeAt(S+2)+g.charCodeAt(S+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:i,alias:r}}return h}}(vt.API),vt.API.processPNG=function(t,e,n,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var r,s=yte(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,h=s.depth;r=c&&l===1?function(U){for(var M=U.width,I=U.height,F=U.data,P=U.palette,R=U.depth,$=!1,G=[],ee=[],ce=void 0,pe=!1,Z=0,te=0;te<P.length;te++){var he=nN(P[te],4),Y=he[0],B=he[1],K=he[2],ie=he[3];G.push(Y,B,K),ie!=null&&(ie===0?(Z++,ee.length<1&&ee.push(te)):ie<255&&(pe=!0))}if(pe||Z>1){$=!0,ee=void 0;var ue=M*I;ce=new Uint8Array(ue);for(var de=new DataView(F.buffer),X=0;X<ue;X++){var fe=sv(de,X,R),me=nN(P[fe],4)[3];ce[X]=me}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:F,alphaBytes:ce,needSMask:$,palette:G,mask:ee}}(s):l===2||l===4?function(U){for(var M=U.data,I=U.width,F=U.height,P=U.channels,R=U.depth,$=P===2?"DeviceGray":"DeviceRGB",G=P-1,ee=I*F,ce=G,pe=ee*ce,Z=1*ee,te=Math.ceil(pe*R/8),he=Math.ceil(Z*R/8),Y=new Uint8Array(te),B=new Uint8Array(he),K=new DataView(M.buffer),ie=new DataView(Y.buffer),ue=new DataView(B.buffer),de=!1,X=0;X<ee;X++){for(var fe=X*P,me=0;me<ce;me++)ok(ie,sv(K,fe+me,R),X*ce+me,R);var Ce=sv(K,fe+ce,R);Ce<(1<<R)-1&&(de=!0),ok(ue,Ce,1*X,R)}return{colorSpace:$,colorsPerPixel:G,colorBytes:Y,alphaBytes:B,needSMask:de}}(s):function(U){var M=U.data,I=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:M instanceof Uint8Array?M:new Uint8Array(M.buffer),needSMask:!1}}(s);var g,m,p,x=r,b=x.colorSpace,S=x.colorsPerPixel,N=x.colorBytes,j=x.alphaBytes,w=x.needSMask,k=x.palette,E=x.mask,O=null;return i!==vt.API.image_compression.NONE&&typeof ib=="function"?(O=function(U){var M;switch(U){case vt.API.image_compression.FAST:M=11;break;case vt.API.image_compression.MEDIUM:M=13;break;case vt.API.image_compression.SLOW:M=14;break;default:M=12}return M}(i),g=this.decode.FLATE_DECODE,m="/Predictor ".concat(O," "),t=nk(N,a*S,S,i),w&&(p=nk(j,a,1,i))):(g=void 0,m="",t=N,w&&(p=j)),m+="/Colors ".concat(S," /BitsPerComponent ").concat(h," /Columns ").concat(a),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:g,decodeParameters:m,transparency:E,palette:k,sMask:p,predictor:O,width:a,height:o,bitsPerComponent:h,colorSpace:b}}},function(t){t.processGIF89A=function(e,n,i,r){var s=new Ite(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},h=new av(100).encode(c,100);return t.processJPEG.call(this,h,n,i,r)},t.processGIF87A=t.processGIF89A}(vt.API),vo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Fn.log("bit decode error:"+n)}},vo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*r*4,o=0;o<8&&8*r+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},vo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*r*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},vo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(r<this.palette.length){var a=this.palette[r];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},vo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,h=i*this.width*4+4*r;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=c}this.pos+=t}},vo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,h=r*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},vo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},vo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=a}},vo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,i,r){var s=new vo(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new av(100).encode(l,100);return t.processJPEG.call(this,c,n,i,r)}}(vt.API),ck.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,i,r){var s=new ck(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new av(100).encode(l,100);return t.processJPEG.call(this,c,n,i,r)}}(vt.API),vt.API.processRGBA=function(t,e,n){for(var i=t.data,r=i.length,s=new Uint8Array(r/4*3),a=new Uint8Array(r/4),o=0,l=0,c=0;c<r;c+=4){var h=i[c],g=i[c+1],m=i[c+2],p=i[c+3];s[o++]=h,s[o++]=g,s[o++]=m,a[l++]=p}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},vt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Rd=vt.API,Jm=Rd.getCharWidthsArray=function(t,e){var n,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:r.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:r.metadata.Unicode.kerning,h=c.fof?c.fof:1,g=e.doKerning!==!1,m=0,p=t.length,x=0,b=o[0]||l,S=[];for(n=0;n<p;n++)i=t.charCodeAt(n),typeof r.metadata.widthOfString=="function"?S.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(m=g&&Pn(c[i])==="object"&&!isNaN(parseInt(c[i][x],10))?c[i][x]/h:0,S.push((o[i]||b)/l+m)),x=i;return S},ZN=Rd.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Rd.processArabic&&(t=Rd.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,r)/n:Jm.apply(this,arguments).reduce(function(s,a){return s+a},0)},ek=function(t,e,n,i){for(var r=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;r.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>i&&(r.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&r.push(t.slice(l,s)),r},tk=function(t,e,n){n||(n={});var i,r,s,a,o,l,c,h=[],g=[h],m=n.textIndent||0,p=0,x=0,b=t.split(" "),S=Jm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var N=Array(l).join(" "),j=[];b.map(function(k){(k=k.split(/\s*\n/)).length>1?j=j.concat(k.map(function(E,O){return(O&&E.length?`
`:"")+E})):j.push(k[0])}),b=j,l=ZN.apply(this,[N,n])}for(s=0,a=b.length;s<a;s++){var w=0;if(i=b[s],l&&i[0]==`
`&&(i=i.substr(1),w=1),m+p+(x=(r=Jm.apply(this,[i,n])).reduce(function(k,E){return k+E},0))>e||w){if(x>e){for(o=ek.apply(this,[i,r,e-(m+p),e]),h.push(o.shift()),h=[o.pop()];o.length;)g.push([o.shift()]);x=r.slice(i.length-(h[0]?h[0].length:0)).reduce(function(k,E){return k+E},0)}else h=[i];g.push(h),m=x+l,p=S}else h.push(i),m+=p+x,p=S}return c=l?function(k,E){return(E?N:"")+k.join(" ")}:function(k){return k.join(" ")},g.map(c)},Rd.splitTextToSize=function(t,e,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var g=this.internal.getFont(h.fontName,h.fontStyle),m="Unicode";return g.metadata[m]?{widths:g.metadata[m].widths||{0:1},kerning:g.metadata[m].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/r;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=i.length;o<l;o++)c=c.concat(tk.apply(this,[i[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",i={},r={},s=0;s<16;s++)i[n[s]]=e[s],r[e[s]]=n[s];var a=function(m){return"0x"+parseInt(m,10).toString(16)},o=t.__fontmetrics__.compress=function(m){var p,x,b,S,N=["{"];for(var j in m){if(p=m[j],isNaN(parseInt(j,10))?x="'"+j+"'":(j=parseInt(j,10),x=(x=a(j).slice(2)).slice(0,-1)+r[x.slice(-1)]),typeof p=="number")p<0?(b=a(p).slice(3),S="-"):(b=a(p).slice(2),S=""),b=S+b.slice(0,-1)+r[b.slice(-1)];else{if(Pn(p)!=="object")throw new Error("Don't know what to do with value type "+Pn(p)+".");b=o(p)}N.push(x+b)}return N.push("}"),N.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,x,b,S,N={},j=1,w=N,k=[],E="",O="",U=m.length-1,M=1;M<U;M+=1)(S=m[M])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(S):S=="{"?(k.push([w,b]),w={},b=void 0):S=="}"?((x=k.pop())[0][x[1]]=w,b=void 0,w=x[0]):S=="-"?j=-1:b===void 0?i.hasOwnProperty(S)?(E+=i[S],b=parseInt(E,16)*j,j=1,E=""):E+=S:i.hasOwnProperty(S)?(O+=i[S],w[b]=parseInt(O,16)*j,j=1,b=void 0,O=""):O+=S;return N},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var p=m.font,x=g.Unicode[p.postScriptName];x&&(p.metadata.Unicode={},p.metadata.Unicode.widths=x.widths,p.metadata.Unicode.kerning=x.kerning);var b=h.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(vt.API),function(t){var e=function(n){for(var i=n.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=n.charCodeAt(s);return r};t.API.events.push(["addFont",function(n){var i=void 0,r=n.font,s=n.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(A1(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(r,i)}}])}(vt),vt.API.addSvgAsImage=function(t,e,n,i,r,s,a,o){if(isNaN(e)||isNaN(n))throw Fn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw Fn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Tt.canvg?Promise.resolve(Tt.canvg):Bx(()=>import("./index.es-BV8eYk2q.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(c,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),e,n,i,r,a,o)})},vt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,n);return this},vt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,r,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,h=0,g=0;function m(x,b){var S,N=!1;for(S=0;S<x.length;S+=1)x[S]===b&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(g=0;g<p;g+=1)n[o[g]].value=n[o[g]].defaultValue,n[o[g]].explicitSet=!1}if(Pn(t)==="object"){for(r in t)if(s=t[r],m(o,r)&&s!==void 0){if(n[r].type==="boolean"&&typeof s=="boolean")n[r].value=s;else if(n[r].type==="name"&&m(n[r].valueSet,s))n[r].value=s;else if(n[r].type==="integer"&&Number.isInteger(s))n[r].value=s;else if(n[r].type==="array"){for(c=0;c<s.length;c+=1)if(i=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(h=0;h<s[c].length;h+=1)typeof s[c][h]!="number"&&(i=!1);i===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[r].value="["+l.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,b=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?b.push("/"+x+" /"+n[x].value):b.push("/"+x+" "+n[x].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(vt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],g=0,m=s.length;g<m;++g){if(o=a.metadata.characterToGlyph(s.charCodeAt(g)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(g),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(c[4-o.length],o)}return h.join("")},i=function(s){var a,o,l,c,h,g,m;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,m=(o=Object.keys(s).sort(function(p,x){return p-x})).length;g<m;g++)a=o[g],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var g=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",x=0;x<m.length;x++)p+=String.fromCharCode(m[x]);var b=c();h({data:p,addLength1:!0,objectId:b}),l("endobj");var S=c();h({data:i(o.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var N=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Id(o.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var j=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Id(o.fontName)),l("/FontDescriptor "+N+" 0 R"),l("/W "+t.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+S+" 0 R"),l("/BaseFont /"+Id(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+j+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var g=o.metadata.rawData,m="",p=0;p<g.length;p++)m+=String.fromCharCode(g[p]);var x=c();h({data:m,addLength1:!0,objectId:x}),l("endobj");var b=c();h({data:i(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var S=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Id(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var N=0;N<o.metadata.hmtx.widths.length;N++)o.metadata.hmtx.widths[N]=parseInt(o.metadata.hmtx.widths[N]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Id(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var r=function(s){var a,o=s.text||"",l=s.x,c=s.y,h=s.options||{},g=s.mutex||{},m=g.pdfEscape,p=g.activeFontKey,x=g.fonts,b=p,S="",N=0,j="",w=x[b].encoding;if(x[b].encoding!=="Identity-H")return{text:o,x:l,y:c,options:h,mutex:g};for(j=o,b=p,Array.isArray(o)&&(j=o[0]),N=0;N<j.length;N+=1)x[b].metadata.hasOwnProperty("cmap")&&(a=x[b].metadata.cmap.unicode.codeMap[j[N].charCodeAt(0)]),a||j[N].charCodeAt(0)<256&&x[b].metadata.hasOwnProperty("Unicode")?S+=j[N]:S+="";var k="";return parseInt(b.slice(1))<14||w==="WinAnsiEncoding"?k=m(S,b).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(k=n(S,x[b])),g.isHex=!0,{text:k,x:l,y:c,options:h,mutex:g}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([r(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(r(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=r(Object.assign({},l,{text:a})).text}])}(vt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(vt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var r,s,a,o,l,c,h,g=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,w=0;this.__bidiEngine__={};var k=function(P){var R=P.charCodeAt(),$=R>>8,G=b[$];return G!==void 0?g[256*G+(255&R)]:$===252||$===253?"AL":N.test($)?"L":$===8?"R":"N"},E=function(P){for(var R,$=0;$<P.length;$++){if((R=k(P.charAt($)))==="L")return!1;if(R==="R")return!0}return!1},O=function(P,R,$,G){var ee,ce,pe,Z,te=R[G];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(te="AN");break;case"AL":j=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":G<1||G+1>=R.length||(ee=$[G-1])!=="EN"&&ee!=="AN"||(ce=R[G+1])!=="EN"&&ce!=="AN"?te="N":j&&(ce="AN"),te=ce===ee?ce:"N";break;case"ES":te=(ee=G>0?$[G-1]:"B")==="EN"&&G+1<R.length&&R[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&$[G-1]==="EN"){te="EN";break}if(j){te="N";break}for(pe=G+1,Z=R.length;pe<Z&&R[pe]==="ET";)pe++;te=pe<Z&&R[pe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Z=R.length,pe=G+1;pe<Z&&R[pe]==="NSM";)pe++;if(pe<Z){var he=P[G],Y=he>=1425&&he<=2303||he===64286;if(ee=R[pe],Y&&(ee==="R"||ee==="AL")){te="R";break}}}te=G<1||(ee=R[G-1])==="B"?"N":$[G-1];break;case"B":j=!1,r=!0,te=w;break;case"S":s=!0,te="N"}return te},U=function(P,R,$){var G=P.split("");return $&&M(G,$,{hiLevel:w}),G.reverse(),R&&R.reverse(),G.join("")},M=function(P,R,$){var G,ee,ce,pe,Z,te=-1,he=P.length,Y=0,B=[],K=w?p:m,ie=[];for(j=!1,r=!1,s=!1,ee=0;ee<he;ee++)ie[ee]=k(P[ee]);for(ce=0;ce<he;ce++){if(Z=Y,B[ce]=O(P,ie,B,ce),G=240&(Y=K[Z][x[B[ce]]]),Y&=15,R[ce]=pe=K[Y][5],G>0)if(G===16){for(ee=te;ee<ce;ee++)R[ee]=1;te=-1}else te=-1;if(K[Y][6])te===-1&&(te=ce);else if(te>-1){for(ee=te;ee<ce;ee++)R[ee]=pe;te=-1}ie[ce]==="B"&&(R[ce]=0),$.hiLevel|=pe}s&&function(ue,de,X){for(var fe=0;fe<X;fe++)if(ue[fe]==="S"){de[fe]=w;for(var me=fe-1;me>=0&&ue[me]==="WS";me--)de[me]=w}}(ie,R,he)},I=function(P,R,$,G,ee){if(!(ee.hiLevel<P)){if(P===1&&w===1&&!r)return R.reverse(),void($&&$.reverse());for(var ce,pe,Z,te,he=R.length,Y=0;Y<he;){if(G[Y]>=P){for(Z=Y+1;Z<he&&G[Z]>=P;)Z++;for(te=Y,pe=Z-1;te<pe;te++,pe--)ce=R[te],R[te]=R[pe],R[pe]=ce,$&&(ce=$[te],$[te]=$[pe],$[pe]=ce);Y=Z}Y++}}},F=function(P,R,$){var G=P.split(""),ee={hiLevel:w};return $||($=[]),M(G,$,ee),function(ce,pe,Z){if(Z.hiLevel!==0&&h)for(var te,he=0;he<ce.length;he++)pe[he]===1&&(te=S.indexOf(ce[he]))>=0&&(ce[he]=S[te+1])}(G,$,ee),I(2,G,R,$,ee),I(1,G,R,$,ee),G.join("")};return this.__bidiEngine__.doBidiReorder=function(P,R,$){if(function(ee,ce){if(ce)for(var pe=0;pe<ee.length;pe++)ce[pe]=pe;o===void 0&&(o=E(ee)),c===void 0&&(c=E(ee))}(P,R),a||!l||c)if(a&&l&&o^c)w=o?1:0,P=U(P,R,$);else if(!a&&l&&c)w=o?1:0,P=F(P,R,$),P=U(P,R);else if(!a||o||l||c){if(a&&!l&&o^c)P=U(P,R),o?(w=0,P=F(P,R,$)):(w=1,P=F(P,R,$),P=U(P,R));else if(a&&o&&!l&&c)w=1,P=F(P,R,$),P=U(P,R);else if(!a&&!l&&o^c){var G=h;o?(w=1,P=F(P,R,$),w=0,h=!1,P=F(P,R,$),h=G):(w=0,P=F(P,R,$),P=U(P,R),w=1,h=!1,P=F(P,R,$),h=G,P=U(P,R))}}else w=0,P=F(P,R,$);else w=o?1:0,P=F(P,R,$);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,l=P.isOutputVisual,o=P.isInputRtl,c=P.isOutputRtl,h=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var o=0;for(a=[],o=0;o<r.length;o+=1)Object.prototype.toString.call(r[o])==="[object Array]"?a.push([n.doBidiReorder(r[o][0]),r[o][1],r[o][2]]):a.push([n.doBidiReorder(r[o])]);i.text=a}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(vt),vt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new mu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Zte(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Bte(this.contents),this.head=new Ute(this),this.name=new qte(this),this.cmap=new _T(this),this.toUnicode={},this.hhea=new Vte(this),this.maxp=new Wte(this),this.hmtx=new Kte(this),this.post=new $te(this),this.os2=new Hte(this),this.loca=new Jte(this),this.glyf=new Xte(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var r,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)r=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t}();var Do,mu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,r;for(r=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(e.charCodeAt(n)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,r,s,a,o,l;return e=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*r+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)n=e[i],s.push(this.writeByte(n));return s},t}(),Bte=function(){var t;function e(n){var i,r,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,r,s,a,o,l,c,h,g,m,p,x,b;for(b in p=Object.keys(n).length,l=Math.log(2),g=16*Math.floor(Math.log(p)/l),a=Math.floor(g/l),h=16*p-g,(r=new mu).writeInt(this.scalarType),r.writeShort(p),r.writeShort(g),r.writeShort(a),r.writeShort(h),s=16*p,c=r.pos+s,o=null,x=[],n)for(m=n[b],r.writeString(b),r.writeInt(t(m)),r.writeInt(c),r.writeInt(m.length),x=x.concat(m),b==="head"&&(o=c),c+=m.length;c%4;)x.push(0),c++;return r.write(x),i=2981146554-t(r.data),r.pos=o+8,r.writeUInt32(i),r.data},t=function(n){var i,r,s,a;for(n=ST.call(n);n.length%4;)n.push(0);for(s=new mu(n),r=0,i=0,a=n.length;i<a;i=i+=4)r+=s.readUInt32();return 4294967295&r},e}(),zte={}.hasOwnProperty,gl=function(t,e){for(var n in e)zte.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Do=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Ute=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gl(t,Do),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new mu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),uk=function(){function t(e,n){var i,r,s,a,o,l,c,h,g,m,p,x,b,S,N,j,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=function(){var k,E;for(E=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)E.push(e.readUInt16());return E}(),e.pos+=2,b=function(){var k,E;for(E=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)E.push(e.readUInt16());return E}(),c=function(){var k,E;for(E=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)E.push(e.readUInt16());return E}(),h=function(){var k,E;for(E=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)E.push(e.readUInt16());return E}(),r=(this.length-e.pos+this.offset)/2,o=function(){var k,E;for(E=[],l=k=0;0<=r?k<r:k>r;l=0<=r?++k:--k)E.push(e.readUInt16());return E}(),l=N=0,w=s.length;N<w;l=++N)for(S=s[l],i=j=x=b[l];x<=S?j<=S:j>=S;i=x<=S?++j:--j)h[l]===0?a=i+c[l]:(a=o[h[l]/2+(i-x)-(m-l)]||0)!==0&&(a+=c[l]),this.codeMap[i]=65535&a}e.pos=g}return t.encode=function(e,n){var i,r,s,a,o,l,c,h,g,m,p,x,b,S,N,j,w,k,E,O,U,M,I,F,P,R,$,G,ee,ce,pe,Z,te,he,Y,B,K,ie,ue,de,X,fe,me,Ce,Te,Ue;switch(G=new mu,a=Object.keys(e).sort(function(ze,je){return ze-je}),n){case"macroman":for(b=0,S=function(){var ze=[];for(x=0;x<256;++x)ze.push(0);return ze}(),j={0:0},s={},ee=0,te=a.length;ee<te;ee++)j[me=e[r=a[ee]]]==null&&(j[me]=++b),s[r]={old:e[r],new:j[e[r]]},S[r]=j[e[r]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(S),{charMap:s,subtable:G.data,maxGlyphID:b+1};case"unicode":for(R=[],g=[],w=0,j={},i={},N=c=null,ce=0,he=a.length;ce<he;ce++)j[E=e[r=a[ce]]]==null&&(j[E]=++w),i[r]={old:E,new:j[E]},o=j[E]-r,N!=null&&o===c||(N&&g.push(N),R.push(r),c=o),N=r;for(N&&g.push(N),g.push(65535),R.push(65535),F=2*(I=R.length),M=2*Math.pow(Math.log(I)/Math.LN2,2),m=Math.log(M/2)/Math.LN2,U=2*I-M,l=[],O=[],p=[],x=pe=0,Y=R.length;pe<Y;x=++pe){if(P=R[x],h=g[x],P===65535){l.push(0),O.push(0);break}if(P-($=i[P].new)>=32768)for(l.push(0),O.push(2*(p.length+I-x)),r=Z=P;P<=h?Z<=h:Z>=h;r=P<=h?++Z:--Z)p.push(i[r].new);else l.push($-P),O.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*I+2*p.length),G.writeUInt16(0),G.writeUInt16(F),G.writeUInt16(M),G.writeUInt16(m),G.writeUInt16(U),X=0,B=g.length;X<B;X++)r=g[X],G.writeUInt16(r);for(G.writeUInt16(0),fe=0,K=R.length;fe<K;fe++)r=R[fe],G.writeUInt16(r);for(Ce=0,ie=l.length;Ce<ie;Ce++)o=l[Ce],G.writeUInt16(o);for(Te=0,ue=O.length;Te<ue;Te++)k=O[Te],G.writeUInt16(k);for(Ue=0,de=p.length;Ue<de;Ue++)b=p[Ue],G.writeUInt16(b);return{charMap:i,subtable:G.data,maxGlyphID:w+1}}},t}(),_T=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gl(t,Do),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,i,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n=new uk(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var i,r;return n==null&&(n="macroman"),i=uk.encode(e,n),(r=new mu).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},t}(),Vte=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gl(t,Do),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Hte=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gl(t,Do),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(e.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),$te=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gl(t,Do),t.prototype.tag="post",t.prototype.parse=function(e){var n,i,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)n=e.readByte(),r.push(this.names.push(e.readString(n)));return r;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),Gte=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},qte=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gl(t,Do),t.prototype.tag="name",t.prototype.parse=function(e){var n,i,r,s,a,o,l,c,h,g,m;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=h=0,g=i.length;h<g;s=++h)r=i[s],e.pos=r.offset,c=e.readString(r.length),a=new Gte(c,r),l[m=r.nameID]==null&&(l[m]=[]),l[r.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),Wte=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gl(t,Do),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Kte=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gl(t,Do),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,i,r,s,a,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,h;for(h=[],n=c=0;0<=r?c<r:c>r;n=0<=r?++c:--c)h.push(e.readInt16());return h}(),this.widths=(function(){var c,h,g,m;for(m=[],c=0,h=(g=this.metrics).length;c<h;c++)s=g[c],m.push(s.advance);return m}).call(this),i=this.widths[this.widths.length-1],l=[],n=a=0;0<=r?a<r:a>r;n=0<=r?++a:--a)l.push(this.widths.push(i));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),ST=[].slice,Xte=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gl(t,Do),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,i,r,s,a,o,l,c,h,g;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(e),(r=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+i,a=(o=new mu(n.read(r))).readShort(),c=o.readShort(),g=o.readShort(),l=o.readShort(),h=o.readShort(),this.cache[e]=a===-1?new Qte(o,c,g,l,h):new Yte(o,a,c,g,l,h),this.cache[e]))},t.prototype.encode=function(e,n,i){var r,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)r=e[n[o]],s.push(a.length),r&&(a=a.concat(r.encode(i)));return s.push(a.length),{table:a,offsets:s}},t}(),Yte=function(){function t(e,n,i,r,s,a){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Qte=function(){function t(e,n,i,r,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new mu(ST.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Jte=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return gl(t,Do),t.prototype.tag="loca",t.prototype.parse=function(e){var n,i;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var i=new Uint32Array(this.offsets.length),r=0,s=0,a=0;a<i.length;++a)if(i[a]=r,s<n.length&&n[s]==a){++s,i[a]=r;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(r+=l)}for(var c=new Array(4*i.length),h=0;h<i.length;++h)c[4*h+3]=255&i[h],c[4*h+2]=(65280&i[h])>>8,c[4*h+1]=(16711680&i[h])>>16,c[4*h]=(4278190080&i[h])>>24;return c},t}(),Zte=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,r,s;for(n in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[n],e[n]=r[i];return e},t.prototype.glyphsFor=function(e){var n,i,r,s,a,o,l;for(r={},a=0,o=e.length;a<o;a++)r[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],r)(i=r[s])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))i=l[s],r[s]=i;return r},t.prototype.encode=function(e,n){var i,r,s,a,o,l,c,h,g,m,p,x,b,S,N;for(r in i=_T.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},N=i.charMap)p[(l=N[r]).old]=l.new;for(x in m=i.maxGlyphID,a)x in p||(p[x]=m++);return h=function(j){var w,k;for(w in k={},j)k[j[w]]=w;return k}(p),g=Object.keys(h).sort(function(j,w){return j-w}),b=function(){var j,w,k;for(k=[],j=0,w=g.length;j<w;j++)o=g[j],k.push(h[o]);return k}(),s=this.font.glyf.encode(a,b,p),c=this.font.loca.encode(s.offsets,b),S={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t}();vt.API.PDFObject=function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,r,s,a;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)i=n[o],c.push(e.convert(i));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in s=["<<"],n)a=n[r],s.push("/"+r+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();function ene(){const t=Q.useRef(null),[e,n]=Q.useState([]),[i,r]=Q.useState("a4"),[s,a]=Q.useState("p"),[o,l]=Q.useState(10),[c,h]=Q.useState("contain"),[g,m]=Q.useState("anh-sang-pdf.pdf"),[p,x]=Q.useState(!1),[b,S]=Q.useState(!1),N=()=>{var F;return(F=t.current)==null?void 0:F.click()},j=async F=>{const P=Array.from(F.target.files||[]);if(P.length){S(!0);try{const R=P.map($=>({file:$,url:URL.createObjectURL($),name:$.name}));n($=>[...$,...R])}finally{S(!1)}F.target.value=""}},w=F=>{n(P=>{const R=[...P],$=R[F];return $!=null&&$.url&&URL.revokeObjectURL($.url),R.splice(F,1),R})},k=(F,P)=>{n(R=>{const $=[...R],G=F+P;if(G<0||G>=$.length)return $;const ee=$[F];return $[F]=$[G],$[G]=ee,$})},E=F=>{if(!F||!F.trim())return"anh-sang-pdf.pdf";const P=F.trim();return P.toLowerCase().endsWith(".pdf")?P:`${P}.pdf`},O=F=>new Promise((P,R)=>{const $=new FileReader;$.onload=()=>P($.result),$.onerror=R,$.readAsDataURL(F)}),U=F=>new Promise((P,R)=>{const $=new Image;$.onload=()=>P($),$.onerror=()=>R(new Error("Khng c c nh (c th l HEIC/HEIF).")),$.src=F}),M=async(F,P,R,$="contain")=>{const G=await U(F),ee=4,ce=Math.max(1,Math.round(P*ee)),pe=Math.max(1,Math.round(R*ee)),Z=document.createElement("canvas");Z.width=ce,Z.height=pe;const te=Z.getContext("2d");te.clearRect(0,0,ce,pe);const he=ce/G.width,Y=pe/G.height;let B,K,ie,ue;if($==="cover"){const de=Math.max(he,Y);B=G.width*de,K=G.height*de}else{const de=Math.min(he,Y);B=G.width*de,K=G.height*de}return ie=(ce-B)/2,ue=(pe-K)/2,te.imageSmoothingQuality="high",te.drawImage(G,ie,ue,B,K),Z.toDataURL("image/png")},I=async()=>{var F;if(e.length){x(!0);try{const P=new vt({unit:"mm",format:i,orientation:s==="p"?"portrait":"landscape"}),R=P.internal.pageSize.getWidth(),$=P.internal.pageSize.getHeight(),G=Math.max(0,R-o*2),ee=Math.max(0,$-o*2);for(let ce=0;ce<e.length;ce++){ce>0&&P.addPage(),P.setFillColor(255,255,255),P.rect(0,0,R,$,"F");try{const pe=await O(e[ce].file),Z=await M(pe,G,ee,c);P.addImage(Z,"PNG",o,o,G,ee)}catch(pe){console.error(pe),alert(`Khng th thm nh "${(F=e[ce])==null?void 0:F.name}". C th nh dng khng h tr (HEIC/HEIF) hoc nh qu ln.`)}}P.save(E(g))}catch(P){console.error(P),alert("To PDF tht bi. Vui lng th li hoc xem Console  bit chi tit.")}finally{x(!1)}}};return Q.useEffect(()=>()=>{e.forEach(F=>F.url&&URL.revokeObjectURL(F.url))},[]),d.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-slate-900 text-center",children:"nh  PDF"}),d.jsx("p",{className:"text-center text-gray-600 mt-2",children:"Gp nhiu nh thnh mt file PDF, chn kh giy, l v cch hin th."}),d.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3",children:[d.jsxs("button",{onClick:N,disabled:b,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:bg-blue-400",children:[d.jsx(Mh,{size:18})," ",b?"ang ti...":"Chn nh"]}),d.jsx("input",{ref:t,type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:j}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm text-gray-700",children:"Tn file"}),d.jsx("input",{value:g,onChange:F=>m(F.target.value),className:"border rounded-lg px-3 py-2 w-[260px]",placeholder:"ten-file.pdf"})]})]}),e.length>0&&d.jsxs("div",{className:"mt-6 grid md:grid-cols-[1fr_360px] gap-8",children:[d.jsx("div",{children:d.jsx("ul",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((F,P)=>d.jsxs("li",{className:"rounded-xl border bg-white shadow p-3",children:[d.jsx("div",{className:"aspect-[4/3] bg-gray-50 rounded-lg grid place-items-center overflow-hidden",children:d.jsx("img",{src:F.url,alt:F.name,className:"max-w-full max-h-full object-contain"})}),d.jsx("div",{className:"mt-2 text-xs text-gray-600 truncate",children:F.name}),d.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[d.jsx("button",{onClick:()=>k(P,-1),className:"inline-flex items-center justify-center w-8 h-8 rounded-md border hover:bg-gray-50",title:"Ln",disabled:P===0,children:d.jsx(QD,{size:16})}),d.jsx("button",{onClick:()=>k(P,1),className:"inline-flex items-center justify-center w-8 h-8 rounded-md border hover:bg-gray-50",title:"Xung",disabled:P===e.length-1,children:d.jsx(KD,{size:16})}),d.jsx("button",{onClick:()=>w(P),className:"ml-auto inline-flex items-center justify-center w-8 h-8 rounded-md border hover:bg-red-50 text-red-600",title:"Xo",children:d.jsx(oI,{size:16})})]})]},P))})}),d.jsxs("aside",{className:"rounded-2xl border bg-white shadow p-5 h-fit",children:[d.jsx("div",{className:"font-semibold text-lg",children:"Tu chn PDF"}),d.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[d.jsxs("label",{className:"text-sm",children:[d.jsx("div",{className:"text-gray-700 mb-1",children:"Kh giy"}),d.jsxs("select",{className:"border rounded-lg px-3 py-2 w-full",value:i,onChange:F=>r(F.target.value),children:[d.jsx("option",{value:"a4",children:"A4 (210297mm)"}),d.jsx("option",{value:"letter",children:"Letter (216279mm)"})]})]}),d.jsxs("label",{className:"text-sm",children:[d.jsx("div",{className:"text-gray-700 mb-1",children:"Chiu giy"}),d.jsxs("select",{className:"border rounded-lg px-3 py-2 w-full",value:s,onChange:F=>a(F.target.value),children:[d.jsx("option",{value:"p",children:"Dc (Portrait)"}),d.jsx("option",{value:"l",children:"Ngang (Landscape)"})]})]}),d.jsxs("label",{className:"text-sm",children:[d.jsx("div",{className:"text-gray-700 mb-1",children:"L (mm)"}),d.jsx("input",{type:"number",min:0,max:50,className:"border rounded-lg px-3 py-2 w-full",value:o,onChange:F=>l(Math.max(0,Math.min(50,+F.target.value||0)))})]}),d.jsxs("label",{className:"text-sm",children:[d.jsx("div",{className:"text-gray-700 mb-1",children:"Cch hin th"}),d.jsxs("select",{className:"border rounded-lg px-3 py-2 w-full",value:c,onChange:F=>h(F.target.value),children:[d.jsx("option",{value:"contain",children:"Va khung (c vin trng)"}),d.jsx("option",{value:"cover",children:"y trang (ct bt nu cn)"})]})]})]}),d.jsxs("button",{onClick:I,disabled:!e.length||p,className:`mt-4 w-full inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-white ${!e.length||p?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[d.jsx(fj,{size:18})," ",p?"ang to PDF":"To & Ti v"]})]})]})]})}function tne({smooth:t=!1}){const{pathname:e,search:n,hash:i}=_u();return Q.useEffect(()=>{i||window.scrollTo({top:0,left:0,behavior:t?"smooth":"instant"})},[e,n,i]),null}const nne=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}};function Lw(){const t=ga(),[e,n]=Q.useState(!0),[i,r]=Q.useState(null);return Q.useEffect(()=>{const s=nne();if(r(s),!s){t("/",{replace:!0});return}n(!1)},[t]),{user:i,loading:e}}const Zm="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),q0="https://trendyframe.me/";function ine(){const t=ga(),e=Q.useRef(null),{user:n,loading:i}=Lw(),[r,s]=Q.useState({title:"",url:q0,type:"khac"}),[a,o]=Q.useState(null),[l,c]=Q.useState(null),[h,g]=Q.useState(!1),[m,p]=Q.useState({}),[x,b]=Q.useState(null),[S,N]=Q.useState([]);Q.useEffect(()=>{if(!x)return;const P=setTimeout(()=>b(null),1e4);return()=>clearTimeout(P)},[x]),Q.useEffect(()=>{(async()=>{try{const R=await fetch(`${Zm}/api/frames/types`,{credentials:"include"});if(R.ok){const $=await R.json();N($)}}catch(R){console.error("Error fetching frame types:",R)}})()},[]);const j=()=>{const P="abcdefghijklmnopqrstuvwxyz0123456789",R=8+Math.floor(Math.random()*4);let $="";for(let G=0;G<R;G++)$+=P.charAt(Math.floor(Math.random()*P.length));return $},w=async P=>{try{const R=await fetch(`${Zm}/api/frames/check-alias/${P}`,{credentials:"include"});return R.ok?(await R.json()).exists:!1}catch(R){return console.error("Error checking alias:",R),!1}},k=async()=>{let P=j(),R=0;const $=10;for(;R<$;){if(!await w(P))return P;P=j(),R++}return j()+Date.now().toString().slice(-4)},E=P=>{const{name:R,value:$}=P.target;s(G=>({...G,[R]:$})),m[R]&&p(G=>({...G,[R]:""}))},O=P=>{var G;const R=(G=P.target.files)==null?void 0:G[0];if(!R)return;if(R.type!=="image/png"){p(ee=>({...ee,file:"Ch chp nhn file PNG vi nn trong sut"}));return}if(R.size>2*1024*1024){p(ee=>({...ee,file:"File khng c vt qu 2MB"}));return}o(R),p(ee=>({...ee,file:""}));const $=new FileReader;$.onload=ee=>{var ce;return c((ce=ee.target)==null?void 0:ce.result)},$.readAsDataURL(R)},U=()=>{o(null),c(null),e.current&&(e.current.value="")},M=()=>{const P={},R=r.title.trim();return R?R.length<10&&(P.title="Tiu  phi c t nht 10 k t"):P.title="Tiu  khng c  trng",a||(P.file="Vui lng chn hnh nh khung"),p(P),Object.keys(P).length===0},I=async P=>{if(P.preventDefault(),!!M()){g(!0);try{const R=new FormData;R.append("file",a),R.append("title",r.title),R.append("type",r.type);let $=(r.url||"").replace(q0,"").trim();$||($=await k()),R.append("alias",$);const G=await fetch(`${Zm}/api/frames`,{method:"POST",credentials:"include",body:R});if(!G.ok){const ee=await G.text();if(console.error("Server error:",ee),ee.includes("alias")||ee.includes("duplicate")||ee.includes("trng")){const ce=await k();if(R.set("alias",ce),!(await fetch(`${Zm}/api/frames`,{method:"POST",credentials:"include",body:R})).ok)throw new Error("Li khi to khung hnh")}else throw new Error(ee||"Li khi to khung hnh")}b(r.title.trim()),window.scrollTo({top:0,behavior:"smooth"})}catch(R){console.error("Submit error:",R),p($=>({...$,submit:R.message||"C li xy ra. Vui lng th li."}))}finally{g(!1)}}},F=(r.url||"").replace(q0,"");return i?d.jsx("div",{className:"min-h-screen grid place-items-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):n?d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-50 to-white py-12",children:[x&&d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-6","aria-live":"polite","aria-atomic":"true",children:d.jsxs("div",{className:"relative rounded-md bg-emerald-100 text-emerald-900 px-4 py-3 ring-1 ring-emerald-200 shadow-sm",children:[d.jsxs("span",{children:["To khung hnh ",d.jsx("strong",{children:x})," thnh cng!"," ",d.jsx("button",{type:"button",className:"underline text-blue-700 hover:text-blue-800",onClick:()=>t("/my-frames"),children:"Xem ti y"}),"."]}),d.jsx("button",{type:"button","aria-label":"ng",className:"absolute right-3 top-1/2 -translate-y-1/2 text-emerald-900/70 hover:text-emerald-900",onClick:()=>b(null),children:d.jsx(Rh,{size:16})})]})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-50 text-blue-700 text-sm font-medium ring-1 ring-blue-200/60 shadow-sm mb-3",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600"}),"Trnh to khung hnh"]}),d.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 tracking-tight",children:"TO MI S KIN, HOT NG, CHIN DCH"})]}),d.jsxs("form",{onSubmit:I,className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("section",{className:"bg-white/90 rounded-2xl ring-1 ring-gray-200 shadow-sm p-6",children:[d.jsxs("header",{className:"mb-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Hnh khung"}),d.jsx("p",{className:"text-sm text-gray-500",children:"PNG nn trong sut  khuyn ngh 10801080  ti a 2MB"})]}),d.jsxs("div",{onClick:()=>{var P;return(P=e.current)==null?void 0:P.click()},className:["rounded-xl border-2 border-dashed transition-colors cursor-pointer","bg-white grid place-items-center px-6 py-10","hover:border-blue-400 hover:bg-blue-50/40"].join(" "),children:[l?d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"relative inline-block rounded-xl overflow-hidden ring-1 ring-gray-200 shadow-sm",children:[d.jsx("div",{className:"absolute inset-0",style:{background:"conic-gradient(#f3f4f6 25%, transparent 0 50%, #f3f4f6 0 75%, transparent 0) 0 0/18px 18px"}}),d.jsx("img",{src:l,alt:"Preview",className:"relative max-w-full max-h-80 object-contain"}),d.jsx("button",{type:"button",onClick:P=>{P.stopPropagation(),U()},title:"Xa nh",className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all duration-200 opacity-90 hover:opacity-100",children:d.jsx(Rh,{size:18,strokeWidth:3})})]}),a&&d.jsx("div",{className:"mt-3 text-sm text-gray-600",children:d.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 ring-1 ring-gray-200",children:a.name})}),d.jsx("button",{type:"button",onClick:()=>{var P;return(P=e.current)==null?void 0:P.click()},className:"mt-3 text-blue-700 hover:underline text-sm font-medium",children:"Chn nh khc"})]}):d.jsxs("div",{className:"text-center space-y-3",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 text-white rounded-xl shadow-sm",children:d.jsx(Mh,{size:24})}),d.jsx("div",{className:"text-blue-700 font-semibold",children:"Nhp  ti nh PNG ln hoc ko-th"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Ch h tr PNG nn trong sut  ti a 2MB"})]}),d.jsx("input",{ref:e,type:"file",accept:"image/png",onChange:O,className:"hidden"})]}),m.file&&d.jsxs("p",{className:"text-rose-600 text-sm mt-2 flex items-center gap-1",children:[d.jsx(ex,{size:14})," ",m.file]}),d.jsx("div",{className:"mt-6 rounded-xl bg-blue-50/70 ring-1 ring-blue-200/60 p-4 text-sm text-blue-800",children:"Mo: Dng PNG vi vng trong sut  ngi dng thy nh ca h pha sau khung."})]}),d.jsxs("section",{className:"bg-white/90 rounded-2xl ring-1 ring-gray-200 shadow-sm p-6",children:[d.jsx("header",{className:"mb-4",children:d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Thng tin chung"})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:["Tiu  ",d.jsx("span",{className:"text-rose-500",children:"*"})]}),d.jsx("input",{id:"title",name:"title",type:"text",value:r.title,onChange:E,placeholder:"V d: Khung xun 2025  sc hoa o",className:["mt-1 w-full px-4 py-3 rounded-xl border outline-none transition","focus:ring-2 focus:ring-blue-500 focus:border-blue-500",m.title?"border-rose-300 bg-rose-50/40":"border-gray-300"].join(" ")}),d.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs",children:[d.jsx("span",{className:"text-gray-500",children:"Ti thiu 10 k t"}),d.jsxs("span",{className:`font-medium ${r.title.trim().length>=10?"text-green-600":"text-gray-400"}`,children:[r.title.trim().length,"/10"]})]}),m.title&&d.jsxs("p",{className:"text-rose-600 text-sm mt-1 flex items-center gap-1",children:[d.jsx(ex,{size:14})," ",m.title]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:["Loi khung ",d.jsx("span",{className:"text-rose-500",children:"*"})]}),d.jsx("select",{id:"type",name:"type",value:r.type,onChange:E,className:"mt-1 w-full px-4 py-3 rounded-xl border border-gray-300 outline-none transition focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:S.length>0?S.map(P=>d.jsx("option",{value:P.value,children:P.label},P.value)):d.jsx("option",{value:"khac",children:"Khc"})}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Chn loi ph hp  ngi dng d tm thy khung ca bn"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700",children:"ng dn (URL)"}),d.jsxs("div",{className:"mt-1 flex",children:[d.jsx("span",{className:"inline-flex items-center px-3 rounded-l-xl border border-r-0 border-gray-300 bg-gray-50 text-gray-600 text-sm",children:q0}),d.jsx("input",{id:"url",name:"url",type:"text",value:F,onChange:P=>s(R=>({...R,url:q0+P.target.value})),placeholder:"ten-khung-hinh",className:"flex-1 px-4 py-3 border border-l-0 rounded-r-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition border-gray-300"})]}),r.url&&F&&d.jsxs("div",{className:"mt-2 text-sm",children:[d.jsx("span",{className:"text-gray-500 mr-2",children:"Xem trc:"}),d.jsx("span",{className:"px-2 py-1 rounded bg-gray-100 ring-1 ring-gray-200 text-gray-800 break-all",children:r.url})]})]}),d.jsx("button",{type:"submit",disabled:h,className:"w-full inline-flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-60 text-white font-semibold px-6 py-4 rounded-xl shadow-blue-600/20 shadow-md transition",children:h?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"ang to khung"]}):d.jsxs(d.Fragment,{children:[d.jsx(ws,{size:20}),"TO KHUNG HNH"]})}),m.submit&&d.jsxs("p",{className:"text-rose-600 text-sm flex items-center gap-1",children:[d.jsx(ex,{size:14})," ",m.submit]})]})]})]})]})]}):null}const W0="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),hk={dang_hoat_dong:{label:"ang hot ng",chip:"bg-emerald-50 text-emerald-700 ring-emerald-200",dot:"bg-emerald-500"},tam_dung:{label:"Tm dng",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"},cho_duyet:{label:"Ch duyt",chip:"bg-amber-50 text-amber-700 ring-amber-200",dot:"bg-amber-500"}},rne={su_kien:"S kin",le_hoi:"L hi  Ngy c bit",hoat_dong:"Hot ng  Cng ng",chien_dich:"Chin dch  C v",thuong_hieu:"Thng hiu  T chc",giai_tri:"Gii tr  Fandom",sang_tao:"Ch  sng to",khac:"Khc"},sne=t=>t?new Date(t).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}):"-",ane=t=>`https://ui-avatars.com/api/?name=${encodeURIComponent(t||"User")}&background=0D8ABC&color=fff&size=128&bold=true`;function one({status:t}){const e=hk[t]||hk.dang_hoat_dong;return d.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium ring-1 ${e.chip}`,children:[d.jsx("span",{className:`size-2 rounded-full ${e.dot}`}),e.label]})}function lne(){return d.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(o2,{className:"size-8 animate-spin text-blue-600"}),d.jsx("p",{className:"text-gray-600",children:"ang ti khung hnh..."})]})})}function cne(){const{id:t}=c3(),e=ga(),[n]=cj(),i=n.get("preview")==="true",[r,s]=Q.useState(null),[a,o]=Q.useState(!0),[l,c]=Q.useState(null),[h,g]=Q.useState(!1),[m,p]=Q.useState(!1);Q.useEffect(()=>{x()},[t]);async function x(){try{o(!0),c(null);const E=await fetch(`${W0}/api/Frames/${t}`,{credentials:"include"});if(E.status===404){c("Khung hnh khng tn ti");return}if(!E.ok)throw new Error(`HTTP ${E.status}`);const O=await E.json();console.log(" Frame detail API response:",O);const U={id:O.id??O.Id,title:O.tieuDe??O.TieuDe??"Khng c tiu ",alias:O.alias??O.Alias,status:O.trangThai??O.TrangThai??"dang_hoat_dong",clicks:O.luotXem??O.LuotXem??0,uses:O.luotTai??O.LuotTai??0,createdAt:O.ngayDang??O.NgayDang,imageUrl:O.urlXemTruoc??O.UrlXemTruoc?k(O.urlXemTruoc??O.UrlXemTruoc):"/placeholder-frame.png",downloadUrl:O.urlXemTruoc??O.UrlXemTruoc?k(O.urlXemTruoc??O.UrlXemTruoc):null,type:O.loai??O.Loai??O.type??O.Type??null,owner:O.owner?{id:O.owner.id??O.owner.Id,name:O.owner.name??O.owner.Name??"n danh",avatar:O.owner.avatar??O.owner.Avatar}:null};s(U),b(),i||S()}catch(E){console.error(" fetchFrameDetail error:",E),c("C li xy ra khi ti khung hnh")}finally{o(!1)}}async function b(){var E;try{const O=await fetch(`${W0}/api/auth/me`,{credentials:"include"});if(O.ok){const U=await O.json();p(U.id===((E=r==null?void 0:r.owner)==null?void 0:E.id))}}catch(O){console.error("checkOwnership error:",O)}}async function S(){try{await fetch(`${W0}/api/Frames/view/${t}`,{method:"POST",credentials:"include"}),console.log(" View incremented")}catch(E){console.error(" incrementView error:",E)}}async function N(){if(r!=null&&r.downloadUrl)try{i||(await fetch(`${W0}/api/Frames/download/${t}`,{method:"POST",credentials:"include"}),console.log(" Download incremented"));const E=document.createElement("a");E.href=r.downloadUrl,E.download=`${r.alias||r.title}.png`,document.body.appendChild(E),E.click(),document.body.removeChild(E),i||s(O=>O?{...O,uses:O.uses+1}:null)}catch(E){console.error(" handleDownload error:",E),alert("C li xy ra khi ti khung hnh")}}async function j(){const E=`${window.location.origin}/editor?alias=${r.alias}`;if(navigator.share)try{await navigator.share({title:r==null?void 0:r.title,text:`Xem khung hnh: ${r==null?void 0:r.title}`,url:E})}catch(O){O.name!=="AbortError"&&w(E)}else w(E)}function w(E){navigator.clipboard.writeText(E).then(()=>{g(!0),setTimeout(()=>g(!1),2e3)}).catch(()=>{const O=document.createElement("textarea");O.value=E,O.style.position="fixed",O.style.opacity="0",document.body.appendChild(O),O.select(),document.execCommand("copy"),document.body.removeChild(O),g(!0),setTimeout(()=>g(!1),2e3)})}function k(E){return!E||E.startsWith("http://")||E.startsWith("https://")?E:`${W0}${E.startsWith("/")?"":"/"}${E}`}return a?d.jsx(lne,{}):l?d.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:l}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Khung hnh c th  b xa hoc khng tn ti."}),d.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition",children:[d.jsx(u4,{size:20}),"V trang ch"]})]})}):r?d.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:d.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("button",{onClick:()=>e(-1),className:"inline-flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 font-medium transition",children:[d.jsx(u4,{size:20}),"Quay li"]}),m&&d.jsxs(zn,{to:`/frame/${r.id}/edit`,className:"inline-flex items-center gap-2 px-4 py-2 bg-amber-500 text-white rounded-xl font-semibold hover:bg-amber-600 transition",children:[d.jsx(f3,{size:18}),"Chnh sa"]})]}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"aspect-square overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200 shadow-lg",children:d.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-full object-contain",onError:E=>{E.currentTarget.src="/placeholder-frame.png"}})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:N,disabled:!r.downloadUrl,className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition shadow-lg shadow-blue-500/30",children:[d.jsx(Kl,{size:20}),"Ti xung"]}),d.jsxs("button",{onClick:j,className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white text-gray-700 rounded-xl font-semibold hover:bg-gray-50 ring-1 ring-gray-200 transition",children:[h?d.jsx(rO,{size:20,className:"text-green-600"}):d.jsx(ZO,{size:20}),h?" sao chp!":"Chia s"]})]}),d.jsxs("button",{onClick:()=>e(`/editor?alias=${r.alias}`),className:"w-full inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition shadow-lg shadow-purple-500/30",children:[d.jsx(RO,{size:20}),"Dng khung ny"]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:r.title}),d.jsx(one,{status:r.status})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx("div",{className:"bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl p-4 ring-1 ring-violet-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white rounded-lg shadow",children:d.jsx(hu,{className:"text-violet-600",size:20})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.clicks.toLocaleString()}),d.jsx("div",{className:"text-sm text-gray-600",children:"Lt xem"})]})]})}),d.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 ring-1 ring-green-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white rounded-lg shadow",children:d.jsx(Kl,{className:"text-green-600",size:20})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.uses.toLocaleString()}),d.jsx("div",{className:"text-sm text-gray-600",children:"Lt ti"})]})]})})]}),r.owner&&d.jsxs("div",{className:"bg-white rounded-xl p-5 ring-1 ring-slate-200 shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tc gi"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:r.owner.avatar||ane(r.owner.name),alt:r.owner.name,className:"size-12 rounded-full object-cover ring-2 ring-white shadow",referrerPolicy:"no-referrer"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-gray-900",children:r.owner.name}),d.jsx("div",{className:"text-sm text-gray-600",children:"Ngi to khung hnh"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl p-5 ring-1 ring-slate-200 shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Thng tin"}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx(h3,{size:16,className:"text-blue-600"}),d.jsx("span",{className:"font-medium",children:"Ngy to:"}),d.jsx("span",{children:sne(r.createdAt)})]}),r.type&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Loi khung:"}),d.jsxs("span",{className:"inline-flex items-center gap-1 bg-indigo-50 text-indigo-700 rounded-full px-2.5 py-1 text-xs font-medium border border-indigo-200",children:[d.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),rne[r.type]||r.type]})]}),r.alias&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Alias:"}),d.jsx("code",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:r.alias})]})]})]})]})]})]})}):null}const e1="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),une=t=>`https://ui-avatars.com/api/?name=${encodeURIComponent(t||"User")}&background=0D8ABC&color=fff&size=128&bold=true`,ov=t=>t?new Date(t).toLocaleDateString("vi-VN"):"-",dk={su_kien:"S kin",le_hoi:"L hi  Ngy c bit",hoat_dong:"Hot ng  Cng ng",chien_dich:"Chin dch  C v",thuong_hieu:"Thng hiu  T chc",giai_tri:"Gii tr  Fandom",sang_tao:"Ch  sng to",khac:"Khc"},fk={active:{label:"ang hot ng",chip:"bg-emerald-50 text-emerald-700 ring-emerald-200",dot:"bg-emerald-500"},inactive:{label:"Tm dng",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"},pending:{label:"Ch duyt",chip:"bg-amber-50 text-amber-700 ring-amber-200",dot:"bg-amber-500"}};function hne({open:t,title:e,description:n,confirmText:i="Xc nhn",cancelText:r="Hy",onConfirm:s,onClose:a}){return t?d.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 p-4",role:"dialog","aria-modal":"true",children:d.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl ring-1 ring-black/5",children:[d.jsxs("div",{className:"p-5",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),n&&d.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n})]}),d.jsxs("div",{className:"flex items-center justify-end gap-3 border-t px-5 py-3",children:[d.jsx("button",{onClick:a,className:"px-3 py-2 text-sm font-medium rounded-lg bg-gray-100 hover:bg-gray-200",children:r}),d.jsx("button",{onClick:s,className:"px-3 py-2 text-sm font-semibold rounded-lg text-white bg-rose-600 hover:bg-rose-700",children:i})]})]})}):null}function dne({status:t}){const e=fk[t]||fk.active;return d.jsxs("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[11px] font-medium ring-1 ${e.chip}`,children:[d.jsx("span",{className:`size-2 rounded-full ${e.dot}`}),e.label]})}function fne(){return d.jsx("tr",{className:"animate-pulse",children:Array.from({length:9}).map((t,e)=>d.jsx("td",{className:"py-3 px-3",children:d.jsx("div",{className:"h-4 rounded bg-gray-200"})},e))})}function pne(){ga();const{user:t,loading:e}=Lw(),[n,i]=Q.useState([]),[r,s]=Q.useState(null),[a,o]=Q.useState(""),[l,c]=Q.useState("all"),[h,g]=Q.useState("all"),[m,p]=Q.useState("updatedAt"),[x,b]=Q.useState("desc"),[S,N]=Q.useState({open:!1,id:null});Q.useEffect(()=>{try{const P=JSON.parse(localStorage.getItem("kh_me")||"null");P&&s(P)}catch{}j(),w()},[]);async function j(){try{const P=await fetch(`${e1}/api/user/profile`,{credentials:"include"});if(P.ok){const R=await P.json(),$={id:R.id||R.Id,name:R.name||R.Name||R.hoTen||R.HoTen,email:R.email||R.Email,picture:R.picture||R.Picture||R.avatar||R.Avatar,createdAt:R.createdAt||R.CreatedAt||R.ngayTao||R.NgayTao};s($),localStorage.setItem("kh_me",JSON.stringify($))}else P.status===401&&(localStorage.removeItem("kh_me"),s(null))}catch(P){console.error("Error fetching user profile:",P)}}async function w(){try{const P=await fetch(`${e1}/api/frames/my`,{credentials:"include"});if(P.status===401){i([]);return}if(!P.ok)throw new Error(`HTTP ${P.status}`);const $=(await P.json()||[]).map(G=>({id:G.id??G.Id,title:G.tieuDe??G.TieuDe??"(khng c tiu )",alias:G.alias??G.Alias,loai:G.loai??G.Loai??null,status:k(G.trangThai??G.TrangThai),clicks:G.luotXem??G.LuotXem??0,uses:G.luotTai??G.LuotTai??0,createdAt:G.ngayDang??G.NgayDang,updatedAt:G.ngayChinhSua??G.NgayChinhSua,imageUrl:G.urlXemTruoc??G.UrlXemTruoc?E(G.urlXemTruoc??G.UrlXemTruoc):"/placeholder-frame.png"}));i($)}catch(P){console.error("fetchMyFrames error:",P),i([])}}function k(P){if(!P)return"active";const R=String(P).toLowerCase();return R.includes("tam")||R.includes("inactive")?"inactive":R.includes("cho")||R.includes("pending")?"pending":"active"}function E(P){return!P||P.startsWith("http://")||P.startsWith("https://")?P:`${e1}${P.startsWith("/")?"":"/"}${P}`}const O=P=>N({open:!0,id:P}),U=()=>N({open:!1,id:null});async function M(){const P=S.id;if(U(),!!P)try{if(!(await fetch(`${e1}/api/frames/${P}`,{method:"DELETE",credentials:"include"})).ok)throw new Error;i($=>$.filter(G=>G.id!==P))}catch{alert("C li xy ra khi xa khung hnh")}}const I=Q.useMemo(()=>{const P=a.trim().toLowerCase(),R=l==="all"?n:n.filter(ce=>(ce.status||"active")===l),$=h==="all"?R:R.filter(ce=>ce.loai===h);return[...P?$.filter(ce=>`${ce.title}`.toLowerCase().includes(P)):$].sort((ce,pe)=>{const Z=x==="asc"?1:-1,te=B=>m==="title"?`${B.title||""}`.toLowerCase():B[m]||0,he=te(ce),Y=te(pe);return he<Y?-1*Z:he>Y?1*Z:0})},[n,a,l,h,m,x]),F=P=>{P===m?b(R=>R==="asc"?"desc":"asc"):(p(P),b("desc"))};return e?d.jsx("div",{className:"min-h-screen grid place-items-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):t?d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[d.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10",children:[d.jsx("aside",{className:"mx-auto max-w-xl",children:d.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white ring-1 ring-slate-200 shadow-sm",children:[d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(80%_60%_at_10%_10%,#e0f2fe_0%,transparent_60%),radial-gradient(80%_60%_at_90%_10%,#dcfce7_0%,transparent_60%)] opacity-60"}),d.jsxs("div",{className:"relative p-6 text-center",children:[d.jsx("img",{src:(r==null?void 0:r.picture)||une(r==null?void 0:r.name),alt:"Avatar",className:"mx-auto mb-3 size-24 rounded-full object-cover ring-2 ring-white shadow-lg",referrerPolicy:"no-referrer"}),d.jsx("div",{className:"font-semibold text-gray-900 text-lg",children:(r==null?void 0:r.name)||"Quc Lm"}),d.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Ngy to: ",r!=null&&r.createdAt?ov(r.createdAt):"31/05/2025"]}),d.jsx("div",{className:"mt-2 inline-flex items-center gap-2 rounded-full bg-blue-50 text-blue-700 px-3 py-1 text-xs font-semibold ring-1 ring-blue-200",children:" Cha xc thc"})]})]})}),d.jsx("div",{className:"h-8"}),d.jsxs("div",{className:"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[d.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[d.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-3 grid place-items-center text-gray-400",children:d.jsx(d3,{size:16})}),d.jsx("input",{value:a,onChange:P=>o(P.target.value),placeholder:"Tm theo tiu ...",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm outline-none ring-0 focus:border-blue-400 focus:bg-white"})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:l,onChange:P=>c(P.target.value),className:"appearance-none rounded-xl border border-slate-200 bg-white pl-3 pr-8 py-2 text-sm outline-none focus:border-blue-400",children:[d.jsx("option",{value:"all",children:"Tt c trng thi"}),d.jsx("option",{value:"active",children:"ang hot ng"}),d.jsx("option",{value:"pending",children:"Ch duyt"}),d.jsx("option",{value:"inactive",children:"Tm dng"})]}),d.jsx(Sh,{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:h,onChange:P=>g(P.target.value),className:"appearance-none rounded-xl border border-slate-200 bg-white pl-3 pr-8 py-2 text-sm outline-none focus:border-blue-400",children:[d.jsx("option",{value:"all",children:"Tt c loi khung"}),Object.entries(dk).map(([P,R])=>d.jsx("option",{value:P,children:R},P))]}),d.jsx(Sh,{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",size:16})]})]}),d.jsxs(zn,{to:"/create-frame",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-md shadow-blue-600/20 hover:bg-blue-700 active:translate-y-px",children:[d.jsx(Wp,{size:16})," To mi"]})]}),d.jsx("section",{className:"min-w-0",children:d.jsxs("div",{className:"overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200 shadow-sm",children:[d.jsx("div",{className:"max-w-full overflow-x-auto",children:d.jsxs("table",{className:"min-w-[1200px] w-full text-sm",children:[d.jsxs("colgroup",{children:[d.jsx("col",{className:"w-14"}),d.jsx("col",{className:"w-28"}),d.jsx("col",{}),d.jsx("col",{className:"w-40"})," ",d.jsx("col",{className:"w-44"}),d.jsx("col",{className:"w-28"}),d.jsx("col",{className:"w-32"}),d.jsx("col",{className:"w-36"}),d.jsx("col",{className:"w-40"}),d.jsx("col",{className:"w-44"})]}),d.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/90 backdrop-blur border-b text-slate-700",children:d.jsxs("tr",{className:"[&>th]:py-3 [&>th]:px-3 select-none",children:[d.jsx("th",{className:"text-left",children:"TT"}),d.jsx("th",{className:"text-left",children:"Khung hnh"}),d.jsx("th",{className:"text-left",children:d.jsxs("button",{onClick:()=>F("title"),className:"inline-flex items-center gap-1 font-semibold",children:["Tiu ",m==="title"&&d.jsx("span",{className:"text-xs",children:x==="asc"?"":""})]})}),d.jsx("th",{className:"text-left",children:"Loi khung"}),d.jsx("th",{className:"text-left",children:"Trng thi"}),d.jsx("th",{className:"text-right",children:d.jsxs("button",{onClick:()=>F("clicks"),className:"inline-flex items-center gap-1 font-semibold",children:["Lt click",m==="clicks"&&d.jsx("span",{className:"text-xs",children:x==="asc"?"":""})]})}),d.jsx("th",{className:"text-right",children:d.jsxs("button",{onClick:()=>F("uses"),className:"inline-flex items-center gap-1 font-semibold",children:["Lt thay khung",m==="uses"&&d.jsx("span",{className:"text-xs",children:x==="asc"?"":""})]})}),d.jsx("th",{className:"text-left whitespace-nowrap",children:d.jsxs("button",{onClick:()=>F("createdAt"),className:"inline-flex items-center gap-1 font-semibold",children:["Ngy to",m==="createdAt"&&d.jsx("span",{className:"text-xs",children:x==="asc"?"":""})]})}),d.jsx("th",{className:"text-left whitespace-nowrap",children:d.jsxs("button",{onClick:()=>F("updatedAt"),className:"inline-flex items-center gap-1 font-semibold",children:["Ngy chnh sa",m==="updatedAt"&&d.jsx("span",{className:"text-xs",children:x==="asc"?"":""})]})}),d.jsx("th",{className:"text-left",children:"Hnh ng"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e&&Array.from({length:6}).map((P,R)=>d.jsx(fne,{},R)),!e&&I.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:10,className:"py-16 text-center",children:d.jsxs("div",{className:"inline-flex flex-col items-center gap-2 text-slate-500",children:[d.jsx("div",{className:"text-5xl",children:""}),d.jsx("div",{className:"text-lg",children:"Cha c khung hnh ph hp"}),d.jsx("p",{className:"text-sm",children:"Hy thay i b lc hoc to khung hnh mi."}),d.jsxs(zn,{to:"/create-frame",className:"mt-2 inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-700",children:[d.jsx(Wp,{size:16})," To khung hnh u tin"]})]})})}),!e&&I.map((P,R)=>d.jsxs("tr",{className:"hover:bg-blue-50/40 transition-colors",children:[d.jsx("td",{className:"py-3 px-3 text-slate-600",children:R+1}),d.jsx("td",{className:"py-3 px-3",children:d.jsx(zn,{to:`/frame/${P.id}?preview=true`,className:"inline-block",children:d.jsx("div",{className:"size-12 overflow-hidden rounded-lg ring-1 ring-slate-200",children:d.jsx("img",{src:P.imageUrl||"/placeholder-frame.png",alt:P.title,className:"h-full w-full object-cover",loading:"lazy",onError:$=>{$.currentTarget.src="/placeholder-frame.png"}})})})}),d.jsx("td",{className:"py-3 px-3",children:d.jsx(zn,{to:`/frame/${P.id}?preview=true`,className:"line-clamp-1 font-medium text-gray-900 hover:text-blue-700",title:P.title,children:P.title||"Khng c tiu "})}),d.jsx("td",{className:"py-3 px-3",children:P.loai?d.jsxs("span",{className:"inline-flex items-center gap-1 bg-indigo-50 text-indigo-700 rounded-full px-2.5 py-1 text-xs font-medium border border-indigo-200",children:[d.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),dk[P.loai]||P.loai]}):d.jsx("span",{className:"text-slate-400 text-xs",children:"-"})}),d.jsx("td",{className:"py-3 px-3",children:d.jsx(dne,{status:P.status})}),d.jsx("td",{className:"py-3 px-3 text-right font-mono text-slate-800",children:P.clicks??0}),d.jsx("td",{className:"py-3 px-3 text-right font-mono text-slate-800",children:P.uses??0}),d.jsx("td",{className:"py-3 px-3 whitespace-nowrap text-slate-700",children:ov(P.createdAt)}),d.jsx("td",{className:"py-3 px-3 whitespace-nowrap text-slate-700",children:ov(P.updatedAt)}),d.jsx("td",{className:"py-3 px-3",children:d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs(zn,{to:`/frame/${P.id}?preview=true`,className:"inline-flex items-center gap-1 rounded-lg bg-violet-600 px-3 py-1 text-xs font-semibold text-white hover:bg-violet-700 shadow-sm",children:[d.jsx(hu,{size:14})," Xem"]}),d.jsxs(zn,{to:`/frame/${P.id}/edit`,className:"inline-flex items-center gap-1 rounded-lg bg-amber-500 px-3 py-1 text-xs font-semibold text-white hover:bg-amber-600 shadow-sm",children:[d.jsx(KO,{size:14})," Sa"]}),d.jsxs("button",{onClick:()=>O(P.id),className:"inline-flex items-center gap-1 rounded-lg bg-rose-500 px-3 py-1 text-xs font-semibold text-white hover:bg-rose-600 shadow-sm",children:[d.jsx(yj,{size:14})," Xa"]})]})})]},P.id))]})]})}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 border-t bg-slate-50 px-6 py-3 text-xs text-slate-600",children:[d.jsxs("div",{children:["Tng cng: ",d.jsx("span",{className:"font-semibold text-slate-900",children:I.length})," khung hnh"]}),d.jsxs("div",{children:["Sp xp theo ",d.jsx("span",{className:"font-medium",children:{title:"Tiu ",clicks:"Lt click",uses:"Lt thay",createdAt:"Ngy to",updatedAt:"Ngy sa"}[m]})," (",x==="asc"?"tng dn":"gim dn",")"]})]})]})})]}),d.jsx(hne,{open:S.open,title:"Xa khung hnh?",description:"Hnh ng ny khng th hon tc. Khung hnh s b xa vnh vin.",confirmText:"Xa",onConfirm:M,onClose:U})]}):null}const K0="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,"");function gne(){const{id:t}=c3(),e=ga(),[n,i]=Q.useState(!0),[r,s]=Q.useState(!1),[a,o]=Q.useState(null),[l,c]=Q.useState({title:"",alias:"",type:"khac"}),[h,g]=Q.useState(null),[m,p]=Q.useState(""),[x,b]=Q.useState({checking:!1,available:!0,message:""}),[S,N]=Q.useState({}),[j,w]=Q.useState({show:!1,type:"",message:""}),[k,E]=Q.useState([]);Q.useEffect(()=>{U(),O()},[t]);async function O(){try{const ee=await fetch(`${K0}/api/frames/types`,{credentials:"include"});if(ee.ok){const ce=await ee.json();E(ce)}}catch(ee){console.error("Error fetching frame types:",ee)}}Q.useEffect(()=>{if(!l.alias||l.alias===(a==null?void 0:a.alias)){b({checking:!1,available:!0,message:""});return}const ee=setTimeout(M,500);return()=>clearTimeout(ee)},[l.alias,a==null?void 0:a.alias]);async function U(){try{i(!0);const ee=await fetch(`${K0}/api/frames/${t}`,{credentials:"include"});if(ee.status===404){e("/my-frames",{replace:!0});return}if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const ce=await ee.json();o(ce),c({title:ce.tieuDe||ce.TieuDe||"",alias:ce.alias||ce.Alias||"",type:ce.loai||ce.Loai||ce.type||ce.Type||"khac"}),p(ce.urlXemTruoc||ce.UrlXemTruoc||"")}catch(ee){console.error("Error fetching frame:",ee),G("error","Khng th ti thng tin khung hnh"),e("/my-frames",{replace:!0})}finally{i(!1)}}async function M(){if(!(!l.alias||l.alias===(a==null?void 0:a.alias))){b({checking:!0,available:!0,message:"ang kim tra..."});try{const ee=await fetch(`${K0}/api/frames/check-alias/${encodeURIComponent(l.alias)}`);if(ee.ok){const{exists:ce}=await ee.json();b({checking:!1,available:!ce,message:ce?"Alias  tn ti":"Alias kh dng"})}}catch{b({checking:!1,available:!0,message:"Khng th kim tra alias"})}}}function I(ee){const{name:ce,value:pe}=ee.target;c(Z=>({...Z,[ce]:pe})),S[ce]&&N(Z=>({...Z,[ce]:""}))}function F(ee){var te;const ce=(te=ee.target.files)==null?void 0:te[0];if(!ce)return;const pe={};if(ce.name.toLowerCase().endsWith(".png")?ce.size>2*1024*1024&&(pe.file="File khng c vt qu 2MB"):pe.file="Ch chp nhn file PNG",Object.keys(pe).length>0){N(pe);return}g(ce),N(he=>({...he,file:""}));const Z=new FileReader;Z.onload=he=>p(he.target.result),Z.readAsDataURL(ce)}function P(){g(null),p((a==null?void 0:a.urlXemTruoc)||(a==null?void 0:a.UrlXemTruoc)||""),N(ce=>({...ce,file:""}));const ee=document.getElementById("file-input");ee&&(ee.value="")}function R(){const ee={};return l.title.trim()||(ee.title="Vui lng nhp tiu "),l.alias&&!/^[a-z0-9-]+$/.test(l.alias)&&(ee.alias="Alias ch cha ch thng, s v du gch ngang"),x.available||(ee.alias="Alias  tn ti"),N(ee),Object.keys(ee).length===0}async function $(ee){if(ee.preventDefault(),!!R()){s(!0);try{const ce=new FormData;ce.append("title",l.title.trim()),l.alias&&ce.append("alias",l.alias.trim()),ce.append("type",l.type),h&&ce.append("file",h);const pe=await fetch(`${K0}/api/frames/update/${t}`,{method:"POST",credentials:"include",body:ce});if(pe.status===401){G("error","Phin ng nhp  ht hn");return}if(pe.status===404){G("error","Khng tm thy khung hnh hoc bn khng c quyn sa");return}if(pe.status===409){N({alias:"Alias  tn ti"});return}if(!pe.ok){const Z=await pe.text();throw new Error(Z||"Li khng xc nh")}G("success","Cp nht khung hnh thnh cng!"),setTimeout(()=>{e("/my-frames")},1500)}catch(ce){console.error("Error updating frame:",ce),G("error",ce.message||"C li xy ra khi cp nht")}finally{s(!1)}}}function G(ee,ce){w({show:!0,type:ee,message:ce}),setTimeout(()=>{w({show:!1,type:"",message:""})},5e3)}return n?d.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:d.jsx("div",{className:"mx-auto max-w-4xl px-4 py-10",children:d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded mb-8"}),d.jsxs("div",{className:"bg-white rounded-2xl p-8 space-y-6",children:[d.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded"}),d.jsx("div",{className:"h-10 bg-gray-200 rounded"}),d.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded"}),d.jsx("div",{className:"h-10 bg-gray-200 rounded"}),d.jsx("div",{className:"h-48 bg-gray-200 rounded"})]})]})})}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[d.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-10",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs(zn,{to:"/my-frames",className:"inline-flex items-center gap-2 text-sm font-medium text-gray-600 hover:text-gray-900 mb-4",children:[d.jsx(u4,{size:16}),"Quay li danh sch"]}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Chnh sa khung hnh"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Cp nht thng tin v hnh nh khung hnh ca bn"})]}),d.jsx("div",{className:"bg-white rounded-2xl ring-1 ring-slate-200 shadow-sm overflow-hidden",children:d.jsxs("form",{onSubmit:$,className:"p-8 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Tiu  khung hnh *"}),d.jsx("input",{type:"text",id:"title",name:"title",value:l.title,onChange:I,placeholder:"Nhp tiu  khung hnh...",className:`w-full px-4 py-3 rounded-xl border text-sm outline-none transition-all ${S.title?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-2 focus:ring-red-200":"border-slate-200 bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-100"}`,maxLength:200}),S.title&&d.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[d.jsx(Fd,{size:14}),S.title]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"alias",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Alias (ty chn)"}),d.jsx("input",{type:"text",id:"alias",name:"alias",value:l.alias,onChange:I,placeholder:"vd: khung-tet-2024",className:`w-full px-4 py-3 rounded-xl border text-sm outline-none transition-all ${S.alias||!x.available&&l.alias?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-2 focus:ring-red-200":x.available&&l.alias&&!x.checking?"border-emerald-300 bg-emerald-50 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200":"border-slate-200 bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-100"}`,maxLength:100}),l.alias&&l.alias!==(a==null?void 0:a.alias)&&d.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm",children:x.checking?d.jsxs(d.Fragment,{children:[d.jsx(o2,{size:14,className:"animate-spin text-blue-600"}),d.jsx("span",{className:"text-blue-600",children:x.message})]}):x.available?d.jsxs(d.Fragment,{children:[d.jsx(v_,{size:14,className:"text-emerald-600"}),d.jsx("span",{className:"text-emerald-600",children:x.message})]}):d.jsxs(d.Fragment,{children:[d.jsx(Fd,{size:14,className:"text-red-600"}),d.jsx("span",{className:"text-red-600",children:x.message})]})}),S.alias&&d.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[d.jsx(Fd,{size:14}),S.alias]}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Alias gip to URL thn thin. Ch s dng ch thng, s v du gch ngang."})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:["Loi khung ",d.jsx("span",{className:"text-rose-500",children:"*"})]}),d.jsx("select",{id:"type",name:"type",value:l.type,onChange:I,className:"mt-1 w-full px-4 py-3 rounded-xl border border-gray-300 outline-none transition focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:k.length>0?k.map(ee=>d.jsx("option",{value:ee.value,children:ee.label},ee.value)):d.jsx("option",{value:"khac",children:"Khc"})}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Chn loi ph hp  ngi dng d tm thy khung ca bn"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"nh khung hnh (ty chn)"}),d.jsxs("div",{className:"space-y-4",children:[m&&d.jsxs("div",{className:"relative inline-block",children:[d.jsx("img",{src:m.startsWith("data:")?m:`${K0}${m}`,alt:"Preview",className:"h-48 w-auto rounded-lg ring-1 ring-slate-200 object-contain bg-gray-50"}),h&&d.jsx("button",{type:"button",onClick:P,className:"absolute -top-2 -right-2 p-1 rounded-full bg-red-500 text-white hover:bg-red-600 shadow-lg",children:d.jsx(Rh,{size:14})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"file",id:"file-input",accept:".png,image/png",onChange:F,className:"sr-only"}),d.jsxs("label",{htmlFor:"file-input",className:`flex items-center justify-center gap-3 w-full px-6 py-4 border-2 border-dashed rounded-xl cursor-pointer transition-all ${S.file?"border-red-300 bg-red-50 hover:border-red-400":"border-slate-300 bg-slate-50 hover:border-blue-400 hover:bg-blue-50"}`,children:[d.jsx(Mh,{size:20,className:"text-slate-400"}),d.jsxs("div",{className:"text-sm text-slate-600",children:[d.jsx("span",{className:"font-medium",children:h?"Thay i file khc":"Chn file PNG mi"}),d.jsx("span",{className:"block text-xs text-slate-500 mt-1",children:"PNG vi nn trong sut, ti a 2MB"})]})]})]}),S.file&&d.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[d.jsx(Fd,{size:14}),S.file]})]})]}),d.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[d.jsx(zn,{to:"/my-frames",className:"px-6 py-3 text-sm font-medium rounded-xl bg-gray-100 hover:bg-gray-200 transition-colors",children:"Hy b"}),d.jsx("button",{type:"submit",disabled:r||!x.available,className:"inline-flex items-center gap-2 px-6 py-3 text-sm font-semibold rounded-xl text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:r?d.jsxs(d.Fragment,{children:[d.jsx(o2,{size:16,className:"animate-spin"}),"ang lu..."]}):"Lu thay i"})]})]})})]}),j.show&&d.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm",children:d.jsx("div",{className:`rounded-xl p-4 shadow-lg ring-1 ${j.type==="success"?"bg-emerald-50 text-emerald-800 ring-emerald-200":"bg-red-50 text-red-800 ring-red-200"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[j.type==="success"?d.jsx(v_,{size:20,className:"text-emerald-600"}):d.jsx(Fd,{size:20,className:"text-red-600"}),d.jsx("span",{className:"font-medium",children:j.message})]})})})]})}const mne=()=>{const{user:t,loading:e}=Lw(),[n,i]=Q.useState(null),[r,s]=Q.useState(""),[a,o]=Q.useState(""),[l,c]=Q.useState(null),[h,g]=Q.useState(!1),[m,p]=Q.useState(""),x=Q.useRef();Q.useEffect(()=>{t&&b()},[t]);const b=async()=>{try{const E=await ei.get("/api/accounts/me");i(E.data),s(E.data.TenHienThi||E.data.tenHienThi||""),o(E.data.avatar||"")}catch{p("Khng th ti thng tin ti khon")}},S=E=>{s(E.target.value)},N=async E=>{var O,U,M;E.preventDefault(),g(!0),p("");try{const I=new FormData;I.append("displayName",r);const F=await ei.post("/api/accounts/display-name",I);p(" cp nht tn hin th!"),i(P=>({...P,TenHienThi:F.data.displayName}))}catch(I){p(((O=I.response)==null?void 0:O.data)||((M=(U=I.response)==null?void 0:U.data)==null?void 0:M.message)||"Li khi cp nht tn hin th")}finally{g(!1)}},j=async E=>{var O,U,M;if(E.target.files&&E.target.files[0]){const I=E.target.files[0];c(I),g(!0),p("");try{const F=new FormData;F.append("file",I);const P=await ei.post("/api/accounts/avatar",F,{headers:{"Content-Type":"multipart/form-data"}});o(P.data.avatar),i(R=>({...R,avatar:P.data.avatar})),p(" cp nht nh i din!"),c(null),x.current&&(x.current.value="")}catch(F){p(((O=F.response)==null?void 0:O.data)||((M=(U=F.response)==null?void 0:U.data)==null?void 0:M.message)||"Li khi cp nht nh i din")}finally{g(!1)}}},w=()=>{x.current&&x.current.click()};if(e)return d.jsx("div",{className:"min-h-screen grid place-items-center",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})});const k=()=>{s(n.TenHienThi||n.tenHienThi||""),p("")};return d.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Ti khon"}),d.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-start",children:[d.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-lg p-6",children:[d.jsx("div",{className:"text-sm text-gray-400 uppercase font-semibold mb-4",children:"Thng tin"}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsx("img",{src:n.avatar||a||"/default-avatar.png",alt:"avatar",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-inner"})}),d.jsx("div",{className:"flex-1"}),d.jsxs("div",{children:[d.jsx("input",{ref:x,type:"file",accept:"image/png, image/jpeg",onChange:j,className:"hidden"}),d.jsx("button",{onClick:w,className:"px-4 py-2 bg-white border rounded-full shadow-sm hover:shadow-md",disabled:h,children:"Cp nht"})]})]}),d.jsxs("div",{className:"my-6 border-t pt-6",children:[d.jsx("label",{className:"block mb-2 text-sm text-gray-600",children:"Tn y "}),d.jsx("input",{type:"text",value:r,onChange:S,className:"border rounded px-4 py-3 w-full bg-gray-50",maxLength:100})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{onClick:k,className:"px-4 py-2 bg-white border rounded-full text-gray-600 hover:bg-gray-50",disabled:h,children:"Hy"}),d.jsx("button",{onClick:N,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-xl text-white bg-blue-600 hover:bg-blue-700 shadow transition-colors",disabled:h,children:"Lu"})]}),d.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Email:"})," ",n.Email||n.email]}),d.jsxs("div",{className:"mt-2",children:[d.jsx("span",{className:"font-medium",children:"S lng khung hnh:"})," ",n.framesCount??0]}),m&&d.jsx("div",{className:"mt-4 text-blue-600",children:m})]})]}),d.jsxs("div",{className:"w-full lg:w-80 bg-white rounded-xl shadow-lg p-6 flex flex-col items-center",children:[d.jsx("img",{src:n.avatar||a||"/default-avatar.png",alt:"avatar",className:"w-28 h-28 rounded-full object-cover mb-4 border-4 border-white shadow-md"}),d.jsx("div",{className:"text-lg font-semibold",children:r||n.TenHienThi||n.tenHienThi||n.email}),d.jsxs("div",{className:"text-sm text-gray-400 mt-2 text-center",children:[n.framesCount??0," khung hnh"]})]})]})]})};function yne(){return d.jsxs(FD,{children:[d.jsx(tne,{}),d.jsxs("div",{className:"flex flex-col min-h-screen",children:[d.jsx(SI,{}),d.jsx("main",{className:"flex-1",children:d.jsxs(CD,{children:[d.jsx(Mr,{path:"/",element:d.jsx(rH,{})}),d.jsx(Mr,{path:"/tools",element:d.jsx(sH,{})}),d.jsx(Mr,{path:"/trending",element:d.jsx(aH,{})}),d.jsx(Mr,{path:"/editor",element:d.jsx(LS,{})}),d.jsx(Mr,{path:"/login",element:d.jsx(g3,{})}),d.jsx(Mr,{path:"/admin",element:d.jsx(sZ,{})}),d.jsx(Mr,{path:"/compress",element:d.jsx(lZ,{})}),d.jsx(Mr,{path:"/resize",element:d.jsx(cZ,{})}),d.jsx(Mr,{path:"/image-to-pdf",element:d.jsx(ene,{})}),d.jsx(Mr,{path:"/create-frame",element:d.jsx(ine,{})}),d.jsx(Mr,{path:"/my-frames",element:d.jsx(pne,{})}),d.jsx(Mr,{path:"/frame/:id",element:d.jsx(cne,{})}),d.jsx(Mr,{path:"/frame/:id/edit",element:d.jsx(gne,{})}),d.jsx(Mr,{path:"/account",element:d.jsx(mne,{})}),d.jsx(Mr,{path:"/:alias",element:d.jsx(LS,{})}),d.jsx(Mr,{path:"*",element:d.jsx(IP,{})})]})}),d.jsx(NI,{})]})]})}const xne="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,"");ei.defaults.baseURL=xne;ei.defaults.withCredentials=!0;lv.createRoot(document.getElementById("root")).render(d.jsx(Dr.StrictMode,{children:d.jsx(yne,{})}));export{Pn as _,Bw as c,D2 as g};
