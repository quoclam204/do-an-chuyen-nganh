var aL=Object.defineProperty;var oL=(t,e,n)=>e in t?aL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ze=(t,e,n)=>oL(t,typeof e!="symbol"?e+"":e,n);function lL(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cN={exports:{}},d2={},uN={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=Symbol.for("react.element"),cL=Symbol.for("react.portal"),uL=Symbol.for("react.fragment"),hL=Symbol.for("react.strict_mode"),dL=Symbol.for("react.profiler"),fL=Symbol.for("react.provider"),pL=Symbol.for("react.context"),gL=Symbol.for("react.forward_ref"),mL=Symbol.for("react.suspense"),vL=Symbol.for("react.memo"),yL=Symbol.for("react.lazy"),Zb=Symbol.iterator;function xL(t){return t===null||typeof t!="object"?null:(t=Zb&&t[Zb]||t["@@iterator"],typeof t=="function"?t:null)}var hN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dN=Object.assign,fN={};function Nf(t,e,n){this.props=t,this.context=e,this.refs=fN,this.updater=n||hN}Nf.prototype.isReactComponent={};Nf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pN(){}pN.prototype=Nf.prototype;function P4(t,e,n){this.props=t,this.context=e,this.refs=fN,this.updater=n||hN}var L4=P4.prototype=new pN;L4.constructor=P4;dN(L4,Nf.prototype);L4.isPureReactComponent=!0;var ew=Array.isArray,gN=Object.prototype.hasOwnProperty,T4={current:null},mN={key:!0,ref:!0,__self:!0,__source:!0};function vN(t,e,n){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)gN.call(e,i)&&!mN.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:Xp,type:t,key:s,ref:a,props:r,_owner:T4.current}}function bL(t,e){return{$$typeof:Xp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function E4(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xp}function wL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tw=/\/+/g;function q5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wL(""+t.key):e.toString(36)}function Fm(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Xp:case cL:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+q5(a,0):i,ew(r)?(n="",t!=null&&(n=t.replace(tw,"$&/")+"/"),Fm(r,e,n,"",function(c){return c})):r!=null&&(E4(r)&&(r=bL(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(tw,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",ew(t))for(var o=0;o<t.length;o++){s=t[o];var l=i+q5(s,o);a+=Fm(s,e,n,l,r)}else if(l=xL(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=i+q5(s,o++),a+=Fm(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Dg(t,e,n){if(t==null)return t;var i=[],r=0;return Fm(t,i,"","",function(s){return e.call(n,s,r++)}),i}function _L(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ys={current:null},Dm={transition:null},SL={ReactCurrentDispatcher:ys,ReactCurrentBatchConfig:Dm,ReactCurrentOwner:T4};function yN(){throw Error("act(...) is not supported in production builds of React.")}Yt.Children={map:Dg,forEach:function(t,e,n){Dg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dg(t,function(){e++}),e},toArray:function(t){return Dg(t,function(e){return e})||[]},only:function(t){if(!E4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Yt.Component=Nf;Yt.Fragment=uL;Yt.Profiler=dL;Yt.PureComponent=P4;Yt.StrictMode=hL;Yt.Suspense=mL;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SL;Yt.act=yN;Yt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=dN({},t.props),r=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=T4.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)gN.call(e,l)&&!mN.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:Xp,type:t.type,key:r,ref:s,props:i,_owner:a}};Yt.createContext=function(t){return t={$$typeof:pL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fL,_context:t},t.Consumer=t};Yt.createElement=vN;Yt.createFactory=function(t){var e=vN.bind(null,t);return e.type=t,e};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(t){return{$$typeof:gL,render:t}};Yt.isValidElement=E4;Yt.lazy=function(t){return{$$typeof:yL,_payload:{_status:-1,_result:t},_init:_L}};Yt.memo=function(t,e){return{$$typeof:vL,type:t,compare:e===void 0?null:e}};Yt.startTransition=function(t){var e=Dm.transition;Dm.transition={};try{t()}finally{Dm.transition=e}};Yt.unstable_act=yN;Yt.useCallback=function(t,e){return ys.current.useCallback(t,e)};Yt.useContext=function(t){return ys.current.useContext(t)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(t){return ys.current.useDeferredValue(t)};Yt.useEffect=function(t,e){return ys.current.useEffect(t,e)};Yt.useId=function(){return ys.current.useId()};Yt.useImperativeHandle=function(t,e,n){return ys.current.useImperativeHandle(t,e,n)};Yt.useInsertionEffect=function(t,e){return ys.current.useInsertionEffect(t,e)};Yt.useLayoutEffect=function(t,e){return ys.current.useLayoutEffect(t,e)};Yt.useMemo=function(t,e){return ys.current.useMemo(t,e)};Yt.useReducer=function(t,e,n){return ys.current.useReducer(t,e,n)};Yt.useRef=function(t){return ys.current.useRef(t)};Yt.useState=function(t){return ys.current.useState(t)};Yt.useSyncExternalStore=function(t,e,n){return ys.current.useSyncExternalStore(t,e,n)};Yt.useTransition=function(){return ys.current.useTransition()};Yt.version="18.3.1";uN.exports=Yt;var J=uN.exports;const Er=h2(J),NL=lL({__proto__:null,default:Er},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kL=J,CL=Symbol.for("react.element"),jL=Symbol.for("react.fragment"),AL=Object.prototype.hasOwnProperty,PL=kL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LL={key:!0,ref:!0,__self:!0,__source:!0};function xN(t,e,n){var i,r={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)AL.call(e,i)&&!LL.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:CL,type:t,key:s,ref:a,props:r,_owner:PL.current}}d2.Fragment=jL;d2.jsx=xN;d2.jsxs=xN;cN.exports=d2;var h=cN.exports,Ly={},bN={exports:{}},oa={},wN={exports:{}},_N={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,Z){var ue=te.length;te.push(Z);e:for(;0<ue;){var Y=ue-1>>>1,z=te[Y];if(0<r(z,Z))te[Y]=Z,te[ue]=z,ue=Y;else break e}}function n(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var Z=te[0],ue=te.pop();if(ue!==Z){te[0]=ue;e:for(var Y=0,z=te.length,q=z>>>1;Y<q;){var ie=2*(Y+1)-1,ce=te[ie],he=ie+1,K=te[he];if(0>r(ce,ue))he<z&&0>r(K,ce)?(te[Y]=K,te[he]=ue,Y=he):(te[Y]=ce,te[ie]=ue,Y=ie);else if(he<z&&0>r(K,ue))te[Y]=K,te[he]=ue,Y=he;else break e}}return Z}function r(te,Z){var ue=te.sortIndex-Z.sortIndex;return ue!==0?ue:te.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,g=null,m=3,p=!1,x=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(te){for(var Z=n(c);Z!==null;){if(Z.callback===null)i(c);else if(Z.startTime<=te)i(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function C(te){if(b=!1,_(te),!x)if(n(l)!==null)x=!0,ge(E);else{var Z=n(c);Z!==null&&pe(C,Z.startTime-te)}}function E(te,Z){x=!1,b&&(b=!1,S(F),F=-1),p=!0;var ue=m;try{for(_(Z),g=n(l);g!==null&&(!(g.expirationTime>Z)||te&&!T());){var Y=g.callback;if(typeof Y=="function"){g.callback=null,m=g.priorityLevel;var z=Y(g.expirationTime<=Z);Z=t.unstable_now(),typeof z=="function"?g.callback=z:g===n(l)&&i(l),_(Z)}else i(l);g=n(l)}if(g!==null)var q=!0;else{var ie=n(c);ie!==null&&pe(C,ie.startTime-Z),q=!1}return q}finally{g=null,m=ue,p=!1}}var O=!1,U=null,F=-1,R=5,M=-1;function T(){return!(t.unstable_now()-M<R)}function D(){if(U!==null){var te=t.unstable_now();M=te;var Z=!0;try{Z=U(!0,te)}finally{Z?$():(O=!1,U=null)}}else O=!1}var $;if(typeof j=="function")$=function(){j(D)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ae=X.port2;X.port1.onmessage=D,$=function(){ae.postMessage(null)}}else $=function(){N(D,0)};function ge(te){U=te,O||(O=!0,$())}function pe(te,Z){F=N(function(){te(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,ge(E))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(te){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var ue=m;m=Z;try{return te()}finally{m=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,Z){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ue=m;m=te;try{return Z()}finally{m=ue}},t.unstable_scheduleCallback=function(te,Z,ue){var Y=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Y+ue:Y):ue=Y,te){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ue+z,te={id:d++,callback:Z,priorityLevel:te,startTime:ue,expirationTime:z,sortIndex:-1},ue>Y?(te.sortIndex=ue,e(c,te),n(l)===null&&te===n(c)&&(b?(S(F),F=-1):b=!0,pe(C,ue-Y))):(te.sortIndex=z,e(l,te),x||p||(x=!0,ge(E))),te},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(te){var Z=m;return function(){var ue=m;m=Z;try{return te.apply(this,arguments)}finally{m=ue}}}})(_N);wN.exports=_N;var $0=wN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TL=J,sa=$0;function Ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SN=new Set,dp={};function Ch(t,e){of(t,e),of(t+"Capture",e)}function of(t,e){for(dp[t]=e,t=0;t<e.length;t++)SN.add(e[t])}var ql=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ty=Object.prototype.hasOwnProperty,EL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nw={},iw={};function ML(t){return Ty.call(iw,t)?!0:Ty.call(nw,t)?!1:EL.test(t)?iw[t]=!0:(nw[t]=!0,!1)}function RL(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FL(t,e,n,i){if(e===null||typeof e>"u"||RL(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xs(t,e,n,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rr[t]=new xs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rr[e]=new xs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rr[t]=new xs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rr[t]=new xs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rr[t]=new xs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rr[t]=new xs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rr[t]=new xs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rr[t]=new xs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rr[t]=new xs(t,5,!1,t.toLowerCase(),null,!1,!1)});var M4=/[\-:]([a-z])/g;function R4(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(M4,R4);Rr[e]=new xs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(M4,R4);Rr[e]=new xs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(M4,R4);Rr[e]=new xs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rr[t]=new xs(t,1,!1,t.toLowerCase(),null,!1,!1)});Rr.xlinkHref=new xs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rr[t]=new xs(t,1,!1,t.toLowerCase(),null,!0,!0)});function F4(t,e,n,i){var r=Rr.hasOwnProperty(e)?Rr[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FL(e,n,r,i)&&(n=null),i||r===null?ML(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Jl=TL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ig=Symbol.for("react.element"),jd=Symbol.for("react.portal"),Ad=Symbol.for("react.fragment"),D4=Symbol.for("react.strict_mode"),Ey=Symbol.for("react.profiler"),NN=Symbol.for("react.provider"),kN=Symbol.for("react.context"),I4=Symbol.for("react.forward_ref"),My=Symbol.for("react.suspense"),Ry=Symbol.for("react.suspense_list"),O4=Symbol.for("react.memo"),Mc=Symbol.for("react.lazy"),CN=Symbol.for("react.offscreen"),rw=Symbol.iterator;function d0(t){return t===null||typeof t!="object"?null:(t=rw&&t[rw]||t["@@iterator"],typeof t=="function"?t:null)}var di=Object.assign,K5;function M0(t){if(K5===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);K5=e&&e[1]||""}return`
`+K5+t}var X5=!1;function Y5(t,e){if(!t||X5)return"";X5=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{X5=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?M0(t):""}function DL(t){switch(t.tag){case 5:return M0(t.type);case 16:return M0("Lazy");case 13:return M0("Suspense");case 19:return M0("SuspenseList");case 0:case 2:case 15:return t=Y5(t.type,!1),t;case 11:return t=Y5(t.type.render,!1),t;case 1:return t=Y5(t.type,!0),t;default:return""}}function Fy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ad:return"Fragment";case jd:return"Portal";case Ey:return"Profiler";case D4:return"StrictMode";case My:return"Suspense";case Ry:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kN:return(t.displayName||"Context")+".Consumer";case NN:return(t._context.displayName||"Context")+".Provider";case I4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O4:return e=t.displayName||null,e!==null?e:Fy(t.type)||"Memo";case Mc:e=t._payload,t=t._init;try{return Fy(t(e))}catch{}}return null}function IL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fy(e);case 8:return e===D4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OL(t){var e=jN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Og(t){t._valueTracker||(t._valueTracker=OL(t))}function AN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=jN(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function c1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dy(t,e){var n=e.checked;return di({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sw(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=tu(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PN(t,e){e=e.checked,e!=null&&F4(t,"checked",e,!1)}function Iy(t,e){PN(t,e);var n=tu(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Oy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Oy(t,e.type,tu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Oy(t,e,n){(e!=="number"||c1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var R0=Array.isArray;function qd(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+tu(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function By(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return di({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ow(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ve(92));if(R0(n)){if(1<n.length)throw Error(Ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:tu(n)}}function LN(t,e){var n=tu(e.value),i=tu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function lw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function TN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?TN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bg,EN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bg=Bg||document.createElement("div"),Bg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var G0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BL=["Webkit","ms","Moz","O"];Object.keys(G0).forEach(function(t){BL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),G0[e]=G0[t]})});function MN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||G0.hasOwnProperty(t)&&G0[t]?(""+e).trim():e+"px"}function RN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=MN(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var zL=di({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uy(t,e){if(e){if(zL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ve(62))}}function Vy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hy=null;function B4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $y=null,Kd=null,Xd=null;function cw(t){if(t=Jp(t)){if(typeof $y!="function")throw Error(Ve(280));var e=t.stateNode;e&&(e=v2(e),$y(t.stateNode,t.type,e))}}function FN(t){Kd?Xd?Xd.push(t):Xd=[t]:Kd=t}function DN(){if(Kd){var t=Kd,e=Xd;if(Xd=Kd=null,cw(t),e)for(t=0;t<e.length;t++)cw(e[t])}}function IN(t,e){return t(e)}function ON(){}var Q5=!1;function BN(t,e,n){if(Q5)return t(e,n);Q5=!0;try{return IN(t,e,n)}finally{Q5=!1,(Kd!==null||Xd!==null)&&(ON(),DN())}}function pp(t,e){var n=t.stateNode;if(n===null)return null;var i=v2(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ve(231,e,typeof n));return n}var Gy=!1;if(ql)try{var f0={};Object.defineProperty(f0,"passive",{get:function(){Gy=!0}}),window.addEventListener("test",f0,f0),window.removeEventListener("test",f0,f0)}catch{Gy=!1}function UL(t,e,n,i,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var W0=!1,u1=null,h1=!1,Wy=null,VL={onError:function(t){W0=!0,u1=t}};function HL(t,e,n,i,r,s,a,o,l){W0=!1,u1=null,UL.apply(VL,arguments)}function $L(t,e,n,i,r,s,a,o,l){if(HL.apply(this,arguments),W0){if(W0){var c=u1;W0=!1,u1=null}else throw Error(Ve(198));h1||(h1=!0,Wy=c)}}function jh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uw(t){if(jh(t)!==t)throw Error(Ve(188))}function GL(t){var e=t.alternate;if(!e){if(e=jh(t),e===null)throw Error(Ve(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return uw(r),t;if(s===i)return uw(r),e;s=s.sibling}throw Error(Ve(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a)throw Error(Ve(189))}}if(n.alternate!==i)throw Error(Ve(190))}if(n.tag!==3)throw Error(Ve(188));return n.stateNode.current===n?t:e}function UN(t){return t=GL(t),t!==null?VN(t):null}function VN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VN(t);if(e!==null)return e;t=t.sibling}return null}var HN=sa.unstable_scheduleCallback,hw=sa.unstable_cancelCallback,WL=sa.unstable_shouldYield,qL=sa.unstable_requestPaint,Mi=sa.unstable_now,KL=sa.unstable_getCurrentPriorityLevel,z4=sa.unstable_ImmediatePriority,$N=sa.unstable_UserBlockingPriority,d1=sa.unstable_NormalPriority,XL=sa.unstable_LowPriority,GN=sa.unstable_IdlePriority,f2=null,tl=null;function YL(t){if(tl&&typeof tl.onCommitFiberRoot=="function")try{tl.onCommitFiberRoot(f2,t,void 0,(t.current.flags&128)===128)}catch{}}var wo=Math.clz32?Math.clz32:ZL,QL=Math.log,JL=Math.LN2;function ZL(t){return t>>>=0,t===0?32:31-(QL(t)/JL|0)|0}var zg=64,Ug=4194304;function F0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function f1(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~r;o!==0?i=F0(o):(s&=a,s!==0&&(i=F0(s)))}else a=n&~r,a!==0?i=F0(a):s!==0&&(i=F0(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-wo(e),r=1<<n,i|=t[n],e&=~r;return i}function eT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tT(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-wo(s),o=1<<a,l=r[a];l===-1?(!(o&n)||o&i)&&(r[a]=eT(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function qy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WN(){var t=zg;return zg<<=1,!(zg&4194240)&&(zg=64),t}function J5(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wo(e),t[e]=n}function nT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-wo(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function U4(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-wo(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var An=0;function qN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KN,V4,XN,YN,QN,Ky=!1,Vg=[],Gc=null,Wc=null,qc=null,gp=new Map,mp=new Map,Dc=[],iT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dw(t,e){switch(t){case"focusin":case"focusout":Gc=null;break;case"dragenter":case"dragleave":Wc=null;break;case"mouseover":case"mouseout":qc=null;break;case"pointerover":case"pointerout":gp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mp.delete(e.pointerId)}}function p0(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Jp(e),e!==null&&V4(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function rT(t,e,n,i,r){switch(e){case"focusin":return Gc=p0(Gc,t,e,n,i,r),!0;case"dragenter":return Wc=p0(Wc,t,e,n,i,r),!0;case"mouseover":return qc=p0(qc,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return gp.set(s,p0(gp.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,mp.set(s,p0(mp.get(s)||null,t,e,n,i,r)),!0}return!1}function JN(t){var e=rh(t.target);if(e!==null){var n=jh(e);if(n!==null){if(e=n.tag,e===13){if(e=zN(n),e!==null){t.blockedOn=e,QN(t.priority,function(){XN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Im(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Hy=i,n.target.dispatchEvent(i),Hy=null}else return e=Jp(n),e!==null&&V4(e),t.blockedOn=n,!1;e.shift()}return!0}function fw(t,e,n){Im(t)&&n.delete(e)}function sT(){Ky=!1,Gc!==null&&Im(Gc)&&(Gc=null),Wc!==null&&Im(Wc)&&(Wc=null),qc!==null&&Im(qc)&&(qc=null),gp.forEach(fw),mp.forEach(fw)}function g0(t,e){t.blockedOn===e&&(t.blockedOn=null,Ky||(Ky=!0,sa.unstable_scheduleCallback(sa.unstable_NormalPriority,sT)))}function vp(t){function e(r){return g0(r,t)}if(0<Vg.length){g0(Vg[0],t);for(var n=1;n<Vg.length;n++){var i=Vg[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Gc!==null&&g0(Gc,t),Wc!==null&&g0(Wc,t),qc!==null&&g0(qc,t),gp.forEach(e),mp.forEach(e),n=0;n<Dc.length;n++)i=Dc[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Dc.length&&(n=Dc[0],n.blockedOn===null);)JN(n),n.blockedOn===null&&Dc.shift()}var Yd=Jl.ReactCurrentBatchConfig,p1=!0;function aT(t,e,n,i){var r=An,s=Yd.transition;Yd.transition=null;try{An=1,H4(t,e,n,i)}finally{An=r,Yd.transition=s}}function oT(t,e,n,i){var r=An,s=Yd.transition;Yd.transition=null;try{An=4,H4(t,e,n,i)}finally{An=r,Yd.transition=s}}function H4(t,e,n,i){if(p1){var r=Xy(t,e,n,i);if(r===null)lv(t,e,i,g1,n),dw(t,i);else if(rT(r,t,e,n,i))i.stopPropagation();else if(dw(t,i),e&4&&-1<iT.indexOf(t)){for(;r!==null;){var s=Jp(r);if(s!==null&&KN(s),s=Xy(t,e,n,i),s===null&&lv(t,e,i,g1,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else lv(t,e,i,null,n)}}var g1=null;function Xy(t,e,n,i){if(g1=null,t=B4(i),t=rh(t),t!==null)if(e=jh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return g1=t,null}function ZN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KL()){case z4:return 1;case $N:return 4;case d1:case XL:return 16;case GN:return 536870912;default:return 16}default:return 16}}var Oc=null,$4=null,Om=null;function ek(){if(Om)return Om;var t,e=$4,n=e.length,i,r="value"in Oc?Oc.value:Oc.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return Om=r.slice(t,1<i?1-i:void 0)}function Bm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hg(){return!0}function pw(){return!1}function la(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hg:pw,this.isPropagationStopped=pw,this}return di(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hg)},persist:function(){},isPersistent:Hg}),e}var kf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G4=la(kf),Qp=di({},kf,{view:0,detail:0}),lT=la(Qp),Z5,ev,m0,p2=di({},Qp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==m0&&(m0&&t.type==="mousemove"?(Z5=t.screenX-m0.screenX,ev=t.screenY-m0.screenY):ev=Z5=0,m0=t),Z5)},movementY:function(t){return"movementY"in t?t.movementY:ev}}),gw=la(p2),cT=di({},p2,{dataTransfer:0}),uT=la(cT),hT=di({},Qp,{relatedTarget:0}),tv=la(hT),dT=di({},kf,{animationName:0,elapsedTime:0,pseudoElement:0}),fT=la(dT),pT=di({},kf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gT=la(pT),mT=di({},kf,{data:0}),mw=la(mT),vT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xT[t])?!!e[t]:!1}function W4(){return bT}var wT=di({},Qp,{key:function(t){if(t.key){var e=vT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W4,charCode:function(t){return t.type==="keypress"?Bm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_T=la(wT),ST=di({},p2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vw=la(ST),NT=di({},Qp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W4}),kT=la(NT),CT=di({},kf,{propertyName:0,elapsedTime:0,pseudoElement:0}),jT=la(CT),AT=di({},p2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PT=la(AT),LT=[9,13,27,32],q4=ql&&"CompositionEvent"in window,q0=null;ql&&"documentMode"in document&&(q0=document.documentMode);var TT=ql&&"TextEvent"in window&&!q0,tk=ql&&(!q4||q0&&8<q0&&11>=q0),yw=" ",xw=!1;function nk(t,e){switch(t){case"keyup":return LT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ik(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pd=!1;function ET(t,e){switch(t){case"compositionend":return ik(e);case"keypress":return e.which!==32?null:(xw=!0,yw);case"textInput":return t=e.data,t===yw&&xw?null:t;default:return null}}function MT(t,e){if(Pd)return t==="compositionend"||!q4&&nk(t,e)?(t=ek(),Om=$4=Oc=null,Pd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tk&&e.locale!=="ko"?null:e.data;default:return null}}var RT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RT[t.type]:e==="textarea"}function rk(t,e,n,i){FN(i),e=m1(e,"onChange"),0<e.length&&(n=new G4("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var K0=null,yp=null;function FT(t){gk(t,0)}function g2(t){var e=Ed(t);if(AN(e))return t}function DT(t,e){if(t==="change")return e}var sk=!1;if(ql){var nv;if(ql){var iv="oninput"in document;if(!iv){var ww=document.createElement("div");ww.setAttribute("oninput","return;"),iv=typeof ww.oninput=="function"}nv=iv}else nv=!1;sk=nv&&(!document.documentMode||9<document.documentMode)}function _w(){K0&&(K0.detachEvent("onpropertychange",ak),yp=K0=null)}function ak(t){if(t.propertyName==="value"&&g2(yp)){var e=[];rk(e,yp,t,B4(t)),BN(FT,e)}}function IT(t,e,n){t==="focusin"?(_w(),K0=e,yp=n,K0.attachEvent("onpropertychange",ak)):t==="focusout"&&_w()}function OT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return g2(yp)}function BT(t,e){if(t==="click")return g2(e)}function zT(t,e){if(t==="input"||t==="change")return g2(e)}function UT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ko=typeof Object.is=="function"?Object.is:UT;function xp(t,e){if(ko(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Ty.call(e,r)||!ko(t[r],e[r]))return!1}return!0}function Sw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nw(t,e){var n=Sw(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sw(n)}}function ok(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ok(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lk(){for(var t=window,e=c1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=c1(t.document)}return e}function K4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VT(t){var e=lk(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ok(n.ownerDocument.documentElement,n)){if(i!==null&&K4(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Nw(n,s);var a=Nw(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HT=ql&&"documentMode"in document&&11>=document.documentMode,Ld=null,Yy=null,X0=null,Qy=!1;function kw(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qy||Ld==null||Ld!==c1(i)||(i=Ld,"selectionStart"in i&&K4(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),X0&&xp(X0,i)||(X0=i,i=m1(Yy,"onSelect"),0<i.length&&(e=new G4("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ld)))}function $g(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Td={animationend:$g("Animation","AnimationEnd"),animationiteration:$g("Animation","AnimationIteration"),animationstart:$g("Animation","AnimationStart"),transitionend:$g("Transition","TransitionEnd")},rv={},ck={};ql&&(ck=document.createElement("div").style,"AnimationEvent"in window||(delete Td.animationend.animation,delete Td.animationiteration.animation,delete Td.animationstart.animation),"TransitionEvent"in window||delete Td.transitionend.transition);function m2(t){if(rv[t])return rv[t];if(!Td[t])return t;var e=Td[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ck)return rv[t]=e[n];return t}var uk=m2("animationend"),hk=m2("animationiteration"),dk=m2("animationstart"),fk=m2("transitionend"),pk=new Map,Cw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cu(t,e){pk.set(t,e),Ch(e,[t])}for(var sv=0;sv<Cw.length;sv++){var av=Cw[sv],$T=av.toLowerCase(),GT=av[0].toUpperCase()+av.slice(1);cu($T,"on"+GT)}cu(uk,"onAnimationEnd");cu(hk,"onAnimationIteration");cu(dk,"onAnimationStart");cu("dblclick","onDoubleClick");cu("focusin","onFocus");cu("focusout","onBlur");cu(fk,"onTransitionEnd");of("onMouseEnter",["mouseout","mouseover"]);of("onMouseLeave",["mouseout","mouseover"]);of("onPointerEnter",["pointerout","pointerover"]);of("onPointerLeave",["pointerout","pointerover"]);Ch("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ch("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ch("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ch("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ch("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ch("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var D0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("cancel close invalid load scroll toggle".split(" ").concat(D0));function jw(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,$L(i,e,void 0,t),t.currentTarget=null}function gk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;jw(r,o,c),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;jw(r,o,c),s=l}}}if(h1)throw t=Wy,h1=!1,Wy=null,t}function Kn(t,e){var n=e[nx];n===void 0&&(n=e[nx]=new Set);var i=t+"__bubble";n.has(i)||(mk(e,t,2,!1),n.add(i))}function ov(t,e,n){var i=0;e&&(i|=4),mk(n,t,i,e)}var Gg="_reactListening"+Math.random().toString(36).slice(2);function bp(t){if(!t[Gg]){t[Gg]=!0,SN.forEach(function(n){n!=="selectionchange"&&(WT.has(n)||ov(n,!1,t),ov(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gg]||(e[Gg]=!0,ov("selectionchange",!1,e))}}function mk(t,e,n,i){switch(ZN(e)){case 1:var r=aT;break;case 4:r=oT;break;default:r=H4}n=r.bind(null,e,n,t),r=void 0,!Gy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function lv(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=rh(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}BN(function(){var c=s,d=B4(n),g=[];e:{var m=pk.get(t);if(m!==void 0){var p=G4,x=t;switch(t){case"keypress":if(Bm(n)===0)break e;case"keydown":case"keyup":p=_T;break;case"focusin":x="focus",p=tv;break;case"focusout":x="blur",p=tv;break;case"beforeblur":case"afterblur":p=tv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kT;break;case uk:case hk:case dk:p=fT;break;case fk:p=jT;break;case"scroll":p=lT;break;case"wheel":p=PT;break;case"copy":case"cut":case"paste":p=gT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vw}var b=(e&4)!==0,N=!b&&t==="scroll",S=b?m!==null?m+"Capture":null:m;b=[];for(var j=c,_;j!==null;){_=j;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,S!==null&&(C=pp(j,S),C!=null&&b.push(wp(j,C,_)))),N)break;j=j.return}0<b.length&&(m=new p(m,x,null,n,d),g.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Hy&&(x=n.relatedTarget||n.fromElement)&&(rh(x)||x[Kl]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=c,x=x?rh(x):null,x!==null&&(N=jh(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(b=gw,C="onMouseLeave",S="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(b=vw,C="onPointerLeave",S="onPointerEnter",j="pointer"),N=p==null?m:Ed(p),_=x==null?m:Ed(x),m=new b(C,j+"leave",p,n,d),m.target=N,m.relatedTarget=_,C=null,rh(d)===c&&(b=new b(S,j+"enter",x,n,d),b.target=_,b.relatedTarget=N,C=b),N=C,p&&x)t:{for(b=p,S=x,j=0,_=b;_;_=dd(_))j++;for(_=0,C=S;C;C=dd(C))_++;for(;0<j-_;)b=dd(b),j--;for(;0<_-j;)S=dd(S),_--;for(;j--;){if(b===S||S!==null&&b===S.alternate)break t;b=dd(b),S=dd(S)}b=null}else b=null;p!==null&&Aw(g,m,p,b,!1),x!==null&&N!==null&&Aw(g,N,x,b,!0)}}e:{if(m=c?Ed(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var E=DT;else if(bw(m))if(sk)E=zT;else{E=OT;var O=IT}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=BT);if(E&&(E=E(t,c))){rk(g,E,n,d);break e}O&&O(t,m,c),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Oy(m,"number",m.value)}switch(O=c?Ed(c):window,t){case"focusin":(bw(O)||O.contentEditable==="true")&&(Ld=O,Yy=c,X0=null);break;case"focusout":X0=Yy=Ld=null;break;case"mousedown":Qy=!0;break;case"contextmenu":case"mouseup":case"dragend":Qy=!1,kw(g,n,d);break;case"selectionchange":if(HT)break;case"keydown":case"keyup":kw(g,n,d)}var U;if(q4)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Pd?nk(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(tk&&n.locale!=="ko"&&(Pd||F!=="onCompositionStart"?F==="onCompositionEnd"&&Pd&&(U=ek()):(Oc=d,$4="value"in Oc?Oc.value:Oc.textContent,Pd=!0)),O=m1(c,F),0<O.length&&(F=new mw(F,t,null,n,d),g.push({event:F,listeners:O}),U?F.data=U:(U=ik(n),U!==null&&(F.data=U)))),(U=TT?ET(t,n):MT(t,n))&&(c=m1(c,"onBeforeInput"),0<c.length&&(d=new mw("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:c}),d.data=U))}gk(g,e)})}function wp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function m1(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=pp(t,n),s!=null&&i.unshift(wp(t,s,r)),s=pp(t,e),s!=null&&i.push(wp(t,s,r))),t=t.return}return i}function dd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Aw(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,r?(l=pp(n,s),l!=null&&a.unshift(wp(n,l,o))):r||(l=pp(n,s),l!=null&&a.push(wp(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var qT=/\r\n?/g,KT=/\u0000|\uFFFD/g;function Pw(t){return(typeof t=="string"?t:""+t).replace(qT,`
`).replace(KT,"")}function Wg(t,e,n){if(e=Pw(e),Pw(t)!==e&&n)throw Error(Ve(425))}function v1(){}var Jy=null,Zy=null;function ex(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tx=typeof setTimeout=="function"?setTimeout:void 0,XT=typeof clearTimeout=="function"?clearTimeout:void 0,Lw=typeof Promise=="function"?Promise:void 0,YT=typeof queueMicrotask=="function"?queueMicrotask:typeof Lw<"u"?function(t){return Lw.resolve(null).then(t).catch(QT)}:tx;function QT(t){setTimeout(function(){throw t})}function cv(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),vp(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);vp(e)}function Kc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cf=Math.random().toString(36).slice(2),Jo="__reactFiber$"+Cf,_p="__reactProps$"+Cf,Kl="__reactContainer$"+Cf,nx="__reactEvents$"+Cf,JT="__reactListeners$"+Cf,ZT="__reactHandles$"+Cf;function rh(t){var e=t[Jo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kl]||n[Jo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tw(t);t!==null;){if(n=t[Jo])return n;t=Tw(t)}return e}t=n,n=t.parentNode}return null}function Jp(t){return t=t[Jo]||t[Kl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ed(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ve(33))}function v2(t){return t[_p]||null}var ix=[],Md=-1;function uu(t){return{current:t}}function Qn(t){0>Md||(t.current=ix[Md],ix[Md]=null,Md--)}function Bn(t,e){Md++,ix[Md]=t.current,t.current=e}var nu={},rs=uu(nu),Fs=uu(!1),mh=nu;function lf(t,e){var n=t.type.contextTypes;if(!n)return nu;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ds(t){return t=t.childContextTypes,t!=null}function y1(){Qn(Fs),Qn(rs)}function Ew(t,e,n){if(rs.current!==nu)throw Error(Ve(168));Bn(rs,e),Bn(Fs,n)}function vk(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ve(108,IL(t)||"Unknown",r));return di({},n,i)}function x1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nu,mh=rs.current,Bn(rs,t),Bn(Fs,Fs.current),!0}function Mw(t,e,n){var i=t.stateNode;if(!i)throw Error(Ve(169));n?(t=vk(t,e,mh),i.__reactInternalMemoizedMergedChildContext=t,Qn(Fs),Qn(rs),Bn(rs,t)):Qn(Fs),Bn(Fs,n)}var Il=null,y2=!1,uv=!1;function yk(t){Il===null?Il=[t]:Il.push(t)}function eE(t){y2=!0,yk(t)}function hu(){if(!uv&&Il!==null){uv=!0;var t=0,e=An;try{var n=Il;for(An=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Il=null,y2=!1}catch(r){throw Il!==null&&(Il=Il.slice(t+1)),HN(z4,hu),r}finally{An=e,uv=!1}}return null}var Rd=[],Fd=0,b1=null,w1=0,Ia=[],Oa=0,vh=null,Ul=1,Vl="";function Xu(t,e){Rd[Fd++]=w1,Rd[Fd++]=b1,b1=t,w1=e}function xk(t,e,n){Ia[Oa++]=Ul,Ia[Oa++]=Vl,Ia[Oa++]=vh,vh=t;var i=Ul;t=Vl;var r=32-wo(i)-1;i&=~(1<<r),n+=1;var s=32-wo(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Ul=1<<32-wo(e)+r|n<<r|i,Vl=s+t}else Ul=1<<s|n<<r|i,Vl=t}function X4(t){t.return!==null&&(Xu(t,1),xk(t,1,0))}function Y4(t){for(;t===b1;)b1=Rd[--Fd],Rd[Fd]=null,w1=Rd[--Fd],Rd[Fd]=null;for(;t===vh;)vh=Ia[--Oa],Ia[Oa]=null,Vl=Ia[--Oa],Ia[Oa]=null,Ul=Ia[--Oa],Ia[Oa]=null}var ia=null,ta=null,ii=!1,yo=null;function bk(t,e){var n=Ba(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ia=t,ta=Kc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ia=t,ta=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vh!==null?{id:Ul,overflow:Vl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ba(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ia=t,ta=null,!0):!1;default:return!1}}function rx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sx(t){if(ii){var e=ta;if(e){var n=e;if(!Rw(t,e)){if(rx(t))throw Error(Ve(418));e=Kc(n.nextSibling);var i=ia;e&&Rw(t,e)?bk(i,n):(t.flags=t.flags&-4097|2,ii=!1,ia=t)}}else{if(rx(t))throw Error(Ve(418));t.flags=t.flags&-4097|2,ii=!1,ia=t}}}function Fw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ia=t}function qg(t){if(t!==ia)return!1;if(!ii)return Fw(t),ii=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ex(t.type,t.memoizedProps)),e&&(e=ta)){if(rx(t))throw wk(),Error(Ve(418));for(;e;)bk(t,e),e=Kc(e.nextSibling)}if(Fw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ta=Kc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ta=null}}else ta=ia?Kc(t.stateNode.nextSibling):null;return!0}function wk(){for(var t=ta;t;)t=Kc(t.nextSibling)}function cf(){ta=ia=null,ii=!1}function Q4(t){yo===null?yo=[t]:yo.push(t)}var tE=Jl.ReactCurrentBatchConfig;function v0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ve(309));var i=n.stateNode}if(!i)throw Error(Ve(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ve(284));if(!n._owner)throw Error(Ve(290,t))}return t}function Kg(t,e){throw t=Object.prototype.toString.call(e),Error(Ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dw(t){var e=t._init;return e(t._payload)}function _k(t){function e(S,j){if(t){var _=S.deletions;_===null?(S.deletions=[j],S.flags|=16):_.push(j)}}function n(S,j){if(!t)return null;for(;j!==null;)e(S,j),j=j.sibling;return null}function i(S,j){for(S=new Map;j!==null;)j.key!==null?S.set(j.key,j):S.set(j.index,j),j=j.sibling;return S}function r(S,j){return S=Jc(S,j),S.index=0,S.sibling=null,S}function s(S,j,_){return S.index=_,t?(_=S.alternate,_!==null?(_=_.index,_<j?(S.flags|=2,j):_):(S.flags|=2,j)):(S.flags|=1048576,j)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function o(S,j,_,C){return j===null||j.tag!==6?(j=vv(_,S.mode,C),j.return=S,j):(j=r(j,_),j.return=S,j)}function l(S,j,_,C){var E=_.type;return E===Ad?d(S,j,_.props.children,C,_.key):j!==null&&(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Mc&&Dw(E)===j.type)?(C=r(j,_.props),C.ref=v0(S,j,_),C.return=S,C):(C=Wm(_.type,_.key,_.props,null,S.mode,C),C.ref=v0(S,j,_),C.return=S,C)}function c(S,j,_,C){return j===null||j.tag!==4||j.stateNode.containerInfo!==_.containerInfo||j.stateNode.implementation!==_.implementation?(j=yv(_,S.mode,C),j.return=S,j):(j=r(j,_.children||[]),j.return=S,j)}function d(S,j,_,C,E){return j===null||j.tag!==7?(j=dh(_,S.mode,C,E),j.return=S,j):(j=r(j,_),j.return=S,j)}function g(S,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return j=vv(""+j,S.mode,_),j.return=S,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ig:return _=Wm(j.type,j.key,j.props,null,S.mode,_),_.ref=v0(S,null,j),_.return=S,_;case jd:return j=yv(j,S.mode,_),j.return=S,j;case Mc:var C=j._init;return g(S,C(j._payload),_)}if(R0(j)||d0(j))return j=dh(j,S.mode,_,null),j.return=S,j;Kg(S,j)}return null}function m(S,j,_,C){var E=j!==null?j.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:o(S,j,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ig:return _.key===E?l(S,j,_,C):null;case jd:return _.key===E?c(S,j,_,C):null;case Mc:return E=_._init,m(S,j,E(_._payload),C)}if(R0(_)||d0(_))return E!==null?null:d(S,j,_,C,null);Kg(S,_)}return null}function p(S,j,_,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return S=S.get(_)||null,o(j,S,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ig:return S=S.get(C.key===null?_:C.key)||null,l(j,S,C,E);case jd:return S=S.get(C.key===null?_:C.key)||null,c(j,S,C,E);case Mc:var O=C._init;return p(S,j,_,O(C._payload),E)}if(R0(C)||d0(C))return S=S.get(_)||null,d(j,S,C,E,null);Kg(j,C)}return null}function x(S,j,_,C){for(var E=null,O=null,U=j,F=j=0,R=null;U!==null&&F<_.length;F++){U.index>F?(R=U,U=null):R=U.sibling;var M=m(S,U,_[F],C);if(M===null){U===null&&(U=R);break}t&&U&&M.alternate===null&&e(S,U),j=s(M,j,F),O===null?E=M:O.sibling=M,O=M,U=R}if(F===_.length)return n(S,U),ii&&Xu(S,F),E;if(U===null){for(;F<_.length;F++)U=g(S,_[F],C),U!==null&&(j=s(U,j,F),O===null?E=U:O.sibling=U,O=U);return ii&&Xu(S,F),E}for(U=i(S,U);F<_.length;F++)R=p(U,S,F,_[F],C),R!==null&&(t&&R.alternate!==null&&U.delete(R.key===null?F:R.key),j=s(R,j,F),O===null?E=R:O.sibling=R,O=R);return t&&U.forEach(function(T){return e(S,T)}),ii&&Xu(S,F),E}function b(S,j,_,C){var E=d0(_);if(typeof E!="function")throw Error(Ve(150));if(_=E.call(_),_==null)throw Error(Ve(151));for(var O=E=null,U=j,F=j=0,R=null,M=_.next();U!==null&&!M.done;F++,M=_.next()){U.index>F?(R=U,U=null):R=U.sibling;var T=m(S,U,M.value,C);if(T===null){U===null&&(U=R);break}t&&U&&T.alternate===null&&e(S,U),j=s(T,j,F),O===null?E=T:O.sibling=T,O=T,U=R}if(M.done)return n(S,U),ii&&Xu(S,F),E;if(U===null){for(;!M.done;F++,M=_.next())M=g(S,M.value,C),M!==null&&(j=s(M,j,F),O===null?E=M:O.sibling=M,O=M);return ii&&Xu(S,F),E}for(U=i(S,U);!M.done;F++,M=_.next())M=p(U,S,F,M.value,C),M!==null&&(t&&M.alternate!==null&&U.delete(M.key===null?F:M.key),j=s(M,j,F),O===null?E=M:O.sibling=M,O=M);return t&&U.forEach(function(D){return e(S,D)}),ii&&Xu(S,F),E}function N(S,j,_,C){if(typeof _=="object"&&_!==null&&_.type===Ad&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ig:e:{for(var E=_.key,O=j;O!==null;){if(O.key===E){if(E=_.type,E===Ad){if(O.tag===7){n(S,O.sibling),j=r(O,_.props.children),j.return=S,S=j;break e}}else if(O.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Mc&&Dw(E)===O.type){n(S,O.sibling),j=r(O,_.props),j.ref=v0(S,O,_),j.return=S,S=j;break e}n(S,O);break}else e(S,O);O=O.sibling}_.type===Ad?(j=dh(_.props.children,S.mode,C,_.key),j.return=S,S=j):(C=Wm(_.type,_.key,_.props,null,S.mode,C),C.ref=v0(S,j,_),C.return=S,S=C)}return a(S);case jd:e:{for(O=_.key;j!==null;){if(j.key===O)if(j.tag===4&&j.stateNode.containerInfo===_.containerInfo&&j.stateNode.implementation===_.implementation){n(S,j.sibling),j=r(j,_.children||[]),j.return=S,S=j;break e}else{n(S,j);break}else e(S,j);j=j.sibling}j=yv(_,S.mode,C),j.return=S,S=j}return a(S);case Mc:return O=_._init,N(S,j,O(_._payload),C)}if(R0(_))return x(S,j,_,C);if(d0(_))return b(S,j,_,C);Kg(S,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,j!==null&&j.tag===6?(n(S,j.sibling),j=r(j,_),j.return=S,S=j):(n(S,j),j=vv(_,S.mode,C),j.return=S,S=j),a(S)):n(S,j)}return N}var uf=_k(!0),Sk=_k(!1),_1=uu(null),S1=null,Dd=null,J4=null;function Z4(){J4=Dd=S1=null}function e3(t){var e=_1.current;Qn(_1),t._currentValue=e}function ax(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Qd(t,e){S1=t,J4=Dd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rs=!0),t.firstContext=null)}function $a(t){var e=t._currentValue;if(J4!==t)if(t={context:t,memoizedValue:e,next:null},Dd===null){if(S1===null)throw Error(Ve(308));Dd=t,S1.dependencies={lanes:0,firstContext:t}}else Dd=Dd.next=t;return e}var sh=null;function t3(t){sh===null?sh=[t]:sh.push(t)}function Nk(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,t3(e)):(n.next=r.next,r.next=n),e.interleaved=n,Xl(t,i)}function Xl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rc=!1;function n3(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xc(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,hn&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Xl(t,n)}return r=i.interleaved,r===null?(e.next=e,t3(i)):(e.next=r.next,r.next=e),i.interleaved=e,Xl(t,n)}function zm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,U4(t,n)}}function Iw(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function N1(t,e,n,i){var r=t.updateQueue;Rc=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var g=r.baseState;a=0,d=c=l=null,o=s;do{var m=o.lane,p=o.eventTime;if((i&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,b=o;switch(m=e,p=n,b.tag){case 1:if(x=b.payload,typeof x=="function"){g=x.call(p,g,m);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,m=typeof x=="function"?x.call(p,g,m):x,m==null)break e;g=di({},g,m);break e;case 2:Rc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=r.effects,m===null?r.effects=[o]:m.push(o))}else p={eventTime:p,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=g):d=d.next=p,a|=m;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;m=o,o=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(d===null&&(l=g),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);xh|=a,t.lanes=a,t.memoizedState=g}}function Ow(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Ve(191,r));r.call(i)}}}var Zp={},nl=uu(Zp),Sp=uu(Zp),Np=uu(Zp);function ah(t){if(t===Zp)throw Error(Ve(174));return t}function i3(t,e){switch(Bn(Np,e),Bn(Sp,t),Bn(nl,Zp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zy(e,t)}Qn(nl),Bn(nl,e)}function hf(){Qn(nl),Qn(Sp),Qn(Np)}function Ck(t){ah(Np.current);var e=ah(nl.current),n=zy(e,t.type);e!==n&&(Bn(Sp,t),Bn(nl,n))}function r3(t){Sp.current===t&&(Qn(nl),Qn(Sp))}var ci=uu(0);function k1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hv=[];function s3(){for(var t=0;t<hv.length;t++)hv[t]._workInProgressVersionPrimary=null;hv.length=0}var Um=Jl.ReactCurrentDispatcher,dv=Jl.ReactCurrentBatchConfig,yh=0,hi=null,er=null,vr=null,C1=!1,Y0=!1,kp=0,nE=0;function Wr(){throw Error(Ve(321))}function a3(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ko(t[n],e[n]))return!1;return!0}function o3(t,e,n,i,r,s){if(yh=s,hi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Um.current=t===null||t.memoizedState===null?aE:oE,t=n(i,r),Y0){s=0;do{if(Y0=!1,kp=0,25<=s)throw Error(Ve(301));s+=1,vr=er=null,e.updateQueue=null,Um.current=lE,t=n(i,r)}while(Y0)}if(Um.current=j1,e=er!==null&&er.next!==null,yh=0,vr=er=hi=null,C1=!1,e)throw Error(Ve(300));return t}function l3(){var t=kp!==0;return kp=0,t}function Xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?hi.memoizedState=vr=t:vr=vr.next=t,vr}function Ga(){if(er===null){var t=hi.alternate;t=t!==null?t.memoizedState:null}else t=er.next;var e=vr===null?hi.memoizedState:vr.next;if(e!==null)vr=e,er=t;else{if(t===null)throw Error(Ve(310));er=t,t={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},vr===null?hi.memoizedState=vr=t:vr=vr.next=t}return vr}function Cp(t,e){return typeof e=="function"?e(t):e}function fv(t){var e=Ga(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var i=er,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((yh&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var g={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=g,a=i):l=l.next=g,hi.lanes|=d,xh|=d}c=c.next}while(c!==null&&c!==s);l===null?a=i:l.next=o,ko(i,e.memoizedState)||(Rs=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,hi.lanes|=s,xh|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pv(t){var e=Ga(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);ko(s,e.memoizedState)||(Rs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function jk(){}function Ak(t,e){var n=hi,i=Ga(),r=e(),s=!ko(i.memoizedState,r);if(s&&(i.memoizedState=r,Rs=!0),i=i.queue,c3(Tk.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||vr!==null&&vr.memoizedState.tag&1){if(n.flags|=2048,jp(9,Lk.bind(null,n,i,r,e),void 0,null),xr===null)throw Error(Ve(349));yh&30||Pk(n,e,r)}return r}function Pk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=hi.updateQueue,e===null?(e={lastEffect:null,stores:null},hi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lk(t,e,n,i){e.value=n,e.getSnapshot=i,Ek(e)&&Mk(t)}function Tk(t,e,n){return n(function(){Ek(e)&&Mk(t)})}function Ek(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ko(t,n)}catch{return!0}}function Mk(t){var e=Xl(t,1);e!==null&&_o(e,t,1,-1)}function Bw(t){var e=Xo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:t},e.queue=t,t=t.dispatch=sE.bind(null,hi,t),[e.memoizedState,t]}function jp(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=hi.updateQueue,e===null?(e={lastEffect:null,stores:null},hi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Rk(){return Ga().memoizedState}function Vm(t,e,n,i){var r=Xo();hi.flags|=t,r.memoizedState=jp(1|e,n,void 0,i===void 0?null:i)}function x2(t,e,n,i){var r=Ga();i=i===void 0?null:i;var s=void 0;if(er!==null){var a=er.memoizedState;if(s=a.destroy,i!==null&&a3(i,a.deps)){r.memoizedState=jp(e,n,s,i);return}}hi.flags|=t,r.memoizedState=jp(1|e,n,s,i)}function zw(t,e){return Vm(8390656,8,t,e)}function c3(t,e){return x2(2048,8,t,e)}function Fk(t,e){return x2(4,2,t,e)}function Dk(t,e){return x2(4,4,t,e)}function Ik(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ok(t,e,n){return n=n!=null?n.concat([t]):null,x2(4,4,Ik.bind(null,e,t),n)}function u3(){}function Bk(t,e){var n=Ga();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&a3(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function zk(t,e){var n=Ga();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&a3(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Uk(t,e,n){return yh&21?(ko(n,e)||(n=WN(),hi.lanes|=n,xh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rs=!0),t.memoizedState=n)}function iE(t,e){var n=An;An=n!==0&&4>n?n:4,t(!0);var i=dv.transition;dv.transition={};try{t(!1),e()}finally{An=n,dv.transition=i}}function Vk(){return Ga().memoizedState}function rE(t,e,n){var i=Qc(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Hk(t))$k(e,n);else if(n=Nk(t,e,n,i),n!==null){var r=ms();_o(n,t,i,r),Gk(n,e,i)}}function sE(t,e,n){var i=Qc(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hk(t))$k(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,ko(o,a)){var l=e.interleaved;l===null?(r.next=r,t3(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=Nk(t,e,r,i),n!==null&&(r=ms(),_o(n,t,i,r),Gk(n,e,i))}}function Hk(t){var e=t.alternate;return t===hi||e!==null&&e===hi}function $k(t,e){Y0=C1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Gk(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,U4(t,n)}}var j1={readContext:$a,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},aE={readContext:$a,useCallback:function(t,e){return Xo().memoizedState=[t,e===void 0?null:e],t},useContext:$a,useEffect:zw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vm(4194308,4,Ik.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vm(4,2,t,e)},useMemo:function(t,e){var n=Xo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Xo();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=rE.bind(null,hi,t),[i.memoizedState,t]},useRef:function(t){var e=Xo();return t={current:t},e.memoizedState=t},useState:Bw,useDebugValue:u3,useDeferredValue:function(t){return Xo().memoizedState=t},useTransition:function(){var t=Bw(!1),e=t[0];return t=iE.bind(null,t[1]),Xo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=hi,r=Xo();if(ii){if(n===void 0)throw Error(Ve(407));n=n()}else{if(n=e(),xr===null)throw Error(Ve(349));yh&30||Pk(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,zw(Tk.bind(null,i,s,t),[t]),i.flags|=2048,jp(9,Lk.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Xo(),e=xr.identifierPrefix;if(ii){var n=Vl,i=Ul;n=(i&~(1<<32-wo(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=kp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oE={readContext:$a,useCallback:Bk,useContext:$a,useEffect:c3,useImperativeHandle:Ok,useInsertionEffect:Fk,useLayoutEffect:Dk,useMemo:zk,useReducer:fv,useRef:Rk,useState:function(){return fv(Cp)},useDebugValue:u3,useDeferredValue:function(t){var e=Ga();return Uk(e,er.memoizedState,t)},useTransition:function(){var t=fv(Cp)[0],e=Ga().memoizedState;return[t,e]},useMutableSource:jk,useSyncExternalStore:Ak,useId:Vk,unstable_isNewReconciler:!1},lE={readContext:$a,useCallback:Bk,useContext:$a,useEffect:c3,useImperativeHandle:Ok,useInsertionEffect:Fk,useLayoutEffect:Dk,useMemo:zk,useReducer:pv,useRef:Rk,useState:function(){return pv(Cp)},useDebugValue:u3,useDeferredValue:function(t){var e=Ga();return er===null?e.memoizedState=t:Uk(e,er.memoizedState,t)},useTransition:function(){var t=pv(Cp)[0],e=Ga().memoizedState;return[t,e]},useMutableSource:jk,useSyncExternalStore:Ak,useId:Vk,unstable_isNewReconciler:!1};function mo(t,e){if(t&&t.defaultProps){e=di({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ox(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:di({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var b2={isMounted:function(t){return(t=t._reactInternals)?jh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ms(),r=Qc(t),s=Hl(i,r);s.payload=e,n!=null&&(s.callback=n),e=Xc(t,s,r),e!==null&&(_o(e,t,r,i),zm(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ms(),r=Qc(t),s=Hl(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xc(t,s,r),e!==null&&(_o(e,t,r,i),zm(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ms(),i=Qc(t),r=Hl(n,i);r.tag=2,e!=null&&(r.callback=e),e=Xc(t,r,i),e!==null&&(_o(e,t,i,n),zm(e,t,i))}};function Uw(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!xp(n,i)||!xp(r,s):!0}function Wk(t,e,n){var i=!1,r=nu,s=e.contextType;return typeof s=="object"&&s!==null?s=$a(s):(r=Ds(e)?mh:rs.current,i=e.contextTypes,s=(i=i!=null)?lf(t,r):nu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=b2,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Vw(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&b2.enqueueReplaceState(e,e.state,null)}function lx(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},n3(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=$a(s):(s=Ds(e)?mh:rs.current,r.context=lf(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ox(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&b2.enqueueReplaceState(r,r.state,null),N1(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function df(t,e){try{var n="",i=e;do n+=DL(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function gv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cE=typeof WeakMap=="function"?WeakMap:Map;function qk(t,e,n){n=Hl(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){P1||(P1=!0,xx=i),cx(t,e)},n}function Kk(t,e,n){n=Hl(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){cx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cx(t,e),typeof i!="function"&&(Yc===null?Yc=new Set([this]):Yc.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Hw(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new cE;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=SE.bind(null,t,e,n),e.then(t,t))}function $w(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gw(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hl(-1,1),e.tag=2,Xc(n,e,1))),n.lanes|=1),t)}var uE=Jl.ReactCurrentOwner,Rs=!1;function gs(t,e,n,i){e.child=t===null?Sk(e,null,n,i):uf(e,t.child,n,i)}function Ww(t,e,n,i,r){n=n.render;var s=e.ref;return Qd(e,r),i=o3(t,e,n,i,s,r),n=l3(),t!==null&&!Rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Yl(t,e,r)):(ii&&n&&X4(e),e.flags|=1,gs(t,e,i,r),e.child)}function qw(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!y3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Xk(t,e,s,i,r)):(t=Wm(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:xp,n(a,i)&&t.ref===e.ref)return Yl(t,e,r)}return e.flags|=1,t=Jc(s,i),t.ref=e.ref,t.return=e,e.child=t}function Xk(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(xp(s,i)&&t.ref===e.ref)if(Rs=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Rs=!0);else return e.lanes=t.lanes,Yl(t,e,r)}return ux(t,e,n,i,r)}function Yk(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(Od,ea),ea|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bn(Od,ea),ea|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Bn(Od,ea),ea|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Bn(Od,ea),ea|=i;return gs(t,e,r,n),e.child}function Qk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ux(t,e,n,i,r){var s=Ds(n)?mh:rs.current;return s=lf(e,s),Qd(e,r),n=o3(t,e,n,i,s,r),i=l3(),t!==null&&!Rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Yl(t,e,r)):(ii&&i&&X4(e),e.flags|=1,gs(t,e,n,r),e.child)}function Kw(t,e,n,i,r){if(Ds(n)){var s=!0;x1(e)}else s=!1;if(Qd(e,r),e.stateNode===null)Hm(t,e),Wk(e,n,i),lx(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=$a(c):(c=Ds(n)?mh:rs.current,c=lf(e,c));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==c)&&Vw(e,a,i,c),Rc=!1;var m=e.memoizedState;a.state=m,N1(e,i,a,r),l=e.memoizedState,o!==i||m!==l||Fs.current||Rc?(typeof d=="function"&&(ox(e,n,d,i),l=e.memoizedState),(o=Rc||Uw(e,n,o,i,m,l,c))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,kk(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:mo(e.type,o),a.props=c,g=e.pendingProps,m=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=$a(l):(l=Ds(n)?mh:rs.current,l=lf(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==g||m!==l)&&Vw(e,a,i,l),Rc=!1,m=e.memoizedState,a.state=m,N1(e,i,a,r);var x=e.memoizedState;o!==g||m!==x||Fs.current||Rc?(typeof p=="function"&&(ox(e,n,p,i),x=e.memoizedState),(c=Rc||Uw(e,n,c,i,m,x,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),a.props=i,a.state=x,a.context=l,i=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return hx(t,e,n,i,s,r)}function hx(t,e,n,i,r,s){Qk(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&Mw(e,n,!1),Yl(t,e,s);i=e.stateNode,uE.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=uf(e,t.child,null,s),e.child=uf(e,null,o,s)):gs(t,e,o,s),e.memoizedState=i.state,r&&Mw(e,n,!0),e.child}function Jk(t){var e=t.stateNode;e.pendingContext?Ew(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ew(t,e.context,!1),i3(t,e.containerInfo)}function Xw(t,e,n,i,r){return cf(),Q4(r),e.flags|=256,gs(t,e,n,i),e.child}var dx={dehydrated:null,treeContext:null,retryLane:0};function fx(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zk(t,e,n){var i=e.pendingProps,r=ci.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Bn(ci,r&1),t===null)return sx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=S2(a,i,0,null),t=dh(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fx(n),e.memoizedState=dx,t):h3(e,a));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return hE(t,e,a,i,o,r,n);if(s){s=i.fallback,a=e.mode,r=t.child,o=r.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Jc(r,l),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=Jc(o,s):(s=dh(s,a,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=t.child.memoizedState,a=a===null?fx(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=dx,i}return s=t.child,t=s.sibling,i=Jc(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function h3(t,e){return e=S2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xg(t,e,n,i){return i!==null&&Q4(i),uf(e,t.child,null,n),t=h3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hE(t,e,n,i,r,s,a){if(n)return e.flags&256?(e.flags&=-257,i=gv(Error(Ve(422))),Xg(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=S2({mode:"visible",children:i.children},r,0,null),s=dh(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&uf(e,t.child,null,a),e.child.memoizedState=fx(a),e.memoizedState=dx,s);if(!(e.mode&1))return Xg(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(Ve(419)),i=gv(s,i,void 0),Xg(t,e,a,i)}if(o=(a&t.childLanes)!==0,Rs||o){if(i=xr,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Xl(t,r),_o(i,t,r,-1))}return v3(),i=gv(Error(Ve(421))),Xg(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=NE.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,ta=Kc(r.nextSibling),ia=e,ii=!0,yo=null,t!==null&&(Ia[Oa++]=Ul,Ia[Oa++]=Vl,Ia[Oa++]=vh,Ul=t.id,Vl=t.overflow,vh=e),e=h3(e,i.children),e.flags|=4096,e)}function Yw(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),ax(t.return,e,n)}function mv(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function e9(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(gs(t,e,i.children,n),i=ci.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yw(t,n,e);else if(t.tag===19)Yw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Bn(ci,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&k1(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),mv(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&k1(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}mv(e,!0,n,null,s);break;case"together":mv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ve(153));if(e.child!==null){for(t=e.child,n=Jc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dE(t,e,n){switch(e.tag){case 3:Jk(e),cf();break;case 5:Ck(e);break;case 1:Ds(e.type)&&x1(e);break;case 4:i3(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Bn(_1,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Bn(ci,ci.current&1),e.flags|=128,null):n&e.child.childLanes?Zk(t,e,n):(Bn(ci,ci.current&1),t=Yl(t,e,n),t!==null?t.sibling:null);Bn(ci,ci.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return e9(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Bn(ci,ci.current),i)break;return null;case 22:case 23:return e.lanes=0,Yk(t,e,n)}return Yl(t,e,n)}var t9,px,n9,i9;t9=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};px=function(){};n9=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,ah(nl.current);var s=null;switch(n){case"input":r=Dy(t,r),i=Dy(t,i),s=[];break;case"select":r=di({},r,{value:void 0}),i=di({},i,{value:void 0}),s=[];break;case"textarea":r=By(t,r),i=By(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=v1)}Uy(n,i);var a;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(o=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Kn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};i9=function(t,e,n,i){n!==i&&(e.flags|=4)};function y0(t,e){if(!ii)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function qr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function fE(t,e,n){var i=e.pendingProps;switch(Y4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(e),null;case 1:return Ds(e.type)&&y1(),qr(e),null;case 3:return i=e.stateNode,hf(),Qn(Fs),Qn(rs),s3(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(qg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yo!==null&&(_x(yo),yo=null))),px(t,e),qr(e),null;case 5:r3(e);var r=ah(Np.current);if(n=e.type,t!==null&&e.stateNode!=null)n9(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ve(166));return qr(e),null}if(t=ah(nl.current),qg(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Jo]=e,i[_p]=s,t=(e.mode&1)!==0,n){case"dialog":Kn("cancel",i),Kn("close",i);break;case"iframe":case"object":case"embed":Kn("load",i);break;case"video":case"audio":for(r=0;r<D0.length;r++)Kn(D0[r],i);break;case"source":Kn("error",i);break;case"img":case"image":case"link":Kn("error",i),Kn("load",i);break;case"details":Kn("toggle",i);break;case"input":sw(i,s),Kn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Kn("invalid",i);break;case"textarea":ow(i,s),Kn("invalid",i)}Uy(n,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&Wg(i.textContent,o,t),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Wg(i.textContent,o,t),r=["children",""+o]):dp.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Kn("scroll",i)}switch(n){case"input":Og(i),aw(i,s,!0);break;case"textarea":Og(i),lw(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=v1)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=TN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[Jo]=e,t[_p]=i,t9(t,e,!1,!1),e.stateNode=t;e:{switch(a=Vy(n,i),n){case"dialog":Kn("cancel",t),Kn("close",t),r=i;break;case"iframe":case"object":case"embed":Kn("load",t),r=i;break;case"video":case"audio":for(r=0;r<D0.length;r++)Kn(D0[r],t);r=i;break;case"source":Kn("error",t),r=i;break;case"img":case"image":case"link":Kn("error",t),Kn("load",t),r=i;break;case"details":Kn("toggle",t),r=i;break;case"input":sw(t,i),r=Dy(t,i),Kn("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=di({},i,{value:void 0}),Kn("invalid",t);break;case"textarea":ow(t,i),r=By(t,i),Kn("invalid",t);break;default:r=i}Uy(n,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?RN(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EN(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fp(t,l):typeof l=="number"&&fp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kn("scroll",t):l!=null&&F4(t,s,l,a))}switch(n){case"input":Og(t),aw(t,i,!1);break;case"textarea":Og(t),lw(t);break;case"option":i.value!=null&&t.setAttribute("value",""+tu(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?qd(t,!!i.multiple,s,!1):i.defaultValue!=null&&qd(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=v1)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qr(e),null;case 6:if(t&&e.stateNode!=null)i9(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ve(166));if(n=ah(Np.current),ah(nl.current),qg(e)){if(i=e.stateNode,n=e.memoizedProps,i[Jo]=e,(s=i.nodeValue!==n)&&(t=ia,t!==null))switch(t.tag){case 3:Wg(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wg(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Jo]=e,e.stateNode=i}return qr(e),null;case 13:if(Qn(ci),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ii&&ta!==null&&e.mode&1&&!(e.flags&128))wk(),cf(),e.flags|=98560,s=!1;else if(s=qg(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(Ve(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ve(317));s[Jo]=e}else cf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qr(e),s=!1}else yo!==null&&(_x(yo),yo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ci.current&1?nr===0&&(nr=3):v3())),e.updateQueue!==null&&(e.flags|=4),qr(e),null);case 4:return hf(),px(t,e),t===null&&bp(e.stateNode.containerInfo),qr(e),null;case 10:return e3(e.type._context),qr(e),null;case 17:return Ds(e.type)&&y1(),qr(e),null;case 19:if(Qn(ci),s=e.memoizedState,s===null)return qr(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)y0(s,!1);else{if(nr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=k1(t),a!==null){for(e.flags|=128,y0(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Bn(ci,ci.current&1|2),e.child}t=t.sibling}s.tail!==null&&Mi()>ff&&(e.flags|=128,i=!0,y0(s,!1),e.lanes=4194304)}else{if(!i)if(t=k1(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),y0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ii)return qr(e),null}else 2*Mi()-s.renderingStartTime>ff&&n!==1073741824&&(e.flags|=128,i=!0,y0(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mi(),e.sibling=null,n=ci.current,Bn(ci,i?n&1|2:n&1),e):(qr(e),null);case 22:case 23:return m3(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ea&1073741824&&(qr(e),e.subtreeFlags&6&&(e.flags|=8192)):qr(e),null;case 24:return null;case 25:return null}throw Error(Ve(156,e.tag))}function pE(t,e){switch(Y4(e),e.tag){case 1:return Ds(e.type)&&y1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hf(),Qn(Fs),Qn(rs),s3(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return r3(e),null;case 13:if(Qn(ci),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ve(340));cf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qn(ci),null;case 4:return hf(),null;case 10:return e3(e.type._context),null;case 22:case 23:return m3(),null;case 24:return null;default:return null}}var Yg=!1,ts=!1,gE=typeof WeakSet=="function"?WeakSet:Set,st=null;function Id(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){_i(t,e,i)}else n.current=null}function gx(t,e,n){try{n()}catch(i){_i(t,e,i)}}var Qw=!1;function mE(t,e){if(Jy=p1,t=lk(),K4(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,d=0,g=t,m=null;t:for(;;){for(var p;g!==n||r!==0&&g.nodeType!==3||(o=a+r),g!==s||i!==0&&g.nodeType!==3||(l=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(p=g.firstChild)!==null;)m=g,g=p;for(;;){if(g===t)break t;if(m===n&&++c===r&&(o=a),m===s&&++d===i&&(l=a),(p=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zy={focusedElem:t,selectionRange:n},p1=!1,st=e;st!==null;)if(e=st,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,st=t;else for(;st!==null;){e=st;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,N=x.memoizedState,S=e.stateNode,j=S.getSnapshotBeforeUpdate(e.elementType===e.type?b:mo(e.type,b),N);S.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(C){_i(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,st=t;break}st=e.return}return x=Qw,Qw=!1,x}function Q0(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&gx(e,n,s)}r=r.next}while(r!==i)}}function w2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function mx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function r9(t){var e=t.alternate;e!==null&&(t.alternate=null,r9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jo],delete e[_p],delete e[nx],delete e[JT],delete e[ZT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function s9(t){return t.tag===5||t.tag===3||t.tag===4}function Jw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vx(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=v1));else if(i!==4&&(t=t.child,t!==null))for(vx(t,e,n),t=t.sibling;t!==null;)vx(t,e,n),t=t.sibling}function yx(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(yx(t,e,n),t=t.sibling;t!==null;)yx(t,e,n),t=t.sibling}var Lr=null,vo=!1;function Cc(t,e,n){for(n=n.child;n!==null;)a9(t,e,n),n=n.sibling}function a9(t,e,n){if(tl&&typeof tl.onCommitFiberUnmount=="function")try{tl.onCommitFiberUnmount(f2,n)}catch{}switch(n.tag){case 5:ts||Id(n,e);case 6:var i=Lr,r=vo;Lr=null,Cc(t,e,n),Lr=i,vo=r,Lr!==null&&(vo?(t=Lr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lr.removeChild(n.stateNode));break;case 18:Lr!==null&&(vo?(t=Lr,n=n.stateNode,t.nodeType===8?cv(t.parentNode,n):t.nodeType===1&&cv(t,n),vp(t)):cv(Lr,n.stateNode));break;case 4:i=Lr,r=vo,Lr=n.stateNode.containerInfo,vo=!0,Cc(t,e,n),Lr=i,vo=r;break;case 0:case 11:case 14:case 15:if(!ts&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&gx(n,e,a),r=r.next}while(r!==i)}Cc(t,e,n);break;case 1:if(!ts&&(Id(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){_i(n,e,o)}Cc(t,e,n);break;case 21:Cc(t,e,n);break;case 22:n.mode&1?(ts=(i=ts)||n.memoizedState!==null,Cc(t,e,n),ts=i):Cc(t,e,n);break;default:Cc(t,e,n)}}function Zw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gE),e.forEach(function(i){var r=kE.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function ho(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Lr=o.stateNode,vo=!1;break e;case 3:Lr=o.stateNode.containerInfo,vo=!0;break e;case 4:Lr=o.stateNode.containerInfo,vo=!0;break e}o=o.return}if(Lr===null)throw Error(Ve(160));a9(s,a,r),Lr=null,vo=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){_i(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)o9(e,t),e=e.sibling}function o9(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ho(e,t),$o(t),i&4){try{Q0(3,t,t.return),w2(3,t)}catch(b){_i(t,t.return,b)}try{Q0(5,t,t.return)}catch(b){_i(t,t.return,b)}}break;case 1:ho(e,t),$o(t),i&512&&n!==null&&Id(n,n.return);break;case 5:if(ho(e,t),$o(t),i&512&&n!==null&&Id(n,n.return),t.flags&32){var r=t.stateNode;try{fp(r,"")}catch(b){_i(t,t.return,b)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&PN(r,s),Vy(o,a);var c=Vy(o,s);for(a=0;a<l.length;a+=2){var d=l[a],g=l[a+1];d==="style"?RN(r,g):d==="dangerouslySetInnerHTML"?EN(r,g):d==="children"?fp(r,g):F4(r,d,g,c)}switch(o){case"input":Iy(r,s);break;case"textarea":LN(r,s);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?qd(r,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?qd(r,!!s.multiple,s.defaultValue,!0):qd(r,!!s.multiple,s.multiple?[]:"",!1))}r[_p]=s}catch(b){_i(t,t.return,b)}}break;case 6:if(ho(e,t),$o(t),i&4){if(t.stateNode===null)throw Error(Ve(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(b){_i(t,t.return,b)}}break;case 3:if(ho(e,t),$o(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{vp(e.containerInfo)}catch(b){_i(t,t.return,b)}break;case 4:ho(e,t),$o(t);break;case 13:ho(e,t),$o(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(p3=Mi())),i&4&&Zw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ts=(c=ts)||d,ho(e,t),ts=c):ho(e,t),$o(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(st=t,d=t.child;d!==null;){for(g=st=d;st!==null;){switch(m=st,p=m.child,m.tag){case 0:case 11:case 14:case 15:Q0(4,m,m.return);break;case 1:Id(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){i=m,n=m.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(b){_i(i,n,b)}}break;case 5:Id(m,m.return);break;case 22:if(m.memoizedState!==null){t6(g);continue}}p!==null?(p.return=m,st=p):t6(g)}d=d.sibling}e:for(d=null,g=t;;){if(g.tag===5){if(d===null){d=g;try{r=g.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=g.stateNode,l=g.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=MN("display",a))}catch(b){_i(t,t.return,b)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(b){_i(t,t.return,b)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ho(e,t),$o(t),i&4&&Zw(t);break;case 21:break;default:ho(e,t),$o(t)}}function $o(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(s9(n)){var i=n;break e}n=n.return}throw Error(Ve(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(fp(r,""),i.flags&=-33);var s=Jw(t);yx(t,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=Jw(t);vx(t,o,a);break;default:throw Error(Ve(161))}}catch(l){_i(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vE(t,e,n){st=t,l9(t)}function l9(t,e,n){for(var i=(t.mode&1)!==0;st!==null;){var r=st,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||Yg;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||ts;o=Yg;var c=ts;if(Yg=a,(ts=l)&&!c)for(st=r;st!==null;)a=st,l=a.child,a.tag===22&&a.memoizedState!==null?n6(r):l!==null?(l.return=a,st=l):n6(r);for(;s!==null;)st=s,l9(s),s=s.sibling;st=r,Yg=o,ts=c}e6(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,st=s):e6(t)}}function e6(t){for(;st!==null;){var e=st;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ts||w2(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ts)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:mo(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ow(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ow(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&vp(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}ts||e.flags&512&&mx(e)}catch(m){_i(e,e.return,m)}}if(e===t){st=null;break}if(n=e.sibling,n!==null){n.return=e.return,st=n;break}st=e.return}}function t6(t){for(;st!==null;){var e=st;if(e===t){st=null;break}var n=e.sibling;if(n!==null){n.return=e.return,st=n;break}st=e.return}}function n6(t){for(;st!==null;){var e=st;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{w2(4,e)}catch(l){_i(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){_i(e,r,l)}}var s=e.return;try{mx(e)}catch(l){_i(e,s,l)}break;case 5:var a=e.return;try{mx(e)}catch(l){_i(e,a,l)}}}catch(l){_i(e,e.return,l)}if(e===t){st=null;break}var o=e.sibling;if(o!==null){o.return=e.return,st=o;break}st=e.return}}var yE=Math.ceil,A1=Jl.ReactCurrentDispatcher,d3=Jl.ReactCurrentOwner,Ha=Jl.ReactCurrentBatchConfig,hn=0,xr=null,Vi=null,Mr=0,ea=0,Od=uu(0),nr=0,Ap=null,xh=0,_2=0,f3=0,J0=null,Es=null,p3=0,ff=1/0,Dl=null,P1=!1,xx=null,Yc=null,Qg=!1,Bc=null,L1=0,Z0=0,bx=null,$m=-1,Gm=0;function ms(){return hn&6?Mi():$m!==-1?$m:$m=Mi()}function Qc(t){return t.mode&1?hn&2&&Mr!==0?Mr&-Mr:tE.transition!==null?(Gm===0&&(Gm=WN()),Gm):(t=An,t!==0||(t=window.event,t=t===void 0?16:ZN(t.type)),t):1}function _o(t,e,n,i){if(50<Z0)throw Z0=0,bx=null,Error(Ve(185));Yp(t,n,i),(!(hn&2)||t!==xr)&&(t===xr&&(!(hn&2)&&(_2|=n),nr===4&&Ic(t,Mr)),Is(t,i),n===1&&hn===0&&!(e.mode&1)&&(ff=Mi()+500,y2&&hu()))}function Is(t,e){var n=t.callbackNode;tT(t,e);var i=f1(t,t===xr?Mr:0);if(i===0)n!==null&&hw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&hw(n),e===1)t.tag===0?eE(i6.bind(null,t)):yk(i6.bind(null,t)),YT(function(){!(hn&6)&&hu()}),n=null;else{switch(qN(i)){case 1:n=z4;break;case 4:n=$N;break;case 16:n=d1;break;case 536870912:n=GN;break;default:n=d1}n=m9(n,c9.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function c9(t,e){if($m=-1,Gm=0,hn&6)throw Error(Ve(327));var n=t.callbackNode;if(Jd()&&t.callbackNode!==n)return null;var i=f1(t,t===xr?Mr:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=T1(t,i);else{e=i;var r=hn;hn|=2;var s=h9();(xr!==t||Mr!==e)&&(Dl=null,ff=Mi()+500,hh(t,e));do try{wE();break}catch(o){u9(t,o)}while(!0);Z4(),A1.current=s,hn=r,Vi!==null?e=0:(xr=null,Mr=0,e=nr)}if(e!==0){if(e===2&&(r=qy(t),r!==0&&(i=r,e=wx(t,r))),e===1)throw n=Ap,hh(t,0),Ic(t,i),Is(t,Mi()),n;if(e===6)Ic(t,i);else{if(r=t.current.alternate,!(i&30)&&!xE(r)&&(e=T1(t,i),e===2&&(s=qy(t),s!==0&&(i=s,e=wx(t,s))),e===1))throw n=Ap,hh(t,0),Ic(t,i),Is(t,Mi()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(Ve(345));case 2:Yu(t,Es,Dl);break;case 3:if(Ic(t,i),(i&130023424)===i&&(e=p3+500-Mi(),10<e)){if(f1(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){ms(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=tx(Yu.bind(null,t,Es,Dl),e);break}Yu(t,Es,Dl);break;case 4:if(Ic(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-wo(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=Mi()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*yE(i/1960))-i,10<i){t.timeoutHandle=tx(Yu.bind(null,t,Es,Dl),i);break}Yu(t,Es,Dl);break;case 5:Yu(t,Es,Dl);break;default:throw Error(Ve(329))}}}return Is(t,Mi()),t.callbackNode===n?c9.bind(null,t):null}function wx(t,e){var n=J0;return t.current.memoizedState.isDehydrated&&(hh(t,e).flags|=256),t=T1(t,e),t!==2&&(e=Es,Es=n,e!==null&&_x(e)),t}function _x(t){Es===null?Es=t:Es.push.apply(Es,t)}function xE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ko(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ic(t,e){for(e&=~f3,e&=~_2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wo(e),i=1<<n;t[n]=-1,e&=~i}}function i6(t){if(hn&6)throw Error(Ve(327));Jd();var e=f1(t,0);if(!(e&1))return Is(t,Mi()),null;var n=T1(t,e);if(t.tag!==0&&n===2){var i=qy(t);i!==0&&(e=i,n=wx(t,i))}if(n===1)throw n=Ap,hh(t,0),Ic(t,e),Is(t,Mi()),n;if(n===6)throw Error(Ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yu(t,Es,Dl),Is(t,Mi()),null}function g3(t,e){var n=hn;hn|=1;try{return t(e)}finally{hn=n,hn===0&&(ff=Mi()+500,y2&&hu())}}function bh(t){Bc!==null&&Bc.tag===0&&!(hn&6)&&Jd();var e=hn;hn|=1;var n=Ha.transition,i=An;try{if(Ha.transition=null,An=1,t)return t()}finally{An=i,Ha.transition=n,hn=e,!(hn&6)&&hu()}}function m3(){ea=Od.current,Qn(Od)}function hh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XT(n)),Vi!==null)for(n=Vi.return;n!==null;){var i=n;switch(Y4(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&y1();break;case 3:hf(),Qn(Fs),Qn(rs),s3();break;case 5:r3(i);break;case 4:hf();break;case 13:Qn(ci);break;case 19:Qn(ci);break;case 10:e3(i.type._context);break;case 22:case 23:m3()}n=n.return}if(xr=t,Vi=t=Jc(t.current,null),Mr=ea=e,nr=0,Ap=null,f3=_2=xh=0,Es=J0=null,sh!==null){for(e=0;e<sh.length;e++)if(n=sh[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}n.pending=i}sh=null}return t}function u9(t,e){do{var n=Vi;try{if(Z4(),Um.current=j1,C1){for(var i=hi.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}C1=!1}if(yh=0,vr=er=hi=null,Y0=!1,kp=0,d3.current=null,n===null||n.return===null){nr=1,Ap=e,Vi=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Mr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=$w(a);if(p!==null){p.flags&=-257,Gw(p,a,o,s,e),p.mode&1&&Hw(s,c,e),e=p,l=c;var x=e.updateQueue;if(x===null){var b=new Set;b.add(l),e.updateQueue=b}else x.add(l);break e}else{if(!(e&1)){Hw(s,c,e),v3();break e}l=Error(Ve(426))}}else if(ii&&o.mode&1){var N=$w(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Gw(N,a,o,s,e),Q4(df(l,o));break e}}s=l=df(l,o),nr!==4&&(nr=2),J0===null?J0=[s]:J0.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=qk(s,l,e);Iw(s,S);break e;case 1:o=l;var j=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof j.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Yc===null||!Yc.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=Kk(s,o,e);Iw(s,C);break e}}s=s.return}while(s!==null)}f9(n)}catch(E){e=E,Vi===n&&n!==null&&(Vi=n=n.return);continue}break}while(!0)}function h9(){var t=A1.current;return A1.current=j1,t===null?j1:t}function v3(){(nr===0||nr===3||nr===2)&&(nr=4),xr===null||!(xh&268435455)&&!(_2&268435455)||Ic(xr,Mr)}function T1(t,e){var n=hn;hn|=2;var i=h9();(xr!==t||Mr!==e)&&(Dl=null,hh(t,e));do try{bE();break}catch(r){u9(t,r)}while(!0);if(Z4(),hn=n,A1.current=i,Vi!==null)throw Error(Ve(261));return xr=null,Mr=0,nr}function bE(){for(;Vi!==null;)d9(Vi)}function wE(){for(;Vi!==null&&!WL();)d9(Vi)}function d9(t){var e=g9(t.alternate,t,ea);t.memoizedProps=t.pendingProps,e===null?f9(t):Vi=e,d3.current=null}function f9(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pE(n,e),n!==null){n.flags&=32767,Vi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nr=6,Vi=null;return}}else if(n=fE(n,e,ea),n!==null){Vi=n;return}if(e=e.sibling,e!==null){Vi=e;return}Vi=e=t}while(e!==null);nr===0&&(nr=5)}function Yu(t,e,n){var i=An,r=Ha.transition;try{Ha.transition=null,An=1,_E(t,e,n,i)}finally{Ha.transition=r,An=i}return null}function _E(t,e,n,i){do Jd();while(Bc!==null);if(hn&6)throw Error(Ve(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ve(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(nT(t,s),t===xr&&(Vi=xr=null,Mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qg||(Qg=!0,m9(d1,function(){return Jd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ha.transition,Ha.transition=null;var a=An;An=1;var o=hn;hn|=4,d3.current=null,mE(t,n),o9(n,t),VT(Zy),p1=!!Jy,Zy=Jy=null,t.current=n,vE(n),qL(),hn=o,An=a,Ha.transition=s}else t.current=n;if(Qg&&(Qg=!1,Bc=t,L1=r),s=t.pendingLanes,s===0&&(Yc=null),YL(n.stateNode),Is(t,Mi()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(P1)throw P1=!1,t=xx,xx=null,t;return L1&1&&t.tag!==0&&Jd(),s=t.pendingLanes,s&1?t===bx?Z0++:(Z0=0,bx=t):Z0=0,hu(),null}function Jd(){if(Bc!==null){var t=qN(L1),e=Ha.transition,n=An;try{if(Ha.transition=null,An=16>t?16:t,Bc===null)var i=!1;else{if(t=Bc,Bc=null,L1=0,hn&6)throw Error(Ve(331));var r=hn;for(hn|=4,st=t.current;st!==null;){var s=st,a=s.child;if(st.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(st=c;st!==null;){var d=st;switch(d.tag){case 0:case 11:case 15:Q0(8,d,s)}var g=d.child;if(g!==null)g.return=d,st=g;else for(;st!==null;){d=st;var m=d.sibling,p=d.return;if(r9(d),d===c){st=null;break}if(m!==null){m.return=p,st=m;break}st=p}}}var x=s.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var N=b.sibling;b.sibling=null,b=N}while(b!==null)}}st=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,st=a;else e:for(;st!==null;){if(s=st,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Q0(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,st=S;break e}st=s.return}}var j=t.current;for(st=j;st!==null;){a=st;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,st=_;else e:for(a=j;st!==null;){if(o=st,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:w2(9,o)}}catch(E){_i(o,o.return,E)}if(o===a){st=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,st=C;break e}st=o.return}}if(hn=r,hu(),tl&&typeof tl.onPostCommitFiberRoot=="function")try{tl.onPostCommitFiberRoot(f2,t)}catch{}i=!0}return i}finally{An=n,Ha.transition=e}}return!1}function r6(t,e,n){e=df(n,e),e=qk(t,e,1),t=Xc(t,e,1),e=ms(),t!==null&&(Yp(t,1,e),Is(t,e))}function _i(t,e,n){if(t.tag===3)r6(t,t,n);else for(;e!==null;){if(e.tag===3){r6(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Yc===null||!Yc.has(i))){t=df(n,t),t=Kk(e,t,1),e=Xc(e,t,1),t=ms(),e!==null&&(Yp(e,1,t),Is(e,t));break}}e=e.return}}function SE(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=ms(),t.pingedLanes|=t.suspendedLanes&n,xr===t&&(Mr&n)===n&&(nr===4||nr===3&&(Mr&130023424)===Mr&&500>Mi()-p3?hh(t,0):f3|=n),Is(t,e)}function p9(t,e){e===0&&(t.mode&1?(e=Ug,Ug<<=1,!(Ug&130023424)&&(Ug=4194304)):e=1);var n=ms();t=Xl(t,e),t!==null&&(Yp(t,e,n),Is(t,n))}function NE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),p9(t,n)}function kE(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Ve(314))}i!==null&&i.delete(e),p9(t,n)}var g9;g9=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fs.current)Rs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rs=!1,dE(t,e,n);Rs=!!(t.flags&131072)}else Rs=!1,ii&&e.flags&1048576&&xk(e,w1,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Hm(t,e),t=e.pendingProps;var r=lf(e,rs.current);Qd(e,n),r=o3(null,e,i,t,r,n);var s=l3();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ds(i)?(s=!0,x1(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,n3(e),r.updater=b2,e.stateNode=r,r._reactInternals=e,lx(e,i,t,n),e=hx(null,e,i,!0,s,n)):(e.tag=0,ii&&s&&X4(e),gs(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Hm(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=jE(i),t=mo(i,t),r){case 0:e=ux(null,e,i,t,n);break e;case 1:e=Kw(null,e,i,t,n);break e;case 11:e=Ww(null,e,i,t,n);break e;case 14:e=qw(null,e,i,mo(i.type,t),n);break e}throw Error(Ve(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:mo(i,r),ux(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:mo(i,r),Kw(t,e,i,r,n);case 3:e:{if(Jk(e),t===null)throw Error(Ve(387));i=e.pendingProps,s=e.memoizedState,r=s.element,kk(t,e),N1(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=df(Error(Ve(423)),e),e=Xw(t,e,i,n,r);break e}else if(i!==r){r=df(Error(Ve(424)),e),e=Xw(t,e,i,n,r);break e}else for(ta=Kc(e.stateNode.containerInfo.firstChild),ia=e,ii=!0,yo=null,n=Sk(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cf(),i===r){e=Yl(t,e,n);break e}gs(t,e,i,n)}e=e.child}return e;case 5:return Ck(e),t===null&&sx(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,a=r.children,ex(i,r)?a=null:s!==null&&ex(i,s)&&(e.flags|=32),Qk(t,e),gs(t,e,a,n),e.child;case 6:return t===null&&sx(e),null;case 13:return Zk(t,e,n);case 4:return i3(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=uf(e,null,i,n):gs(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:mo(i,r),Ww(t,e,i,r,n);case 7:return gs(t,e,e.pendingProps,n),e.child;case 8:return gs(t,e,e.pendingProps.children,n),e.child;case 12:return gs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Bn(_1,i._currentValue),i._currentValue=a,s!==null)if(ko(s.value,a)){if(s.children===r.children&&!Fs.current){e=Yl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Hl(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ax(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ve(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),ax(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}gs(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Qd(e,n),r=$a(r),i=i(r),e.flags|=1,gs(t,e,i,n),e.child;case 14:return i=e.type,r=mo(i,e.pendingProps),r=mo(i.type,r),qw(t,e,i,r,n);case 15:return Xk(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:mo(i,r),Hm(t,e),e.tag=1,Ds(i)?(t=!0,x1(e)):t=!1,Qd(e,n),Wk(e,i,r),lx(e,i,r,n),hx(null,e,i,!0,t,n);case 19:return e9(t,e,n);case 22:return Yk(t,e,n)}throw Error(Ve(156,e.tag))};function m9(t,e){return HN(t,e)}function CE(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ba(t,e,n,i){return new CE(t,e,n,i)}function y3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jE(t){if(typeof t=="function")return y3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===I4)return 11;if(t===O4)return 14}return 2}function Jc(t,e){var n=t.alternate;return n===null?(n=Ba(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wm(t,e,n,i,r,s){var a=2;if(i=t,typeof t=="function")y3(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ad:return dh(n.children,r,s,e);case D4:a=8,r|=8;break;case Ey:return t=Ba(12,n,e,r|2),t.elementType=Ey,t.lanes=s,t;case My:return t=Ba(13,n,e,r),t.elementType=My,t.lanes=s,t;case Ry:return t=Ba(19,n,e,r),t.elementType=Ry,t.lanes=s,t;case CN:return S2(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NN:a=10;break e;case kN:a=9;break e;case I4:a=11;break e;case O4:a=14;break e;case Mc:a=16,i=null;break e}throw Error(Ve(130,t==null?t:typeof t,""))}return e=Ba(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function dh(t,e,n,i){return t=Ba(7,t,i,e),t.lanes=n,t}function S2(t,e,n,i){return t=Ba(22,t,i,e),t.elementType=CN,t.lanes=n,t.stateNode={isHidden:!1},t}function vv(t,e,n){return t=Ba(6,t,null,e),t.lanes=n,t}function yv(t,e,n){return e=Ba(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AE(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=J5(0),this.expirationTimes=J5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J5(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function x3(t,e,n,i,r,s,a,o,l){return t=new AE(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ba(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},n3(s),t}function PE(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jd,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function v9(t){if(!t)return nu;t=t._reactInternals;e:{if(jh(t)!==t||t.tag!==1)throw Error(Ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ds(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ve(171))}if(t.tag===1){var n=t.type;if(Ds(n))return vk(t,n,e)}return e}function y9(t,e,n,i,r,s,a,o,l){return t=x3(n,i,!0,t,r,s,a,o,l),t.context=v9(null),n=t.current,i=ms(),r=Qc(n),s=Hl(i,r),s.callback=e??null,Xc(n,s,r),t.current.lanes=r,Yp(t,r,i),Is(t,i),t}function N2(t,e,n,i){var r=e.current,s=ms(),a=Qc(r);return n=v9(n),e.context===null?e.context=n:e.pendingContext=n,e=Hl(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Xc(r,e,a),t!==null&&(_o(t,r,a,s),zm(t,r,a)),a}function E1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function s6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function b3(t,e){s6(t,e),(t=t.alternate)&&s6(t,e)}function LE(){return null}var x9=typeof reportError=="function"?reportError:function(t){console.error(t)};function w3(t){this._internalRoot=t}k2.prototype.render=w3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ve(409));N2(t,e,null,null)};k2.prototype.unmount=w3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bh(function(){N2(null,t,null,null)}),e[Kl]=null}};function k2(t){this._internalRoot=t}k2.prototype.unstable_scheduleHydration=function(t){if(t){var e=YN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Dc.length&&e!==0&&e<Dc[n].priority;n++);Dc.splice(n,0,t),n===0&&JN(t)}};function _3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function C2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a6(){}function TE(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=E1(a);s.call(c)}}var a=y9(e,i,t,0,null,!1,!1,"",a6);return t._reactRootContainer=a,t[Kl]=a.current,bp(t.nodeType===8?t.parentNode:t),bh(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var c=E1(l);o.call(c)}}var l=x3(t,0,!1,null,null,!1,!1,"",a6);return t._reactRootContainer=l,t[Kl]=l.current,bp(t.nodeType===8?t.parentNode:t),bh(function(){N2(e,l,n,i)}),l}function j2(t,e,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=E1(a);o.call(l)}}N2(e,a,t,r)}else a=TE(n,e,t,r,i);return E1(a)}KN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=F0(e.pendingLanes);n!==0&&(U4(e,n|1),Is(e,Mi()),!(hn&6)&&(ff=Mi()+500,hu()))}break;case 13:bh(function(){var i=Xl(t,1);if(i!==null){var r=ms();_o(i,t,1,r)}}),b3(t,1)}};V4=function(t){if(t.tag===13){var e=Xl(t,134217728);if(e!==null){var n=ms();_o(e,t,134217728,n)}b3(t,134217728)}};XN=function(t){if(t.tag===13){var e=Qc(t),n=Xl(t,e);if(n!==null){var i=ms();_o(n,t,e,i)}b3(t,e)}};YN=function(){return An};QN=function(t,e){var n=An;try{return An=t,e()}finally{An=n}};$y=function(t,e,n){switch(e){case"input":if(Iy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=v2(i);if(!r)throw Error(Ve(90));AN(i),Iy(i,r)}}}break;case"textarea":LN(t,n);break;case"select":e=n.value,e!=null&&qd(t,!!n.multiple,e,!1)}};IN=g3;ON=bh;var EE={usingClientEntryPoint:!1,Events:[Jp,Ed,v2,FN,DN,g3]},x0={findFiberByHostInstance:rh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ME={bundleType:x0.bundleType,version:x0.version,rendererPackageName:x0.rendererPackageName,rendererConfig:x0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UN(t),t===null?null:t.stateNode},findFiberByHostInstance:x0.findFiberByHostInstance||LE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jg.isDisabled&&Jg.supportsFiber)try{f2=Jg.inject(ME),tl=Jg}catch{}}oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EE;oa.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_3(e))throw Error(Ve(200));return PE(t,e,null,n)};oa.createRoot=function(t,e){if(!_3(t))throw Error(Ve(299));var n=!1,i="",r=x9;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=x3(t,1,!1,null,null,n,!1,i,r),t[Kl]=e.current,bp(t.nodeType===8?t.parentNode:t),new w3(e)};oa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ve(188)):(t=Object.keys(t).join(","),Error(Ve(268,t)));return t=UN(e),t=t===null?null:t.stateNode,t};oa.flushSync=function(t){return bh(t)};oa.hydrate=function(t,e,n){if(!C2(e))throw Error(Ve(200));return j2(null,t,e,!0,n)};oa.hydrateRoot=function(t,e,n){if(!_3(t))throw Error(Ve(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",a=x9;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=y9(e,null,t,1,n??null,r,!1,s,a),t[Kl]=e.current,bp(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new k2(e)};oa.render=function(t,e,n){if(!C2(e))throw Error(Ve(200));return j2(null,t,e,!1,n)};oa.unmountComponentAtNode=function(t){if(!C2(t))throw Error(Ve(40));return t._reactRootContainer?(bh(function(){j2(null,null,t,!1,function(){t._reactRootContainer=null,t[Kl]=null})}),!0):!1};oa.unstable_batchedUpdates=g3;oa.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!C2(n))throw Error(Ve(200));if(t==null||t._reactInternals===void 0)throw Error(Ve(38));return j2(t,e,n,!1,i)};oa.version="18.3.1-next-f1338f8080-20240426";function b9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b9)}catch(t){console.error(t)}}b9(),bN.exports=oa;var RE=bN.exports,o6=RE;Ly.createRoot=o6.createRoot,Ly.hydrateRoot=o6.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pp.apply(this,arguments)}var zc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zc||(zc={}));const l6="popstate";function FE(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return Sx("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:M1(r)}return IE(e,n,null,t)}function Ni(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function w9(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DE(){return Math.random().toString(36).substr(2,8)}function c6(t,e){return{usr:t.state,key:t.key,idx:e}}function Sx(t,e,n,i){return n===void 0&&(n=null),Pp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jf(e):e,{state:n,key:e&&e.key||i||DE()})}function M1(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function jf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function IE(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o=zc.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(Pp({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function g(){o=zc.Pop;let N=d(),S=N==null?null:N-c;c=N,l&&l({action:o,location:b.location,delta:S})}function m(N,S){o=zc.Push;let j=Sx(b.location,N,S);c=d()+1;let _=c6(j,c),C=b.createHref(j);try{a.pushState(_,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(C)}s&&l&&l({action:o,location:b.location,delta:1})}function p(N,S){o=zc.Replace;let j=Sx(b.location,N,S);c=d();let _=c6(j,c),C=b.createHref(j);a.replaceState(_,"",C),s&&l&&l({action:o,location:b.location,delta:0})}function x(N){let S=r.location.origin!=="null"?r.location.origin:r.location.href,j=typeof N=="string"?N:M1(N);return j=j.replace(/ $/,"%20"),Ni(S,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,S)}let b={get action(){return o},get location(){return t(r,a)},listen(N){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(l6,g),l=N,()=>{r.removeEventListener(l6,g),l=null}},createHref(N){return e(r,N)},createURL:x,encodeLocation(N){let S=x(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:p,go(N){return a.go(N)}};return b}var u6;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(u6||(u6={}));function OE(t,e,n){return n===void 0&&(n="/"),BE(t,e,n)}function BE(t,e,n,i){let r=typeof e=="string"?jf(e):e,s=pf(r.pathname||"/",n);if(s==null)return null;let a=_9(t);zE(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=QE(s);o=XE(a[l],c)}return o}function _9(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Ni(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Zc([i,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ni(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_9(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:qE(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let l of S9(s.path))r(s,a,l)}),e}function S9(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=S9(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function zE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KE(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const UE=/^:[\w-]+$/,VE=3,HE=2,$E=1,GE=10,WE=-2,h6=t=>t==="*";function qE(t,e){let n=t.split("/"),i=n.length;return n.some(h6)&&(i+=WE),e&&(i+=HE),n.filter(r=>!h6(r)).reduce((r,s)=>r+(UE.test(s)?VE:s===""?$E:GE),i)}function KE(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function XE(t,e,n){let{routesMeta:i}=t,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",g=Nx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:Zc([s,g.pathname]),pathnameBase:tM(Zc([s,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(s=Zc([s,g.pathnameBase]))}return a}function Nx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=YE(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((c,d,g)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let b=o[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[g];return p&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function YE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),w9(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function QE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return w9(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function JE(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?jf(t):t;return{pathname:n?n.startsWith("/")?n:ZE(n,e):e,search:nM(i),hash:iM(r)}}function ZE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function xv(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function N9(t,e){let n=eM(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function k9(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=jf(t):(r=Pp({},t),Ni(!r.pathname||!r.pathname.includes("?"),xv("?","pathname","search",r)),Ni(!r.pathname||!r.pathname.includes("#"),xv("#","pathname","hash",r)),Ni(!r.search||!r.search.includes("#"),xv("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),g-=1;r.pathname=m.join("/")}o=g>=0?e[g]:"/"}let l=JE(r,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Zc=t=>t.join("/").replace(/\/\/+/g,"/"),tM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const C9=["post","put","patch","delete"];new Set(C9);const sM=["get",...C9];new Set(sM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lp.apply(this,arguments)}const A2=J.createContext(null),j9=J.createContext(null),du=J.createContext(null),P2=J.createContext(null),fu=J.createContext({outlet:null,matches:[],isDataRoute:!1}),A9=J.createContext(null);function aM(t,e){let{relative:n}=e===void 0?{}:e;eg()||Ni(!1);let{basename:i,navigator:r}=J.useContext(du),{hash:s,pathname:a,search:o}=L2(t,{relative:n}),l=a;return i!=="/"&&(l=a==="/"?i:Zc([i,a])),r.createHref({pathname:l,search:o,hash:s})}function eg(){return J.useContext(P2)!=null}function pu(){return eg()||Ni(!1),J.useContext(P2).location}function P9(t){J.useContext(du).static||J.useLayoutEffect(t)}function ca(){let{isDataRoute:t}=J.useContext(fu);return t?xM():oM()}function oM(){eg()||Ni(!1);let t=J.useContext(A2),{basename:e,future:n,navigator:i}=J.useContext(du),{matches:r}=J.useContext(fu),{pathname:s}=pu(),a=JSON.stringify(N9(r,n.v7_relativeSplatPath)),o=J.useRef(!1);return P9(()=>{o.current=!0}),J.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){i.go(c);return}let g=k9(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Zc([e,g.pathname])),(d.replace?i.replace:i.push)(g,d.state,d)},[e,i,a,s,t])}function S3(){let{matches:t}=J.useContext(fu),e=t[t.length-1];return e?e.params:{}}function L2(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=J.useContext(du),{matches:r}=J.useContext(fu),{pathname:s}=pu(),a=JSON.stringify(N9(r,i.v7_relativeSplatPath));return J.useMemo(()=>k9(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function lM(t,e){return cM(t,e)}function cM(t,e,n,i){eg()||Ni(!1);let{navigator:r}=J.useContext(du),{matches:s}=J.useContext(fu),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=pu(),d;if(e){var g;let N=typeof e=="string"?jf(e):e;l==="/"||(g=N.pathname)!=null&&g.startsWith(l)||Ni(!1),d=N}else d=c;let m=d.pathname||"/",p=m;if(l!=="/"){let N=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=OE(t,{pathname:p}),b=pM(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:Zc([l,r.encodeLocation?r.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?l:Zc([l,r.encodeLocation?r.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,i);return e&&b?J.createElement(P2.Provider,{value:{location:Lp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zc.Pop}},b):b}function uM(){let t=yM(),e=rM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:r},n):null,null)}const hM=J.createElement(uM,null);class dM extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?J.createElement(fu.Provider,{value:this.props.routeContext},J.createElement(A9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fM(t){let{routeContext:e,match:n,children:i}=t,r=J.useContext(A2);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(fu.Provider,{value:e},i)}function pM(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let d=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);d>=0||Ni(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<a.length;d++){let g=a[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=d),g.route.id){let{loaderData:m,errors:p}=n,x=g.route.loader&&m[g.route.id]===void 0&&(!p||p[g.route.id]===void 0);if(g.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,g,m)=>{let p,x=!1,b=null,N=null;n&&(p=o&&g.route.id?o[g.route.id]:void 0,b=g.route.errorElement||hM,l&&(c<0&&m===0?(bM("route-fallback"),x=!0,N=null):c===m&&(x=!0,N=g.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,m+1)),j=()=>{let _;return p?_=b:x?_=N:g.route.Component?_=J.createElement(g.route.Component,null):g.route.element?_=g.route.element:_=d,J.createElement(fM,{match:g,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:_})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?J.createElement(dM,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:j(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):j()},null)}var L9=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(L9||{}),T9=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(T9||{});function gM(t){let e=J.useContext(A2);return e||Ni(!1),e}function mM(t){let e=J.useContext(j9);return e||Ni(!1),e}function vM(t){let e=J.useContext(fu);return e||Ni(!1),e}function E9(t){let e=vM(),n=e.matches[e.matches.length-1];return n.route.id||Ni(!1),n.route.id}function yM(){var t;let e=J.useContext(A9),n=mM(),i=E9();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function xM(){let{router:t}=gM(L9.UseNavigateStable),e=E9(T9.UseNavigateStable),n=J.useRef(!1);return P9(()=>{n.current=!0}),J.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Lp({fromRouteId:e},s)))},[t,e])}const d6={};function bM(t,e,n){d6[t]||(d6[t]=!0)}function wM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Jr(t){Ni(!1)}function _M(t){let{basename:e="/",children:n=null,location:i,navigationType:r=zc.Pop,navigator:s,static:a=!1,future:o}=t;eg()&&Ni(!1);let l=e.replace(/^\/*/,"/"),c=J.useMemo(()=>({basename:l,navigator:s,static:a,future:Lp({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=jf(i));let{pathname:d="/",search:g="",hash:m="",state:p=null,key:x="default"}=i,b=J.useMemo(()=>{let N=pf(d,l);return N==null?null:{location:{pathname:N,search:g,hash:m,state:p,key:x},navigationType:r}},[l,d,g,m,p,x,r]);return b==null?null:J.createElement(du.Provider,{value:c},J.createElement(P2.Provider,{children:n,value:b}))}function SM(t){let{children:e,location:n}=t;return lM(kx(e),n)}new Promise(()=>{});function kx(t,e){e===void 0&&(e=[]);let n=[];return J.Children.forEach(t,(i,r)=>{if(!J.isValidElement(i))return;let s=[...e,r];if(i.type===J.Fragment){n.push.apply(n,kx(i.props.children,s));return}i.type!==Jr&&Ni(!1),!i.props.index||!i.props.children||Ni(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=kx(i.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R1(){return R1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},R1.apply(this,arguments)}function M9(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function NM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kM(t,e){return t.button===0&&(!e||e==="_self")&&!NM(t)}function Cx(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(r=>[n,r]):[[n,i]])},[]))}function CM(t,e){let n=Cx(t);return e&&e.forEach((i,r)=>{n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)})}),n}const jM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AM=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],PM="6";try{window.__reactRouterVersion=PM}catch{}const LM=J.createContext({isTransitioning:!1}),TM="startTransition",f6=NL[TM];function EM(t){let{basename:e,children:n,future:i,window:r}=t,s=J.useRef();s.current==null&&(s.current=FE({window:r,v5Compat:!0}));let a=s.current,[o,l]=J.useState({action:a.action,location:a.location}),{v7_startTransition:c}=i||{},d=J.useCallback(g=>{c&&f6?f6(()=>l(g)):l(g)},[l,c]);return J.useLayoutEffect(()=>a.listen(d),[a,d]),J.useEffect(()=>wM(i),[i]),J.createElement(_M,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:i})}const MM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,On=J.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:g}=e,m=M9(e,jM),{basename:p}=J.useContext(du),x,b=!1;if(typeof c=="string"&&RM.test(c)&&(x=c,MM))try{let _=new URL(window.location.href),C=c.startsWith("//")?new URL(_.protocol+c):new URL(c),E=pf(C.pathname,p);C.origin===_.origin&&E!=null?c=E+C.search+C.hash:b=!0}catch{}let N=aM(c,{relative:r}),S=DM(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:r,viewTransition:g});function j(_){i&&i(_),_.defaultPrevented||S(_)}return J.createElement("a",R1({},m,{href:x||N,onClick:b||s?i:j,ref:n,target:l}))}),fd=J.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:d}=e,g=M9(e,AM),m=L2(l,{relative:g.relative}),p=pu(),x=J.useContext(j9),{navigator:b,basename:N}=J.useContext(du),S=x!=null&&IM(m)&&c===!0,j=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,_=p.pathname,C=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(_=_.toLowerCase(),C=C?C.toLowerCase():null,j=j.toLowerCase()),C&&N&&(C=pf(C,N)||C);const E=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let O=_===j||!a&&_.startsWith(j)&&_.charAt(E)==="/",U=C!=null&&(C===j||!a&&C.startsWith(j)&&C.charAt(j.length)==="/"),F={isActive:O,isPending:U,isTransitioning:S},R=O?i:void 0,M;typeof s=="function"?M=s(F):M=[s,O?"active":null,U?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(F):o;return J.createElement(On,R1({},g,{"aria-current":R,className:M,ref:n,style:T,to:l,viewTransition:c}),typeof d=="function"?d(F):d)});var jx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jx||(jx={}));var p6;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(p6||(p6={}));function FM(t){let e=J.useContext(A2);return e||Ni(!1),e}function DM(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=ca(),c=pu(),d=L2(t,{relative:a});return J.useCallback(g=>{if(kM(g,n)){g.preventDefault();let m=i!==void 0?i:M1(c)===M1(d);l(t,{replace:m,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,i,r,n,t,s,a,o])}function R9(t){let e=J.useRef(Cx(t)),n=J.useRef(!1),i=pu(),r=J.useMemo(()=>CM(i.search,n.current?null:e.current),[i.search]),s=ca(),a=J.useCallback((o,l)=>{const c=Cx(typeof o=="function"?o(r):o);n.current=!0,s("?"+c,l)},[s,r]);return[r,a]}function IM(t,e){e===void 0&&(e={});let n=J.useContext(LM);n==null&&Ni(!1);let{basename:i}=FM(jx.useViewTransitionState),r=L2(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=pf(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=pf(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Nx(r.pathname,a)!=null||Nx(r.pathname,s)!=null}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),g6=t=>{const e=BM(t);return e.charAt(0).toUpperCase()+e.slice(1)},F9=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),zM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=J.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>J.createElement("svg",{ref:l,...UM,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:F9("lucide",r),...!s&&!zM(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,d])=>J.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=J.forwardRef(({className:i,...r},s)=>J.createElement(VM,{ref:s,iconNode:e,className:F9(`lucide-${OM(g6(t))}`,`lucide-${t}`,i),...r}));return n.displayName=g6(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],D9=vt("activity",HM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],GM=vt("arrow-down",$M);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ax=vt("arrow-left",WM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],KM=vt("arrow-up",qM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],N3=vt("ban",XM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],bv=vt("bell",YM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],k3=vt("calendar",QM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ZM=vt("chart-column",JM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tR=vt("check",eR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zd=vt("chevron-down",nR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rR=vt("chevron-left",iR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],aR=vt("chevron-right",sR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],lR=vt("chromium",oR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Sd=vt("circle-alert",cR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],m6=vt("circle-check-big",uR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Px=vt("circle-check",hR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],F1=vt("circle-x",dR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],I9=vt("clock",fR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],gR=vt("crop",pR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ef=vt("crown",mR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zl=vt("download",vR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],xR=vt("ellipsis-vertical",yR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iu=vt("eye",bR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],_R=vt("facebook",wR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],O9=vt("file-down",SR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],kR=vt("file-image",NR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jR=vt("funnel",CR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],PR=vt("globe",AR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],TR=vt("heart",LR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vs=vt("image",ER);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wv=vt("info",MR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],FR=vt("layout-dashboard",RR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],D1=vt("loader-circle",DR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],B9=vt("lock-open",IR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Lx=vt("log-out",OR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],zR=vt("mail",BR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],v6=vt("maximize-2",UR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],HR=vt("menu",VR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],GR=vt("pencil",$R);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Tp=vt("plus",WR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qm=vt("refresh-cw",qR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],C3=vt("search",KR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],YR=vt("share-2",XR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],I1=vt("shield",QR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],j3=vt("square-pen",JR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Zo=vt("star",ZR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],z9=vt("toggle-left",eF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],U9=vt("toggle-right",tF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],V9=vt("trash-2",nF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rF=vt("trash",iF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],aF=vt("trending-up",sF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tg=vt("triangle-alert",oF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wh=vt("upload",lF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uF=vt("user-check",cF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],dF=vt("user-x",hF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],za=vt("user",fF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],A3=vt("users",pF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],mF=vt("users-round",gF);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_h=vt("x",vF),Zg="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net";class yF{async loginWithGoogle(){return new Promise((e,n)=>{const s=window.top.outerHeight/2+window.top.screenY-310,a=window.top.outerWidth/2+window.top.screenX-520/2,o=window.open(`${Zg}/api/auth/google`,"google-auth",`width=520,height=620,left=${a},top=${s},scrollbars=yes,resizable=yes`);if(!o||o.closed){n(new Error("Khng th m popup. Vui lng kim tra popup blocker."));return}const l=d=>{const g=new URL(Zg).origin;d.origin===g&&d.data==="auth:success"&&(o==null||o.close(),window.removeEventListener("message",l),e(!0))};window.addEventListener("message",l);const c=setInterval(()=>{o!=null&&o.closed&&(clearInterval(c),window.removeEventListener("message",l),n(new Error("Popup  ng")))},1e3)})}async getMe(){const e=await fetch(`${Zg}/api/auth/me`,{credentials:"include"});if(!e.ok)throw e.status===401?new Error("Not authenticated"):new Error(`Failed to get user info: ${e.status}`);const n=await e.json();return localStorage.setItem("kh_me",JSON.stringify(n)),window.dispatchEvent(new Event("kh_me_changed")),n}async logout(){try{await fetch(`${Zg}/api/auth/logout`,{method:"POST",credentials:"include"})}catch(e){console.error("Logout API error:",e)}finally{localStorage.removeItem("kh_me"),window.dispatchEvent(new Event("kh_me_changed"))}}isAdmin(){try{const e=JSON.parse(localStorage.getItem("kh_me")||"null");return(e==null?void 0:e.vaiTro)==="admin"}catch{return!1}}isAuthenticated(){try{const e=JSON.parse(localStorage.getItem("kh_me")||"null");return!!(e!=null&&e.email)}catch{return!1}}async refreshMe(){try{return await this.getMe()}catch(e){throw console.error("Failed to refresh user info:",e),localStorage.removeItem("kh_me"),window.dispatchEvent(new Event("kh_me_changed")),e}}}const Bd=new yF,xF="https://localhost:7090".replace(/\/$/,"");function P3({onClose:t}){const e=ca(),[n,i]=J.useState(!1),[r,s]=J.useState(()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}}),[a,o]=J.useState(""),l=J.useRef(null),c=J.useRef(null);J.useEffect(()=>{const p=async x=>{console.log(" Message from:",x.origin,x.data);const b=new URL(xF).origin;if(x.origin===b&&x.data==="auth:success")try{i(!0),console.log(" Getting user info...");const N=await Bd.getMe();console.log(" User info received:",N),s(N),d()}catch(N){console.error(" Failed to get user info:",N),o("Khng th ly thng tin ngi dng")}finally{i(!1),l.current&&!l.current.closed&&l.current.close(),l.current=null,c.current&&(clearInterval(c.current),c.current=null)}};return window.addEventListener("message",p),document.body.style.overflow="hidden",()=>{window.removeEventListener("message",p),document.body.style.overflow="auto",c.current&&clearInterval(c.current)}},[]);const d=()=>{t?t():window.history.length>1?e(-1):e("/")};J.useEffect(()=>{const p=x=>{x.key==="Escape"&&d()};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[]);const g=async()=>{try{i(!0),o(""),console.log(" Starting Google OAuth..."),await Bd.loginWithGoogle(),console.log(" OAuth popup completed");const p=await Bd.getMe();console.log(" User info received:",p),s(p),d()}catch(p){console.error(" Login error:",p),o(p.message||"ng nhp tht bi. Vui lng th li.")}finally{i(!1)}},m=async()=>{try{await Bd.logout(),s(null),d()}catch(p){console.error(" Logout error:",p),o("ng xut tht bi")}};return h.jsxs("div",{className:"fixed inset-0 z-[100]",children:[h.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px]",onClick:d}),h.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-16 sm:top-20 md:top-24 w-full max-w-md px-4",children:h.jsxs("div",{className:"relative rounded-2xl bg-white shadow-xl",children:[h.jsx("button",{onClick:d,className:"absolute right-3 top-3 p-2 rounded-full hover:bg-black/5","aria-label":"ng",children:h.jsx(_h,{size:18})}),h.jsx("div",{className:"p-6 pt-10",children:r?h.jsxs("div",{className:"space-y-4 text-center",children:[h.jsx("div",{className:"text-sm text-gray-500",children:"Bn  ng nhp"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"font-medium",children:r.name||r.tenHienThi}),h.jsx("div",{className:"text-sm text-gray-600",children:r.email}),r.vaiTro&&h.jsx("div",{className:`text-xs font-medium ${r.vaiTro==="admin"?"text-purple-600":"text-blue-600"}`,children:r.vaiTro==="admin"?" Qun tr vin":r.vaiTro})]}),h.jsxs("div",{className:"flex gap-2 pt-2",children:[h.jsx("button",{onClick:m,className:"flex-1 border border-gray-300 rounded-lg py-2 hover:bg-gray-50 transition",children:"ng xut"}),h.jsx("button",{onClick:d,className:"flex-1 bg-blue-600 text-white rounded-lg py-2 hover:bg-blue-700 transition",children:"ng"})]})]}):h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4",children:h.jsx(I1,{className:"w-8 h-8 text-white"})}),h.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"ng nhp"}),h.jsx("p",{className:"text-sm text-slate-600 mt-2 mb-6",children:"ng nhp  s dng y  tnh nng TrendyFrame"}),a&&h.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:h.jsx("p",{className:"text-sm text-red-600",children:a})}),h.jsxs("button",{onClick:g,disabled:n,className:"w-full flex items-center justify-center gap-3 bg-white border border-slate-300 rounded-xl px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition",children:[n?h.jsx(D1,{className:"w-5 h-5 animate-spin"}):h.jsx(lR,{className:"w-5 h-5"}),n?"ang ng nhp...":"ng nhp bng Google"]}),h.jsx("div",{className:"mt-6",children:h.jsxs("p",{className:"text-xs text-slate-500",children:["Bng vic ng nhp, bn ng  vi"," ",h.jsx("a",{href:"/terms",className:"text-blue-600 hover:underline",children:"iu khon"})," ","v"," ",h.jsx("a",{href:"/privacy",className:"text-blue-600 hover:underline",children:"Chnh sch bo mt"})]})})]})})]})})]})}function bF(){const[t,e]=J.useState(!1),[n,i]=J.useState(!1),[r,s]=J.useState(null),[a,o]=J.useState(!1),[l,c]=J.useState(!1),[d,g]=J.useState(!1),[m,p]=J.useState(!1),x=J.useRef(null),b=J.useRef(null),N=pu(),S=ca(),j=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}},_=async()=>{try{p(!0);const R=await Bd.getMe();s(R),console.log(" User info refreshed:",R)}catch(R){console.error(" Failed to refresh user info:",R),s(null),localStorage.removeItem("kh_me")}finally{p(!1)}};J.useEffect(()=>{const R=j();s(R),R&&_()},[]),J.useEffect(()=>{const R=j();JSON.stringify(R)!==JSON.stringify(r)&&s(R)},[N.pathname]),J.useEffect(()=>{const R=()=>{const M=j();s(M),console.log(" User synced from event:",M)};return window.addEventListener("kh_me_changed",R),window.addEventListener("storage",R),()=>{window.removeEventListener("kh_me_changed",R),window.removeEventListener("storage",R)}},[]),J.useEffect(()=>{const R=()=>i(window.scrollY>8);return R(),window.addEventListener("scroll",R,{passive:!0}),()=>window.removeEventListener("scroll",R)},[]),J.useEffect(()=>{e(!1),o(!1),c(!1)},[N.pathname]),J.useEffect(()=>{console.log("=== DEBUG USER DATA ==="),console.log("localStorage:",j()),console.log("me state:",r),console.log("vaiTro:",r==null?void 0:r.vaiTro),console.log("email:",r==null?void 0:r.email);const R=(r==null?void 0:r.vaiTro)==="admin";console.log("isAdmin:",R)},[r]),J.useEffect(()=>(document.body.style.overflow=t?"hidden":"",()=>{document.body.style.overflow=""}),[t]),J.useEffect(()=>{const R=M=>{x.current&&!x.current.contains(M.target)&&o(!1),b.current&&!b.current.contains(M.target)&&c(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),J.useEffect(()=>{const R=()=>{window.innerWidth>=768&&e(!1)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const C=async()=>{try{await Bd.logout(),s(null),o(!1),S("/"),console.log(" Logout successful")}catch(R){console.error(" Logout error:",R),s(null),o(!1),S("/")}},E=(r==null?void 0:r.name)||(r==null?void 0:r.tenHienThi)||"User",O=(r==null?void 0:r.vaiTro)==="admin",U=!!r,F=(r==null?void 0:r.picture)||`https://ui-avatars.com/api/?name=${encodeURIComponent(E)}&background=0D8ABC&color=fff&size=96`;return h.jsxs(h.Fragment,{children:[h.jsxs("header",{className:["fixed top-0 inset-x-0 z-50","transition-all duration-300","bg-white/30","supports-[backdrop-filter]:bg-white/20 supports-[backdrop-filter]:backdrop-blur-xl",n?"shadow-md":"shadow-none"].join(" "),children:[h.jsxs("nav",{className:"max-w-7xl mx-auto px-6 py-3 flex items-center justify-between",children:[h.jsx(On,{to:"/",className:"flex items-center gap-2 select-none","aria-label":"Khung Hnh",children:h.jsx("img",{src:"/frames/logo.png",alt:"Logo Khung Hnh",className:"h-14 w-14 object-contain"})}),h.jsxs("div",{className:"hidden md:flex items-center gap-8 text-gray-800 font-medium",children:[h.jsxs("div",{className:"relative",ref:b,children:[h.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-1 text-gray-800 hover:text-blue-600 font-medium transition",children:["Cng c",h.jsx(Zd,{size:16,className:`transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&h.jsxs("div",{className:"absolute left-0 mt-3 w-60 bg-white/95 backdrop-blur-sm border border-gray-200 shadow-xl rounded-xl py-2 z-50",children:[h.jsx("div",{className:"absolute -top-2 left-6 w-4 h-4 bg-white border-l border-t border-gray-200 rotate-45"}),[{to:"/compress",title:"Nn nh",desc:"Gim dung lng nhanh chng"},{to:"/resize",title:"Thay i kch thc",desc:"Ty chnh chiu rng v cao"},{to:"/image-to-pdf",title:"nh sang PDF",desc:"Chuyn i nh thnh file PDF"}].map(R=>h.jsxs(On,{to:R.to,onClick:()=>c(!1),className:"block px-4 py-2.5 hover:bg-blue-50/70 transition rounded-lg group",children:[h.jsx("div",{className:"font-semibold text-gray-800 group-hover:text-blue-700",children:R.title}),h.jsx("div",{className:"text-xs text-gray-500 group-hover:text-blue-600",children:R.desc})]},R.to))]})]}),h.jsx(fd,{to:"/trending",className:"hover:text-blue-600 transition",children:"Xu hng"}),U&&h.jsx(fd,{to:"/create-frame",className:"hover:text-blue-600 transition",children:"To khung"}),O&&h.jsx(fd,{to:"/admin",className:"hover:text-purple-700 transition text-purple-600 font-semibold flex items-center gap-1",children:" Qun tr"}),U?h.jsxs("div",{className:"relative",ref:x,children:[h.jsxs("button",{onClick:()=>o(!a),className:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-100/50 transition",children:[h.jsx("img",{src:F,alt:`Avatar ca ${E}`,className:"w-10 h-10 rounded-full border object-cover",referrerPolicy:"no-referrer",onError:R=>{R.currentTarget.onerror=null,R.currentTarget.src="/frames/icon/default-avatar.png"}}),m?h.jsx(qm,{size:16,className:"text-blue-600 animate-spin"}):h.jsx(Zd,{size:16,className:`text-gray-600 transition-transform ${a?"rotate-180":""}`})]}),a&&h.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[h.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-white border-l border-t border-gray-200 rotate-45"}),h.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[h.jsx("div",{className:"font-medium text-gray-900",children:E}),h.jsx("div",{className:"text-sm text-gray-500",children:r==null?void 0:r.email}),(r==null?void 0:r.vaiTro)&&h.jsx("div",{className:`text-xs font-medium mt-1 ${r.vaiTro==="admin"?"text-purple-600":"text-blue-600"}`,children:r.vaiTro==="admin"?" Qun tr vin":` ${r.vaiTro}`})]}),h.jsxs(On,{to:"/profile",className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition",onClick:()=>o(!1),children:[h.jsx(za,{size:16}),h.jsx("span",{children:"Ti khon"})]}),h.jsxs(On,{to:"/my-frames",className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition",onClick:()=>o(!1),children:[h.jsx(vs,{size:16}),h.jsx("span",{children:"Khung hnh ca ti"})]}),O&&h.jsxs(On,{to:"/admin",className:"flex items-center gap-3 px-4 py-2 text-purple-600 hover:bg-purple-50 transition",onClick:()=>o(!1),children:[h.jsx("span",{className:"text-sm",children:""}),h.jsx("span",{children:"Trang qun tr"})]}),h.jsxs("button",{onClick:async()=>{o(!1),await _()},disabled:m,className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition w-full text-left disabled:opacity-50",children:[h.jsx(qm,{size:16,className:m?"animate-spin":""}),h.jsx("span",{children:"Lm mi thng tin"})]}),h.jsx("hr",{className:"my-2"}),h.jsxs("button",{onClick:C,className:"flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 transition w-full text-left",children:[h.jsx(Lx,{size:16}),h.jsx("span",{children:"ng xut"})]})]})]}):h.jsx("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 transition",children:"ng nhp"})]}),h.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-200/60 transition",onClick:()=>e(R=>!R),"aria-label":"Menu","aria-expanded":t,"aria-controls":"mobile-menu",children:t?h.jsx(_h,{size:28}):h.jsx(HR,{size:28})})]}),t&&h.jsxs("div",{id:"mobile-menu",className:"md:hidden px-6 pb-5 pt-2 space-y-4 bg-white/95 supports-[backdrop-filter]:bg-white/80 supports-[backdrop-filter]:backdrop-blur-md border-t border-gray-200",children:[h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>c(!l),className:"flex items-center justify-between w-full text-gray-800 py-2",children:[h.jsx("span",{children:"Cng c"}),h.jsx(Zd,{size:16,className:`transition-transform ${l?"rotate-180":""}`})]}),l&&h.jsxs("div",{className:"pl-4 space-y-2 mt-2",children:[h.jsxs(On,{to:"/resize",onClick:()=>e(!1),className:"flex items-center gap-2 text-gray-600 py-2",children:[h.jsx(gR,{size:16}),h.jsx("span",{children:"Thay i kch thc"})]}),h.jsxs(On,{to:"/image-to-pdf",onClick:()=>e(!1),className:"flex items-center gap-2 text-gray-600 py-2",children:[h.jsx(kR,{size:16}),h.jsx("span",{children:"nh sang PDF"})]}),h.jsxs(On,{to:"/tools",onClick:()=>e(!1),className:"flex items-center gap-2 text-blue-600 py-2 font-medium",children:[h.jsx(vs,{size:16}),h.jsx("span",{children:"Xem tt c"})]})]})]}),h.jsx(fd,{onClick:()=>e(!1),to:"/trending",className:"block text-gray-800 py-2",children:"Xu hng"}),U&&h.jsx(fd,{onClick:()=>e(!1),to:"/create-frame",className:"block text-gray-800 py-2",children:"To khung"}),O&&h.jsx(fd,{onClick:()=>e(!1),to:"/admin",className:"block text-purple-600 font-semibold py-2",children:" Qun tr"}),U?h.jsxs("div",{className:"space-y-3 pt-3",children:[h.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-200",children:[h.jsx("img",{src:F,alt:"avatar",className:"w-12 h-12 rounded-full border object-cover",referrerPolicy:"no-referrer"}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("div",{className:"font-medium text-gray-900 truncate",children:E}),h.jsx("div",{className:"text-sm text-gray-500 truncate",children:r==null?void 0:r.email}),(r==null?void 0:r.vaiTro)&&h.jsx("div",{className:`text-xs font-medium ${r.vaiTro==="admin"?"text-purple-600":"text-blue-600"}`,children:r.vaiTro==="admin"?" Qun tr vin":r.vaiTro})]}),h.jsx("button",{onClick:_,disabled:m,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50",children:h.jsx(qm,{size:16,className:m?"animate-spin":""})})]}),h.jsxs(On,{to:"/profile",onClick:()=>e(!1),className:"flex items-center gap-3 text-gray-700 py-2",children:[h.jsx(za,{size:16}),h.jsx("span",{children:"Ti khon"})]}),h.jsxs(On,{to:"/my-frames",onClick:()=>e(!1),className:"flex items-center gap-3 text-gray-700 py-2",children:[h.jsx(vs,{size:16}),h.jsx("span",{children:"Khung hnh ca ti"})]}),h.jsxs("button",{onClick:C,className:"flex items-center gap-3 text-red-600 py-2 w-full text-left",children:[h.jsx(Lx,{size:16}),h.jsx("span",{children:"ng xut"})]})]}):h.jsx("button",{onClick:()=>{e(!1),g(!0)},className:"bg-blue-600 text-white px-5 py-2 rounded-lg inline-block",children:"ng nhp"})]})]}),h.jsx("div",{className:"h-[64px]"}),d&&h.jsx(P3,{onClose:()=>g(!1)})]})}function wF(){const t=new Date().getFullYear();return h.jsxs("footer",{className:"relative mt-16 text-white",children:[h.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-[#233246] via-[#1f2a3a] to-[#101826]"}),h.jsx("div",{className:"pointer-events-none absolute inset-x-0 -top-8 -z-10 h-24 opacity-70 blur-2xl [background:radial-gradient(60%_60%_at_50%_0%,rgba(255,255,255,0.18),rgba(255,255,255,0))]"}),h.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[h.jsxs("div",{className:"grid gap-10 md:grid-cols-4",children:[h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"h-10 w-10 rounded-xl bg-white/15 ring-1 ring-white/20 grid place-items-center text-lg shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:h.jsx("span",{children:""})}),h.jsx("span",{className:"text-2xl font-extrabold tracking-tight",children:"Khunghinh"})]}),h.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg border border-white/20 bg-white/10 px-4 py-2 text-sm backdrop-blur transition hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40","aria-label":"i ngn ng",type:"button",children:[h.jsx(PR,{className:"h-4 w-4"}),"Ting Vit ",h.jsx("span",{"aria-hidden":!0,className:"opacity-70",children:""})]}),h.jsx("p",{className:"text-sm text-white/70 leading-relaxed",children:"To & qun l khung hnh trc tuyn. Nhanh, nh, thn thin."})]}),h.jsxs("nav",{"aria-label":"Khunghinh",className:"text-sm",children:[h.jsx("h3",{className:"mb-3 font-semibold tracking-wide text-white/90",children:"Khunghinh"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Lin h"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"iu khon s dng"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Chnh sch bo mt"})})]})]}),h.jsxs("nav",{"aria-label":"Cng c",className:"text-sm",children:[h.jsx("h3",{className:"mb-3 font-semibold tracking-wide text-white/90",children:"Cng c"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:h.jsx("a",{href:"/editor",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"To khung hnh"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Xa nn"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"To vng trong sut"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Nn hnh nh"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Thay i kch thc"})})]})]}),h.jsxs("div",{className:"text-sm",children:[h.jsx("h3",{className:"mb-3 font-semibold tracking-wide text-white/90",children:"Theo di chng ti"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("a",{href:"#","aria-label":"Facebook Page",className:"group rounded-full p-3 ring-1 ring-white/20 bg-white/10 backdrop-blur transition hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40",children:h.jsx(_R,{className:"h-5 w-5 transition group-hover:scale-110"})}),h.jsx("a",{href:"#","aria-label":"Facebook Group",className:"group rounded-full p-3 ring-1 ring-white/20 bg-white/10 backdrop-blur transition hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40",children:h.jsx(mF,{className:"h-5 w-5 transition group-hover:scale-110"})})]}),h.jsxs("div",{className:"mt-2 flex gap-8 text-xs text-white/70",children:[h.jsx("span",{children:"Page"}),h.jsx("span",{children:"Group"})]})]})]}),h.jsxs("div",{className:"mt-10",children:[h.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-white/30 to-transparent"}),h.jsxs("div",{className:"mt-4 text-center text-sm text-white/80",children:[h.jsxs("p",{children:["2016",t,"  ",h.jsx("span",{className:"font-semibold",children:"KhungHinh"}),". All rights reserved."]}),h.jsxs("p",{className:"mt-1 text-white/70",children:["Thit k & pht trin bi ",h.jsx("span",{className:"font-medium",children:"Nguyn L Quc Lm"})," & ",h.jsx("span",{className:"font-medium",children:"Nguyn Vn Trng"}),"."]})]})]})]})]})}const H9=J.createContext({});function _F(t){const e=J.useRef(null);return e.current===null&&(e.current=t()),e.current}const L3=J.createContext(null),$9=J.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function SF(t=!0){const e=J.useContext(L3);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=J.useId();J.useEffect(()=>{t&&r(s)},[t]);const a=J.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,a]:[!0]}const T3=typeof window<"u",NF=T3?J.useLayoutEffect:J.useEffect,ra=t=>t;let G9=ra;function E3(t){let e;return()=>(e===void 0&&(e=t()),e)}const gf=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},$l=t=>t*1e3,Gl=t=>t/1e3,kF={useManualTiming:!1};function CF(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){s.has(c)&&(l.schedule(c),t()),c(a)}const l={schedule:(c,d=!1,g=!1)=>{const p=g&&i?e:n;return d&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(a=c,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(o),e.clear(),i=!1,r&&(r=!1,l.process(c))}};return l}const em=["read","resolveKeyframes","update","preRender","render","postRender"],jF=40;function W9(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=em.reduce((S,j)=>(S[j]=CF(s),S),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:g,postRender:m}=a,p=()=>{const S=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(S-r.timestamp,jF),1),r.timestamp=S,r.isProcessing=!0,o.process(r),l.process(r),c.process(r),d.process(r),g.process(r),m.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(p))},x=()=>{n=!0,i=!0,r.isProcessing||t(p)};return{schedule:em.reduce((S,j)=>{const _=a[j];return S[j]=(C,E=!1,O=!1)=>(n||x(),_.schedule(C,E,O)),S},{}),cancel:S=>{for(let j=0;j<em.length;j++)a[em[j]].cancel(S)},state:r,steps:a}}const{schedule:Jn,cancel:ru,state:Tr,steps:_v}=W9(typeof requestAnimationFrame<"u"?requestAnimationFrame:ra,!0),q9=J.createContext({strict:!1}),y6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mf={};for(const t in y6)mf[t]={isEnabled:e=>y6[t].some(n=>!!e[n])};function AF(t){for(const e in t)mf[e]={...mf[e],...t[e]}}const PF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function O1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||PF.has(t)}let K9=t=>!O1(t);function LF(t){t&&(K9=e=>e.startsWith("on")?!O1(e):t(e))}try{LF(require("@emotion/is-prop-valid").default)}catch{}function TF(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(K9(r)||n===!0&&O1(r)||!e&&!O1(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function EF(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const T2=J.createContext({});function Ep(t){return typeof t=="string"||Array.isArray(t)}function E2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const M3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],R3=["initial",...M3];function M2(t){return E2(t.animate)||R3.some(e=>Ep(t[e]))}function X9(t){return!!(M2(t)||t.variants)}function MF(t,e){if(M2(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ep(n)?n:void 0,animate:Ep(i)?i:void 0}}return t.inherit!==!1?e:{}}function RF(t){const{initial:e,animate:n}=MF(t,J.useContext(T2));return J.useMemo(()=>({initial:e,animate:n}),[x6(e),x6(n)])}function x6(t){return Array.isArray(t)?t.join(" "):t}const FF=Symbol.for("motionComponentSymbol");function zd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function DF(t,e,n){return J.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):zd(n)&&(n.current=i))},[e])}const F3=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IF="framerAppearId",Y9="data-"+F3(IF),{schedule:D3}=W9(queueMicrotask,!1),Q9=J.createContext({});function OF(t,e,n,i,r){var s,a;const{visualElement:o}=J.useContext(T2),l=J.useContext(q9),c=J.useContext(L3),d=J.useContext($9).reducedMotion,g=J.useRef(null);i=i||l.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=g.current,p=J.useContext(Q9);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&BF(g.current,n,r,p);const x=J.useRef(!1);J.useInsertionEffect(()=>{m&&x.current&&m.update(n,c)});const b=n[Y9],N=J.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,b)));return NF(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),D3.render(m.render),N.current&&m.animationState&&m.animationState.animateChanges())}),J.useEffect(()=>{m&&(!N.current&&m.animationState&&m.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,b)}),N.current=!1))}),m}function BF(t,e,n,i){const{layoutId:r,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:J9(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||o&&zd(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function J9(t){if(t)return t.options.allowProjection!==!1?t.projection:J9(t.parent)}function zF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,a;t&&AF(t);function o(c,d){let g;const m={...J.useContext($9),...c,layoutId:UF(c)},{isStatic:p}=m,x=RF(c),b=i(c,p);if(!p&&T3){VF();const N=HF(m);g=N.MeasureLayout,x.visualElement=OF(r,b,m,e,N.ProjectionNode)}return h.jsxs(T2.Provider,{value:x,children:[g&&x.visualElement?h.jsx(g,{visualElement:x.visualElement,...m}):null,n(r,c,DF(b,x.visualElement,d),b,p,x.visualElement)]})}o.displayName=`motion.${typeof r=="string"?r:`create(${(a=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&a!==void 0?a:""})`}`;const l=J.forwardRef(o);return l[FF]=r,l}function UF({layoutId:t}){const e=J.useContext(H9).id;return e&&t!==void 0?e+"-"+t:t}function VF(t,e){J.useContext(q9).strict}function HF(t){const{drag:e,layout:n}=mf;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const $F=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I3(t){return typeof t!="string"||t.includes("-")?!1:!!($F.indexOf(t)>-1||/[A-Z]/u.test(t))}function b6(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function O3(t,e,n,i){if(typeof e=="function"){const[r,s]=b6(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=b6(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const Tx=t=>Array.isArray(t),GF=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),WF=t=>Tx(t)?t[t.length-1]||0:t,ns=t=>!!(t&&t.getVelocity);function Km(t){const e=ns(t)?t.get():t;return GF(e)?e.toValue():e}function qF({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const a={latestValues:KF(i,r,s,t),renderState:e()};return n&&(a.onMount=o=>n({props:i,current:o,...a}),a.onUpdate=o=>n(o)),a}const Z9=t=>(e,n)=>{const i=J.useContext(T2),r=J.useContext(L3),s=()=>qF(t,e,i,r);return n?s():_F(s)};function KF(t,e,n,i){const r={},s=i(t,{});for(const m in s)r[m]=Km(s[m]);let{initial:a,animate:o}=t;const l=M2(t),c=X9(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const g=d?o:a;if(g&&typeof g!="boolean"&&!E2(g)){const m=Array.isArray(g)?g:[g];for(let p=0;p<m.length;p++){const x=O3(t,m[p]);if(x){const{transitionEnd:b,transition:N,...S}=x;for(const j in S){let _=S[j];if(Array.isArray(_)){const C=d?_.length-1:0;_=_[C]}_!==null&&(r[j]=_)}for(const j in b)r[j]=b[j]}}}return r}const Af=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ah=new Set(Af),eC=t=>e=>typeof e=="string"&&e.startsWith(t),tC=eC("--"),XF=eC("var(--"),B3=t=>XF(t)?YF.test(t.split("/*")[0].trim()):!1,YF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ql=(t,e,n)=>n>e?e:n<t?t:n,Pf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mp={...Pf,transform:t=>Ql(0,1,t)},tm={...Pf,default:1},ng=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tc=ng("deg"),il=ng("%"),kt=ng("px"),QF=ng("vh"),JF=ng("vw"),w6={...il,parse:t=>il.parse(t)/100,transform:t=>il.transform(t*100)},ZF={borderWidth:kt,borderTopWidth:kt,borderRightWidth:kt,borderBottomWidth:kt,borderLeftWidth:kt,borderRadius:kt,radius:kt,borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomRightRadius:kt,borderBottomLeftRadius:kt,width:kt,maxWidth:kt,height:kt,maxHeight:kt,top:kt,right:kt,bottom:kt,left:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,backgroundPositionX:kt,backgroundPositionY:kt},eD={rotate:Tc,rotateX:Tc,rotateY:Tc,rotateZ:Tc,scale:tm,scaleX:tm,scaleY:tm,scaleZ:tm,skew:Tc,skewX:Tc,skewY:Tc,distance:kt,translateX:kt,translateY:kt,translateZ:kt,x:kt,y:kt,z:kt,perspective:kt,transformPerspective:kt,opacity:Mp,originX:w6,originY:w6,originZ:kt},_6={...Pf,transform:Math.round},z3={...ZF,...eD,zIndex:_6,size:kt,fillOpacity:Mp,strokeOpacity:Mp,numOctaves:_6},tD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nD=Af.length;function iD(t,e,n){let i="",r=!0;for(let s=0;s<nD;s++){const a=Af[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=nC(o,z3[a]);if(!l){r=!1;const d=tD[a]||a;i+=`${d}(${c}) `}n&&(e[a]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function U3(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(Ah.has(l)){a=!0;continue}else if(tC(l)){r[l]=c;continue}else{const d=nC(c,z3[l]);l.startsWith("origin")?(o=!0,s[l]=d):i[l]=d}}if(e.transform||(a||n?i.transform=iD(e,t.transform,n):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;i.transformOrigin=`${l} ${c} ${d}`}}const rD={offset:"stroke-dashoffset",array:"stroke-dasharray"},sD={offset:"strokeDashoffset",array:"strokeDasharray"};function aD(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?rD:sD;t[s.offset]=kt.transform(-i);const a=kt.transform(e),o=kt.transform(n);t[s.array]=`${a} ${o}`}function S6(t,e,n){return typeof t=="string"?t:kt.transform(e+n*t)}function oD(t,e,n){const i=S6(e,t.x,t.width),r=S6(n,t.y,t.height);return`${i} ${r}`}function V3(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},d,g){if(U3(t,c,g),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:x}=t;m.transform&&(x&&(p.transform=m.transform),delete m.transform),x&&(r!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=oD(x,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),i!==void 0&&(m.scale=i),a!==void 0&&aD(m,a,o,l,!1)}const H3=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),iC=()=>({...H3(),attrs:{}}),$3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function rC(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const sC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aC(t,e,n,i){rC(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(sC.has(r)?r:F3(r),e.attrs[r])}const B1={};function lD(t){Object.assign(B1,t)}function oC(t,{layout:e,layoutId:n}){return Ah.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!B1[t]||t==="opacity")}function G3(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(ns(r[a])||e.style&&ns(e.style[a])||oC(a,t)||((i=n==null?void 0:n.getValue(a))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}function lC(t,e,n){const i=G3(t,e,n);for(const r in t)if(ns(t[r])||ns(e[r])){const s=Af.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}function cD(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const N6=["x","y","width","height","cx","cy","r"],uD={useVisualState:Z9({scrapeMotionValuesFromProps:lC,createRenderState:iC,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const o in r)if(Ah.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<N6.length;o++){const l=N6[o];t[l]!==e[l]&&(a=!0)}a&&Jn.read(()=>{cD(n,i),Jn.render(()=>{V3(i,r,$3(n.tagName),t.transformTemplate),aC(n,i)})})}})},hD={useVisualState:Z9({scrapeMotionValuesFromProps:G3,createRenderState:H3})};function cC(t,e,n){for(const i in e)!ns(e[i])&&!oC(i,n)&&(t[i]=e[i])}function dD({transformTemplate:t},e){return J.useMemo(()=>{const n=H3();return U3(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fD(t,e){const n=t.style||{},i={};return cC(i,n,t),Object.assign(i,dD(t,e)),i}function pD(t,e){const n={},i=fD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function gD(t,e,n,i){const r=J.useMemo(()=>{const s=iC();return V3(s,e,$3(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};cC(s,t.style,t),r.style={...s,...r.style}}return r}function mD(t=!1){return(n,i,r,{latestValues:s},a)=>{const l=(I3(n)?gD:pD)(i,s,a,n),c=TF(i,typeof n=="string",t),d=n!==J.Fragment?{...c,...l,ref:r}:{},{children:g}=i,m=J.useMemo(()=>ns(g)?g.get():g,[g]);return J.createElement(n,{...d,children:m})}}function vD(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...I3(i)?uD:hD,preloadedFeatures:t,useRender:mD(r),createVisualElement:e,Component:i};return zF(a)}}function uC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function R2(t,e,n){const i=t.getProps();return O3(i,e,n!==void 0?n:i.custom,t)}const yD=E3(()=>window.ScrollTimeline!==void 0);class xD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(yD()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class bD extends xD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function W3(t,e){return t?t[e]||t.default||t:void 0}const Ex=2e4;function hC(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Ex;)e+=n,i=t.next(e);return e>=Ex?1/0:e}function q3(t){return typeof t=="function"}function k6(t,e){t.timeline=e,t.onfinish=null}const K3=t=>Array.isArray(t)&&typeof t[0]=="number",wD={linearEasing:void 0};function _D(t,e){const n=E3(t);return()=>{var i;return(i=wD[e])!==null&&i!==void 0?i:n()}}const z1=_D(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dC=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(gf(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function fC(t){return!!(typeof t=="function"&&z1()||!t||typeof t=="string"&&(t in Mx||z1())||K3(t)||Array.isArray(t)&&t.every(fC))}const I0=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Mx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:I0([0,.65,.55,1]),circOut:I0([.55,0,1,.45]),backIn:I0([.31,.01,.66,-.59]),backOut:I0([.33,1.53,.69,.99])};function pC(t,e){if(t)return typeof t=="function"&&z1()?dC(t,e):K3(t)?I0(t):Array.isArray(t)?t.map(n=>pC(n,e)||Mx.easeOut):Mx[t]}const po={x:!1,y:!1};function gC(){return po.x||po.y}function SD(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function mC(t,e){const n=SD(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function C6(t){return e=>{e.pointerType==="touch"||gC()||t(e)}}function ND(t,e,n={}){const[i,r,s]=mC(t,n),a=C6(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const d=C6(g=>{c(g),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,r)});return i.forEach(o=>{o.addEventListener("pointerenter",a,r)}),s}const vC=(t,e)=>e?t===e?!0:vC(t,e.parentElement):!1,X3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CD(t){return kD.has(t.tagName)||t.tabIndex!==-1}const O0=new WeakSet;function j6(t){return e=>{e.key==="Enter"&&t(e)}}function Sv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jD=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=j6(()=>{if(O0.has(n))return;Sv(n,"down");const r=j6(()=>{Sv(n,"up")}),s=()=>Sv(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function A6(t){return X3(t)&&!gC()}function AD(t,e,n={}){const[i,r,s]=mC(t,n),a=o=>{const l=o.currentTarget;if(!A6(o)||O0.has(l))return;O0.add(l);const c=e(o),d=(p,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",m),!(!A6(p)||!O0.has(l))&&(O0.delete(l),typeof c=="function"&&c(p,{success:x}))},g=p=>{d(p,n.useGlobalTarget||vC(l,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",m,r)};return i.forEach(o=>{!CD(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,r),o.addEventListener("focus",c=>jD(c,r),r)}),s}function PD(t){return t==="x"||t==="y"?po[t]?null:(po[t]=!0,()=>{po[t]=!1}):po.x||po.y?null:(po.x=po.y=!0,()=>{po.x=po.y=!1})}const yC=new Set(["width","height","top","left","right","bottom",...Af]);let Xm;function LD(){Xm=void 0}const rl={now:()=>(Xm===void 0&&rl.set(Tr.isProcessing||kF.useManualTiming?Tr.timestamp:performance.now()),Xm),set:t=>{Xm=t,queueMicrotask(LD)}};function Y3(t,e){t.indexOf(e)===-1&&t.push(e)}function Q3(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class J3{constructor(){this.subscriptions=[]}add(e){return Y3(this.subscriptions,e),()=>Q3(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function xC(t,e){return e?t*(1e3/e):0}const P6=30,TD=t=>!isNaN(parseFloat(t));class ED{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=rl.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=TD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new J3);const i=this.events[e].add(n);return e==="change"?()=>{i(),Jn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>P6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,P6);return xC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rp(t,e){return new ED(t,e)}function MD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Rp(n))}function RD(t,e){const n=R2(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const a in s){const o=WF(s[a]);MD(t,a,o)}}function FD(t){return!!(ns(t)&&t.add)}function Rx(t,e){const n=t.getValue("willChange");if(FD(n))return n.add(e)}function bC(t){return t.props[Y9]}const wC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,DD=1e-7,ID=12;function OD(t,e,n,i,r){let s,a,o=0;do a=e+(n-e)/2,s=wC(a,i,r)-t,s>0?n=a:e=a;while(Math.abs(s)>DD&&++o<ID);return a}function ig(t,e,n,i){if(t===e&&n===i)return ra;const r=s=>OD(s,0,1,t,n);return s=>s===0||s===1?s:wC(r(s),e,i)}const _C=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SC=t=>e=>1-t(1-e),NC=ig(.33,1.53,.69,.99),Z3=SC(NC),kC=_C(Z3),CC=t=>(t*=2)<1?.5*Z3(t):.5*(2-Math.pow(2,-10*(t-1))),eb=t=>1-Math.sin(Math.acos(t)),jC=SC(eb),AC=_C(eb),PC=t=>/^0[^.\s]+$/u.test(t);function BD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||PC(t):!0}const ep=t=>Math.round(t*1e5)/1e5,tb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zD(t){return t==null}const UD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nb=(t,e)=>n=>!!(typeof n=="string"&&UD.test(n)&&n.startsWith(t)||e&&!zD(n)&&Object.prototype.hasOwnProperty.call(n,e)),LC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,a,o]=i.match(tb);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},VD=t=>Ql(0,255,t),Nv={...Pf,transform:t=>Math.round(VD(t))},oh={test:nb("rgb","red"),parse:LC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Nv.transform(t)+", "+Nv.transform(e)+", "+Nv.transform(n)+", "+ep(Mp.transform(i))+")"};function HD(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Fx={test:nb("#"),parse:HD,transform:oh.transform},Ud={test:nb("hsl","hue"),parse:LC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+il.transform(ep(e))+", "+il.transform(ep(n))+", "+ep(Mp.transform(i))+")"},es={test:t=>oh.test(t)||Fx.test(t)||Ud.test(t),parse:t=>oh.test(t)?oh.parse(t):Ud.test(t)?Ud.parse(t):Fx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?oh.transform(t):Ud.transform(t)},$D=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(tb))===null||e===void 0?void 0:e.length)||0)+(((n=t.match($D))===null||n===void 0?void 0:n.length)||0)>0}const TC="number",EC="color",WD="var",qD="var(",L6="${}",KD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fp(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const o=e.replace(KD,l=>(es.test(l)?(i.color.push(s),r.push(EC),n.push(es.parse(l))):l.startsWith(qD)?(i.var.push(s),r.push(WD),n.push(l)):(i.number.push(s),r.push(TC),n.push(parseFloat(l))),++s,L6)).split(L6);return{values:n,split:o,indexes:i,types:r}}function MC(t){return Fp(t).values}function RC(t){const{split:e,types:n}=Fp(t),i=e.length;return r=>{let s="";for(let a=0;a<i;a++)if(s+=e[a],r[a]!==void 0){const o=n[a];o===TC?s+=ep(r[a]):o===EC?s+=es.transform(r[a]):s+=r[a]}return s}}const XD=t=>typeof t=="number"?0:t;function YD(t){const e=MC(t);return RC(t)(e.map(XD))}const su={test:GD,parse:MC,createTransformer:RC,getAnimatableNone:YD},QD=new Set(["brightness","contrast","saturate","opacity"]);function JD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(tb)||[];if(!i)return t;const r=n.replace(i,"");let s=QD.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const ZD=/\b([a-z-]*)\(.*?\)/gu,Dx={...su,getAnimatableNone:t=>{const e=t.match(ZD);return e?e.map(JD).join(" "):t}},eI={...z3,color:es,backgroundColor:es,outlineColor:es,fill:es,stroke:es,borderColor:es,borderTopColor:es,borderRightColor:es,borderBottomColor:es,borderLeftColor:es,filter:Dx,WebkitFilter:Dx},ib=t=>eI[t];function FC(t,e){let n=ib(t);return n!==Dx&&(n=su),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tI=new Set(["auto","none","0"]);function nI(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!tI.has(s)&&Fp(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=FC(n,r)}const T6=t=>t===Pf||t===kt,E6=(t,e)=>parseFloat(t.split(", ")[e]),M6=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return E6(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?E6(s[1],t):0}},iI=new Set(["x","y","z"]),rI=Af.filter(t=>!iI.has(t));function sI(t){const e=[];return rI.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const vf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:M6(4,13),y:M6(5,14)};vf.translateX=vf.x;vf.translateY=vf.y;const fh=new Set;let Ix=!1,Ox=!1;function DC(){if(Ox){const t=Array.from(fh).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=sI(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,a])=>{var o;(o=i.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ox=!1,Ix=!1,fh.forEach(t=>t.complete()),fh.clear()}function IC(){fh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ox=!0)})}function aI(){IC(),DC()}class rb{constructor(e,n,i,r,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(fh.add(this),Ix||(Ix=!0,Jn.read(IC),Jn.resolveKeyframes(DC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=r==null?void 0:r.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const l=i.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&a===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),fh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,fh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const OC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),oI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lI(t){const e=oI.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function BC(t,e,n=1){const[i,r]=lI(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const a=s.trim();return OC(a)?parseFloat(a):a}return B3(r)?BC(r,e,n+1):r}const zC=t=>e=>e.test(t),cI={test:t=>t==="auto",parse:t=>t},UC=[Pf,kt,il,Tc,JF,QF,cI],R6=t=>UC.find(zC(t));class VC extends rb{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),B3(c))){const d=BC(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!yC.has(i)||e.length!==2)return;const[r,s]=e,a=R6(r),o=R6(s);if(a!==o)if(T6(a)&&T6(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)BD(e[r])&&i.push(r);i.length&&nI(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vf[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=vf[i](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const F6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(su.test(t)||t==="0")&&!t.startsWith("url("));function uI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hI(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=F6(r,e),o=F6(s,e);return!a||!o?!1:uI(t)||(n==="spring"||q3(n))&&i}const dI=t=>t!==null;function F2(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(dI),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const fI=40;class HC{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=rl.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&aI(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=rl.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!hI(e,i,r,s))if(a)this.options.duration=0;else{l&&l(F2(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ui=(t,e,n)=>t+(e-t)*n;function kv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pI({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,a=0;if(!e)r=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;r=kv(l,o,t+1/3),s=kv(l,o,t),a=kv(l,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}function U1(t,e){return n=>n>0?e:t}const Cv=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},gI=[Fx,oh,Ud],mI=t=>gI.find(e=>e.test(t));function D6(t){const e=mI(t);if(!e)return!1;let n=e.parse(t);return e===Ud&&(n=pI(n)),n}const I6=(t,e)=>{const n=D6(t),i=D6(e);if(!n||!i)return U1(t,e);const r={...n};return s=>(r.red=Cv(n.red,i.red,s),r.green=Cv(n.green,i.green,s),r.blue=Cv(n.blue,i.blue,s),r.alpha=ui(n.alpha,i.alpha,s),oh.transform(r))},vI=(t,e)=>n=>e(t(n)),rg=(...t)=>t.reduce(vI),Bx=new Set(["none","hidden"]);function yI(t,e){return Bx.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function xI(t,e){return n=>ui(t,e,n)}function sb(t){return typeof t=="number"?xI:typeof t=="string"?B3(t)?U1:es.test(t)?I6:_I:Array.isArray(t)?$C:typeof t=="object"?es.test(t)?I6:bI:U1}function $C(t,e){const n=[...t],i=n.length,r=t.map((s,a)=>sb(s)(s,e[a]));return s=>{for(let a=0;a<i;a++)n[a]=r[a](s);return n}}function bI(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=sb(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function wI(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][r[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;i[s]=l,r[a]++}return i}const _I=(t,e)=>{const n=su.createTransformer(e),i=Fp(t),r=Fp(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Bx.has(t)&&!r.values.length||Bx.has(e)&&!i.values.length?yI(t,e):rg($C(wI(i,r),r.values),n):U1(t,e)};function GC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ui(t,e,n):sb(t)(t,e)}const SI=5;function WC(t,e,n){const i=Math.max(e-SI,0);return xC(n-t(i),e-i)}const wi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jv=.001;function NI({duration:t=wi.duration,bounce:e=wi.bounce,velocity:n=wi.velocity,mass:i=wi.mass}){let r,s,a=1-e;a=Ql(wi.minDamping,wi.maxDamping,a),t=Ql(wi.minDuration,wi.maxDuration,Gl(t)),a<1?(r=c=>{const d=c*a,g=d*t,m=d-n,p=zx(c,a),x=Math.exp(-g);return jv-m/p*x},s=c=>{const g=c*a*t,m=g*n+n,p=Math.pow(a,2)*Math.pow(c,2)*t,x=Math.exp(-g),b=zx(Math.pow(c,2),a);return(-r(c)+jv>0?-1:1)*((m-p)*x)/b}):(r=c=>{const d=Math.exp(-c*t),g=(c-n)*t+1;return-jv+d*g},s=c=>{const d=Math.exp(-c*t),g=(n-c)*(t*t);return d*g});const o=5/t,l=CI(r,s,o);if(t=$l(t),isNaN(l))return{stiffness:wi.stiffness,damping:wi.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:t}}}const kI=12;function CI(t,e,n){let i=n;for(let r=1;r<kI;r++)i=i-t(i)/e(i);return i}function zx(t,e){return t*Math.sqrt(1-e*e)}const jI=["duration","bounce"],AI=["stiffness","damping","mass"];function O6(t,e){return e.some(n=>t[n]!==void 0)}function PI(t){let e={velocity:wi.velocity,stiffness:wi.stiffness,damping:wi.damping,mass:wi.mass,isResolvedFromDuration:!1,...t};if(!O6(t,AI)&&O6(t,jI))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Ql(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:wi.mass,stiffness:r,damping:s}}else{const n=NI(t);e={...e,...n,mass:wi.mass},e.isResolvedFromDuration=!0}return e}function qC(t=wi.visualDuration,e=wi.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:g,velocity:m,isResolvedFromDuration:p}=PI({...n,velocity:-Gl(n.velocity||0)}),x=m||0,b=c/(2*Math.sqrt(l*d)),N=a-s,S=Gl(Math.sqrt(l/d)),j=Math.abs(N)<5;i||(i=j?wi.restSpeed.granular:wi.restSpeed.default),r||(r=j?wi.restDelta.granular:wi.restDelta.default);let _;if(b<1){const E=zx(S,b);_=O=>{const U=Math.exp(-b*S*O);return a-U*((x+b*S*N)/E*Math.sin(E*O)+N*Math.cos(E*O))}}else if(b===1)_=E=>a-Math.exp(-S*E)*(N+(x+S*N)*E);else{const E=S*Math.sqrt(b*b-1);_=O=>{const U=Math.exp(-b*S*O),F=Math.min(E*O,300);return a-U*((x+b*S*N)*Math.sinh(F)+E*N*Math.cosh(F))/E}}const C={calculatedDuration:p&&g||null,next:E=>{const O=_(E);if(p)o.done=E>=g;else{let U=0;b<1&&(U=E===0?$l(x):WC(_,E,O));const F=Math.abs(U)<=i,R=Math.abs(a-O)<=r;o.done=F&&R}return o.value=o.done?a:O,o},toString:()=>{const E=Math.min(hC(C),Ex),O=dC(U=>C.next(E*U).value,E,30);return E+"ms "+O}};return C}function B6({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const g=t[0],m={done:!1,value:g},p=F=>o!==void 0&&F<o||l!==void 0&&F>l,x=F=>o===void 0?l:l===void 0||Math.abs(o-F)<Math.abs(l-F)?o:l;let b=n*e;const N=g+b,S=a===void 0?N:a(N);S!==N&&(b=S-g);const j=F=>-b*Math.exp(-F/i),_=F=>S+j(F),C=F=>{const R=j(F),M=_(F);m.done=Math.abs(R)<=c,m.value=m.done?S:M};let E,O;const U=F=>{p(m.value)&&(E=F,O=qC({keyframes:[m.value,x(m.value)],velocity:WC(_,F,m.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return U(0),{calculatedDuration:null,next:F=>{let R=!1;return!O&&E===void 0&&(R=!0,C(F),U(F)),E!==void 0&&F>=E?O.next(F-E):(!R&&C(F),m)}}}const LI=ig(.42,0,1,1),TI=ig(0,0,.58,1),KC=ig(.42,0,.58,1),EI=t=>Array.isArray(t)&&typeof t[0]!="number",MI={linear:ra,easeIn:LI,easeInOut:KC,easeOut:TI,circIn:eb,circInOut:AC,circOut:jC,backIn:Z3,backInOut:kC,backOut:NC,anticipate:CC},z6=t=>{if(K3(t)){G9(t.length===4);const[e,n,i,r]=t;return ig(e,n,i,r)}else if(typeof t=="string")return MI[t];return t};function RI(t,e,n){const i=[],r=n||GC,s=t.length-1;for(let a=0;a<s;a++){let o=r(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ra:e;o=rg(l,o)}i.push(o)}return i}function FI(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(G9(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=RI(e,i,r),l=o.length,c=d=>{if(a&&d<t[0])return e[0];let g=0;if(l>1)for(;g<t.length-2&&!(d<t[g+1]);g++);const m=gf(t[g],t[g+1],d);return o[g](m)};return n?d=>c(Ql(t[0],t[s-1],d)):c}function DI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=gf(0,e,i);t.push(ui(n,1,r))}}function II(t){const e=[0];return DI(e,t.length-1),e}function OI(t,e){return t.map(n=>n*e)}function BI(t,e){return t.map(()=>e||KC).splice(0,t.length-1)}function V1({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=EI(i)?i.map(z6):z6(i),s={done:!1,value:e[0]},a=OI(n&&n.length===e.length?n:II(e),t),o=FI(a,e,{ease:Array.isArray(r)?r:BI(e,r)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const zI=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Jn.update(e,!0),stop:()=>ru(e),now:()=>Tr.isProcessing?Tr.timestamp:rl.now()}},UI={decay:B6,inertia:B6,tween:V1,keyframes:V1,spring:qC},VI=t=>t/100;class ab extends HC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,a=(r==null?void 0:r.KeyframeResolver)||rb,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(s,o,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=this.options,o=q3(n)?n:UI[n]||V1;let l,c;o!==V1&&typeof e[0]!="number"&&(l=rg(VI,GC(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});s==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=hC(d));const{calculatedDuration:g}=d,m=g+r,p=m*(i+1)-r;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:g,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:F}=this.options;return{done:!0,value:F[F.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:g}=i;if(this.startTime===null)return s.next(0);const{delay:m,repeat:p,repeatType:x,repeatDelay:b,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const S=this.currentTime-m*(this.speed>=0?1:-1),j=this.speed>=0?S<0:S>d;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let _=this.currentTime,C=s;if(p){const F=Math.min(this.currentTime,d)/g;let R=Math.floor(F),M=F%1;!M&&F>=1&&(M=1),M===1&&R--,R=Math.min(R,p+1),!!(R%2)&&(x==="reverse"?(M=1-M,b&&(M-=b/g)):x==="mirror"&&(C=a)),_=Ql(0,1,M)*g}const E=j?{done:!1,value:l[0]}:C.next(_);o&&(E.value=o(E.value));let{done:O}=E;!j&&c!==null&&(O=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return U&&r!==void 0&&(E.value=F2(l,this.options,r)),N&&N(E.value),U&&this.finish(),E}get duration(){const{resolved:e}=this;return e?Gl(e.calculatedDuration):0}get time(){return Gl(this.currentTime)}set time(e){e=$l(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=zI,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const HI=new Set(["opacity","clipPath","filter","transform"]);function $I(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=pC(o,r);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const GI=E3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),H1=10,WI=2e4;function qI(t){return q3(t.type)||t.type==="spring"||!fC(t.ease)}function KI(t,e){const n=new ab({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<WI;)i=n.sample(s),r.push(i.value),s+=H1;return{times:void 0,keyframes:r,duration:s-H1,ease:"linear"}}const XC={anticipate:CC,backInOut:kC,circInOut:AC};function XI(t){return t in XC}class U6 extends HC{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new VC(s,(a,o)=>this.onKeyframesResolved(a,o),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&z1()&&XI(s)&&(s=XC[s]),qI(this.options)){const{onComplete:g,onUpdate:m,motionValue:p,element:x,...b}=this.options,N=KI(e,b);e=N.keyframes,e.length===1&&(e[1]=e[0]),i=N.duration,r=N.times,s=N.ease,a="keyframes"}const d=$I(o.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(k6(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:g}=this.options;o.set(F2(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:r,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Gl(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Gl(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=$l(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ra;const{animation:i}=n;k6(i,e)}return ra}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:g,element:m,...p}=this.options,x=new ab({...p,keyframes:i,duration:r,type:s,ease:a,times:o,isGenerator:!0}),b=$l(this.time);c.setWithVelocity(x.sample(b-H1).value,x.sample(b).value,H1)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:a,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return GI()&&i&&HI.has(i)&&!l&&!c&&!r&&s!=="mirror"&&a!==0&&o!=="inertia"}}const YI={type:"spring",stiffness:500,damping:25,restSpeed:10},QI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),JI={type:"keyframes",duration:.8},ZI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eO=(t,{keyframes:e})=>e.length>2?JI:Ah.has(t)?t.startsWith("scale")?QI(e[1]):YI:ZI;function tO({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const ob=(t,e,n,i={},r,s)=>a=>{const o=W3(i,t)||{},l=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-$l(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:r};tO(o)||(d={...d,...eO(t,d)}),d.duration&&(d.duration=$l(d.duration)),d.repeatDelay&&(d.repeatDelay=$l(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let g=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(g=!0)),g&&!s&&e.get()!==void 0){const m=F2(d.keyframes,o);if(m!==void 0)return Jn.update(()=>{d.onUpdate(m),d.onComplete()}),new bD([])}return!s&&U6.supports(d)?new U6(d):new ab(d)};function nO({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function YC(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;i&&(a=i);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const g in l){const m=t.getValue(g,(s=t.latestValues[g])!==null&&s!==void 0?s:null),p=l[g];if(p===void 0||d&&nO(d,g))continue;const x={delay:n,...W3(a||{},g)};let b=!1;if(window.MotionHandoffAnimation){const S=bC(t);if(S){const j=window.MotionHandoffAnimation(S,g,Jn);j!==null&&(x.startTime=j,b=!0)}}Rx(t,g),m.start(ob(g,m,p,t.shouldReduceMotion&&yC.has(g)?{type:!1}:x,t,b));const N=m.animation;N&&c.push(N)}return o&&Promise.all(c).then(()=>{Jn.update(()=>{o&&RD(t,o)})}),c}function Ux(t,e,n={}){var i;const r=R2(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(YC(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:m}=s;return iO(t,e,d+c,g,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function iO(t,e,n=0,i=0,r=1,s){const a=[],o=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>o-c*i;return Array.from(t.variantChildren).sort(rO).forEach((c,d)=>{c.notify("AnimationStart",e),a.push(Ux(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function rO(t,e){return t.sortNodePosition(e)}function sO(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>Ux(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=Ux(t,e,n);else{const r=typeof e=="function"?R2(t,e,n.custom):e;i=Promise.all(YC(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const aO=R3.length;function QC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?QC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<aO;n++){const i=R3[n],r=t.props[i];(Ep(r)||r===!1)&&(e[i]=r)}return e}const oO=[...M3].reverse(),lO=M3.length;function cO(t){return e=>Promise.all(e.map(({animation:n,options:i})=>sO(t,n,i)))}function uO(t){let e=cO(t),n=V6(),i=!0;const r=l=>(c,d)=>{var g;const m=R2(t,d,l==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(m){const{transition:p,transitionEnd:x,...b}=m;c={...c,...b,...x}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,d=QC(t.parent)||{},g=[],m=new Set;let p={},x=1/0;for(let N=0;N<lO;N++){const S=oO[N],j=n[S],_=c[S]!==void 0?c[S]:d[S],C=Ep(_),E=S===l?j.isActive:null;E===!1&&(x=N);let O=_===d[S]&&_!==c[S]&&C;if(O&&i&&t.manuallyAnimateOnMount&&(O=!1),j.protectedKeys={...p},!j.isActive&&E===null||!_&&!j.prevProp||E2(_)||typeof _=="boolean")continue;const U=hO(j.prevProp,_);let F=U||S===l&&j.isActive&&!O&&C||N>x&&C,R=!1;const M=Array.isArray(_)?_:[_];let T=M.reduce(r(S),{});E===!1&&(T={});const{prevResolvedValues:D={}}=j,$={...D,...T},X=pe=>{F=!0,m.has(pe)&&(R=!0,m.delete(pe)),j.needsAnimating[pe]=!0;const te=t.getValue(pe);te&&(te.liveStyle=!1)};for(const pe in $){const te=T[pe],Z=D[pe];if(p.hasOwnProperty(pe))continue;let ue=!1;Tx(te)&&Tx(Z)?ue=!uC(te,Z):ue=te!==Z,ue?te!=null?X(pe):m.add(pe):te!==void 0&&m.has(pe)?X(pe):j.protectedKeys[pe]=!0}j.prevProp=_,j.prevResolvedValues=T,j.isActive&&(p={...p,...T}),i&&t.blockInitialAnimation&&(F=!1),F&&(!(O&&U)||R)&&g.push(...M.map(pe=>({animation:pe,options:{type:S}})))}if(m.size){const N={};m.forEach(S=>{const j=t.getBaseTarget(S),_=t.getValue(S);_&&(_.liveStyle=!0),N[S]=j??null}),g.push({animation:N})}let b=!!g.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(g):Promise.resolve()}function o(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const g=a(l);for(const m in n)n[m].protectedKeys={};return g}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=V6(),i=!0}}}function hO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uC(e,t):!1}function Vu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V6(){return{animate:Vu(!0),whileInView:Vu(),whileHover:Vu(),whileTap:Vu(),whileDrag:Vu(),whileFocus:Vu(),exit:Vu()}}class gu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dO extends gu{constructor(e){super(e),e.animationState||(e.animationState=uO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();E2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let fO=0;class pO extends gu{constructor(){super(...arguments),this.id=fO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const gO={animation:{Feature:dO},exit:{Feature:pO}};function Dp(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function sg(t){return{point:{x:t.pageX,y:t.pageY}}}const mO=t=>e=>X3(e)&&t(e,sg(e));function tp(t,e,n,i){return Dp(t,e,mO(n),i)}const H6=(t,e)=>Math.abs(t-e);function vO(t,e){const n=H6(t.x,e.x),i=H6(t.y,e.y);return Math.sqrt(n**2+i**2)}class JC{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Pv(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=vO(g.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:x}=g,{timestamp:b}=Tr;this.history.push({...x,timestamp:b});const{onStart:N,onMove:S}=this.handlers;m||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,g)},this.handlePointerMove=(g,m)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Av(m,this.transformPagePoint),Jn.update(this.updatePoint,!0)},this.handlePointerUp=(g,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Pv(g.type==="pointercancel"?this.lastMoveEventInfo:Av(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(g,N),x&&x(g,N)},!X3(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const a=sg(e),o=Av(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Tr;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Pv(o,this.history)),this.removeListeners=rg(tp(this.contextWindow,"pointermove",this.handlePointerMove),tp(this.contextWindow,"pointerup",this.handlePointerUp),tp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ru(this.updatePoint)}}function Av(t,e){return e?{point:e(t.point)}:t}function $6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pv({point:t},e){return{point:t,delta:$6(t,ZC(e)),offset:$6(t,yO(e)),velocity:xO(e,.1)}}function yO(t){return t[0]}function ZC(t){return t[t.length-1]}function xO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=ZC(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>$l(e)));)n--;if(!i)return{x:0,y:0};const s=Gl(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const ej=1e-4,bO=1-ej,wO=1+ej,tj=.01,_O=0-tj,SO=0+tj;function aa(t){return t.max-t.min}function NO(t,e,n){return Math.abs(t-e)<=n}function G6(t,e,n,i=.5){t.origin=i,t.originPoint=ui(e.min,e.max,t.origin),t.scale=aa(n)/aa(e),t.translate=ui(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bO&&t.scale<=wO||isNaN(t.scale))&&(t.scale=1),(t.translate>=_O&&t.translate<=SO||isNaN(t.translate))&&(t.translate=0)}function np(t,e,n,i){G6(t.x,e.x,n.x,i?i.originX:void 0),G6(t.y,e.y,n.y,i?i.originY:void 0)}function W6(t,e,n){t.min=n.min+e.min,t.max=t.min+aa(e)}function kO(t,e,n){W6(t.x,e.x,n.x),W6(t.y,e.y,n.y)}function q6(t,e,n){t.min=e.min-n.min,t.max=t.min+aa(e)}function ip(t,e,n){q6(t.x,e.x,n.x),q6(t.y,e.y,n.y)}function CO(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ui(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ui(n,t,i.max):Math.min(t,n)),t}function K6(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jO(t,{top:e,left:n,bottom:i,right:r}){return{x:K6(t.x,n,r),y:K6(t.y,e,i)}}function X6(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function AO(t,e){return{x:X6(t.x,e.x),y:X6(t.y,e.y)}}function PO(t,e){let n=.5;const i=aa(t),r=aa(e);return r>i?n=gf(e.min,e.max-i,t.min):i>r&&(n=gf(t.min,t.max-r,e.min)),Ql(0,1,n)}function LO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vx=.35;function TO(t=Vx){return t===!1?t=0:t===!0&&(t=Vx),{x:Y6(t,"left","right"),y:Y6(t,"top","bottom")}}function Y6(t,e,n){return{min:Q6(t,e),max:Q6(t,n)}}function Q6(t,e){return typeof t=="number"?t:t[e]||0}const J6=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vd=()=>({x:J6(),y:J6()}),Z6=()=>({min:0,max:0}),Ei=()=>({x:Z6(),y:Z6()});function Da(t){return[t("x"),t("y")]}function nj({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function EO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Lv(t){return t===void 0||t===1}function Hx({scale:t,scaleX:e,scaleY:n}){return!Lv(t)||!Lv(e)||!Lv(n)}function Qu(t){return Hx(t)||ij(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ij(t){return e_(t.x)||e_(t.y)}function e_(t){return t&&t!=="0%"}function $1(t,e,n){const i=t-n,r=e*i;return n+r}function t_(t,e,n,i,r){return r!==void 0&&(t=$1(t,r,i)),$1(t,n,i)+e}function $x(t,e=0,n=1,i,r){t.min=t_(t.min,e,n,i,r),t.max=t_(t.max,e,n,i,r)}function rj(t,{x:e,y:n}){$x(t.x,e.translate,e.scale,e.originPoint),$x(t.y,n.translate,n.scale,n.originPoint)}const n_=.999999999999,i_=1.0000000000001;function RO(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,a;for(let o=0;o<r;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$d(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,rj(t,a)),i&&Qu(s.latestValues)&&$d(t,s.latestValues))}e.x<i_&&e.x>n_&&(e.x=1),e.y<i_&&e.y>n_&&(e.y=1)}function Hd(t,e){t.min=t.min+e,t.max=t.max+e}function r_(t,e,n,i,r=.5){const s=ui(t.min,t.max,r);$x(t,e,n,s,i)}function $d(t,e){r_(t.x,e.x,e.scaleX,e.scale,e.originX),r_(t.y,e.y,e.scaleY,e.scale,e.originY)}function sj(t,e){return nj(MO(t.getBoundingClientRect(),e))}function FO(t,e,n){const i=sj(t,n),{scroll:r}=e;return r&&(Hd(i.x,r.offset.x),Hd(i.y,r.offset.y)),i}const aj=({current:t})=>t?t.ownerDocument.defaultView:null,DO=new WeakMap;class IO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ei(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sg(d).point)},s=(d,g)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PD(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Da(N=>{let S=this.getAxisMotionValue(N).get()||0;if(il.test(S)){const{projection:j}=this.visualElement;if(j&&j.layout){const _=j.layout.layoutBox[N];_&&(S=aa(_)*(parseFloat(S)/100))}}this.originPoint[N]=S}),x&&Jn.postRender(()=>x(d,g)),Rx(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(d,g)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:N}=g;if(p&&this.currentDirection===null){this.currentDirection=OO(N),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),b&&b(d,g)},o=(d,g)=>this.stop(d,g),l=()=>Da(d=>{var g;return this.getAnimationState(d)==="paused"&&((g=this.getAxisMotionValue(d).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new JC(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:aj(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Jn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!nm(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=CO(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&zd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=jO(r.layoutBox,n):this.constraints=!1,this.elastic=TO(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Da(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=LO(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zd(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=FO(i,r.root,this.visualElement.getTransformPagePoint());let a=AO(r.layout.layoutBox,s);if(n){const o=n(EO(a));this.hasMutatedConstraints=!!o,o&&(a=nj(o))}return a}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Da(d=>{if(!nm(d,n,this.currentDirection))return;let g=l&&l[d]||{};a&&(g={min:0,max:0});const m=r?200:1e6,p=r?40:1e7,x={type:"inertia",velocity:i?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Rx(this.visualElement,e),i.start(ob(e,i,0,n,this.visualElement,!1))}stopAnimation(){Da(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Da(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Da(n=>{const{drag:i}=this.getProps();if(!nm(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[n];s.set(e[n]-ui(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!zd(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Da(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();r[a]=PO({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Da(a=>{if(!nm(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(ui(l,c,r[a]))})}addListeners(){if(!this.visualElement.current)return;DO.set(this.visualElement,this);const e=this.visualElement.current,n=tp(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();zd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Jn.read(i);const a=Dp(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Da(d=>{const g=this.getAxisMotionValue(d);g&&(this.originPoint[d]+=l[d].translate,g.set(g.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=Vx,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function nm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function OO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class BO extends gu{constructor(e){super(e),this.removeGroupControls=ra,this.removeListeners=ra,this.controls=new IO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ra}unmount(){this.removeGroupControls(),this.removeListeners()}}const s_=t=>(e,n)=>{t&&Jn.postRender(()=>t(e,n))};class zO extends gu{constructor(){super(...arguments),this.removePointerDownListener=ra}onPointerDown(e){this.session=new JC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:s_(e),onStart:s_(n),onMove:i,onEnd:(s,a)=>{delete this.session,r&&Jn.postRender(()=>r(s,a))}}}mount(){this.removePointerDownListener=tp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ym={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function a_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const b0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(kt.test(t))t=parseFloat(t);else return t;const n=a_(t,e.target.x),i=a_(t,e.target.y);return`${n}% ${i}%`}},UO={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=su.parse(t);if(r.length>5)return i;const s=su.createTransformer(t),a=typeof r[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;r[0+a]/=o,r[1+a]/=l;const c=ui(o,l,.5);return typeof r[2+a]=="number"&&(r[2+a]/=c),typeof r[3+a]=="number"&&(r[3+a]/=c),s(r)}};class VO extends J.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;lD(HO),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ym.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,a=i.projection;return a&&(a.isPresent=s,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Jn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),D3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oj(t){const[e,n]=SF(),i=J.useContext(H9);return h.jsx(VO,{...t,layoutGroup:i,switchLayoutGroup:J.useContext(Q9),isPresent:e,safeToRemove:n})}const HO={borderRadius:{...b0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:b0,borderTopRightRadius:b0,borderBottomLeftRadius:b0,borderBottomRightRadius:b0,boxShadow:UO};function $O(t,e,n){const i=ns(t)?t:Rp(t);return i.start(ob("",i,e,n)),i.animation}function GO(t){return t instanceof SVGElement&&t.tagName!=="svg"}const WO=(t,e)=>t.depth-e.depth;class qO{constructor(){this.children=[],this.isDirty=!1}add(e){Y3(this.children,e),this.isDirty=!0}remove(e){Q3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WO),this.isDirty=!1,this.children.forEach(e)}}function KO(t,e){const n=rl.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(ru(i),t(s-e))};return Jn.read(i,!0),()=>ru(i)}const lj=["TopLeft","TopRight","BottomLeft","BottomRight"],XO=lj.length,o_=t=>typeof t=="string"?parseFloat(t):t,l_=t=>typeof t=="number"||kt.test(t);function YO(t,e,n,i,r,s){r?(t.opacity=ui(0,n.opacity!==void 0?n.opacity:1,QO(i)),t.opacityExit=ui(e.opacity!==void 0?e.opacity:1,0,JO(i))):s&&(t.opacity=ui(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let a=0;a<XO;a++){const o=`border${lj[a]}Radius`;let l=c_(e,o),c=c_(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||l_(l)===l_(c)?(t[o]=Math.max(ui(o_(l),o_(c),i),0),(il.test(c)||il.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=ui(e.rotate||0,n.rotate||0,i))}function c_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const QO=cj(0,.5,jC),JO=cj(.5,.95,ra);function cj(t,e,n){return i=>i<t?0:i>e?1:n(gf(t,e,i))}function u_(t,e){t.min=e.min,t.max=e.max}function Ma(t,e){u_(t.x,e.x),u_(t.y,e.y)}function h_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function d_(t,e,n,i,r){return t-=e,t=$1(t,1/n,i),r!==void 0&&(t=$1(t,1/r,i)),t}function ZO(t,e=0,n=1,i=.5,r,s=t,a=t){if(il.test(e)&&(e=parseFloat(e),e=ui(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ui(s.min,s.max,i);t===s&&(o-=e),t.min=d_(t.min,e,n,o,r),t.max=d_(t.max,e,n,o,r)}function f_(t,e,[n,i,r],s,a){ZO(t,e[n],e[i],e[r],e.scale,s,a)}const eB=["x","scaleX","originX"],tB=["y","scaleY","originY"];function p_(t,e,n,i){f_(t.x,e,eB,n?n.x:void 0,i?i.x:void 0),f_(t.y,e,tB,n?n.y:void 0,i?i.y:void 0)}function g_(t){return t.translate===0&&t.scale===1}function uj(t){return g_(t.x)&&g_(t.y)}function m_(t,e){return t.min===e.min&&t.max===e.max}function nB(t,e){return m_(t.x,e.x)&&m_(t.y,e.y)}function v_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function hj(t,e){return v_(t.x,e.x)&&v_(t.y,e.y)}function y_(t){return aa(t.x)/aa(t.y)}function x_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class iB{constructor(){this.members=[]}add(e){Y3(this.members,e),e.scheduleRender()}remove(e){if(Q3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rB(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((r||s||a)&&(i=`translate3d(${r}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:g,rotateY:m,skewX:p,skewY:x}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),g&&(i+=`rotateX(${g}deg) `),m&&(i+=`rotateY(${m}deg) `),p&&(i+=`skewX(${p}deg) `),x&&(i+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const Ju={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},B0=typeof window<"u"&&window.MotionDebug!==void 0,Tv=["","X","Y","Z"],sB={visibility:"hidden"},b_=1e3;let aB=0;function Ev(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function dj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Jn,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&dj(i)}function fj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},o=e==null?void 0:e()){this.id=aB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,B0&&(Ju.totalNodes=Ju.resolvedTargetDeltas=Ju.recalculatedProjection=0),this.nodes.forEach(cB),this.nodes.forEach(pB),this.nodes.forEach(gB),this.nodes.forEach(uB),B0&&window.MotionDebug.record(Ju)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qO)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new J3),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GO(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let g;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=KO(m,250),Ym.hasAnimatedSinceResize&&(Ym.hasAnimatedSinceResize=!1,this.nodes.forEach(__))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||bB,{onLayoutAnimationStart:N,onLayoutAnimationComplete:S}=d.getProps(),j=!this.targetLayout||!hj(this.targetLayout,x)||p,_=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||m&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,_);const C={...W3(b,"layout"),onPlay:N,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else m||__(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ru(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mB),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const g=this.path[d];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(w_);return}this.isUpdating||this.nodes.forEach(dB),this.isUpdating=!1,this.nodes.forEach(fB),this.nodes.forEach(oB),this.nodes.forEach(lB),this.clearAllSnapshots();const o=rl.now();Tr.delta=Ql(0,1e3/60,o-Tr.timestamp),Tr.timestamp=o,Tr.isProcessing=!0,_v.update.process(Tr),_v.preRender.process(Tr),_v.render.process(Tr),Tr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,D3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hB),this.sharedNodes.forEach(vB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ei(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!uj(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(o||Qu(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),wB(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Ei();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(_B))){const{scroll:d}=this.root;d&&(Hd(l.x,d.offset.x),Hd(l.y,d.offset.y))}return l}removeElementScroll(a){var o;const l=Ei();if(Ma(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:g,options:m}=d;d!==this.root&&g&&m.layoutScroll&&(g.wasRoot&&Ma(l,a),Hd(l.x,g.offset.x),Hd(l.y,g.offset.y))}return l}applyTransform(a,o=!1){const l=Ei();Ma(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&$d(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Qu(d.latestValues)&&$d(l,d.latestValues)}return Qu(this.latestValues)&&$d(l,this.latestValues),l}removeTransform(a){const o=Ei();Ma(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Qu(c.latestValues))continue;Hx(c.latestValues)&&c.updateSnapshot();const d=Ei(),g=c.measurePageBox();Ma(d,g),p_(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Qu(this.latestValues)&&p_(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:m}=this.options;if(!(!this.layout||!(g||m))){if(this.resolvedRelativeTargetAt=Tr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ei(),this.relativeTargetOrigin=Ei(),ip(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ma(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ei(),this.targetWithTransforms=Ei()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ma(this.target,this.layout.layoutBox),rj(this.target,this.targetDelta)):Ma(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ei(),this.relativeTargetOrigin=Ei(),ip(this.relativeTargetOrigin,this.target,p.target),Ma(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}B0&&Ju.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Hx(this.parent.latestValues)||ij(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Tr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;Ma(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;RO(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ei());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(h_(this.prevProjectionDelta.x,this.projectionDelta.x),h_(this.prevProjectionDelta.y,this.projectionDelta.y)),np(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!x_(this.projectionDelta.x,this.prevProjectionDelta.x)||!x_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),B0&&Ju.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vd(),this.projectionDelta=Vd(),this.projectionDeltaWithTransform=Vd()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},g=Vd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Ei(),p=l?l.source:void 0,x=this.layout?this.layout.source:void 0,b=p!==x,N=this.getStack(),S=!N||N.members.length<=1,j=!!(b&&!S&&this.options.crossfade===!0&&!this.path.some(xB));this.animationProgress=0;let _;this.mixTargetDelta=C=>{const E=C/1e3;S_(g.x,a.x,E),S_(g.y,a.y,E),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ip(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yB(this.relativeTarget,this.relativeTargetOrigin,m,E),_&&nB(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Ei()),Ma(_,this.relativeTarget)),b&&(this.animationValues=d,YO(d,c,this.latestValues,E,j,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ru(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jn.update(()=>{Ym.hasAnimatedSinceResize=!0,this.currentAnimation=$O(0,b_,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(b_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&pj(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ei();const g=aa(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+g;const m=aa(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+m}Ma(o,l),$d(o,d),np(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new iB),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Ev("z",a,c,this.animationValues);for(let d=0;d<Tv.length;d++)Ev(`rotate${Tv[d]}`,a,c,this.animationValues),Ev(`skew${Tv[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sB;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Km(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Km(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Qu(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const m=g.animationValues||g.latestValues;this.applyTransformsToTarget(),c.transform=rB(this.projectionDeltaWithTransform,this.treeScale,m),d&&(c.transform=d(m,c.transform));const{x:p,y:x}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,g.animationValues?c.opacity=g===this?(l=(o=m.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=g===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in B1){if(m[b]===void 0)continue;const{correct:N,applyTo:S}=B1[b],j=c.transform==="none"?m[b]:N(m[b],g);if(S){const _=S.length;for(let C=0;C<_;C++)c[S[C]]=j}else c[b]=j}return this.options.layoutId&&(c.pointerEvents=g===this?Km(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(w_),this.root.sharedNodes.clear()}}}function oB(t){t.updateLayout()}function lB(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Da(g=>{const m=a?n.measuredBox[g]:n.layoutBox[g],p=aa(m);m.min=i[g].min,m.max=m.min+p}):pj(s,n.layoutBox,i)&&Da(g=>{const m=a?n.measuredBox[g]:n.layoutBox[g],p=aa(i[g]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+p)});const o=Vd();np(o,i,n.layoutBox);const l=Vd();a?np(l,t.applyTransform(r,!0),n.measuredBox):np(l,i,n.layoutBox);const c=!uj(o);let d=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:m,layout:p}=g;if(m&&p){const x=Ei();ip(x,n.layoutBox,m.layoutBox);const b=Ei();ip(b,i,p.layoutBox),hj(x,b)||(d=!0),g.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function cB(t){B0&&Ju.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hB(t){t.clearSnapshot()}function w_(t){t.clearMeasurements()}function dB(t){t.isLayoutDirty=!1}function fB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function __(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pB(t){t.resolveTargetDelta()}function gB(t){t.calcProjection()}function mB(t){t.resetSkewAndRotation()}function vB(t){t.removeLeadSnapshot()}function S_(t,e,n){t.translate=ui(e.translate,0,n),t.scale=ui(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function N_(t,e,n,i){t.min=ui(e.min,n.min,i),t.max=ui(e.max,n.max,i)}function yB(t,e,n,i){N_(t.x,e.x,n.x,i),N_(t.y,e.y,n.y,i)}function xB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bB={duration:.45,ease:[.4,0,.1,1]},k_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),C_=k_("applewebkit/")&&!k_("chrome/")?Math.round:ra;function j_(t){t.min=C_(t.min),t.max=C_(t.max)}function wB(t){j_(t.x),j_(t.y)}function pj(t,e,n){return t==="position"||t==="preserve-aspect"&&!NO(y_(e),y_(n),.2)}function _B(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const SB=fj({attachResizeListener:(t,e)=>Dp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mv={current:void 0},gj=fj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mv.current){const t=new SB({});t.mount(window),t.setOptions({layoutScroll:!0}),Mv.current=t}return Mv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NB={pan:{Feature:zO},drag:{Feature:BO,ProjectionNode:gj,MeasureLayout:oj}};function A_(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&Jn.postRender(()=>s(e,sg(e)))}class kB extends gu{mount(){const{current:e}=this.node;e&&(this.unmount=ND(e,n=>(A_(this.node,n,"Start"),i=>A_(this.node,i,"End"))))}unmount(){}}class CB extends gu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rg(Dp(this.node.current,"focus",()=>this.onFocus()),Dp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function P_(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&Jn.postRender(()=>s(e,sg(e)))}class jB extends gu{mount(){const{current:e}=this.node;e&&(this.unmount=AD(e,n=>(P_(this.node,n,"Start"),(i,{success:r})=>P_(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gx=new WeakMap,Rv=new WeakMap,AB=t=>{const e=Gx.get(t.target);e&&e(t)},PB=t=>{t.forEach(AB)};function LB({root:t,...e}){const n=t||document;Rv.has(n)||Rv.set(n,{});const i=Rv.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(PB,{root:t,...e})),i[r]}function TB(t,e,n){const i=LB(e);return Gx.set(t,n),i.observe(t),()=>{Gx.delete(t),i.unobserve(t)}}const EB={some:0,all:1};class MB extends gu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:EB[r]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:g}=this.node.getProps(),m=c?d:g;m&&m(l)};return TB(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(RB(e,n))&&this.startObserver()}unmount(){}}function RB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const FB={inView:{Feature:MB},tap:{Feature:jB},focus:{Feature:CB},hover:{Feature:kB}},DB={layout:{ProjectionNode:gj,MeasureLayout:oj}},Wx={current:null},mj={current:!1};function IB(){if(mj.current=!0,!!T3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wx.current=t.matches;t.addListener(e),e()}else Wx.current=!1}const OB=[...UC,es,su],BB=t=>OB.find(zC(t)),L_=new WeakMap;function zB(t,e,n){for(const i in e){const r=e[i],s=n[i];if(ns(r))t.addValue(i,r);else if(ns(s))t.addValue(i,Rp(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(i);t.addValue(i,Rp(a!==void 0?a:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const T_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UB{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=rl.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Jn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=a;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=M2(n),this.isVariantNode=X9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const x=m[p];l[p]!==void 0&&ns(x)&&x.set(l[p],!1)}}mount(e){this.current=e,L_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),mj.current||IB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){L_.delete(this.current),this.projection&&this.projection.unmount(),ru(this.notifyUpdate),ru(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ah.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Jn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mf){const n=mf[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ei()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<T_.length;i++){const r=T_[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=e[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=zB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Rp(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(OC(r)||PC(r))?r=parseFloat(r):!BB(r)&&su.test(n)&&(r=FC(e,n)),this.setBaseTarget(e,ns(r)?r.get():r)),ns(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const a=O3(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(r=a[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ns(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new J3),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vj extends UB{constructor(){super(...arguments),this.KeyframeResolver=VC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ns(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function VB(t){return window.getComputedStyle(t)}class HB extends vj{constructor(){super(...arguments),this.type="html",this.renderInstance=rC}readValueFromInstance(e,n){if(Ah.has(n)){const i=ib(n);return i&&i.default||0}else{const i=VB(e),r=(tC(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return sj(e,n)}build(e,n,i){U3(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return G3(e,n,i)}}class $B extends vj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ei}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ah.has(n)){const i=ib(n);return i&&i.default||0}return n=sC.has(n)?n:F3(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return lC(e,n,i)}build(e,n,i){V3(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){aC(e,n,i,r)}mount(e){this.isSVGTag=$3(e.tagName),super.mount(e)}}const GB=(t,e)=>I3(t)?new $B(e):new HB(e,{allowProjection:t!==J.Fragment}),WB=vD({...gO,...FB,...NB,...DB},GB),G1=EF(WB),qB=[{alias:"quockhanh",name:"Khung Quc Khnh",color:"#e11d48",thumb:"/frames/khung-hinh-quockhanh.png",overlay:"/frames/khung-hinh-quockhanh.png",used24h:128,campaign:"A80"},{alias:"khung304",name:"Khung 30/04",color:"#dc2626",thumb:"/frames/kh3.png",overlay:"/frames/kh3.png",used24h:86,campaign:"A80"},{alias:"trungthu",name:"Khung Trung thu",color:"#f43f5e",thumb:"/frames/khung-trung-thu.png",overlay:"/frames/khung-trung-thu.png",used24h:64,campaign:"A80"},{alias:"giangsinh",name:"Khung Ging sinh",color:"#22c55e",thumb:"/frames/khung-giang-sinh.png",overlay:"/frames/khung-giang-sinh.png",used24h:44,campaign:"A80"},{alias:"daihoi3",name:"Khung i hi Ln III",thumb:"/frames/kh1.png",overlay:"/frames/kh1.png",author:"MARKETING VEC",tags:["a80","daihoi","2025"],featured:!0},{alias:"khung-phuong-tan-son-nhi",name:"Khung Phng Tn Sn Nh",thumb:"/frames/kh2.png",overlay:"/frames/kh2.png",author:"MARKETING VEC",tags:["a80","daihoi","2025"],featured:!0}],lh="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,"");async function KB(){try{console.log(` Calling API: ${lh}/api/frames/public`);const t=await fetch(`${lh}/api/frames/public`,{credentials:"include"});if(!t.ok)return console.warn(` API failed: ${t.status}`),null;const e=await t.json();return console.log(" Public frames from API:",e),e.map(i=>({alias:i.Alias||i.alias,name:i.TieuDe||i.tieuDe||"Khung khng tn",thumb:i.UrlXemTruoc||i.urlXemTruoc?`${lh}${i.UrlXemTruoc||i.urlXemTruoc}`:null,overlay:i.UrlXemTruoc||i.urlXemTruoc?`${lh}${i.UrlXemTruoc||i.urlXemTruoc}`:null,id:i.Id||i.id,owner:i.owner||i.Owner||null,ngayTao:i.NgayDang||i.ngayDang||i.NgayTao||i.ngayTao||null,campaign:"a80",featured:!0,used24h:Math.floor(Math.random()*100)+50}))}catch(t){return console.error(" Error fetching public frames:",t),null}}async function XB(t){try{console.log(` Calling API: ${lh}/api/Frames/alias/${t}`);const e=await fetch(`${lh}/api/Frames/alias/${t}`,{credentials:"include"});if(console.log(` Response status: ${e.status}`),!e.ok){if(e.status===404)return null;throw new Error(`HTTP ${e.status}`)}const n=await e.json();console.log(" Raw backend data:",n);const i=n.urlXemTruoc??n.UrlXemTruoc,r=i?`${lh}${i}`:null,s={id:n.id??n.Id,name:n.tieuDe??n.TieuDe,alias:n.alias??n.Alias,overlay:r,thumb:r,ngayTao:n.ngayDang??n.NgayDang,clicks:n.luotXem??n.LuotXem??0,uses:n.luotTai??n.LuotTai??0,owner:n.owner?{id:n.owner.id??n.owner.Id,name:n.owner.name??n.owner.Name,avatar:n.owner.avatar??n.owner.Avatar}:null};return console.log(" Mapped data:",s),s}catch(e){return console.error(" API Error:",e),null}}async function YB(){const t=await KB();return t&&t.length>0?(console.log(" Using frames from API"),Promise.resolve(t)):(console.log(" Fallback to mock data"),Promise.resolve(qB.slice(0,10)))}const qx={hidden:{opacity:0,y:24,filter:"blur(2px)"},visible:(t=0)=>({opacity:1,y:0,filter:"blur(0px)",transition:{type:"spring",stiffness:260,damping:22,delay:t*.06}})},QB={hidden:{},visible:{transition:{staggerChildren:.08,delayChildren:.06}}};function E_({i:t=0,className:e="",children:n}){return h.jsx(G1.div,{variants:qx,custom:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"0px 0px -80px 0px"},className:`transform-gpu ${e}`,children:n})}function JB({className:t="",children:e}){return h.jsx(G1.div,{variants:QB,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"0px 0px -80px 0px"},className:t,children:e})}const M_="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,"");function ZB({rank:t}){const e=()=>t===1?"bg-gradient-to-br from-yellow-400 to-yellow-500 text-white":t===2?"bg-gradient-to-br from-blue-400 to-blue-500 text-white":t===3?"bg-gradient-to-br from-orange-400 to-orange-500 text-white":"bg-gradient-to-br from-gray-400 to-gray-500 text-white";return h.jsx("div",{className:`absolute top-3 left-3 w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold shadow-lg ${e()} border-4 border-white z-10`,children:t})}function ez(){return h.jsxs("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-50 via-sky-100 to-sky-200"}),h.jsx("div",{className:"absolute -top-24 left-1/4 h-[340px] w-[340px] rounded-full bg-sky-300/30 blur-3xl animate-float"}),h.jsx("div",{className:"absolute bottom-[-140px] right-[18%] h-[420px] w-[420px] rounded-full bg-sky-400/25 blur-3xl animate-float-slow"}),h.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-70",viewBox:"0 0 1440 700",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"cube",x1:"0",x2:"1",children:[h.jsx("stop",{stopColor:"#8DD6FF",stopOpacity:".35"}),h.jsx("stop",{offset:"1",stopColor:"#60A5FA",stopOpacity:".25"})]})}),[{x:80,y:110,w:80,h:80,d:9},{x:220,y:240,w:120,h:120,d:11},{x:420,y:150,w:90,h:90,d:10},{x:620,y:90,w:70,h:70,d:8},{x:730,y:260,w:180,h:180,d:13},{x:980,y:80,w:140,h:140,d:12},{x:1160,y:220,w:90,h:90,d:10},{x:340,y:360,w:70,h:70,d:8},{x:520,y:410,w:160,h:160,d:12},{x:840,y:340,w:110,h:110,d:11}].map((t,e)=>h.jsxs("g",{children:[h.jsx("rect",{x:t.x,y:t.y,width:t.w,height:t.h,rx:"12",fill:"url(#cube)",stroke:"#fff",strokeOpacity:".35"}),h.jsx("path",{d:`M ${t.x} ${t.y} l ${t.d} -${t.d} h ${t.w} l -${t.d} ${t.d} z`,fill:"#ffffff",opacity:".10"}),h.jsx("rect",{x:t.x,y:t.y+t.h,width:t.w,height:"6",fill:"#60A5FA",opacity:".10"})]},e))]})]})}function tz(){const[t,e]=J.useState([]),[n,i]=J.useState([]),[r,s]=J.useState(!1),[a,o]=J.useState(null),l=ca(),c=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}};J.useEffect(()=>{o(c())},[]),J.useEffect(()=>{const b=()=>{const N=c();o(N)};return window.addEventListener("kh_me_changed",b),window.addEventListener("storage",b),()=>{window.removeEventListener("kh_me_changed",b),window.removeEventListener("storage",b)}},[]),J.useEffect(()=>{YB().then(e),(async()=>{try{const N=await fetch(`${M_}/api/frames/trending?take=4`,{credentials:"include"});if(N.ok){const j=(await N.json()).map(_=>{let C=_.thumb||_.UrlXemTruoc||_.urlXemTruoc;C&&!C.startsWith("http")&&(C=`${M_}${C}`);const E=_.ngayTao||_.NgayTao||_.createdAt||_.CreatedAt||_.createdDate||_.CreatedDate||null;return{id:_.id||_.Id,alias:_.alias||_.Alias,name:_.name||_.tieuDe||_.TieuDe,thumb:C,overlay:C,views:_.luotXem||_.LuotXem||0,ngayTao:E,tag:"Chin dch",owner:_.owner?{id:_.owner.id,name:_.owner.name,avatar:_.owner.avatar}:null}});i(j)}}catch(N){console.error(" Fetch trending error:",N)}})()},[]),J.useMemo(()=>t!=null&&t.length?t.map(N=>({...N,_score:(N.used24h||N.views24h||0)+(N.featured?100:0)})).sort((N,S)=>S._score-N._score).slice(0,4):[],[t]);const d=J.useMemo(()=>t!=null&&t.length?t.filter(b=>b.campaign&&String(b.campaign).toLowerCase().includes("a80")||Array.isArray(b.tags)&&b.tags.some(N=>String(N).toLowerCase().includes("a80"))).slice(0,10):[],[t]),g=[{t:"Nn nh",d:"Gim dung lng nh d dng",to:"/compress",icon:h.jsx(v6,{className:"w-6 h-6"})},{t:"Thay i kch thc",d:"Resize nh theo kch thc mong mun",to:"/resize",icon:h.jsx(v6,{className:"w-6 h-6"})},{t:"nh  PDF",d:"Gp nhiu nh thnh mt PDF",to:"/image-to-pdf",icon:h.jsx(O9,{className:"w-6 h-6"})}],m=b=>{if(typeof b.isNew=="boolean")return b.isNew;const N=b.ngayTao||b.NgayTao||b.createdAt||b.date;if(!N)return!1;const S=new Date(N);return(Date.now()-S.getTime())/36e5<=24},p=b=>{if(!b)return"Mi ng";const N=new Date,S=new Date(b);if(isNaN(S.getTime()))return"Mi ng";const j=N.getTime()-S.getTime(),_=Math.floor(j/1e3),C=Math.floor(_/60),E=Math.floor(C/60),O=Math.floor(E/24);if(O===0)return E>0?`${E} gi trc`:C>0?`${C} pht trc`:_>0?`${_} giy trc`:"Va to";if(O<=7)return`${O} ngy trc`;const U=S.getDate().toString().padStart(2,"0"),F=(S.getMonth()+1).toString().padStart(2,"0"),R=S.getFullYear();return`${U}/${F}/${R}`},x=b=>{b.preventDefault(),a?l("/create-frame"):s(!0)};return h.jsxs("div",{children:[h.jsxs("section",{className:"relative overflow-hidden min-h-[70vh] flex items-center bg-gradient-to-b from-blue-50 to-white",children:[h.jsx(ez,{}),h.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center px-6 py-16",children:[h.jsxs("div",{className:"max-w-xl space-y-6",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-100 text-blue-700 text-sm font-medium ring-1 ring-blue-300/60 shadow-sm",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600"}),"Ni khung hnh c chia s"]}),h.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight text-gray-900",children:["To"," ",h.jsxs("span",{className:"relative inline-block px-1",children:[h.jsx("span",{className:"relative z-10 bg-clip-text text-transparent bg-gradient-to-r from-blue-700 to-sky-500 italic",children:"khung hnh"}),h.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-2 bg-blue-300/40 rounded-sm"})]}),h.jsx("br",{}),"online  nhanh, p v tin li"]}),h.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"Cung cp cng c trc tuyn gip bn to khung hnh v lan to thng ip cho chin dch, s kin hay hot ng ca mnh ch trong vi pht."}),h.jsxs("div",{className:"flex flex-wrap gap-4 pt-2",children:[h.jsx("button",{onClick:x,className:"px-6 py-3 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition shadow-md",children:"TO NGAY"}),h.jsx("a",{href:"/trending",className:"px-6 py-3 rounded-xl font-semibold text-gray-800 ring-1 ring-gray-300 hover:bg-gray-50 transition",children:"XU HNG"})]})]}),h.jsx("div",{className:"flex justify-center md:justify-end",children:h.jsx("img",{src:"/frames/khung-home.png",alt:"Khung hnh minh ho",className:"w-full max-w-md md:max-w-lg drop-shadow-xl rounded-xl"})})]})]}),d.length>0&&h.jsxs("section",{className:"relative overflow-hidden",children:[h.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-gradient-to-b from-[#0d47a1] via-[#1976d2] to-[#1565c0]"}),h.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 opacity-[.08] [background:radial-gradient(80%_80%_at_20%_10%,#fff,transparent_60%)]"}),h.jsx("div",{className:"absolute -top-20 left-1/4 h-[280px] w-[280px] rounded-full bg-sky-300/30 blur-3xl animate-float"}),h.jsx("div",{className:"absolute bottom-[-120px] right-[15%] h-[360px] w-[360px] rounded-full bg-sky-400/25 blur-3xl animate-float-slow"}),h.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[h.jsxs("h2",{className:"text-white text-2xl md:text-3xl font-extrabold tracking-wide drop-shadow-md",children:["KHUNG HNH MI NHT NM ",h.jsx("span",{className:"opacity-90",children:"2025"})]}),h.jsxs("div",{className:"mt-4 rounded-3xl bg-white/90 shadow-[0_10px_40px_-10px_rgba(0,0,0,.25)] ring-1 ring-blue-200/60 p-4 backdrop-blur",children:[h.jsx("div",{className:"px-3 pb-2",children:h.jsx("div",{className:"text-[15px] font-semibold text-blue-700",children:"Khung hnh i hi ng"})}),h.jsx("div",{className:"overflow-x-auto scrollbar-thin scrollbar-thumb-blue-400 scrollbar-track-blue-100 hover:scrollbar-thumb-blue-500",children:h.jsx("ul",{className:"flex gap-4 min-w-max px-2 pb-2",children:d.map((b,N)=>h.jsx("li",{className:"shrink-0",children:h.jsx("button",{onClick:()=>l(`/editor?alias=${b.alias}`),className:"block w-[220px] rounded-2xl overflow-hidden ring-1 ring-black/5 bg-white shadow-[0_10px_25px_-12px_rgba(0,0,0,.25)] transition-shadow hover:shadow-lg",title:b.name||"Khung",children:h.jsxs("div",{className:"relative aspect-square bg-white grid place-items-center",children:[h.jsx("img",{src:b.overlay||b.thumb,alt:b.name||"frame",className:"max-w-full max-h-full object-contain select-none [image-rendering:auto] [image-rendering:-webkit-optimize-contrast]",width:"512",height:"512",decoding:"async",loading:"lazy"}),m(b)&&h.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-md bg-gradient-to-r from-rose-500 to-orange-500 text-white text-xs font-bold shadow-md animate-pulse",children:"NEW"}),h.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-black/5"})]})})},b.alias||N))})})]})]})]}),h.jsxs("section",{className:"relative",children:[h.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-[radial-gradient(60%_60%_at_50%_0%,rgba(59,130,246,0.12),transparent_70%)]"}),h.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-12",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Cc cng c tin li"}),h.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:g.map((b,N)=>h.jsx(E_,{i:N,children:h.jsxs("div",{className:"group rounded-2xl p-6 bg-white/80 ring-1 ring-gray-200 hover:ring-blue-200 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-[0_12px_40px_-12px_rgba(59,130,246,.25)] shine hover-lift",children:[h.jsx("div",{className:"inline-grid place-items-center w-10 h-10 rounded-xl bg-blue-50 ring-1 ring-blue-200/60 text-blue-700",children:b.icon}),h.jsx("h3",{className:"font-semibold mt-3 mb-1",children:b.t}),h.jsx("p",{className:"text-sm text-gray-600",children:b.d}),h.jsx(On,{to:b.to,className:"mt-4 inline-block px-4 py-2 rounded-lg text-blue-700 font-medium ring-1 ring-blue-200 hover:bg-blue-50",children:"Th ngay"})]})},b.t))})]})]}),h.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-12",children:[h.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-4 mb-6",children:[h.jsxs(G1.div,{variants:qx,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:[h.jsx("p",{className:"text-blue-600 font-semibold",children:"Xu hng"}),h.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold",children:"Cc khung hnh ni bt"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Danh sch khung hnh nhn c nhiu tng tc nht trong 24 gi qua."})]}),h.jsx(G1.button,{variants:qx,custom:1,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"px-4 py-2 rounded-xl font-semibold text-gray-800 ring-1 ring-gray-300/70 hover:bg-white hover-lift",onClick:()=>l("/trending"),children:"Xem thm"})]}),n.length>0?h.jsx(JB,{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((b,N)=>h.jsx(E_,{i:N,className:"h-full",children:h.jsx("div",{className:"shine-safe hover-lift transform-gpu",children:h.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden ring-1 ring-gray-200 hover:ring-blue-300 transition-all shadow-sm hover:shadow-lg",children:[h.jsxs("button",{onClick:()=>l(`/editor?alias=${b.alias}`),className:"relative w-full aspect-square bg-gray-50 overflow-hidden group",children:[h.jsx("img",{src:b.thumb,alt:b.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),h.jsx(ZB,{rank:N+1}),m(b)&&h.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 rounded-md bg-gradient-to-r from-rose-500 to-orange-500 text-white text-xs font-bold shadow-md animate-pulse",children:"NEW"})]}),h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"font-bold text-gray-900 mb-3 line-clamp-2 min-h-[3rem]",children:b.name}),h.jsx("div",{className:"border-t border-gray-200 mb-3"}),b.owner&&h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("img",{src:b.owner.avatar||"/icon/default-avatar.png",alt:b.owner.name,className:"w-8 h-8 rounded-full object-cover border-2 border-gray-200"}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:b.owner.name})})]}),b.ngayTao&&h.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-2",children:[h.jsx(I9,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),h.jsx("span",{className:"font-medium",children:p(b.ngayTao)})]}),h.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-4",children:[h.jsx(iu,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),h.jsx("span",{className:"font-medium",children:b.views||0})]}),h.jsx("button",{onClick:()=>l(`/editor?alias=${b.alias}`),className:"w-full px-4 py-2.5 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-colors",children:"S dng ngay"})]})]})})},b.alias))}):h.jsx("div",{className:"text-center py-12 text-gray-500",children:"ang ti khung hnh xu hng..."})]}),h.jsxs("section",{className:"relative overflow-hidden",children:[h.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-gradient-to-b from-[#0d47a1] via-[#1976d2] to-[#1565c0]"}),h.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 opacity-[.08] [background:radial-gradient(80%_80%_at_20%_10%,#fff,transparent_60%)]"}),h.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-sky-200/40 blur-3xl animate-float"}),h.jsx("div",{className:"absolute -bottom-24 -right-24 h-72 w-72 rounded-full bg-sky-300/30 blur-3xl animate-float-slow"}),h.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[h.jsx("h2",{className:"text-white text-2xl md:text-3xl font-extrabold tracking-wide drop-shadow-md",children:"THEO DI CHNG TI  NHN MU MI HNG NGY"}),h.jsx("div",{className:"mt-4 rounded-3xl bg-white/90 shadow-[0_10px_40px_-10px_rgba(0,0,0,.25)] ring-1 ring-blue-200/60 p-6 md:p-8 backdrop-blur",children:h.jsx("div",{className:"text-center",children:h.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[h.jsxs("a",{className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-blue-700 ring-1 ring-blue-200 hover:bg-blue-50 transition-all duration-200 shadow-sm",href:"#",target:"_blank",rel:"noopener noreferrer",children:[h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook Page"]}),h.jsxs("a",{className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-blue-700 ring-1 ring-blue-200 hover:bg-blue-50 transition-all duration-200 shadow-sm",href:"#",target:"_blank",rel:"noopener noreferrer",children:[h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.989C18.343 21.129 22 16.99 22 12c0-5.523-4.477-10-10-10z"})}),"Facebook Group"]})]})})})]})]}),h.jsxs("section",{className:"max-w-4xl mx-auto px-6 py-16",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900",children:"Cu hi thng gp"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Nhng thc mc ph bin v dch v ca chng ti"})]}),h.jsx("div",{className:"space-y-4",children:[{q:"Ti c th to bao nhiu khung hnh?",a:"Khng gii hn! Bn c th to v ti v min ph khng gii hn s lng."},{q:"Khung hnh c bn quyn khng?",a:"Tt c khung hnh do chng ti cung cp u min ph s dng cho mc ch c nhn v phi thng mi."},{q:"Ti c th ng gp khung hnh khng?",a:"C! Bn c th ng k ti khon v ng ti khung hnh ca ring mnh  chia s vi cng ng."},{q:"Lm sao  ti nh cht lng cao?",a:'Sau khi chnh sa, click nt "Ti v"  xut nh vi  phn gii 1080x1080 pixels.'}].map((b,N)=>h.jsxs("details",{className:"group rounded-2xl bg-white ring-1 ring-gray-200 hover:ring-blue-300 transition-all",children:[h.jsxs("summary",{className:"cursor-pointer px-6 py-4 font-semibold text-gray-900 flex items-center justify-between",children:[b.q,h.jsx("span",{className:"text-blue-600 group-open:rotate-180 transition-transform",children:""})]}),h.jsx("div",{className:"px-6 pb-4 text-gray-600 border-t border-gray-100 pt-3",children:b.a})]},N))})]}),r&&h.jsx(P3,{onClose:()=>s(!1)})]})}function nz(){return h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Cng c"}),h.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:["Nn nh","Xo nn","i kch thc","Chuyn WebP","Lm m nn","ng du"].map((t,e)=>h.jsxs("div",{className:"card p-6",children:[h.jsx("div",{className:"font-semibold mb-1",children:t}),h.jsx("p",{className:"text-sm text-gray-600",children:"S trin khai sau khi ni API."}),h.jsx("button",{className:"btn-primary mt-4",children:"Th ngay"})]},e))})]})}const R_="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,"");function F_({rank:t}){const e=()=>t===1?"bg-yellow-400 text-white":t===2?"bg-blue-500 text-white":t===3?"bg-orange-500 text-white":"bg-gray-400 text-white";return h.jsx("div",{className:`absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-lg ${e()} border-4 border-white z-10`,children:t})}function iz(){const[t,e]=J.useState([]),[n,i]=J.useState(!0),[r,s]=J.useState(null),a=ca();J.useEffect(()=>{const c=new AbortController;return(async()=>{try{const g=await fetch(`${R_}/api/frames/trending?take=10`,{credentials:"include",signal:c.signal});if(!g.ok)throw new Error(`HTTP ${g.status}`);const m=await g.json();console.log(" Trending API raw data:",m);const p=m.map(x=>{let b=x.thumb||x.UrlXemTruoc||x.urlXemTruoc;return b&&!b.startsWith("http")&&(b=`${R_}${b}`),{id:x.id||x.Id,rank:x.rank||0,name:x.name||x.tieuDe||x.TieuDe||"Khng c tn",alias:x.alias||x.Alias,thumb:b,overlay:b,totalViews:x.luotXem||x.LuotXem||0,totalDownloads:x.luotTai||x.LuotTai||0,owner:x.owner}});console.log(" Transformed data:",p),e(p)}catch(g){console.error(" Trending error:",g),g.name!=="AbortError"&&s(g.message)}finally{i(!1)}})(),()=>c.abort()},[]);const o=t[0],l=t.slice(1);return h.jsx("div",{className:"min-h-screen bg-white",children:h.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[h.jsxs("div",{className:"flex items-center justify-center gap-3 mb-12",children:[h.jsx("span",{className:"text-4xl",children:""}),h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Xu hng"})]}),n&&h.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mb-4"}),h.jsx("p",{className:"text-gray-500",children:"ang ti..."})]}),r&&h.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-6",children:[" ",r]}),!n&&!r&&t.length===0&&h.jsxs("div",{className:"text-center py-20",children:[h.jsx("div",{className:"text-6xl mb-4",children:""}),h.jsx("p",{className:"text-gray-500 text-lg",children:"Cha c khung hnh no trong 24h"})]}),!n&&!r&&o&&h.jsxs("div",{className:"flex flex-col items-center mb-12",children:[h.jsxs("div",{className:"relative group cursor-pointer mb-8",onClick:()=>a(`/editor?alias=${o.alias}`),children:[h.jsx("img",{src:o.thumb,alt:o.name,className:"w-80 h-80 object-cover rounded-3xl shadow-lg group-hover:shadow-xl transition-all duration-300 bg-gray-50",onError:c=>{console.error(" Image load error:",o.thumb),c.target.src="/placeholder.png"}}),h.jsx(F_,{rank:1})]}),h.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center cursor-pointer hover:text-blue-600 transition max-w-md px-4",onClick:()=>a(`/editor?alias=${o.alias}`),children:o.name}),h.jsxs("div",{className:"mt-3 flex items-center gap-2 text-gray-500",children:[h.jsx(iu,{size:18}),h.jsx("span",{className:"font-medium",children:o.totalViews.toLocaleString()})]})]}),!n&&!r&&l.length>0&&h.jsx("div",{className:"space-y-4",children:l.map((c,d)=>h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-start gap-4 p-4 hover:bg-blue-50 rounded-2xl transition-all duration-300 cursor-pointer group",onClick:()=>a(`/editor?alias=${c.alias}`),children:[h.jsxs("div",{className:"relative flex-shrink-0 mb-6",children:[h.jsx("img",{src:c.thumb,alt:c.name,className:"w-32 h-32 object-cover rounded-2xl shadow-md group-hover:shadow-lg transition-all duration-300 bg-gray-50",onError:g=>{console.error(" Image load error:",c.thumb),g.target.src="/placeholder.png"}}),h.jsx(F_,{rank:c.rank})]}),h.jsxs("div",{className:"flex-1 min-w-0 py-1",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition line-clamp-2 mb-2",children:c.name}),h.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[h.jsx(iu,{size:16}),h.jsx("span",{className:"font-medium",children:c.totalViews.toLocaleString()})]})]})]}),d<l.length-1&&h.jsx("div",{className:"border-t border-gray-200 my-4"})]},c.id))})]})})}var Hu=J,rz=function(e,n,i){const r=Hu.useRef("loading"),s=Hu.useRef(),[a,o]=Hu.useState(0),l=Hu.useRef(),c=Hu.useRef(),d=Hu.useRef();return(l.current!==e||c.current!==n||d.current!==i)&&(r.current="loading",s.current=void 0,l.current=e,c.current=n,d.current=i),Hu.useLayoutEffect(function(){if(!e)return;var g=document.createElement("img");function m(){g.decode().catch(()=>{}).finally(()=>{r.current="loaded",s.current=g,o(Math.random())})}function p(){r.current="failed",s.current=void 0,o(Math.random())}return g.addEventListener("load",m),g.addEventListener("error",p),n&&(g.crossOrigin=n),i&&(g.referrerPolicy=i),g.src=e,function(){g.removeEventListener("load",m),g.removeEventListener("error",p)}},[e,n,i]),[s.current,r.current]};const yj=h2(rz);var xj={exports:{}},D2={},W1={},Ht={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof Jb<"u"?Jb:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.22",isBrowser:n(),isUnminified:/param/.test((function(r){}).toString()),dblClickWindow:400,getAngle(r){return t.Konva.angleDeg?r*e:r},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var r;return(r=t.Konva.Transformer)===null||r===void 0?void 0:r.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(r){t.glob.Konva=r}};const i=r=>{t.Konva[r.prototype.getClassName()]=r};t._registerNode=i,t.Konva._injectGlobal(t.Konva)})(Ht);var fi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=Ht;class n{constructor(C=[1,0,0,1,0,0]){this.dirty=!1,this.m=C&&C.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(C){C.m[0]=this.m[0],C.m[1]=this.m[1],C.m[2]=this.m[2],C.m[3]=this.m[3],C.m[4]=this.m[4],C.m[5]=this.m[5]}point(C){const E=this.m;return{x:E[0]*C.x+E[2]*C.y+E[4],y:E[1]*C.x+E[3]*C.y+E[5]}}translate(C,E){return this.m[4]+=this.m[0]*C+this.m[2]*E,this.m[5]+=this.m[1]*C+this.m[3]*E,this}scale(C,E){return this.m[0]*=C,this.m[1]*=C,this.m[2]*=E,this.m[3]*=E,this}rotate(C){const E=Math.cos(C),O=Math.sin(C),U=this.m[0]*E+this.m[2]*O,F=this.m[1]*E+this.m[3]*O,R=this.m[0]*-O+this.m[2]*E,M=this.m[1]*-O+this.m[3]*E;return this.m[0]=U,this.m[1]=F,this.m[2]=R,this.m[3]=M,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(C,E){const O=this.m[0]+this.m[2]*E,U=this.m[1]+this.m[3]*E,F=this.m[2]+this.m[0]*C,R=this.m[3]+this.m[1]*C;return this.m[0]=O,this.m[1]=U,this.m[2]=F,this.m[3]=R,this}multiply(C){const E=this.m[0]*C.m[0]+this.m[2]*C.m[1],O=this.m[1]*C.m[0]+this.m[3]*C.m[1],U=this.m[0]*C.m[2]+this.m[2]*C.m[3],F=this.m[1]*C.m[2]+this.m[3]*C.m[3],R=this.m[0]*C.m[4]+this.m[2]*C.m[5]+this.m[4],M=this.m[1]*C.m[4]+this.m[3]*C.m[5]+this.m[5];return this.m[0]=E,this.m[1]=O,this.m[2]=U,this.m[3]=F,this.m[4]=R,this.m[5]=M,this}invert(){const C=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),E=this.m[3]*C,O=-this.m[1]*C,U=-this.m[2]*C,F=this.m[0]*C,R=C*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),M=C*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=E,this.m[1]=O,this.m[2]=U,this.m[3]=F,this.m[4]=R,this.m[5]=M,this}getMatrix(){return this.m}decompose(){const C=this.m[0],E=this.m[1],O=this.m[2],U=this.m[3],F=this.m[4],R=this.m[5],M=C*U-E*O,T={x:F,y:R,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(C!=0||E!=0){const D=Math.sqrt(C*C+E*E);T.rotation=E>0?Math.acos(C/D):-Math.acos(C/D),T.scaleX=D,T.scaleY=M/D,T.skewX=(C*O+E*U)/M,T.skewY=0}else if(O!=0||U!=0){const D=Math.sqrt(O*O+U*U);T.rotation=Math.PI/2-(U>0?Math.acos(-O/D):-Math.acos(O/D)),T.scaleX=M/D,T.scaleY=D,T.skewX=0,T.skewY=(C*O+E*U)/M}return T.rotation=t.Util._getRotation(T.rotation),T}}t.Transform=n;const i="[object Array]",r="[object Number]",s="[object String]",a="[object Boolean]",o=Math.PI/180,l=180/Math.PI,c="#",d="",g="0",m="Konva warning: ",p="Konva error: ",x="rgb(",b={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},N=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let S=[];const j=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(_){setTimeout(_,60)};t.Util={_isElement(_){return!!(_&&_.nodeType==1)},_isFunction(_){return!!(_&&_.constructor&&_.call&&_.apply)},_isPlainObject(_){return!!_&&_.constructor===Object},_isArray(_){return Object.prototype.toString.call(_)===i},_isNumber(_){return Object.prototype.toString.call(_)===r&&!isNaN(_)&&isFinite(_)},_isString(_){return Object.prototype.toString.call(_)===s},_isBoolean(_){return Object.prototype.toString.call(_)===a},isObject(_){return _ instanceof Object},isValidSelector(_){if(typeof _!="string")return!1;const C=_[0];return C==="#"||C==="."||C===C.toUpperCase()},_sign(_){return _===0||_>0?1:-1},requestAnimFrame(_){S.push(_),S.length===1&&j(function(){const C=S;S=[],C.forEach(function(E){E()})})},createCanvasElement(){const _=document.createElement("canvas");try{_.style=_.style||{}}catch{}return _},createImageElement(){return document.createElement("img")},_isInDocument(_){for(;_=_.parentNode;)if(_==document)return!0;return!1},_urlToImage(_,C){const E=t.Util.createImageElement();E.onload=function(){C(E)},E.src=_},_rgbToHex(_,C,E){return((1<<24)+(_<<16)+(C<<8)+E).toString(16).slice(1)},_hexToRgb(_){_=_.replace(c,d);const C=parseInt(_,16);return{r:C>>16&255,g:C>>8&255,b:C&255}},getRandomColor(){let _=(Math.random()*16777215<<0).toString(16);for(;_.length<6;)_=g+_;return c+_},getRGB(_){let C;return _ in b?(C=b[_],{r:C[0],g:C[1],b:C[2]}):_[0]===c?this._hexToRgb(_.substring(1)):_.substr(0,4)===x?(C=N.exec(_.replace(/ /g,"")),{r:parseInt(C[1],10),g:parseInt(C[2],10),b:parseInt(C[3],10)}):{r:0,g:0,b:0}},colorToRGBA(_){return _=_||"black",t.Util._namedColorToRBA(_)||t.Util._hex3ColorToRGBA(_)||t.Util._hex4ColorToRGBA(_)||t.Util._hex6ColorToRGBA(_)||t.Util._hex8ColorToRGBA(_)||t.Util._rgbColorToRGBA(_)||t.Util._rgbaColorToRGBA(_)||t.Util._hslColorToRGBA(_)},_namedColorToRBA(_){const C=b[_.toLowerCase()];return C?{r:C[0],g:C[1],b:C[2],a:1}:null},_rgbColorToRGBA(_){if(_.indexOf("rgb(")===0){_=_.match(/rgb\(([^)]+)\)/)[1];const C=_.split(/ *, */).map(Number);return{r:C[0],g:C[1],b:C[2],a:1}}},_rgbaColorToRGBA(_){if(_.indexOf("rgba(")===0){_=_.match(/rgba\(([^)]+)\)/)[1];const C=_.split(/ *, */).map((E,O)=>E.slice(-1)==="%"?O===3?parseInt(E)/100:parseInt(E)/100*255:Number(E));return{r:C[0],g:C[1],b:C[2],a:C[3]}}},_hex8ColorToRGBA(_){if(_[0]==="#"&&_.length===9)return{r:parseInt(_.slice(1,3),16),g:parseInt(_.slice(3,5),16),b:parseInt(_.slice(5,7),16),a:parseInt(_.slice(7,9),16)/255}},_hex6ColorToRGBA(_){if(_[0]==="#"&&_.length===7)return{r:parseInt(_.slice(1,3),16),g:parseInt(_.slice(3,5),16),b:parseInt(_.slice(5,7),16),a:1}},_hex4ColorToRGBA(_){if(_[0]==="#"&&_.length===5)return{r:parseInt(_[1]+_[1],16),g:parseInt(_[2]+_[2],16),b:parseInt(_[3]+_[3],16),a:parseInt(_[4]+_[4],16)/255}},_hex3ColorToRGBA(_){if(_[0]==="#"&&_.length===4)return{r:parseInt(_[1]+_[1],16),g:parseInt(_[2]+_[2],16),b:parseInt(_[3]+_[3],16),a:1}},_hslColorToRGBA(_){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(_)){const[C,...E]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(_),O=Number(E[0])/360,U=Number(E[1])/100,F=Number(E[2])/100;let R,M,T;if(U===0)return T=F*255,{r:Math.round(T),g:Math.round(T),b:Math.round(T),a:1};F<.5?R=F*(1+U):R=F+U-F*U;const D=2*F-R,$=[0,0,0];for(let X=0;X<3;X++)M=O+1/3*-(X-1),M<0&&M++,M>1&&M--,6*M<1?T=D+(R-D)*6*M:2*M<1?T=R:3*M<2?T=D+(R-D)*(2/3-M)*6:T=D,$[X]=T*255;return{r:Math.round($[0]),g:Math.round($[1]),b:Math.round($[2]),a:1}}},haveIntersection(_,C){return!(C.x>_.x+_.width||C.x+C.width<_.x||C.y>_.y+_.height||C.y+C.height<_.y)},cloneObject(_){const C={};for(const E in _)this._isPlainObject(_[E])?C[E]=this.cloneObject(_[E]):this._isArray(_[E])?C[E]=this.cloneArray(_[E]):C[E]=_[E];return C},cloneArray(_){return _.slice(0)},degToRad(_){return _*o},radToDeg(_){return _*l},_degToRad(_){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(_)},_radToDeg(_){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(_)},_getRotation(_){return e.Konva.angleDeg?t.Util.radToDeg(_):_},_capitalize(_){return _.charAt(0).toUpperCase()+_.slice(1)},throw(_){throw new Error(p+_)},error(_){console.error(p+_)},warn(_){e.Konva.showWarnings&&console.warn(m+_)},each(_,C){for(const E in _)C(E,_[E])},_inRange(_,C,E){return C<=_&&_<E},_getProjectionToSegment(_,C,E,O,U,F){let R,M,T;const D=(_-E)*(_-E)+(C-O)*(C-O);if(D==0)R=_,M=C,T=(U-E)*(U-E)+(F-O)*(F-O);else{const $=((U-_)*(E-_)+(F-C)*(O-C))/D;$<0?(R=_,M=C,T=(_-U)*(_-U)+(C-F)*(C-F)):$>1?(R=E,M=O,T=(E-U)*(E-U)+(O-F)*(O-F)):(R=_+$*(E-_),M=C+$*(O-C),T=(R-U)*(R-U)+(M-F)*(M-F))}return[R,M,T]},_getProjectionToLine(_,C,E){const O=t.Util.cloneObject(_);let U=Number.MAX_VALUE;return C.forEach(function(F,R){if(!E&&R===C.length-1)return;const M=C[(R+1)%C.length],T=t.Util._getProjectionToSegment(F.x,F.y,M.x,M.y,_.x,_.y),D=T[0],$=T[1],X=T[2];X<U&&(O.x=D,O.y=$,U=X)}),O},_prepareArrayForTween(_,C,E){const O=[],U=[];if(_.length>C.length){const R=C;C=_,_=R}for(let R=0;R<_.length;R+=2)O.push({x:_[R],y:_[R+1]});for(let R=0;R<C.length;R+=2)U.push({x:C[R],y:C[R+1]});const F=[];return U.forEach(function(R){const M=t.Util._getProjectionToLine(R,O,E);F.push(M.x),F.push(M.y)}),F},_prepareToStringify(_){let C;_.visitedByCircularReferenceRemoval=!0;for(const E in _)if(_.hasOwnProperty(E)&&_[E]&&typeof _[E]=="object"){if(C=Object.getOwnPropertyDescriptor(_,E),_[E].visitedByCircularReferenceRemoval||t.Util._isElement(_[E]))if(C.configurable)delete _[E];else return null;else if(t.Util._prepareToStringify(_[E])===null)if(C.configurable)delete _[E];else return null}return delete _.visitedByCircularReferenceRemoval,_},_assign(_,C){for(const E in C)_[E]=C[E];return _},_getFirstPointerId(_){return _.touches?_.changedTouches[0].identifier:_.pointerId||999},releaseCanvas(..._){e.Konva.releaseCanvasOnDestroy&&_.forEach(C=>{C.width=0,C.height=0})},drawRoundedRectPath(_,C,E,O){let U=0,F=0,R=0,M=0;typeof O=="number"?U=F=R=M=Math.min(O,C/2,E/2):(U=Math.min(O[0]||0,C/2,E/2),F=Math.min(O[1]||0,C/2,E/2),M=Math.min(O[2]||0,C/2,E/2),R=Math.min(O[3]||0,C/2,E/2)),_.moveTo(U,0),_.lineTo(C-F,0),_.arc(C-F,F,F,Math.PI*3/2,0,!1),_.lineTo(C,E-M),_.arc(C-M,E-M,M,0,Math.PI/2,!1),_.lineTo(R,E),_.arc(R,E-R,R,Math.PI/2,Math.PI,!1),_.lineTo(0,U),_.arc(U,U,U,Math.PI,Math.PI*3/2,!1)}}})(fi);var ri={},So={},Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.HitContext=Wl.SceneContext=Wl.Context=void 0;const bj=fi,sz=Ht;function az(t){const e=[],n=t.length,i=bj.Util;for(let r=0;r<n;r++){let s=t[r];i._isNumber(s)?s=Math.round(s*1e3)/1e3:i._isString(s)||(s=s+""),e.push(s)}return e}const D_=",",oz="(",lz=")",cz="([",uz="])",hz=";",dz="()",fz="=",I_=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],pz=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],gz=100;class I2{constructor(e){this.canvas=e,sz.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let i=this.traceArr,r=i.length,s="",a,o,l,c;for(a=0;a<r;a++)o=i[a],l=o.method,l?(c=o.args,s+=l,e?s+=dz:bj.Util._isArray(c[0])?s+=cz+c.join(D_)+uz:(n&&(c=c.map(d=>typeof d=="number"?Math.floor(d):d)),s+=oz+c.join(D_)+lz)):(s+=o.property,e||(s+=fz+o.val)),s+=hz;return s}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,i;n.push(e),i=n.length,i>=gz&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,i,r,s,a){this._context.arc(e,n,i,r,s,a)}arcTo(e,n,i,r,s){this._context.arcTo(e,n,i,r,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,i,r,s,a){this._context.bezierCurveTo(e,n,i,r,s,a)}clearRect(e,n,i,r){this._context.clearRect(e,n,i,r)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const i=arguments;if(i.length===2)return this._context.createImageData(e,n);if(i.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,i,r){return this._context.createLinearGradient(e,n,i,r)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,i,r,s,a){return this._context.createRadialGradient(e,n,i,r,s,a)}drawImage(e,n,i,r,s,a,o,l,c){const d=arguments,g=this._context;d.length===3?g.drawImage(e,n,i):d.length===5?g.drawImage(e,n,i,r,s):d.length===9&&g.drawImage(e,n,i,r,s,a,o,l,c)}ellipse(e,n,i,r,s,a,o,l){this._context.ellipse(e,n,i,r,s,a,o,l)}isPointInPath(e,n,i,r){return i?this._context.isPointInPath(i,e,n,r):this._context.isPointInPath(e,n,r)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,i,r){this._context.fillRect(e,n,i,r)}strokeRect(e,n,i,r){this._context.strokeRect(e,n,i,r)}fillText(e,n,i,r){r?this._context.fillText(e,n,i,r):this._context.fillText(e,n,i)}measureText(e){return this._context.measureText(e)}getImageData(e,n,i,r){return this._context.getImageData(e,n,i,r)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,i,r){this._context.rect(e,n,i,r)}roundRect(e,n,i,r,s){this._context.roundRect(e,n,i,r,s)}putImageData(e,n,i){this._context.putImageData(e,n,i)}quadraticCurveTo(e,n,i,r){this._context.quadraticCurveTo(e,n,i,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,i,r,s,a){this._context.setTransform(e,n,i,r,s,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,i,r){this._context.strokeText(e,n,i,r)}transform(e,n,i,r,s,a){this._context.transform(e,n,i,r,s,a)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=I_.length,i=this.setAttr,r,s;const a=function(o){let l=e[o],c;e[o]=function(){return s=az(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:o,args:s}),c}};for(r=0;r<n;r++)a(I_[r]);e.setAttr=function(){i.apply(e,arguments);const o=arguments[0];let l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}Wl.Context=I2;pz.forEach(function(t){Object.defineProperty(I2.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class mz extends I2{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),i=e.getFillPriority();if(n&&i==="color"){this._fillColor(e);return}const r=e.getFillPatternImage();if(r&&i==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&i==="linear-gradient"){this._fillLinearGradient(e);return}const a=e.getFillRadialGradientColorStops();if(a&&i==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):r?this._fillPattern(e):s?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),i=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,i.x,i.y);if(r){for(let a=0;a<r.length;a+=2)s.addColorStop(r[a],r[a+1]);this.setAttr("strokeStyle",s)}}_stroke(e){const n=e.dash(),i=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!i){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),i||this.restore()}}_applyShadow(e){var n,i,r;const s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",a=(i=e.getShadowBlur())!==null&&i!==void 0?i:5,o=(r=e.getShadowOffset())!==null&&r!==void 0?r:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),d=l.x*c,g=l.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",a*Math.min(Math.abs(d),Math.abs(g))),this.setAttr("shadowOffsetX",o.x*d),this.setAttr("shadowOffsetY",o.y*g)}}Wl.SceneContext=mz;class vz extends I2{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e);const i=e.hitStrokeWidth(),r=i==="auto"?e.strokeWidth():i;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}Wl.HitContext=vz;Object.defineProperty(So,"__esModule",{value:!0});So.HitCanvas=So.SceneCanvas=So.Canvas=void 0;const q1=fi,wj=Wl,_j=Ht;let im;function yz(){if(im)return im;const t=q1.Util.createCanvasElement(),e=t.getContext("2d");return im=function(){const n=_j.Konva._global.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/i}(),q1.Util.releaseCanvas(t),im}class lb{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const i=(e||{}).pixelRatio||_j.Konva.pixelRatio||yz();this.pixelRatio=i,this._canvas=q1.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(r){return q1.Util.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}So.Canvas=lb;class xz extends lb{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new wj.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}So.SceneCanvas=xz;class bz extends lb{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new wj.HitContext(this),this.setSize(e.width,e.height)}}So.HitCanvas=bz;var O2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=Ht,n=fi;t.DD={get isDragging(){let i=!1;return t.DD._dragElements.forEach(r=>{r.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){let i;return t.DD._dragElements.forEach(r=>{i=r.node}),i},_dragElements:new Map,_drag(i){const r=[];t.DD._dragElements.forEach((s,a)=>{const{node:o}=s,l=o.getStage();l.setPointersPositions(i),s.pointerId===void 0&&(s.pointerId=n.Util._getFirstPointerId(i));const c=l._changedPointerPositions.find(d=>d.id===s.pointerId);if(c){if(s.dragStatus!=="dragging"){const d=o.dragDistance();if(Math.max(Math.abs(c.x-s.startPointerPos.x),Math.abs(c.y-s.startPointerPos.y))<d||(o.startDrag({evt:i}),!o.isDragging()))return}o._setDragPosition(i,s),r.push(o)}}),r.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:i},!0)})},_endDragBefore(i){const r=[];t.DD._dragElements.forEach(s=>{const{node:a}=s,o=a.getStage();if(i&&o.setPointersPositions(i),!o._changedPointerPositions.find(d=>d.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,s.dragStatus="stopped");const c=s.node.getLayer()||s.node instanceof e.Konva.Stage&&s.node;c&&r.indexOf(c)===-1&&r.push(c)}),r.forEach(s=>{s.draw()})},_endDragAfter(i){t.DD._dragElements.forEach((r,s)=>{r.dragStatus==="stopped"&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:i},!0),r.dragStatus!=="dragging"&&t.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))})(O2);var Wt={},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.RGBComponent=wz;Ct.alphaComponent=_z;Ct.getNumberValidator=Sz;Ct.getNumberOrArrayOfNumbersValidator=Nz;Ct.getNumberOrAutoValidator=kz;Ct.getStringValidator=Cz;Ct.getStringOrGradientValidator=jz;Ct.getFunctionValidator=Az;Ct.getNumberArrayValidator=Pz;Ct.getBooleanValidator=Lz;Ct.getComponentValidator=Tz;const Zl=Ht,Si=fi;function ec(t){return Si.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||Si.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function wz(t){return t>255?255:t<0?0:Math.round(t)}function _z(t){return t>1?1:t<1e-4?1e-4:t}function Sz(){if(Zl.Konva.isUnminified)return function(t,e){return Si.Util._isNumber(t)||Si.Util.warn(ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Nz(t){if(Zl.Konva.isUnminified)return function(e,n){let i=Si.Util._isNumber(e),r=Si.Util._isArray(e)&&e.length==t;return!i&&!r&&Si.Util.warn(ec(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function kz(){if(Zl.Konva.isUnminified)return function(t,e){return Si.Util._isNumber(t)||t==="auto"||Si.Util.warn(ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Cz(){if(Zl.Konva.isUnminified)return function(t,e){return Si.Util._isString(t)||Si.Util.warn(ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function jz(){if(Zl.Konva.isUnminified)return function(t,e){const n=Si.Util._isString(t),i=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||i||Si.Util.warn(ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function Az(){if(Zl.Konva.isUnminified)return function(t,e){return Si.Util._isFunction(t)||Si.Util.warn(ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function Pz(){if(Zl.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(Si.Util._isArray(t)?t.forEach(function(i){Si.Util._isNumber(i)||Si.Util.warn('"'+e+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):Si.Util.warn(ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Lz(){if(Zl.Konva.isUnminified)return function(t,e){return t===!0||t===!1||Si.Util.warn(ec(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function Tz(t){if(Zl.Konva.isUnminified)return function(e,n){return e==null||Si.Util.isObject(e)||Si.Util.warn(ec(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=fi,n=Ct,i="get",r="set";t.Factory={addGetterSetter(s,a,o,l,c){t.Factory.addGetter(s,a,o),t.Factory.addSetter(s,a,l,c),t.Factory.addOverloadedGetterSetter(s,a)},addGetter(s,a,o){const l=i+e.Util._capitalize(a);s.prototype[l]=s.prototype[l]||function(){const c=this.attrs[a];return c===void 0?o:c}},addSetter(s,a,o,l){const c=r+e.Util._capitalize(a);s.prototype[c]||t.Factory.overWriteSetter(s,a,o,l)},overWriteSetter(s,a,o,l){const c=r+e.Util._capitalize(a);s.prototype[c]=function(d){return o&&d!==void 0&&d!==null&&(d=o.call(this,d,a)),this._setAttr(a,d),l&&l.call(this),this}},addComponentsGetterSetter(s,a,o,l,c){const d=o.length,g=e.Util._capitalize,m=i+g(a),p=r+g(a);s.prototype[m]=function(){const b={};for(let N=0;N<d;N++){const S=o[N];b[S]=this.getAttr(a+g(S))}return b};const x=(0,n.getComponentValidator)(o);s.prototype[p]=function(b){const N=this.attrs[a];l&&(b=l.call(this,b,a)),x&&x.call(this,b,a);for(const S in b)b.hasOwnProperty(S)&&this._setAttr(a+g(S),b[S]);return b||o.forEach(S=>{this._setAttr(a+g(S),void 0)}),this._fireChangeEvent(a,N,b),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(s,a)},addOverloadedGetterSetter(s,a){const o=e.Util._capitalize(a),l=r+o,c=i+o;s.prototype[a]=function(){return arguments.length?(this[l](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(s,a,o,l){e.Util.error("Adding deprecated "+a);const c=i+e.Util._capitalize(a),d=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[c]=function(){e.Util.error(d);const g=this.attrs[a];return g===void 0?o:g},t.Factory.addSetter(s,a,l,function(){e.Util.error(d)}),t.Factory.addOverloadedGetterSetter(s,a)},backCompat(s,a){e.Util.each(a,function(o,l){const c=s.prototype[l],d=i+e.Util._capitalize(o),g=r+e.Util._capitalize(o);function m(){c.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}s.prototype[o]=m,s.prototype[d]=m,s.prototype[g]=m})},afterSetFilter(){this._filterUpToDate=!1}}})(Wt);Object.defineProperty(ri,"__esModule",{value:!0});ri.Node=void 0;const pd=So,Ra=O2,ag=Wt,jc=Ht,Zt=fi,Oi=Ct,Qm="absoluteOpacity",rm="allEventListeners",Ml="absoluteTransform",O_="absoluteScale",$u="canvas",Ez="Change",Mz="children",Rz="konva",Kx="listening",Fz="mouseenter",Dz="mouseleave",Iz="pointerenter",Oz="pointerleave",Bz="touchenter",zz="touchleave",B_="set",z_="Shape",Jm=" ",U_="stage",Ec="transform",Uz="Stage",Xx="visible",Vz=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Jm);let Hz=1;class Rt{constructor(e){this._id=Hz++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Ec||e===Ml)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let i=this._cache.get(e);return(i===void 0||(e===Ec||e===Ml)&&i.dirty===!0)&&(i=n.call(this),this._cache.set(e,i)),i}_calculate(e,n,i){if(!this._attachedDepsListeners.get(e)){const r=n.map(s=>s+"Change.konva").join(Jm);this.on(r,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,i)}_getCanvasCache(){return this._cache.get($u)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Ml&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has($u)){const{scene:e,filter:n,hit:i,buffer:r}=this._cache.get($u);Zt.Util.releaseCanvas(e,n,i,r),this._cache.delete($u)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let i={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let r=Math.ceil(n.width||i.width),s=Math.ceil(n.height||i.height),a=n.pixelRatio,o=n.x===void 0?Math.floor(i.x):n.x,l=n.y===void 0?Math.floor(i.y):n.y,c=n.offset||0,d=n.drawBorder||!1,g=n.hitCanvasPixelRatio||1;if(!r||!s){Zt.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const m=Math.abs(Math.round(i.x)-o)>.5?1:0,p=Math.abs(Math.round(i.y)-l)>.5?1:0;r+=c*2+m,s+=c*2+p,o-=c,l-=c;const x=new pd.SceneCanvas({pixelRatio:a,width:r,height:s}),b=new pd.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),N=new pd.HitCanvas({pixelRatio:g,width:r,height:s}),S=x.getContext(),j=N.getContext(),_=new pd.SceneCanvas({width:x.width/x.pixelRatio+Math.abs(o),height:x.height/x.pixelRatio+Math.abs(l),pixelRatio:x.pixelRatio}),C=_.getContext();return N.isCache=!0,x.isCache=!0,this._cache.delete($u),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(x.getContext()._context.imageSmoothingEnabled=!1,b.getContext()._context.imageSmoothingEnabled=!1),S.save(),j.save(),C.save(),S.translate(-o,-l),j.translate(-o,-l),C.translate(-o,-l),_.x=o,_.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(Qm),this._clearSelfAndDescendantCache(O_),this.drawScene(x,this,_),this.drawHit(N,this),this._isUnderCache=!1,S.restore(),j.restore(),d&&(S.save(),S.beginPath(),S.rect(0,0,r,s),S.closePath(),S.setAttr("strokeStyle","red"),S.setAttr("lineWidth",5),S.stroke(),S.restore()),this._cache.set($u,{scene:x,filter:b,hit:N,buffer:_,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has($u)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let r=1/0,s=1/0,a=-1/0,o=-1/0;const l=this.getAbsoluteTransform(n);return i.forEach(function(c){const d=l.point(c);r===void 0&&(r=a=d.x,s=o=d.y),r=Math.min(r,d.x),s=Math.min(s,d.y),a=Math.max(a,d.x),o=Math.max(o,d.y)}),{x:r,y:s,width:a-r,height:o-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const i=this._getCachedSceneCanvas(),r=i.pixelRatio;e.drawImage(i._canvas,0,0,i.width/r,i.height/r),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),i=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),i=n.scene,r=n.filter,s=r.getContext(),a,o,l,c;if(e){if(!this._filterUpToDate){const d=i.pixelRatio;r.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio);try{for(a=e.length,s.clear(),s.drawImage(i._canvas,0,0,i.getWidth()/d,i.getHeight()/d),o=s.getImageData(0,0,r.getWidth(),r.getHeight()),l=0;l<a;l++){if(c=e[l],typeof c!="function"){Zt.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,o),s.putImageData(o,0,0)}}catch(g){Zt.Util.error("Unable to apply filter. "+g.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return r}return i}on(e,n){if(this._cache&&this._cache.delete(rm),arguments.length===3)return this._delegate.apply(this,arguments);const i=e.split(Jm);for(let r=0;r<i.length;r++){const a=i[r].split("."),o=a[0],l=a[1]||"";this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:l,handler:n})}return this}off(e,n){let i=(e||"").split(Jm),r=i.length,s,a,o,l,c,d;if(this._cache&&this._cache.delete(rm),!e)for(a in this.eventListeners)this._off(a);for(s=0;s<r;s++)if(o=i[s],l=o.split("."),c=l[0],d=l[1],c)this.eventListeners[c]&&this._off(c,d,n);else for(a in this.eventListeners)this._off(a,d,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(i){n.call(this,i.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,i){const r=this;this.on(e,function(s){const a=s.target.findAncestors(n,!0,r);for(let o=0;o<a.length;o++)s=Zt.Util.cloneObject(s),s.currentTarget=a[o],i.call(a[o],s)})}remove(){return this.isDragging()&&this.stopDrag(),Ra.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ml),this._clearSelfAndDescendantCache(Qm),this._clearSelfAndDescendantCache(O_),this._clearSelfAndDescendantCache(U_),this._clearSelfAndDescendantCache(Xx),this._clearSelfAndDescendantCache(Kx)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+Zt.Util._capitalize(e);return Zt.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,i;if(!e)return this;for(n in e)n!==Mz&&(i=B_+Zt.Util._capitalize(n),Zt.Util._isFunction(this[i])?this[i](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Kx,this._isListening)}_isListening(e){if(!this.listening())return!1;const i=this.getParent();return i&&i!==e&&this!==e?i._isListening(e):!0}isVisible(){return this._getCache(Xx,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const i=this.getParent();return i&&i!==e&&this!==e?i._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const i=this.getLayer();let r=!1;Ra.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===i)&&(r=!0)});const s=!n&&!jc.Konva.hitOnDragEnabled&&(r||jc.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,i=0,r,s,a,o;function l(d){for(r=[],s=d.length,a=0;a<s;a++)o=d[a],i++,o.nodeType!==z_&&(r=r.concat(o.getChildren().slice())),o._id===n._id&&(a=s);r.length>0&&r[0].getDepth()<=e&&l(r)}const c=this.getStage();return n.nodeType!==Uz&&c&&l(c.getChildren()),i}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Ec),this._clearSelfAndDescendantCache(Ml)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const i=this.getAbsoluteTransform().copy();return i.invert(),i.point(n)}getAbsolutePosition(e){let n=!1,i=this.parent;for(;i;){if(i.isCached()){n=!0;break}i=i.parent}n&&!e&&(e=!0);const r=this.getAbsoluteTransform(e).getMatrix(),s=new Zt.Transform,a=this.offset();return s.m=r.slice(),s.translate(a.x,a.y),s.getTranslation()}setAbsolutePosition(e){const{x:n,y:i,...r}=this._clearTransform();this.attrs.x=n,this.attrs.y=i,this._clearCache(Ec);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(r),this.setPosition({x:e.x,y:e.y}),this._clearCache(Ec),this._clearSelfAndDescendantCache(Ml),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,i=e.y,r=this.x(),s=this.y();return n!==void 0&&(r+=n),i!==void 0&&(s+=i),this.setPosition({x:r,y:s}),this}_eachAncestorReverse(e,n){let i=[],r=this.getParent(),s,a;if(!(n&&n._id===this._id)){for(i.unshift(this);r&&(!n||r._id!==n._id);)i.unshift(r),r=r.parent;for(s=i.length,a=0;a<s;a++)e(i[a])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Zt.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Zt.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Zt.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Zt.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Zt.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Zt.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Qm,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,i,r,s,a;const o={attrs:{},className:this.getClassName()};for(n in e)i=e[n],a=Zt.Util.isObject(i)&&!Zt.Util._isPlainObject(i)&&!Zt.Util._isArray(i),!a&&(r=typeof this[n]=="function"&&this[n],delete e[n],s=r?r.call(this):null,e[n]=i,s!==i&&(o.attrs[n]=i));return Zt.Util._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,i){const r=[];n&&this._isMatch(e)&&r.push(this);let s=this.parent;for(;s;){if(s===i)return r;s._isMatch(e)&&r.push(s),s=s.parent}return r}isAncestorOf(e){return!1}findAncestor(e,n,i){return this.findAncestors(e,n,i)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),i=n.length,r,s;for(r=0;r<i;r++)if(s=n[r],Zt.Util.isValidSelector(s)||(Zt.Util.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Zt.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Zt.Util.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(U_,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},i){return n.target=n.target||this,i?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Ml,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new Zt.Transform,this._eachAncestorReverse(function(i){const r=i.transformsEnabled();r==="all"?n.multiply(i.getTransform()):r==="position"&&n.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),n;{n=this._cache.get(Ml)||new Zt.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const i=this.transformsEnabled();if(i==="all")n.multiply(this.getTransform());else if(i==="position"){const r=this.attrs.x||0,s=this.attrs.y||0,a=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(r-a,s-o)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const r=this.getAbsoluteTransform(e).decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Ec,this._getTransform)}_getTransform(){var e,n;const i=this._cache.get(Ec)||new Zt.Transform;i.reset();const r=this.x(),s=this.y(),a=jc.Konva.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,d=this.attrs.skewY||0,g=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(r!==0||s!==0)&&i.translate(r,s),a!==0&&i.rotate(a),(c!==0||d!==0)&&i.skew(c,d),(o!==1||l!==1)&&i.scale(o,l),(g!==0||m!==0)&&i.translate(-1*g,-1*m),i.dirty=!1,i}clone(e){let n=Zt.Util.cloneObject(this.attrs),i,r,s,a,o;for(i in e)n[i]=e[i];const l=new this.constructor(n);for(i in this.eventListeners)for(r=this.eventListeners[i],s=r.length,a=0;a<s;a++)o=r[a],o.name.indexOf(Rz)<0&&(l.eventListeners[i]||(l.eventListeners[i]=[]),l.eventListeners[i].push(o));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),i=this.getStage(),r=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),a=e.pixelRatio||1,o=new pd.SceneCanvas({width:e.width||Math.ceil(n.width)||(i?i.width():0),height:e.height||Math.ceil(n.height)||(i?i.height():0),pixelRatio:a}),l=o.getContext(),c=new pd.SceneCanvas({width:o.width/o.pixelRatio+Math.abs(r),height:o.height/o.pixelRatio+Math.abs(s),pixelRatio:o.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(r||s)&&l.translate(-1*r,-1*s),this.drawScene(o,void 0,c),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,i=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(n,i);return e.callback&&e.callback(r),r}toImage(e){return new Promise((n,i)=>{try{const r=e==null?void 0:e.callback;r&&delete e.callback,Zt.Util._urlToImage(this.toDataURL(e),function(s){n(s),r==null||r(s)})}catch(r){i(r)}})}toBlob(e){return new Promise((n,i)=>{try{const r=e==null?void 0:e.callback;r&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),r==null||r(s)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(r){i(r)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():jc.Konva.dragDistance}_off(e,n,i){let r=this.eventListeners[e],s,a,o;for(s=0;s<r.length;s++)if(a=r[s].name,o=r[s].handler,(a!=="konva"||n==="konva")&&(!n||a===n)&&(!i||i===o)){if(r.splice(s,1),r.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,i){this._fire(e+Ez,{oldVal:n,newVal:i})}addName(e){if(!this.hasName(e)){const n=this.name(),i=n?n+" "+e:e;this.name(i)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),i=n.indexOf(e);return i!==-1&&(n.splice(i,1),this.name(n.join(" "))),this}setAttr(e,n){const i=this[B_+Zt.Util._capitalize(e)];return Zt.Util._isFunction(i)?i.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(jc.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const i=this.attrs[e];i===n&&!Zt.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,i,n),this._requestDraw())}_setComponentAttr(e,n,i){let r;i!==void 0&&(r=this.attrs[e],r||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=i,this._fireChangeEvent(e,r,i))}_fireAndBubble(e,n,i){n&&this.nodeType===z_&&(n.target=this);const r=[Fz,Dz,Iz,Oz,Bz,zz];if(!(r.indexOf(e)!==-1&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||this.nodeType==="Stage"&&!i))){this._fire(e,n);const a=r.indexOf(e)!==-1&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!a&&(i&&i.parent?this._fireAndBubble.call(this.parent,e,n,i):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,i,r;const s=(n=this._cache.get(rm))!==null&&n!==void 0?n:{};let a=s==null?void 0:s[e];if(a===void 0){a=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(r=(i=o.eventListeners)===null||i===void 0?void 0:i[e])!==null&&r!==void 0?r:[];a.push(...l),o=Object.getPrototypeOf(o)}s[e]=a,this._cache.set(rm,s)}return a}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const i=this._getProtoListeners(e);if(i)for(let s=0;s<i.length;s++)i[s].handler.call(this,n);const r=this.eventListeners[e];if(r)for(let s=0;s<r.length;s++)r[s].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,i=this.getStage(),r=this.getAbsolutePosition();if(!i)return;const s=i._getPointerById(n)||i._changedPointerPositions[0]||r;Ra.DD._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-r.x,y:s.y-r.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Ra.DD._dragElements.has(this._id)||this._createDragElement(e);const i=Ra.DD._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const i=this.getStage()._getPointerById(n.pointerId);if(!i)return;let r={x:i.x-n.offset.x,y:i.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const a=s.call(this,r,e);a?r=a:Zt.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==r.x||this._lastPos.y!==r.y)&&(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}stopDrag(e){const n=Ra.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Ra.DD._endDragBefore(e),Ra.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Ra.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||jc.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let r=!1;Ra.DD._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(r=!0)}),r||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Ra.DD._dragElements.get(this._id),i=n&&n.dragStatus==="dragging",r=n&&n.dragStatus==="ready";i?this.stopDrag():r&&Ra.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const i={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return Zt.Util.haveIntersection(i,this.getClientRect())}static create(e,n){return Zt.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let i=Rt.prototype.getClassName.call(e),r=e.children,s,a,o;n&&(e.attrs.container=n),jc.Konva[i]||(Zt.Util.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");const l=jc.Konva[i];if(s=new l(e.attrs),r)for(a=r.length,o=0;o<a;o++)s.add(Rt._createNode(r[o]));return s}}ri.Node=Rt;Rt.prototype.nodeType="Node";Rt.prototype._attrsAffectingSize=[];Rt.prototype.eventListeners={};Rt.prototype.on.call(Rt.prototype,Vz,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Ec),this._clearSelfAndDescendantCache(Ml)});Rt.prototype.on.call(Rt.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Xx)});Rt.prototype.on.call(Rt.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Kx)});Rt.prototype.on.call(Rt.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Qm)});const Rn=ag.Factory.addGetterSetter;Rn(Rt,"zIndex");Rn(Rt,"absolutePosition");Rn(Rt,"position");Rn(Rt,"x",0,(0,Oi.getNumberValidator)());Rn(Rt,"y",0,(0,Oi.getNumberValidator)());Rn(Rt,"globalCompositeOperation","source-over",(0,Oi.getStringValidator)());Rn(Rt,"opacity",1,(0,Oi.getNumberValidator)());Rn(Rt,"name","",(0,Oi.getStringValidator)());Rn(Rt,"id","",(0,Oi.getStringValidator)());Rn(Rt,"rotation",0,(0,Oi.getNumberValidator)());ag.Factory.addComponentsGetterSetter(Rt,"scale",["x","y"]);Rn(Rt,"scaleX",1,(0,Oi.getNumberValidator)());Rn(Rt,"scaleY",1,(0,Oi.getNumberValidator)());ag.Factory.addComponentsGetterSetter(Rt,"skew",["x","y"]);Rn(Rt,"skewX",0,(0,Oi.getNumberValidator)());Rn(Rt,"skewY",0,(0,Oi.getNumberValidator)());ag.Factory.addComponentsGetterSetter(Rt,"offset",["x","y"]);Rn(Rt,"offsetX",0,(0,Oi.getNumberValidator)());Rn(Rt,"offsetY",0,(0,Oi.getNumberValidator)());Rn(Rt,"dragDistance",void 0,(0,Oi.getNumberValidator)());Rn(Rt,"width",0,(0,Oi.getNumberValidator)());Rn(Rt,"height",0,(0,Oi.getNumberValidator)());Rn(Rt,"listening",!0,(0,Oi.getBooleanValidator)());Rn(Rt,"preventDefault",!0,(0,Oi.getBooleanValidator)());Rn(Rt,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Rn(Rt,"visible",!0,(0,Oi.getBooleanValidator)());Rn(Rt,"transformsEnabled","all",(0,Oi.getStringValidator)());Rn(Rt,"size");Rn(Rt,"dragBoundFunc");Rn(Rt,"draggable",!1,(0,Oi.getBooleanValidator)());ag.Factory.backCompat(Rt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});Ph.Container=void 0;const Lf=Wt,Fv=ri,B2=Ct;class Lh extends Fv.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let i=0;i<e.length;i++)this.add(e[i]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const i=[];return this._descendants(r=>{const s=r._isMatch(e);return s&&i.push(r),!!(s&&n)}),i}_descendants(e){let n=!1;const i=this.getChildren();for(const r of i){if(n=e(r),n)return!0;if(r.hasChildren()&&(n=r._descendants(e),n))return!0}return!1}toObject(){const e=Fv.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Fv.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(i){n.add(i.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(i=>{i.isVisible()&&i.intersects(e)&&n.push(i)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(i){i._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,i){n.index=i}),this._requestDraw()}drawScene(e,n,i){const r=this.getLayer(),s=e||r&&r.getCanvas(),a=s&&s.getContext(),o=this._getCanvasCache(),l=o&&o.scene,c=s&&s.isCache;if(!this.isVisible()&&!c)return this;if(l){a.save();const d=this.getAbsoluteTransform(n).getMatrix();a.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",s,n,i);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const i=this.getLayer(),r=e||i&&i.hitCanvas,s=r&&r.getContext(),a=this._getCanvasCache();if(a&&a.hit){s.save();const l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",r,n);return this}_drawChildren(e,n,i,r){var s;const a=n&&n.getContext(),o=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),d=typeof o=="number"&&typeof l=="number"||c,g=i===this;if(d){a.save();const p=this.getAbsoluteTransform(i);let x=p.getMatrix();a.transform(x[0],x[1],x[2],x[3],x[4],x[5]),a.beginPath();let b;if(c)b=c.call(this,a,this);else{const N=this.clipX(),S=this.clipY();a.rect(N||0,S||0,o,l)}a.clip.apply(a,b),x=p.copy().invert().getMatrix(),a.transform(x[0],x[1],x[2],x[3],x[4],x[5])}const m=!g&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(a.save(),a._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(p){p[e](n,i,r)}),m&&a.restore(),d&&a.restore()}getClientRect(e={}){var n;const i=e.skipTransform,r=e.relativeTo;let s,a,o,l,c={x:1/0,y:1/0,width:0,height:0};const d=this;(n=this.children)===null||n===void 0||n.forEach(function(p){if(!p.visible())return;const x=p.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});x.width===0&&x.height===0||(s===void 0?(s=x.x,a=x.y,o=x.x+x.width,l=x.y+x.height):(s=Math.min(s,x.x),a=Math.min(a,x.y),o=Math.max(o,x.x+x.width),l=Math.max(l,x.y+x.height)))});const g=this.find("Shape");let m=!1;for(let p=0;p<g.length;p++)if(g[p]._isVisible(this)){m=!0;break}return m&&s!==void 0?c={x:s,y:a,width:o-s,height:l-a}:c={x:0,y:0,width:0,height:0},i?c:this._transformedRect(c,r)}}Ph.Container=Lh;Lf.Factory.addComponentsGetterSetter(Lh,"clip",["x","y","width","height"]);Lf.Factory.addGetterSetter(Lh,"clipX",void 0,(0,B2.getNumberValidator)());Lf.Factory.addGetterSetter(Lh,"clipY",void 0,(0,B2.getNumberValidator)());Lf.Factory.addGetterSetter(Lh,"clipWidth",void 0,(0,B2.getNumberValidator)());Lf.Factory.addGetterSetter(Lh,"clipHeight",void 0,(0,B2.getNumberValidator)());Lf.Factory.addGetterSetter(Lh,"clipFunc");var Sj={},mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.getCapturedShape=Gz;mu.createEvent=cb;mu.hasPointerCapture=Wz;mu.setPointerCapture=qz;mu.releaseCapture=kj;const $z=Ht,Ip=new Map,Nj=$z.Konva._global.PointerEvent!==void 0;function Gz(t){return Ip.get(t)}function cb(t){return{evt:t,pointerId:t.pointerId}}function Wz(t,e){return Ip.get(t)===e}function qz(t,e){kj(t),e.getStage()&&(Ip.set(t,e),Nj&&e._fire("gotpointercapture",cb(new PointerEvent("gotpointercapture"))))}function kj(t,e){const n=Ip.get(t);if(!n)return;const i=n.getStage();i&&i.content,Ip.delete(t),Nj&&n._fire("lostpointercapture",cb(new PointerEvent("lostpointercapture")))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=fi,n=Wt,i=Ph,r=Ht,s=So,a=O2,o=Ht,l=mu,c="Stage",d="string",g="px",m="mouseout",p="mouseleave",x="mouseover",b="mouseenter",N="mousemove",S="mousedown",j="mouseup",_="pointermove",C="pointerdown",E="pointerup",O="pointercancel",U="lostpointercapture",F="pointerout",R="pointerleave",M="pointerover",T="pointerenter",D="contextmenu",$="touchstart",X="touchend",ae="touchmove",ge="touchcancel",pe="wheel",te=5,Z=[[b,"_pointerenter"],[S,"_pointerdown"],[N,"_pointermove"],[j,"_pointerup"],[p,"_pointerleave"],[$,"_pointerdown"],[ae,"_pointermove"],[X,"_pointerup"],[ge,"_pointercancel"],[x,"_pointerover"],[pe,"_wheel"],[D,"_contextmenu"],[C,"_pointerdown"],[_,"_pointermove"],[E,"_pointerup"],[O,"_pointercancel"],[R,"_pointerleave"],[U,"_lostpointercapture"]],ue={mouse:{[F]:m,[R]:p,[M]:x,[T]:b,[_]:N,[C]:S,[E]:j,[O]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[F]:"touchout",[R]:"touchleave",[M]:"touchover",[T]:"touchenter",[_]:ae,[C]:$,[E]:X,[O]:ge,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[F]:F,[R]:R,[M]:M,[T]:T,[_]:_,[C]:C,[E]:E,[O]:O,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Y=he=>he.indexOf("pointer")>=0?"pointer":he.indexOf("touch")>=0?"touch":"mouse",z=he=>{const K=Y(he);if(K==="pointer")return r.Konva.pointerEventsEnabled&&ue.pointer;if(K==="touch")return ue.touch;if(K==="mouse")return ue.mouse};function q(he={}){return(he.clipFunc||he.clipWidth||he.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),he}const ie="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class ce extends i.Container{constructor(K){super(q(K)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{q(this.attrs)}),this._checkVisibility()}_validateAdd(K){const de=K.getType()==="Layer",me=K.getType()==="FastLayer";de||me||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const K=this.visible()?"":"none";this.content.style.display=K}setContainer(K){if(typeof K===d){let de;if(K.charAt(0)==="."){const me=K.slice(1);K=document.getElementsByClassName(me)[0]}else K.charAt(0)!=="#"?de=K:de=K.slice(1),K=document.getElementById(de);if(!K)throw"Can not find container in document with id "+de}return this._setAttr("container",K),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),K.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const K=this.children,de=K.length;for(let me=0;me<de;me++)K[me].clear();return this}clone(K){return K||(K={}),K.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,K)}destroy(){super.destroy();const K=this.content;K&&e.Util._isInDocument(K)&&this.container().removeChild(K);const de=t.stages.indexOf(this);return de>-1&&t.stages.splice(de,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const K=this._pointerPositions[0]||this._changedPointerPositions[0];return K?{x:K.x,y:K.y}:(e.Util.warn(ie),null)}_getPointerById(K){return this._pointerPositions.find(de=>de.id===K)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(K){K=K||{},K.x=K.x||0,K.y=K.y||0,K.width=K.width||this.width(),K.height=K.height||this.height();const de=new s.SceneCanvas({width:K.width,height:K.height,pixelRatio:K.pixelRatio||1}),me=de.getContext()._context,Ce=this.children;return(K.x||K.y)&&me.translate(-1*K.x,-1*K.y),Ce.forEach(function(Le){if(!Le.isVisible())return;const ze=Le._toKonvaCanvas(K);me.drawImage(ze._canvas,K.x,K.y,ze.getWidth()/ze.getPixelRatio(),ze.getHeight()/ze.getPixelRatio())}),de}getIntersection(K){if(!K)return null;const de=this.children,me=de.length,Ce=me-1;for(let Le=Ce;Le>=0;Le--){const ze=de[Le].getIntersection(K);if(ze)return ze}return null}_resizeDOM(){const K=this.width(),de=this.height();this.content&&(this.content.style.width=K+g,this.content.style.height=de+g),this.bufferCanvas.setSize(K,de),this.bufferHitCanvas.setSize(K,de),this.children.forEach(me=>{me.setSize({width:K,height:de}),me.draw()})}add(K,...de){if(arguments.length>1){for(let Ce=0;Ce<arguments.length;Ce++)this.add(arguments[Ce]);return this}super.add(K);const me=this.children.length;return me>te&&e.Util.warn("The stage has "+me+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),K.setSize({width:this.width(),height:this.height()}),K.draw(),r.Konva.isBrowser&&this.content.appendChild(K.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(K){return l.hasPointerCapture(K,this)}setPointerCapture(K){l.setPointerCapture(K,this)}releaseCapture(K){l.releaseCapture(K,this)}getLayers(){return this.children}_bindContentEvents(){r.Konva.isBrowser&&Z.forEach(([K,de])=>{this.content.addEventListener(K,me=>{this[de](me)},{passive:!1})})}_pointerenter(K){this.setPointersPositions(K);const de=z(K.type);de&&this._fire(de.pointerenter,{evt:K,target:this,currentTarget:this})}_pointerover(K){this.setPointersPositions(K);const de=z(K.type);de&&this._fire(de.pointerover,{evt:K,target:this,currentTarget:this})}_getTargetShape(K){let de=this[K+"targetShape"];return de&&!de.getStage()&&(de=null),de}_pointerleave(K){const de=z(K.type),me=Y(K.type);if(!de)return;this.setPointersPositions(K);const Ce=this._getTargetShape(me),Le=!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled;Ce&&Le?(Ce._fireAndBubble(de.pointerout,{evt:K}),Ce._fireAndBubble(de.pointerleave,{evt:K}),this._fire(de.pointerleave,{evt:K,target:this,currentTarget:this}),this[me+"targetShape"]=null):Le&&(this._fire(de.pointerleave,{evt:K,target:this,currentTarget:this}),this._fire(de.pointerout,{evt:K,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(K){const de=z(K.type),me=Y(K.type);if(!de)return;this.setPointersPositions(K);let Ce=!1;this._changedPointerPositions.forEach(Le=>{const ze=this.getIntersection(Le);if(a.DD.justDragged=!1,r.Konva["_"+me+"ListenClick"]=!0,!ze||!ze.isListening()){this[me+"ClickStartShape"]=void 0;return}r.Konva.capturePointerEventsEnabled&&ze.setPointerCapture(Le.id),this[me+"ClickStartShape"]=ze,ze._fireAndBubble(de.pointerdown,{evt:K,pointerId:Le.id}),Ce=!0;const Be=K.type.indexOf("touch")>=0;ze.preventDefault()&&K.cancelable&&Be&&K.preventDefault()}),Ce||this._fire(de.pointerdown,{evt:K,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(K){const de=z(K.type),me=Y(K.type);if(!de||(r.Konva.isDragging()&&a.DD.node.preventDefault()&&K.cancelable&&K.preventDefault(),this.setPointersPositions(K),!(!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled)))return;const Le={};let ze=!1;const Be=this._getTargetShape(me);this._changedPointerPositions.forEach(je=>{const le=l.getCapturedShape(je.id)||this.getIntersection(je),jt=je.id,xt={evt:K,pointerId:jt},ut=Be!==le;if(ut&&Be&&(Be._fireAndBubble(de.pointerout,{...xt},le),Be._fireAndBubble(de.pointerleave,{...xt},le)),le){if(Le[le._id])return;Le[le._id]=!0}le&&le.isListening()?(ze=!0,ut&&(le._fireAndBubble(de.pointerover,{...xt},Be),le._fireAndBubble(de.pointerenter,{...xt},Be),this[me+"targetShape"]=le),le._fireAndBubble(de.pointermove,{...xt})):Be&&(this._fire(de.pointerover,{evt:K,target:this,currentTarget:this,pointerId:jt}),this[me+"targetShape"]=null)}),ze||this._fire(de.pointermove,{evt:K,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(K){const de=z(K.type),me=Y(K.type);if(!de)return;this.setPointersPositions(K);const Ce=this[me+"ClickStartShape"],Le=this[me+"ClickEndShape"],ze={};let Be=!1;this._changedPointerPositions.forEach(je=>{const le=l.getCapturedShape(je.id)||this.getIntersection(je);if(le){if(le.releaseCapture(je.id),ze[le._id])return;ze[le._id]=!0}const jt=je.id,xt={evt:K,pointerId:jt};let ut=!1;r.Konva["_"+me+"InDblClickWindow"]?(ut=!0,clearTimeout(this[me+"DblTimeout"])):a.DD.justDragged||(r.Konva["_"+me+"InDblClickWindow"]=!0,clearTimeout(this[me+"DblTimeout"])),this[me+"DblTimeout"]=setTimeout(function(){r.Konva["_"+me+"InDblClickWindow"]=!1},r.Konva.dblClickWindow),le&&le.isListening()?(Be=!0,this[me+"ClickEndShape"]=le,le._fireAndBubble(de.pointerup,{...xt}),r.Konva["_"+me+"ListenClick"]&&Ce&&Ce===le&&(le._fireAndBubble(de.pointerclick,{...xt}),ut&&Le&&Le===le&&le._fireAndBubble(de.pointerdblclick,{...xt}))):(this[me+"ClickEndShape"]=null,r.Konva["_"+me+"ListenClick"]&&this._fire(de.pointerclick,{evt:K,target:this,currentTarget:this,pointerId:jt}),ut&&this._fire(de.pointerdblclick,{evt:K,target:this,currentTarget:this,pointerId:jt}))}),Be||this._fire(de.pointerup,{evt:K,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r.Konva["_"+me+"ListenClick"]=!1,K.cancelable&&me!=="touch"&&me!=="pointer"&&K.preventDefault()}_contextmenu(K){this.setPointersPositions(K);const de=this.getIntersection(this.getPointerPosition());de&&de.isListening()?de._fireAndBubble(D,{evt:K}):this._fire(D,{evt:K,target:this,currentTarget:this})}_wheel(K){this.setPointersPositions(K);const de=this.getIntersection(this.getPointerPosition());de&&de.isListening()?de._fireAndBubble(pe,{evt:K}):this._fire(pe,{evt:K,target:this,currentTarget:this})}_pointercancel(K){this.setPointersPositions(K);const de=l.getCapturedShape(K.pointerId)||this.getIntersection(this.getPointerPosition());de&&de._fireAndBubble(E,l.createEvent(K)),l.releaseCapture(K.pointerId)}_lostpointercapture(K){l.releaseCapture(K.pointerId)}setPointersPositions(K){const de=this._getContentPosition();let me=null,Ce=null;K=K||window.event,K.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(K.touches,Le=>{this._pointerPositions.push({id:Le.identifier,x:(Le.clientX-de.left)/de.scaleX,y:(Le.clientY-de.top)/de.scaleY})}),Array.prototype.forEach.call(K.changedTouches||K.touches,Le=>{this._changedPointerPositions.push({id:Le.identifier,x:(Le.clientX-de.left)/de.scaleX,y:(Le.clientY-de.top)/de.scaleY})})):(me=(K.clientX-de.left)/de.scaleX,Ce=(K.clientY-de.top)/de.scaleY,this.pointerPos={x:me,y:Ce},this._pointerPositions=[{x:me,y:Ce,id:e.Util._getFirstPointerId(K)}],this._changedPointerPositions=[{x:me,y:Ce,id:e.Util._getFirstPointerId(K)}])}_setPointerPosition(K){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(K)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const K=this.content.getBoundingClientRect();return{top:K.top,left:K.left,scaleX:K.width/this.content.clientWidth||1,scaleY:K.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!r.Konva.isBrowser)return;const K=this.container();if(!K)throw"Stage has no container. A container is required.";K.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),K.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(K){K.batchDraw()}),this}}t.Stage=ce,ce.prototype.nodeType=c,(0,o._registerNode)(ce),n.Factory.addGetterSetter(ce,"container"),r.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(he=>{he.batchDraw()})})})(Sj);var og={},ir={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=Ht,n=fi,i=Wt,r=ri,s=Ct,a=Ht,o=mu,l="hasShadow",c="shadowRGBA",d="patternImage",g="linearGradient",m="radialGradient";let p;function x(){return p||(p=n.Util.createCanvasElement().getContext("2d"),p)}t.shapes={};function b(R){const M=this.attrs.fillRule;M?R.fill(M):R.fill()}function N(R){R.stroke()}function S(R){const M=this.attrs.fillRule;M?R.fill(M):R.fill()}function j(R){R.stroke()}function _(){this._clearCache(l)}function C(){this._clearCache(c)}function E(){this._clearCache(d)}function O(){this._clearCache(g)}function U(){this._clearCache(m)}class F extends r.Node{constructor(M){super(M);let T;for(;T=n.Util.getRandomColor(),!(T&&!(T in t.shapes)););this.colorKey=T,t.shapes[T]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(d,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const T=x().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(T&&T.setTransform){const D=new n.Transform;D.translate(this.fillPatternX(),this.fillPatternY()),D.rotate(e.Konva.getAngle(this.fillPatternRotation())),D.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),D.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const $=D.getMatrix(),X=typeof DOMMatrix>"u"?{a:$[0],b:$[1],c:$[2],d:$[3],e:$[4],f:$[5]}:new DOMMatrix($);T.setTransform(X)}return T}}_getLinearGradient(){return this._getCache(g,this.__getLinearGradient)}__getLinearGradient(){const M=this.fillLinearGradientColorStops();if(M){const T=x(),D=this.fillLinearGradientStartPoint(),$=this.fillLinearGradientEndPoint(),X=T.createLinearGradient(D.x,D.y,$.x,$.y);for(let ae=0;ae<M.length;ae+=2)X.addColorStop(M[ae],M[ae+1]);return X}}_getRadialGradient(){return this._getCache(m,this.__getRadialGradient)}__getRadialGradient(){const M=this.fillRadialGradientColorStops();if(M){const T=x(),D=this.fillRadialGradientStartPoint(),$=this.fillRadialGradientEndPoint(),X=T.createRadialGradient(D.x,D.y,this.fillRadialGradientStartRadius(),$.x,$.y,this.fillRadialGradientEndRadius());for(let ae=0;ae<M.length;ae+=2)X.addColorStop(M[ae],M[ae+1]);return X}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const M=n.Util.colorToRGBA(this.shadowColor());if(M)return"rgba("+M.r+","+M.g+","+M.b+","+M.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const M=this.hitStrokeWidth();return M==="auto"?this.hasStroke():this.strokeEnabled()&&!!M}intersects(M){const T=this.getStage();if(!T)return!1;const D=T.bufferHitCanvas;return D.getContext().clear(),this.drawHit(D,void 0,!0),D.context.getImageData(Math.round(M.x),Math.round(M.y),1,1).data[3]>0}destroy(){return r.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(M){var T;if(!((T=this.attrs.perfectDrawEnabled)!==null&&T!==void 0?T:!0))return!1;const $=M||this.hasFill(),X=this.hasStroke(),ae=this.getAbsoluteOpacity()!==1;if($&&X&&ae)return!0;const ge=this.hasShadow(),pe=this.shadowForStrokeEnabled();return!!($&&X&&ge&&pe)}setStrokeHitEnabled(M){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),M?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const M=this.size();return{x:this._centroid?-M.width/2:0,y:this._centroid?-M.height/2:0,width:M.width,height:M.height}}getClientRect(M={}){let T=!1,D=this.getParent();for(;D;){if(D.isCached()){T=!0;break}D=D.getParent()}const $=M.skipTransform,X=M.relativeTo||T&&this.getStage()||void 0,ae=this.getSelfRect(),pe=!M.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,te=ae.width+pe,Z=ae.height+pe,ue=!M.skipShadow&&this.hasShadow(),Y=ue?this.shadowOffsetX():0,z=ue?this.shadowOffsetY():0,q=te+Math.abs(Y),ie=Z+Math.abs(z),ce=ue&&this.shadowBlur()||0,he=q+ce*2,K=ie+ce*2,de={width:he,height:K,x:-(pe/2+ce)+Math.min(Y,0)+ae.x,y:-(pe/2+ce)+Math.min(z,0)+ae.y};return $?de:this._transformedRect(de,X)}drawScene(M,T,D){const $=this.getLayer(),X=M||$.getCanvas(),ae=X.getContext(),ge=this._getCanvasCache(),pe=this.getSceneFunc(),te=this.hasShadow();let Z;const ue=T===this;if(!this.isVisible()&&!ue)return this;if(ge){ae.save();const Y=this.getAbsoluteTransform(T).getMatrix();return ae.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),this._drawCachedSceneCanvas(ae),ae.restore(),this}if(!pe)return this;if(ae.save(),this._useBufferCanvas()){Z=this.getStage();const Y=D||Z.bufferCanvas,z=Y.getContext();z.clear(),z.save(),z._applyLineJoin(this);const q=this.getAbsoluteTransform(T).getMatrix();z.transform(q[0],q[1],q[2],q[3],q[4],q[5]),pe.call(this,z,this),z.restore();const ie=Y.pixelRatio;te&&ae._applyShadow(this),ae._applyOpacity(this),ae._applyGlobalCompositeOperation(this),ae.drawImage(Y._canvas,Y.x||0,Y.y||0,Y.width/ie,Y.height/ie)}else{if(ae._applyLineJoin(this),!ue){const Y=this.getAbsoluteTransform(T).getMatrix();ae.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),ae._applyOpacity(this),ae._applyGlobalCompositeOperation(this)}te&&ae._applyShadow(this),pe.call(this,ae,this)}return ae.restore(),this}drawHit(M,T,D=!1){if(!this.shouldDrawHit(T,D))return this;const $=this.getLayer(),X=M||$.hitCanvas,ae=X&&X.getContext(),ge=this.hitFunc()||this.sceneFunc(),pe=this._getCanvasCache(),te=pe&&pe.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),te){ae.save();const ue=this.getAbsoluteTransform(T).getMatrix();return ae.transform(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5]),this._drawCachedHitCanvas(ae),ae.restore(),this}if(!ge)return this;if(ae.save(),ae._applyLineJoin(this),!(this===T)){const ue=this.getAbsoluteTransform(T).getMatrix();ae.transform(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5])}return ge.call(this,ae,this),ae.restore(),this}drawHitFromCache(M=0){const T=this._getCanvasCache(),D=this._getCachedSceneCanvas(),$=T.hit,X=$.getContext(),ae=$.getWidth(),ge=$.getHeight();X.clear(),X.drawImage(D._canvas,0,0,ae,ge);try{const pe=X.getImageData(0,0,ae,ge),te=pe.data,Z=te.length,ue=n.Util._hexToRgb(this.colorKey);for(let Y=0;Y<Z;Y+=4)te[Y+3]>M?(te[Y]=ue.r,te[Y+1]=ue.g,te[Y+2]=ue.b,te[Y+3]=255):te[Y+3]=0;X.putImageData(pe,0,0)}catch(pe){n.Util.error("Unable to draw hit graph from cached scene canvas. "+pe.message)}return this}hasPointerCapture(M){return o.hasPointerCapture(M,this)}setPointerCapture(M){o.setPointerCapture(M,this)}releaseCapture(M){o.releaseCapture(M,this)}}t.Shape=F,F.prototype._fillFunc=b,F.prototype._strokeFunc=N,F.prototype._fillFuncHit=S,F.prototype._strokeFuncHit=j,F.prototype._centroid=!1,F.prototype.nodeType="Shape",(0,a._registerNode)(F),F.prototype.eventListeners={},F.prototype.on.call(F.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),F.prototype.on.call(F.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",C),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",E),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",O),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",U),i.Factory.addGetterSetter(F,"stroke",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(F,"strokeWidth",2,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(F,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(F,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(F,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(F,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(F,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(F,"lineJoin"),i.Factory.addGetterSetter(F,"lineCap"),i.Factory.addGetterSetter(F,"sceneFunc"),i.Factory.addGetterSetter(F,"hitFunc"),i.Factory.addGetterSetter(F,"dash"),i.Factory.addGetterSetter(F,"dashOffset",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(F,"shadowColor",void 0,(0,s.getStringValidator)()),i.Factory.addGetterSetter(F,"shadowBlur",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(F,"shadowOpacity",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(F,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(F,"shadowOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(F,"shadowOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(F,"fillPatternImage"),i.Factory.addGetterSetter(F,"fill",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(F,"fillPatternX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(F,"fillPatternY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(F,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(F,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(F,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(F,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(F,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(F,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(F,"fillEnabled",!0),i.Factory.addGetterSetter(F,"strokeEnabled",!0),i.Factory.addGetterSetter(F,"shadowEnabled",!0),i.Factory.addGetterSetter(F,"dashEnabled",!0),i.Factory.addGetterSetter(F,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(F,"fillPriority","color"),i.Factory.addComponentsGetterSetter(F,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(F,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(F,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(F,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(F,"fillPatternScaleX",1,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(F,"fillPatternScaleY",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(F,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(F,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(F,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(F,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(F,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(F,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(F,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(F,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(F,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(F,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(F,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(F,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(F,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(F,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(F,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(F,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(F,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(F,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(F,"fillPatternRotation",0),i.Factory.addGetterSetter(F,"fillRule",void 0,(0,s.getStringValidator)()),i.Factory.backCompat(F,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(ir);Object.defineProperty(og,"__esModule",{value:!0});og.Layer=void 0;const Pl=fi,Dv=Ph,gd=ri,ub=Wt,V_=So,Kz=Ct,Xz=ir,Yz=Ht,Qz="#",Jz="beforeDraw",Zz="draw",Cj=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],eU=Cj.length;let Tf=class extends Dv.Container{constructor(e){super(e),this.canvas=new V_.SceneCanvas,this.hitCanvas=new V_.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){gd.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!gd.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(gd.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(gd.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return gd.Node.prototype.remove.call(this),e&&e.parentNode&&Pl.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&Pl.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),gd.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Pl.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Pl.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Pl.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,i=!1;for(;;){for(let r=0;r<eU;r++){const s=Cj[r],a=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),o=a.shape;if(o)return o;if(i=!!a.antialiased,!a.antialiased)break}if(i)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,r=i[3];if(r===255){const s=Pl.Util._rgbToHex(i[0],i[1],i[2]),a=Xz.shapes[Qz+s];return a?{shape:a}:{antialiased:!0}}else if(r>0)return{antialiased:!0};return{}}drawScene(e,n,i){const r=this.getLayer(),s=e||r&&r.getCanvas();return this._fire(Jz,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),Dv.Container.prototype.drawScene.call(this,s,n,i),this._fire(Zz,{node:this}),this}drawHit(e,n){const i=this.getLayer(),r=e||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),Dv.Container.prototype.drawHit.call(this,r,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Pl.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Pl.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Pl.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};og.Layer=Tf;Tf.prototype.nodeType="Layer";(0,Yz._registerNode)(Tf);ub.Factory.addGetterSetter(Tf,"imageSmoothingEnabled",!0);ub.Factory.addGetterSetter(Tf,"clearBeforeDraw",!0);ub.Factory.addGetterSetter(Tf,"hitGraphEnabled",!0,(0,Kz.getBooleanValidator)());var z2={};Object.defineProperty(z2,"__esModule",{value:!0});z2.FastLayer=void 0;const tU=fi,nU=og,iU=Ht;class hb extends nU.Layer{constructor(e){super(e),this.listening(!1),tU.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}z2.FastLayer=hb;hb.prototype.nodeType="FastLayer";(0,iU._registerNode)(hb);var Ef={};Object.defineProperty(Ef,"__esModule",{value:!0});Ef.Group=void 0;const rU=fi,sU=Ph,aU=Ht;let db=class extends sU.Container{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&rU.Util.throw("You may only add groups and shapes to groups.")}};Ef.Group=db;db.prototype.nodeType="Group";(0,aU._registerNode)(db);var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.Animation=void 0;const Iv=Ht,H_=fi,Ov=function(){return Iv.glob.performance&&Iv.glob.performance.now?function(){return Iv.glob.performance.now()}:function(){return new Date().getTime()}}();let U2=class Nd{constructor(e,n){this.id=Nd.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ov(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,i=n.length;for(let r=0;r<i;r++)if(n[r]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Nd.animations,i=n.length;for(let r=0;r<i;r++)if(n[r].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ov(),Nd._addAnimation(this),this}stop(){return Nd._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,i=this.animations,r=i.length;for(let s=0;s<r;s++)if(i[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const e={},n=this.animations;for(let i=0;i<n.length;i++){const r=n[i],s=r.layers,a=r.func;r._updateFrameObject(Ov());const o=s.length;let l;if(a?l=a.call(r,r.frame)!==!1:l=!0,!!l)for(let c=0;c<o;c++){const d=s[c];d._id!==void 0&&(e[d._id]=d)}}for(const i in e)e.hasOwnProperty(i)&&e[i].batchDraw()}static _animationLoop(){const e=Nd;e.animations.length?(e._runFrames(),H_.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,H_.Util.requestAnimFrame(this._animationLoop))}};Mf.Animation=U2;U2.animations=[];U2.animIdCounter=0;U2.animRunning=!1;var jj={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=fi,n=Mf,i=ri,r=Ht,s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,o=2,l=3,c=["fill","stroke","shadowColor"];let d=0;class g{constructor(x,b,N,S,j,_,C){this.prop=x,this.propFunc=b,this.begin=S,this._pos=S,this.duration=_,this._change=0,this.prevPos=0,this.yoyo=C,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=N,this._change=j-this.begin,this.pause()}fire(x){const b=this[x];b&&b()}setTime(x){x>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():x<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=x,this.update())}getTime(){return this._time}setPosition(x){this.prevPos=this._pos,this.propFunc(x),this._pos=x}getPosition(x){return x===void 0&&(x=this._time),this.func(x,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(x){this.pause(),this._time=x,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const x=this.getTimer()-this._startTime;this.state===o?this.setTime(x):this.state===l&&this.setTime(this.duration-x)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class m{constructor(x){const b=this,N=x.node,S=N._id,j=x.easing||t.Easings.Linear,_=!!x.yoyo;let C,E;typeof x.duration>"u"?C=.3:x.duration===0?C=.001:C=x.duration,this.node=N,this._id=d++;const O=N.getLayer()||(N instanceof r.Konva.Stage?N.getLayers():null);O||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){b.tween.onEnterFrame()},O),this.tween=new g(E,function(U){b._tweenFunc(U)},j,0,1,C*1e3,_),this._addListeners(),m.attrs[S]||(m.attrs[S]={}),m.attrs[S][this._id]||(m.attrs[S][this._id]={}),m.tweens[S]||(m.tweens[S]={});for(E in x)s[E]===void 0&&this._addAttr(E,x[E]);this.reset(),this.onFinish=x.onFinish,this.onReset=x.onReset,this.onUpdate=x.onUpdate}_addAttr(x,b){const N=this.node,S=N._id;let j,_,C,E,O;const U=m.tweens[S][x];U&&delete m.attrs[S][U][x];let F=N.getAttr(x);if(e.Util._isArray(b))if(j=[],_=Math.max(b.length,F.length),x==="points"&&b.length!==F.length&&(b.length>F.length?(E=F,F=e.Util._prepareArrayForTween(F,b,N.closed())):(C=b,b=e.Util._prepareArrayForTween(b,F,N.closed()))),x.indexOf("fill")===0)for(let R=0;R<_;R++)if(R%2===0)j.push(b[R]-F[R]);else{const M=e.Util.colorToRGBA(F[R]);O=e.Util.colorToRGBA(b[R]),F[R]=M,j.push({r:O.r-M.r,g:O.g-M.g,b:O.b-M.b,a:O.a-M.a})}else for(let R=0;R<_;R++)j.push(b[R]-F[R]);else c.indexOf(x)!==-1?(F=e.Util.colorToRGBA(F),O=e.Util.colorToRGBA(b),j={r:O.r-F.r,g:O.g-F.g,b:O.b-F.b,a:O.a-F.a}):j=b-F;m.attrs[S][this._id][x]={start:F,diff:j,end:b,trueEnd:C,trueStart:E},m.tweens[S][x]=this._id}_tweenFunc(x){const b=this.node,N=m.attrs[b._id][this._id];let S,j,_,C,E,O,U,F;for(S in N){if(j=N[S],_=j.start,C=j.diff,F=j.end,e.Util._isArray(_))if(E=[],U=Math.max(_.length,F.length),S.indexOf("fill")===0)for(O=0;O<U;O++)O%2===0?E.push((_[O]||0)+C[O]*x):E.push("rgba("+Math.round(_[O].r+C[O].r*x)+","+Math.round(_[O].g+C[O].g*x)+","+Math.round(_[O].b+C[O].b*x)+","+(_[O].a+C[O].a*x)+")");else for(O=0;O<U;O++)E.push((_[O]||0)+C[O]*x);else c.indexOf(S)!==-1?E="rgba("+Math.round(_.r+C.r*x)+","+Math.round(_.g+C.g*x)+","+Math.round(_.b+C.b*x)+","+(_.a+C.a*x)+")":E=_+C*x;b.setAttr(S,E)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const x=this.node,b=m.attrs[x._id][this._id];b.points&&b.points.trueEnd&&x.setAttr("points",b.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const x=this.node,b=m.attrs[x._id][this._id];b.points&&b.points.trueStart&&x.points(b.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(x){return this.tween.seek(x*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const x=this.node._id,b=this._id,N=m.tweens[x];this.pause(),this.anim&&this.anim.stop();for(const S in N)delete m.tweens[x][S];delete m.attrs[x][b],m.tweens[x]&&(Object.keys(m.tweens[x]).length===0&&delete m.tweens[x],Object.keys(m.attrs[x]).length===0&&delete m.attrs[x])}}t.Tween=m,m.attrs={},m.tweens={},i.Node.prototype.to=function(p){const x=p.onFinish;p.node=this,p.onFinish=function(){this.destroy(),x&&x()},new m(p).play()},t.Easings={BackEaseIn(p,x,b,N){return b*(p/=N)*p*((1.70158+1)*p-1.70158)+x},BackEaseOut(p,x,b,N){return b*((p=p/N-1)*p*((1.70158+1)*p+1.70158)+1)+x},BackEaseInOut(p,x,b,N){let S=1.70158;return(p/=N/2)<1?b/2*(p*p*(((S*=1.525)+1)*p-S))+x:b/2*((p-=2)*p*(((S*=1.525)+1)*p+S)+2)+x},ElasticEaseIn(p,x,b,N,S,j){let _=0;return p===0?x:(p/=N)===1?x+b:(j||(j=N*.3),!S||S<Math.abs(b)?(S=b,_=j/4):_=j/(2*Math.PI)*Math.asin(b/S),-(S*Math.pow(2,10*(p-=1))*Math.sin((p*N-_)*(2*Math.PI)/j))+x)},ElasticEaseOut(p,x,b,N,S,j){let _=0;return p===0?x:(p/=N)===1?x+b:(j||(j=N*.3),!S||S<Math.abs(b)?(S=b,_=j/4):_=j/(2*Math.PI)*Math.asin(b/S),S*Math.pow(2,-10*p)*Math.sin((p*N-_)*(2*Math.PI)/j)+b+x)},ElasticEaseInOut(p,x,b,N,S,j){let _=0;return p===0?x:(p/=N/2)===2?x+b:(j||(j=N*(.3*1.5)),!S||S<Math.abs(b)?(S=b,_=j/4):_=j/(2*Math.PI)*Math.asin(b/S),p<1?-.5*(S*Math.pow(2,10*(p-=1))*Math.sin((p*N-_)*(2*Math.PI)/j))+x:S*Math.pow(2,-10*(p-=1))*Math.sin((p*N-_)*(2*Math.PI)/j)*.5+b+x)},BounceEaseOut(p,x,b,N){return(p/=N)<1/2.75?b*(7.5625*p*p)+x:p<2/2.75?b*(7.5625*(p-=1.5/2.75)*p+.75)+x:p<2.5/2.75?b*(7.5625*(p-=2.25/2.75)*p+.9375)+x:b*(7.5625*(p-=2.625/2.75)*p+.984375)+x},BounceEaseIn(p,x,b,N){return b-t.Easings.BounceEaseOut(N-p,0,b,N)+x},BounceEaseInOut(p,x,b,N){return p<N/2?t.Easings.BounceEaseIn(p*2,0,b,N)*.5+x:t.Easings.BounceEaseOut(p*2-N,0,b,N)*.5+b*.5+x},EaseIn(p,x,b,N){return b*(p/=N)*p+x},EaseOut(p,x,b,N){return-b*(p/=N)*(p-2)+x},EaseInOut(p,x,b,N){return(p/=N/2)<1?b/2*p*p+x:-b/2*(--p*(p-2)-1)+x},StrongEaseIn(p,x,b,N){return b*(p/=N)*p*p*p*p+x},StrongEaseOut(p,x,b,N){return b*((p=p/N-1)*p*p*p*p+1)+x},StrongEaseInOut(p,x,b,N){return(p/=N/2)<1?b/2*p*p*p*p*p+x:b/2*((p-=2)*p*p*p*p+2)+x},Linear(p,x,b,N){return b*p/N+x}}})(jj);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=Ht,n=fi,i=ri,r=Ph,s=Sj,a=og,o=z2,l=Ef,c=O2,d=ir,g=Mf,m=jj,p=Wl,x=So;t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:i.Node,Container:r.Container,Stage:s.Stage,stages:s.stages,Layer:a.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:c.DD,Shape:d.Shape,shapes:d.shapes,Animation:g.Animation,Tween:m.Tween,Easings:m.Easings,Context:p.Context,Canvas:x.Canvas}),t.default=t.Konva})(W1);var V2={};Object.defineProperty(V2,"__esModule",{value:!0});V2.Arc=void 0;const H2=Wt,oU=ir,$_=Ht,$2=Ct,lU=Ht;class tc extends oU.Shape{_sceneFunc(e){const n=$_.Konva.getAngle(this.angle()),i=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,i),e.arc(0,0,this.innerRadius(),n,0,!i),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),i=this.clockwise(),r=$_.Konva.getAngle(i?360-this.angle():this.angle()),s=Math.cos(Math.min(r,Math.PI)),a=1,o=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),l=Math.sin(Math.min(r,Math.PI/2)),c=s*(s>0?e:n),d=a*n,g=o*(o>0?e:n),m=l*(l>0?n:e);return{x:c,y:i?-1*m:g,width:d-c,height:m-g}}}V2.Arc=tc;tc.prototype._centroid=!0;tc.prototype.className="Arc";tc.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,lU._registerNode)(tc);H2.Factory.addGetterSetter(tc,"innerRadius",0,(0,$2.getNumberValidator)());H2.Factory.addGetterSetter(tc,"outerRadius",0,(0,$2.getNumberValidator)());H2.Factory.addGetterSetter(tc,"angle",0,(0,$2.getNumberValidator)());H2.Factory.addGetterSetter(tc,"clockwise",!1,(0,$2.getBooleanValidator)());var G2={},lg={};Object.defineProperty(lg,"__esModule",{value:!0});lg.Line=void 0;const W2=Wt,cU=Ht,uU=ir,Aj=Ct;function Yx(t,e,n,i,r,s,a){const o=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2)),l=Math.sqrt(Math.pow(r-n,2)+Math.pow(s-i,2)),c=a*o/(o+l),d=a*l/(o+l),g=n-c*(r-t),m=i-c*(s-e),p=n+d*(r-t),x=i+d*(s-e);return[g,m,p,x]}function G_(t,e){const n=t.length,i=[];for(let r=2;r<n-2;r+=2){const s=Yx(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],e);isNaN(s[0])||(i.push(s[0]),i.push(s[1]),i.push(t[r]),i.push(t[r+1]),i.push(s[2]),i.push(s[3]))}return i}let vu=class extends uU.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),i=n.length,r=this.tension(),s=this.closed(),a=this.bezier();if(!i)return;let o=0;if(e.beginPath(),e.moveTo(n[0],n[1]),r!==0&&i>4){const l=this.getTensionPoints(),c=l.length;for(o=s?0:4,s||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);o<c-2;)e.bezierCurveTo(l[o++],l[o++],l[o++],l[o++],l[o++],l[o++]);s||e.quadraticCurveTo(l[c-2],l[c-1],n[i-2],n[i-1])}else if(a)for(o=2;o<i;)e.bezierCurveTo(n[o++],n[o++],n[o++],n[o++],n[o++],n[o++]);else for(o=2;o<i;o+=2)e.lineTo(n[o],n[o+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():G_(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,i=this.tension(),r=Yx(e[n-2],e[n-1],e[0],e[1],e[2],e[3],i),s=Yx(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],i),a=G_(e,i);return[r[2],r[3]].concat(a).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],i=e[0],r=e[1],s=e[1],a,o;for(let l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],n=Math.min(n,a),i=Math.max(i,a),r=Math.min(r,o),s=Math.max(s,o);return{x:n,y:r,width:i-n,height:s-r}}};lg.Line=vu;vu.prototype.className="Line";vu.prototype._attrsAffectingSize=["points","bezier","tension"];(0,cU._registerNode)(vu);W2.Factory.addGetterSetter(vu,"closed",!1);W2.Factory.addGetterSetter(vu,"bezier",!1);W2.Factory.addGetterSetter(vu,"tension",0,(0,Aj.getNumberValidator)());W2.Factory.addGetterSetter(vu,"points",[],(0,Aj.getNumberArrayValidator)());var Rf={},Pj={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(a,o,l)=>{let c,d;const m=l/2;c=0;for(let p=0;p<20;p++)d=m*t.tValues[20][p]+m,c+=t.cValues[20][p]*i(a,o,d);return m*c};t.getCubicArcLength=e;const n=(a,o,l)=>{l===void 0&&(l=1);const c=a[0]-2*a[1]+a[2],d=o[0]-2*o[1]+o[2],g=2*a[1]-2*a[0],m=2*o[1]-2*o[0],p=4*(c*c+d*d),x=4*(c*g+d*m),b=g*g+m*m;if(p===0)return l*Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(o[2]-o[0],2));const N=x/(2*p),S=b/p,j=l+N,_=S-N*N,C=j*j+_>0?Math.sqrt(j*j+_):0,E=N*N+_>0?Math.sqrt(N*N+_):0,O=N+Math.sqrt(N*N+_)!==0?_*Math.log(Math.abs((j+C)/(N+E))):0;return Math.sqrt(p)/2*(j*C-N*E+O)};t.getQuadraticArcLength=n;function i(a,o,l){const c=r(1,l,a),d=r(1,l,o),g=c*c+d*d;return Math.sqrt(g)}const r=(a,o,l)=>{const c=l.length-1;let d,g;if(c===0)return 0;if(a===0){g=0;for(let m=0;m<=c;m++)g+=t.binomialCoefficients[c][m]*Math.pow(1-o,c-m)*Math.pow(o,m)*l[m];return g}else{d=new Array(c);for(let m=0;m<c;m++)d[m]=c*(l[m+1]-l[m]);return r(a-1,o,d)}},s=(a,o,l)=>{let c=1,d=a/o,g=(a-l(d))/o,m=0;for(;c>.001;){const p=l(d+g),x=Math.abs(a-p)/o;if(x<c)c=x,d+=g;else{const b=l(d-g),N=Math.abs(a-b)/o;N<c?(c=N,d-=g):g/=2}if(m++,m>500)break}return d};t.t2length=s})(Pj);Object.defineProperty(Rf,"__esModule",{value:!0});Rf.Path=void 0;const hU=Wt,dU=Ht,fU=ir,md=Pj;class Zi extends fU.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Zi.parsePathData(this.data()),this.pathLength=Zi.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let i=!1;for(let r=0;r<n.length;r++){const s=n[r].command,a=n[r].points;switch(s){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":const o=a[0],l=a[1],c=a[2],d=a[3],g=a[4],m=a[5],p=a[6],x=a[7],b=c>d?c:d,N=c>d?1:c/d,S=c>d?d/c:1;e.translate(o,l),e.rotate(p),e.scale(N,S),e.arc(0,0,b,g,g+m,1-x),e.scale(1/N,1/S),e.rotate(-p),e.translate(-o,-l);break;case"z":i=!0,e.closePath();break}}!i&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const c=l.points[4],d=l.points[5],g=l.points[4]+d;let m=Math.PI/180;if(Math.abs(c-g)<m&&(m=Math.abs(c-g)),d<0)for(let p=c-m;p>g;p-=m){const x=Zi.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(x.x,x.y)}else for(let p=c+m;p<g;p+=m){const x=Zi.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(x.x,x.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){const d=Zi.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(d.x,d.y)}else e=e.concat(l.points)});let n=e[0],i=e[0],r=e[1],s=e[1],a,o;for(let l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],isNaN(a)||(n=Math.min(n,a),i=Math.max(i,a)),isNaN(o)||(r=Math.min(r,o),s=Math.max(s,o));return{x:n,y:r,width:i-n,height:s-r}}getLength(){return this.pathLength}getPointAtLength(e){return Zi.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,i,r){return Math.sqrt((i-e)*(i-e)+(r-n)*(r-n))}static getPathLength(e){let n=0;for(let i=0;i<e.length;++i)n+=e[i].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let i,r=0,s=n.length;if(!s)return null;for(;r<s&&e>n[r].pathLength;)e-=n[r].pathLength,++r;if(r===s)return i=n[r-1].points.slice(-2),{x:i[0],y:i[1]};if(e<.01)return n[r].command==="M"?(i=n[r].points.slice(0,2),{x:i[0],y:i[1]}):{x:n[r].start.x,y:n[r].start.y};const a=n[r],o=a.points;switch(a.command){case"L":return Zi.getPointOnLine(e,a.start.x,a.start.y,o[0],o[1]);case"C":return Zi.getPointOnCubicBezier((0,md.t2length)(e,Zi.getPathLength(n),b=>(0,md.getCubicArcLength)([a.start.x,o[0],o[2],o[4]],[a.start.y,o[1],o[3],o[5]],b)),a.start.x,a.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return Zi.getPointOnQuadraticBezier((0,md.t2length)(e,Zi.getPathLength(n),b=>(0,md.getQuadraticArcLength)([a.start.x,o[0],o[2]],[a.start.y,o[1],o[3]],b)),a.start.x,a.start.y,o[0],o[1],o[2],o[3]);case"A":const l=o[0],c=o[1],d=o[2],g=o[3],m=o[5],p=o[6];let x=o[4];return x+=m*e/a.pathLength,Zi.getPointOnEllipticalArc(l,c,d,g,x,p)}return null}static getPointOnLine(e,n,i,r,s,a,o){a=a??n,o=o??i;const l=this.getLineLength(n,i,r,s);if(l<1e-10)return{x:n,y:i};if(r===n)return{x:a,y:o+(s>i?e:-e)};const c=(s-i)/(r-n),d=Math.sqrt(e*e/(1+c*c))*(r<n?-1:1),g=c*d;if(Math.abs(o-i-c*(a-n))<1e-10)return{x:a+d,y:o+g};const m=((a-n)*(r-n)+(o-i)*(s-i))/(l*l),p=n+m*(r-n),x=i+m*(s-i),b=this.getLineLength(a,o,p,x),N=Math.sqrt(e*e-b*b),S=Math.sqrt(N*N/(1+c*c))*(r<n?-1:1),j=c*S;return{x:p+S,y:x+j}}static getPointOnCubicBezier(e,n,i,r,s,a,o,l,c){function d(N){return N*N*N}function g(N){return 3*N*N*(1-N)}function m(N){return 3*N*(1-N)*(1-N)}function p(N){return(1-N)*(1-N)*(1-N)}const x=l*d(e)+a*g(e)+r*m(e)+n*p(e),b=c*d(e)+o*g(e)+s*m(e)+i*p(e);return{x,y:b}}static getPointOnQuadraticBezier(e,n,i,r,s,a,o){function l(p){return p*p}function c(p){return 2*p*(1-p)}function d(p){return(1-p)*(1-p)}const g=a*l(e)+r*c(e)+n*d(e),m=o*l(e)+s*c(e)+i*d(e);return{x:g,y:m}}static getPointOnEllipticalArc(e,n,i,r,s,a){const o=Math.cos(a),l=Math.sin(a),c={x:i*Math.cos(s),y:r*Math.sin(s)};return{x:e+(c.x*o-c.y*l),y:n+(c.x*l+c.y*o)}}static parsePathData(e){if(!e)return[];let n=e;const i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let g=0;g<i.length;g++)n=n.replace(new RegExp(i[g],"g"),"|"+i[g]);const r=n.split("|"),s=[],a=[];let o=0,l=0;const c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let d;for(let g=1;g<r.length;g++){let m=r[g],p=m.charAt(0);for(m=m.slice(1),a.length=0;d=c.exec(m);)a.push(d[0]);const x=[];for(let b=0,N=a.length;b<N;b++){if(a[b]==="00"){x.push(0,0);continue}const S=parseFloat(a[b]);isNaN(S)?x.push(0):x.push(S)}for(;x.length>0&&!isNaN(x[0]);){let b="",N=[];const S=o,j=l;let _,C,E,O,U,F,R,M,T,D;switch(p){case"l":o+=x.shift(),l+=x.shift(),b="L",N.push(o,l);break;case"L":o=x.shift(),l=x.shift(),N.push(o,l);break;case"m":const $=x.shift(),X=x.shift();if(o+=$,l+=X,b="M",s.length>2&&s[s.length-1].command==="z"){for(let ae=s.length-2;ae>=0;ae--)if(s[ae].command==="M"){o=s[ae].points[0]+$,l=s[ae].points[1]+X;break}}N.push(o,l),p="l";break;case"M":o=x.shift(),l=x.shift(),b="M",N.push(o,l),p="L";break;case"h":o+=x.shift(),b="L",N.push(o,l);break;case"H":o=x.shift(),b="L",N.push(o,l);break;case"v":l+=x.shift(),b="L",N.push(o,l);break;case"V":l=x.shift(),b="L",N.push(o,l);break;case"C":N.push(x.shift(),x.shift(),x.shift(),x.shift()),o=x.shift(),l=x.shift(),N.push(o,l);break;case"c":N.push(o+x.shift(),l+x.shift(),o+x.shift(),l+x.shift()),o+=x.shift(),l+=x.shift(),b="C",N.push(o,l);break;case"S":C=o,E=l,_=s[s.length-1],_.command==="C"&&(C=o+(o-_.points[2]),E=l+(l-_.points[3])),N.push(C,E,x.shift(),x.shift()),o=x.shift(),l=x.shift(),b="C",N.push(o,l);break;case"s":C=o,E=l,_=s[s.length-1],_.command==="C"&&(C=o+(o-_.points[2]),E=l+(l-_.points[3])),N.push(C,E,o+x.shift(),l+x.shift()),o+=x.shift(),l+=x.shift(),b="C",N.push(o,l);break;case"Q":N.push(x.shift(),x.shift()),o=x.shift(),l=x.shift(),N.push(o,l);break;case"q":N.push(o+x.shift(),l+x.shift()),o+=x.shift(),l+=x.shift(),b="Q",N.push(o,l);break;case"T":C=o,E=l,_=s[s.length-1],_.command==="Q"&&(C=o+(o-_.points[0]),E=l+(l-_.points[1])),o=x.shift(),l=x.shift(),b="Q",N.push(C,E,o,l);break;case"t":C=o,E=l,_=s[s.length-1],_.command==="Q"&&(C=o+(o-_.points[0]),E=l+(l-_.points[1])),o+=x.shift(),l+=x.shift(),b="Q",N.push(C,E,o,l);break;case"A":O=x.shift(),U=x.shift(),F=x.shift(),R=x.shift(),M=x.shift(),T=o,D=l,o=x.shift(),l=x.shift(),b="A",N=this.convertEndpointToCenterParameterization(T,D,o,l,R,M,O,U,F);break;case"a":O=x.shift(),U=x.shift(),F=x.shift(),R=x.shift(),M=x.shift(),T=o,D=l,o+=x.shift(),l+=x.shift(),b="A",N=this.convertEndpointToCenterParameterization(T,D,o,l,R,M,O,U,F);break}s.push({command:b||p,points:N,start:{x:S,y:j},pathLength:this.calcLength(S,j,b||p,N)})}(p==="z"||p==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,i,r){let s,a,o,l;const c=Zi;switch(i){case"L":return c.getLineLength(e,n,r[0],r[1]);case"C":return(0,md.getCubicArcLength)([e,r[0],r[2],r[4]],[n,r[1],r[3],r[5]],1);case"Q":return(0,md.getQuadraticArcLength)([e,r[0],r[2]],[n,r[1],r[3]],1);case"A":s=0;const d=r[4],g=r[5],m=r[4]+g;let p=Math.PI/180;if(Math.abs(d-m)<p&&(p=Math.abs(d-m)),a=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],d,0),g<0)for(l=d-p;l>m;l-=p)o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(l=d+p;l<m;l+=p)o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],m,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),s}return 0}static convertEndpointToCenterParameterization(e,n,i,r,s,a,o,l,c){const d=c*(Math.PI/180),g=Math.cos(d)*(e-i)/2+Math.sin(d)*(n-r)/2,m=-1*Math.sin(d)*(e-i)/2+Math.cos(d)*(n-r)/2,p=g*g/(o*o)+m*m/(l*l);p>1&&(o*=Math.sqrt(p),l*=Math.sqrt(p));let x=Math.sqrt((o*o*(l*l)-o*o*(m*m)-l*l*(g*g))/(o*o*(m*m)+l*l*(g*g)));s===a&&(x*=-1),isNaN(x)&&(x=0);const b=x*o*m/l,N=x*-l*g/o,S=(e+i)/2+Math.cos(d)*b-Math.sin(d)*N,j=(n+r)/2+Math.sin(d)*b+Math.cos(d)*N,_=function(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])},C=function(M,T){return(M[0]*T[0]+M[1]*T[1])/(_(M)*_(T))},E=function(M,T){return(M[0]*T[1]<M[1]*T[0]?-1:1)*Math.acos(C(M,T))},O=E([1,0],[(g-b)/o,(m-N)/l]),U=[(g-b)/o,(m-N)/l],F=[(-1*g-b)/o,(-1*m-N)/l];let R=E(U,F);return C(U,F)<=-1&&(R=Math.PI),C(U,F)>=1&&(R=0),a===0&&R>0&&(R=R-2*Math.PI),a===1&&R<0&&(R=R+2*Math.PI),[S,j,o,l,O,R,d,a]}}Rf.Path=Zi;Zi.prototype.className="Path";Zi.prototype._attrsAffectingSize=["data"];(0,dU._registerNode)(Zi);hU.Factory.addGetterSetter(Zi,"data");Object.defineProperty(G2,"__esModule",{value:!0});G2.Arrow=void 0;const q2=Wt,pU=lg,Lj=Ct,gU=Ht,W_=Rf;class Th extends pU.Line{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,i=this.points();let r=i;const s=this.tension()!==0&&i.length>4;s&&(r=this.getTensionPoints());const a=this.pointerLength(),o=i.length;let l,c;if(s){const m=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],i[o-2],i[o-1]],p=W_.Path.calcLength(r[r.length-4],r[r.length-3],"C",m),x=W_.Path.getPointOnQuadraticBezier(Math.min(1,1-a/p),m[0],m[1],m[2],m[3],m[4],m[5]);l=i[o-2]-x.x,c=i[o-1]-x.y}else l=i[o-2]-i[o-4],c=i[o-1]-i[o-3];const d=(Math.atan2(c,l)+n)%n,g=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(i[o-2],i[o-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-a,g/2),e.lineTo(-a,-g/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(i[0],i[1]),s?(l=(r[0]+r[2])/2-i[0],c=(r[1]+r[3])/2-i[1]):(l=i[2]-i[0],c=i[3]-i[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-a,g/2),e.lineTo(-a,-g/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}G2.Arrow=Th;Th.prototype.className="Arrow";(0,gU._registerNode)(Th);q2.Factory.addGetterSetter(Th,"pointerLength",10,(0,Lj.getNumberValidator)());q2.Factory.addGetterSetter(Th,"pointerWidth",10,(0,Lj.getNumberValidator)());q2.Factory.addGetterSetter(Th,"pointerAtBeginning",!1);q2.Factory.addGetterSetter(Th,"pointerAtEnding",!0);var K2={};Object.defineProperty(K2,"__esModule",{value:!0});K2.Circle=void 0;const mU=Wt,vU=ir,yU=Ct,xU=Ht;let Ff=class extends vU.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};K2.Circle=Ff;Ff.prototype._centroid=!0;Ff.prototype.className="Circle";Ff.prototype._attrsAffectingSize=["radius"];(0,xU._registerNode)(Ff);mU.Factory.addGetterSetter(Ff,"radius",0,(0,yU.getNumberValidator)());var X2={};Object.defineProperty(X2,"__esModule",{value:!0});X2.Ellipse=void 0;const fb=Wt,bU=ir,Tj=Ct,wU=Ht;class yu extends bU.Shape{_sceneFunc(e){const n=this.radiusX(),i=this.radiusY();e.beginPath(),e.save(),n!==i&&e.scale(1,i/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}X2.Ellipse=yu;yu.prototype.className="Ellipse";yu.prototype._centroid=!0;yu.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,wU._registerNode)(yu);fb.Factory.addComponentsGetterSetter(yu,"radius",["x","y"]);fb.Factory.addGetterSetter(yu,"radiusX",0,(0,Tj.getNumberValidator)());fb.Factory.addGetterSetter(yu,"radiusY",0,(0,Tj.getNumberValidator)());var Y2={};Object.defineProperty(Y2,"__esModule",{value:!0});Y2.Image=void 0;const Bv=fi,Eh=Wt,_U=ir,SU=Ht,cg=Ct;let sl=class Ej extends _U.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),i=this.getHeight(),r=this.cornerRadius(),s=this.attrs.image;let a;if(s){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?a=[s,this.cropX(),this.cropY(),o,l,0,0,n,i]:a=[s,0,0,n,i]}(this.hasFill()||this.hasStroke()||r)&&(e.beginPath(),r?Bv.Util.drawRoundedRectPath(e,n,i,r):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)),s&&(r&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){const n=this.width(),i=this.height(),r=this.cornerRadius();e.beginPath(),r?Bv.Util.drawRoundedRectPath(e,n,i,r):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,i=null){const r=Bv.Util.createImageElement();r.onload=function(){const s=new Ej({image:r});n(s)},r.onerror=i,r.crossOrigin="Anonymous",r.src=e}};Y2.Image=sl;sl.prototype.className="Image";(0,SU._registerNode)(sl);Eh.Factory.addGetterSetter(sl,"cornerRadius",0,(0,cg.getNumberOrArrayOfNumbersValidator)(4));Eh.Factory.addGetterSetter(sl,"image");Eh.Factory.addComponentsGetterSetter(sl,"crop",["x","y","width","height"]);Eh.Factory.addGetterSetter(sl,"cropX",0,(0,cg.getNumberValidator)());Eh.Factory.addGetterSetter(sl,"cropY",0,(0,cg.getNumberValidator)());Eh.Factory.addGetterSetter(sl,"cropWidth",0,(0,cg.getNumberValidator)());Eh.Factory.addGetterSetter(sl,"cropHeight",0,(0,cg.getNumberValidator)());var yf={};Object.defineProperty(yf,"__esModule",{value:!0});yf.Tag=yf.Label=void 0;const Q2=Wt,NU=ir,kU=Ef,pb=Ct,Mj=Ht,Rj=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],CU="Change.konva",jU="none",Qx="up",Jx="right",Zx="down",e4="left",AU=Rj.length;class gb extends kU.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,i;const r=function(){n._sync()};for(i=0;i<AU;i++)e.on(Rj[i]+CU,r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),i,r,s,a,o,l,c;if(e&&n){switch(i=e.width(),r=e.height(),s=n.pointerDirection(),a=n.pointerWidth(),c=n.pointerHeight(),o=0,l=0,s){case Qx:o=i/2,l=-1*c;break;case Jx:o=i+a,l=r/2;break;case Zx:o=i/2,l=r+c;break;case e4:o=-1*a,l=r/2;break}n.setAttrs({x:-1*o,y:-1*l,width:i,height:r}),e.setAttrs({x:-1*o,y:-1*l})}}}yf.Label=gb;gb.prototype.className="Label";(0,Mj._registerNode)(gb);class Mh extends NU.Shape{_sceneFunc(e){const n=this.width(),i=this.height(),r=this.pointerDirection(),s=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let l=0,c=0,d=0,g=0;typeof o=="number"?l=c=d=g=Math.min(o,n/2,i/2):(l=Math.min(o[0]||0,n/2,i/2),c=Math.min(o[1]||0,n/2,i/2),g=Math.min(o[2]||0,n/2,i/2),d=Math.min(o[3]||0,n/2,i/2)),e.beginPath(),e.moveTo(l,0),r===Qx&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*a),e.lineTo((n+s)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),r===Jx&&(e.lineTo(n,(i-a)/2),e.lineTo(n+s,i/2),e.lineTo(n,(i+a)/2)),e.lineTo(n,i-g),e.arc(n-g,i-g,g,0,Math.PI/2,!1),r===Zx&&(e.lineTo((n+s)/2,i),e.lineTo(n/2,i+a),e.lineTo((n-s)/2,i)),e.lineTo(d,i),e.arc(d,i-d,d,Math.PI/2,Math.PI,!1),r===e4&&(e.lineTo(0,(i+a)/2),e.lineTo(-1*s,i/2),e.lineTo(0,(i-a)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,i=this.pointerWidth(),r=this.pointerHeight(),s=this.pointerDirection(),a=this.width(),o=this.height();return s===Qx?(n-=r,o+=r):s===Zx?o+=r:s===e4?(e-=i*1.5,a+=i):s===Jx&&(a+=i*1.5),{x:e,y:n,width:a,height:o}}}yf.Tag=Mh;Mh.prototype.className="Tag";(0,Mj._registerNode)(Mh);Q2.Factory.addGetterSetter(Mh,"pointerDirection",jU);Q2.Factory.addGetterSetter(Mh,"pointerWidth",0,(0,pb.getNumberValidator)());Q2.Factory.addGetterSetter(Mh,"pointerHeight",0,(0,pb.getNumberValidator)());Q2.Factory.addGetterSetter(Mh,"cornerRadius",0,(0,pb.getNumberOrArrayOfNumbersValidator)(4));var ug={};Object.defineProperty(ug,"__esModule",{value:!0});ug.Rect=void 0;const PU=Wt,LU=ir,TU=Ht,EU=fi,MU=Ct;let J2=class extends LU.Shape{_sceneFunc(e){const n=this.cornerRadius(),i=this.width(),r=this.height();e.beginPath(),n?EU.Util.drawRoundedRectPath(e,i,r,n):e.rect(0,0,i,r),e.closePath(),e.fillStrokeShape(this)}};ug.Rect=J2;J2.prototype.className="Rect";(0,TU._registerNode)(J2);PU.Factory.addGetterSetter(J2,"cornerRadius",0,(0,MU.getNumberOrArrayOfNumbersValidator)(4));var Z2={};Object.defineProperty(Z2,"__esModule",{value:!0});Z2.RegularPolygon=void 0;const Fj=Wt,RU=ir,Dj=Ct,FU=Ht;class Rh extends RU.Shape{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(let i=1;i<n.length;i++)e.lineTo(n[i].x,n[i].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,i=[];for(let r=0;r<e;r++)i.push({x:n*Math.sin(r*2*Math.PI/e),y:-1*n*Math.cos(r*2*Math.PI/e)});return i}getSelfRect(){const e=this._getPoints();let n=e[0].x,i=e[0].y,r=e[0].x,s=e[0].y;return e.forEach(a=>{n=Math.min(n,a.x),i=Math.max(i,a.x),r=Math.min(r,a.y),s=Math.max(s,a.y)}),{x:n,y:r,width:i-n,height:s-r}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Z2.RegularPolygon=Rh;Rh.prototype.className="RegularPolygon";Rh.prototype._centroid=!0;Rh.prototype._attrsAffectingSize=["radius"];(0,FU._registerNode)(Rh);Fj.Factory.addGetterSetter(Rh,"radius",0,(0,Dj.getNumberValidator)());Fj.Factory.addGetterSetter(Rh,"sides",0,(0,Dj.getNumberValidator)());var e5={};Object.defineProperty(e5,"__esModule",{value:!0});e5.Ring=void 0;const Ij=Wt,DU=ir,Oj=Ct,IU=Ht,q_=Math.PI*2;class Fh extends DU.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,q_,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),q_,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}e5.Ring=Fh;Fh.prototype.className="Ring";Fh.prototype._centroid=!0;Fh.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,IU._registerNode)(Fh);Ij.Factory.addGetterSetter(Fh,"innerRadius",0,(0,Oj.getNumberValidator)());Ij.Factory.addGetterSetter(Fh,"outerRadius",0,(0,Oj.getNumberValidator)());var t5={};Object.defineProperty(t5,"__esModule",{value:!0});t5.Sprite=void 0;const Dh=Wt,OU=ir,BU=Mf,Bj=Ct,zU=Ht;class al extends OU.Shape{constructor(e){super(e),this._updated=!0,this.anim=new BU.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),i=this.frameIndex(),r=i*4,s=this.animations()[n],a=this.frameOffsets(),o=s[r+0],l=s[r+1],c=s[r+2],d=s[r+3],g=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,d),e.closePath(),e.fillStrokeShape(this)),g)if(a){const m=a[n],p=i*2;e.drawImage(g,o,l,c,d,m[p+0],m[p+1],c,d)}else e.drawImage(g,o,l,c,d,0,0,c,d)}_hitFunc(e){const n=this.animation(),i=this.frameIndex(),r=i*4,s=this.animations()[n],a=this.frameOffsets(),o=s[r+2],l=s[r+3];if(e.beginPath(),a){const c=a[n],d=i*2;e.rect(c[d+0],c[d+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),i=this.animations(),r=i[n],s=r.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}t5.Sprite=al;al.prototype.className="Sprite";(0,zU._registerNode)(al);Dh.Factory.addGetterSetter(al,"animation");Dh.Factory.addGetterSetter(al,"animations");Dh.Factory.addGetterSetter(al,"frameOffsets");Dh.Factory.addGetterSetter(al,"image");Dh.Factory.addGetterSetter(al,"frameIndex",0,(0,Bj.getNumberValidator)());Dh.Factory.addGetterSetter(al,"frameRate",17,(0,Bj.getNumberValidator)());Dh.Factory.backCompat(al,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var n5={};Object.defineProperty(n5,"__esModule",{value:!0});n5.Star=void 0;const mb=Wt,UU=ir,vb=Ct,VU=Ht;class xu extends UU.Shape{_sceneFunc(e){const n=this.innerRadius(),i=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-i);for(let s=1;s<r*2;s++){const a=s%2===0?i:n,o=a*Math.sin(s*Math.PI/r),l=-1*a*Math.cos(s*Math.PI/r);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}n5.Star=xu;xu.prototype.className="Star";xu.prototype._centroid=!0;xu.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,VU._registerNode)(xu);mb.Factory.addGetterSetter(xu,"numPoints",5,(0,vb.getNumberValidator)());mb.Factory.addGetterSetter(xu,"innerRadius",0,(0,vb.getNumberValidator)());mb.Factory.addGetterSetter(xu,"outerRadius",0,(0,vb.getNumberValidator)());var Df={};Object.defineProperty(Df,"__esModule",{value:!0});Df.Text=void 0;Df.stringToArray=Zu;const t4=fi,as=Wt,HU=ir,zv=Ht,bu=Ct,$U=Ht;function Zu(t){return[...t].reduce((e,n,i,r)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const s=r[i+1];s&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(s)?(e.push(n+s),r[i+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(r[i+1]||""))?e.push(n+r[i+1]):i>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const vd="auto",GU="center",zj="inherit",w0="justify",WU="Change.konva",qU="2d",K_="-",Uj="left",KU="text",XU="Text",YU="top",QU="bottom",X_="middle",Vj="normal",JU="px ",sm=" ",ZU="right",Y_="rtl",eV="word",tV="char",Q_="none",Uv="",Hj=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],nV=Hj.length;function iV(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,i=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!i&&(e=`"${e}"`),e}).join(", ")}let am;function Vv(){return am||(am=t4.Util.createCanvasElement().getContext(qU),am)}function rV(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function sV(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function aV(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let ki=class extends HU.Shape{constructor(e){super(aV(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<nV;n++)this.on(Hj[n]+WU,this._setTextData);this._setTextData()}_sceneFunc(e){const n=this.textArr,i=n.length;if(!this.text())return;let r=this.padding(),s=this.fontSize(),a=this.lineHeight()*s,o=this.verticalAlign(),l=this.direction(),c=0,d=this.align(),g=this.getWidth(),m=this.letterSpacing(),p=this.fill(),x=this.textDecoration(),b=x.indexOf("underline")!==-1,N=x.indexOf("line-through")!==-1,S;l=l===zj?e.direction:l;let j=a/2,_=X_;if(zv.Konva._fixTextRendering){const C=this.measureSize("M");_="alphabetic",j=(C.fontBoundingBoxAscent-C.fontBoundingBoxDescent)/2+a/2}for(l===Y_&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",_),e.setAttr("textAlign",Uj),o===X_?c=(this.getHeight()-i*a-r*2)/2:o===QU&&(c=this.getHeight()-i*a-r*2),e.translate(r,c+r),S=0;S<i;S++){let C=0,E=0;const O=n[S],U=O.text,F=O.width,R=O.lastInParagraph;if(e.save(),d===ZU?C+=g-F-r*2:d===GU&&(C+=(g-F-r*2)/2),b){e.save(),e.beginPath();const M=zv.Konva._fixTextRendering?Math.round(s/4):Math.round(s/2),T=C,D=j+E+M;e.moveTo(T,D);const $=d===w0&&!R?g-r*2:F;e.lineTo(T+Math.round($),D),e.lineWidth=s/15;const X=this._getLinearGradient();e.strokeStyle=X||p,e.stroke(),e.restore()}if(N){e.save(),e.beginPath();const M=zv.Konva._fixTextRendering?-Math.round(s/4):0;e.moveTo(C,j+E+M);const T=d===w0&&!R?g-r*2:F;e.lineTo(C+Math.round(T),j+E+M),e.lineWidth=s/15;const D=this._getLinearGradient();e.strokeStyle=D||p,e.stroke(),e.restore()}if(l!==Y_&&(m!==0||d===w0)){const M=U.split(" ").length-1,T=Zu(U);for(let D=0;D<T.length;D++){const $=T[D];$===" "&&!R&&d===w0&&(C+=(g-r*2-F)/M),this._partialTextX=C,this._partialTextY=j+E,this._partialText=$,e.fillStrokeShape(this),C+=this.measureSize($).width+m}}else m!==0&&e.setAttr("letterSpacing",`${m}px`),this._partialTextX=C,this._partialTextY=j+E,this._partialText=U,e.fillStrokeShape(this);e.restore(),i>1&&(j+=a)}}_hitFunc(e){const n=this.getWidth(),i=this.getHeight();e.beginPath(),e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=t4.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(KU,n),this}getWidth(){return this.attrs.width===vd||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===vd||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t4.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,i,r,s,a,o,l,c,d,g,m;let p=Vv(),x=this.fontSize(),b;p.save(),p.font=this._getContextFont(),b=p.measureText(e),p.restore();const N=x/100;return{actualBoundingBoxAscent:(n=b.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*N,actualBoundingBoxDescent:(i=b.actualBoundingBoxDescent)!==null&&i!==void 0?i:0,actualBoundingBoxLeft:(r=b.actualBoundingBoxLeft)!==null&&r!==void 0?r:-7.421875*N,actualBoundingBoxRight:(s=b.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*N,alphabeticBaseline:(a=b.alphabeticBaseline)!==null&&a!==void 0?a:0,emHeightAscent:(o=b.emHeightAscent)!==null&&o!==void 0?o:100*N,emHeightDescent:(l=b.emHeightDescent)!==null&&l!==void 0?l:-20*N,fontBoundingBoxAscent:(c=b.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*N,fontBoundingBoxDescent:(d=b.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*N,hangingBaseline:(g=b.hangingBaseline)!==null&&g!==void 0?g:72.80000305175781*N,ideographicBaseline:(m=b.ideographicBaseline)!==null&&m!==void 0?m:-21*N,width:b.width,height:x}}_getContextFont(){return this.fontStyle()+sm+this.fontVariant()+sm+(this.fontSize()+JU)+iV(this.fontFamily())}_addTextLine(e){this.align()===w0&&(e=e.trim());const i=this._getTextWidth(e);return this.textArr.push({text:e,width:i,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),i=e.length;return Vv().measureText(e).width+n*i}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),i=0,r=this.lineHeight()*n,s=this.attrs.width,a=this.attrs.height,o=s!==vd&&s!==void 0,l=a!==vd&&a!==void 0,c=this.padding(),d=s-c*2,g=a-c*2,m=0,p=this.wrap(),x=p!==Q_,b=p!==tV&&x,N=this.ellipsis();this.textArr=[],Vv().font=this._getContextFont();const S=N?this._getTextWidth(Uv):0;for(let j=0,_=e.length;j<_;++j){let C=e[j],E=this._getTextWidth(C);if(o&&E>d)for(;C.length>0;){let O=0,U=Zu(C).length,F="",R=0;for(;O<U;){const M=O+U>>>1,T=Zu(C),D=T.slice(0,M+1).join(""),$=this._getTextWidth(D);(N&&l&&m+r>g?$+S:$)<=d?(O=M+1,F=D,R=$):U=M}if(F){if(b){const D=Zu(C),$=Zu(F),X=D[$.length],ae=X===sm||X===K_;let ge;if(ae&&R<=d)ge=$.length;else{const pe=$.lastIndexOf(sm),te=$.lastIndexOf(K_);ge=Math.max(pe,te)+1}ge>0&&(O=ge,F=D.slice(0,O).join(""),R=this._getTextWidth(F))}if(F=F.trimRight(),this._addTextLine(F),i=Math.max(i,R),m+=r,this._shouldHandleEllipsis(m)){this._tryToAddEllipsisToLastLine();break}if(C=Zu(C).slice(O).join("").trimLeft(),C.length>0&&(E=this._getTextWidth(C),E<=d)){this._addTextLine(C),m+=r,i=Math.max(i,E);break}}else break}else this._addTextLine(C),m+=r,i=Math.max(i,E),this._shouldHandleEllipsis(m)&&j<_-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&m+r>g)break}this.textHeight=n,this.textWidth=i}_shouldHandleEllipsis(e){const n=+this.fontSize(),i=this.lineHeight()*n,r=this.attrs.height,s=r!==vd&&r!==void 0,a=this.padding(),o=r-a*2;return!(this.wrap()!==Q_)||s&&e+i>o}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==vd&&e!==void 0,i=this.padding(),r=e-i*2,s=this.ellipsis(),a=this.textArr[this.textArr.length-1];!a||!s||(n&&(this._getTextWidth(a.text+Uv)<r||(a.text=a.text.slice(0,a.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+Uv))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Df.Text=ki;ki.prototype._fillFunc=rV;ki.prototype._strokeFunc=sV;ki.prototype.className=XU;ki.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,$U._registerNode)(ki);as.Factory.overWriteSetter(ki,"width",(0,bu.getNumberOrAutoValidator)());as.Factory.overWriteSetter(ki,"height",(0,bu.getNumberOrAutoValidator)());as.Factory.addGetterSetter(ki,"direction",zj);as.Factory.addGetterSetter(ki,"fontFamily","Arial");as.Factory.addGetterSetter(ki,"fontSize",12,(0,bu.getNumberValidator)());as.Factory.addGetterSetter(ki,"fontStyle",Vj);as.Factory.addGetterSetter(ki,"fontVariant",Vj);as.Factory.addGetterSetter(ki,"padding",0,(0,bu.getNumberValidator)());as.Factory.addGetterSetter(ki,"align",Uj);as.Factory.addGetterSetter(ki,"verticalAlign",YU);as.Factory.addGetterSetter(ki,"lineHeight",1,(0,bu.getNumberValidator)());as.Factory.addGetterSetter(ki,"wrap",eV);as.Factory.addGetterSetter(ki,"ellipsis",!1,(0,bu.getBooleanValidator)());as.Factory.addGetterSetter(ki,"letterSpacing",0,(0,bu.getNumberValidator)());as.Factory.addGetterSetter(ki,"text","",(0,bu.getStringValidator)());as.Factory.addGetterSetter(ki,"textDecoration","");var i5={};Object.defineProperty(i5,"__esModule",{value:!0});i5.TextPath=void 0;const Hv=fi,jo=Wt,oV=ir,_0=Rf,$v=Df,$j=Ct,lV=Ht,cV="",Gj="normal";function Wj(t){t.fillText(this.partialText,0,0)}function qj(t){t.strokeText(this.partialText,0,0)}class rr extends oV.Shape{constructor(e){super(e),this.dummyCanvas=Hv.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return _0.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e-1>n?null:_0.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=_0.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),i=this.fill(),r=this.fontSize(),s=this.glyphInfo;n==="underline"&&e.beginPath();for(let a=0;a<s.length;a++){e.save();const o=s[a].p0;e.translate(o.x,o.y),e.rotate(s[a].rotation),this.partialText=s[a].text,e.fillStrokeShape(this),n==="underline"&&(a===0&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=i,e.lineWidth=r/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const i=n[0].p0;e.moveTo(i.x,i.y)}for(let i=0;i<n.length;i++){const r=n[i].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Hv.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return $v.Text.prototype.setText.call(this,e)}_getContextFont(){return $v.Text.prototype._getContextFont.call(this)}_getTextSize(e){const i=this.dummyCanvas.getContext("2d");i.save(),i.font=this._getContextFont();const r=i.measureText(e);return i.restore(),{width:r.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),r=this.align(),s=this.kerningFunc(),a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let o=0;r==="center"&&(o=Math.max(0,this.pathLength/2-a/2)),r==="right"&&(o=Math.max(0,this.pathLength-a));const l=(0,$v.stringToArray)(this.text());let c=o;for(let d=0;d<l.length;d++){const g=this._getPointAtLength(c);if(!g)return;let m=this._getTextSize(l[d]).width+i;if(l[d]===" "&&r==="justify"){const j=this.text().split(" ").length-1;m+=(this.pathLength-a)/j}const p=this._getPointAtLength(c+m);if(!p)return;const x=_0.Path.getLineLength(g.x,g.y,p.x,p.y);let b=0;if(s)try{b=s(l[d-1],l[d])*this.fontSize()}catch{b=0}g.x+=b,p.x+=b,this.textWidth+=b;const N=_0.Path.getPointOnLine(b+x/2,g.x,g.y,p.x,p.y),S=Math.atan2(p.y-g.y,p.x-g.x);this.glyphInfo.push({transposeX:N.x,transposeY:N.y,text:l[d],rotation:S,p0:g,p1:p}),c+=m}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let n=e[0]||0,i=e[0]||0,r=e[1]||0,s=e[1]||0,a,o;for(let c=0;c<e.length/2;c++)a=e[c*2],o=e[c*2+1],n=Math.min(n,a),i=Math.max(i,a),r=Math.min(r,o),s=Math.max(s,o);const l=this.fontSize();return{x:n-l/2,y:r-l/2,width:i-n+l,height:s-r+l}}destroy(){return Hv.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}i5.TextPath=rr;rr.prototype._fillFunc=Wj;rr.prototype._strokeFunc=qj;rr.prototype._fillFuncHit=Wj;rr.prototype._strokeFuncHit=qj;rr.prototype.className="TextPath";rr.prototype._attrsAffectingSize=["text","fontSize","data"];(0,lV._registerNode)(rr);jo.Factory.addGetterSetter(rr,"data");jo.Factory.addGetterSetter(rr,"fontFamily","Arial");jo.Factory.addGetterSetter(rr,"fontSize",12,(0,$j.getNumberValidator)());jo.Factory.addGetterSetter(rr,"fontStyle",Gj);jo.Factory.addGetterSetter(rr,"align","left");jo.Factory.addGetterSetter(rr,"letterSpacing",0,(0,$j.getNumberValidator)());jo.Factory.addGetterSetter(rr,"textBaseline","middle");jo.Factory.addGetterSetter(rr,"fontVariant",Gj);jo.Factory.addGetterSetter(rr,"text",cV);jo.Factory.addGetterSetter(rr,"textDecoration","");jo.Factory.addGetterSetter(rr,"kerningFunc",void 0);var r5={};Object.defineProperty(r5,"__esModule",{value:!0});r5.Transformer=void 0;const Tn=fi,bn=Wt,J_=ri,uV=ir,hV=ug,Z_=Ef,go=Ht,wu=Ct,dV=Ht,Kj="tr-konva",fV=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${Kj}`).join(" "),e8="nodesRect",pV=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],gV={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},mV="ontouchstart"in go.Konva._global;function vV(t,e,n){if(t==="rotater")return n;e+=Tn.Util.degToRad(gV[t]||0);const i=(Tn.Util.radToDeg(e)%360+360)%360;return Tn.Util._inRange(i,315+22.5,360)||Tn.Util._inRange(i,0,22.5)?"ns-resize":Tn.Util._inRange(i,45-22.5,45+22.5)?"nesw-resize":Tn.Util._inRange(i,90-22.5,90+22.5)?"ew-resize":Tn.Util._inRange(i,135-22.5,135+22.5)?"nwse-resize":Tn.Util._inRange(i,180-22.5,180+22.5)?"ns-resize":Tn.Util._inRange(i,225-22.5,225+22.5)?"nesw-resize":Tn.Util._inRange(i,270-22.5,270+22.5)?"ew-resize":Tn.Util._inRange(i,315-22.5,315+22.5)?"nwse-resize":(Tn.Util.error("Transformer has unknown angle for cursor detection: "+i),"pointer")}const K1=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function yV(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function Xj(t,e,n){const i=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),r=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:i,y:r}}function xV(t,e){const n=yV(t);return Xj(t,e,n)}function bV(t,e,n){let i=e;for(let r=0;r<t.length;r++){const s=go.Konva.getAngle(t[r]),a=Math.abs(s-e)%(Math.PI*2);Math.min(a,Math.PI*2-a)<n&&(i=s)}return i}let n4=0;class rn extends Z_.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(fV,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Tn.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Kj+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(r=>r.isAncestorOf(this)?(Tn.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(r._attrsAffectingSize.length){const a=r._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");r.on(a,s)}r.on(pV.map(a=>a+`.${this._getEventNamespace()}`).join(" "),s),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(r)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,i=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(i,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!n)return;const r=e.getAbsolutePosition(),s=r.x-n.x,a=r.y-n.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+s,y:l.y+a}),o.startDrag(i)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(e8),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(e8,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),i){const r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(i),a=e.getAbsolutePosition(i),o=r.x*s.x-e.offsetX()*s.x,l=r.y*s.y-e.offsetY()*s.y,c=(go.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:a.x+o*Math.cos(c)+l*Math.sin(-c),y:a.y+l*Math.cos(c)+o*Math.sin(c),width:r.width*s.x,height:r.height*s.y,rotation:c};return Xj(d,-go.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const d=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),g=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],m=c.getAbsoluteTransform();g.forEach(function(p){const x=m.point(p);n.push(x)})});const i=new Tn.Transform;i.rotate(-go.Konva.getAngle(this.rotation()));let r=1/0,s=1/0,a=-1/0,o=-1/0;n.forEach(function(c){const d=i.point(c);r===void 0&&(r=a=d.x,s=o=d.y),r=Math.min(r,d.x),s=Math.min(s,d.y),a=Math.max(a,d.x),o=Math.max(o,d.y)}),i.invert();const l=i.point({x:r,y:s});return{x:l.x,y:l.y,width:a-r,height:o-s,rotation:go.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),K1.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new hV.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:mV?10:"auto"}),i=this;n.on("mousedown touchstart",function(r){i._handleMouseDown(r)}),n.on("dragstart",r=>{n.stopDrag(),r.cancelBubble=!0}),n.on("dragend",r=>{r.cancelBubble=!0}),n.on("mouseenter",()=>{const r=go.Konva.getAngle(this.rotation()),s=this.rotateAnchorCursor(),a=vV(e,r,s);n.getStage().content&&(n.getStage().content.style.cursor=a),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new uV.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,i){const r=i.getParent(),s=r.padding();n.beginPath(),n.rect(-s,-s,i.width()+s*2,i.height()+s*2),n.moveTo(i.width()/2,-s),r.rotateEnabled()&&r.rotateLineVisible()&&n.lineTo(i.width()/2,-r.rotateAnchorOffset()*Tn.Util._sign(i.height())-s),n.fillStrokeShape(i)},hitFunc:(n,i)=>{if(!this.shouldOverdrawWholeArea())return;const r=this.padding();n.beginPath(),n.rect(-r,-r,i.width()+r*2,i.height()+r*2),n.fillStrokeShape(i)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),i=n.width,r=n.height,s=Math.sqrt(Math.pow(i,2)+Math.pow(r,2));this.sin=Math.abs(r/s),this.cos=Math.abs(i/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const a=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},n4++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,i,r;const s=this.findOne("."+this._movingAnchorName),a=s.getStage();a.setPointersPositions(e);const o=a.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),s.setAbsolutePosition(l);const d=s.getAbsolutePosition();if(c.x===d.x&&c.y===d.y)return;if(this._movingAnchorName==="rotater"){const j=this._getNodeRect();n=s.x()-j.width/2,i=-s.y()+j.height/2;let _=Math.atan2(-i,n)+Math.PI/2;j.height<0&&(_-=Math.PI);const E=go.Konva.getAngle(this.rotation())+_,O=go.Konva.getAngle(this.rotationSnapTolerance()),F=bV(this.rotationSnaps(),E,O)-j.rotation,R=xV(j,F);this._fitNodesInto(R,e);return}const g=this.shiftBehavior();let m;g==="inverted"?m=this.keepRatio()&&!e.shiftKey:g==="none"?m=this.keepRatio():m=this.keepRatio()||e.shiftKey;let p=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(m){const j=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(j.x-s.x(),2)+Math.pow(j.y-s.y(),2));const _=this.findOne(".top-left").x()>j.x?-1:1,C=this.findOne(".top-left").y()>j.y?-1:1;n=r*this.cos*_,i=r*this.sin*C,this.findOne(".top-left").x(j.x-n),this.findOne(".top-left").y(j.y-i)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(m){const j=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(s.x()-j.x,2)+Math.pow(j.y-s.y(),2));const _=this.findOne(".top-right").x()<j.x?-1:1,C=this.findOne(".top-right").y()>j.y?-1:1;n=r*this.cos*_,i=r*this.sin*C,this.findOne(".top-right").x(j.x+n),this.findOne(".top-right").y(j.y-i)}var x=s.position();this.findOne(".top-left").y(x.y),this.findOne(".bottom-right").x(x.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(m){const j=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(j.x-s.x(),2)+Math.pow(s.y()-j.y,2));const _=j.x<s.x()?-1:1,C=s.y()<j.y?-1:1;n=r*this.cos*_,i=r*this.sin*C,s.x(j.x-n),s.y(j.y+i)}x=s.position(),this.findOne(".top-left").x(x.x),this.findOne(".bottom-right").y(x.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(m){const j=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(s.x()-j.x,2)+Math.pow(s.y()-j.y,2));const _=this.findOne(".bottom-right").x()<j.x?-1:1,C=this.findOne(".bottom-right").y()<j.y?-1:1;n=r*this.cos*_,i=r*this.sin*C,this.findOne(".bottom-right").x(j.x+n),this.findOne(".bottom-right").y(j.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(p=this.centeredScaling()||e.altKey,p){const j=this.findOne(".top-left"),_=this.findOne(".bottom-right"),C=j.x(),E=j.y(),O=this.getWidth()-_.x(),U=this.getHeight()-_.y();_.move({x:-C,y:-E}),j.move({x:O,y:U})}const b=this.findOne(".top-left").getAbsolutePosition();n=b.x,i=b.y;const N=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),S=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:i,width:N,height:S,rotation:go.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const i=this.getNode();n4--,this._fire("transformend",{evt:e,target:i}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),i&&this._nodes.forEach(r=>{var s;r._fire("transformend",{evt:e,target:r}),(s=r.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const i=this._getNodeRect(),r=1;if(Tn.Util._inRange(e.width,-this.padding()*2-r,r)){this.update();return}if(Tn.Util._inRange(e.height,-this.padding()*2-r,r)){this.update();return}const s=new Tn.Transform;if(s.rotate(go.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const m=s.point({x:-this.padding()*2,y:0});e.x+=m.x,e.y+=m.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const m=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const m=s.point({x:0,y:-this.padding()*2});e.x+=m.x,e.y+=m.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const m=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const m=this.boundBoxFunc()(i,e);m?e=m:Tn.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const a=1e7,o=new Tn.Transform;o.translate(i.x,i.y),o.rotate(i.rotation),o.scale(i.width/a,i.height/a);const l=new Tn.Transform,c=e.width/a,d=e.height/a;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,d));const g=l.multiply(o.invert());this._nodes.forEach(m=>{var p;const x=m.getParent().getAbsoluteTransform(),b=m.getTransform().copy();b.translate(m.offsetX(),m.offsetY());const N=new Tn.Transform;N.multiply(x.copy().invert()).multiply(g).multiply(x).multiply(b);const S=N.decompose();m.setAttrs(S),(p=m.getLayer())===null||p===void 0||p.batchDraw()}),this.rotation(Tn.Util._getRotation(e.rotation)),this._nodes.forEach(m=>{this._fire("transform",{evt:n,target:m}),m._fire("transform",{evt:n,target:m})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(Tn.Util._getRotation(n.rotation));const i=n.width,r=n.height,s=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(g=>{g.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:a&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:l/2+o,visible:a&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:a&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:l/2+o,visible:a&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:r/2,offsetX:l/2-o,visible:a&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:l/2+o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:r,offsetY:l/2-o,visible:a&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:r,offsetX:l/2-o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:i/2,y:-this.rotateAnchorOffset()*Tn.Util._sign(r)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const d=this.anchorStyleFunc();d&&c.forEach(g=>{d(g)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Z_.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return J_.Node.prototype.toObject.call(this)}clone(e){return J_.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}r5.Transformer=rn;rn.isTransforming=()=>n4>0;function wV(t){return t instanceof Array||Tn.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){K1.indexOf(e)===-1&&Tn.Util.warn("Unknown anchor name: "+e+". Available names are: "+K1.join(", "))}),t||[]}rn.prototype.className="Transformer";(0,dV._registerNode)(rn);bn.Factory.addGetterSetter(rn,"enabledAnchors",K1,wV);bn.Factory.addGetterSetter(rn,"flipEnabled",!0,(0,wu.getBooleanValidator)());bn.Factory.addGetterSetter(rn,"resizeEnabled",!0);bn.Factory.addGetterSetter(rn,"anchorSize",10,(0,wu.getNumberValidator)());bn.Factory.addGetterSetter(rn,"rotateEnabled",!0);bn.Factory.addGetterSetter(rn,"rotateLineVisible",!0);bn.Factory.addGetterSetter(rn,"rotationSnaps",[]);bn.Factory.addGetterSetter(rn,"rotateAnchorOffset",50,(0,wu.getNumberValidator)());bn.Factory.addGetterSetter(rn,"rotateAnchorCursor","crosshair");bn.Factory.addGetterSetter(rn,"rotationSnapTolerance",5,(0,wu.getNumberValidator)());bn.Factory.addGetterSetter(rn,"borderEnabled",!0);bn.Factory.addGetterSetter(rn,"anchorStroke","rgb(0, 161, 255)");bn.Factory.addGetterSetter(rn,"anchorStrokeWidth",1,(0,wu.getNumberValidator)());bn.Factory.addGetterSetter(rn,"anchorFill","white");bn.Factory.addGetterSetter(rn,"anchorCornerRadius",0,(0,wu.getNumberValidator)());bn.Factory.addGetterSetter(rn,"borderStroke","rgb(0, 161, 255)");bn.Factory.addGetterSetter(rn,"borderStrokeWidth",1,(0,wu.getNumberValidator)());bn.Factory.addGetterSetter(rn,"borderDash");bn.Factory.addGetterSetter(rn,"keepRatio",!0);bn.Factory.addGetterSetter(rn,"shiftBehavior","default");bn.Factory.addGetterSetter(rn,"centeredScaling",!1);bn.Factory.addGetterSetter(rn,"ignoreStroke",!1);bn.Factory.addGetterSetter(rn,"padding",0,(0,wu.getNumberValidator)());bn.Factory.addGetterSetter(rn,"nodes");bn.Factory.addGetterSetter(rn,"node");bn.Factory.addGetterSetter(rn,"boundBoxFunc");bn.Factory.addGetterSetter(rn,"anchorDragBoundFunc");bn.Factory.addGetterSetter(rn,"anchorStyleFunc");bn.Factory.addGetterSetter(rn,"shouldOverdrawWholeArea",!1);bn.Factory.addGetterSetter(rn,"useSingleNodeRotation",!0);bn.Factory.backCompat(rn,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var s5={};Object.defineProperty(s5,"__esModule",{value:!0});s5.Wedge=void 0;const a5=Wt,_V=ir,SV=Ht,Yj=Ct,NV=Ht;class nc extends _V.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,SV.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}s5.Wedge=nc;nc.prototype.className="Wedge";nc.prototype._centroid=!0;nc.prototype._attrsAffectingSize=["radius"];(0,NV._registerNode)(nc);a5.Factory.addGetterSetter(nc,"radius",0,(0,Yj.getNumberValidator)());a5.Factory.addGetterSetter(nc,"angle",0,(0,Yj.getNumberValidator)());a5.Factory.addGetterSetter(nc,"clockwise",!1);a5.Factory.backCompat(nc,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var o5={};Object.defineProperty(o5,"__esModule",{value:!0});o5.Blur=void 0;const t8=Wt,kV=ri,CV=Ct;function n8(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const jV=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],AV=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function PV(t,e){const n=t.data,i=t.width,r=t.height;let s,a,o,l,c,d,g,m,p,x,b,N,S,j,_,C,E,O,U,F;const R=e+e+1,M=i-1,T=r-1,D=e+1,$=D*(D+1)/2,X=new n8,ae=jV[e],ge=AV[e];let pe=null,te=X,Z=null,ue=null;for(let Y=1;Y<R;Y++)te=te.next=new n8,Y===D&&(pe=te);te.next=X,o=a=0;for(let Y=0;Y<r;Y++){N=S=j=_=l=c=d=g=0,m=D*(C=n[a]),p=D*(E=n[a+1]),x=D*(O=n[a+2]),b=D*(U=n[a+3]),l+=$*C,c+=$*E,d+=$*O,g+=$*U,te=X;for(let z=0;z<D;z++)te.r=C,te.g=E,te.b=O,te.a=U,te=te.next;for(let z=1;z<D;z++)s=a+((M<z?M:z)<<2),l+=(te.r=C=n[s])*(F=D-z),c+=(te.g=E=n[s+1])*F,d+=(te.b=O=n[s+2])*F,g+=(te.a=U=n[s+3])*F,N+=C,S+=E,j+=O,_+=U,te=te.next;Z=X,ue=pe;for(let z=0;z<i;z++)n[a+3]=U=g*ae>>ge,U!==0?(U=255/U,n[a]=(l*ae>>ge)*U,n[a+1]=(c*ae>>ge)*U,n[a+2]=(d*ae>>ge)*U):n[a]=n[a+1]=n[a+2]=0,l-=m,c-=p,d-=x,g-=b,m-=Z.r,p-=Z.g,x-=Z.b,b-=Z.a,s=o+((s=z+e+1)<M?s:M)<<2,N+=Z.r=n[s],S+=Z.g=n[s+1],j+=Z.b=n[s+2],_+=Z.a=n[s+3],l+=N,c+=S,d+=j,g+=_,Z=Z.next,m+=C=ue.r,p+=E=ue.g,x+=O=ue.b,b+=U=ue.a,N-=C,S-=E,j-=O,_-=U,ue=ue.next,a+=4;o+=i}for(let Y=0;Y<i;Y++){S=j=_=N=c=d=g=l=0,a=Y<<2,m=D*(C=n[a]),p=D*(E=n[a+1]),x=D*(O=n[a+2]),b=D*(U=n[a+3]),l+=$*C,c+=$*E,d+=$*O,g+=$*U,te=X;for(let q=0;q<D;q++)te.r=C,te.g=E,te.b=O,te.a=U,te=te.next;let z=i;for(let q=1;q<=e;q++)a=z+Y<<2,l+=(te.r=C=n[a])*(F=D-q),c+=(te.g=E=n[a+1])*F,d+=(te.b=O=n[a+2])*F,g+=(te.a=U=n[a+3])*F,N+=C,S+=E,j+=O,_+=U,te=te.next,q<T&&(z+=i);a=Y,Z=X,ue=pe;for(let q=0;q<r;q++)s=a<<2,n[s+3]=U=g*ae>>ge,U>0?(U=255/U,n[s]=(l*ae>>ge)*U,n[s+1]=(c*ae>>ge)*U,n[s+2]=(d*ae>>ge)*U):n[s]=n[s+1]=n[s+2]=0,l-=m,c-=p,d-=x,g-=b,m-=Z.r,p-=Z.g,x-=Z.b,b-=Z.a,s=Y+((s=q+D)<T?s:T)*i<<2,l+=N+=Z.r=n[s],c+=S+=Z.g=n[s+1],d+=j+=Z.b=n[s+2],g+=_+=Z.a=n[s+3],Z=Z.next,m+=C=ue.r,p+=E=ue.g,x+=O=ue.b,b+=U=ue.a,N-=C,S-=E,j-=O,_-=U,ue=ue.next,a+=i}}const LV=function(e){const n=Math.round(this.blurRadius());n>0&&PV(e,n)};o5.Blur=LV;t8.Factory.addGetterSetter(kV.Node,"blurRadius",0,(0,CV.getNumberValidator)(),t8.Factory.afterSetFilter);var l5={};Object.defineProperty(l5,"__esModule",{value:!0});l5.Brighten=void 0;const i8=Wt,TV=ri,EV=Ct,MV=function(t){const e=this.brightness()*255,n=t.data,i=n.length;for(let r=0;r<i;r+=4)n[r]+=e,n[r+1]+=e,n[r+2]+=e};l5.Brighten=MV;i8.Factory.addGetterSetter(TV.Node,"brightness",0,(0,EV.getNumberValidator)(),i8.Factory.afterSetFilter);var c5={};Object.defineProperty(c5,"__esModule",{value:!0});c5.Contrast=void 0;const r8=Wt,RV=ri,FV=Ct,DV=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,i=n.length;let r=150,s=150,a=150;for(let o=0;o<i;o+=4)r=n[o],s=n[o+1],a=n[o+2],r/=255,r-=.5,r*=e,r+=.5,r*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,r=r<0?0:r>255?255:r,s=s<0?0:s>255?255:s,a=a<0?0:a>255?255:a,n[o]=r,n[o+1]=s,n[o+2]=a};c5.Contrast=DV;r8.Factory.addGetterSetter(RV.Node,"contrast",0,(0,FV.getNumberValidator)(),r8.Factory.afterSetFilter);var u5={};Object.defineProperty(u5,"__esModule",{value:!0});u5.Emboss=void 0;const au=Wt,h5=ri,IV=fi,Qj=Ct,OV=function(t){const e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,i=this.embossDirection(),r=this.embossBlend(),s=t.data,a=t.width,o=t.height,l=a*4;let c=0,d=0,g=o;switch(i){case"top-left":c=-1,d=-1;break;case"top":c=-1,d=0;break;case"top-right":c=-1,d=1;break;case"right":c=0,d=1;break;case"bottom-right":c=1,d=1;break;case"bottom":c=1,d=0;break;case"bottom-left":c=1,d=-1;break;case"left":c=0,d=-1;break;default:IV.Util.error("Unknown emboss direction: "+i)}do{const m=(g-1)*l;let p=c;g+p<1&&(p=0),g+p>o&&(p=0);const x=(g-1+p)*a*4;let b=a;do{const N=m+(b-1)*4;let S=d;b+S<1&&(S=0),b+S>a&&(S=0);const j=x+(b-1+S)*4,_=s[N]-s[j],C=s[N+1]-s[j+1],E=s[N+2]-s[j+2];let O=_;const U=O>0?O:-O,F=C>0?C:-C,R=E>0?E:-E;if(F>U&&(O=C),R>U&&(O=E),O*=e,r){const M=s[N]+O,T=s[N+1]+O,D=s[N+2]+O;s[N]=M>255?255:M<0?0:M,s[N+1]=T>255?255:T<0?0:T,s[N+2]=D>255?255:D<0?0:D}else{let M=n-O;M<0?M=0:M>255&&(M=255),s[N]=s[N+1]=s[N+2]=M}}while(--b)}while(--g)};u5.Emboss=OV;au.Factory.addGetterSetter(h5.Node,"embossStrength",.5,(0,Qj.getNumberValidator)(),au.Factory.afterSetFilter);au.Factory.addGetterSetter(h5.Node,"embossWhiteLevel",.5,(0,Qj.getNumberValidator)(),au.Factory.afterSetFilter);au.Factory.addGetterSetter(h5.Node,"embossDirection","top-left",void 0,au.Factory.afterSetFilter);au.Factory.addGetterSetter(h5.Node,"embossBlend",!1,void 0,au.Factory.afterSetFilter);var d5={};Object.defineProperty(d5,"__esModule",{value:!0});d5.Enhance=void 0;const s8=Wt,BV=ri,zV=Ct;function Gv(t,e,n,i,r){const s=n-e,a=r-i;if(s===0)return i+a/2;if(a===0)return i;let o=(t-e)/s;return o=a*o+i,o}const UV=function(t){const e=t.data,n=e.length;let i=e[0],r=i,s,a=e[1],o=a,l,c=e[2],d=c,g;const m=this.enhance();if(m===0)return;for(let _=0;_<n;_+=4)s=e[_+0],s<i?i=s:s>r&&(r=s),l=e[_+1],l<a?a=l:l>o&&(o=l),g=e[_+2],g<c?c=g:g>d&&(d=g);r===i&&(r=255,i=0),o===a&&(o=255,a=0),d===c&&(d=255,c=0);let p,x,b,N,S,j;if(m>0)p=r+m*(255-r),x=i-m*(i-0),b=o+m*(255-o),N=a-m*(a-0),S=d+m*(255-d),j=c-m*(c-0);else{const _=(r+i)*.5;p=r+m*(r-_),x=i+m*(i-_);const C=(o+a)*.5;b=o+m*(o-C),N=a+m*(a-C);const E=(d+c)*.5;S=d+m*(d-E),j=c+m*(c-E)}for(let _=0;_<n;_+=4)e[_+0]=Gv(e[_+0],i,r,x,p),e[_+1]=Gv(e[_+1],a,o,N,b),e[_+2]=Gv(e[_+2],c,d,j,S)};d5.Enhance=UV;s8.Factory.addGetterSetter(BV.Node,"enhance",0,(0,zV.getNumberValidator)(),s8.Factory.afterSetFilter);var f5={};Object.defineProperty(f5,"__esModule",{value:!0});f5.Grayscale=void 0;const VV=function(t){const e=t.data,n=e.length;for(let i=0;i<n;i+=4){const r=.34*e[i]+.5*e[i+1]+.16*e[i+2];e[i]=r,e[i+1]=r,e[i+2]=r}};f5.Grayscale=VV;var p5={};Object.defineProperty(p5,"__esModule",{value:!0});p5.HSL=void 0;const xf=Wt,yb=ri,xb=Ct;xf.Factory.addGetterSetter(yb.Node,"hue",0,(0,xb.getNumberValidator)(),xf.Factory.afterSetFilter);xf.Factory.addGetterSetter(yb.Node,"saturation",0,(0,xb.getNumberValidator)(),xf.Factory.afterSetFilter);xf.Factory.addGetterSetter(yb.Node,"luminance",0,(0,xb.getNumberValidator)(),xf.Factory.afterSetFilter);const HV=function(t){const e=t.data,n=e.length,i=1,r=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=this.luminance()*127,o=i*r*Math.cos(s*Math.PI/180),l=i*r*Math.sin(s*Math.PI/180),c=.299*i+.701*o+.167*l,d=.587*i-.587*o+.33*l,g=.114*i-.114*o-.497*l,m=.299*i-.299*o-.328*l,p=.587*i+.413*o+.035*l,x=.114*i-.114*o+.293*l,b=.299*i-.3*o+1.25*l,N=.587*i-.586*o-1.05*l,S=.114*i+.886*o-.2*l;let j,_,C,E;for(let O=0;O<n;O+=4)j=e[O+0],_=e[O+1],C=e[O+2],E=e[O+3],e[O+0]=c*j+d*_+g*C+a,e[O+1]=m*j+p*_+x*C+a,e[O+2]=b*j+N*_+S*C+a,e[O+3]=E};p5.HSL=HV;var g5={};Object.defineProperty(g5,"__esModule",{value:!0});g5.HSV=void 0;const bf=Wt,bb=ri,wb=Ct,$V=function(t){const e=t.data,n=e.length,i=Math.pow(2,this.value()),r=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=i*r*Math.cos(s*Math.PI/180),o=i*r*Math.sin(s*Math.PI/180),l=.299*i+.701*a+.167*o,c=.587*i-.587*a+.33*o,d=.114*i-.114*a-.497*o,g=.299*i-.299*a-.328*o,m=.587*i+.413*a+.035*o,p=.114*i-.114*a+.293*o,x=.299*i-.3*a+1.25*o,b=.587*i-.586*a-1.05*o,N=.114*i+.886*a-.2*o;for(let S=0;S<n;S+=4){const j=e[S+0],_=e[S+1],C=e[S+2],E=e[S+3];e[S+0]=l*j+c*_+d*C,e[S+1]=g*j+m*_+p*C,e[S+2]=x*j+b*_+N*C,e[S+3]=E}};g5.HSV=$V;bf.Factory.addGetterSetter(bb.Node,"hue",0,(0,wb.getNumberValidator)(),bf.Factory.afterSetFilter);bf.Factory.addGetterSetter(bb.Node,"saturation",0,(0,wb.getNumberValidator)(),bf.Factory.afterSetFilter);bf.Factory.addGetterSetter(bb.Node,"value",0,(0,wb.getNumberValidator)(),bf.Factory.afterSetFilter);var m5={};Object.defineProperty(m5,"__esModule",{value:!0});m5.Invert=void 0;const GV=function(t){const e=t.data,n=e.length;for(let i=0;i<n;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2]};m5.Invert=GV;var v5={};Object.defineProperty(v5,"__esModule",{value:!0});v5.Kaleidoscope=void 0;const X1=Wt,Jj=ri,a8=fi,Zj=Ct,WV=function(t,e,n){const i=t.data,r=e.data,s=t.width,a=t.height,o=n.polarCenterX||s/2,l=n.polarCenterY||a/2;let c=Math.sqrt(o*o+l*l),d=s-o,g=a-l;const m=Math.sqrt(d*d+g*g);c=m>c?m:c;const p=a,x=s,b=360/x*Math.PI/180;for(let N=0;N<x;N+=1){const S=Math.sin(N*b),j=Math.cos(N*b);for(let _=0;_<p;_+=1){d=Math.floor(o+c*_/p*j),g=Math.floor(l+c*_/p*S);let C=(g*s+d)*4;const E=i[C+0],O=i[C+1],U=i[C+2],F=i[C+3];C=(N+_*s)*4,r[C+0]=E,r[C+1]=O,r[C+2]=U,r[C+3]=F}}},qV=function(t,e,n){const i=t.data,r=e.data,s=t.width,a=t.height,o=n.polarCenterX||s/2,l=n.polarCenterY||a/2;let c=Math.sqrt(o*o+l*l),d=s-o,g=a-l;const m=Math.sqrt(d*d+g*g);c=m>c?m:c;const p=a,x=s,b=0;let N,S;for(d=0;d<s;d+=1)for(g=0;g<a;g+=1){const j=d-o,_=g-l,C=Math.sqrt(j*j+_*_)*p/c;let E=(Math.atan2(_,j)*180/Math.PI+360+b)%360;E=E*x/360,N=Math.floor(E),S=Math.floor(C);let O=(S*s+N)*4;const U=i[O+0],F=i[O+1],R=i[O+2],M=i[O+3];O=(g*s+d)*4,r[O+0]=U,r[O+1]=F,r[O+2]=R,r[O+3]=M}},KV=function(t){const e=t.width,n=t.height;let i,r,s,a,o,l,c,d,g,m,p=Math.round(this.kaleidoscopePower());const x=Math.round(this.kaleidoscopeAngle()),b=Math.floor(e*(x%360)/360);if(p<1)return;const N=a8.Util.createCanvasElement();N.width=e,N.height=n;const S=N.getContext("2d").getImageData(0,0,e,n);a8.Util.releaseCanvas(N),WV(t,S,{polarCenterX:e/2,polarCenterY:n/2});let j=e/Math.pow(2,p);for(;j<=8;)j=j*2,p-=1;j=Math.ceil(j);let _=j,C=0,E=_,O=1;for(b+j>e&&(C=_,E=0,O=-1),r=0;r<n;r+=1)for(i=C;i!==E;i+=O)s=Math.round(i+b)%e,g=(e*r+s)*4,o=S.data[g+0],l=S.data[g+1],c=S.data[g+2],d=S.data[g+3],m=(e*r+i)*4,S.data[m+0]=o,S.data[m+1]=l,S.data[m+2]=c,S.data[m+3]=d;for(r=0;r<n;r+=1)for(_=Math.floor(j),a=0;a<p;a+=1){for(i=0;i<_+1;i+=1)g=(e*r+i)*4,o=S.data[g+0],l=S.data[g+1],c=S.data[g+2],d=S.data[g+3],m=(e*r+_*2-i-1)*4,S.data[m+0]=o,S.data[m+1]=l,S.data[m+2]=c,S.data[m+3]=d;_*=2}qV(S,t,{})};v5.Kaleidoscope=KV;X1.Factory.addGetterSetter(Jj.Node,"kaleidoscopePower",2,(0,Zj.getNumberValidator)(),X1.Factory.afterSetFilter);X1.Factory.addGetterSetter(Jj.Node,"kaleidoscopeAngle",0,(0,Zj.getNumberValidator)(),X1.Factory.afterSetFilter);var y5={};Object.defineProperty(y5,"__esModule",{value:!0});y5.Mask=void 0;const o8=Wt,XV=ri,YV=Ct;function om(t,e,n){let i=(n*t.width+e)*4;const r=[];return r.push(t.data[i++],t.data[i++],t.data[i++],t.data[i++]),r}function S0(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function QV(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function JV(t,e){const n=om(t,0,0),i=om(t,t.width-1,0),r=om(t,0,t.height-1),s=om(t,t.width-1,t.height-1),a=e||10;if(S0(n,i)<a&&S0(i,s)<a&&S0(s,r)<a&&S0(r,n)<a){const o=QV([i,n,s,r]),l=[];for(let c=0;c<t.width*t.height;c++){const d=S0(o,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=d<a?0:255}return l}}function ZV(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function eH(t,e,n){const i=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(i.length)),s=Math.floor(r/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let d=0;for(let g=0;g<r;g++)for(let m=0;m<r;m++){const p=o+g-s,x=l+m-s;if(p>=0&&p<n&&x>=0&&x<e){const b=p*e+x,N=i[g*r+m];d+=t[b]*N}}a[c]=d===255*8?255:0}return a}function tH(t,e,n){const i=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(i.length)),s=Math.floor(r/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let d=0;for(let g=0;g<r;g++)for(let m=0;m<r;m++){const p=o+g-s,x=l+m-s;if(p>=0&&p<n&&x>=0&&x<e){const b=p*e+x,N=i[g*r+m];d+=t[b]*N}}a[c]=d>=255*4?255:0}return a}function nH(t,e,n){const i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],r=Math.round(Math.sqrt(i.length)),s=Math.floor(r/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let d=0;for(let g=0;g<r;g++)for(let m=0;m<r;m++){const p=o+g-s,x=l+m-s;if(p>=0&&p<n&&x>=0&&x<e){const b=p*e+x,N=i[g*r+m];d+=t[b]*N}}a[c]=d}return a}const iH=function(t){const e=this.threshold();let n=JV(t,e);return n&&(n=eH(n,t.width,t.height),n=tH(n,t.width,t.height),n=nH(n,t.width,t.height),ZV(t,n)),t};y5.Mask=iH;o8.Factory.addGetterSetter(XV.Node,"threshold",0,(0,YV.getNumberValidator)(),o8.Factory.afterSetFilter);var x5={};Object.defineProperty(x5,"__esModule",{value:!0});x5.Noise=void 0;const l8=Wt,rH=ri,sH=Ct,aH=function(t){const e=this.noise()*255,n=t.data,i=n.length,r=e/2;for(let s=0;s<i;s+=4)n[s+0]+=r-2*r*Math.random(),n[s+1]+=r-2*r*Math.random(),n[s+2]+=r-2*r*Math.random()};x5.Noise=aH;l8.Factory.addGetterSetter(rH.Node,"noise",.2,(0,sH.getNumberValidator)(),l8.Factory.afterSetFilter);var b5={};Object.defineProperty(b5,"__esModule",{value:!0});b5.Pixelate=void 0;const c8=Wt,oH=fi,lH=ri,cH=Ct,uH=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,i=t.height,r=Math.ceil(n/e),s=Math.ceil(i/e),a=t.data;if(e<=0){oH.Util.error("pixelSize value can not be <= 0");return}for(let o=0;o<r;o+=1)for(let l=0;l<s;l+=1){let c=0,d=0,g=0,m=0;const p=o*e,x=p+e,b=l*e,N=b+e;let S=0;for(let j=p;j<x;j+=1)if(!(j>=n))for(let _=b;_<N;_+=1){if(_>=i)continue;const C=(n*_+j)*4;c+=a[C+0],d+=a[C+1],g+=a[C+2],m+=a[C+3],S+=1}c=c/S,d=d/S,g=g/S,m=m/S;for(let j=p;j<x;j+=1)if(!(j>=n))for(let _=b;_<N;_+=1){if(_>=i)continue;const C=(n*_+j)*4;a[C+0]=c,a[C+1]=d,a[C+2]=g,a[C+3]=m}}};b5.Pixelate=uH;c8.Factory.addGetterSetter(lH.Node,"pixelSize",8,(0,cH.getNumberValidator)(),c8.Factory.afterSetFilter);var w5={};Object.defineProperty(w5,"__esModule",{value:!0});w5.Posterize=void 0;const u8=Wt,hH=ri,dH=Ct,fH=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,i=n.length,r=255/e;for(let s=0;s<i;s+=1)n[s]=Math.floor(n[s]/r)*r};w5.Posterize=fH;u8.Factory.addGetterSetter(hH.Node,"levels",.5,(0,dH.getNumberValidator)(),u8.Factory.afterSetFilter);var _5={};Object.defineProperty(_5,"__esModule",{value:!0});_5.RGB=void 0;const Y1=Wt,_b=ri,pH=Ct,gH=function(t){const e=t.data,n=e.length,i=this.red(),r=this.green(),s=this.blue();for(let a=0;a<n;a+=4){const o=(.34*e[a]+.5*e[a+1]+.16*e[a+2])/255;e[a]=o*i,e[a+1]=o*r,e[a+2]=o*s,e[a+3]=e[a+3]}};_5.RGB=gH;Y1.Factory.addGetterSetter(_b.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Y1.Factory.addGetterSetter(_b.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Y1.Factory.addGetterSetter(_b.Node,"blue",0,pH.RGBComponent,Y1.Factory.afterSetFilter);var S5={};Object.defineProperty(S5,"__esModule",{value:!0});S5.RGBA=void 0;const Op=Wt,N5=ri,mH=Ct,vH=function(t){const e=t.data,n=e.length,i=this.red(),r=this.green(),s=this.blue(),a=this.alpha();for(let o=0;o<n;o+=4){const l=1-a;e[o]=i*a+e[o]*l,e[o+1]=r*a+e[o+1]*l,e[o+2]=s*a+e[o+2]*l}};S5.RGBA=vH;Op.Factory.addGetterSetter(N5.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Op.Factory.addGetterSetter(N5.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Op.Factory.addGetterSetter(N5.Node,"blue",0,mH.RGBComponent,Op.Factory.afterSetFilter);Op.Factory.addGetterSetter(N5.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var k5={};Object.defineProperty(k5,"__esModule",{value:!0});k5.Sepia=void 0;const yH=function(t){const e=t.data,n=e.length;for(let i=0;i<n;i+=4){const r=e[i+0],s=e[i+1],a=e[i+2];e[i+0]=Math.min(255,r*.393+s*.769+a*.189),e[i+1]=Math.min(255,r*.349+s*.686+a*.168),e[i+2]=Math.min(255,r*.272+s*.534+a*.131)}};k5.Sepia=yH;var C5={};Object.defineProperty(C5,"__esModule",{value:!0});C5.Solarize=void 0;const xH=function(t){const e=t.data,n=t.width,i=t.height,r=n*4;let s=i;do{const a=(s-1)*r;let o=n;do{const l=a+(o-1)*4;let c=e[l],d=e[l+1],g=e[l+2];c>127&&(c=255-c),d>127&&(d=255-d),g>127&&(g=255-g),e[l]=c,e[l+1]=d,e[l+2]=g}while(--o)}while(--s)};C5.Solarize=xH;var j5={};Object.defineProperty(j5,"__esModule",{value:!0});j5.Threshold=void 0;const h8=Wt,bH=ri,wH=Ct,_H=function(t){const e=this.threshold()*255,n=t.data,i=n.length;for(let r=0;r<i;r+=1)n[r]=n[r]<e?0:255};j5.Threshold=_H;h8.Factory.addGetterSetter(bH.Node,"threshold",.5,(0,wH.getNumberValidator)(),h8.Factory.afterSetFilter);Object.defineProperty(D2,"__esModule",{value:!0});D2.Konva=void 0;const d8=W1,SH=V2,NH=G2,kH=K2,CH=X2,jH=Y2,f8=yf,AH=lg,PH=Rf,LH=ug,TH=Z2,EH=e5,MH=t5,RH=n5,FH=Df,DH=i5,IH=r5,OH=s5,BH=o5,zH=l5,UH=c5,VH=u5,HH=d5,$H=f5,GH=p5,WH=g5,qH=m5,KH=v5,XH=y5,YH=x5,QH=b5,JH=w5,ZH=_5,e$=S5,t$=k5,n$=C5,i$=j5;D2.Konva=d8.Konva.Util._assign(d8.Konva,{Arc:SH.Arc,Arrow:NH.Arrow,Circle:kH.Circle,Ellipse:CH.Ellipse,Image:jH.Image,Label:f8.Label,Tag:f8.Tag,Line:AH.Line,Path:PH.Path,Rect:LH.Rect,RegularPolygon:TH.RegularPolygon,Ring:EH.Ring,Sprite:MH.Sprite,Star:RH.Star,Text:FH.Text,TextPath:DH.TextPath,Transformer:IH.Transformer,Wedge:OH.Wedge,Filters:{Blur:BH.Blur,Brighten:zH.Brighten,Contrast:UH.Contrast,Emboss:VH.Emboss,Enhance:HH.Enhance,Grayscale:$H.Grayscale,HSL:GH.HSL,HSV:WH.HSV,Invert:qH.Invert,Kaleidoscope:KH.Kaleidoscope,Mask:XH.Mask,Noise:YH.Noise,Pixelate:QH.Pixelate,Posterize:JH.Posterize,RGB:ZH.RGB,RGBA:e$.RGBA,Sepia:t$.Sepia,Solarize:n$.Solarize,Threshold:i$.Threshold}});var r$=xj.exports;Object.defineProperty(r$,"__esModule",{value:!0});const s$=D2;xj.exports=s$.Konva;var i4={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var n=W1;Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return n.Konva}});const i=W1;t.exports=i.Konva})(i4,i4.exports);var a$=i4.exports;const Bp=h2(a$);var eA={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o$=function(e){var n={},i=J,r=$0,s=Object.assign;function a(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),x=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),E=Symbol.iterator;function O(u){return u===null||typeof u!="object"?null:(u=E&&u[E]||u["@@iterator"],typeof u=="function"?u:null)}function U(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case d:return"Fragment";case c:return"Portal";case m:return"Profiler";case g:return"StrictMode";case N:return"Suspense";case S:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case x:return(u.displayName||"Context")+".Consumer";case p:return(u._context.displayName||"Context")+".Provider";case b:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case j:return f=u.displayName||null,f!==null?f:U(u.type)||"Memo";case _:f=u._payload,u=u._init;try{return U(u(f))}catch{}}return null}function F(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(f);case 8:return f===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function R(u){var f=u,y=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(y=f.return),u=f.return;while(u)}return f.tag===3?y:null}function M(u){if(R(u)!==u)throw Error(a(188))}function T(u){var f=u.alternate;if(!f){if(f=R(u),f===null)throw Error(a(188));return f!==u?null:u}for(var y=u,k=f;;){var P=y.return;if(P===null)break;var B=P.alternate;if(B===null){if(k=P.return,k!==null){y=k;continue}break}if(P.child===B.child){for(B=P.child;B;){if(B===y)return M(P),u;if(B===k)return M(P),f;B=B.sibling}throw Error(a(188))}if(y.return!==k.return)y=P,k=B;else{for(var ne=!1,we=P.child;we;){if(we===y){ne=!0,y=P,k=B;break}if(we===k){ne=!0,k=P,y=B;break}we=we.sibling}if(!ne){for(we=B.child;we;){if(we===y){ne=!0,y=B,k=P;break}if(we===k){ne=!0,k=B,y=P;break}we=we.sibling}if(!ne)throw Error(a(189))}}if(y.alternate!==k)throw Error(a(190))}if(y.tag!==3)throw Error(a(188));return y.stateNode.current===y?u:f}function D(u){return u=T(u),u!==null?$(u):null}function $(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=$(u);if(f!==null)return f;u=u.sibling}return null}function X(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=X(u);if(f!==null)return f}u=u.sibling}return null}var ae=Array.isArray,ge=e.getPublicInstance,pe=e.getRootHostContext,te=e.getChildHostContext,Z=e.prepareForCommit,ue=e.resetAfterCommit,Y=e.createInstance,z=e.appendInitialChild,q=e.finalizeInitialChildren,ie=e.prepareUpdate,ce=e.shouldSetTextContent,he=e.createTextInstance,K=e.scheduleTimeout,de=e.cancelTimeout,me=e.noTimeout,Ce=e.isPrimaryRenderer,Le=e.supportsMutation,ze=e.supportsPersistence,Be=e.supportsHydration,je=e.getInstanceFromNode,le=e.preparePortalMount,jt=e.getCurrentEventPriority,xt=e.detachDeletedInstance,ut=e.supportsMicrotasks,Ue=e.scheduleMicrotask,Xe=e.supportsTestSelectors,qe=e.findFiberRoot,Tt=e.getBoundingRect,Te=e.getTextContent,Ge=e.isHiddenSubtree,$e=e.matchAccessibilityRole,ht=e.setFocusIfFocusable,Ut=e.setupIntersectionObserver,dt=e.appendChild,at=e.appendChildToContainer,bt=e.commitTextUpdate,et=e.commitMount,sn=e.commitUpdate,en=e.insertBefore,gt=e.insertInContainerBefore,Ft=e.removeChild,Sn=e.removeChildFromContainer,wt=e.resetTextContent,qt=e.hideInstance,Dt=e.hideTextInstance,si=e.unhideInstance,Ci=e.unhideTextInstance,Nn=e.clearContainer,At=e.cloneInstance,ln=e.createContainerChildSet,Lo=e.appendChildToContainerChildSet,sr=e.finalizeContainerChildren,Bs=e.replaceContainerChildren,zs=e.cloneHiddenInstance,_t=e.cloneHiddenTextInstance,Ka=e.canHydrateInstance,Xa=e.canHydrateTextInstance,bs=e.canHydrateSuspenseInstance,os=e.isSuspenseInstancePending,Fn=e.isSuspenseInstanceFallback,Bi=e.getSuspenseInstanceFallbackErrorDetails,Hi=e.registerSuspenseInstanceRetry,ua=e.getNextHydratableSibling,To=e.getFirstHydratableChild,Us=e.getFirstHydratableChildWithinContainer,ha=e.getFirstHydratableChildWithinSuspenseInstance,Vs=e.hydrateInstance,Hs=e.hydrateTextInstance,ws=e.hydrateSuspenseInstance,ll=e.getNextHydratableInstanceAfterSuspenseInstance,da=e.commitHydratedContainer,cl=e.commitHydratedSuspenseInstance,ic=e.clearSuspenseBoundary,rc=e.clearSuspenseBoundaryFromContainer,sc=e.shouldDeleteUnhydratedTailInstances,Bf=e.didNotMatchHydratedContainerTextInstance,Su=e.didNotMatchHydratedTextInstance,ac;function Eo(u){if(ac===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);ac=f&&f[1]||""}return`
`+ac+u}var Fr=!1;function ul(u,f){if(!u||Fr)return"";Fr=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(He){var k=He}Reflect.construct(u,[],f)}else{try{f.call()}catch(He){k=He}u.call(f.prototype)}else{try{throw Error()}catch(He){k=He}u()}}catch(He){if(He&&k&&typeof He.stack=="string"){for(var P=He.stack.split(`
`),B=k.stack.split(`
`),ne=P.length-1,we=B.length-1;1<=ne&&0<=we&&P[ne]!==B[we];)we--;for(;1<=ne&&0<=we;ne--,we--)if(P[ne]!==B[we]){if(ne!==1||we!==1)do if(ne--,we--,0>we||P[ne]!==B[we]){var Pe=`
`+P[ne].replace(" at new "," at ");return u.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",u.displayName)),Pe}while(1<=ne&&0<=we);break}}}finally{Fr=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?Eo(u):""}var Vh=Object.prototype.hasOwnProperty,hl=[],Ya=-1;function $s(u){return{current:u}}function wn(u){0>Ya||(u.current=hl[Ya],hl[Ya]=null,Ya--)}function cn(u,f){Ya++,hl[Ya]=u.current,u.current=f}var fa={},Kt=$s(fa),$i=$s(!1),pa=fa;function Dr(u,f){var y=u.type.contextTypes;if(!y)return fa;var k=u.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===f)return k.__reactInternalMemoizedMaskedChildContext;var P={},B;for(B in y)P[B]=f[B];return k&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=P),P}function pi(u){return u=u.childContextTypes,u!=null}function Ir(){wn($i),wn(Kt)}function Mo(u,f,y){if(Kt.current!==fa)throw Error(a(168));cn(Kt,f),cn($i,y)}function Zn(u,f,y){var k=u.stateNode;if(f=f.childContextTypes,typeof k.getChildContext!="function")return y;k=k.getChildContext();for(var P in k)if(!(P in f))throw Error(a(108,F(u)||"Unknown",P));return s({},y,k)}function Ro(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||fa,pa=Kt.current,cn(Kt,u),cn($i,$i.current),!0}function Hh(u,f,y){var k=u.stateNode;if(!k)throw Error(a(169));y?(u=Zn(u,f,pa),k.__reactInternalMemoizedMergedChildContext=u,wn($i),wn(Kt),cn(Kt,u)):wn($i),cn($i,y)}var ls=Math.clz32?Math.clz32:$h,zf=Math.log,ga=Math.LN2;function $h(u){return u>>>=0,u===0?32:31-(zf(u)/ga|0)|0}var dl=64,Gs=4194304;function Qa(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function oc(u,f){var y=u.pendingLanes;if(y===0)return 0;var k=0,P=u.suspendedLanes,B=u.pingedLanes,ne=y&268435455;if(ne!==0){var we=ne&~P;we!==0?k=Qa(we):(B&=ne,B!==0&&(k=Qa(B)))}else ne=y&~P,ne!==0?k=Qa(ne):B!==0&&(k=Qa(B));if(k===0)return 0;if(f!==0&&f!==k&&!(f&P)&&(P=k&-k,B=f&-f,P>=B||P===16&&(B&4194240)!==0))return f;if(k&4&&(k|=y&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=k;0<f;)y=31-ls(f),P=1<<y,k|=u[y],f&=~P;return k}function Uf(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vf(u,f){for(var y=u.suspendedLanes,k=u.pingedLanes,P=u.expirationTimes,B=u.pendingLanes;0<B;){var ne=31-ls(B),we=1<<ne,Pe=P[ne];Pe===-1?(!(we&y)||we&k)&&(P[ne]=Uf(we,f)):Pe<=f&&(u.expiredLanes|=we),B&=~we}}function fl(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Fo(){var u=dl;return dl<<=1,!(dl&4194240)&&(dl=64),u}function ma(u){for(var f=[],y=0;31>y;y++)f.push(u);return f}function pl(u,f,y){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-ls(f),u[f]=y}function gl(u,f){var y=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var k=u.eventTimes;for(u=u.expirationTimes;0<y;){var P=31-ls(y),B=1<<P;f[P]=0,k[P]=-1,u[P]=-1,y&=~B}}function ml(u,f){var y=u.entangledLanes|=f;for(u=u.entanglements;y;){var k=31-ls(y),P=1<<k;P&f|u[k]&f&&(u[k]|=f),y&=~P}}var Ke=0;function Gh(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var Nu=r.unstable_scheduleCallback,Wh=r.unstable_cancelCallback,Hf=r.unstable_shouldYield,Ja=r.unstable_requestPaint,Pn=r.unstable_now,ku=r.unstable_ImmediatePriority,$f=r.unstable_UserBlockingPriority,Do=r.unstable_NormalPriority,Cu=r.unstable_IdlePriority,va=null,wr=null;function lc(u){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(va,u,void 0,(u.current.flags&128)===128)}catch{}}function Gf(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var _r=typeof Object.is=="function"?Object.is:Gf,cs=null,ya=!1,Za=!1;function cc(u){cs===null?cs=[u]:cs.push(u)}function uc(u){ya=!0,cc(u)}function Or(){if(!Za&&cs!==null){Za=!0;var u=0,f=Ke;try{var y=cs;for(Ke=1;u<y.length;u++){var k=y[u];do k=k(!0);while(k!==null)}cs=null,ya=!1}catch(P){throw cs!==null&&(cs=cs.slice(u+1)),Nu(ku,Or),P}finally{Ke=f,Za=!1}}return null}var _s=[],xa=0,Io=null,ar=0,ai=[],A=0,H=null,se=1,fe="";function be(u,f){_s[xa++]=ar,_s[xa++]=Io,Io=u,ar=f}function Fe(u,f,y){ai[A++]=se,ai[A++]=fe,ai[A++]=H,H=u;var k=se;u=fe;var P=32-ls(k)-1;k&=~(1<<P),y+=1;var B=32-ls(f)+P;if(30<B){var ne=P-P%5;B=(k&(1<<ne)-1).toString(32),k>>=ne,P-=ne,se=1<<32-ls(f)+P|y<<P|k,fe=B+u}else se=1<<B|y<<P|k,fe=u}function Ie(u){u.return!==null&&(be(u,1),Fe(u,1,0))}function tt(u){for(;u===Io;)Io=_s[--xa],_s[xa]=null,ar=_s[--xa],_s[xa]=null;for(;u===H;)H=ai[--A],ai[A]=null,fe=ai[--A],ai[A]=null,se=ai[--A],ai[A]=null}var Ye=null,mt=null,nt=!1,Xt=!1,tn=null;function oi(u,f){var y=Ea(5,null,null,0);y.elementType="DELETED",y.stateNode=f,y.return=u,f=u.deletions,f===null?(u.deletions=[y],u.flags|=16):f.push(y)}function vn(u,f){switch(u.tag){case 5:return f=Ka(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,Ye=u,mt=To(f),!0):!1;case 6:return f=Xa(f,u.pendingProps),f!==null?(u.stateNode=f,Ye=u,mt=null,!0):!1;case 13:if(f=bs(f),f!==null){var y=H!==null?{id:se,overflow:fe}:null;return u.memoizedState={dehydrated:f,treeContext:y,retryLane:1073741824},y=Ea(18,null,null,0),y.stateNode=f,y.return=u,u.child=y,Ye=u,mt=null,!0}return!1;default:return!1}}function li(u){return(u.mode&1)!==0&&(u.flags&128)===0}function ei(u){if(nt){var f=mt;if(f){var y=f;if(!vn(u,f)){if(li(u))throw Error(a(418));f=ua(y);var k=Ye;f&&vn(u,f)?oi(k,y):(u.flags=u.flags&-4097|2,nt=!1,Ye=u)}}else{if(li(u))throw Error(a(418));u.flags=u.flags&-4097|2,nt=!1,Ye=u}}}function zi(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Ye=u}function Ss(u){if(!Be||u!==Ye)return!1;if(!nt)return zi(u),nt=!0,!1;if(u.tag!==3&&(u.tag!==5||sc(u.type)&&!ce(u.type,u.memoizedProps))){var f=mt;if(f){if(li(u))throw eo(),Error(a(418));for(;f;)oi(u,f),f=ua(f)}}if(zi(u),u.tag===13){if(!Be)throw Error(a(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));mt=ll(u)}else mt=Ye?ua(u.stateNode):null;return!0}function eo(){for(var u=mt;u;)u=ua(u)}function Oo(){Be&&(mt=Ye=null,Xt=nt=!1)}function hc(u){tn===null?tn=[u]:tn.push(u)}var vl=o.ReactCurrentBatchConfig;function Br(u,f){if(_r(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var y=Object.keys(u),k=Object.keys(f);if(y.length!==k.length)return!1;for(k=0;k<y.length;k++){var P=y[k];if(!Vh.call(f,P)||!_r(u[P],f[P]))return!1}return!0}function ju(u){switch(u.tag){case 5:return Eo(u.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return u=ul(u.type,!1),u;case 11:return u=ul(u.type.render,!1),u;case 1:return u=ul(u.type,!0),u;default:return""}}function ba(u,f,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(a(309));var k=y.stateNode}if(!k)throw Error(a(147,u));var P=k,B=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===B?f.ref:(f=function(ne){var we=P.refs;ne===null?delete we[B]:we[B]=ne},f._stringRef=B,f)}if(typeof u!="string")throw Error(a(284));if(!y._owner)throw Error(a(290,u))}return u}function Ws(u,f){throw u=Object.prototype.toString.call(f),Error(a(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function ji(u){var f=u._init;return f(u._payload)}function wa(u){function f(Ae,Se){if(u){var Me=Ae.deletions;Me===null?(Ae.deletions=[Se],Ae.flags|=16):Me.push(Se)}}function y(Ae,Se){if(!u)return null;for(;Se!==null;)f(Ae,Se),Se=Se.sibling;return null}function k(Ae,Se){for(Ae=new Map;Se!==null;)Se.key!==null?Ae.set(Se.key,Se):Ae.set(Se.index,Se),Se=Se.sibling;return Ae}function P(Ae,Se){return Ae=Nc(Ae,Se),Ae.index=0,Ae.sibling=null,Ae}function B(Ae,Se,Me){return Ae.index=Me,u?(Me=Ae.alternate,Me!==null?(Me=Me.index,Me<Se?(Ae.flags|=2,Se):Me):(Ae.flags|=2,Se)):(Ae.flags|=1048576,Se)}function ne(Ae){return u&&Ae.alternate===null&&(Ae.flags|=2),Ae}function we(Ae,Se,Me,Je){return Se===null||Se.tag!==6?(Se=G5(Me,Ae.mode,Je),Se.return=Ae,Se):(Se=P(Se,Me),Se.return=Ae,Se)}function Pe(Ae,Se,Me,Je){var St=Me.type;return St===d?lt(Ae,Se,Me.props.children,Je,Me.key):Se!==null&&(Se.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===_&&ji(St)===Se.type)?(Je=P(Se,Me.props),Je.ref=ba(Ae,Se,Me),Je.return=Ae,Je):(Je=Mg(Me.type,Me.key,Me.props,null,Ae.mode,Je),Je.ref=ba(Ae,Se,Me),Je.return=Ae,Je)}function He(Ae,Se,Me,Je){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Me.containerInfo||Se.stateNode.implementation!==Me.implementation?(Se=W5(Me,Ae.mode,Je),Se.return=Ae,Se):(Se=P(Se,Me.children||[]),Se.return=Ae,Se)}function lt(Ae,Se,Me,Je,St){return Se===null||Se.tag!==7?(Se=Uu(Me,Ae.mode,Je,St),Se.return=Ae,Se):(Se=P(Se,Me),Se.return=Ae,Se)}function Bt(Ae,Se,Me){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=G5(""+Se,Ae.mode,Me),Se.return=Ae,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:return Me=Mg(Se.type,Se.key,Se.props,null,Ae.mode,Me),Me.ref=ba(Ae,null,Se),Me.return=Ae,Me;case c:return Se=W5(Se,Ae.mode,Me),Se.return=Ae,Se;case _:var Je=Se._init;return Bt(Ae,Je(Se._payload),Me)}if(ae(Se)||O(Se))return Se=Uu(Se,Ae.mode,Me,null),Se.return=Ae,Se;Ws(Ae,Se)}return null}function Qe(Ae,Se,Me,Je){var St=Se!==null?Se.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return St!==null?null:we(Ae,Se,""+Me,Je);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case l:return Me.key===St?Pe(Ae,Se,Me,Je):null;case c:return Me.key===St?He(Ae,Se,Me,Je):null;case _:return St=Me._init,Qe(Ae,Se,St(Me._payload),Je)}if(ae(Me)||O(Me))return St!==null?null:lt(Ae,Se,Me,Je,null);Ws(Ae,Me)}return null}function qn(Ae,Se,Me,Je,St){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Ae=Ae.get(Me)||null,we(Se,Ae,""+Je,St);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case l:return Ae=Ae.get(Je.key===null?Me:Je.key)||null,Pe(Se,Ae,Je,St);case c:return Ae=Ae.get(Je.key===null?Me:Je.key)||null,He(Se,Ae,Je,St);case _:var Vt=Je._init;return qn(Ae,Se,Me,Vt(Je._payload),St)}if(ae(Je)||O(Je))return Ae=Ae.get(Me)||null,lt(Se,Ae,Je,St,null);Ws(Se,Je)}return null}function En(Ae,Se,Me,Je){for(var St=null,Vt=null,zt=Se,gn=Se=0,mr=null;zt!==null&&gn<Me.length;gn++){zt.index>gn?(mr=zt,zt=null):mr=zt.sibling;var mn=Qe(Ae,zt,Me[gn],Je);if(mn===null){zt===null&&(zt=mr);break}u&&zt&&mn.alternate===null&&f(Ae,zt),Se=B(mn,Se,gn),Vt===null?St=mn:Vt.sibling=mn,Vt=mn,zt=mr}if(gn===Me.length)return y(Ae,zt),nt&&be(Ae,gn),St;if(zt===null){for(;gn<Me.length;gn++)zt=Bt(Ae,Me[gn],Je),zt!==null&&(Se=B(zt,Se,gn),Vt===null?St=zt:Vt.sibling=zt,Vt=zt);return nt&&be(Ae,gn),St}for(zt=k(Ae,zt);gn<Me.length;gn++)mr=qn(zt,Ae,gn,Me[gn],Je),mr!==null&&(u&&mr.alternate!==null&&zt.delete(mr.key===null?gn:mr.key),Se=B(mr,Se,gn),Vt===null?St=mr:Vt.sibling=mr,Vt=mr);return u&&zt.forEach(function(kc){return f(Ae,kc)}),nt&&be(Ae,gn),St}function Ls(Ae,Se,Me,Je){var St=O(Me);if(typeof St!="function")throw Error(a(150));if(Me=St.call(Me),Me==null)throw Error(a(151));for(var Vt=St=null,zt=Se,gn=Se=0,mr=null,mn=Me.next();zt!==null&&!mn.done;gn++,mn=Me.next()){zt.index>gn?(mr=zt,zt=null):mr=zt.sibling;var kc=Qe(Ae,zt,mn.value,Je);if(kc===null){zt===null&&(zt=mr);break}u&&zt&&kc.alternate===null&&f(Ae,zt),Se=B(kc,Se,gn),Vt===null?St=kc:Vt.sibling=kc,Vt=kc,zt=mr}if(mn.done)return y(Ae,zt),nt&&be(Ae,gn),St;if(zt===null){for(;!mn.done;gn++,mn=Me.next())mn=Bt(Ae,mn.value,Je),mn!==null&&(Se=B(mn,Se,gn),Vt===null?St=mn:Vt.sibling=mn,Vt=mn);return nt&&be(Ae,gn),St}for(zt=k(Ae,zt);!mn.done;gn++,mn=Me.next())mn=qn(zt,Ae,gn,mn.value,Je),mn!==null&&(u&&mn.alternate!==null&&zt.delete(mn.key===null?gn:mn.key),Se=B(mn,Se,gn),Vt===null?St=mn:Vt.sibling=mn,Vt=mn);return u&&zt.forEach(function(sL){return f(Ae,sL)}),nt&&be(Ae,gn),St}function Al(Ae,Se,Me,Je){if(typeof Me=="object"&&Me!==null&&Me.type===d&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case l:e:{for(var St=Me.key,Vt=Se;Vt!==null;){if(Vt.key===St){if(St=Me.type,St===d){if(Vt.tag===7){y(Ae,Vt.sibling),Se=P(Vt,Me.props.children),Se.return=Ae,Ae=Se;break e}}else if(Vt.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===_&&ji(St)===Vt.type){y(Ae,Vt.sibling),Se=P(Vt,Me.props),Se.ref=ba(Ae,Vt,Me),Se.return=Ae,Ae=Se;break e}y(Ae,Vt);break}else f(Ae,Vt);Vt=Vt.sibling}Me.type===d?(Se=Uu(Me.props.children,Ae.mode,Je,Me.key),Se.return=Ae,Ae=Se):(Je=Mg(Me.type,Me.key,Me.props,null,Ae.mode,Je),Je.ref=ba(Ae,Se,Me),Je.return=Ae,Ae=Je)}return ne(Ae);case c:e:{for(Vt=Me.key;Se!==null;){if(Se.key===Vt)if(Se.tag===4&&Se.stateNode.containerInfo===Me.containerInfo&&Se.stateNode.implementation===Me.implementation){y(Ae,Se.sibling),Se=P(Se,Me.children||[]),Se.return=Ae,Ae=Se;break e}else{y(Ae,Se);break}else f(Ae,Se);Se=Se.sibling}Se=W5(Me,Ae.mode,Je),Se.return=Ae,Ae=Se}return ne(Ae);case _:return Vt=Me._init,Al(Ae,Se,Vt(Me._payload),Je)}if(ae(Me))return En(Ae,Se,Me,Je);if(O(Me))return Ls(Ae,Se,Me,Je);Ws(Ae,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,Se!==null&&Se.tag===6?(y(Ae,Se.sibling),Se=P(Se,Me),Se.return=Ae,Ae=Se):(y(Ae,Se),Se=G5(Me,Ae.mode,Je),Se.return=Ae,Ae=Se),ne(Ae)):y(Ae,Se)}return Al}var zr=wa(!0),yl=wa(!1),Bo=$s(null),Ui=null,to=null,zo=null;function dc(){zo=to=Ui=null}function gi(u,f,y){Ce?(cn(Bo,f._currentValue),f._currentValue=y):(cn(Bo,f._currentValue2),f._currentValue2=y)}function Ur(u){var f=Bo.current;wn(Bo),Ce?u._currentValue=f:u._currentValue2=f}function xl(u,f,y){for(;u!==null;){var k=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,k!==null&&(k.childLanes|=f)):k!==null&&(k.childLanes&f)!==f&&(k.childLanes|=f),u===y)break;u=u.return}}function _a(u,f){Ui=u,zo=to=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(Nr=!0),u.firstContext=null)}function Ai(u){var f=Ce?u._currentValue:u._currentValue2;if(zo!==u)if(u={context:u,memoizedValue:f,next:null},to===null){if(Ui===null)throw Error(a(308));to=u,Ui.dependencies={lanes:0,firstContext:u}}else to=to.next=u;return f}var Ns=null;function or(u){Ns===null?Ns=[u]:Ns.push(u)}function Sr(u,f,y,k){var P=f.interleaved;return P===null?(y.next=y,or(f)):(y.next=P.next,P.next=y),f.interleaved=y,lr(u,k)}function lr(u,f){u.lanes|=f;var y=u.alternate;for(y!==null&&(y.lanes|=f),y=u,u=u.return;u!==null;)u.childLanes|=f,y=u.alternate,y!==null&&(y.childLanes|=f),y=u,u=u.return;return y.tag===3?y.stateNode:null}var Gi=!1;function Sa(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fc(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function cr(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function _n(u,f,y){var k=u.updateQueue;if(k===null)return null;if(k=k.shared,Mt&2){var P=k.pending;return P===null?f.next=f:(f.next=P.next,P.next=f),k.pending=f,lr(u,y)}return P=k.interleaved,P===null?(f.next=f,or(k)):(f.next=P.next,P.next=f),k.interleaved=f,lr(u,y)}function pc(u,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194240)!==0)){var k=f.lanes;k&=u.pendingLanes,y|=k,f.lanes=y,ml(u,y)}}function qs(u,f){var y=u.updateQueue,k=u.alternate;if(k!==null&&(k=k.updateQueue,y===k)){var P=null,B=null;if(y=y.firstBaseUpdate,y!==null){do{var ne={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};B===null?P=B=ne:B=B.next=ne,y=y.next}while(y!==null);B===null?P=B=f:B=B.next=f}else P=B=f;y={baseState:k.baseState,firstBaseUpdate:P,lastBaseUpdate:B,shared:k.shared,effects:k.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=f:u.next=f,y.lastBaseUpdate=f}function us(u,f,y,k){var P=u.updateQueue;Gi=!1;var B=P.firstBaseUpdate,ne=P.lastBaseUpdate,we=P.shared.pending;if(we!==null){P.shared.pending=null;var Pe=we,He=Pe.next;Pe.next=null,ne===null?B=He:ne.next=He,ne=Pe;var lt=u.alternate;lt!==null&&(lt=lt.updateQueue,we=lt.lastBaseUpdate,we!==ne&&(we===null?lt.firstBaseUpdate=He:we.next=He,lt.lastBaseUpdate=Pe))}if(B!==null){var Bt=P.baseState;ne=0,lt=He=Pe=null,we=B;do{var Qe=we.lane,qn=we.eventTime;if((k&Qe)===Qe){lt!==null&&(lt=lt.next={eventTime:qn,lane:0,tag:we.tag,payload:we.payload,callback:we.callback,next:null});e:{var En=u,Ls=we;switch(Qe=f,qn=y,Ls.tag){case 1:if(En=Ls.payload,typeof En=="function"){Bt=En.call(qn,Bt,Qe);break e}Bt=En;break e;case 3:En.flags=En.flags&-65537|128;case 0:if(En=Ls.payload,Qe=typeof En=="function"?En.call(qn,Bt,Qe):En,Qe==null)break e;Bt=s({},Bt,Qe);break e;case 2:Gi=!0}}we.callback!==null&&we.lane!==0&&(u.flags|=64,Qe=P.effects,Qe===null?P.effects=[we]:Qe.push(we))}else qn={eventTime:qn,lane:Qe,tag:we.tag,payload:we.payload,callback:we.callback,next:null},lt===null?(He=lt=qn,Pe=Bt):lt=lt.next=qn,ne|=Qe;if(we=we.next,we===null){if(we=P.shared.pending,we===null)break;Qe=we,we=Qe.next,Qe.next=null,P.lastBaseUpdate=Qe,P.shared.pending=null}}while(!0);if(lt===null&&(Pe=Bt),P.baseState=Pe,P.firstBaseUpdate=He,P.lastBaseUpdate=lt,f=P.shared.interleaved,f!==null){P=f;do ne|=P.lane,P=P.next;while(P!==f)}else B===null&&(P.shared.lanes=0);Nl|=ne,u.lanes=ne,u.memoizedState=Bt}}function bl(u,f,y){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var k=u[f],P=k.callback;if(P!==null){if(k.callback=null,k=y,typeof P!="function")throw Error(a(191,P));P.call(k)}}}var no={},Wi=$s(no),Na=$s(no),ks=$s(no);function ur(u){if(u===no)throw Error(a(174));return u}function Ks(u,f){cn(ks,f),cn(Na,u),cn(Wi,no),u=pe(f),wn(Wi),cn(Wi,u)}function ka(){wn(Wi),wn(Na),wn(ks)}function Vr(u){var f=ur(ks.current),y=ur(Wi.current);f=te(y,u.type,f),y!==f&&(cn(Na,u),cn(Wi,f))}function Cs(u){Na.current===u&&(wn(Wi),wn(Na))}var Nt=$s(0);function yn(u){for(var f=u;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||os(y)||Fn(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Un=[];function Vn(){for(var u=0;u<Un.length;u++){var f=Un[u];Ce?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Un.length=0}var js=o.ReactCurrentDispatcher,Uo=o.ReactCurrentBatchConfig,hr=0,kn=null,mi=null,Pi=null,Au=!1,gc=!1,mc=0,fg=0;function qi(){throw Error(a(321))}function qh(u,f){if(f===null)return!1;for(var y=0;y<f.length&&y<u.length;y++)if(!_r(u[y],f[y]))return!1;return!0}function Kh(u,f,y,k,P,B){if(hr=B,kn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,js.current=u===null||u.memoizedState===null?t0:Mu,u=y(k,P),gc){B=0;do{if(gc=!1,mc=0,25<=B)throw Error(a(301));B+=1,Pi=mi=null,f.updateQueue=null,js.current=U5,u=y(k,P)}while(gc)}if(js.current=yc,f=mi!==null&&mi.next!==null,hr=0,Pi=mi=kn=null,Au=!1,f)throw Error(a(300));return u}function Xh(){var u=mc!==0;return mc=0,u}function Xs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pi===null?kn.memoizedState=Pi=u:Pi=Pi.next=u,Pi}function hs(){if(mi===null){var u=kn.alternate;u=u!==null?u.memoizedState:null}else u=mi.next;var f=Pi===null?kn.memoizedState:Pi.next;if(f!==null)Pi=f,mi=u;else{if(u===null)throw Error(a(310));mi=u,u={memoizedState:mi.memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},Pi===null?kn.memoizedState=Pi=u:Pi=Pi.next=u}return Pi}function io(u,f){return typeof f=="function"?f(u):f}function Yh(u){var f=hs(),y=f.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=u;var k=mi,P=k.baseQueue,B=y.pending;if(B!==null){if(P!==null){var ne=P.next;P.next=B.next,B.next=ne}k.baseQueue=P=B,y.pending=null}if(P!==null){B=P.next,k=k.baseState;var we=ne=null,Pe=null,He=B;do{var lt=He.lane;if((hr&lt)===lt)Pe!==null&&(Pe=Pe.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),k=He.hasEagerState?He.eagerState:u(k,He.action);else{var Bt={lane:lt,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Pe===null?(we=Pe=Bt,ne=k):Pe=Pe.next=Bt,kn.lanes|=lt,Nl|=lt}He=He.next}while(He!==null&&He!==B);Pe===null?ne=k:Pe.next=we,_r(k,f.memoizedState)||(Nr=!0),f.memoizedState=k,f.baseState=ne,f.baseQueue=Pe,y.lastRenderedState=k}if(u=y.interleaved,u!==null){P=u;do B=P.lane,kn.lanes|=B,Nl|=B,P=P.next;while(P!==u)}else P===null&&(y.lanes=0);return[f.memoizedState,y.dispatch]}function Qh(u){var f=hs(),y=f.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=u;var k=y.dispatch,P=y.pending,B=f.memoizedState;if(P!==null){y.pending=null;var ne=P=P.next;do B=u(B,ne.action),ne=ne.next;while(ne!==P);_r(B,f.memoizedState)||(Nr=!0),f.memoizedState=B,f.baseQueue===null&&(f.baseState=B),y.lastRenderedState=B}return[B,k]}function Wf(){}function qf(u,f){var y=kn,k=hs(),P=f(),B=!_r(k.memoizedState,P);if(B&&(k.memoizedState=P,Nr=!0),k=k.queue,vc(Yf.bind(null,y,k,u),[u]),k.getSnapshot!==f||B||Pi!==null&&Pi.memoizedState.tag&1){if(y.flags|=2048,Ki(9,Xf.bind(null,y,k,P,f),void 0,null),Ln===null)throw Error(a(349));hr&30||Kf(y,f,P)}return P}function Kf(u,f,y){u.flags|=16384,u={getSnapshot:f,value:y},f=kn.updateQueue,f===null?(f={lastEffect:null,stores:null},kn.updateQueue=f,f.stores=[u]):(y=f.stores,y===null?f.stores=[u]:y.push(u))}function Xf(u,f,y,k){f.value=y,f.getSnapshot=k,Qf(f)&&Jh(u)}function Yf(u,f,y){return y(function(){Qf(f)&&Jh(u)})}function Qf(u){var f=u.getSnapshot;u=u.value;try{var y=f();return!_r(u,y)}catch{return!0}}function Jh(u){var f=lr(u,1);f!==null&&Ps(f,u,1,-1)}function Pu(u){var f=Xs();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:u},f.queue=u,u=u.dispatch=z5.bind(null,kn,u),[f.memoizedState,u]}function Ki(u,f,y,k){return u={tag:u,create:f,destroy:y,deps:k,next:null},f=kn.updateQueue,f===null?(f={lastEffect:null,stores:null},kn.updateQueue=f,f.lastEffect=u.next=u):(y=f.lastEffect,y===null?f.lastEffect=u.next=u:(k=y.next,y.next=u,u.next=k,f.lastEffect=u)),u}function ds(){return hs().memoizedState}function wl(u,f,y,k){var P=Xs();kn.flags|=u,P.memoizedState=Ki(1|f,y,void 0,k===void 0?null:k)}function _l(u,f,y,k){var P=hs();k=k===void 0?null:k;var B=void 0;if(mi!==null){var ne=mi.memoizedState;if(B=ne.destroy,k!==null&&qh(k,ne.deps)){P.memoizedState=Ki(f,y,B,k);return}}kn.flags|=u,P.memoizedState=Ki(1|f,y,B,k)}function Jf(u,f){return wl(8390656,8,u,f)}function vc(u,f){return _l(2048,8,u,f)}function Lu(u,f){return _l(4,2,u,f)}function Zh(u,f){return _l(4,4,u,f)}function Zf(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function ed(u,f,y){return y=y!=null?y.concat([u]):null,_l(4,4,Zf.bind(null,f,u),y)}function Tu(){}function Eu(u,f){var y=hs();f=f===void 0?null:f;var k=y.memoizedState;return k!==null&&f!==null&&qh(f,k[1])?k[0]:(y.memoizedState=[u,f],u)}function td(u,f){var y=hs();f=f===void 0?null:f;var k=y.memoizedState;return k!==null&&f!==null&&qh(f,k[1])?k[0]:(u=u(),y.memoizedState=[u,f],u)}function pg(u,f,y){return hr&21?(_r(y,f)||(y=Fo(),kn.lanes|=y,Nl|=y,u.baseState=!0),f):(u.baseState&&(u.baseState=!1,Nr=!0),u.memoizedState=y)}function O5(u,f){var y=Ke;Ke=y!==0&&4>y?y:4,u(!0);var k=Uo.transition;Uo.transition={};try{u(!1),f()}finally{Ke=y,Uo.transition=k}}function e0(){return hs().memoizedState}function B5(u,f,y){var k=oo(u);if(y={lane:k,action:y,hasEagerState:!1,eagerState:null,next:null},gg(u))mg(f,y);else if(y=Sr(u,f,y,k),y!==null){var P=Ji();Ps(y,u,k,P),vg(y,f,k)}}function z5(u,f,y){var k=oo(u),P={lane:k,action:y,hasEagerState:!1,eagerState:null,next:null};if(gg(u))mg(f,P);else{var B=u.alternate;if(u.lanes===0&&(B===null||B.lanes===0)&&(B=f.lastRenderedReducer,B!==null))try{var ne=f.lastRenderedState,we=B(ne,y);if(P.hasEagerState=!0,P.eagerState=we,_r(we,ne)){var Pe=f.interleaved;Pe===null?(P.next=P,or(f)):(P.next=Pe.next,Pe.next=P),f.interleaved=P;return}}catch{}finally{}y=Sr(u,f,P,k),y!==null&&(P=Ji(),Ps(y,u,k,P),vg(y,f,k))}}function gg(u){var f=u.alternate;return u===kn||f!==null&&f===kn}function mg(u,f){gc=Au=!0;var y=u.pending;y===null?f.next=f:(f.next=y.next,y.next=f),u.pending=f}function vg(u,f,y){if(y&4194240){var k=f.lanes;k&=u.pendingLanes,y|=k,f.lanes=y,ml(u,y)}}var yc={readContext:Ai,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useInsertionEffect:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi,useDeferredValue:qi,useTransition:qi,useMutableSource:qi,useSyncExternalStore:qi,useId:qi,unstable_isNewReconciler:!1},t0={readContext:Ai,useCallback:function(u,f){return Xs().memoizedState=[u,f===void 0?null:f],u},useContext:Ai,useEffect:Jf,useImperativeHandle:function(u,f,y){return y=y!=null?y.concat([u]):null,wl(4194308,4,Zf.bind(null,f,u),y)},useLayoutEffect:function(u,f){return wl(4194308,4,u,f)},useInsertionEffect:function(u,f){return wl(4,2,u,f)},useMemo:function(u,f){var y=Xs();return f=f===void 0?null:f,u=u(),y.memoizedState=[u,f],u},useReducer:function(u,f,y){var k=Xs();return f=y!==void 0?y(f):f,k.memoizedState=k.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},k.queue=u,u=u.dispatch=B5.bind(null,kn,u),[k.memoizedState,u]},useRef:function(u){var f=Xs();return u={current:u},f.memoizedState=u},useState:Pu,useDebugValue:Tu,useDeferredValue:function(u){return Xs().memoizedState=u},useTransition:function(){var u=Pu(!1),f=u[0];return u=O5.bind(null,u[1]),Xs().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,y){var k=kn,P=Xs();if(nt){if(y===void 0)throw Error(a(407));y=y()}else{if(y=f(),Ln===null)throw Error(a(349));hr&30||Kf(k,f,y)}P.memoizedState=y;var B={value:y,getSnapshot:f};return P.queue=B,Jf(Yf.bind(null,k,B,u),[u]),k.flags|=2048,Ki(9,Xf.bind(null,k,B,y,f),void 0,null),y},useId:function(){var u=Xs(),f=Ln.identifierPrefix;if(nt){var y=fe,k=se;y=(k&~(1<<32-ls(k)-1)).toString(32)+y,f=":"+f+"R"+y,y=mc++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=fg++,f=":"+f+"r"+y.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},Mu={readContext:Ai,useCallback:Eu,useContext:Ai,useEffect:vc,useImperativeHandle:ed,useInsertionEffect:Lu,useLayoutEffect:Zh,useMemo:td,useReducer:Yh,useRef:ds,useState:function(){return Yh(io)},useDebugValue:Tu,useDeferredValue:function(u){var f=hs();return pg(f,mi.memoizedState,u)},useTransition:function(){var u=Yh(io)[0],f=hs().memoizedState;return[u,f]},useMutableSource:Wf,useSyncExternalStore:qf,useId:e0,unstable_isNewReconciler:!1},U5={readContext:Ai,useCallback:Eu,useContext:Ai,useEffect:vc,useImperativeHandle:ed,useInsertionEffect:Lu,useLayoutEffect:Zh,useMemo:td,useReducer:Qh,useRef:ds,useState:function(){return Qh(io)},useDebugValue:Tu,useDeferredValue:function(u){var f=hs();return mi===null?f.memoizedState=u:pg(f,mi.memoizedState,u)},useTransition:function(){var u=Qh(io)[0],f=hs().memoizedState;return[u,f]},useMutableSource:Wf,useSyncExternalStore:qf,useId:e0,unstable_isNewReconciler:!1};function Ys(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var y in u)f[y]===void 0&&(f[y]=u[y]);return f}return f}function nd(u,f,y,k){f=u.memoizedState,y=y(k,f),y=y==null?f:s({},f,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var id={isMounted:function(u){return(u=u._reactInternals)?R(u)===u:!1},enqueueSetState:function(u,f,y){u=u._reactInternals;var k=Ji(),P=oo(u),B=cr(k,P);B.payload=f,y!=null&&(B.callback=y),f=_n(u,B,P),f!==null&&(Ps(f,u,P,k),pc(f,u,P))},enqueueReplaceState:function(u,f,y){u=u._reactInternals;var k=Ji(),P=oo(u),B=cr(k,P);B.tag=1,B.payload=f,y!=null&&(B.callback=y),f=_n(u,B,P),f!==null&&(Ps(f,u,P,k),pc(f,u,P))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var y=Ji(),k=oo(u),P=cr(y,k);P.tag=2,f!=null&&(P.callback=f),f=_n(u,P,k),f!==null&&(Ps(f,u,k,y),pc(f,u,k))}};function yg(u,f,y,k,P,B,ne){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(k,B,ne):f.prototype&&f.prototype.isPureReactComponent?!Br(y,k)||!Br(P,B):!0}function xg(u,f,y){var k=!1,P=fa,B=f.contextType;return typeof B=="object"&&B!==null?B=Ai(B):(P=pi(f)?pa:Kt.current,k=f.contextTypes,B=(k=k!=null)?Dr(u,P):fa),f=new f(y,B),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=id,u.stateNode=f,f._reactInternals=u,k&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=P,u.__reactInternalMemoizedMaskedChildContext=B),f}function bg(u,f,y,k){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,k),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,k),f.state!==u&&id.enqueueReplaceState(f,f.state,null)}function Ca(u,f,y,k){var P=u.stateNode;P.props=y,P.state=u.memoizedState,P.refs={},Sa(u);var B=f.contextType;typeof B=="object"&&B!==null?P.context=Ai(B):(B=pi(f)?pa:Kt.current,P.context=Dr(u,B)),P.state=u.memoizedState,B=f.getDerivedStateFromProps,typeof B=="function"&&(nd(u,f,B,y),P.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(f=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),f!==P.state&&id.enqueueReplaceState(P,P.state,null),us(u,y,P,k),P.state=u.memoizedState),typeof P.componentDidMount=="function"&&(u.flags|=4194308)}function dr(u,f){try{var y="",k=f;do y+=ju(k),k=k.return;while(k);var P=y}catch(B){P=`
Error generating stack: `+B.message+`
`+B.stack}return{value:u,source:f,stack:P,digest:null}}function Qs(u,f,y){return{value:u,source:null,stack:y??null,digest:f??null}}function n0(u,f){try{console.error(f.value)}catch(y){setTimeout(function(){throw y})}}var wg=typeof WeakMap=="function"?WeakMap:Map;function ro(u,f,y){y=cr(-1,y),y.tag=3,y.payload={element:null};var k=f.value;return y.callback=function(){Ou||(Ou=!0,wc=k),n0(u,f)},y}function fs(u,f,y){y=cr(-1,y),y.tag=3;var k=u.type.getDerivedStateFromError;if(typeof k=="function"){var P=f.value;y.payload=function(){return k(P)},y.callback=function(){n0(u,f)}}var B=u.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(y.callback=function(){n0(u,f),typeof k!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var ne=f.stack;this.componentDidCatch(f.value,{componentStack:ne!==null?ne:""})}),y}function _g(u,f,y){var k=u.pingCache;if(k===null){k=u.pingCache=new wg;var P=new Set;k.set(f,P)}else P=k.get(f),P===void 0&&(P=new Set,k.set(f,P));P.has(y)||(P.add(y),u=QP.bind(null,u,f,y),f.then(u,u))}function Sg(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function i0(u,f,y,k,P){return u.mode&1?(u.flags|=65536,u.lanes=P,u):(u===f?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(f=cr(-1,1),f.tag=2,_n(y,f,1))),y.lanes|=1),u)}var Ng=o.ReactCurrentOwner,Nr=!1;function fr(u,f,y,k){f.child=u===null?yl(f,null,y,k):zr(f,u.child,y,k)}function kg(u,f,y,k,P){y=y.render;var B=f.ref;return _a(f,P),k=Kh(u,f,y,k,B,P),y=Xh(),u!==null&&!Nr?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~P,L(u,f,P)):(nt&&y&&Ie(f),f.flags|=1,fr(u,f,k,P),f.child)}function Ru(u,f,y,k,P){if(u===null){var B=y.type;return typeof B=="function"&&!$5(B)&&B.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(f.tag=15,f.type=B,Fu(u,f,B,k,P)):(u=Mg(y.type,null,k,f,f.mode,P),u.ref=f.ref,u.return=f,f.child=u)}if(B=u.child,!(u.lanes&P)){var ne=B.memoizedProps;if(y=y.compare,y=y!==null?y:Br,y(ne,k)&&u.ref===f.ref)return L(u,f,P)}return f.flags|=1,u=Nc(B,k),u.ref=f.ref,u.return=f,f.child=u}function Fu(u,f,y,k,P){if(u!==null){var B=u.memoizedProps;if(Br(B,k)&&u.ref===f.ref)if(Nr=!1,f.pendingProps=k=B,(u.lanes&P)!==0)u.flags&131072&&(Nr=!0);else return f.lanes=u.lanes,L(u,f,P)}return r0(u,f,y,k,P)}function xc(u,f,y){var k=f.pendingProps,P=k.children,B=u!==null?u.memoizedState:null;if(k.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(so,Ar),Ar|=y;else{if(!(y&1073741824))return u=B!==null?B.baseLanes|y:y,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,cn(so,Ar),Ar|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=B!==null?B.baseLanes:y,cn(so,Ar),Ar|=k}else B!==null?(k=B.baseLanes|y,f.memoizedState=null):k=y,cn(so,Ar),Ar|=k;return fr(u,f,P,y),f.child}function rd(u,f){var y=f.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(f.flags|=512,f.flags|=2097152)}function r0(u,f,y,k,P){var B=pi(y)?pa:Kt.current;return B=Dr(f,B),_a(f,P),y=Kh(u,f,y,k,B,P),k=Xh(),u!==null&&!Nr?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~P,L(u,f,P)):(nt&&k&&Ie(f),f.flags|=1,fr(u,f,y,P),f.child)}function s0(u,f,y,k,P){if(pi(y)){var B=!0;Ro(f)}else B=!1;if(_a(f,P),f.stateNode===null)w(u,f),xg(f,y,k),Ca(f,y,k,P),k=!0;else if(u===null){var ne=f.stateNode,we=f.memoizedProps;ne.props=we;var Pe=ne.context,He=y.contextType;typeof He=="object"&&He!==null?He=Ai(He):(He=pi(y)?pa:Kt.current,He=Dr(f,He));var lt=y.getDerivedStateFromProps,Bt=typeof lt=="function"||typeof ne.getSnapshotBeforeUpdate=="function";Bt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(we!==k||Pe!==He)&&bg(f,ne,k,He),Gi=!1;var Qe=f.memoizedState;ne.state=Qe,us(f,k,ne,P),Pe=f.memoizedState,we!==k||Qe!==Pe||$i.current||Gi?(typeof lt=="function"&&(nd(f,y,lt,k),Pe=f.memoizedState),(we=Gi||yg(f,y,we,k,Qe,Pe,He))?(Bt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(f.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=k,f.memoizedState=Pe),ne.props=k,ne.state=Pe,ne.context=He,k=we):(typeof ne.componentDidMount=="function"&&(f.flags|=4194308),k=!1)}else{ne=f.stateNode,fc(u,f),we=f.memoizedProps,He=f.type===f.elementType?we:Ys(f.type,we),ne.props=He,Bt=f.pendingProps,Qe=ne.context,Pe=y.contextType,typeof Pe=="object"&&Pe!==null?Pe=Ai(Pe):(Pe=pi(y)?pa:Kt.current,Pe=Dr(f,Pe));var qn=y.getDerivedStateFromProps;(lt=typeof qn=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(we!==Bt||Qe!==Pe)&&bg(f,ne,k,Pe),Gi=!1,Qe=f.memoizedState,ne.state=Qe,us(f,k,ne,P);var En=f.memoizedState;we!==Bt||Qe!==En||$i.current||Gi?(typeof qn=="function"&&(nd(f,y,qn,k),En=f.memoizedState),(He=Gi||yg(f,y,He,k,Qe,En,Pe)||!1)?(lt||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(k,En,Pe),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(k,En,Pe)),typeof ne.componentDidUpdate=="function"&&(f.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof ne.componentDidUpdate!="function"||we===u.memoizedProps&&Qe===u.memoizedState||(f.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||we===u.memoizedProps&&Qe===u.memoizedState||(f.flags|=1024),f.memoizedProps=k,f.memoizedState=En),ne.props=k,ne.state=En,ne.context=Pe,k=He):(typeof ne.componentDidUpdate!="function"||we===u.memoizedProps&&Qe===u.memoizedState||(f.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||we===u.memoizedProps&&Qe===u.memoizedState||(f.flags|=1024),k=!1)}return a0(u,f,y,k,B,P)}function a0(u,f,y,k,P,B){rd(u,f);var ne=(f.flags&128)!==0;if(!k&&!ne)return P&&Hh(f,y,!1),L(u,f,B);k=f.stateNode,Ng.current=f;var we=ne&&typeof y.getDerivedStateFromError!="function"?null:k.render();return f.flags|=1,u!==null&&ne?(f.child=zr(f,u.child,null,B),f.child=zr(f,null,we,B)):fr(u,f,we,B),f.memoizedState=k.state,P&&Hh(f,y,!0),f.child}function Cg(u){var f=u.stateNode;f.pendingContext?Mo(u,f.pendingContext,f.pendingContext!==f.context):f.context&&Mo(u,f.context,!1),Ks(u,f.containerInfo)}function jg(u,f,y,k,P){return Oo(),hc(P),f.flags|=256,fr(u,f,y,k),f.child}var o0={dehydrated:null,treeContext:null,retryLane:0};function l0(u){return{baseLanes:u,cachePool:null,transitions:null}}function Ag(u,f,y){var k=f.pendingProps,P=Nt.current,B=!1,ne=(f.flags&128)!==0,we;if((we=ne)||(we=u!==null&&u.memoizedState===null?!1:(P&2)!==0),we?(B=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(P|=1),cn(Nt,P&1),u===null)return ei(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?Fn(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(ne=k.children,u=k.fallback,B?(k=f.mode,B=f.child,ne={mode:"hidden",children:ne},!(k&1)&&B!==null?(B.childLanes=0,B.pendingProps=ne):B=Rg(ne,k,0,null),u=Uu(u,k,y,null),B.return=f,u.return=f,B.sibling=u,f.child=B,f.child.memoizedState=l0(y),f.memoizedState=o0,u):sd(f,ne));if(P=u.memoizedState,P!==null&&(we=P.dehydrated,we!==null))return V5(u,f,ne,k,we,P,y);if(B){B=k.fallback,ne=f.mode,P=u.child,we=P.sibling;var Pe={mode:"hidden",children:k.children};return!(ne&1)&&f.child!==P?(k=f.child,k.childLanes=0,k.pendingProps=Pe,f.deletions=null):(k=Nc(P,Pe),k.subtreeFlags=P.subtreeFlags&14680064),we!==null?B=Nc(we,B):(B=Uu(B,ne,y,null),B.flags|=2),B.return=f,k.return=f,k.sibling=B,f.child=k,k=B,B=f.child,ne=u.child.memoizedState,ne=ne===null?l0(y):{baseLanes:ne.baseLanes|y,cachePool:null,transitions:ne.transitions},B.memoizedState=ne,B.childLanes=u.childLanes&~y,f.memoizedState=o0,k}return B=u.child,u=B.sibling,k=Nc(B,{mode:"visible",children:k.children}),!(f.mode&1)&&(k.lanes=y),k.return=f,k.sibling=null,u!==null&&(y=f.deletions,y===null?(f.deletions=[u],f.flags|=16):y.push(u)),f.child=k,f.memoizedState=null,k}function sd(u,f){return f=Rg({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function Sl(u,f,y,k){return k!==null&&hc(k),zr(f,u.child,null,y),u=sd(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function V5(u,f,y,k,P,B,ne){if(y)return f.flags&256?(f.flags&=-257,k=Qs(Error(a(422))),Sl(u,f,ne,k)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(B=k.fallback,P=f.mode,k=Rg({mode:"visible",children:k.children},P,0,null),B=Uu(B,P,ne,null),B.flags|=2,k.return=f,B.return=f,k.sibling=B,f.child=k,f.mode&1&&zr(f,u.child,null,ne),f.child.memoizedState=l0(ne),f.memoizedState=o0,B);if(!(f.mode&1))return Sl(u,f,ne,null);if(Fn(P))return k=Bi(P).digest,B=Error(a(419)),k=Qs(B,k,void 0),Sl(u,f,ne,k);if(y=(ne&u.childLanes)!==0,Nr||y){if(k=Ln,k!==null){switch(ne&-ne){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=P&(k.suspendedLanes|ne)?0:P,P!==0&&P!==B.retryLane&&(B.retryLane=P,lr(u,P),Ps(k,u,P,-1))}return Ta(),k=Qs(Error(a(421))),Sl(u,f,ne,k)}return os(P)?(f.flags|=128,f.child=u.child,f=JP.bind(null,u),Hi(P,f),null):(u=B.treeContext,Be&&(mt=ha(P),Ye=f,nt=!0,tn=null,Xt=!1,u!==null&&(ai[A++]=se,ai[A++]=fe,ai[A++]=H,se=u.id,fe=u.overflow,H=f)),f=sd(f,k.children),f.flags|=4096,f)}function Pg(u,f,y){u.lanes|=f;var k=u.alternate;k!==null&&(k.lanes|=f),xl(u.return,f,y)}function ad(u,f,y,k,P){var B=u.memoizedState;B===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:k,tail:y,tailMode:P}:(B.isBackwards=f,B.rendering=null,B.renderingStartTime=0,B.last=k,B.tail=y,B.tailMode=P)}function v(u,f,y){var k=f.pendingProps,P=k.revealOrder,B=k.tail;if(fr(u,f,k.children,y),k=Nt.current,k&2)k=k&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Pg(u,y,f);else if(u.tag===19)Pg(u,y,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}k&=1}if(cn(Nt,k),!(f.mode&1))f.memoizedState=null;else switch(P){case"forwards":for(y=f.child,P=null;y!==null;)u=y.alternate,u!==null&&yn(u)===null&&(P=y),y=y.sibling;y=P,y===null?(P=f.child,f.child=null):(P=y.sibling,y.sibling=null),ad(f,!1,P,y,B);break;case"backwards":for(y=null,P=f.child,f.child=null;P!==null;){if(u=P.alternate,u!==null&&yn(u)===null){f.child=P;break}u=P.sibling,P.sibling=y,y=P,P=u}ad(f,!0,y,null,B);break;case"together":ad(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function w(u,f){!(f.mode&1)&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function L(u,f,y){if(u!==null&&(f.dependencies=u.dependencies),Nl|=f.lanes,!(y&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(a(153));if(f.child!==null){for(u=f.child,y=Nc(u,u.pendingProps),f.child=y,y.return=f;u.sibling!==null;)u=u.sibling,y=y.sibling=Nc(u,u.pendingProps),y.return=f;y.sibling=null}return f.child}function I(u,f,y){switch(f.tag){case 3:Cg(f),Oo();break;case 5:Vr(f);break;case 1:pi(f.type)&&Ro(f);break;case 4:Ks(f,f.stateNode.containerInfo);break;case 10:gi(f,f.type._context,f.memoizedProps.value);break;case 13:var k=f.memoizedState;if(k!==null)return k.dehydrated!==null?(cn(Nt,Nt.current&1),f.flags|=128,null):y&f.child.childLanes?Ag(u,f,y):(cn(Nt,Nt.current&1),u=L(u,f,y),u!==null?u.sibling:null);cn(Nt,Nt.current&1);break;case 19:if(k=(y&f.childLanes)!==0,u.flags&128){if(k)return v(u,f,y);f.flags|=128}var P=f.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),cn(Nt,Nt.current),k)break;return null;case 22:case 23:return f.lanes=0,xc(u,f,y)}return L(u,f,y)}function V(u){u.flags|=4}function G(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var W,Q,ee,oe;if(Le)W=function(u,f){for(var y=f.child;y!==null;){if(y.tag===5||y.tag===6)z(u,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Q=function(){},ee=function(u,f,y,k,P){if(u=u.memoizedProps,u!==k){var B=f.stateNode,ne=ur(Wi.current);y=ie(B,y,u,k,P,ne),(f.updateQueue=y)&&V(f)}},oe=function(u,f,y,k){y!==k&&V(f)};else if(ze){W=function(u,f,y,k){for(var P=f.child;P!==null;){if(P.tag===5){var B=P.stateNode;y&&k&&(B=zs(B,P.type,P.memoizedProps,P)),z(u,B)}else if(P.tag===6)B=P.stateNode,y&&k&&(B=_t(B,P.memoizedProps,P)),z(u,B);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)B=P.child,B!==null&&(B.return=P),W(u,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===f)break;for(;P.sibling===null;){if(P.return===null||P.return===f)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var ve=function(u,f,y,k){for(var P=f.child;P!==null;){if(P.tag===5){var B=P.stateNode;y&&k&&(B=zs(B,P.type,P.memoizedProps,P)),Lo(u,B)}else if(P.tag===6)B=P.stateNode,y&&k&&(B=_t(B,P.memoizedProps,P)),Lo(u,B);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)B=P.child,B!==null&&(B.return=P),ve(u,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===f)break;for(;P.sibling===null;){if(P.return===null||P.return===f)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};Q=function(u,f){var y=f.stateNode;if(!G(u,f)){u=y.containerInfo;var k=ln(u);ve(k,f,!1,!1),y.pendingChildren=k,V(f),sr(u,k)}},ee=function(u,f,y,k,P){var B=u.stateNode,ne=u.memoizedProps;if((u=G(u,f))&&ne===k)f.stateNode=B;else{var we=f.stateNode,Pe=ur(Wi.current),He=null;ne!==k&&(He=ie(we,y,ne,k,P,Pe)),u&&He===null?f.stateNode=B:(B=At(B,He,y,ne,k,f,u,we),q(B,y,k,P,Pe)&&V(f),f.stateNode=B,u?V(f):W(B,f,!1,!1))}},oe=function(u,f,y,k){y!==k?(u=ur(ks.current),y=ur(Wi.current),f.stateNode=he(k,u,y,f),V(f)):f.stateNode=u.stateNode}}else Q=function(){},ee=function(){},oe=function(){};function ke(u,f){if(!nt)switch(u.tailMode){case"hidden":f=u.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var k=null;y!==null;)y.alternate!==null&&(k=y),y=y.sibling;k===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:k.sibling=null}}function re(u){var f=u.alternate!==null&&u.alternate.child===u.child,y=0,k=0;if(f)for(var P=u.child;P!==null;)y|=P.lanes|P.childLanes,k|=P.subtreeFlags&14680064,k|=P.flags&14680064,P.return=u,P=P.sibling;else for(P=u.child;P!==null;)y|=P.lanes|P.childLanes,k|=P.subtreeFlags,k|=P.flags,P.return=u,P=P.sibling;return u.subtreeFlags|=k,u.childLanes=y,f}function ye(u,f,y){var k=f.pendingProps;switch(tt(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(f),null;case 1:return pi(f.type)&&Ir(),re(f),null;case 3:return y=f.stateNode,ka(),wn($i),wn(Kt),Vn(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(u===null||u.child===null)&&(Ss(f)?V(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,tn!==null&&(ud(tn),tn=null))),Q(u,f),re(f),null;case 5:Cs(f),y=ur(ks.current);var P=f.type;if(u!==null&&f.stateNode!=null)ee(u,f,P,k,y),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!k){if(f.stateNode===null)throw Error(a(166));return re(f),null}if(u=ur(Wi.current),Ss(f)){if(!Be)throw Error(a(175));u=Vs(f.stateNode,f.type,f.memoizedProps,y,u,f,!Xt),f.updateQueue=u,u!==null&&V(f)}else{var B=Y(P,k,y,u,f);W(B,f,!1,!1),f.stateNode=B,q(B,P,k,y,u)&&V(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return re(f),null;case 6:if(u&&f.stateNode!=null)oe(u,f,u.memoizedProps,k);else{if(typeof k!="string"&&f.stateNode===null)throw Error(a(166));if(u=ur(ks.current),y=ur(Wi.current),Ss(f)){if(!Be)throw Error(a(176));if(u=f.stateNode,y=f.memoizedProps,(k=Hs(u,y,f,!Xt))&&(P=Ye,P!==null))switch(P.tag){case 3:Bf(P.stateNode.containerInfo,u,y,(P.mode&1)!==0);break;case 5:Su(P.type,P.memoizedProps,P.stateNode,u,y,(P.mode&1)!==0)}k&&V(f)}else f.stateNode=he(k,u,y,f)}return re(f),null;case 13:if(wn(Nt),k=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(nt&&mt!==null&&f.mode&1&&!(f.flags&128))eo(),Oo(),f.flags|=98560,P=!1;else if(P=Ss(f),k!==null&&k.dehydrated!==null){if(u===null){if(!P)throw Error(a(318));if(!Be)throw Error(a(344));if(P=f.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(a(317));ws(P,f)}else Oo(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;re(f),P=!1}else tn!==null&&(ud(tn),tn=null),P=!0;if(!P)return f.flags&65536?f:null}return f.flags&128?(f.lanes=y,f):(y=k!==null,y!==(u!==null&&u.memoizedState!==null)&&y&&(f.child.flags|=8192,f.mode&1&&(u===null||Nt.current&1?Wn===0&&(Wn=3):Ta())),f.updateQueue!==null&&(f.flags|=4),re(f),null);case 4:return ka(),Q(u,f),u===null&&le(f.stateNode.containerInfo),re(f),null;case 10:return Ur(f.type._context),re(f),null;case 17:return pi(f.type)&&Ir(),re(f),null;case 19:if(wn(Nt),P=f.memoizedState,P===null)return re(f),null;if(k=(f.flags&128)!==0,B=P.rendering,B===null)if(k)ke(P,!1);else{if(Wn!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(B=yn(u),B!==null){for(f.flags|=128,ke(P,!1),u=B.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=y,y=f.child;y!==null;)k=y,P=u,k.flags&=14680066,B=k.alternate,B===null?(k.childLanes=0,k.lanes=P,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=B.childLanes,k.lanes=B.lanes,k.child=B.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=B.memoizedProps,k.memoizedState=B.memoizedState,k.updateQueue=B.updateQueue,k.type=B.type,P=B.dependencies,k.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),y=y.sibling;return cn(Nt,Nt.current&1|2),f.child}u=u.sibling}P.tail!==null&&Pn()>od&&(f.flags|=128,k=!0,ke(P,!1),f.lanes=4194304)}else{if(!k)if(u=yn(B),u!==null){if(f.flags|=128,k=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),ke(P,!0),P.tail===null&&P.tailMode==="hidden"&&!B.alternate&&!nt)return re(f),null}else 2*Pn()-P.renderingStartTime>od&&y!==1073741824&&(f.flags|=128,k=!0,ke(P,!1),f.lanes=4194304);P.isBackwards?(B.sibling=f.child,f.child=B):(u=P.last,u!==null?u.sibling=B:f.child=B,P.last=B)}return P.tail!==null?(f=P.tail,P.rendering=f,P.tail=f.sibling,P.renderingStartTime=Pn(),f.sibling=null,u=Nt.current,cn(Nt,k?u&1|2:u&1),f):(re(f),null);case 22:case 23:return Bu(),y=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==y&&(f.flags|=8192),y&&f.mode&1?Ar&1073741824&&(re(f),Le&&f.subtreeFlags&6&&(f.flags|=8192)):re(f),null;case 24:return null;case 25:return null}throw Error(a(156,f.tag))}function Ne(u,f){switch(tt(f),f.tag){case 1:return pi(f.type)&&Ir(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return ka(),wn($i),wn(Kt),Vn(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return Cs(f),null;case 13:if(wn(Nt),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(a(340));Oo()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return wn(Nt),null;case 4:return ka(),null;case 10:return Ur(f.type._context),null;case 22:case 23:return Bu(),null;case 24:return null;default:return null}}var Ee=!1,_e=!1,Re=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Oe(u,f){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(k){ti(u,f,k)}else y.current=null}function De(u,f,y){try{y()}catch(k){ti(u,f,k)}}var ft=!1;function it(u,f){for(Z(u.containerInfo),xe=f;xe!==null;)if(u=xe,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,xe=f;else for(;xe!==null;){u=xe;try{var y=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var k=y.memoizedProps,P=y.memoizedState,B=u.stateNode,ne=B.getSnapshotBeforeUpdate(u.elementType===u.type?k:Ys(u.type,k),P);B.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:Le&&Nn(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(we){ti(u,u.return,we)}if(f=u.sibling,f!==null){f.return=u.return,xe=f;break}xe=u.return}return y=ft,ft=!1,y}function Pt(u,f,y){var k=f.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var P=k=k.next;do{if((P.tag&u)===u){var B=P.destroy;P.destroy=void 0,B!==void 0&&De(f,y,B)}P=P.next}while(P!==k)}}function rt(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&u)===u){var k=y.create;y.destroy=k()}y=y.next}while(y!==f)}}function $t(u){var f=u.ref;if(f!==null){var y=u.stateNode;switch(u.tag){case 5:u=ge(y);break;default:u=y}typeof f=="function"?f(u):f.current=u}}function vi(u){var f=u.alternate;f!==null&&(u.alternate=null,vi(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&xt(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function It(u){return u.tag===5||u.tag===3||u.tag===4}function ot(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||It(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function We(u,f,y){var k=u.tag;if(k===5||k===6)u=u.stateNode,f?gt(y,u,f):at(y,u);else if(k!==4&&(u=u.child,u!==null))for(We(u,f,y),u=u.sibling;u!==null;)We(u,f,y),u=u.sibling}function Hn(u,f,y){var k=u.tag;if(k===5||k===6)u=u.stateNode,f?en(y,u,f):dt(y,u);else if(k!==4&&(u=u.child,u!==null))for(Hn(u,f,y),u=u.sibling;u!==null;)Hn(u,f,y),u=u.sibling}var pt=null,Et=!1;function Qt(u,f,y){for(y=y.child;y!==null;)Li(u,f,y),y=y.sibling}function Li(u,f,y){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(va,y)}catch{}switch(y.tag){case 5:_e||Oe(y,f);case 6:if(Le){var k=pt,P=Et;pt=null,Qt(u,f,y),pt=k,Et=P,pt!==null&&(Et?Sn(pt,y.stateNode):Ft(pt,y.stateNode))}else Qt(u,f,y);break;case 18:Le&&pt!==null&&(Et?rc(pt,y.stateNode):ic(pt,y.stateNode));break;case 4:Le?(k=pt,P=Et,pt=y.stateNode.containerInfo,Et=!0,Qt(u,f,y),pt=k,Et=P):(ze&&(k=y.stateNode.containerInfo,P=ln(k),Bs(k,P)),Qt(u,f,y));break;case 0:case 11:case 14:case 15:if(!_e&&(k=y.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){P=k=k.next;do{var B=P,ne=B.destroy;B=B.tag,ne!==void 0&&(B&2||B&4)&&De(y,f,ne),P=P.next}while(P!==k)}Qt(u,f,y);break;case 1:if(!_e&&(Oe(y,f),k=y.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=y.memoizedProps,k.state=y.memoizedState,k.componentWillUnmount()}catch(we){ti(y,f,we)}Qt(u,f,y);break;case 21:Qt(u,f,y);break;case 22:y.mode&1?(_e=(k=_e)||y.memoizedState!==null,Qt(u,f,y),_e=k):Qt(u,f,y);break;default:Qt(u,f,y)}}function pr(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new Re),f.forEach(function(k){var P=ZP.bind(null,u,k);y.has(k)||(y.add(k),k.then(P,P))})}}function an(u,f){var y=f.deletions;if(y!==null)for(var k=0;k<y.length;k++){var P=y[k];try{var B=u,ne=f;if(Le){var we=ne;e:for(;we!==null;){switch(we.tag){case 5:pt=we.stateNode,Et=!1;break e;case 3:pt=we.stateNode.containerInfo,Et=!0;break e;case 4:pt=we.stateNode.containerInfo,Et=!0;break e}we=we.return}if(pt===null)throw Error(a(160));Li(B,ne,P),pt=null,Et=!1}else Li(B,ne,P);var Pe=P.alternate;Pe!==null&&(Pe.return=null),P.return=null}catch(He){ti(P,f,He)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)Xi(f,u),f=f.sibling}function Xi(u,f){var y=u.alternate,k=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(an(f,u),Dn(u),k&4){try{Pt(3,u,u.return),rt(3,u)}catch(Qe){ti(u,u.return,Qe)}try{Pt(5,u,u.return)}catch(Qe){ti(u,u.return,Qe)}}break;case 1:an(f,u),Dn(u),k&512&&y!==null&&Oe(y,y.return);break;case 5:if(an(f,u),Dn(u),k&512&&y!==null&&Oe(y,y.return),Le){if(u.flags&32){var P=u.stateNode;try{wt(P)}catch(Qe){ti(u,u.return,Qe)}}if(k&4&&(P=u.stateNode,P!=null)){var B=u.memoizedProps;if(y=y!==null?y.memoizedProps:B,k=u.type,f=u.updateQueue,u.updateQueue=null,f!==null)try{sn(P,f,k,y,B,u)}catch(Qe){ti(u,u.return,Qe)}}}break;case 6:if(an(f,u),Dn(u),k&4&&Le){if(u.stateNode===null)throw Error(a(162));P=u.stateNode,B=u.memoizedProps,y=y!==null?y.memoizedProps:B;try{bt(P,y,B)}catch(Qe){ti(u,u.return,Qe)}}break;case 3:if(an(f,u),Dn(u),k&4){if(Le&&Be&&y!==null&&y.memoizedState.isDehydrated)try{da(f.containerInfo)}catch(Qe){ti(u,u.return,Qe)}if(ze){P=f.containerInfo,B=f.pendingChildren;try{Bs(P,B)}catch(Qe){ti(u,u.return,Qe)}}}break;case 4:if(an(f,u),Dn(u),k&4&&ze){B=u.stateNode,P=B.containerInfo,B=B.pendingChildren;try{Bs(P,B)}catch(Qe){ti(u,u.return,Qe)}}break;case 13:an(f,u),Dn(u),P=u.child,P.flags&8192&&(B=P.memoizedState!==null,P.stateNode.isHidden=B,!B||P.alternate!==null&&P.alternate.memoizedState!==null||(c0=Pn())),k&4&&pr(u);break;case 22:var ne=y!==null&&y.memoizedState!==null;if(u.mode&1?(_e=(y=_e)||ne,an(f,u),_e=y):an(f,u),Dn(u),k&8192){if(y=u.memoizedState!==null,(u.stateNode.isHidden=y)&&!ne&&u.mode&1)for(xe=u,k=u.child;k!==null;){for(f=xe=k;xe!==null;){ne=xe;var we=ne.child;switch(ne.tag){case 0:case 11:case 14:case 15:Pt(4,ne,ne.return);break;case 1:Oe(ne,ne.return);var Pe=ne.stateNode;if(typeof Pe.componentWillUnmount=="function"){var He=ne,lt=ne.return;try{var Bt=He;Pe.props=Bt.memoizedProps,Pe.state=Bt.memoizedState,Pe.componentWillUnmount()}catch(Qe){ti(He,lt,Qe)}}break;case 5:Oe(ne,ne.return);break;case 22:if(ne.memoizedState!==null){$n(f);continue}}we!==null?(we.return=ne,xe=we):$n(f)}k=k.sibling}if(Le){e:if(k=null,Le)for(f=u;;){if(f.tag===5){if(k===null){k=f;try{P=f.stateNode,y?qt(P):si(f.stateNode,f.memoizedProps)}catch(Qe){ti(u,u.return,Qe)}}}else if(f.tag===6){if(k===null)try{B=f.stateNode,y?Dt(B):Ci(B,f.memoizedProps)}catch(Qe){ti(u,u.return,Qe)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;k===f&&(k=null),f=f.return}k===f&&(k=null),f.sibling.return=f.return,f=f.sibling}}}break;case 19:an(f,u),Dn(u),k&4&&pr(u);break;case 21:break;default:an(f,u),Dn(u)}}function Dn(u){var f=u.flags;if(f&2){try{if(Le){e:{for(var y=u.return;y!==null;){if(It(y)){var k=y;break e}y=y.return}throw Error(a(160))}switch(k.tag){case 5:var P=k.stateNode;k.flags&32&&(wt(P),k.flags&=-33);var B=ot(u);Hn(u,B,P);break;case 3:case 4:var ne=k.stateNode.containerInfo,we=ot(u);We(u,we,ne);break;default:throw Error(a(161))}}}catch(Pe){ti(u,u.return,Pe)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function Ti(u,f,y){xe=u,Jt(u)}function Jt(u,f,y){for(var k=(u.mode&1)!==0;xe!==null;){var P=xe,B=P.child;if(P.tag===22&&k){var ne=P.memoizedState!==null||Ee;if(!ne){var we=P.alternate,Pe=we!==null&&we.memoizedState!==null||_e;we=Ee;var He=_e;if(Ee=ne,(_e=Pe)&&!He)for(xe=P;xe!==null;)ne=xe,Pe=ne.child,ne.tag===22&&ne.memoizedState!==null?fn(P):Pe!==null?(Pe.return=ne,xe=Pe):fn(P);for(;B!==null;)xe=B,Jt(B),B=B.sibling;xe=P,Ee=we,_e=He}dn(u)}else P.subtreeFlags&8772&&B!==null?(B.return=P,xe=B):dn(u)}}function dn(u){for(;xe!==null;){var f=xe;if(f.flags&8772){var y=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:_e||rt(5,f);break;case 1:var k=f.stateNode;if(f.flags&4&&!_e)if(y===null)k.componentDidMount();else{var P=f.elementType===f.type?y.memoizedProps:Ys(f.type,y.memoizedProps);k.componentDidUpdate(P,y.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var B=f.updateQueue;B!==null&&bl(f,B,k);break;case 3:var ne=f.updateQueue;if(ne!==null){if(y=null,f.child!==null)switch(f.child.tag){case 5:y=ge(f.child.stateNode);break;case 1:y=f.child.stateNode}bl(f,ne,y)}break;case 5:var we=f.stateNode;y===null&&f.flags&4&&et(we,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(Be&&f.memoizedState===null){var Pe=f.alternate;if(Pe!==null){var He=Pe.memoizedState;if(He!==null){var lt=He.dehydrated;lt!==null&&cl(lt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}_e||f.flags&512&&$t(f)}catch(Bt){ti(f,f.return,Bt)}}if(f===u){xe=null;break}if(y=f.sibling,y!==null){y.return=f.return,xe=y;break}xe=f.return}}function $n(u){for(;xe!==null;){var f=xe;if(f===u){xe=null;break}var y=f.sibling;if(y!==null){y.return=f.return,xe=y;break}xe=f.return}}function fn(u){for(;xe!==null;){var f=xe;try{switch(f.tag){case 0:case 11:case 15:var y=f.return;try{rt(4,f)}catch(Pe){ti(f,y,Pe)}break;case 1:var k=f.stateNode;if(typeof k.componentDidMount=="function"){var P=f.return;try{k.componentDidMount()}catch(Pe){ti(f,P,Pe)}}var B=f.return;try{$t(f)}catch(Pe){ti(f,B,Pe)}break;case 5:var ne=f.return;try{$t(f)}catch(Pe){ti(f,ne,Pe)}}}catch(Pe){ti(f,f.return,Pe)}if(f===u){xe=null;break}var we=f.sibling;if(we!==null){we.return=f.return,xe=we;break}xe=f.return}}var yi=0,Hr=1,In=2,Yi=3,pn=4;if(typeof Symbol=="function"&&Symbol.for){var Gn=Symbol.for;yi=Gn("selector.component"),Hr=Gn("selector.has_pseudo_class"),In=Gn("selector.role"),Yi=Gn("selector.test_id"),pn=Gn("selector.text")}function kr(u){var f=je(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(a(364));return f}if(u=qe(u),u===null)throw Error(a(362));return u.stateNode.current}function Qi(u,f){switch(f.$$typeof){case yi:if(u.type===f.value)return!0;break;case Hr:e:{f=f.value,u=[u,0];for(var y=0;y<u.length;){var k=u[y++],P=u[y++],B=f[P];if(k.tag!==5||!Ge(k)){for(;B!=null&&Qi(k,B);)P++,B=f[P];if(P===f.length){f=!0;break e}else for(k=k.child;k!==null;)u.push(k,P),k=k.sibling}}f=!1}return f;case In:if(u.tag===5&&$e(u.stateNode,f.value))return!0;break;case pn:if((u.tag===5||u.tag===6)&&(u=Te(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case Yi:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Cr(u){switch(u.$$typeof){case yi:return"<"+(U(u.value)||"Unknown")+">";case Hr:return":has("+(Cr(u)||"")+")";case In:return'[role="'+u.value+'"]';case pn:return'"'+u.value+'"';case Yi:return'[data-testname="'+u.value+'"]';default:throw Error(a(365))}}function $r(u,f){var y=[];u=[u,0];for(var k=0;k<u.length;){var P=u[k++],B=u[k++],ne=f[B];if(P.tag!==5||!Ge(P)){for(;ne!=null&&Qi(P,ne);)B++,ne=f[B];if(B===f.length)y.push(P);else for(P=P.child;P!==null;)u.push(P,B),P=P.sibling}}return y}function gr(u,f){if(!Xe)throw Error(a(363));u=kr(u),u=$r(u,f),f=[],u=Array.from(u);for(var y=0;y<u.length;){var k=u[y++];if(k.tag===5)Ge(k)||f.push(k.stateNode);else for(k=k.child;k!==null;)u.push(k),k=k.sibling}return f}var ps=Math.ceil,xn=o.ReactCurrentDispatcher,jr=o.ReactCurrentOwner,un=o.ReactCurrentBatchConfig,Mt=0,Ln=null,Gt=null,xi=0,Ar=0,so=$s(0),Wn=0,Du=null,Nl=0,bc=0,ja=0,Iu=null,Gr=null,c0=0,od=1/0,As=null;function kl(){od=Pn()+500}var Ou=!1,wc=null,Aa=null,Vo=!1,ao=null,ld=0,Ho=0,cd=null,_c=-1,Js=0;function Ji(){return Mt&6?Pn():_c!==-1?_c:_c=Pn()}function oo(u){return u.mode&1?Mt&2&&xi!==0?xi&-xi:vl.transition!==null?(Js===0&&(Js=Fo()),Js):(u=Ke,u!==0?u:jt()):1}function Ps(u,f,y,k){if(50<Ho)throw Ho=0,cd=null,Error(a(185));pl(u,y,k),(!(Mt&2)||u!==Ln)&&(u===Ln&&(!(Mt&2)&&(bc|=y),Wn===4&&lo(u,xi)),Pr(u,k),y===1&&Mt===0&&!(f.mode&1)&&(kl(),ya&&Or()))}function Pr(u,f){var y=u.callbackNode;Vf(u,f);var k=oc(u,u===Ln?xi:0);if(k===0)y!==null&&Wh(y),u.callbackNode=null,u.callbackPriority=0;else if(f=k&-k,u.callbackPriority!==f){if(y!=null&&Wh(y),f===1)u.tag===0?uc(Lg.bind(null,u)):cc(Lg.bind(null,u)),ut?Ue(function(){!(Mt&6)&&Or()}):Nu(ku,Or),y=null;else{switch(Gh(k)){case 1:y=ku;break;case 4:y=$f;break;case 16:y=Do;break;case 536870912:y=Cu;break;default:y=Do}y=qb(y,Cl.bind(null,u))}u.callbackPriority=f,u.callbackNode=y}}function Cl(u,f){if(_c=-1,Js=0,Mt&6)throw Error(a(327));var y=u.callbackNode;if(zu()&&u.callbackNode!==y)return null;var k=oc(u,u===Ln?xi:0);if(k===0)return null;if(k&30||k&u.expiredLanes||f)f=jl(u,k);else{f=k;var P=Mt;Mt|=2;var B=co();(Ln!==u||xi!==f)&&(As=null,kl(),Pa(u,f));do try{Tg();break}catch(we){La(u,we)}while(!0);dc(),xn.current=B,Mt=P,Gt!==null?f=0:(Ln=null,xi=0,f=Wn)}if(f!==0){if(f===2&&(P=fl(u),P!==0&&(k=P,f=u0(u,P))),f===1)throw y=Du,Pa(u,0),lo(u,k),Pr(u,Pn()),y;if(f===6)lo(u,k);else{if(P=u.current.alternate,!(k&30)&&!H5(P)&&(f=jl(u,k),f===2&&(B=fl(u),B!==0&&(k=B,f=u0(u,B))),f===1))throw y=Du,Pa(u,0),lo(u,k),Pr(u,Pn()),y;switch(u.finishedWork=P,u.finishedLanes=k,f){case 0:case 1:throw Error(a(345));case 2:uo(u,Gr,As);break;case 3:if(lo(u,k),(k&130023424)===k&&(f=c0+500-Pn(),10<f)){if(oc(u,0)!==0)break;if(P=u.suspendedLanes,(P&k)!==k){Ji(),u.pingedLanes|=u.suspendedLanes&P;break}u.timeoutHandle=K(uo.bind(null,u,Gr,As),f);break}uo(u,Gr,As);break;case 4:if(lo(u,k),(k&4194240)===k)break;for(f=u.eventTimes,P=-1;0<k;){var ne=31-ls(k);B=1<<ne,ne=f[ne],ne>P&&(P=ne),k&=~B}if(k=P,k=Pn()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*ps(k/1960))-k,10<k){u.timeoutHandle=K(uo.bind(null,u,Gr,As),k);break}uo(u,Gr,As);break;case 5:uo(u,Gr,As);break;default:throw Error(a(329))}}}return Pr(u,Pn()),u.callbackNode===y?Cl.bind(null,u):null}function u0(u,f){var y=Iu;return u.current.memoizedState.isDehydrated&&(Pa(u,f).flags|=256),u=jl(u,f),u!==2&&(f=Gr,Gr=y,f!==null&&ud(f)),u}function ud(u){Gr===null?Gr=u:Gr.push.apply(Gr,u)}function H5(u){for(var f=u;;){if(f.flags&16384){var y=f.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var k=0;k<y.length;k++){var P=y[k],B=P.getSnapshot;P=P.value;try{if(!_r(B(),P))return!1}catch{return!1}}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function lo(u,f){for(f&=~ja,f&=~bc,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var y=31-ls(f),k=1<<y;u[y]=-1,f&=~k}}function Lg(u){if(Mt&6)throw Error(a(327));zu();var f=oc(u,0);if(!(f&1))return Pr(u,Pn()),null;var y=jl(u,f);if(u.tag!==0&&y===2){var k=fl(u);k!==0&&(f=k,y=u0(u,k))}if(y===1)throw y=Du,Pa(u,0),lo(u,f),Pr(u,Pn()),y;if(y===6)throw Error(a(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,uo(u,Gr,As),Pr(u,Pn()),null}function Sc(u){ao!==null&&ao.tag===0&&!(Mt&6)&&zu();var f=Mt;Mt|=1;var y=un.transition,k=Ke;try{if(un.transition=null,Ke=1,u)return u()}finally{Ke=k,un.transition=y,Mt=f,!(Mt&6)&&Or()}}function Bu(){Ar=so.current,wn(so)}function Pa(u,f){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==me&&(u.timeoutHandle=me,de(y)),Gt!==null)for(y=Gt.return;y!==null;){var k=y;switch(tt(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&Ir();break;case 3:ka(),wn($i),wn(Kt),Vn();break;case 5:Cs(k);break;case 4:ka();break;case 13:wn(Nt);break;case 19:wn(Nt);break;case 10:Ur(k.type._context);break;case 22:case 23:Bu()}y=y.return}if(Ln=u,Gt=u=Nc(u.current,null),xi=Ar=f,Wn=0,Du=null,ja=bc=Nl=0,Gr=Iu=null,Ns!==null){for(f=0;f<Ns.length;f++)if(y=Ns[f],k=y.interleaved,k!==null){y.interleaved=null;var P=k.next,B=y.pending;if(B!==null){var ne=B.next;B.next=P,k.next=ne}y.pending=k}Ns=null}return u}function La(u,f){do{var y=Gt;try{if(dc(),js.current=yc,Au){for(var k=kn.memoizedState;k!==null;){var P=k.queue;P!==null&&(P.pending=null),k=k.next}Au=!1}if(hr=0,Pi=mi=kn=null,gc=!1,mc=0,jr.current=null,y===null||y.return===null){Wn=1,Du=f,Gt=null;break}e:{var B=u,ne=y.return,we=y,Pe=f;if(f=xi,we.flags|=32768,Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var He=Pe,lt=we,Bt=lt.tag;if(!(lt.mode&1)&&(Bt===0||Bt===11||Bt===15)){var Qe=lt.alternate;Qe?(lt.updateQueue=Qe.updateQueue,lt.memoizedState=Qe.memoizedState,lt.lanes=Qe.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var qn=Sg(ne);if(qn!==null){qn.flags&=-257,i0(qn,ne,we,B,f),qn.mode&1&&_g(B,He,f),f=qn,Pe=He;var En=f.updateQueue;if(En===null){var Ls=new Set;Ls.add(Pe),f.updateQueue=Ls}else En.add(Pe);break e}else{if(!(f&1)){_g(B,He,f),Ta();break e}Pe=Error(a(426))}}else if(nt&&we.mode&1){var Al=Sg(ne);if(Al!==null){!(Al.flags&65536)&&(Al.flags|=256),i0(Al,ne,we,B,f),hc(dr(Pe,we));break e}}B=Pe=dr(Pe,we),Wn!==4&&(Wn=2),Iu===null?Iu=[B]:Iu.push(B),B=ne;do{switch(B.tag){case 3:B.flags|=65536,f&=-f,B.lanes|=f;var Ae=ro(B,Pe,f);qs(B,Ae);break e;case 1:we=Pe;var Se=B.type,Me=B.stateNode;if(!(B.flags&128)&&(typeof Se.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(Aa===null||!Aa.has(Me)))){B.flags|=65536,f&=-f,B.lanes|=f;var Je=fs(B,we,f);qs(B,Je);break e}}B=B.return}while(B!==null)}hd(y)}catch(St){f=St,Gt===y&&y!==null&&(Gt=y=y.return);continue}break}while(!0)}function co(){var u=xn.current;return xn.current=yc,u===null?yc:u}function Ta(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),Ln===null||!(Nl&268435455)&&!(bc&268435455)||lo(Ln,xi)}function jl(u,f){var y=Mt;Mt|=2;var k=co();(Ln!==u||xi!==f)&&(As=null,Pa(u,f));do try{h0();break}catch(P){La(u,P)}while(!0);if(dc(),Mt=y,xn.current=k,Gt!==null)throw Error(a(261));return Ln=null,xi=0,Wn}function h0(){for(;Gt!==null;)Eg(Gt)}function Tg(){for(;Gt!==null&&!Hf();)Eg(Gt)}function Eg(u){var f=Wb(u.alternate,u,Ar);u.memoizedProps=u.pendingProps,f===null?hd(u):Gt=f,jr.current=null}function hd(u){var f=u;do{var y=f.alternate;if(u=f.return,f.flags&32768){if(y=Ne(y,f),y!==null){y.flags&=32767,Gt=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Wn=6,Gt=null;return}}else if(y=ye(y,f,Ar),y!==null){Gt=y;return}if(f=f.sibling,f!==null){Gt=f;return}Gt=f=u}while(f!==null);Wn===0&&(Wn=5)}function uo(u,f,y){var k=Ke,P=un.transition;try{un.transition=null,Ke=1,YP(u,f,y,k)}finally{un.transition=P,Ke=k}return null}function YP(u,f,y,k){do zu();while(ao!==null);if(Mt&6)throw Error(a(327));y=u.finishedWork;var P=u.finishedLanes;if(y===null)return null;if(u.finishedWork=null,u.finishedLanes=0,y===u.current)throw Error(a(177));u.callbackNode=null,u.callbackPriority=0;var B=y.lanes|y.childLanes;if(gl(u,B),u===Ln&&(Gt=Ln=null,xi=0),!(y.subtreeFlags&2064)&&!(y.flags&2064)||Vo||(Vo=!0,qb(Do,function(){return zu(),null})),B=(y.flags&15990)!==0,y.subtreeFlags&15990||B){B=un.transition,un.transition=null;var ne=Ke;Ke=1;var we=Mt;Mt|=4,jr.current=null,it(u,y),Xi(y,u),ue(u.containerInfo),u.current=y,Ti(y),Ja(),Mt=we,Ke=ne,un.transition=B}else u.current=y;if(Vo&&(Vo=!1,ao=u,ld=P),B=u.pendingLanes,B===0&&(Aa=null),lc(y.stateNode),Pr(u,Pn()),f!==null)for(k=u.onRecoverableError,y=0;y<f.length;y++)P=f[y],k(P.value,{componentStack:P.stack,digest:P.digest});if(Ou)throw Ou=!1,u=wc,wc=null,u;return ld&1&&u.tag!==0&&zu(),B=u.pendingLanes,B&1?u===cd?Ho++:(Ho=0,cd=u):Ho=0,Or(),null}function zu(){if(ao!==null){var u=Gh(ld),f=un.transition,y=Ke;try{if(un.transition=null,Ke=16>u?16:u,ao===null)var k=!1;else{if(u=ao,ao=null,ld=0,Mt&6)throw Error(a(331));var P=Mt;for(Mt|=4,xe=u.current;xe!==null;){var B=xe,ne=B.child;if(xe.flags&16){var we=B.deletions;if(we!==null){for(var Pe=0;Pe<we.length;Pe++){var He=we[Pe];for(xe=He;xe!==null;){var lt=xe;switch(lt.tag){case 0:case 11:case 15:Pt(8,lt,B)}var Bt=lt.child;if(Bt!==null)Bt.return=lt,xe=Bt;else for(;xe!==null;){lt=xe;var Qe=lt.sibling,qn=lt.return;if(vi(lt),lt===He){xe=null;break}if(Qe!==null){Qe.return=qn,xe=Qe;break}xe=qn}}}var En=B.alternate;if(En!==null){var Ls=En.child;if(Ls!==null){En.child=null;do{var Al=Ls.sibling;Ls.sibling=null,Ls=Al}while(Ls!==null)}}xe=B}}if(B.subtreeFlags&2064&&ne!==null)ne.return=B,xe=ne;else e:for(;xe!==null;){if(B=xe,B.flags&2048)switch(B.tag){case 0:case 11:case 15:Pt(9,B,B.return)}var Ae=B.sibling;if(Ae!==null){Ae.return=B.return,xe=Ae;break e}xe=B.return}}var Se=u.current;for(xe=Se;xe!==null;){ne=xe;var Me=ne.child;if(ne.subtreeFlags&2064&&Me!==null)Me.return=ne,xe=Me;else e:for(ne=Se;xe!==null;){if(we=xe,we.flags&2048)try{switch(we.tag){case 0:case 11:case 15:rt(9,we)}}catch(St){ti(we,we.return,St)}if(we===ne){xe=null;break e}var Je=we.sibling;if(Je!==null){Je.return=we.return,xe=Je;break e}xe=we.return}}if(Mt=P,Or(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(va,u)}catch{}k=!0}return k}finally{Ke=y,un.transition=f}}return!1}function $b(u,f,y){f=dr(y,f),f=ro(u,f,1),u=_n(u,f,1),f=Ji(),u!==null&&(pl(u,1,f),Pr(u,f))}function ti(u,f,y){if(u.tag===3)$b(u,u,y);else for(;f!==null;){if(f.tag===3){$b(f,u,y);break}else if(f.tag===1){var k=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(Aa===null||!Aa.has(k))){u=dr(y,u),u=fs(f,u,1),f=_n(f,u,1),u=Ji(),f!==null&&(pl(f,1,u),Pr(f,u));break}}f=f.return}}function QP(u,f,y){var k=u.pingCache;k!==null&&k.delete(f),f=Ji(),u.pingedLanes|=u.suspendedLanes&y,Ln===u&&(xi&y)===y&&(Wn===4||Wn===3&&(xi&130023424)===xi&&500>Pn()-c0?Pa(u,0):ja|=y),Pr(u,f)}function Gb(u,f){f===0&&(u.mode&1?(f=Gs,Gs<<=1,!(Gs&130023424)&&(Gs=4194304)):f=1);var y=Ji();u=lr(u,f),u!==null&&(pl(u,f,y),Pr(u,y))}function JP(u){var f=u.memoizedState,y=0;f!==null&&(y=f.retryLane),Gb(u,y)}function ZP(u,f){var y=0;switch(u.tag){case 13:var k=u.stateNode,P=u.memoizedState;P!==null&&(y=P.retryLane);break;case 19:k=u.stateNode;break;default:throw Error(a(314))}k!==null&&k.delete(f),Gb(u,y)}var Wb;Wb=function(u,f,y){if(u!==null)if(u.memoizedProps!==f.pendingProps||$i.current)Nr=!0;else{if(!(u.lanes&y)&&!(f.flags&128))return Nr=!1,I(u,f,y);Nr=!!(u.flags&131072)}else Nr=!1,nt&&f.flags&1048576&&Fe(f,ar,f.index);switch(f.lanes=0,f.tag){case 2:var k=f.type;w(u,f),u=f.pendingProps;var P=Dr(f,Kt.current);_a(f,y),P=Kh(null,f,k,u,P,y);var B=Xh();return f.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,pi(k)?(B=!0,Ro(f)):B=!1,f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Sa(f),P.updater=id,f.stateNode=P,P._reactInternals=f,Ca(f,k,u,y),f=a0(null,f,k,!0,B,y)):(f.tag=0,nt&&B&&Ie(f),fr(null,f,P,y),f=f.child),f;case 16:k=f.elementType;e:{switch(w(u,f),u=f.pendingProps,P=k._init,k=P(k._payload),f.type=k,P=f.tag=tL(k),u=Ys(k,u),P){case 0:f=r0(null,f,k,u,y);break e;case 1:f=s0(null,f,k,u,y);break e;case 11:f=kg(null,f,k,u,y);break e;case 14:f=Ru(null,f,k,Ys(k.type,u),y);break e}throw Error(a(306,k,""))}return f;case 0:return k=f.type,P=f.pendingProps,P=f.elementType===k?P:Ys(k,P),r0(u,f,k,P,y);case 1:return k=f.type,P=f.pendingProps,P=f.elementType===k?P:Ys(k,P),s0(u,f,k,P,y);case 3:e:{if(Cg(f),u===null)throw Error(a(387));k=f.pendingProps,B=f.memoizedState,P=B.element,fc(u,f),us(f,k,null,y);var ne=f.memoizedState;if(k=ne.element,Be&&B.isDehydrated)if(B={element:k,isDehydrated:!1,cache:ne.cache,pendingSuspenseBoundaries:ne.pendingSuspenseBoundaries,transitions:ne.transitions},f.updateQueue.baseState=B,f.memoizedState=B,f.flags&256){P=dr(Error(a(423)),f),f=jg(u,f,k,y,P);break e}else if(k!==P){P=dr(Error(a(424)),f),f=jg(u,f,k,y,P);break e}else for(Be&&(mt=Us(f.stateNode.containerInfo),Ye=f,nt=!0,tn=null,Xt=!1),y=yl(f,null,k,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Oo(),k===P){f=L(u,f,y);break e}fr(u,f,k,y)}f=f.child}return f;case 5:return Vr(f),u===null&&ei(f),k=f.type,P=f.pendingProps,B=u!==null?u.memoizedProps:null,ne=P.children,ce(k,P)?ne=null:B!==null&&ce(k,B)&&(f.flags|=32),rd(u,f),fr(u,f,ne,y),f.child;case 6:return u===null&&ei(f),null;case 13:return Ag(u,f,y);case 4:return Ks(f,f.stateNode.containerInfo),k=f.pendingProps,u===null?f.child=zr(f,null,k,y):fr(u,f,k,y),f.child;case 11:return k=f.type,P=f.pendingProps,P=f.elementType===k?P:Ys(k,P),kg(u,f,k,P,y);case 7:return fr(u,f,f.pendingProps,y),f.child;case 8:return fr(u,f,f.pendingProps.children,y),f.child;case 12:return fr(u,f,f.pendingProps.children,y),f.child;case 10:e:{if(k=f.type._context,P=f.pendingProps,B=f.memoizedProps,ne=P.value,gi(f,k,ne),B!==null)if(_r(B.value,ne)){if(B.children===P.children&&!$i.current){f=L(u,f,y);break e}}else for(B=f.child,B!==null&&(B.return=f);B!==null;){var we=B.dependencies;if(we!==null){ne=B.child;for(var Pe=we.firstContext;Pe!==null;){if(Pe.context===k){if(B.tag===1){Pe=cr(-1,y&-y),Pe.tag=2;var He=B.updateQueue;if(He!==null){He=He.shared;var lt=He.pending;lt===null?Pe.next=Pe:(Pe.next=lt.next,lt.next=Pe),He.pending=Pe}}B.lanes|=y,Pe=B.alternate,Pe!==null&&(Pe.lanes|=y),xl(B.return,y,f),we.lanes|=y;break}Pe=Pe.next}}else if(B.tag===10)ne=B.type===f.type?null:B.child;else if(B.tag===18){if(ne=B.return,ne===null)throw Error(a(341));ne.lanes|=y,we=ne.alternate,we!==null&&(we.lanes|=y),xl(ne,y,f),ne=B.sibling}else ne=B.child;if(ne!==null)ne.return=B;else for(ne=B;ne!==null;){if(ne===f){ne=null;break}if(B=ne.sibling,B!==null){B.return=ne.return,ne=B;break}ne=ne.return}B=ne}fr(u,f,P.children,y),f=f.child}return f;case 9:return P=f.type,k=f.pendingProps.children,_a(f,y),P=Ai(P),k=k(P),f.flags|=1,fr(u,f,k,y),f.child;case 14:return k=f.type,P=Ys(k,f.pendingProps),P=Ys(k.type,P),Ru(u,f,k,P,y);case 15:return Fu(u,f,f.type,f.pendingProps,y);case 17:return k=f.type,P=f.pendingProps,P=f.elementType===k?P:Ys(k,P),w(u,f),f.tag=1,pi(k)?(u=!0,Ro(f)):u=!1,_a(f,y),xg(f,k,P),Ca(f,k,P,y),a0(null,f,k,!0,u,y);case 19:return v(u,f,y);case 22:return xc(u,f,y)}throw Error(a(156,f.tag))};function qb(u,f){return Nu(u,f)}function eL(u,f,y,k){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(u,f,y,k){return new eL(u,f,y,k)}function $5(u){return u=u.prototype,!(!u||!u.isReactComponent)}function tL(u){if(typeof u=="function")return $5(u)?1:0;if(u!=null){if(u=u.$$typeof,u===b)return 11;if(u===j)return 14}return 2}function Nc(u,f){var y=u.alternate;return y===null?(y=Ea(u.tag,f,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=f,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,f=u.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function Mg(u,f,y,k,P,B){var ne=2;if(k=u,typeof u=="function")$5(u)&&(ne=1);else if(typeof u=="string")ne=5;else e:switch(u){case d:return Uu(y.children,P,B,f);case g:ne=8,P|=8;break;case m:return u=Ea(12,y,f,P|2),u.elementType=m,u.lanes=B,u;case N:return u=Ea(13,y,f,P),u.elementType=N,u.lanes=B,u;case S:return u=Ea(19,y,f,P),u.elementType=S,u.lanes=B,u;case C:return Rg(y,P,B,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case p:ne=10;break e;case x:ne=9;break e;case b:ne=11;break e;case j:ne=14;break e;case _:ne=16,k=null;break e}throw Error(a(130,u==null?u:typeof u,""))}return f=Ea(ne,y,f,P),f.elementType=u,f.type=k,f.lanes=B,f}function Uu(u,f,y,k){return u=Ea(7,u,k,f),u.lanes=y,u}function Rg(u,f,y,k){return u=Ea(22,u,k,f),u.elementType=C,u.lanes=y,u.stateNode={isHidden:!1},u}function G5(u,f,y){return u=Ea(6,u,null,f),u.lanes=y,u}function W5(u,f,y){return f=Ea(4,u.children!==null?u.children:[],u.key,f),f.lanes=y,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function nL(u,f,y,k,P){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ma(0),this.expirationTimes=ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.identifierPrefix=k,this.onRecoverableError=P,Be&&(this.mutableSourceEagerHydrationData=null)}function Kb(u,f,y,k,P,B,ne,we,Pe){return u=new nL(u,f,y,we,Pe),f===1?(f=1,B===!0&&(f|=8)):f=0,B=Ea(3,null,null,f),u.current=B,B.stateNode=u,B.memoizedState={element:k,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sa(B),u}function Xb(u){if(!u)return fa;u=u._reactInternals;e:{if(R(u)!==u||u.tag!==1)throw Error(a(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(pi(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(a(171))}if(u.tag===1){var y=u.type;if(pi(y))return Zn(u,y,f)}return f}function Yb(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(a(188)):(u=Object.keys(u).join(","),Error(a(268,u)));return u=D(f),u===null?null:u.stateNode}function Qb(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<f?y:f}}function Fg(u,f){Qb(u,f),(u=u.alternate)&&Qb(u,f)}function iL(u){return u=D(u),u===null?null:u.stateNode}function rL(){return null}return n.attemptContinuousHydration=function(u){if(u.tag===13){var f=lr(u,134217728);if(f!==null){var y=Ji();Ps(f,u,134217728,y)}Fg(u,134217728)}},n.attemptDiscreteHydration=function(u){if(u.tag===13){var f=lr(u,1);if(f!==null){var y=Ji();Ps(f,u,1,y)}Fg(u,1)}},n.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=oo(u),y=lr(u,f);if(y!==null){var k=Ji();Ps(y,u,f,k)}Fg(u,f)}},n.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var y=Qa(f.pendingLanes);y!==0&&(ml(f,y|1),Pr(f,Pn()),!(Mt&6)&&(kl(),Or()))}break;case 13:Sc(function(){var k=lr(u,1);if(k!==null){var P=Ji();Ps(k,u,1,P)}}),Fg(u,1)}},n.batchedUpdates=function(u,f){var y=Mt;Mt|=1;try{return u(f)}finally{Mt=y,Mt===0&&(kl(),ya&&Or())}},n.createComponentSelector=function(u){return{$$typeof:yi,value:u}},n.createContainer=function(u,f,y,k,P,B,ne){return Kb(u,f,!1,null,y,k,P,B,ne)},n.createHasPseudoClassSelector=function(u){return{$$typeof:Hr,value:u}},n.createHydrationContainer=function(u,f,y,k,P,B,ne,we,Pe){return u=Kb(y,k,!0,u,P,B,ne,we,Pe),u.context=Xb(null),y=u.current,k=Ji(),P=oo(y),B=cr(k,P),B.callback=f??null,_n(y,B,P),u.current.lanes=P,pl(u,P,k),Pr(u,k),u},n.createPortal=function(u,f,y){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:k==null?null:""+k,children:u,containerInfo:f,implementation:y}},n.createRoleSelector=function(u){return{$$typeof:In,value:u}},n.createTestNameSelector=function(u){return{$$typeof:Yi,value:u}},n.createTextSelector=function(u){return{$$typeof:pn,value:u}},n.deferredUpdates=function(u){var f=Ke,y=un.transition;try{return un.transition=null,Ke=16,u()}finally{Ke=f,un.transition=y}},n.discreteUpdates=function(u,f,y,k,P){var B=Ke,ne=un.transition;try{return un.transition=null,Ke=1,u(f,y,k,P)}finally{Ke=B,un.transition=ne,Mt===0&&kl()}},n.findAllNodes=gr,n.findBoundingRects=function(u,f){if(!Xe)throw Error(a(363));f=gr(u,f),u=[];for(var y=0;y<f.length;y++)u.push(Tt(f[y]));for(f=u.length-1;0<f;f--){y=u[f];for(var k=y.x,P=k+y.width,B=y.y,ne=B+y.height,we=f-1;0<=we;we--)if(f!==we){var Pe=u[we],He=Pe.x,lt=He+Pe.width,Bt=Pe.y,Qe=Bt+Pe.height;if(k>=He&&B>=Bt&&P<=lt&&ne<=Qe){u.splice(f,1);break}else if(k!==He||y.width!==Pe.width||Qe<B||Bt>ne){if(!(B!==Bt||y.height!==Pe.height||lt<k||He>P)){He>k&&(Pe.width+=He-k,Pe.x=k),lt<P&&(Pe.width=P-He),u.splice(f,1);break}}else{Bt>B&&(Pe.height+=Bt-B,Pe.y=B),Qe<ne&&(Pe.height=ne-Bt),u.splice(f,1);break}}}return u},n.findHostInstance=Yb,n.findHostInstanceWithNoPortals=function(u){return u=T(u),u=u!==null?X(u):null,u===null?null:u.stateNode},n.findHostInstanceWithWarning=function(u){return Yb(u)},n.flushControlled=function(u){var f=Mt;Mt|=1;var y=un.transition,k=Ke;try{un.transition=null,Ke=1,u()}finally{Ke=k,un.transition=y,Mt=f,Mt===0&&(kl(),Or())}},n.flushPassiveEffects=zu,n.flushSync=Sc,n.focusWithin=function(u,f){if(!Xe)throw Error(a(363));for(u=kr(u),f=$r(u,f),f=Array.from(f),u=0;u<f.length;){var y=f[u++];if(!Ge(y)){if(y.tag===5&&ht(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Ke},n.getFindAllNodesFailureDescription=function(u,f){if(!Xe)throw Error(a(363));var y=0,k=[];u=[kr(u),0];for(var P=0;P<u.length;){var B=u[P++],ne=u[P++],we=f[ne];if((B.tag!==5||!Ge(B))&&(Qi(B,we)&&(k.push(Cr(we)),ne++,ne>y&&(y=ne)),ne<f.length))for(B=B.child;B!==null;)u.push(B,ne),B=B.sibling}if(y<f.length){for(u=[];y<f.length;y++)u.push(Cr(f[y]));return`findAllNodes was able to match part of the selector:
  `+(k.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},n.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return ge(u.child.stateNode);default:return u.child.stateNode}},n.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:iL,findFiberByHostInstance:u.findFiberByHostInstance||rL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{va=f.inject(u),wr=f}catch{}u=!!f.checkDCE}}return u},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(u,f,y,k){if(!Xe)throw Error(a(363));u=gr(u,f);var P=Ut(u,y,k).disconnect;return{disconnect:function(){P()}}},n.registerMutableSourceForHydration=function(u,f){var y=f._getVersion;y=y(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,y]:u.mutableSourceEagerHydrationData.push(f,y)},n.runWithPriority=function(u,f){var y=Ke;try{return Ke=u,f()}finally{Ke=y}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(u,f,y,k){var P=f.current,B=Ji(),ne=oo(P);return y=Xb(y),f.context===null?f.context=y:f.pendingContext=y,f=cr(B,ne),f.payload={element:u},k=k===void 0?null:k,k!==null&&(f.callback=k),u=_n(P,f,ne),u!==null&&(Ps(u,P,ne,B),pc(u,P,ne)),ne},n};eA.exports=o$;var l$=eA.exports;const c$=h2(l$);var tA={exports:{}},Ih={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ih.ConcurrentRoot=1;Ih.ContinuousEventPriority=4;Ih.DefaultEventPriority=16;Ih.DiscreteEventPriority=1;Ih.IdleEventPriority=536870912;Ih.LegacyRoot=0;tA.exports=Ih;var nA=tA.exports;const p8={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let g8=!1,m8=!1;const Sb=".react-konva-event",u$=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,h$=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,d$={};function A5(t,e,n=d$){if(!g8&&"zIndex"in e&&(console.warn(h$),g8=!0),!m8&&e.draggable){var i=e.x!==void 0||e.y!==void 0,r=e.onDragEnd||e.onDragMove;i&&!r&&(console.warn(u$),m8=!0)}for(var s in n)if(!p8[s]){var a=s.slice(0,2)==="on",o=n[s]!==e[s];if(a&&o){var l=s.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),t.off(l,n[s])}var c=!e.hasOwnProperty(s);c&&t.setAttr(s,void 0)}var d=e._useStrictMode,g={},m=!1;const p={};for(var s in e)if(!p8[s]){var a=s.slice(0,2)==="on",x=n[s]!==e[s];if(a&&x){var l=s.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),e[s]&&(p[l]=e[s])}!a&&(e[s]!==n[s]||d&&e[s]!==t.getAttr(s))&&(m=!0,g[s]=e[s])}m&&(t.setAttrs(g),_u(t));for(var l in p)t.on(l+Sb,p[l])}function _u(t){if(!Ht.Konva.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const iA={},f$={};Bp.Node.prototype._applyProps=A5;function p$(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),_u(t)}function g$(t,e,n){let i=Bp[t];i||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),i=Bp.Group);const r={},s={};for(var a in e){var o=a.slice(0,2)==="on";o?s[a]=e[a]:r[a]=e[a]}const l=new i(r);return A5(l,s),l}function m$(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function v$(t,e,n){return!1}function y$(t){return t}function x$(){return null}function b$(){return null}function w$(t,e,n,i){return f$}function _$(){}function S$(t){}function N$(t,e){return!1}function k$(){return iA}function C$(){return iA}const j$=setTimeout,A$=clearTimeout,P$=-1;function L$(t,e){return!1}const T$=!1,E$=!0,M$=!0;function R$(t,e){e.parent===t?e.moveToTop():t.add(e),_u(t)}function F$(t,e){e.parent===t?e.moveToTop():t.add(e),_u(t)}function rA(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),_u(t)}function D$(t,e,n){rA(t,e,n)}function I$(t,e){e.destroy(),e.off(Sb),_u(t)}function O$(t,e){e.destroy(),e.off(Sb),_u(t)}function B$(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function z$(t,e,n){}function U$(t,e,n,i,r){A5(t,r,i)}function V$(t){t.hide(),_u(t)}function H$(t){}function $$(t,e){(e.visible==null||e.visible)&&t.show()}function G$(t,e){}function W$(t){}function q$(){}const K$=()=>nA.DefaultEventPriority,X$=Object.freeze(Object.defineProperty({__proto__:null,appendChild:R$,appendChildToContainer:F$,appendInitialChild:p$,cancelTimeout:A$,clearContainer:W$,commitMount:z$,commitTextUpdate:B$,commitUpdate:U$,createInstance:g$,createTextInstance:m$,detachDeletedInstance:q$,finalizeInitialChildren:v$,getChildHostContext:C$,getCurrentEventPriority:K$,getPublicInstance:y$,getRootHostContext:k$,hideInstance:V$,hideTextInstance:H$,idlePriority:$0.unstable_IdlePriority,insertBefore:rA,insertInContainerBefore:D$,isPrimaryRenderer:T$,noTimeout:P$,now:$0.unstable_now,prepareForCommit:x$,preparePortalMount:b$,prepareUpdate:w$,removeChild:I$,removeChildFromContainer:O$,resetAfterCommit:_$,resetTextContent:S$,run:$0.unstable_runWithPriority,scheduleTimeout:j$,shouldDeprioritizeSubtree:N$,shouldSetTextContent:L$,supportsMutation:M$,unhideInstance:$$,unhideTextInstance:G$,warnsIfNotActing:E$},Symbol.toStringTag,{value:"Module"}));var Y$=Object.defineProperty,Q$=Object.defineProperties,J$=Object.getOwnPropertyDescriptors,v8=Object.getOwnPropertySymbols,Z$=Object.prototype.hasOwnProperty,eG=Object.prototype.propertyIsEnumerable,y8=(t,e,n)=>e in t?Y$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x8=(t,e)=>{for(var n in e||(e={}))Z$.call(e,n)&&y8(t,n,e[n]);if(v8)for(var n of v8(e))eG.call(e,n)&&y8(t,n,e[n]);return t},tG=(t,e)=>Q$(t,J$(e)),b8,w8;typeof window<"u"&&((b8=window.document)!=null&&b8.createElement||((w8=window.navigator)==null?void 0:w8.product)==="ReactNative")?J.useLayoutEffect:J.useEffect;function sA(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=t.child;for(;i;){const r=sA(i,e,n);if(r)return r;i=i.sibling}}function aA(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const _8=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=_8;return}return _8.apply(this,arguments)};const Nb=aA(J.createContext(null));class oA extends J.Component{render(){return J.createElement(Nb.Provider,{value:this._reactInternals},this.props.children)}}function nG(){const t=J.useContext(Nb);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=J.useId();return J.useMemo(()=>{for(const i of[t,t==null?void 0:t.alternate]){if(!i)continue;const r=sA(i,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[t,e])}function iG(){const t=nG(),[e]=J.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const r=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;r&&r!==Nb&&!e.has(r)&&e.set(r,J.useContext(aA(r)))}n=n.return}return e}function rG(){const t=iG();return J.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>J.createElement(e,null,J.createElement(n.Provider,tG(x8({},i),{value:t.get(n)}))),e=>J.createElement(oA,x8({},e))),[t])}function sG(t){const e=Er.useRef({});return Er.useLayoutEffect(()=>{e.current=t}),Er.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const aG=t=>{const e=Er.useRef(),n=Er.useRef(),i=Er.useRef(),r=sG(t),s=rG(),a=o=>{const{forwardedRef:l}=t;l&&(typeof l=="function"?l(o):l.current=o)};return Er.useLayoutEffect(()=>(n.current=new Bp.Stage({width:t.width,height:t.height,container:e.current}),a(n.current),i.current=z0.createContainer(n.current,nA.LegacyRoot,!1,null),z0.updateContainer(Er.createElement(s,{},t.children),i.current),()=>{Bp.isBrowser&&(a(null),z0.updateContainer(null,i.current,null),n.current.destroy())}),[]),Er.useLayoutEffect(()=>{a(n.current),A5(n.current,t,r),z0.updateContainer(Er.createElement(s,{},t.children),i.current,null)}),Er.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},oG="Layer",S8="Group",lG="Rect",cG="Circle",lA="Image",uG="Text",z0=c$(X$);z0.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Er.version,rendererPackageName:"react-konva"});const hG=Er.forwardRef((t,e)=>Er.createElement(oA,{},Er.createElement(aG,{...t,forwardedRef:e})));function cA({message:t="Khng tm thy trang bn yu cu"}){return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:h.jsxs("div",{className:"max-w-md w-full text-center",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("div",{className:"text-9xl font-bold text-indigo-600 mb-4",children:"404"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Oops! Trang khng tn ti"}),h.jsx("p",{className:"text-gray-600 mb-8",children:t})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs(On,{to:"/",className:"inline-flex items-center justify-center w-full px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 transition-colors",children:[h.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"V trang ch"]}),h.jsxs(On,{to:"/editor",className:"inline-flex items-center justify-center w-full px-6 py-3 border border-gray-300 text-base font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[h.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"To khung mi"]})]}),h.jsxs("div",{className:"mt-8 text-sm text-gray-500",children:[h.jsx("p",{children:"C th bn ang tm:"}),h.jsxs("div",{className:"mt-2 space-x-4",children:[h.jsx(On,{to:"/quockhanh",className:"text-indigo-600 hover:text-indigo-800",children:"Khung Quc Khnh"}),h.jsx(On,{to:"/trungthu",className:"text-indigo-600 hover:text-indigo-800",children:"Khung Trung Thu"}),h.jsx(On,{to:"/giangsinh",className:"text-indigo-600 hover:text-indigo-800",children:"Khung Ging Sinh"})]})]})]})})}const Wv="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),dG=1080,qv=500,fG=300,Gu=(t,e,n)=>Math.min(n,Math.max(e,t)),N8=(t,e,n=2)=>Math.abs(t-e)<=n,uA=()=>"anonymous";function k8({url:t,scale:e,rotation:n,flipX:i,dragBound:r}){const[s]=yj(t||"",uA());return s?h.jsx(lA,{image:s,x:0,y:0,offsetX:s.width/2,offsetY:s.height/2,draggable:!0,dragBoundFunc:r,scaleX:e*(i?-1:1),scaleY:e,rotation:n}):null}function pG({url:t,size:e}){const[n]=yj(t||"",uA());return n?h.jsx(lA,{image:n,x:-e/2,y:-e/2,width:e,height:e,listening:!1}):null}function gG({onPick:t,className:e=""}){const n=J.useRef(null),[i,r]=J.useState(!1),s=()=>{var o;return(o=n.current)==null?void 0:o.click()},a=o=>{const l=o==null?void 0:o[0];l&&t(l)};return h.jsxs("div",{role:"button",tabIndex:0,onClick:s,onKeyDown:o=>(o.key==="Enter"||o.key===" ")&&s(),onDrop:o=>{o.preventDefault(),r(!1),a(o.dataTransfer.files)},onDragOver:o=>{o.preventDefault(),r(!0)},onDragLeave:()=>r(!1),className:["w-full h-32 sm:h-36 rounded-xl border-2 border-dashed grid place-items-center","transition-colors select-none cursor-pointer",i?"border-indigo-400 bg-indigo-50":"border-gray-300 bg-white",e].join(" "),children:[h.jsx("input",{ref:n,type:"file",accept:"image/*",className:"hidden",onChange:o=>a(o.target.files)}),h.jsxs("div",{className:"text-center",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"mx-auto mb-2 h-7 w-7 text-slate-700",fill:"currentColor",children:h.jsx("path",{d:"M7 18a5 5 0 0 1-.75-9.94 6 6 0 0 1 11.5 1.63A4 4 0 1 1 18 18H7Zm6-7v4a1 1 0 1 1-2 0v-4H9.5a1 1 0 0 1-.7-1.7l2.5-2.5a1 1 0 0 1 1.4 0l2.5 2.5a1 1 0 0 1-.7 1.7H13Z"})}),h.jsxs("div",{className:"text-slate-900 font-semibold text-sm",children:["Ko th hoc ",h.jsx("span",{className:"text-indigo-600",children:"Bm vo y"})]}),h.jsx("div",{className:"text-slate-500 text-sm",children:" ng ti hnh nh"})]})]})}function C8(){const t=ca(),{alias:e}=S3(),[n]=R9();J.useEffect(()=>{const Te=n.get("alias");!e&&Te&&t(`/${Te}`,{replace:!0})},[e,n,t]);const i=e||"quockhanh",[r,s]=J.useState(null),[a,o]=J.useState(""),[l,c]=J.useState(!0),[d,g]=J.useState(""),[m,p]=J.useState(1),[x,b]=J.useState(0),[N,S]=J.useState(!1),[j,_]=J.useState(!1),[C,E]=J.useState(!1),[O,U]=J.useState("T ho Vit Nam"),[F,R]=J.useState(28),[M,T]=J.useState("#0f172a"),[D,$]=J.useState("Arial"),[X,ae]=J.useState("normal"),[ge,pe]=J.useState("normal"),te=[{value:"Arial",label:"Arial",category:"Sans-serif"},{value:"Helvetica",label:"Helvetica",category:"Sans-serif"},{value:"Verdana",label:"Verdana",category:"Sans-serif"},{value:"Tahoma",label:"Tahoma",category:"Sans-serif"},{value:"Trebuchet MS",label:"Trebuchet MS",category:"Sans-serif"},{value:"Calibri",label:"Calibri",category:"Sans-serif"},{value:"Times New Roman",label:"Times New Roman",category:"Serif"},{value:"Georgia",label:"Georgia",category:"Serif"},{value:"Palatino",label:"Palatino",category:"Serif"},{value:"Garamond",label:"Garamond",category:"Serif"},{value:"Bookman",label:"Bookman",category:"Serif"},{value:"Courier New",label:"Courier New",category:"Monospace"},{value:"Lucida Console",label:"Lucida Console",category:"Monospace"},{value:"Monaco",label:"Monaco",category:"Monospace"},{value:"Consolas",label:"Consolas",category:"Monospace"},{value:"Comic Sans MS",label:"Comic Sans MS",category:"Display"},{value:"Impact",label:"Impact",category:"Display"},{value:"Brush Script MT",label:"Brush Script MT",category:"Display"},{value:"Copperplate",label:"Copperplate",category:"Display"}],[Z,ue]=J.useState(!1),[Y,z]=J.useState(null),[q,ie]=J.useState(qv),ce=J.useRef(null);J.useEffect(()=>{const Te=new ResizeObserver(()=>{var ht;const Ge=((ht=ce.current)==null?void 0:ht.clientWidth)||qv+40,$e=Math.max(fG,Math.min(qv,Math.floor(Ge-40)));ie($e)});return ce.current&&Te.observe(ce.current),()=>Te.disconnect()},[]);const[he,K]=J.useState(!1),de=async()=>{try{await navigator.clipboard.writeText(Be),K(!0),setTimeout(()=>K(!1),1500)}catch(Te){console.error(Te),alert("Khng th sao chp lin kt.")}};J.useEffect(()=>{let Te=!0;return s(null),o(""),c(!0),XB(i).then(Ge=>{Te&&(s(Ge||null),Ge||o("Khng tm thy khung cho alias ny."),c(!1),Ge!=null&&Ge.id&&fetch(`${Wv}/api/Frames/view/${Ge.id}`,{method:"POST",credentials:"include"}).then($e=>$e.json()).then($e=>{console.log(" View counted:",$e),$e.luotXem!==void 0&&s(ht=>ht&&{...ht,clicks:$e.luotXem})}).catch($e=>console.error(" View count failed:",$e)))}).catch(()=>{Te&&(o("Khng ti c khung (overlay)."),c(!1))}),()=>{Te=!1}},[i]),J.useEffect(()=>{const Te=document.title;return document.title=`Editor  ${i}`,()=>{document.title=Te}},[i]),J.useEffect(()=>{g(""),p(1),b(0),S(!1),E(!1),_(!1)},[i]);const me=J.useMemo(()=>(r==null?void 0:r.overlay)||(r==null?void 0:r.thumb)||null,[r]),Ce=J.useRef(null),Le=J.useRef(null),ze=J.useRef(null),Be=typeof window<"u"?`${window.location.origin}/${i}`:"";J.useEffect(()=>{ue(!!d&&!!me)},[d,me]);const je=Te=>{var $e;const Ge=($e=Ce.current)==null?void 0:$e.container();Ge&&(Ge.style.cursor=Te)},le=J.useRef(null),jt=Te=>{if(!d)return;Te.evt.preventDefault();const Ge=Te.evt.deltaY>0;je(Ge?"zoom-out":"zoom-in"),clearTimeout(le.current),le.current=setTimeout(()=>je(C?"text":"grab"),120);const $e=Ge?.95:1.05;p(ht=>Gu(ht*$e,.2,3))};J.useEffect(()=>{const Te=Ge=>{Ge.target&&["INPUT","TEXTAREA"].includes(Ge.target.tagName)||(Ge.key==="["&&b($e=>$e-5),Ge.key==="]"&&b($e=>$e+5),(Ge.key==="+"||Ge.key==="=")&&p($e=>Gu(+($e+.05).toFixed(3),.2,3)),(Ge.key==="-"||Ge.key==="_")&&p($e=>Gu(+($e-.05).toFixed(3),.2,3)),Ge.key.toLowerCase()==="r"&&Ue(),Ge.key.toLowerCase()==="f"&&S($e=>!$e))};return window.addEventListener("keydown",Te),()=>window.removeEventListener("keydown",Te)},[]),J.useEffect(()=>{N8(x%360,0)&&(N8(x,0)||b(0))},[x]);const xt=Te=>{const Ge=q*.6;return{x:Gu(Te.x,-Ge,Ge),y:Gu(Te.y,-Ge,Ge)}},ut=async()=>{const Te=Ce.current;if(!Te)return;const Ge=dG/q;try{const $e=Te.toDataURL({pixelRatio:Ge,mimeType:"image/png",quality:1}),Ut=await(await fetch($e)).blob();if("showSaveFilePicker"in window)try{const at=await(await window.showSaveFilePicker({suggestedName:`${i}.png`,types:[{description:"PNG Image",accept:{"image/png":[".png"]}}]})).createWritable();if(await at.write(Ut),await at.close(),r!=null&&r.id){const et=await(await fetch(`${Wv}/api/Frames/download/${r.id}`,{method:"POST",credentials:"include"})).json();console.log(" Download counted:",et),et.luotTai!==void 0&&s(sn=>sn&&{...sn,uses:et.luotTai})}}catch{console.log(" User cancelled download");return}else{const dt=document.createElement("a");dt.href=$e,dt.download=`${i}.png`,document.body.appendChild(dt),dt.click(),dt.remove(),setTimeout(async()=>{if(r!=null&&r.id){const bt=await(await fetch(`${Wv}/api/Frames/download/${r.id}`,{method:"POST",credentials:"include"})).json();bt.luotTai!==void 0&&s(et=>et&&{...et,uses:bt.luotTai})}},500)}}catch($e){console.error("Save failed:",$e),alert("Khng th ti nh.")}},Ue=()=>{p(1),b(0),S(!1),E(!1)},Xe=!!d,qe=Te=>{if(!Te)return;const Ge=URL.createObjectURL(Te);Y&&URL.revokeObjectURL(Y),z(Ge),g(Ge)};J.useEffect(()=>()=>{Y&&URL.revokeObjectURL(Y)},[Y]);const Tt=Te=>{if(!Te)return"Mi ng";const Ge=new Date,$e=new Date(Te),ht=Ge.getTime()-$e.getTime(),Ut=Math.floor(ht/1e3),dt=Math.floor(Ut/60),at=Math.floor(dt/60),bt=Math.floor(at/24);if(bt===0)return at>0?`${at} gi trc`:dt>0?`${dt} pht trc`:Ut>0?`${Ut} giy trc`:"Va to";if(bt<=7)return`${bt} ngy trc`;const et=$e.getDate().toString().padStart(2,"0"),sn=($e.getMonth()+1).toString().padStart(2,"0"),en=$e.getFullYear();return`${et}/${sn}/${en}`};return l?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti khung..."})]})}):a&&!r?h.jsx(cA,{message:`Khng tm thy khung vi alias "${i}". Khung c th  b xa hoc khng tn ti.`}):h.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[h.jsx("h1",{className:"text-3xl font-extrabold text-center mb-3",children:(r==null?void 0:r.name)||i}),h.jsxs("div",{className:"flex items-center justify-center gap-3 mb-5",children:[h.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-blue-50 text-blue-700 rounded-full px-3 py-1.5 border border-blue-200",children:[h.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),h.jsx("span",{className:"font-bold text-sm",children:(r==null?void 0:r.clicks)||0}),h.jsx("span",{className:"text-xs",children:"lt xem"})]}),h.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-green-50 text-green-700 rounded-full px-3 py-1.5 border border-green-200",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),h.jsx("span",{className:"font-bold text-sm",children:(r==null?void 0:r.uses)||0}),h.jsx("span",{className:"text-xs",children:"lt ti"})]})]}),h.jsxs("div",{ref:ce,className:"max-w-[560px] mx-auto border-2 border-dashed border-gray-300 rounded-xl p-4 bg-white",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(hG,{ref:Ce,width:q,height:q,className:"rounded-md",onMouseEnter:()=>je(Xe?C?"text":"grab":"default"),onMouseLeave:()=>je("default"),onMouseDown:Te=>{var Ge,$e,ht,Ut;Xe&&(($e=(Ge=Te.target)==null?void 0:Ge.draggable)!=null&&$e.call(Ge)||(Ut=(ht=Te.target)==null?void 0:ht.attrs)!=null&&Ut.draggable)&&je("grabbing")},onMouseUp:()=>je(Xe?C?"text":"grab":"default"),onDragStart:()=>Xe&&je("grabbing"),onDragEnd:()=>je(Xe?C?"text":"grab":"default"),onWheel:jt,children:h.jsxs(oG,{children:[!Xe&&h.jsx(lG,{x:0,y:0,width:q,height:q,fill:"#f3f4f6"}),h.jsxs(S8,{x:q/2,y:q/2,children:[j?h.jsxs(h.Fragment,{children:[h.jsx(S8,{clipFunc:Te=>{Te.arc(0,0,q/2,0,Math.PI*2,!1)},children:Xe&&h.jsx(k8,{url:d,scale:m,rotation:x,flipX:N,dragBound:xt})}),h.jsx(cG,{x:0,y:0,radius:q/2,stroke:"#e5e7eb",strokeWidth:1})]}):Xe&&h.jsx(k8,{url:d,scale:m,rotation:x,flipX:N,dragBound:xt}),me&&h.jsx(pG,{url:me,size:q}),C&&Xe&&h.jsx(uG,{text:O,fontSize:F,fill:M,fontFamily:D,fontStyle:X,fontVariant:ge==="bold"?"bold":"normal",x:0,y:-q*.18,align:"center",width:q,offsetX:q/2,draggable:!0})]})]})},i)}),a&&h.jsx("p",{className:"mt-3 text-center text-sm text-amber-700 bg-amber-50 rounded-md px-3 py-2",children:a}),!Xe&&h.jsx("div",{className:"mt-4",children:h.jsx(gG,{onPick:qe})}),Xe&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("button",{onClick:()=>S(Te=>!Te),className:"px-3 py-1.5 rounded-md bg-slate-100 hover:bg-slate-200 text-sm flex items-center gap-2",children:[h.jsx("img",{src:"/icon/fliptheimage.png",alt:"Lt hnh",className:"w-4 h-4"}),h.jsx("span",{children:"Lt hnh"})]}),h.jsxs("button",{onClick:()=>E(Te=>!Te),className:`px-3 py-1.5 rounded-md text-sm flex items-center gap-2 ${C?"bg-indigo-600 text-white":"bg-slate-100 hover:bg-slate-200"}`,children:[h.jsx("img",{src:"/icon/text.png",alt:"Vn bn",className:"w-4 h-4"}),h.jsx("span",{children:"Vn bn"})]}),h.jsx("button",{onClick:()=>_(Te=>!Te),className:`px-3 py-1.5 rounded-md text-sm ${j?"bg-indigo-600 text-white":"bg-slate-100 hover:bg-slate-200"}`,title:"Bt/Tt mask trn",children:"Mt n trn"})]}),h.jsxs("button",{onClick:Ue,className:"px-3 py-1.5 rounded-md bg-slate-100 hover:bg-slate-200 text-sm flex items-center gap-2",children:[h.jsx("img",{src:"/icon/reset.png",alt:"Reset",className:"w-4 h-4"}),h.jsx("span",{children:"Reset"})]})]}),h.jsxs("div",{className:"mt-3 grid gap-3 text-sm",children:[h.jsxs("div",{className:"grid grid-cols-[auto,1fr,auto] items-center gap-2",children:[h.jsx("button",{onClick:()=>p(Te=>Gu(+(Te-.05).toFixed(3),.2,3)),className:"h-8 w-8 rounded-md border bg-white hover:bg-slate-50 flex items-center justify-center",title:"Thu nh",children:h.jsx("img",{src:"/icon/tru.png",alt:"Thu nh",className:"w-4 h-4"})}),h.jsx("input",{type:"range",min:"0.2",max:"3",step:"0.01",value:m,onChange:Te=>p(+Te.target.value),className:"slider-soft",style:{"--percent":`${(m-.2)/(3-.2)*100}%`}}),h.jsx("button",{onClick:()=>p(Te=>Gu(+(Te+.05).toFixed(3),.2,3)),className:"h-8 w-8 rounded-md border bg-white hover:bg-slate-50 flex items-center justify-center",title:"Phng to",children:h.jsx("img",{src:"/icon/cong.png",alt:"Phng to",className:"w-4 h-4"})})]}),h.jsxs("div",{className:"grid grid-cols-[auto,1fr,auto] items-center gap-2",children:[h.jsx("button",{onClick:()=>b(Te=>Te-5),className:"h-8 w-8 rounded-md border bg-white hover:bg-slate-50",title:"Xoay tri",children:""}),h.jsx("input",{type:"range",min:"-180",max:"180",step:"1",value:x,onChange:Te=>b(+Te.target.value),className:"slider-soft",style:{"--percent":`${(x- -180)/360*100}%`}}),h.jsx("button",{onClick:()=>b(Te=>Te+5),className:"h-8 w-8 rounded-md border bg-white hover:bg-slate-50",title:"Xoay phi",children:""})]})]}),h.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("input",{ref:Le,type:"file",accept:"image/*",className:"hidden",onChange:Te=>{var $e;const Ge=($e=Te.target.files)==null?void 0:$e[0];Ge&&qe(Ge)}}),h.jsxs("button",{onClick:()=>{var Te;return(Te=Le.current)==null?void 0:Te.click()},className:"px-3.5 py-1.5 rounded-md bg-slate-100 hover:bg-slate-200 font-medium text-sm flex items-center gap-2",children:[h.jsx("img",{src:"/icon/image.png",alt:"i hnh",className:"w-4 h-4"}),h.jsx("span",{children:"i hnh"})]})]}),h.jsxs("button",{onClick:ut,disabled:!Z,"aria-disabled":!Z,className:`px-3.5 py-1.5 rounded-md text-sm flex items-center gap-2 border transition-colors
                ${Z?"bg-slate-100 text-slate-700 hover:bg-slate-200 border-slate-200":"bg-slate-100 text-slate-400 border-slate-200 opacity-60 cursor-not-allowed"}`,title:Z?"Xut nh PNG":"Hy ch nh/khung sn sng",children:[h.jsx("img",{src:"/icon/download2.png",alt:"Ti v",className:`w-4 h-4 ${Z?"":"opacity-60"}`}),h.jsx("span",{className:"font-bold",children:"Ti v"})]})]}),C&&h.jsxs("div",{className:"mt-4 space-y-3",children:[h.jsx("input",{value:O,onChange:Te=>U(Te.target.value),placeholder:"Nhp ni dung vn bn...",className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all"}),h.jsx("select",{value:D,onChange:Te=>$(Te.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all",style:{fontFamily:D},children:te.map(Te=>h.jsxs("option",{value:Te.value,style:{fontFamily:Te.value},children:[Te.label," (",Te.category,")"]},Te.value))}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx("input",{type:"number",min:14,max:72,value:F,onChange:Te=>R(+Te.target.value),className:"rounded-lg border border-gray-300 px-3 py-2.5 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all",placeholder:"C ch"}),h.jsx("button",{onClick:()=>pe(Te=>Te==="bold"?"normal":"bold"),className:`rounded-lg border px-3 py-2.5 text-sm font-bold transition-all ${ge==="bold"?"bg-indigo-600 text-white border-indigo-600":"bg-white border-gray-300 hover:border-indigo-400"}`,title:"Ch m",children:"B"}),h.jsx("button",{onClick:()=>ae(Te=>Te==="italic"?"normal":"italic"),className:`rounded-lg border px-3 py-2.5 text-sm italic transition-all ${X==="italic"?"bg-indigo-600 text-white border-indigo-600":"bg-white border-gray-300 hover:border-indigo-400"}`,title:"Ch nghing",children:"I"})]}),h.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 min-w-fit",children:"Mu ch"}),h.jsx("input",{type:"color",value:M,onChange:Te=>T(Te.target.value),className:"h-10 w-16 rounded-md border border-gray-300 cursor-pointer"})]})]})]})]}),(r==null?void 0:r.owner)&&h.jsx("div",{className:"mt-8 mb-6 flex flex-col items-center",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 max-w-sm w-full",children:h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("img",{src:r.owner.avatar||"/icon/default-avatar.png",alt:r.owner.name,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200 mb-3 shadow-sm"}),h.jsx("div",{className:"font-bold text-lg text-slate-900 mb-2",children:r.owner.name}),r.ngayTao&&h.jsxs("div",{className:"flex items-center text-gray-500 text-sm bg-gray-50 rounded-full px-3 py-1.5",children:[h.jsxs("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6l4 2"})]}),Tt(r.ngayTao)]})]})})}),h.jsx("div",{ref:ze,className:"mt-6 flex flex-col items-center",children:h.jsxs("div",{className:"mt-4 w-full max-w-[520px] rounded-xl border border-dashed border-gray-300 p-3",children:[h.jsx("div",{className:"text-gray-600 font-medium mb-2 text-sm",children:"Chia s"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{readOnly:!0,value:Be,onClick:de,className:"w-full rounded-md border border-indigo-200 bg-indigo-50/40 px-3 py-2 pr-20 outline-none text-sm cursor-pointer",title:"Bm  sao chp lin kt"}),h.jsx("button",{onClick:de,className:"absolute right-1 top-1/2 -translate-y-1/2 px-2 py-1 rounded-md bg-indigo-600 text-white text-xs hover:bg-indigo-700",title:"Sao chp",children:""}),h.jsx("div",{"aria-live":"polite",className:`absolute right-12 top-1/2 -translate-y-1/2 text-xs
          transition-opacity duration-200
          ${he?"opacity-100":"opacity-0 pointer-events-none"}`,children:h.jsx("span",{className:"bg-emerald-50 text-emerald-700 border border-emerald-200 rounded px-2 py-0.5 shadow-sm",children:" sao chp "})})]}),h.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2",children:[h.jsx("img",{alt:"qr",width:"120",height:"120",src:`https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=${encodeURIComponent(Be)}`,className:"rounded-md"}),h.jsx("div",{className:"flex gap-2",children:h.jsx("button",{onClick:async()=>{const Te=`https://api.qrserver.com/v1/create-qr-code/?size=512x512&data=${encodeURIComponent(Be)}`;try{const $e=await(await fetch(Te)).blob(),ht=URL.createObjectURL($e),Ut=i?`qr-${i}.png`:"qr.png",dt=document.createElement("a");dt.href=ht,dt.download=Ut,document.body.appendChild(dt),dt.click(),dt.remove(),URL.revokeObjectURL(ht)}catch(Ge){alert("Khng ti c m QR"),console.error(Ge)}},className:"px-3 py-1.5 rounded-md bg-indigo-600 text-white hover:bg-indigo-700 text-sm",children:"Ti m QR"})})]})]})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function hg(t){return t+.5|0}const Uc=(t,e,n)=>Math.max(Math.min(t,n),e);function U0(t){return Uc(hg(t*2.55),0,255)}function eu(t){return Uc(hg(t*255),0,255)}function Ol(t){return Uc(hg(t/2.55)/100,0,1)}function j8(t){return Uc(hg(t*100),0,100)}const Fa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},r4=[..."0123456789ABCDEF"],mG=t=>r4[t&15],vG=t=>r4[(t&240)>>4]+r4[t&15],lm=t=>(t&240)>>4===(t&15),yG=t=>lm(t.r)&&lm(t.g)&&lm(t.b)&&lm(t.a);function xG(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Fa[t[1]]*17,g:255&Fa[t[2]]*17,b:255&Fa[t[3]]*17,a:e===5?Fa[t[4]]*17:255}:(e===7||e===9)&&(n={r:Fa[t[1]]<<4|Fa[t[2]],g:Fa[t[3]]<<4|Fa[t[4]],b:Fa[t[5]]<<4|Fa[t[6]],a:e===9?Fa[t[7]]<<4|Fa[t[8]]:255})),n}const bG=(t,e)=>t<255?e(t):"";function wG(t){var e=yG(t)?mG:vG;return t?"#"+e(t.r)+e(t.g)+e(t.b)+bG(t.a,e):void 0}const _G=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hA(t,e,n){const i=e*Math.min(n,1-n),r=(s,a=(s+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function SG(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function NG(t,e,n){const i=hA(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function kG(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function kb(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),a=Math.min(n,i,r),o=(s+a)/2;let l,c,d;return s!==a&&(d=s-a,c=o>.5?d/(2-s-a):d/(s+a),l=kG(n,i,r,d,s),l=l*60+.5),[l|0,c||0,o]}function Cb(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(eu)}function jb(t,e,n){return Cb(hA,t,e,n)}function CG(t,e,n){return Cb(NG,t,e,n)}function jG(t,e,n){return Cb(SG,t,e,n)}function dA(t){return(t%360+360)%360}function AG(t){const e=_G.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?U0(+e[5]):eu(+e[5]));const r=dA(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=CG(r,s,a):e[1]==="hsv"?i=jG(r,s,a):i=jb(r,s,a),{r:i[0],g:i[1],b:i[2],a:n}}function PG(t,e){var n=kb(t);n[0]=dA(n[0]+e),n=jb(n),t.r=n[0],t.g=n[1],t.b=n[2]}function LG(t){if(!t)return;const e=kb(t),n=e[0],i=j8(e[1]),r=j8(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Ol(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const A8={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},P8={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function TG(){const t={},e=Object.keys(P8),n=Object.keys(A8);let i,r,s,a,o;for(i=0;i<e.length;i++){for(a=o=e[i],r=0;r<n.length;r++)s=n[r],o=o.replace(s,A8[s]);s=parseInt(P8[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let cm;function EG(t){cm||(cm=TG(),cm.transparent=[0,0,0,0]);const e=cm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const MG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function RG(t){const e=MG.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?U0(a):Uc(a*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?U0(i):Uc(i,0,255)),r=255&(e[4]?U0(r):Uc(r,0,255)),s=255&(e[6]?U0(s):Uc(s,0,255)),{r:i,g:r,b:s,a:n}}}function FG(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ol(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Kv=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,yd=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function DG(t,e,n){const i=yd(Ol(t.r)),r=yd(Ol(t.g)),s=yd(Ol(t.b));return{r:eu(Kv(i+n*(yd(Ol(e.r))-i))),g:eu(Kv(r+n*(yd(Ol(e.g))-r))),b:eu(Kv(s+n*(yd(Ol(e.b))-s))),a:t.a+n*(e.a-t.a)}}function um(t,e,n){if(t){let i=kb(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=jb(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function fA(t,e){return t&&Object.assign(e||{},t)}function L8(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=eu(t[3]))):(e=fA(t,{r:0,g:0,b:0,a:1}),e.a=eu(e.a)),e}function IG(t){return t.charAt(0)==="r"?RG(t):AG(t)}class zp{constructor(e){if(e instanceof zp)return e;const n=typeof e;let i;n==="object"?i=L8(e):n==="string"&&(i=xG(e)||EG(e)||IG(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=fA(this._rgb);return e&&(e.a=Ol(e.a)),e}set rgb(e){this._rgb=L8(e)}rgbString(){return this._valid?FG(this._rgb):void 0}hexString(){return this._valid?wG(this._rgb):void 0}hslString(){return this._valid?LG(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const a=n===s?.5:n,o=2*a-1,l=i.a-r.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=DG(this._rgb,e._rgb,n)),this}clone(){return new zp(this.rgb)}alpha(e){return this._rgb.a=eu(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=hg(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return um(this._rgb,2,e),this}darken(e){return um(this._rgb,2,-e),this}saturate(e){return um(this._rgb,1,e),this}desaturate(e){return um(this._rgb,1,-e),this}rotate(e){return PG(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ll(){}const OG=(()=>{let t=0;return()=>t++})();function zn(t){return t==null}function tr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function on(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ss(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Go(t,e){return ss(t)?t:e}function nn(t,e){return typeof t>"u"?e:t}const BG=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Xn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Cn(t,e,n,i){let r,s,a;if(tr(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(on(t))for(a=Object.keys(t),s=a.length,r=0;r<s;r++)e.call(n,t[a[r]],a[r])}function Q1(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function J1(t){if(tr(t))return t.map(J1);if(on(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=J1(t[n[r]]);return e}return t}function pA(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function zG(t,e,n,i){if(!pA(t))return;const r=e[t],s=n[t];on(r)&&on(s)?Up(r,s,i):e[t]=J1(s)}function Up(t,e,n){const i=tr(e)?e:[e],r=i.length;if(!on(t))return t;n=n||{};const s=n.merger||zG;let a;for(let o=0;o<r;++o){if(a=i[o],!on(a))continue;const l=Object.keys(a);for(let c=0,d=l.length;c<d;++c)s(l[c],t,a,n)}return t}function rp(t,e){return Up(t,e,{merger:UG})}function UG(t,e,n){if(!pA(t))return;const i=e[t],r=n[t];on(i)&&on(r)?rp(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=J1(r))}const T8={"":t=>t,x:t=>t.x,y:t=>t.y};function VG(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function HG(t){const e=VG(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Z1(t,e){return(T8[e]||(T8[e]=HG(e)))(t)}function Ab(t){return t.charAt(0).toUpperCase()+t.slice(1)}const e2=t=>typeof t<"u",ou=t=>typeof t=="function",E8=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function $G(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const br=Math.PI,No=2*br,GG=No+br,t2=Number.POSITIVE_INFINITY,WG=br/180,bo=br/2,Wu=br/4,M8=br*2/3,gA=Math.log10,wf=Math.sign;function sp(t,e,n){return Math.abs(t-e)<n}function R8(t){const e=Math.round(t);t=sp(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(gA(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function qG(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function KG(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Vp(t){return!KG(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function XG(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function YG(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ch(t){return t*(br/180)}function QG(t){return t*(180/br)}function F8(t){if(!ss(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function JG(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*br&&(s+=No),{angle:s,distance:r}}function s4(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ZG(t,e){return(t-e+GG)%No-br}function Qo(t){return(t%No+No)%No}function mA(t,e,n,i){const r=Qo(t),s=Qo(e),a=Qo(n),o=Qo(s-r),l=Qo(a-r),c=Qo(r-s),d=Qo(r-a);return r===s||r===a||i&&s===a||o>l&&c<d}function Ua(t,e,n){return Math.max(e,Math.min(n,t))}function eW(t){return Ua(t,-32768,32767)}function Gd(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Pb(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const uh=(t,e,n,i)=>Pb(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),tW=(t,e,n)=>Pb(t,n,i=>t[i][e]>=n);function nW(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const vA=["push","pop","shift","splice","unshift"];function iW(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),vA.forEach(n=>{const i="_onData"+Ab(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...s)}),a}})})}function D8(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(vA.forEach(s=>{delete t[s]}),delete t._chartjs)}function rW(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const yA=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function xA(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,yA.call(window,()=>{i=!1,t.apply(e,n)}))}}function sW(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Lb=t=>t==="start"?"left":t==="end"?"right":"center",Zr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,aW=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function oW(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:g,max:m,minDefined:p,maxDefined:x}=a.getUserBounds();if(p){if(r=Math.min(uh(l,d,g).lo,n?i:uh(e,d,a.getPixelForValue(g)).lo),c){const b=l.slice(0,r+1).reverse().findIndex(N=>!zn(N[o.axis]));r-=Math.max(0,b)}r=Ua(r,0,i-1)}if(x){let b=Math.max(uh(l,a.axis,m,!0).hi+1,n?0:uh(e,d,a.getPixelForValue(m),!0).hi+1);if(c){const N=l.slice(b-1).findIndex(S=>!zn(S[o.axis]));b+=Math.max(0,N)}s=Ua(b,r,i)-r}else s=i-r}return{start:r,count:s}}function lW(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const hm=t=>t===0||t===1,I8=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*No/n)),O8=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*No/n)+1,ap={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*bo)+1,easeOutSine:t=>Math.sin(t*bo),easeInOutSine:t=>-.5*(Math.cos(br*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>hm(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>hm(t)?t:I8(t,.075,.3),easeOutElastic:t=>hm(t)?t:O8(t,.075,.3),easeInOutElastic(t){return hm(t)?t:t<.5?.5*I8(t*2,.1125,.45):.5+.5*O8(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ap.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ap.easeInBounce(t*2)*.5:ap.easeOutBounce(t*2-1)*.5+.5};function Tb(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function B8(t){return Tb(t)?t:new zp(t)}function Xv(t){return Tb(t)?t:new zp(t).saturate(.5).darken(.1).hexString()}const cW=["x","y","borderWidth","radius","tension"],uW=["color","borderColor","backgroundColor"];function hW(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:uW},numbers:{type:"number",properties:cW}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function dW(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const z8=new Map;function fW(t,e){e=e||{};const n=t+JSON.stringify(e);let i=z8.get(n);return i||(i=new Intl.NumberFormat(t,e),z8.set(n,i)),i}function bA(t,e,n){return fW(e,n).format(t)}const pW={values(t){return tr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=gW(t,n)}const a=gA(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),bA(t,i,l)}};function gW(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var wA={formatters:pW};function mW(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:wA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Sh=Object.create(null),a4=Object.create(null);function op(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Yv(t,e,n){return typeof e=="string"?Up(op(t,e),n):Up(op(t,""),e)}class vW{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Xv(r.backgroundColor),this.hoverBorderColor=(i,r)=>Xv(r.borderColor),this.hoverColor=(i,r)=>Xv(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Yv(this,e,n)}get(e){return op(this,e)}describe(e,n){return Yv(a4,e,n)}override(e,n){return Yv(Sh,e,n)}route(e,n,i,r){const s=op(this,e),a=op(this,i),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[r];return on(l)?Object.assign({},c,l):nn(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ii=new vW({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hW,dW,mW]);function yW(t){return!t||zn(t.size)||zn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function U8(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function qu(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function V8(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function o4(t,e,n,i){_A(t,e,n,i,null)}function _A(t,e,n,i,r){let s,a,o,l,c,d,g,m;const p=e.pointStyle,x=e.rotation,b=e.radius;let N=(x||0)*WG;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(N),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),p){default:r?t.ellipse(n,i,r/2,b,0,0,No):t.arc(n,i,b,0,No),t.closePath();break;case"triangle":d=r?r/2:b,t.moveTo(n+Math.sin(N)*d,i-Math.cos(N)*b),N+=M8,t.lineTo(n+Math.sin(N)*d,i-Math.cos(N)*b),N+=M8,t.lineTo(n+Math.sin(N)*d,i-Math.cos(N)*b),t.closePath();break;case"rectRounded":c=b*.516,l=b-c,a=Math.cos(N+Wu)*l,g=Math.cos(N+Wu)*(r?r/2-c:l),o=Math.sin(N+Wu)*l,m=Math.sin(N+Wu)*(r?r/2-c:l),t.arc(n-g,i-o,c,N-br,N-bo),t.arc(n+m,i-a,c,N-bo,N),t.arc(n+g,i+o,c,N,N+bo),t.arc(n-m,i+a,c,N+bo,N+br),t.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*b,d=r?r/2:l,t.rect(n-d,i-l,2*d,2*l);break}N+=Wu;case"rectRot":g=Math.cos(N)*(r?r/2:b),a=Math.cos(N)*b,o=Math.sin(N)*b,m=Math.sin(N)*(r?r/2:b),t.moveTo(n-g,i-o),t.lineTo(n+m,i-a),t.lineTo(n+g,i+o),t.lineTo(n-m,i+a),t.closePath();break;case"crossRot":N+=Wu;case"cross":g=Math.cos(N)*(r?r/2:b),a=Math.cos(N)*b,o=Math.sin(N)*b,m=Math.sin(N)*(r?r/2:b),t.moveTo(n-g,i-o),t.lineTo(n+g,i+o),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a);break;case"star":g=Math.cos(N)*(r?r/2:b),a=Math.cos(N)*b,o=Math.sin(N)*b,m=Math.sin(N)*(r?r/2:b),t.moveTo(n-g,i-o),t.lineTo(n+g,i+o),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a),N+=Wu,g=Math.cos(N)*(r?r/2:b),a=Math.cos(N)*b,o=Math.sin(N)*b,m=Math.sin(N)*(r?r/2:b),t.moveTo(n-g,i-o),t.lineTo(n+g,i+o),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a);break;case"line":a=r?r/2:Math.cos(N)*b,o=Math.sin(N)*b,t.moveTo(n-a,i-o),t.lineTo(n+a,i+o);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(N)*(r?r/2:b),i+Math.sin(N)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Hp(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function P5(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function L5(t){t.restore()}function xW(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function bW(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function wW(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),zn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function _W(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function SW(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function $p(t,e,n,i,r,s={}){const a=tr(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,wW(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&SW(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),zn(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),_W(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function l4(t,e){const{x:n,y:i,w:r,h:s,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*br,br,!0),t.lineTo(n,i+s-a.bottomLeft),t.arc(n+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,br,bo,!0),t.lineTo(n+r-a.bottomRight,i+s),t.arc(n+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,bo,0,!0),t.lineTo(n+r,i+a.topRight),t.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-bo,!0),t.lineTo(n+a.topLeft,i)}const NW=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kW=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function CW(t,e){const n=(""+t).match(NW);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const jW=t=>+t||0;function SA(t,e){const n={},i=on(e),r=i?Object.keys(e):e,s=on(t)?i?a=>nn(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=jW(s(a));return n}function AW(t){return SA(t,{top:"y",right:"x",bottom:"y",left:"x"})}function lp(t){return SA(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Wa(t){const e=AW(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function is(t,e){t=t||{},e=e||Ii.font;let n=nn(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=nn(t.style,e.style);i&&!(""+i).match(kW)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:nn(t.family,e.family),lineHeight:CW(nn(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:nn(t.weight,e.weight),string:""};return r.string=yW(r),r}function dm(t,e,n,i){let r,s,a;for(r=0,s=t.length;r<s;++r)if(a=t[r],a!==void 0&&a!==void 0)return a}function PW(t,e,n){const{min:i,max:r}=t,s=BG(e,(r-i)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function Oh(t,e){return Object.assign(Object.create(t),e)}function Eb(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=jA("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:o=>Eb([o,...t],e,s,i)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return kA(o,l,()=>IW(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return $8(o).includes(l)},ownKeys(o){return $8(o)},set(o,l,c){const d=o._storage||(o._storage=r());return o[l]=d[l]=c,delete o._keys,!0}})}function _f(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:NA(t,i),setContext:s=>_f(t,s,n,i),override:s=>_f(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return kA(s,a,()=>TW(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function NA(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:ou(n)?n:()=>n,isIndexable:ou(i)?i:()=>i}}const LW=(t,e)=>t?t+Ab(e):e,Mb=(t,e)=>on(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function kA(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function TW(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=t;let o=i[e];return ou(o)&&a.isScriptable(e)&&(o=EW(e,o,t,n)),tr(o)&&o.length&&(o=MW(e,o,t,a.isIndexable)),Mb(e,o)&&(o=_f(o,r,s&&s[e],a)),o}function EW(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||i);return o.delete(t),Mb(t,l)&&(l=Rb(r._scopes,r,t,l)),l}function MW(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(on(e[0])){const l=e,c=r._scopes.filter(d=>d!==l);e=[];for(const d of l){const g=Rb(c,r,t,d);e.push(_f(g,s,a&&a[t],o))}}return e}function CA(t,e,n){return ou(t)?t(e,n):t}const RW=(t,e)=>t===!0?e:typeof t=="string"?Z1(e,t):void 0;function FW(t,e,n,i,r){for(const s of e){const a=RW(n,s);if(a){t.add(a);const o=CA(a._fallback,n,r);if(typeof o<"u"&&o!==n&&o!==i)return o}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function Rb(t,e,n,i){const r=e._rootScopes,s=CA(e._fallback,n,i),a=[...t,...r],o=new Set;o.add(i);let l=H8(o,a,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=H8(o,a,s,l,i),l===null)?!1:Eb(Array.from(o),[""],r,s,()=>DW(e,n,i))}function H8(t,e,n,i,r){for(;n;)n=FW(t,e,n,i,r);return n}function DW(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return tr(r)&&on(n)?n:r||{}}function IW(t,e,n,i){let r;for(const s of e)if(r=jA(LW(s,t),n),typeof r<"u")return Mb(t,r)?Rb(n,i,t,r):r}function jA(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function $8(t){let e=t._keys;return e||(e=t._keys=OW(t._scopes)),e}function OW(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const BW=Number.EPSILON||1e-14,Sf=(t,e)=>e<t.length&&!t[e].skip&&t[e],AA=t=>t==="x"?"y":"x";function zW(t,e,n,i){const r=t.skip?e:t,s=e,a=n.skip?e:n,o=s4(s,r),l=s4(a,s);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const g=i*c,m=i*d;return{previous:{x:s.x-g*(a.x-r.x),y:s.y-g*(a.y-r.y)},next:{x:s.x+m*(a.x-r.x),y:s.y+m*(a.y-r.y)}}}function UW(t,e,n){const i=t.length;let r,s,a,o,l,c=Sf(t,0);for(let d=0;d<i-1;++d)if(l=c,c=Sf(t,d+1),!(!l||!c)){if(sp(e[d],0,BW)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],s=n[d+1]/e[d],o=Math.pow(r,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),n[d]=r*a*e[d],n[d+1]=s*a*e[d])}}function VW(t,e,n="x"){const i=AA(n),r=t.length;let s,a,o,l=Sf(t,0);for(let c=0;c<r;++c){if(a=o,o=l,l=Sf(t,c+1),!o)continue;const d=o[n],g=o[i];a&&(s=(d-a[n])/3,o[`cp1${n}`]=d-s,o[`cp1${i}`]=g-s*e[c]),l&&(s=(l[n]-d)/3,o[`cp2${n}`]=d+s,o[`cp2${i}`]=g+s*e[c])}}function HW(t,e="x"){const n=AA(e),i=t.length,r=Array(i).fill(0),s=Array(i);let a,o,l,c=Sf(t,0);for(a=0;a<i;++a)if(o=l,l=c,c=Sf(t,a+1),!!l){if(c){const d=c[e]-l[e];r[a]=d!==0?(c[n]-l[n])/d:0}s[a]=o?c?wf(r[a-1])!==wf(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}UW(t,r,s),VW(t,s,e)}function fm(t,e,n){return Math.max(Math.min(t,n),e)}function $W(t,e){let n,i,r,s,a,o=Hp(t[0],e);for(n=0,i=t.length;n<i;++n)a=s,s=o,o=n<i-1&&Hp(t[n+1],e),s&&(r=t[n],a&&(r.cp1x=fm(r.cp1x,e.left,e.right),r.cp1y=fm(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=fm(r.cp2x,e.left,e.right),r.cp2y=fm(r.cp2y,e.top,e.bottom)))}function GW(t,e,n,i,r){let s,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")HW(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=zW(c,o,t[Math.min(s+1,a-(i?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&$W(t,n)}function Fb(){return typeof window<"u"&&typeof document<"u"}function Db(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function n2(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const T5=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function WW(t,e){return T5(t).getPropertyValue(e)}const qW=["top","right","bottom","left"];function ph(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=qW[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const KW=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function XW(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let a=!1,o,l;if(KW(r,s,t.target))o=r,l=s;else{const c=e.getBoundingClientRect();o=i.clientX-c.left,l=i.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function eh(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=T5(n),s=r.boxSizing==="border-box",a=ph(r,"padding"),o=ph(r,"border","width"),{x:l,y:c,box:d}=XW(t,n),g=a.left+(d&&o.left),m=a.top+(d&&o.top);let{width:p,height:x}=e;return s&&(p-=a.width+o.width,x-=a.height+o.height),{x:Math.round((l-g)/p*n.width/i),y:Math.round((c-m)/x*n.height/i)}}function YW(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&Db(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),o=T5(s),l=ph(o,"border","width"),c=ph(o,"padding");e=a.width-c.width-l.width,n=a.height-c.height-l.height,i=n2(o.maxWidth,s,"clientWidth"),r=n2(o.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||t2,maxHeight:r||t2}}const Vc=t=>Math.round(t*10)/10;function QW(t,e,n,i){const r=T5(t),s=ph(r,"margin"),a=n2(r.maxWidth,t,"clientWidth")||t2,o=n2(r.maxHeight,t,"clientHeight")||t2,l=YW(t,e,n);let{width:c,height:d}=l;if(r.boxSizing==="content-box"){const m=ph(r,"border","width"),p=ph(r,"padding");c-=p.width+m.width,d-=p.height+m.height}return c=Math.max(0,c-s.width),d=Math.max(0,i?c/i:d-s.height),c=Vc(Math.min(c,a,l.maxWidth)),d=Vc(Math.min(d,o,l.maxHeight)),c&&!d&&(d=Vc(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&d>l.height&&(d=l.height,c=Vc(Math.floor(d*i))),{width:c,height:d}}function G8(t,e,n){const i=e||1,r=Vc(t.height*i),s=Vc(t.width*i);t.height=Vc(t.height),t.width=Vc(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(t.currentDevicePixelRatio=i,a.height=r,a.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const JW=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Fb()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function W8(t,e){const n=WW(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function th(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function ZW(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function eq(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=th(t,r,n),o=th(r,s,n),l=th(s,e,n),c=th(a,o,n),d=th(o,l,n);return th(c,d,n)}const tq=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},nq=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function tf(t,e,n){return t?tq(e,n):nq()}function PA(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function LA(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function TA(t){return t==="angle"?{between:mA,compare:ZG,normalize:Qo}:{between:Gd,compare:(e,n)=>e-n,normalize:e=>e}}function q8({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function iq(t,e,n){const{property:i,start:r,end:s}=n,{between:a,normalize:o}=TA(i),l=e.length;let{start:c,end:d,loop:g}=t,m,p;if(g){for(c+=l,d+=l,m=0,p=l;m<p&&a(o(e[c%l][i]),r,s);++m)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:g,style:t.style}}function EA(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,a=e.length,{compare:o,between:l,normalize:c}=TA(i),{start:d,end:g,loop:m,style:p}=iq(t,e,n),x=[];let b=!1,N=null,S,j,_;const C=()=>l(r,_,S)&&o(r,_)!==0,E=()=>o(s,S)===0||l(s,_,S),O=()=>b||C(),U=()=>!b||E();for(let F=d,R=d;F<=g;++F)j=e[F%a],!j.skip&&(S=c(j[i]),S!==_&&(b=l(S,r,s),N===null&&O()&&(N=o(S,r)===0?F:R),N!==null&&U()&&(x.push(q8({start:N,end:F,loop:m,count:a,style:p})),N=null),R=F,_=S));return N!==null&&x.push(q8({start:N,end:g,loop:m,count:a,style:p})),x}function MA(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=EA(i[r],t.points,e);s.length&&n.push(...s)}return n}function rq(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function sq(t,e,n,i){const r=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?o.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%r,end:a%r,loop:i}),s}function aq(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:a,end:o}=rq(n,r,s,i);if(i===!0)return K8(t,[{start:a,end:o,loop:s}],n,e);const l=o<a?o+r:o,c=!!t._fullLoop&&a===0&&o===r-1;return K8(t,sq(n,a,l,c),n,e)}function K8(t,e,n,i){return!i||!i.setContext||!n?e:oq(t,e,n,i)}function oq(t,e,n,i){const r=t._chart.getContext(),s=X8(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,c=[];let d=s,g=e[0].start,m=g;function p(x,b,N,S){const j=o?-1:1;if(x!==b){for(x+=l;n[x%l].skip;)x-=j;for(;n[b%l].skip;)b+=j;x%l!==b%l&&(c.push({start:x%l,end:b%l,loop:N,style:S}),d=S,g=b%l)}}for(const x of e){g=o?g:x.start;let b=n[g%l],N;for(m=g+1;m<=x.end;m++){const S=n[m%l];N=X8(i.setContext(Oh(r,{type:"segment",p0:b,p1:S,p0DataIndex:(m-1)%l,p1DataIndex:m%l,datasetIndex:a}))),lq(N,d)&&p(g,m-1,x.loop,d),b=S,d=N}g<m-1&&p(g,m-1,x.loop,d)}return c}function X8(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function lq(t,e){if(!e)return!1;const n=[],i=function(r,s){return Tb(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function pm(t,e,n){return t.options.clip?t[n]:e[n]}function cq(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:pm(n,e,"left"),right:pm(n,e,"right"),top:pm(i,e,"top"),bottom:pm(i,e,"bottom")}:e}function RA(t,e){const n=e._clip;if(n.disabled)return!1;const i=cq(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class uq{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],a=n.duration;s.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=yA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Rl=new uq;const Y8="transparent",hq={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=B8(t||Y8),r=i.valid&&B8(e||Y8);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class dq{constructor(e,n,i,r){const s=n[i];r=dm([e.to,r,s,e.from]);const a=dm([e.from,s,r]);this._active=!0,this._fn=e.fn||hq[e.type||typeof a],this._easing=ap[e.easing]||ap.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=dm([e.to,n,r,e.from]),this._from=dm([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||n<i),!this._active){this._target[r]=o,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class FA{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!on(e))return;const n=Object.keys(Ii.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!on(s))return;const a={};for(const o of n)a[o]=s[o];(tr(s.properties)&&s.properties||[r]).forEach(o=>{(o===r||!i.has(o))&&i.set(o,a)})})}_animateOptions(e,n){const i=n.options,r=pq(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&fq(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const d=n[c];let g=s[c];const m=i.get(c);if(g)if(m&&g.active()){g.update(m,d,o);continue}else g.cancel();if(!m||!m.duration){e[c]=d;continue}s[c]=g=new dq(m,e,c,d),r.push(g)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Rl.add(this._chart,i),!0}}function fq(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function pq(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Q8(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function gq(t,e,n){if(n===!1)return!1;const i=Q8(t,n),r=Q8(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function mq(t){let e,n,i,r;return on(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function DA(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function J8(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let a,o,l,c;if(e===null)return;let d=!1;for(a=0,o=r.length;a<o;++a){if(l=+r[a],l===n){if(d=!0,i.all)continue;break}c=t.values[l],ss(c)&&(s||e===0||wf(e)===wf(c))&&(e+=c)}return!d&&!i.all?0:e}function vq(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,d;for(l=0,c=a.length;l<c;++l)d=a[l],o[l]={[r]:d,[s]:t[d]};return o}function Qv(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function yq(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function xq(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function bq(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Z8(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function eS(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=i,l=s.axis,c=a.axis,d=yq(s,a,i),g=e.length;let m;for(let p=0;p<g;++p){const x=e[p],{[l]:b,[c]:N}=x,S=x._stacks||(x._stacks={});m=S[c]=bq(r,d,b),m[o]=N,m._top=Z8(m,a,!0,i.type),m._bottom=Z8(m,a,!1,i.type);const j=m._visualValues||(m._visualValues={});j[o]=N}}function Jv(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function wq(t,e){return Oh(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function _q(t,e,n){return Oh(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function N0(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Zv=t=>t==="reset"||t==="none",tS=(t,e)=>e?t:Object.assign({},t),Sq=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:DA(n,!0),values:null};class cp{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Qv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&N0(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(g,m,p,x)=>g==="x"?m:g==="r"?x:p,s=n.xAxisID=nn(i.xAxisID,Jv(e,"x")),a=n.yAxisID=nn(i.yAxisID,Jv(e,"y")),o=n.rAxisID=nn(i.rAxisID,Jv(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,a,o),d=n.vAxisID=r(l,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&D8(this._data,this),e._stacked&&N0(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(on(n)){const r=this._cachedMeta;this._data=vq(n,r)}else if(i!==n){if(i){D8(i,this);const r=this._cachedMeta;N0(r),r._parsed=[]}n&&Object.isExtensible(n)&&iW(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Qv(n.vScale,n),n.stack!==i.stack&&(r=!0,N0(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(eS(this,n._parsed),n._stacked=Qv(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,o=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],d,g,m;if(this._parsing===!1)i._parsed=r,i._sorted=!0,m=r;else{tr(r[e])?m=this.parseArrayData(i,r,e,n):on(r[e])?m=this.parseObjectData(i,r,e,n):m=this.parsePrimitiveData(i,r,e,n);const p=()=>g[o]===null||c&&g[o]<c[o];for(d=0;d<n;++d)i._parsed[d+e]=g=m[d],l&&(p()&&(l=!1),c=g);i._sorted=l}a&&eS(this,m)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),d=s===a,g=new Array(r);let m,p,x;for(m=0,p=r;m<p;++m)x=m+i,g[m]={[o]:d||s.parse(c[x],x),[l]:a.parse(n[x],x)};return g}parseArrayData(e,n,i,r){const{xScale:s,yScale:a}=e,o=new Array(r);let l,c,d,g;for(l=0,c=r;l<c;++l)d=l+i,g=n[d],o[l]={x:s.parse(g[0],d),y:a.parse(g[1],d)};return o}parseObjectData(e,n,i,r){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let d,g,m,p;for(d=0,g=r;d<g;++d)m=d+i,p=n[m],c[d]={x:s.parse(Z1(p,o),m),y:a.parse(Z1(p,l),m)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,a=n[e.axis],o={keys:DA(r,!0),values:n._stacks[e.axis]._visualValues};return J8(o,a,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let a=s===null?NaN:s;const o=r&&i._stacks[n.axis];r&&o&&(r.values=o,a=J8(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,o=this._getOtherScale(e),l=Sq(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:g}=xq(o);let m,p;function x(){p=r[m];const b=p[o.axis];return!ss(p[e.axis])||d>b||g<b}for(m=0;m<a&&!(!x()&&(this.updateRangeFromParsed(c,e,p,l),s));++m);if(s){for(m=a-1;m>=0;--m)if(!x()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=n.length;r<s;++r)a=n[r][e.axis],ss(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=mq(nn(this.options.clip,gq(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(e,s,o,l),d=o;d<o+l;++d){const g=r[d];g.hidden||(g.active&&c?a.push(g):g.draw(e,s))}for(d=0;d<a.length;++d)a[d].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=_q(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=wq(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,a=e+"-"+n,o=s[a],l=this.enableOptionSharing&&e2(i);if(o)return tS(o,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),g=r?[`${e}Hover`,"hover",e,""]:[e,""],m=c.getOptionScopes(this.getDataset(),d),p=Object.keys(Ii.elements[e]),x=()=>this.getContext(i,r,n),b=c.resolveNamedOptions(m,p,x,g);return b.$shared&&(b.$shared=l,s[a]=Object.freeze(tS(b,l))),b}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let l;if(r.options.animation!==!1){const d=this.chart.config,g=d.datasetAnimationScopeKeys(this._type,n),m=d.getOptionScopes(this.getDataset(),g);l=d.createResolver(m,this.getContext(e,i,n))}const c=new FA(r,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Zv(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:a}}updateElement(e,n,i,r){Zv(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Zv(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const r=i.length,s=n.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,a=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&N0(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ze(cp,"defaults",{}),Ze(cp,"datasetElementType",null),Ze(cp,"dataElementType",null);class Zm extends cp{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=oW(n,r,a);this._drawStart=o,this._drawCount=l,lW(n)&&(o=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:c},e),this.updateElements(r,o,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:g}=this._getSharedOptions(n,r),m=a.axis,p=o.axis,{spanGaps:x,segment:b}=this.options,N=Vp(x)?x:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||s||r==="none",j=n+i,_=e.length;let C=n>0&&this.getParsed(n-1);for(let E=0;E<_;++E){const O=e[E],U=S?O:{};if(E<n||E>=j){U.skip=!0;continue}const F=this.getParsed(E),R=zn(F[p]),M=U[m]=a.getPixelForValue(F[m],E),T=U[p]=s||R?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,F,l):F[p],E);U.skip=isNaN(M)||isNaN(T)||R,U.stop=E>0&&Math.abs(F[m]-C[m])>N,b&&(U.parsed=F,U.raw=c.data[E]),g&&(U.options=d||this.resolveDataElementOptions(E,O.active?"active":r)),S||this.updateElement(O,E,U,r),C=F}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ze(Zm,"id","line"),Ze(Zm,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ze(Zm,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ku(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ib{constructor(e){Ze(this,"options");this.options=e||{}}static override(e){Object.assign(Ib.prototype,e)}init(){}formats(){return Ku()}parse(){return Ku()}format(){return Ku()}add(){return Ku()}diff(){return Ku()}startOf(){return Ku()}endOf(){return Ku()}}var Nq={_date:Ib};function kq(t,e,n,i){const{controller:r,data:s,_sorted:a}=t,o=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?tW:uh;if(i){if(r._sharedOptions){const d=s[0],g=typeof d.getRange=="function"&&d.getRange(e);if(g){const m=c(s,e,n-g),p=c(s,e,n+g);return{lo:m.lo,hi:p.hi}}}}else{const d=c(s,e,n);if(l){const{vScale:g}=r._cachedMeta,{_parsed:m}=t,p=m.slice(0,d.lo+1).reverse().findIndex(b=>!zn(b[g.axis]));d.lo-=Math.max(0,p);const x=m.slice(d.hi).findIndex(b=>!zn(b[g.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:s.length-1}}function E5(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:d}=s[o],{lo:g,hi:m}=kq(s[o],e,a,r);for(let p=g;p<=m;++p){const x=d[p];x.skip||i(x,c,p)}}}function Cq(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function ey(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||E5(t,n,e,function(o,l,c){!r&&!Hp(o,t.chartArea,0)||o.inRange(e.x,e.y,i)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function jq(t,e,n,i){let r=[];function s(a,o,l){const{startAngle:c,endAngle:d}=a.getProps(["startAngle","endAngle"],i),{angle:g}=JG(a,{x:e.x,y:e.y});mA(g,c,d)&&r.push({element:a,datasetIndex:o,index:l})}return E5(t,n,e,s),r}function Aq(t,e,n,i,r,s){let a=[];const o=Cq(n);let l=Number.POSITIVE_INFINITY;function c(d,g,m){const p=d.inRange(e.x,e.y,r);if(i&&!p)return;const x=d.getCenterPoint(r);if(!(!!s||t.isPointInArea(x))&&!p)return;const N=o(e,x);N<l?(a=[{element:d,datasetIndex:g,index:m}],l=N):N===l&&a.push({element:d,datasetIndex:g,index:m})}return E5(t,n,e,c),a}function ty(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?jq(t,e,n,r):Aq(t,e,n,i,r,s)}function nS(t,e,n,i,r){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return E5(t,n,e,(l,c,d)=>{l[a]&&l[a](e[n],r)&&(s.push({element:l,datasetIndex:c,index:d}),o=o||l.inRange(e.x,e.y,r))}),i&&!o?[]:s}var Pq={modes:{index(t,e,n,i){const r=eh(e,t),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?ey(t,r,s,i,a):ty(t,r,s,!1,i,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=o[0].index,g=c.data[d];g&&!g.skip&&l.push({element:g,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,i){const r=eh(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?ey(t,r,s,i,a):ty(t,r,s,!1,i,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let d=0;d<c.length;++d)o.push({element:c[d],datasetIndex:l,index:d})}return o},point(t,e,n,i){const r=eh(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return ey(t,r,s,i,a)},nearest(t,e,n,i){const r=eh(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return ty(t,r,s,n.intersect,i,a)},x(t,e,n,i){const r=eh(e,t);return nS(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=eh(e,t);return nS(t,r,"y",n.intersect,i)}}};const IA=["left","top","right","bottom"];function k0(t,e){return t.filter(n=>n.pos===e)}function iS(t,e){return t.filter(n=>IA.indexOf(n.pos)===-1&&n.box.axis===e)}function C0(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function Lq(t){const e=[];let n,i,r,s,a,o;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:a,stackWeight:o=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:o});return e}function Tq(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!IA.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function Eq(t,e){const n=Tq(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,c=n[o.stack],d=c&&o.stackWeight/c.weight;o.horizontal?(o.width=d?d*i:l&&e.availableWidth,o.height=r):(o.width=i,o.height=d?d*r:l&&e.availableHeight)}return n}function Mq(t){const e=Lq(t),n=C0(e.filter(c=>c.box.fullSize),!0),i=C0(k0(e,"left"),!0),r=C0(k0(e,"right")),s=C0(k0(e,"top"),!0),a=C0(k0(e,"bottom")),o=iS(e,"x"),l=iS(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(a).concat(o),chartArea:k0(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(a).concat(o)}}function rS(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function OA(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Rq(t,e,n,i){const{pos:r,box:s}=n,a=t.maxPadding;if(!on(r)){n.size&&(t[r]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?s.height:s.width),n.size=g.size/g.count,t[r]+=n.size}s.getPadding&&OA(a,s.getPadding());const o=Math.max(0,e.outerWidth-rS(a,t,"left","right")),l=Math.max(0,e.outerHeight-rS(a,t,"top","bottom")),c=o!==t.w,d=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function Fq(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Dq(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return i(t?["left","right"]:["top","bottom"])}function V0(t,e,n,i){const r=[];let s,a,o,l,c,d;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,Dq(o.horizontal,e));const{same:g,other:m}=Rq(e,n,o,i);c|=g&&r.length,d=d||m,l.fullSize||r.push(o)}return c&&V0(r,e,n,i)||d}function gm(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function sS(t,e,n,i){const r=n.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,c=i[o.stack]||{placed:0,weight:1},d=o.stackWeight/c.weight||1;if(o.horizontal){const g=e.w*d,m=c.size||l.height;e2(c.start)&&(a=c.start),l.fullSize?gm(l,r.left,a,n.outerWidth-r.right-r.left,m):gm(l,e.left+c.placed,a,g,m),c.start=a,c.placed+=g,a=l.bottom}else{const g=e.h*d,m=c.size||l.width;e2(c.start)&&(s=c.start),l.fullSize?gm(l,s,r.top,m,n.outerHeight-r.bottom-r.top):gm(l,s,e.top+c.placed,m,g),c.start=s,c.placed+=g,s=l.right}}e.x=s,e.y=a}var Va={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Wa(t.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(n-r.height,0),o=Mq(t.boxes),l=o.vertical,c=o.horizontal;Cn(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const d=l.reduce((b,N)=>N.box.options&&N.box.options.display===!1?b:b+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/d,hBoxMaxHeight:a/2}),m=Object.assign({},r);OA(m,Wa(i));const p=Object.assign({maxPadding:m,w:s,h:a,x:r.left,y:r.top},r),x=Eq(l.concat(c),g);V0(o.fullSize,p,g,x),V0(l,p,g,x),V0(c,p,g,x)&&V0(l,p,g,x),Fq(p),sS(o.leftAndTop,p,g,x),p.x+=p.w,p.y+=p.h,sS(o.rightAndBottom,p,g,x),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Cn(o.chartArea,b=>{const N=b.box;Object.assign(N,t.chartArea),N.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class BA{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Iq extends BA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const e1="$chartjs",Oq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},aS=t=>t===null||t==="";function Bq(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[e1]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",aS(r)){const s=W8(t,"width");s!==void 0&&(t.width=s)}if(aS(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=W8(t,"height");s!==void 0&&(t.height=s)}return t}const zA=JW?{passive:!0}:!1;function zq(t,e,n){t&&t.addEventListener(e,n,zA)}function Uq(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,zA)}function Vq(t,e){const n=Oq[t.type]||t.type,{x:i,y:r}=eh(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function i2(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Hq(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||i2(o.addedNodes,i),a=a&&!i2(o.removedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function $q(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||i2(o.removedNodes,i),a=a&&!i2(o.addedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Gp=new Map;let oS=0;function UA(){const t=window.devicePixelRatio;t!==oS&&(oS=t,Gp.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Gq(t,e){Gp.size||window.addEventListener("resize",UA),Gp.set(t,e)}function Wq(t){Gp.delete(t),Gp.size||window.removeEventListener("resize",UA)}function qq(t,e,n){const i=t.canvas,r=i&&Db(i);if(!r)return;const s=xA((o,l)=>{const c=r.clientWidth;n(o,l),c<r.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||s(c,d)});return a.observe(r),Gq(t,s),a}function ny(t,e,n){n&&n.disconnect(),e==="resize"&&Wq(t)}function Kq(t,e,n){const i=t.canvas,r=xA(s=>{t.ctx!==null&&n(Vq(s,t))},t);return zq(i,e,r),r}class Xq extends BA{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Bq(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[e1])return!1;const i=n[e1].initial;["height","width"].forEach(s=>{const a=i[s];zn(a)?n.removeAttribute(s):n.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[e1],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:Hq,detach:$q,resize:qq}[n]||Kq;r[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:ny,detach:ny,resize:ny}[n]||Uq)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return QW(e,n,i,r)}isAttached(e){const n=e&&Db(e);return!!(n&&n.isConnected)}}function Yq(t){return!Fb()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Iq:Xq}var Rm;let Bh=(Rm=class{constructor(){Ze(this,"x");Ze(this,"y");Ze(this,"active",!1);Ze(this,"options");Ze(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Vp(this.x)&&Vp(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},Ze(Rm,"defaults",{}),Ze(Rm,"defaultRoutes"),Rm);function Qq(t,e){const n=t.options.ticks,i=Jq(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?eK(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>r)return tK(e,c,s,a/r),c;const d=Zq(s,e,r);if(a>0){let g,m;const p=a>1?Math.round((l-o)/(a-1)):null;for(mm(e,c,d,zn(p)?0:o-p,o),g=0,m=a-1;g<m;g++)mm(e,c,d,s[g],s[g+1]);return mm(e,c,d,l,zn(p)?e.length:l+p),c}return mm(e,c,d),c}function Jq(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function Zq(t,e,n){const i=nK(t),r=e.length/n;if(!i)return Math.max(r,1);const s=qG(i);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>r)return l}return Math.max(r,1)}function eK(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function tK(t,e,n,i){let r=0,s=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===s&&(e.push(t[a]),r++,s=n[r*i])}function mm(t,e,n,i,r){const s=nn(i,0),a=Math.min(nn(r,t.length),t.length);let o=0,l,c,d;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),d=s;d<0;)o++,d=Math.round(s+o*n);for(c=Math.max(s,0);c<a;c++)c===d&&(e.push(t[c]),o++,d=Math.round(s+o*n))}function nK(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const iK=t=>t==="left"?"right":t==="right"?"left":t,lS=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,cS=(t,e)=>Math.min(e||t,t);function uS(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function rK(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-o||l>a+o)))return l}function sK(t,e){Cn(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function j0(t){return t.drawTicks?t.tickLength:0}function hS(t,e){if(!t.display)return 0;const n=is(t.font,e),i=Wa(t.padding);return(tr(t.text)?t.text.length:1)*n.lineHeight+i.height}function aK(t,e){return Oh(t,{scale:e,type:"scale"})}function oK(t,e,n){return Oh(t,{tick:n,index:e,type:"tick"})}function lK(t,e,n){let i=Lb(t);return(n&&e!=="right"||!n&&e==="right")&&(i=iK(i)),i}function cK(t,e,n,i){const{top:r,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:d}=l;let g=0,m,p,x;const b=a-r,N=o-s;if(t.isHorizontal()){if(p=Zr(i,s,o),on(n)){const S=Object.keys(n)[0],j=n[S];x=d[S].getPixelForValue(j)+b-e}else n==="center"?x=(c.bottom+c.top)/2+b-e:x=lS(t,n,e);m=o-s}else{if(on(n)){const S=Object.keys(n)[0],j=n[S];p=d[S].getPixelForValue(j)-N+e}else n==="center"?p=(c.left+c.right)/2-N+e:p=lS(t,n,e);x=Zr(i,a,r),g=n==="left"?-bo:bo}return{titleX:p,titleY:x,maxWidth:m,rotation:g}}class If extends Bh{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Go(e,Number.POSITIVE_INFINITY),n=Go(n,Number.NEGATIVE_INFINITY),i=Go(i,Number.POSITIVE_INFINITY),r=Go(r,Number.NEGATIVE_INFINITY),{min:Go(e,i),max:Go(n,r),minDefined:ss(e),maxDefined:ss(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),s||(i=Math.max(i,a.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Go(n,Go(i,n)),max:Go(i,Go(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Xn(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=PW(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?uS(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Qq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Xn(this.options.afterUpdate,[this])}beforeSetDimensions(){Xn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Xn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Xn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Xn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Xn(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Xn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Xn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=cS(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let a=r,o,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),g=d.widest.width,m=d.highest.height,p=Ua(this.chart.width-g,0,this.maxWidth);o=e.offset?this.maxWidth/i:p/(i-1),g+6>o&&(o=p/(i-(e.offset?.5:1)),l=this.maxHeight-j0(e.grid)-n.padding-hS(e.title,this.chart.options.font),c=Math.sqrt(g*g+m*m),a=QG(Math.min(Math.asin(Ua((d.highest.height+6)/o,-1,1)),Math.asin(Ua(l/c,-1,1))-Math.asin(Ua(m/c,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Xn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Xn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=hS(r,n.options.font);if(o?(e.width=this.maxWidth,e.height=j0(s)+l):(e.height=this.maxHeight,e.width=j0(s)+l),i.display&&this.ticks.length){const{first:c,last:d,widest:g,highest:m}=this._getLabelSizes(),p=i.padding*2,x=ch(this.labelRotation),b=Math.cos(x),N=Math.sin(x);if(o){const S=i.mirror?0:N*g.width+b*m.height;e.height=Math.min(this.maxHeight,e.height+S+p)}else{const S=i.mirror?0:b*g.width+N*m.height;e.width=Math.min(this.maxWidth,e.width+S+p)}this._calculatePadding(c,d,N,b)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,p=0;l?c?(m=r*e.width,p=i*n.height):(m=i*e.height,p=r*n.width):s==="start"?p=n.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,p=n.width/2),this.paddingLeft=Math.max((m-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-g+a)*this.width/(this.width-g),0)}else{let d=n.height/2,g=e.height/2;s==="start"?(d=0,g=e.height):s==="end"&&(d=n.height,g=0),this.paddingTop=d+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Xn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)zn(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=uS(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(n/cS(n,i));let c=0,d=0,g,m,p,x,b,N,S,j,_,C,E;for(g=0;g<n;g+=l){if(x=e[g].label,b=this._resolveTickFontOptions(g),r.font=N=b.string,S=s[N]=s[N]||{data:{},gc:[]},j=b.lineHeight,_=C=0,!zn(x)&&!tr(x))_=U8(r,S.data,S.gc,_,x),C=j;else if(tr(x))for(m=0,p=x.length;m<p;++m)E=x[m],!zn(E)&&!tr(E)&&(_=U8(r,S.data,S.gc,_,E),C+=j);a.push(_),o.push(C),c=Math.max(_,c),d=Math.max(C,d)}sK(s,n);const O=a.indexOf(c),U=o.indexOf(d),F=R=>({width:a[R]||0,height:o[R]||0});return{first:F(0),last:F(n-1),widest:F(O),highest:F(U),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return eW(this._alignToPixels?qu(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=oK(this.getContext(),e,i))}return this.$context||(this.$context=aK(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ch(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*i>o*r?o/i:l/r:l*r<o*i?l/i:o/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:o}=r,l=s.offset,c=this.isHorizontal(),g=this.ticks.length+(l?1:0),m=j0(s),p=[],x=o.setContext(this.getContext()),b=x.display?x.width:0,N=b/2,S=function(ge){return qu(i,ge,b)};let j,_,C,E,O,U,F,R,M,T,D,$;if(a==="top")j=S(this.bottom),U=this.bottom-m,R=j-N,T=S(e.top)+N,$=e.bottom;else if(a==="bottom")j=S(this.top),T=e.top,$=S(e.bottom)-N,U=j+N,R=this.top+m;else if(a==="left")j=S(this.right),O=this.right-m,F=j-N,M=S(e.left)+N,D=e.right;else if(a==="right")j=S(this.left),M=e.left,D=S(e.right)-N,O=j+N,F=this.left+m;else if(n==="x"){if(a==="center")j=S((e.top+e.bottom)/2+.5);else if(on(a)){const ge=Object.keys(a)[0],pe=a[ge];j=S(this.chart.scales[ge].getPixelForValue(pe))}T=e.top,$=e.bottom,U=j+N,R=U+m}else if(n==="y"){if(a==="center")j=S((e.left+e.right)/2);else if(on(a)){const ge=Object.keys(a)[0],pe=a[ge];j=S(this.chart.scales[ge].getPixelForValue(pe))}O=j-N,F=O-m,M=e.left,D=e.right}const X=nn(r.ticks.maxTicksLimit,g),ae=Math.max(1,Math.ceil(g/X));for(_=0;_<g;_+=ae){const ge=this.getContext(_),pe=s.setContext(ge),te=o.setContext(ge),Z=pe.lineWidth,ue=pe.color,Y=te.dash||[],z=te.dashOffset,q=pe.tickWidth,ie=pe.tickColor,ce=pe.tickBorderDash||[],he=pe.tickBorderDashOffset;C=rK(this,_,l),C!==void 0&&(E=qu(i,C,Z),c?O=F=M=D=E:U=R=T=$=E,p.push({tx1:O,ty1:U,tx2:F,ty2:R,x1:M,y1:T,x2:D,y2:$,width:Z,color:ue,borderDash:Y,borderDashOffset:z,tickWidth:q,tickColor:ie,tickBorderDash:ce,tickBorderDashOffset:he}))}return this._ticksLength=g,this._borderValue=j,p}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:d,mirror:g}=s,m=j0(i.grid),p=m+d,x=g?-d:p,b=-ch(this.labelRotation),N=[];let S,j,_,C,E,O,U,F,R,M,T,D,$="middle";if(r==="top")O=this.bottom-x,U=this._getXAxisLabelAlignment();else if(r==="bottom")O=this.top+x,U=this._getXAxisLabelAlignment();else if(r==="left"){const ae=this._getYAxisLabelAlignment(m);U=ae.textAlign,E=ae.x}else if(r==="right"){const ae=this._getYAxisLabelAlignment(m);U=ae.textAlign,E=ae.x}else if(n==="x"){if(r==="center")O=(e.top+e.bottom)/2+p;else if(on(r)){const ae=Object.keys(r)[0],ge=r[ae];O=this.chart.scales[ae].getPixelForValue(ge)+p}U=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")E=(e.left+e.right)/2-p;else if(on(r)){const ae=Object.keys(r)[0],ge=r[ae];E=this.chart.scales[ae].getPixelForValue(ge)}U=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(l==="start"?$="top":l==="end"&&($="bottom"));const X=this._getLabelSizes();for(S=0,j=o.length;S<j;++S){_=o[S],C=_.label;const ae=s.setContext(this.getContext(S));F=this.getPixelForTick(S)+s.labelOffset,R=this._resolveTickFontOptions(S),M=R.lineHeight,T=tr(C)?C.length:1;const ge=T/2,pe=ae.color,te=ae.textStrokeColor,Z=ae.textStrokeWidth;let ue=U;a?(E=F,U==="inner"&&(S===j-1?ue=this.options.reverse?"left":"right":S===0?ue=this.options.reverse?"right":"left":ue="center"),r==="top"?c==="near"||b!==0?D=-T*M+M/2:c==="center"?D=-X.highest.height/2-ge*M+M:D=-X.highest.height+M/2:c==="near"||b!==0?D=M/2:c==="center"?D=X.highest.height/2-ge*M:D=X.highest.height-T*M,g&&(D*=-1),b!==0&&!ae.showLabelBackdrop&&(E+=M/2*Math.sin(b))):(O=F,D=(1-T)*M/2);let Y;if(ae.showLabelBackdrop){const z=Wa(ae.backdropPadding),q=X.heights[S],ie=X.widths[S];let ce=D-z.top,he=0-z.left;switch($){case"middle":ce-=q/2;break;case"bottom":ce-=q;break}switch(U){case"center":he-=ie/2;break;case"right":he-=ie;break;case"inner":S===j-1?he-=ie:S>0&&(he-=ie/2);break}Y={left:he,top:ce,width:ie+z.width,height:q+z.height,color:ae.backdropColor}}N.push({label:C,font:R,textOffset:D,options:{rotation:b,color:pe,strokeColor:te,strokeWidth:Z,textAlign:ue,textBaseline:$,translation:[E,O],backdrop:Y}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ch(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,d;return n==="left"?r?(d=this.right+s,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-o,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?r?(d=this.left+s,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+o,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,a=r.length;s<a;++s){const l=r[s];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const o=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,g,m;this.isHorizontal()?(c=qu(e,this.left,a)-a/2,d=qu(e,this.right,o)+o/2,g=m=l):(g=qu(e,this.top,a)-a/2,m=qu(e,this.bottom,o)+o/2,c=d=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,g),n.lineTo(d,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&P5(i,r);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,d=a.textOffset;$p(i,c,0,d,l,o)}r&&L5(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=is(i.font),a=Wa(i.padding),o=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||on(n)?(l+=a.bottom,tr(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=a.top;const{titleX:c,titleY:d,maxWidth:g,rotation:m}=cK(this,l,n,o);$p(e,i.text,0,0,s,{color:i.color,maxWidth:g,rotation:m,textAlign:lK(o,n,r),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=nn(e.grid&&e.grid.z,-1),r=nn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==If.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[i]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return is(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class vm{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;dK(n)&&(i=this.register(n));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,uK(e,a,i),this.override&&Ii.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Ii[r]&&(delete Ii[r][i],this.override&&delete Sh[i])}}function uK(t,e,n){const i=Up(Object.create(null),[n?Ii.get(n):{},Ii.get(e),t.defaults]);Ii.set(e,i),t.defaultRoutes&&hK(e,t.defaultRoutes),t.descriptors&&Ii.describe(e,t.descriptors)}function hK(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");Ii.route(s,r,l,o)})}function dK(t){return"id"in t&&"defaults"in t}class fK{constructor(){this.controllers=new vm(cp,"datasets",!0),this.elements=new vm(Bh,"elements"),this.plugins=new vm(Object,"plugins"),this.scales=new vm(If,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Cn(r,a=>{const o=i||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,i){const r=Ab(e);Xn(i["before"+r],[],i),n[e](i),Xn(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Yo=new fK;class pK{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,i,r){r=r||{};for(const s of e){const a=s.plugin,o=a[i],l=[n,r,s.options];if(Xn(o,l,a)===!1&&r.cancelable)return!1}return!0}invalidate(){zn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=nn(i.options&&i.options.plugins,{}),s=gK(i);return r===!1&&!n?[]:vK(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function gK(t){const e={},n=[],i=Object.keys(Yo.plugins.items);for(let s=0;s<i.length;s++)n.push(Yo.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function mK(t,e){return!e&&t===!1?null:t===!0?{}:t}function vK(t,{plugins:e,localIds:n},i,r){const s=[],a=t.getContext();for(const o of e){const l=o.id,c=mK(i[l],r);c!==null&&s.push({plugin:o,options:yK(t.config,{plugin:o,local:n[l]},c,a)})}return s}function yK(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(i,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function c4(t,e){const n=Ii.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function xK(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function bK(t,e){return t===e?"_index_":"_value_"}function dS(t){if(t==="x"||t==="y"||t==="r")return t}function wK(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function u4(t,...e){if(dS(t))return t;for(const n of e){const i=n.axis||wK(n.position)||t.length>1&&dS(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function fS(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function _K(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return fS(t,"x",n[0])||fS(t,"y",n[0])}return{}}function SK(t,e){const n=Sh[t.type]||{scales:{}},i=e.scales||{},r=c4(t.type,e),s=Object.create(null);return Object.keys(i).forEach(a=>{const o=i[a];if(!on(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=u4(a,o,_K(a,t),Ii.scales[o.type]),c=bK(l,r),d=n.scales||{};s[a]=rp(Object.create(null),[{axis:l},o,d[l],d[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||c4(o,e),d=(Sh[o]||{}).scales||{};Object.keys(d).forEach(g=>{const m=xK(g,l),p=a[m+"AxisID"]||m;s[p]=s[p]||Object.create(null),rp(s[p],[{axis:m},i[p],d[g]])})}),Object.keys(s).forEach(a=>{const o=s[a];rp(o,[Ii.scales[o.type],Ii.scale])}),s}function VA(t){const e=t.options||(t.options={});e.plugins=nn(e.plugins,{}),e.scales=SK(t,e)}function HA(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function NK(t){return t=t||{},t.data=HA(t.data),VA(t),t}const pS=new Map,$A=new Set;function ym(t,e){let n=pS.get(t);return n||(n=e(),pS.set(t,n),$A.add(n)),n}const A0=(t,e,n)=>{const i=Z1(e,n);i!==void 0&&t.add(i)};class kK{constructor(e){this._config=NK(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=HA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),VA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ym(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ym(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ym(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return ym(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),o=a.get(n);if(o)return o;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(g=>A0(l,e,g))),d.forEach(g=>A0(l,r,g)),d.forEach(g=>A0(l,Sh[s]||{},g)),d.forEach(g=>A0(l,Ii,g)),d.forEach(g=>A0(l,a4,g))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),$A.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Sh[n]||{},Ii.datasets[n]||{},{type:n},Ii,a4]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=gS(this._resolverCache,e,r);let l=a;if(jK(a,n)){s.$shared=!1,i=ou(i)?i():i;const c=this.createResolver(e,i,o);l=_f(a,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=gS(this._resolverCache,e,i);return on(n)?_f(s,n,void 0,r):s}}function gS(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:Eb(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},i.set(r,s)),s}const CK=t=>on(t)&&Object.getOwnPropertyNames(t).some(e=>ou(t[e]));function jK(t,e){const{isScriptable:n,isIndexable:i}=NA(t);for(const r of e){const s=n(r),a=i(r),o=(a||s)&&t[r];if(s&&(ou(o)||CK(o))||a&&tr(o))return!0}return!1}var AK="4.5.1";const PK=["top","bottom","left","right","chartArea"];function mS(t,e){return t==="top"||t==="bottom"||PK.indexOf(t)===-1&&e==="x"}function vS(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function yS(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Xn(n&&n.onComplete,[t],e)}function LK(t){const e=t.chart,n=e.options.animation;Xn(n&&n.onProgress,[t],e)}function GA(t){return Fb()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const t1={},xS=t=>{const e=GA(t);return Object.values(t1).filter(n=>n.canvas===e).pop()};function TK(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const a=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=a)}}}function EK(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var Lc;let M5=(Lc=class{static register(...e){Yo.add(...e),bS()}static unregister(...e){Yo.remove(...e),bS()}constructor(e,n){const i=this.config=new kK(n),r=GA(e),s=xS(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Yq(r)),this.platform.updateConfig(i);const o=this.platform.acquireContext(r,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,d=l&&l.width;if(this.id=OG(),this.ctx=o,this.canvas=l,this.width=d,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pK,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=sW(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],t1[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Rl.listen(this,"complete",yS),Rl.listen(this,"progress",LK),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return zn(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Yo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():G8(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return V8(this.canvas,this.ctx),this}stop(){return Rl.stop(this),this}resize(e,n){Rl.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,s),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,G8(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Xn(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Cn(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],l=u4(a,o),c=l==="r",d=l==="x";return{options:o,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),Cn(s,a=>{const o=a.options,l=o.id,c=u4(l,o),d=nn(o.type,a.dtype);(o.position===void 0||mS(o.position,c)!==mS(a.dposition))&&(o.position=a.dposition),r[l]=!0;let g=null;if(l in i&&i[l].type===d)g=i[l];else{const m=Yo.getScale(d);g=new m({id:l,type:d,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(o,e)}),Cn(r,(a,o)=>{a||delete i[o]}),Cn(i,a=>{Va.configure(this,a,a.options),Va.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(vS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let a=this.getDatasetMeta(i);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=o,a.indexAxis=s.indexAxis||c4(o,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const l=Yo.getController(o),{datasetElementType:c,dataElementType:d}=Ii.datasets[o];Object.assign(l,{dataElementType:Yo.getElement(d),datasetElementType:c&&Yo.getElement(c)}),a.controller=new l(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Cn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:g}=this.getDatasetMeta(c),m=!r&&s.indexOf(g)===-1;g.buildOrUpdateElements(m),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Cn(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vS("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Cn(this.scales,e=>{Va.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!E8(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const a=i==="_removeElements"?-s:s;TK(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!E8(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Va.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Cn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ou(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rl.has(this)?this.attached&&!Rl.running(this)&&Rl.start(this):(this.draw(),yS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const a=n[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=RA(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&P5(n,r),e.controller.draw(),r&&L5(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Hp(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=Pq.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Oh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);e2(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(o=>o.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Rl.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),V8(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete t1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},r=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};Cn(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{r("attach",o),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){Cn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Cn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,a,o,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Q1(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(d=>!c.some(g=>d.datasetIndex===g.datasetIndex&&d.index===g.index)),a=s(n,e),o=i?e:s(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,a=n,o=this._getActiveElements(e,r,i,a),l=$G(e),c=EK(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Xn(s.onHover,[e,o,this],this),l&&Xn(s.onClick,[e,o,this],this));const d=!Q1(o,r);return(d||n)&&(this._active=o,this._updateHoverStyles(o,r,n)),this._lastEvent=c,d}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},Ze(Lc,"defaults",Ii),Ze(Lc,"instances",t1),Ze(Lc,"overrides",Sh),Ze(Lc,"registry",Yo),Ze(Lc,"version",AK),Ze(Lc,"getChart",xS),Lc);function bS(){return Cn(M5.instances,t=>t._plugins.invalidate())}function WA(t,e,n=e){t.lineCap=nn(n.borderCapStyle,e.borderCapStyle),t.setLineDash(nn(n.borderDash,e.borderDash)),t.lineDashOffset=nn(n.borderDashOffset,e.borderDashOffset),t.lineJoin=nn(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=nn(n.borderWidth,e.borderWidth),t.strokeStyle=nn(n.borderColor,e.borderColor)}function MK(t,e,n){t.lineTo(n.x,n.y)}function RK(t){return t.stepped?xW:t.tension||t.cubicInterpolationMode==="monotone"?bW:MK}function qA(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:a,end:o}=e,l=Math.max(r,a),c=Math.min(s,o),d=r<a&&s<a||r>o&&s>o;return{count:i,start:l,loop:e.loop,ilen:c<l&&!d?i+c-l:c-l}}function FK(t,e,n,i){const{points:r,options:s}=e,{count:a,start:o,loop:l,ilen:c}=qA(r,n,i),d=RK(s);let{move:g=!0,reverse:m}=i||{},p,x,b;for(p=0;p<=c;++p)x=r[(o+(m?c-p:p))%a],!x.skip&&(g?(t.moveTo(x.x,x.y),g=!1):d(t,b,x,m,s.stepped),b=x);return l&&(x=r[(o+(m?c:0))%a],d(t,b,x,m,s.stepped)),!!l}function DK(t,e,n,i){const r=e.points,{count:s,start:a,ilen:o}=qA(r,n,i),{move:l=!0,reverse:c}=i||{};let d=0,g=0,m,p,x,b,N,S;const j=C=>(a+(c?o-C:C))%s,_=()=>{b!==N&&(t.lineTo(d,N),t.lineTo(d,b),t.lineTo(d,S))};for(l&&(p=r[j(0)],t.moveTo(p.x,p.y)),m=0;m<=o;++m){if(p=r[j(m)],p.skip)continue;const C=p.x,E=p.y,O=C|0;O===x?(E<b?b=E:E>N&&(N=E),d=(g*d+C)/++g):(_(),t.lineTo(C,E),x=O,g=0,b=N=E),S=E}_()}function h4(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?DK:FK}function IK(t){return t.stepped?ZW:t.tension||t.cubicInterpolationMode==="monotone"?eq:th}function OK(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),WA(t,e.options),t.stroke(r)}function BK(t,e,n,i){const{segments:r,options:s}=e,a=h4(e);for(const o of r)WA(t,s,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const zK=typeof Path2D=="function";function UK(t,e,n,i){zK&&!e.options.segment?OK(t,e,n,i):BK(t,e,n,i)}class Hc extends Bh{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;GW(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=aq(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,a=MA(this,{property:n,start:r,end:r});if(!a.length)return;const o=[],l=IK(i);let c,d;for(c=0,d=a.length;c<d;++c){const{start:g,end:m}=a[c],p=s[g],x=s[m];if(p===x){o.push(p);continue}const b=Math.abs((r-p[n])/(x[n]-p[n])),N=l(p,x,b,i.stepped);N[n]=e[n],o.push(N)}return o.length===1?o[0]:o}pathSegment(e,n,i){return h4(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=h4(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const o of r)a&=s(e,this,o,{start:n,end:n+i-1});return!!a}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),UK(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ze(Hc,"id","line"),Ze(Hc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ze(Hc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ze(Hc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function wS(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class n1 extends Bh{constructor(n){super();Ze(this,"parsed");Ze(this,"skip");Ze(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(i-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return wS(this,n,"x",i)}inYRange(n,i){return wS(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Hp(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,o4(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ze(n1,"id","point"),Ze(n1,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ze(n1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function VK(t,e,n){const i=t.segments,r=t.points,s=e.points,a=[];for(const o of i){let{start:l,end:c}=o;c=R5(l,c,r);const d=d4(n,r[l],r[c],o.loop);if(!e.segments){a.push({source:o,target:d,start:r[l],end:r[c]});continue}const g=MA(e,d);for(const m of g){const p=d4(n,s[m.start],s[m.end],m.loop),x=EA(o,r,p);for(const b of x)a.push({source:b,target:m,start:{[n]:_S(d,p,"start",Math.max)},end:{[n]:_S(d,p,"end",Math.min)}})}}return a}function d4(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=Qo(r),s=Qo(s)),{property:t,start:r,end:s}}function HK(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=R5(a,o,r);const l=r[a],c=r[o];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function R5(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function _S(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function KA(t,e){let n=[],i=!1;return tr(t)?(i=!0,n=t):n=HK(t,e),n.length?new Hc({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function SS(t){return t&&t.fill!==!1}function $K(t,e,n){let r=t[e].fill;const s=[e];let a;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!ss(r))return r;if(a=t[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function GK(t,e,n){const i=XK(t);if(on(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ss(r)&&Math.floor(r)===r?WK(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function WK(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function qK(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:on(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function KK(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:on(t)?i=t.value:i=e.getBaseValue(),i}function XK(t){const e=t.options,n=e.fill;let i=nn(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function YK(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,a=i.points,o=QK(e,n);o.push(KA({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let d=c.start;d<=c.end;d++)JK(r,a[d],o)}return new Hc({points:r,options:{}})}function QK(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function JK(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:a,last:o,point:l}=ZK(s,e,"x");if(!(!l||a&&o)){if(a)i.unshift(l);else if(t.push(l),!o)break}}t.push(...i)}function ZK(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const d=s[c],g=a[d.start][n],m=a[d.end][n];if(Gd(r,g,m)){o=r===g,l=r===m;break}}return{first:o,last:l,point:i}}class XA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:a}=this;return n=n||{start:0,end:No},e.arc(r,s,a,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function eX(t){const{chart:e,fill:n,line:i}=t;if(ss(n))return tX(e,n);if(n==="stack")return YK(t);if(n==="shape")return!0;const r=nX(t);return r instanceof XA?r:KA(r,i)}function tX(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function nX(t){return(t.scale||{}).getPointPositionForValue?rX(t):iX(t)}function iX(t){const{scale:e={},fill:n}=t,i=qK(n,e);if(ss(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function rX(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,a=KK(n,e,s),o=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new XA({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<r;++l)o.push(e.getPointPositionForValue(l,a));return o}function iy(t,e,n){const i=eX(e),{chart:r,index:s,line:a,scale:o,axis:l}=e,c=a.options,d=c.fill,g=c.backgroundColor,{above:m=g,below:p=g}=d||{},x=r.getDatasetMeta(s),b=RA(r,x);i&&a.points.length&&(P5(t,n),sX(t,{line:a,target:i,above:m,below:p,area:n,scale:o,axis:l,clip:b}),L5(t))}function sX(t,e){const{line:n,target:i,above:r,below:s,area:a,scale:o,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let d=s;s!==r&&(c==="x"?(NS(t,i,a.top),ry(t,{line:n,target:i,color:r,scale:o,property:c,clip:l}),t.restore(),t.save(),NS(t,i,a.bottom)):c==="y"&&(kS(t,i,a.left),ry(t,{line:n,target:i,color:s,scale:o,property:c,clip:l}),t.restore(),t.save(),kS(t,i,a.right),d=r)),ry(t,{line:n,target:i,color:d,scale:o,property:c,clip:l}),t.restore()}function NS(t,e,n){const{segments:i,points:r}=e;let s=!0,a=!1;t.beginPath();for(const o of i){const{start:l,end:c}=o,d=r[l],g=r[R5(l,c,r)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function kS(t,e,n){const{segments:i,points:r}=e;let s=!0,a=!1;t.beginPath();for(const o of i){const{start:l,end:c}=o,d=r[l],g=r[R5(l,c,r)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(n,g.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function ry(t,e){const{line:n,target:i,property:r,color:s,scale:a,clip:o}=e,l=VK(n,i,r);for(const{source:c,target:d,start:g,end:m}of l){const{style:{backgroundColor:p=s}={}}=c,x=i!==!0;t.save(),t.fillStyle=p,aX(t,a,o,x&&d4(r,g,m)),t.beginPath();const b=!!n.pathSegment(t,c);let N;if(x){b?t.closePath():CS(t,i,m,r);const S=!!i.pathSegment(t,d,{move:b,reverse:!0});N=b&&S,N||CS(t,i,g,r)}t.closePath(),t.fill(N?"evenodd":"nonzero"),t.restore()}}function aX(t,e,n,i){const r=e.chart.chartArea,{property:s,start:a,end:o}=i||{};if(s==="x"||s==="y"){let l,c,d,g;s==="x"?(l=a,c=r.top,d=o,g=r.bottom):(l=r.left,c=a,d=r.right,g=o),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),c=Math.max(c,n.top),g=Math.min(g,n.bottom)),t.rect(l,c,d-l,g-c),t.clip()}}function CS(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var oX={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,a,o,l;for(a=0;a<i;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof Hc&&(l={visible:t.isDatasetVisible(a),index:a,fill:GK(o,a,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,r.push(l);for(a=0;a<i;++a)l=r[a],!(!l||l.fill===!1)&&(l.fill=$K(r,a,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=r.length-1;a>=0;--a){const o=r[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),i&&o.fill&&iy(t.ctx,o,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;SS(s)&&iy(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!SS(i)||n.drawTime!=="beforeDatasetDraw"||iy(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const jS=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},lX=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class AS extends Bh{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Xn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=is(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=jS(i,s);let c,d;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(a,s,o,l)+10):(d=this.maxHeight,c=this._fitCols(a,r,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=r+o;let g=e;s.textAlign="left",s.textBaseline="middle";let m=-1,p=-d;return this.legendItems.forEach((x,b)=>{const N=i+n/2+s.measureText(x.text).width;(b===0||c[c.length-1]+N+2*o>a)&&(g+=d,c[c.length-(b>0?0:1)]=0,p+=d,m++),l[b]={left:0,top:p,row:m,width:N,height:r},c[c.length-1]+=N+o}),g}_fitCols(e,n,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=a-e;let g=o,m=0,p=0,x=0,b=0;return this.legendItems.forEach((N,S)=>{const{itemWidth:j,itemHeight:_}=cX(i,n,s,N,r);S>0&&p+_+2*o>d&&(g+=m+o,c.push({width:m,height:p}),x+=m+o,b++,m=p=0),l[S]={left:x,top:p,col:b,width:j,height:_},m=Math.max(m,j),p+=_+o}),g+=m,c.push({width:m,height:p}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,a=tf(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Zr(i,this.left+r,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=Zr(i,this.left+r,this.right-this.lineWidths[o])),c.top+=this.top+e+r,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+r}else{let o=0,l=Zr(i,this.top+e+r,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=Zr(i,this.top+e+r,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+r,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;P5(e,this),this._draw(),L5(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,o=Ii.color,l=tf(e.rtl,this.left,this.width),c=is(a.font),{padding:d}=a,g=c.size,m=g/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:x,boxHeight:b,itemHeight:N}=jS(a,g),S=function(O,U,F){if(isNaN(x)||x<=0||isNaN(b)||b<0)return;r.save();const R=nn(F.lineWidth,1);if(r.fillStyle=nn(F.fillStyle,o),r.lineCap=nn(F.lineCap,"butt"),r.lineDashOffset=nn(F.lineDashOffset,0),r.lineJoin=nn(F.lineJoin,"miter"),r.lineWidth=R,r.strokeStyle=nn(F.strokeStyle,o),r.setLineDash(nn(F.lineDash,[])),a.usePointStyle){const M={radius:b*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:R},T=l.xPlus(O,x/2),D=U+m;_A(r,M,T,D,a.pointStyleWidth&&x)}else{const M=U+Math.max((g-b)/2,0),T=l.leftForLtr(O,x),D=lp(F.borderRadius);r.beginPath(),Object.values(D).some($=>$!==0)?l4(r,{x:T,y:M,w:x,h:b,radius:D}):r.rect(T,M,x,b),r.fill(),R!==0&&r.stroke()}r.restore()},j=function(O,U,F){$p(r,F.text,O,U+N/2,c,{strikethrough:F.hidden,textAlign:l.textAlign(F.textAlign)})},_=this.isHorizontal(),C=this._computeTitleHeight();_?p={x:Zr(s,this.left+d,this.right-i[0]),y:this.top+d+C,line:0}:p={x:this.left+d,y:Zr(s,this.top+C+d,this.bottom-n[0].height),line:0},PA(this.ctx,e.textDirection);const E=N+d;this.legendItems.forEach((O,U)=>{r.strokeStyle=O.fontColor,r.fillStyle=O.fontColor;const F=r.measureText(O.text).width,R=l.textAlign(O.textAlign||(O.textAlign=a.textAlign)),M=x+m+F;let T=p.x,D=p.y;l.setWidth(this.width),_?U>0&&T+M+d>this.right&&(D=p.y+=E,p.line++,T=p.x=Zr(s,this.left+d,this.right-i[p.line])):U>0&&D+E>this.bottom&&(T=p.x=T+n[p.line].width+d,p.line++,D=p.y=Zr(s,this.top+C+d,this.bottom-n[p.line].height));const $=l.x(T);if(S($,D,O),T=aW(R,T+x+m,_?T+M:this.right,e.rtl),j(l.x(T),D,O),_)p.x+=M+d;else if(typeof O.text!="string"){const X=c.lineHeight;p.y+=YA(O,X)+d}else p.y+=E}),LA(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=is(n.font),r=Wa(n.padding);if(!n.display)return;const s=tf(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=i.size/2,c=r.top+l;let d,g=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+c,g=Zr(e.align,g,this.right-m);else{const x=this.columnSizes.reduce((b,N)=>Math.max(b,N.height),0);d=c+Zr(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const p=Zr(o,g,g+m);a.textAlign=s.textAlign(Lb(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,$p(a,n.text,p,d,i)}_computeTitleHeight(){const e=this.options.title,n=is(e.font),i=Wa(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Gd(e,this.left,this.right)&&Gd(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Gd(e,r.left,r.left+r.width)&&Gd(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!dX(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=lX(r,i);r&&!s&&Xn(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Xn(n.onHover,[e,i,this],this)}else i&&Xn(n.onClick,[e,i,this],this)}}function cX(t,e,n,i,r){const s=uX(i,t,e,n),a=hX(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}function uX(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+i.measureText(r).width}function hX(t,e,n){let i=t;return typeof e.text!="string"&&(i=YA(e,n)),i}function YA(t,e){const n=t.text?t.text.length:0;return e*n}function dX(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var fX={id:"legend",_element:AS,start(t,e,n){const i=t.legend=new AS({ctx:t.ctx,options:n,chart:t});Va.configure(t,i,n),Va.addBox(t,i)},stop(t){Va.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Va.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=Wa(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class QA extends Bh{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=tr(i.text)?i.text.length:1;this._padding=Wa(i.padding);const s=r*is(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:a}=this,o=a.align;let l=0,c,d,g;return this.isHorizontal()?(d=Zr(o,i,s),g=n+e,c=s-i):(a.position==="left"?(d=i+e,g=Zr(o,r,n),l=br*-.5):(d=s-e,g=Zr(o,n,r),l=br*.5),c=r-n),{titleX:d,titleY:g,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=is(n.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);$p(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Lb(n.align),textBaseline:"middle",translation:[a,o]})}}function pX(t,e){const n=new QA({ctx:t.ctx,options:e,chart:t});Va.configure(t,n,e),Va.addBox(t,n),t.titleBlock=n}var gX={id:"title",_element:QA,start(t,e,n){pX(t,n)},stop(t){const e=t.titleBlock;Va.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Va.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const H0={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((o,l)=>o+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=s4(e,c);d<r&&(r=d,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function qo(t,e){return e&&(tr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Fl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function mX(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:a,value:o}=s.getLabelAndValue(r);return{chart:t,label:a,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:o,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function PS(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=is(e.bodyFont),c=is(e.titleFont),d=is(e.footerFont),g=s.length,m=r.length,p=i.length,x=Wa(e.padding);let b=x.height,N=0,S=i.reduce((C,E)=>C+E.before.length+E.lines.length+E.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,g&&(b+=g*c.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),S){const C=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;b+=p*C+(S-p)*l.lineHeight+(S-1)*e.bodySpacing}m&&(b+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let j=0;const _=function(C){N=Math.max(N,n.measureText(C).width+j)};return n.save(),n.font=c.string,Cn(t.title,_),n.font=l.string,Cn(t.beforeBody.concat(t.afterBody),_),j=e.displayColors?a+2+e.boxPadding:0,Cn(i,C=>{Cn(C.before,_),Cn(C.lines,_),Cn(C.after,_)}),j=0,n.font=d.string,Cn(t.footer,_),n.restore(),N+=x.width,{width:N,height:b}}function vX(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function yX(t,e,n,i){const{x:r,width:s}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&r+s+a>e.width||t==="right"&&r-s-a<0)return!0}function xX(t,e,n,i){const{x:r,width:s}=n,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return i==="center"?c=r<=(o+l)/2?"left":"right":r<=s/2?c="left":r>=a-s/2&&(c="right"),yX(c,t,e,n)&&(c="center"),c}function LS(t,e,n){const i=n.yAlign||e.yAlign||vX(t,n);return{xAlign:n.xAlign||e.xAlign||xX(t,e,n,i),yAlign:i}}function bX(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function wX(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function TS(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,c=r+s,{topLeft:d,topRight:g,bottomLeft:m,bottomRight:p}=lp(a);let x=bX(e,o);const b=wX(e,l,c);return l==="center"?o==="left"?x+=c:o==="right"&&(x-=c):o==="left"?x-=Math.max(d,m)+r:o==="right"&&(x+=Math.max(g,p)+r),{x:Ua(x,0,i.width-e.width),y:Ua(b,0,i.height-e.height)}}function xm(t,e,n){const i=Wa(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function ES(t){return qo([],Fl(t))}function _X(t,e,n){return Oh(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function MS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const JA={beforeTitle:Ll,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ll,beforeBody:Ll,beforeLabel:Ll,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return zn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ll,afterBody:Ll,beforeFooter:Ll,footer:Ll,afterFooter:Ll};function Ts(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?JA[e].call(n,i):r}class f4 extends Bh{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new FA(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=_X(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Ts(i,"beforeTitle",this,e),s=Ts(i,"title",this,e),a=Ts(i,"afterTitle",this,e);let o=[];return o=qo(o,Fl(r)),o=qo(o,Fl(s)),o=qo(o,Fl(a)),o}getBeforeBody(e,n){return ES(Ts(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return Cn(e,s=>{const a={before:[],lines:[],after:[]},o=MS(i,s);qo(a.before,Fl(Ts(o,"beforeLabel",this,s))),qo(a.lines,Ts(o,"label",this,s)),qo(a.after,Fl(Ts(o,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,n){return ES(Ts(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Ts(i,"beforeFooter",this,e),s=Ts(i,"footer",this,e),a=Ts(i,"afterFooter",this,e);let o=[];return o=qo(o,Fl(r)),o=qo(o,Fl(s)),o=qo(o,Fl(a)),o}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(mX(this.chart,n[l]));return e.filter&&(o=o.filter((d,g,m)=>e.filter(d,g,m,i))),e.itemSort&&(o=o.sort((d,g)=>e.itemSort(d,g,i))),Cn(o,d=>{const g=MS(e.callbacks,d);r.push(Ts(g,"labelColor",this,d)),s.push(Ts(g,"labelPointStyle",this,d)),a.push(Ts(g,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const o=H0[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const l=this._size=PS(this,i),c=Object.assign({},o,l),d=LS(this.chart,i,c),g=TS(i,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:g.x,y:g.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:g}=lp(o),{x:m,y:p}=e,{width:x,height:b}=n;let N,S,j,_,C,E;return s==="center"?(C=p+b/2,r==="left"?(N=m,S=N-a,_=C+a,E=C-a):(N=m+x,S=N+a,_=C-a,E=C+a),j=N):(r==="left"?S=m+Math.max(l,d)+a:r==="right"?S=m+x-Math.max(c,g)-a:S=this.caretX,s==="top"?(_=p,C=_-a,N=S-a,j=S+a):(_=p+b,C=_+a,N=S+a,j=S-a),E=_),{x1:N,x2:S,x3:j,y1:_,y2:C,y3:E}}drawTitle(e,n,i){const r=this.title,s=r.length;let a,o,l;if(s){const c=tf(i.rtl,this.x,this.width);for(e.x=xm(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",a=is(i.titleFont),o=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,n,i,r,s){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,d=is(s.bodyFont),g=xm(this,"left",s),m=r.x(g),p=l<d.lineHeight?(d.lineHeight-l)/2:0,x=n.y+p;if(s.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},N=r.leftForLtr(m,c)+c/2,S=x+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,o4(e,b,N,S),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,o4(e,b,N,S)}else{e.lineWidth=on(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const b=r.leftForLtr(m,c),N=r.leftForLtr(r.xPlus(m,1),c-2),S=lp(a.borderRadius);Object.values(S).some(j=>j!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,l4(e,{x:b,y:x,w:c,h:l,radius:S}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),l4(e,{x:N,y:x+1,w:c-2,h:l-2,radius:S}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,x,c,l),e.strokeRect(b,x,c,l),e.fillStyle=a.backgroundColor,e.fillRect(N,x+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:d}=i,g=is(i.bodyFont);let m=g.lineHeight,p=0;const x=tf(i.rtl,this.x,this.width),b=function(F){n.fillText(F,x.x(e.x+p),e.y+m/2),e.y+=m+s},N=x.textAlign(a);let S,j,_,C,E,O,U;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,e.x=xm(this,N,i),n.fillStyle=i.bodyColor,Cn(this.beforeBody,b),p=o&&N!=="right"?a==="center"?c/2+d:c+2+d:0,C=0,O=r.length;C<O;++C){for(S=r[C],j=this.labelTextColors[C],n.fillStyle=j,Cn(S.before,b),_=S.lines,o&&_.length&&(this._drawColorBox(n,e,C,x,i),m=Math.max(g.lineHeight,l)),E=0,U=_.length;E<U;++E)b(_[E]),m=g.lineHeight;Cn(S.after,b)}p=0,m=g.lineHeight,Cn(this.afterBody,b),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let a,o;if(s){const l=tf(i.rtl,this.x,this.width);for(e.x=xm(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",a=is(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(r[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:d}=i,{topLeft:g,topRight:m,bottomLeft:p,bottomRight:x}=lp(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(o+g,l),a==="top"&&this.drawCaret(e,n,i,r),n.lineTo(o+c-m,l),n.quadraticCurveTo(o+c,l,o+c,l+m),a==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(o+c,l+d-x),n.quadraticCurveTo(o+c,l+d,o+c-x,l+d),a==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(o+p,l+d),n.quadraticCurveTo(o,l+d,o,l+d-p),a==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(o,l+g),n.quadraticCurveTo(o,l,o+g,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=H0[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=PS(this,e),l=Object.assign({},a,this._size),c=LS(n,e,l),d=TS(e,l,c,n);(r._to!==d.x||s._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Wa(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),PA(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),LA(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!Q1(i,r),a=this._positionChanged(r,n);(s||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,i),o=this._positionChanged(a,e),l=n||!Q1(a,s)||o;return l&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,a=H0[s.position].call(this,e,n);return a!==!1&&(i!==a.x||r!==a.y)}}Ze(f4,"positioners",H0);var SX={id:"tooltip",_element:f4,positioners:H0,afterInit(t,e,n){n&&(t.tooltip=new f4({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:JA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const NX=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function kX(t,e,n,i){const r=t.indexOf(e);if(r===-1)return NX(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const CX=(t,e)=>t===null?null:Ua(Math.round(t),0,e);function RS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class p4 extends If{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(zn(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:kX(i,e,nn(n,e),this._addedLabels),CX(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return RS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ze(p4,"id","category"),Ze(p4,"defaults",{ticks:{callback:RS}});function jX(t,e){const n=[],{bounds:r,step:s,min:a,max:o,precision:l,count:c,maxTicks:d,maxDigits:g,includeBounds:m}=t,p=s||1,x=d-1,{min:b,max:N}=e,S=!zn(a),j=!zn(o),_=!zn(c),C=(N-b)/(g+1);let E=R8((N-b)/x/p)*p,O,U,F,R;if(E<1e-14&&!S&&!j)return[{value:b},{value:N}];R=Math.ceil(N/E)-Math.floor(b/E),R>x&&(E=R8(R*E/x/p)*p),zn(l)||(O=Math.pow(10,l),E=Math.ceil(E*O)/O),r==="ticks"?(U=Math.floor(b/E)*E,F=Math.ceil(N/E)*E):(U=b,F=N),S&&j&&s&&XG((o-a)/s,E/1e3)?(R=Math.round(Math.min((o-a)/E,d)),E=(o-a)/R,U=a,F=o):_?(U=S?a:U,F=j?o:F,R=c-1,E=(F-U)/R):(R=(F-U)/E,sp(R,Math.round(R),E/1e3)?R=Math.round(R):R=Math.ceil(R));const M=Math.max(F8(E),F8(U));O=Math.pow(10,zn(l)?M:l),U=Math.round(U*O)/O,F=Math.round(F*O)/O;let T=0;for(S&&(m&&U!==a?(n.push({value:a}),U<a&&T++,sp(Math.round((U+T*E)*O)/O,a,FS(a,C,t))&&T++):U<a&&T++);T<R;++T){const D=Math.round((U+T*E)*O)/O;if(j&&D>o)break;n.push({value:D})}return j&&m&&F!==o?n.length&&sp(n[n.length-1].value,o,FS(o,C,t))?n[n.length-1].value=o:n.push({value:o}):(!j||F===o)&&n.push({value:F}),n}function FS(t,e,{horizontal:n,minRotation:i}){const r=ch(i),s=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class AX extends If{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return zn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=l=>r=n?r:l,o=l=>s=i?s:l;if(e){const l=wf(r),c=wf(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=jX(r,s);return e.bounds==="ticks"&&YG(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return bA(e,this.chart.options.locale,this.options.ticks.format)}}class g4 extends AX{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ss(e)?e:0,this.max=ss(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=ch(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ze(g4,"id","linear"),Ze(g4,"defaults",{ticks:{callback:wA.formatters.numeric}});const F5={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ms=Object.keys(F5);function DS(t,e){return t-e}function IS(t,e){if(zn(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),ss(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(Vp(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,r)),+a)}function OS(t,e,n,i){const r=Ms.length;for(let s=Ms.indexOf(t);s<r-1;++s){const a=F5[Ms[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=i)return Ms[s]}return Ms[r-1]}function PX(t,e,n,i,r){for(let s=Ms.length-1;s>=Ms.indexOf(n);s--){const a=Ms[s];if(F5[a].common&&t._adapter.diff(r,i,a)>=e-1)return a}return Ms[n?Ms.indexOf(n):0]}function LX(t){for(let e=Ms.indexOf(t)+1,n=Ms.length;e<n;++e)if(F5[Ms[e]].common)return Ms[e]}function BS(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=Pb(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function TX(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+r.add(o,1,i))l=n[o],l>=0&&(e[l].major=!0);return e}function zS(t,e,n){const i=[],r={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],r[o]=a,i.push({value:o,major:!1});return s===0||!n?i:TX(t,i,r,n)}class r2 extends If{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new Nq._date(e.adapters.date);r.init(n),rp(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:IS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=ss(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=ss(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,o=nW(r,s,a);return this._unit=n.unit||(i.autoSkip?OS(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):PX(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:LX(this._unit),this.initOffsets(r),e.reverse&&o.reverse(),zS(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Ua(n,0,a),i=Ua(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||OS(s.minUnit,n,i,this._getLabelCapacity(n)),o=nn(r.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=Vp(l)||l===!0,d={};let g=n,m,p;if(c&&(g=+e.startOf(g,"isoWeek",l)),g=+e.startOf(g,c?"day":a),e.diff(i,n,a)>1e5*o)throw new Error(n+" and "+i+" are too far apart with stepSize of "+o+" "+a);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(m=g,p=0;m<i;m=+e.add(m,o,a),p++)BS(d,m,x);return(m===i||r.bounds==="ticks"||p===1)&&BS(d,m,x),Object.keys(d).sort(DS).map(b=>+b)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,a=n||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,r){const s=this.options,a=s.ticks.callback;if(a)return Xn(a,[e,n,i],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&o[l],g=c&&o[c],m=i[n],p=c&&g&&m&&m.major;return this._adapter.format(e,r||(p?g:d))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=ch(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:i*s+o*a,h:i*a+o*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,zS(this,[e],this._majorUnit),r),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(IS(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return rW(e.sort(DS))}}Ze(r2,"id","time"),Ze(r2,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function bm(t,e,n){let i=0,r=t.length-1,s,a,o,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=uh(t,"pos",e)),{pos:s,time:o}=t[i],{pos:a,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=uh(t,"time",e)),{time:s,pos:o}=t[i],{time:a,pos:l}=t[r]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class US extends r2{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=bm(n,this.min),this._tableRange=bm(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let a,o,l,c,d;for(a=0,o=e.length;a<o;++a)c=e[a],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,o=r.length;a<o;++a)d=r[a+1],l=r[a-1],c=r[a],Math.round((d+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(bm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return bm(this._table,i*this._tableRange+this._minPos,!0)}}Ze(US,"id","timeseries"),Ze(US,"defaults",r2.defaults);const ZA="label";function VS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function EX(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function eP(t,e){t.labels=e}function tP(t,e,n=ZA){const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(a=>a[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function MX(t,e=ZA){const n={labels:[],datasets:[]};return eP(n,t.labels),tP(n,t.datasets,e),n}function RX(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:c=[],fallbackContent:d,updateMode:g,...m}=t,p=J.useRef(null),x=J.useRef(null),b=()=>{p.current&&(x.current=new M5(p.current,{type:a,data:MX(o,s),options:l&&{...l},plugins:c}),VS(e,x.current))},N=()=>{VS(e,null),x.current&&(x.current.destroy(),x.current=null)};return J.useEffect(()=>{!r&&x.current&&l&&EX(x.current,l)},[r,l]),J.useEffect(()=>{!r&&x.current&&eP(x.current.config.data,o.labels)},[r,o.labels]),J.useEffect(()=>{!r&&x.current&&o.datasets&&tP(x.current.config.data,o.datasets,s)},[r,o.datasets]),J.useEffect(()=>{x.current&&(r?(N(),setTimeout(b)):x.current.update(g))},[r,l,o.labels,o.datasets,g]),J.useEffect(()=>{x.current&&(N(),setTimeout(b))},[a]),J.useEffect(()=>(b(),()=>N()),[]),h.jsx("canvas",{ref:p,role:"img",height:n,width:i,...m,children:d})}const FX=J.forwardRef(RX);function DX(t,e){return M5.register(e),J.forwardRef((n,i)=>h.jsx(FX,{...n,ref:i,type:t}))}const IX=DX("line",Zm);M5.register(p4,g4,n1,Hc,gX,SX,fX,oX);const nP="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),xo=t=>typeof t=="number"?t.toLocaleString("vi-VN"):t;function OX({values:t=[]}){if(!t||t.length===0)return null;const e=240,n=56,i=6,r=Math.max(...t),s=Math.min(...t),a=t.map((o,l)=>{const c=i+l*(e-i*2)/(t.length-1),d=n-i-(o-s)*(n-i*2)/(r-s||1);return`${c},${d}`}).join(" ");return h.jsxs("svg",{viewBox:`0 0 ${e} ${n}`,className:"mt-3 w-full text-blue-500",children:[h.jsx("polyline",{points:a,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),t.map((o,l)=>{const c=i+l*(e-i*2)/(t.length-1),d=n-i-(t[l]-s)*(n-i*2)/(r-s||1);return h.jsx("circle",{cx:c,cy:d,r:"2",className:"fill-current"},l)})]})}function BX({data:t,period:e}){if(!t||!t.dailyData||t.dailyData.length===0)return h.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Xu hng tng tc"}),h.jsx("div",{className:"text-center py-12 text-slate-500",children:"Cha c d liu"})]});const n={labels:t.dailyData.map(r=>{const s=new Date(r.date);return`${s.getDate()}/${s.getMonth()+1}`}),datasets:[{label:"Lt xem",data:t.dailyData.map(r=>r.views),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0,yAxisID:"y"},{label:"Lt ti",data:t.dailyData.map(r=>r.downloads),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0,yAxisID:"y1"}]},i={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12}}},tooltip:{backgroundColor:"#fff",titleColor:"#1e293b",bodyColor:"#64748b",borderColor:"#e2e8f0",borderWidth:1,padding:12,displayColors:!0,callbacks:{label:function(r){return`${r.dataset.label}: ${r.parsed.y.toLocaleString("vi-VN")}`}}}},scales:{x:{grid:{display:!1},ticks:{color:"#64748b",font:{size:11}}},y:{type:"linear",display:!0,position:"left",grid:{color:"#f1f5f9"},ticks:{color:"#64748b",font:{size:11},callback:function(r){return r.toLocaleString("vi-VN")}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:"#64748b",font:{size:11},callback:function(r){return r.toLocaleString("vi-VN")}}}}};return h.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold",children:" Xu hng tng tc"}),h.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Lt xem v ti xung trong ",t.period]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-right",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:xo(t.totalViews)}),h.jsx("div",{className:"text-xs text-slate-500",children:"Tng lt xem"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:xo(t.totalDownloads)}),h.jsx("div",{className:"text-xs text-slate-500",children:"Tng lt ti"})]})]})]}),h.jsx("div",{style:{height:"300px"},children:h.jsx(IX,{data:n,options:i})})]})}function zX({users:t,frames:e}){return h.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Thng k ngi dng"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center justify-between p-4 rounded-xl bg-slate-50",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-10 rounded-lg bg-blue-100 text-blue-600 grid place-items-center",children:h.jsx(A3,{size:20})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-slate-600",children:"Tng s ngi dng"}),h.jsx("div",{className:"text-2xl font-bold",children:xo((t==null?void 0:t.total)||0)})]})]})}),h.jsx("div",{className:"flex items-center justify-between p-4 rounded-xl bg-emerald-50",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-10 rounded-lg bg-emerald-100 text-emerald-600 grid place-items-center",children:h.jsx(D9,{size:20})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-slate-600",children:"Hot ng 30 ngy qua"}),h.jsx("div",{className:"text-2xl font-bold",children:xo((t==null?void 0:t.activeLast30Days)||0)})]})]})}),h.jsx("div",{className:"flex items-center justify-between p-4 rounded-xl bg-amber-50",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-10 rounded-lg bg-amber-100 text-amber-600 grid place-items-center",children:h.jsx(aF,{size:20})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-slate-600",children:"Mi trong 7 ngy"}),h.jsx("div",{className:"text-2xl font-bold",children:xo((t==null?void 0:t.newLast7Days)||0)})]})]})})]})]}),h.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Thng k khung hnh"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"size-2 rounded-full bg-blue-500"}),h.jsx("span",{className:"text-sm text-slate-700",children:"Tng s khung"})]}),h.jsx("span",{className:"font-semibold text-slate-900",children:xo((e==null?void 0:e.total)||0)})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-emerald-200 bg-emerald-50",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"size-2 rounded-full bg-emerald-500"}),h.jsx("span",{className:"text-sm text-emerald-700 font-medium",children:"Cng khai & hot ng"})]}),h.jsx("span",{className:"font-semibold text-emerald-900",children:xo((e==null?void 0:e.public_)||0)})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"size-2 rounded-full bg-slate-400"}),h.jsx("span",{className:"text-sm text-slate-700",children:"Tm dng / Khng hot ng"})]}),h.jsx("span",{className:"font-semibold text-slate-900",children:xo((e==null?void 0:e.paused)||0)})]})]})]})]})}function UX({frames:t}){return!t||t.length===0?h.jsx("div",{className:"text-center py-8 text-slate-500",children:"Cha c d liu"}):h.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200/75 shadow-sm bg-white",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{className:"bg-slate-50 text-slate-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left px-4 py-3 font-semibold",children:"Khung"}),h.jsx("th",{className:"text-right px-4 py-3 font-semibold",children:"Lt xem"}),h.jsx("th",{className:"text-right px-4 py-3 font-semibold",children:"Lt ti"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map((e,n)=>h.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[h.jsx("td",{className:"px-4 py-3",children:h.jsxs("div",{className:"flex items-center gap-3",children:[e.thumb&&h.jsx("img",{src:`${nP}${e.thumb}`,alt:e.title,className:"w-10 h-10 rounded-lg object-cover ring-1 ring-slate-200",onError:i=>i.target.style.display="none"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"font-medium text-slate-900 truncate",children:e.title}),h.jsxs("div",{className:"text-xs text-slate-500",children:["/",e.alias]})]})]})}),h.jsx("td",{className:"px-4 py-3 text-right font-mono text-slate-700",children:xo(e.views)}),h.jsx("td",{className:"px-4 py-3 text-right font-mono text-slate-700",children:xo(e.downloads)})]},n))})]})})}function VX({frames:t}){if(!t||t.length===0)return h.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hot ng gn y"}),h.jsx("div",{className:"text-center py-8 text-slate-500",children:"Cha c hot ng"})]});const e=n=>{const i=new Date(n),s=new Date-i,a=Math.floor(s/6e4),o=Math.floor(s/36e5),l=Math.floor(s/864e5);return a<1?"Va xong":a<60?`${a} pht trc`:o<24?`${o} gi trc`:`${l} ngy trc`};return h.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hot ng gn y"}),h.jsx("div",{className:"space-y-3",children:t.map((n,i)=>h.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[h.jsx("span",{className:"size-2 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"text-slate-700",children:["Khung ",h.jsx("b",{className:"text-slate-900",children:n.tieuDe})," c to mi"]}),h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400 mt-0.5",children:[h.jsx(I9,{size:12}),e(n.ngayDang)]})]})]},i))})]})}function HX(){var d,g,m,p,x,b;const[t,e]=J.useState(null),[n,i]=J.useState(!0),[r,s]=J.useState(null),[a,o]=J.useState(7);J.useEffect(()=>{l()},[a]);const l=async()=>{try{i(!0),s(null);const N=await fetch(`${nP}/api/admin/stats?days=${a}`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!N.ok){const j=await N.text();throw new Error(`HTTP ${N.status}: ${j}`)}const S=await N.json();console.log(" Dashboard data loaded:",S),e(S)}catch(N){console.error(" Dashboard load error:",N),s(N.message)}finally{i(!1)}};if(n)return h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-600",children:"ang ti d liu..."})]})});if(r)return h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-rose-600 text-lg font-semibold mb-2",children:" Li ti d liu"}),h.jsx("p",{className:"text-slate-600 mb-4",children:r}),h.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Th li"})]})});const c=[{title:"Tng khung hnh",value:((d=t==null?void 0:t.frames)==null?void 0:d.total)||0,diff:0,icon:vs,color:"from-blue-500 to-indigo-500",sparkline:[5,8,6,10,12,9,15,11,14,((g=t==null?void 0:t.frames)==null?void 0:g.total)||0]},{title:"Ngi dng",value:((m=t==null?void 0:t.users)==null?void 0:m.total)||0,diff:0,icon:A3,color:"from-emerald-500 to-teal-500",sparkline:[10,15,12,18,20,17,22,19,24,((p=t==null?void 0:t.users)==null?void 0:p.total)||0]},{title:"Mi 7 ngy qua",value:((x=t==null?void 0:t.users)==null?void 0:x.newLast7Days)||0,diff:0,icon:Tp,color:"from-amber-500 to-orange-500",sparkline:[2,3,5,4,6,8,7,9,10,((b=t==null?void 0:t.users)==null?void 0:b.newLast7Days)||0]}];return h.jsxs("div",{className:"space-y-8",children:[h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:c.map((N,S)=>{const j=N.icon;return h.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200/75 shadow-sm",children:h.jsxs("div",{className:"p-5",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"text-sm text-slate-600",children:N.title}),h.jsx("div",{className:`grid place-items-center size-10 rounded-xl text-white shadow bg-gradient-to-br ${N.color}`,children:h.jsx(j,{size:18})})]}),h.jsx("div",{className:"mt-2 text-3xl font-bold tracking-tight",children:xo(N.value)}),h.jsx(OX,{values:N.sparkline})]})},S)})}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{onClick:()=>o(7),className:`px-4 py-2 text-sm rounded-lg font-medium transition-colors ${a===7?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"7 ngy"}),h.jsx("button",{onClick:()=>o(30),className:`px-4 py-2 text-sm rounded-lg font-medium transition-colors ${a===30?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"30 ngy"})]}),h.jsx(BX,{data:t==null?void 0:t.chart,period:a}),h.jsx(zX,{users:t==null?void 0:t.users,frames:t==null?void 0:t.frames}),h.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Khung thnh hnh"}),h.jsxs("span",{className:"text-xs text-slate-500",children:["Top 5 trong ",a," ngy"]})]}),h.jsx(UX,{frames:t==null?void 0:t.topFrames})]}),h.jsx(VX,{frames:t==null?void 0:t.recentFrames})]})]})}const Wp="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net",Fc=t=>typeof t=="number"?t.toLocaleString("vi-VN"):t,s2=t=>t?new Date(t).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",wm=async(t,e={})=>{try{const n=await fetch(`${Wp}/api${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(n){throw console.error("API Error:",n),n}},HS={dang_hoat_dong:{key:"active",label:"ang hot ng",chip:"bg-emerald-50 text-emerald-700 ring-emerald-200",dot:"bg-emerald-500"},cho_duyet:{key:"pending",label:"Ch duyt",chip:"bg-amber-50 text-amber-700 ring-amber-200",dot:"bg-amber-500"},bi_khoa:{key:"blocked",label:"B kha",chip:"bg-rose-50 text-rose-700 ring-rose-200",dot:"bg-rose-500"},da_xoa:{key:"deleted",label:" xa",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"}};function m4({status:t}){const e=HS[t]||HS.bi_khoa;return h.jsxs("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[11px] font-medium ring-1 ${e.chip}`,children:[h.jsx("span",{className:`size-2 rounded-full ${e.dot}`}),e.label]})}function $X({frame:t,isOpen:e,onClose:n,onStatusChange:i}){return!e||!t?null:h.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:h.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[h.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:n}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 grid place-items-center",children:h.jsx(vs,{size:20,className:"text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold",children:t.tieuDe}),h.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",t.id,"  /",t.alias]})]})]}),h.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(F1,{size:20})})]}),h.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"nh xem trc"}),h.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden bg-slate-100 ring-2 ring-white shadow-lg",children:t.urlXemTruoc?h.jsx("img",{src:`${Wp}${t.urlXemTruoc}`,alt:t.tieuDe,className:"w-full h-full object-cover",onError:r=>{r.target.src="https://via.placeholder.com/400x400/e2e8f0/64748b?text=No+Image"}}):h.jsx("div",{className:"w-full h-full grid place-items-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(vs,{size:48,className:"text-slate-400 mx-auto mb-2"}),h.jsx("p",{className:"text-slate-500",children:"Cha c nh"})]})})})]}),t.variants&&t.variants.length>0&&h.jsxs("div",{children:[h.jsxs("h4",{className:"font-semibold mb-3 text-gray-900",children:["Bin th (",t.variants.length,")"]}),h.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.variants.map((r,s)=>h.jsxs("div",{className:"group",children:[h.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-slate-100 ring-1 ring-slate-200",children:r.anhPngUrl?h.jsx("img",{src:`${Wp}${r.anhPngUrl}`,alt:r.tenBienThe,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:a=>{var o;a.target.src=`https://via.placeholder.com/120x120/e2e8f0/64748b?text=${((o=r.tenBienThe)==null?void 0:o.charAt(0))||"V"}`}}):h.jsx("div",{className:"w-full h-full grid place-items-center",children:h.jsx(vs,{size:20,className:"text-slate-400"})})}),h.jsx("div",{className:"mt-2 text-xs text-slate-600 truncate",children:r.tenBienThe||`Bin th ${s+1}`}),h.jsx(m4,{status:r.trangThai})]},r.id||s))})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[h.jsx("h4",{className:"font-semibold mb-4 text-gray-900",children:"Thng tin c bn"}),h.jsxs("div",{className:"space-y-3 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-slate-600",children:"Trng thi:"}),h.jsx(m4,{status:t.trangThai})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-slate-600",children:"Ch  hin th:"}),h.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${t.cheDoHienThi==="cong_khai"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:t.cheDoHienThi==="cong_khai"?"Cng khai":"Ring t"})]}),t.moTa&&h.jsxs("div",{className:"col-span-2",children:[h.jsx("span",{className:"text-slate-600",children:"M t:"}),h.jsx("p",{className:"mt-1 text-slate-900 bg-white rounded-lg p-3 text-sm",children:t.moTa})]})]})]}),h.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4",children:[h.jsx("h4",{className:"font-semibold mb-4 text-gray-900",children:"Thng k s dng"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-white rounded-xl p-3 text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[h.jsx(iu,{size:16,className:"text-blue-600"}),h.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Lt xem"})]}),h.jsx("div",{className:"text-xl font-bold text-blue-600",children:Fc(t.luotXem||0)})]}),h.jsxs("div",{className:"bg-white rounded-xl p-3 text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[h.jsx(zl,{size:16,className:"text-emerald-600"}),h.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Lt ti"})]}),h.jsx("div",{className:"text-xl font-bold text-emerald-600",children:Fc(t.luotTai||0)})]})]})]}),t.owner&&h.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Thng tin tc gi"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:t.owner.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.owner.name||"User")}&size=48`,alt:t.owner.name,className:"w-12 h-12 rounded-full ring-2 ring-white shadow-sm"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-medium text-gray-900",children:t.owner.name}),h.jsx("div",{className:"text-sm text-gray-600 truncate",children:t.owner.email})]})]})]}),h.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Thi gian"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(k3,{size:14,className:"text-slate-500"}),h.jsx("span",{className:"text-slate-600",children:"Ngy to:"})]}),h.jsx("span",{className:"font-medium",children:s2(t.ngayDang)})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(j3,{size:14,className:"text-slate-500"}),h.jsx("span",{className:"text-slate-600",children:"Cp nht:"})]}),h.jsx("span",{className:"font-medium",children:s2(t.ngayChinhSua)})]})]})]}),h.jsxs("div",{className:"pt-4 border-t",children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Hnh ng nhanh"}),h.jsx("div",{className:"grid gap-2",children:t.trangThai==="cho_duyet"?h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("button",{onClick:()=>i(t.id,"dang_hoat_dong"),className:"flex items-center justify-center gap-2 bg-emerald-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-emerald-700 transition-colors",children:[h.jsx(Px,{size:16})," Duyt"]}),h.jsxs("button",{onClick:()=>i(t.id,"bi_khoa"),className:"flex items-center justify-center gap-2 bg-rose-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-rose-700 transition-colors",children:[h.jsx(F1,{size:16})," T chi"]})]}):h.jsxs("div",{className:"space-y-2",children:[t.trangThai==="dang_hoat_dong"?h.jsxs("button",{onClick:()=>i(t.id,"bi_khoa"),className:"w-full flex items-center justify-center gap-2 bg-amber-500 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-amber-600 transition-colors",children:[h.jsx(z9,{size:16})," Tm kha"]}):h.jsxs("button",{onClick:()=>i(t.id,"dang_hoat_dong"),className:"w-full flex items-center justify-center gap-2 bg-emerald-500 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-emerald-600 transition-colors",children:[h.jsx(U9,{size:16})," Kch hot"]}),h.jsxs("button",{className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:[h.jsx(wh,{size:16})," Thay nh"]})]})})]})]})]})})]})]})})}function GX({frame:t,isOpen:e,onClose:n,onConfirm:i}){const[r,s]=J.useState(!1);if(!e||!t)return null;const a=async()=>{s(!0);try{await i(),n()}catch(o){console.error("Delete failed:",o)}finally{s(!1)}};return h.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:h.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[h.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:n}),h.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-md w-full",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-100 grid place-items-center",children:h.jsx(tg,{size:24,className:"text-rose-600"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Xa khung hnh"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Hnh ng ny khng th hon tc"})]})]}),h.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-6",children:h.jsxs("div",{className:"flex items-center gap-3",children:[t.urlXemTruoc&&h.jsx("img",{src:`${Wp}${t.urlXemTruoc}`,alt:t.tieuDe,className:"w-12 h-12 rounded-lg object-cover"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"font-medium truncate",children:t.tieuDe}),h.jsxs("div",{className:"text-sm text-slate-600",children:["/",t.alias]})]})]})}),h.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:['Bn c chc chn mun xa khung hnh "',h.jsx("strong",{children:t.tieuDe}),'" khng? Tt c d liu v file lin quan s b xa vnh vin.']}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:n,disabled:r,className:"flex-1 px-4 py-2.5 text-slate-700 bg-slate-100 rounded-xl font-semibold hover:bg-slate-200 disabled:opacity-50 transition-colors",children:"Hy b"}),h.jsx("button",{onClick:a,disabled:r,className:"flex-1 px-4 py-2.5 bg-rose-600 text-white rounded-xl font-semibold hover:bg-rose-700 disabled:opacity-50 transition-colors",children:r?h.jsxs("span",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"ang xa..."]}):"Xa vnh vin"})]})]})})]})})}function WX(){const[t,e]=J.useState([]),[n,i]=J.useState(!0),[r,s]=J.useState(null),[a,o]=J.useState(""),[l,c]=J.useState("all"),[d,g]=J.useState({page:1,pageSize:20,total:0}),[m,p]=J.useState(null),[x,b]=J.useState(!1),[N,S]=J.useState(!1),j=async(M=d.page,T=a,D=l)=>{i(!0),s(null);try{const $=new URLSearchParams({page:M.toString(),pageSize:d.pageSize.toString()});T.trim()&&$.append("search",T.trim()),D!=="all"&&$.append("status",D);const X=await wm(`/admin/frames?${$}`);e(X.items||[]),g(ae=>({...ae,page:X.page||M,total:X.total||0}))}catch($){s($.message),console.error("Failed to load frames:",$)}finally{i(!1)}};J.useEffect(()=>{j()},[]);const _=()=>{j(1,a,l)},C=M=>{c(M),j(1,a,M)},E=M=>{j(M,a,l)},O=async(M,T)=>{try{await wm(`/admin/frames/${M}/status`,{method:"POST",body:JSON.stringify({status:T})}),j(),b(!1),alert(" cp nht trng thi thnh cng!")}catch(D){console.error("Failed to change status:",D),alert("C li xy ra: "+D.message)}},U=async M=>{try{await wm(`/admin/frames/${M}`,{method:"DELETE"}),j(),alert(" xa khung hnh thnh cng!")}catch(T){console.error("Failed to delete frame:",T),alert("C li xy ra: "+T.message)}},F=async M=>{try{const T=await wm(`/admin/frames/${M}`);p(T),b(!0)}catch(T){console.error("Failed to load frame detail:",T),alert("Khng th ti chi tit khung: "+T.message)}},R=J.useMemo(()=>{const M=d.total,T=t.filter(X=>X.trangThai==="dang_hoat_dong").length,D=t.filter(X=>X.trangThai==="cho_duyet").length,$=t.filter(X=>X.trangThai==="bi_khoa").length;return{total:M,active:T,pending:D,blocked:$}},[t,d.total]);return n&&t.length===0?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"ang ti danh sch khung hnh..."})]})}):r&&t.length===0?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx(tg,{className:"mx-auto h-12 w-12 text-red-400 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng th ti d liu"}),h.jsx("p",{className:"text-gray-500 mb-4",children:r}),h.jsx("button",{onClick:()=>j(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Th li"})]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-slate-900",children:Fc(R.total)}),h.jsx("div",{className:"text-sm text-slate-500",children:"Tng s khung"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-blue-100 text-blue-600",children:h.jsx(vs,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:Fc(R.active)}),h.jsx("div",{className:"text-sm text-slate-500",children:"ang hot ng"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-emerald-100 text-emerald-600",children:h.jsx(Px,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-amber-600",children:Fc(R.pending)}),h.jsx("div",{className:"text-sm text-slate-500",children:"Ch duyt"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-amber-100 text-amber-600",children:h.jsx(wh,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-rose-600",children:Fc(R.blocked)}),h.jsx("div",{className:"text-sm text-slate-500",children:"B kha"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-rose-100 text-rose-600",children:h.jsx(F1,{size:20})})]})})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx(C3,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),h.jsx("input",{value:a,onChange:M=>o(M.target.value),onKeyPress:M=>M.key==="Enter"&&_(),className:"w-72 rounded-2xl ring-1 ring-slate-200 bg-white pl-9 pr-3 py-2.5 text-sm outline-none focus:ring-blue-400 focus:ring-2 transition-all",placeholder:"Tm theo tiu , alias hoc tc gi..."})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:l,onChange:M=>C(M.target.value),className:"appearance-none rounded-2xl ring-1 ring-slate-200 bg-white pl-3 pr-10 py-2.5 text-sm outline-none focus:ring-blue-400 focus:ring-2 transition-all",children:[h.jsx("option",{value:"all",children:"Tt c trng thi"}),h.jsx("option",{value:"dang_hoat_dong",children:"ang hot ng"}),h.jsx("option",{value:"cho_duyet",children:"Ch duyt"}),h.jsx("option",{value:"bi_khoa",children:"B kha"}),h.jsx("option",{value:"da_xoa",children:" xa"})]}),h.jsx(Zd,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),h.jsx("button",{onClick:_,className:"rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-blue-700 transition-colors",children:"Tm kim"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{className:"inline-flex items-center gap-2 rounded-xl bg-slate-900 px-4 py-2.5 text-sm font-semibold text-white hover:bg-black transition-colors",children:[h.jsx(wh,{size:16})," Thm khung"]}),h.jsxs("button",{className:"inline-flex items-center gap-2 rounded-xl bg-white ring-1 ring-slate-200 px-4 py-2.5 text-sm font-semibold hover:bg-slate-50 transition-colors",children:[h.jsx(jR,{size:16})," B lc nng cao"]})]})]}),h.jsxs("div",{className:"overflow-hidden rounded-2xl ring-1 ring-slate-200/75 bg-white shadow-sm",children:[h.jsx("div",{className:"max-w-full overflow-x-auto",children:h.jsxs("table",{className:"min-w-[1200px] w-full text-sm",children:[h.jsx("thead",{className:"bg-slate-50 text-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left px-6 py-4 font-semibold",children:"Khung hnh"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Tc gi"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Trng thi"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Ch "}),h.jsx("th",{className:"text-right px-4 py-4 font-semibold",children:"Lt xem"}),h.jsx("th",{className:"text-right px-4 py-4 font-semibold",children:"Lt ti"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Ngy to"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Cp nht"}),h.jsx("th",{className:"text-right px-6 py-4 font-semibold",children:"Hnh ng"})]})}),h.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n&&h.jsx("tr",{children:h.jsx("td",{colSpan:9,className:"py-8 text-center",children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),h.jsx("span",{className:"text-slate-500",children:"ang ti..."})]})})}),!n&&t.map(M=>h.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"relative",children:M.urlXemTruoc?h.jsx("img",{src:`${Wp}${M.urlXemTruoc}`,alt:M.tieuDe,className:"w-16 h-16 rounded-xl object-cover ring-2 ring-white shadow-sm",onError:T=>{var D;T.target.src=`https://via.placeholder.com/64x64/e2e8f0/64748b?text=${((D=M.tieuDe)==null?void 0:D.charAt(0))||"K"}`}}):h.jsx("div",{className:"w-16 h-16 rounded-xl bg-slate-100 grid place-items-center",children:h.jsx(vs,{size:20,className:"text-slate-400"})})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"font-semibold text-slate-900 truncate max-w-xs",children:M.tieuDe}),h.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-xs",children:["/",M.alias]})]})]})}),h.jsx("td",{className:"px-4 py-4",children:M.owner?h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:M.owner.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(M.owner.name)}&size=32`,alt:M.owner.name,className:"w-8 h-8 rounded-full"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-slate-900",children:M.owner.name}),h.jsx("div",{className:"text-xs text-slate-500",children:M.owner.email})]})]}):h.jsx("span",{className:"text-slate-400",children:"Khng c"})}),h.jsx("td",{className:"px-4 py-4",children:h.jsx(m4,{status:M.trangThai})}),h.jsx("td",{className:"px-4 py-4",children:h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-lg ${M.cheDoHienThi==="cong_khai"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:M.cheDoHienThi==="cong_khai"?"Cng khai":"Ring t"})}),h.jsx("td",{className:"px-4 py-4 text-right font-mono text-slate-600",children:Fc(M.luotXem||0)}),h.jsx("td",{className:"px-4 py-4 text-right font-mono text-slate-600",children:Fc(M.luotTai||0)}),h.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:s2(M.ngayDang)}),h.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:s2(M.ngayChinhSua)}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("div",{className:"flex items-center justify-end gap-2",children:M.trangThai==="cho_duyet"?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>O(M.id,"dang_hoat_dong"),className:"inline-flex items-center gap-1 rounded-lg bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-emerald-700 transition-colors",title:"Duyt khung",children:[h.jsx(Px,{size:14})," Duyt"]}),h.jsxs("button",{onClick:()=>O(M.id,"bi_khoa"),className:"inline-flex items-center gap-1 rounded-lg bg-rose-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-rose-700 transition-colors",title:"T chi khung",children:[h.jsx(F1,{size:14})," T chi"]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>F(M.id),className:"inline-flex items-center gap-1 rounded-lg bg-violet-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-violet-700 transition-colors",title:"Xem chi tit",children:[h.jsx(iu,{size:14})," Xem"]}),M.trangThai==="dang_hoat_dong"?h.jsxs("button",{onClick:()=>O(M.id,"bi_khoa"),className:"inline-flex items-center gap-1 rounded-lg bg-amber-500 px-3 py-1.5 text-xs font-semibold text-white hover:bg-amber-600 transition-colors",title:"Tm kha khung",children:[h.jsx(z9,{size:14})," Kha"]}):h.jsxs("button",{onClick:()=>O(M.id,"dang_hoat_dong"),className:"inline-flex items-center gap-1 rounded-lg bg-emerald-500 px-3 py-1.5 text-xs font-semibold text-white hover:bg-emerald-600 transition-colors",title:"Kch hot khung",children:[h.jsx(U9,{size:14})," Bt"]}),h.jsxs("button",{onClick:()=>{p(M),S(!0)},className:"inline-flex items-center gap-1 rounded-lg bg-rose-500 px-3 py-1.5 text-xs font-semibold text-white hover:bg-rose-600 transition-colors",title:"Xa vnh vin",children:[h.jsx(V9,{size:14})," Xa"]})]})})})]},M.id)),!n&&t.length===0&&h.jsx("tr",{children:h.jsxs("td",{colSpan:9,className:"py-16 text-center",children:[h.jsx(vs,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng c khung hnh"}),h.jsx("p",{className:"text-gray-500",children:"Khng tm thy khung ph hp vi b lc hin ti."})]})})]})]})}),d.total>0&&h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-slate-50 border-t",children:[h.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th ",h.jsx("span",{className:"font-semibold",children:(d.page-1)*d.pageSize+1})," n"," ",h.jsx("span",{className:"font-semibold",children:Math.min(d.page*d.pageSize,d.total)})," trong tng s"," ",h.jsx("span",{className:"font-semibold",children:d.total})," khung hnh"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>E(d.page-1),disabled:d.page<=1,className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Trc"}),h.jsx("div",{className:"flex items-center gap-1",children:(()=>{const M=Math.ceil(d.total/d.pageSize),T=5;let D=Math.max(1,d.page-Math.floor(T/2)),$=Math.min(M,D+T-1);return $-D+1<T&&(D=Math.max(1,$-T+1)),Array.from({length:$-D+1},(X,ae)=>{const ge=D+ae,pe=ge===d.page;return h.jsx("button",{onClick:()=>E(ge),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${pe?"bg-blue-600 text-white":"border border-slate-200 bg-white hover:bg-slate-50"}`,children:ge},ge)})})()}),h.jsx("button",{onClick:()=>E(d.page+1),disabled:d.page>=Math.ceil(d.total/d.pageSize),className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Sau"})]})]})]}),h.jsx($X,{frame:m,isOpen:x,onClose:()=>b(!1),onStatusChange:O}),h.jsx(GX,{frame:m,isOpen:N,onClose:()=>S(!1),onConfirm:()=>U(m==null?void 0:m.id)})]})}const qX="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),xd=t=>typeof t=="number"?t.toLocaleString("vi-VN"):t,a2=t=>t?new Date(t).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",_m=async(t,e={})=>{try{const n=await fetch(`${qX}/api${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(n){throw console.error("API Error:",n),n}},v4={hoat_dong:{label:"Hot ng",chip:"bg-emerald-50 text-emerald-700 ring-emerald-200",dot:"bg-emerald-500"},bi_khoa:{label:"B kha",chip:"bg-rose-50 text-rose-700 ring-rose-200",dot:"bg-rose-500"},khoa:{label:"B kha",chip:"bg-rose-50 text-rose-700 ring-rose-200",dot:"bg-rose-500"},xoa_mem:{label:" xa",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"},inactive:{label:"Khng hot ng",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"}};function iP({status:t}){const e=v4[t]||v4.hoat_dong;return h.jsxs("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[11px] font-medium ring-1 ${e.chip}`,children:[h.jsx("span",{className:`size-2 rounded-full ${e.dot}`}),e.label]})}function Ob({role:t,isSuper:e}){return console.log("RoleBadge:",{role:t,isSuper:e,type:typeof e}),e===!0||e===1||t==="superadmin"?h.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 text-xs font-semibold rounded-full bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-800 ring-1 ring-orange-200",children:[h.jsx(Zo,{size:12,className:"text-orange-600"}),"Super Admin"]}):t==="admin"?h.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-700",children:[h.jsx(ef,{size:12}),"Qun tr vin"]}):h.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 text-xs font-semibold rounded-full bg-slate-100 text-slate-700",children:[h.jsx(za,{size:12}),"Ngi dng"]})}function KX({user:t,isOpen:e,onClose:n,onRoleChange:i,onBanUser:r,onUnlockUser:s,users:a,currentUserEmail:o}){var g;if(!e||!t)return null;const l=t.isSuper||t.role==="superadmin",c=a==null?void 0:a.find(m=>m.email===o),d=(c==null?void 0:c.isSuper)===!0||(c==null?void 0:c.isSuper)===1;return h.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:h.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[h.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:n}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"w-12 h-12 rounded-xl bg-blue-100 grid place-items-center relative",children:[t.avatar?h.jsx("img",{src:t.avatar,alt:t.name,className:"w-full h-full rounded-xl object-cover",onError:m=>{m.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name||"User")}&size=48`}}):h.jsx(za,{size:20,className:"text-blue-600"}),l&&h.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full grid place-items-center",children:h.jsx(Zo,{size:12,className:"text-white"})})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold",children:t.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",t.id]})]})]}),h.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(_h,{size:20})})]}),h.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"nh i din"}),h.jsxs("div",{className:"aspect-square w-48 mx-auto rounded-2xl overflow-hidden bg-slate-100 ring-2 ring-white shadow-lg relative",children:[t.avatar?h.jsx("img",{src:t.avatar,alt:t.name,className:"w-full h-full object-cover",onError:m=>{m.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name||"User")}&size=192`}}):h.jsx("div",{className:"w-full h-full grid place-items-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(za,{size:48,className:"text-slate-400 mx-auto mb-2"}),h.jsx("p",{className:"text-slate-500",children:"Cha c nh"})]})}),l&&h.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full grid place-items-center shadow-lg",children:h.jsx(Zo,{size:16,className:"text-white"})})]})]})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[h.jsx("h4",{className:"font-semibold mb-4 text-gray-900",children:"Thng tin c bn"}),h.jsxs("div",{className:"space-y-3 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(zR,{size:16,className:"text-slate-500"}),h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-600",children:"Email:"}),h.jsx("div",{className:"font-medium text-slate-900",children:t.email})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(I1,{size:16,className:"text-slate-500"}),h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-600",children:"Vai tr:"}),h.jsx("div",{className:"mt-1",children:h.jsx(Ob,{role:t.role,isSuper:t.isSuper})})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 grid place-items-center",children:h.jsx("div",{className:`w-2 h-2 rounded-full ${((g=v4[t.status])==null?void 0:g.dot)||"bg-slate-400"}`})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-600",children:"Trng thi:"}),h.jsx("div",{className:"mt-1",children:h.jsx(iP,{status:t.status})})]})]})]})]}),h.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Thi gian"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(k3,{size:14,className:"text-slate-500"}),h.jsx("span",{className:"text-slate-600",children:"Ngy tham gia:"})]}),h.jsx("span",{className:"font-medium",children:a2(t.ngayTao)})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(j3,{size:14,className:"text-slate-500"}),h.jsx("span",{className:"text-slate-600",children:"Cp nht:"})]}),h.jsx("span",{className:"font-medium",children:a2(t.ngayCapNhat)})]})]})]}),l&&h.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-2xl p-4 border border-yellow-200",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(Zo,{size:16,className:"text-orange-600"}),h.jsx("h4",{className:"font-semibold text-orange-800",children:"Super Admin"})]}),h.jsx("p",{className:"text-sm text-orange-700",children:"Ngi dng ny c quyn hn cao nht trong h thng. Ch Super Admin khc mi c th thay i quyn hn ca h."})]}),h.jsxs("div",{className:"pt-4 border-t",children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Hnh ng nhanh"}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx("div",{className:"grid grid-cols-2 gap-2",children:l?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>{i(t.id,"admin"),n()},className:"flex items-center justify-center gap-2 bg-purple-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-purple-700 transition-colors",children:[h.jsx(ef,{size:16})," H xung Admin"]}),h.jsxs("button",{onClick:()=>{i(t.id,"user"),n()},className:"flex items-center justify-center gap-2 bg-slate-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-slate-700 transition-colors",children:[h.jsx(za,{size:16})," H xung User"]})]}):t.role==="admin"?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>{i(t.id,"superadmin"),n()},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2.5 rounded-xl font-semibold hover:from-yellow-600 hover:to-orange-600 transition-colors",children:[h.jsx(Zo,{size:16})," Thng Super Admin"]}),h.jsxs("button",{onClick:()=>{i(t.id,"user"),n()},className:"flex items-center justify-center gap-2 bg-slate-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-slate-700 transition-colors",children:[h.jsx(za,{size:16})," H xung User"]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>{i(t.id,"admin"),n()},className:"flex items-center justify-center gap-2 bg-purple-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-purple-700 transition-colors",children:[h.jsx(ef,{size:16})," Thng Admin"]}),h.jsxs("button",{onClick:()=>{i(t.id,"superadmin"),n()},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2.5 rounded-xl font-semibold hover:from-yellow-600 hover:to-orange-600 transition-colors",children:[h.jsx(Zo,{size:16})," Thng Super Admin"]})]})}),d&&(t.status==="bi_khoa"?h.jsxs("button",{onClick:()=>{s(t.id),n()},className:"inline-flex items-center justify-center gap-2 rounded-xl bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-emerald-700 transition-colors",children:[h.jsx(B9,{size:16})," M kha ti khon"]}):h.jsxs("button",{onClick:()=>{r(t.id),n()},className:"inline-flex items-center justify-center gap-2 rounded-xl bg-rose-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-rose-700 transition-colors",children:[h.jsx(N3,{size:16})," Kha ti khon"]}))]})]})]})]})})]})]})})}function XX({user:t,isOpen:e,onClose:n,onConfirm:i}){const[r,s]=J.useState(""),[a,o]=J.useState(!1);if(!e||!t)return null;const l=t.isSuper||t.role==="superadmin",c=async()=>{o(!0);try{await i(r),n()}catch(d){console.error("Ban failed:",d)}finally{o(!1)}};return h.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:h.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[h.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:n}),h.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-md w-full",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-100 grid place-items-center",children:h.jsx(N3,{size:24,className:"text-rose-600"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Kha ti khon"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Ti khon s b tm ngng hot ng"})]})]}),h.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:t.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name||"User")}&size=48`,alt:t.name,className:"w-12 h-12 rounded-full"}),l&&h.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full grid place-items-center",children:h.jsx(Zo,{size:10,className:"text-white"})})]}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"font-medium truncate",children:t.name}),h.jsx("div",{className:"text-sm text-slate-600",children:t.email}),h.jsx(Ob,{role:t.role,isSuper:t.isSuper})]})]})}),l&&h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[h.jsx(tg,{size:16}),h.jsx("span",{className:"font-medium text-sm",children:"Cnh bo"})]}),h.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Bn ang kha mt Super Admin. Hnh ng ny cn c thn trng."})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"L do kha ti khon *"}),h.jsx("textarea",{value:r,onChange:d=>s(d.target.value),className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-rose-400",rows:3,placeholder:"Nhp l do kha ti khon...",required:!0})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:n,disabled:a,className:"flex-1 px-4 py-2.5 text-slate-700 bg-slate-100 rounded-xl font-semibold hover:bg-slate-200 disabled:opacity-50 transition-colors",children:"Hy b"}),h.jsx("button",{onClick:c,disabled:a||!r.trim(),className:"flex-1 px-4 py-2.5 bg-rose-600 text-white rounded-xl font-semibold hover:bg-rose-700 disabled:opacity-50 transition-colors",children:a?h.jsxs("span",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"ang kha..."]}):"Kha ti khon"})]})]})})]})})}function YX({isOpen:t,onClose:e,onAdd:n}){const[i,r]=J.useState({name:"",email:"",role:"user"}),[s,a]=J.useState(!1);if(!t)return null;const o=async l=>{if(l.preventDefault(),!(!i.name.trim()||!i.email.trim())){a(!0);try{await n(i),r({name:"",email:"",role:"user"}),e()}catch(c){console.error("Add user failed:",c)}finally{a(!1)}}};return h.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:h.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[h.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:e}),h.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-md w-full",children:h.jsxs("form",{onSubmit:o,className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 grid place-items-center",children:h.jsx(Tp,{size:24,className:"text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Thm ngi dng"}),h.jsx("p",{className:"text-sm text-gray-600",children:"To ti khon mi"})]})]}),h.jsxs("div",{className:"space-y-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn hin th *"}),h.jsx("input",{type:"text",value:i.name,onChange:l=>r(c=>({...c,name:l.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Nhp tn ngi dng",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),h.jsx("input",{type:"email",value:i.email,onChange:l=>r(c=>({...c,email:l.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-400",placeholder:"email@example.com",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vai tr"}),h.jsxs("select",{value:i.role,onChange:l=>r(c=>({...c,role:l.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-400",children:[h.jsx("option",{value:"user",children:" Ngi dng"}),h.jsx("option",{value:"admin",children:" Qun tr vin"}),h.jsx("option",{value:"superadmin",children:" Super Admin"})]}),i.role==="superadmin"&&h.jsxs("p",{className:"text-xs text-yellow-600 mt-1 flex items-center gap-1",children:[h.jsx(tg,{size:12}),"Cp quyn Super Admin cn c thn trng"]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"button",onClick:e,disabled:s,className:"flex-1 px-4 py-2.5 text-slate-700 bg-slate-100 rounded-xl font-semibold hover:bg-slate-200 disabled:opacity-50 transition-colors",children:"Hy b"}),h.jsx("button",{type:"submit",disabled:s||!i.name.trim()||!i.email.trim(),className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 disabled:opacity-50 transition-colors",children:s?h.jsxs("span",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"ang to..."]}):"To ti khon"})]})]})})]})})}function QX(){const[t,e]=J.useState([]),[n,i]=J.useState(!0),[r,s]=J.useState(null),[a,o]=J.useState(""),[l,c]=J.useState("all"),[d,g]=J.useState({page:1,pageSize:20,total:0}),[m,p]=J.useState(null),[x,b]=J.useState(!1),[N,S]=J.useState(!1),[j,_]=J.useState(!1),C=async(Z=d.page,ue=a)=>{i(!0),s(null);try{const Y=new URLSearchParams({page:Z.toString(),pageSize:d.pageSize.toString()});ue.trim()&&Y.append("search",ue.trim());const z=await _m(`/admin/users?${Y}`);e(z.items||[]),g(q=>({...q,page:z.page||Z,total:z.total||0}))}catch(Y){s(Y.message),console.error("Failed to load users:",Y)}finally{i(!1)}};J.useEffect(()=>{C()},[]);const E=()=>{C(1,a)},O=J.useMemo(()=>t.filter(Z=>l==="all"?!0:l==="superadmin"?Z.isSuper===!0||Z.isSuper===1:l==="admin"?Z.role==="admin"&&!(Z.isSuper===!0||Z.isSuper===1):l==="user"?Z.role==="user"||!Z.role&&!(Z.isSuper===!0||Z.isSuper===1):!1),[t,l]),U=async(Z,ue)=>{try{const Y=t.find(de=>de.id===Z);if(!Y){alert(" Khng tm thy ngi dng");return}const z=R();if(!z){alert(` Khng xc nh c ngi dng hin ti.

Vui lng ng nhp li.`);return}const q=t.find(de=>de.email===z.email);if(!q){alert(" Khng tm thy thng tin ngi dng hin ti trong h thng.");return}const ie=q.isSuper===!0||q.isSuper===1||q.role==="superadmin",ce=Y.isSuper===!0||Y.isSuper===1||Y.role==="superadmin";if(console.log(" Role Check:",{currentUser:q.email,callerRole:q.role,callerIsSuper:ie,targetUser:Y.email,targetRole:Y.role,targetIsSuper:ce,newRole:ue}),q.id===Z){alert(" Khng c t thay i quyn ca chnh bn qua API.");return}if(ce&&!ie){alert(` Ch Super Admin mi c quyn thay i Super Admin khc.

Bn cn quyn Super Admin  thc hin hnh ng ny.`);return}if(q.role==="admin"&&!ie&&Y.role!=="user"){alert(` Admin ch c th thao tc trn ngi dng bnh thng.

Ch Super Admin mi c quyn thay i quyn Admin.`);return}if(ue==="admin"&&Y.role==="user"&&!ie){alert(" Ch Super Admin mi c quyn thng admin.");return}if(ue==="user"&&Y.role==="admin"&&!ie){alert(" Ch Super Admin mi c quyn h admin.");return}if((ue==="superadmin"||ce)&&!ie){alert(" Ch Super Admin mi c quyn thng/h Super Admin.");return}const he=T(Y,ue);if(!confirm(he))return;const K=await _m(`/admin/users/${Z}/role`,{method:"POST",body:JSON.stringify({role:ue})});if(await C(),b(!1),K.success&&K.before&&K.after){const{before:de,after:me}=K,Ce=M(de.role,de.isSuper),Le=M(me.role,me.isSuper);alert(`  cp nht vai tr thnh cng!

Ngi dng: ${Y.name}
Trc: ${Ce}
Sau: ${Le}

Thay i  c ghi nhn vo h thng.`)}else alert("  cp nht vai tr thnh cng!")}catch(Y){console.error(" Failed to change role:",Y),D(Y)}},F=()=>{try{const Z=JSON.parse(localStorage.getItem("kh_me")||"null");return(Z==null?void 0:Z.email)||null}catch{return null}},R=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")||null}catch{return null}},M=(Z,ue)=>ue===!0||ue===1?" Super Admin":Z==="admin"?" Admin":" User",T=(Z,ue)=>{const Y=M(Z.role,Z.isSuper),z=M(ue,ue==="superadmin"?1:0);let q="";return ue==="superadmin"?q=`

 CH : Super Admin c ton quyn trong h thng!
Hnh ng ny cn c thn trng v c thm quyn ph duyt.`:Z.isSuper&&ue!=="superadmin"&&(q=`

 Bn ang h quyn mt Super Admin.
iu ny s nh hng n quyn qun tr ca h.`),` Xc nhn thay i vai tr

Ngi dng: ${Z.name}
Email: ${Z.email}

Vai tr hin ti: ${Y}
Vai tr mi: ${z}${q}

Bn c chc chn mun thc hin thay i ny?`},D=Z=>{let ue="C li xy ra khi thay i vai tr";const Y=Z.message||"";Y.includes("500")||Y.includes("Internal Server Error")?ue=` Li server ni b.

C th do:
 Stored procedure t chi thay i
 Rng buc v phn quyn trong database
 Trigger database t chi thay i

Vui lng lin h qun tr vin h thng.`:Y.includes("403")||Y.includes("Forbid")?ue=` Bn khng c quyn thc hin hnh ng ny.

Ch Super Admin mi c th:
 Thng/h quyn Admin  User
 Qun l Super Admin khc
 Thay i cu trc phn quyn

Vui lng lin h Super Admin nu bn cn h tr.`:Y.includes("404")||Y.includes("Not Found")?ue=` Khng tm thy ngi dng.

Ngi dng c th  b xa hoc khng tn ti trong h thng.`:Y.includes("400")||Y.includes("BadRequest")?ue=` Yu cu khng hp l.

Li c th do:
 Khng c t thay i quyn ca chnh mnh
 Vai tr mi khng hp l (phi l user/admin/superadmin)
 D liu gi i khng ng nh dng`:(Y.includes("Unauthorized")||Y.includes("401"))&&(ue=` Phin ng nhp  ht hn.

Vui lng ng nhp li  tip tc.`),alert(ue+`

 Chi tit k thut:
`+Y)},$=async(Z,ue)=>{try{const Y=t.find(de=>de.id===Z);if(!Y){alert(" Khng tm thy ngi dng");return}const z=R();if(!z){alert(` Khng xc nh c ngi dng hin ti.

Vui lng ng nhp li.`);return}const q=t.find(de=>de.email===z.email);if(!q){alert(" Khng tm thy thng tin ngi dng hin ti trong h thng.");return}const ie=q.isSuper===!0||q.isSuper===1||q.role==="superadmin",ce=Y.isSuper===!0||Y.isSuper===1||Y.role==="superadmin";if(q.id===Z){alert(` KHNG TH T KHA CHNH MNH

Bn khng th t kha ti khon ca chnh bn qua API.

 Nu cn v hiu ha ti khon ca bn, vui lng:
 Lin h Super Admin khc
 Hoc s dng chc nng ng xut`);return}if(ce&&!ie){alert(` KHNG TH KHA SUPER ADMIN

Ch Super Admin mi c quyn kha Super Admin khc.

 Hnh ng ny yu cu quyn cao nht  m bo an ninh.`);return}if(Y.role==="admin"&&!ie){alert(` KHNG TH KHA ADMIN

Ch Super Admin mi c quyn kha ti khon Admin.

 Admin thng khng th kha Admin khc  trnh xung t quyn hn.`);return}let he=` XC NHN KHA TI KHON

`;if(he+=`Ngi dng: ${Y.name}
`,he+=`Email: ${Y.email}
`,he+=`Vai tr: ${M(Y.role,Y.isSuper)}
`,he+=`L do: ${ue||"Khng c"}

`,ce?(he+=` CH : Bn ang kha mt Super Admin!
`,he+=`Hnh ng ny s:
`,he+=` V hiu ha ton b quyn ca h
`,he+=` Ngn h ng nhp vo h thng
`,he+=` C th nh hng n hot ng qun tr

`):Y.role==="admin"&&(he+=` CH : Bn ang kha mt Admin!
`,he+=`iu ny s nh hng n kh nng qun l ca h.

`),he+="Bn c chc chn mun tip tc?",!confirm(he))return;console.log(`[BanUser] Calling API to ban user ${Z}...`);const K=await _m(`/admin/users/${Z}/ban`,{method:"POST",body:JSON.stringify({reason:ue||""})});console.log("[BanUser] API Response:",K),await C(),S(!1),K.success&&alert(`  KHA TI KHON THNH CNG!

Ngi dng: ${Y.name}
Email: ${Y.email}
L do: ${ue||"Khng c"}
Trng thi mi: ${K.status||"bi_khoa"}

 Ngi dng ny s khng th ng nhp cho n khi c m kha.`)}catch(Y){console.error(" Failed to ban user:",Y),X(Y)}},X=Z=>{const ue=Z.message||"";console.error(" Ban Error Details:",{message:ue,stack:Z.stack,fullError:Z});let Y=" C li xy ra khi kha ti khon";ue.includes("500")||ue.includes("Internal Server Error")?Y=` LI SERVER - Stored Procedure

 NGUYN NHN:
 Stored procedure sp_LockUser cha tn ti
 SP c li logic hoc validation
 Trigger database t chi thay i
 Rng buc phn quyn trong database

 CCH SA:
1. Kim tra SP: SELECT OBJECT_ID('dbo.sp_LockUser')
2. To SP nu cha c (xem hng dn)
3. Test SP: EXEC sp_LockUser @ActorId=1, @TargetId=5, @Reason='Test'
4. Xem error log: EXEC sp_readerrorlog

 Lin h qun tr vin h thng  fix stored procedure.`:ue.includes("403")||ue.includes("Forbid")?Y=` KHNG C QUYN KHA TI KHON

 Quy tc phn quyn:
 Ch Super Admin mi c quyn kha ti khon
 Admin thng KHNG th kha bt k ai
 Super Admin kha c: User, Admin, Super Admin khc
 KHNG ai c th t kha chnh mnh

 Nu bn cn kha ti khon ny, vui lng:
 Lin h Super Admin
 Yu cu quyn Super Admin (nu ph hp)`:ue.includes("400")||ue.includes("BadRequest")?Y=` YU CU KHNG HP L

 Li c th do:
 Khng th t kha ti khon ca chnh mnh qua API.
 L do kha khng hp l
 D liu gi i sai nh dng

 Vui lng kim tra li thng tin v th li.`:ue.includes("404")||ue.includes("Not Found")?Y=` KHNG TM THY NGI DNG

Ngi dng ny c th:
  b xa khi h thng
 Khng tn ti trong database
 ID khng hp l

 Vui lng lm mi danh sch v th li.`:(ue.includes("Unauthorized")||ue.includes("401"))&&(Y=` PHIN NG NHP HT HN

Vui lng ng nhp li  tip tc.

 Bn s c chuyn n trang ng nhp.`),alert(Y+`

 Chi tit k thut:
`+ue)},ae=async Z=>{try{const ue=t.find(z=>z.id===Z);if(!ue){alert(" Khng tm thy ngi dng");return}if(!confirm(` XC NHN M KHA TI KHON

Ngi dng: ${ue.name}
Email: ${ue.email}
Vai tr: ${M(ue.role,ue.isSuper)}

Sau khi m kha, ngi dng ny s c th ng nhp tr li.

Bn c chc chn mun m kha?`))return;console.log(`[UnlockUser] Calling API to unlock user ${Z}...`);const Y=await _m(`/admin/users/${Z}/unlock`,{method:"POST"});console.log("[UnlockUser] API Response:",Y),await C(),b(!1),Y.success&&alert(`  M KHA TI KHON THNH CNG!

Ngi dng: ${ue.name}
Email: ${ue.email}
Trng thi mi: ${Y.status||"hoat_dong"}

 Ngi dng ny  c th ng nhp tr li.`)}catch(ue){console.error(" Failed to unlock user:",ue);let Y="C li xy ra khi m kha ti khon";const z=ue.message||"";z.includes("500")?Y=` Li server khi thc thi stored procedure sp_UnlockUser.

Vui lng kim tra:
 SP sp_UnlockUser c tn ti khng
 Log server  xem chi tit li

Lin h qun tr vin h thng.`:z.includes("403")||z.includes("Forbid")?Y=` Bn khng c quyn m kha ti khon ny.

Ch Super Admin mi c th m kha ti khon.`:z.includes("404")&&(Y=` Khng tm thy ngi dng.

Vui lng lm mi danh sch.`),alert(Y+`

 Chi tit: `+z)}},ge=Z=>{p(Z),b(!0)},pe=async Z=>{console.log("Adding user:",Z),alert("Chc nng thm ngi dng ang c pht trin")},te=J.useMemo(()=>{const Z=d.total,ue=t.filter(ce=>ce.isSuper||ce.role==="superadmin").length,Y=t.filter(ce=>ce.role==="admin"&&!(ce.isSuper===!0||ce.isSuper===1)).length,z=t.filter(ce=>ce.role==="user"||!ce.role&&!(ce.isSuper===!0||ce.isSuper===1)).length,q=t.filter(ce=>ce.status==="active").length,ie=t.filter(ce=>ce.status==="bi_khoa").length;return{total:Z,superAdmin:ue,admin:Y,user:z,active:q,banned:ie}},[t,d.total]);return n&&t.length===0?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"ang ti danh sch ngi dng..."})]})}):r&&t.length===0?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx(tg,{className:"mx-auto h-12 w-12 text-red-400 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng th ti d liu"}),h.jsx("p",{className:"text-gray-500 mb-4",children:r}),h.jsx("button",{onClick:()=>C(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Th li"})]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-slate-900",children:xd(te.total)}),h.jsx("div",{className:"text-sm text-slate-500",children:"Tng s"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-blue-100 text-blue-600",children:h.jsx(za,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:xd(te.superAdmin)}),h.jsx("div",{className:"text-sm text-slate-500",children:"Super Admin"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-600",children:h.jsx(Zo,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600",children:xd(te.admin)}),h.jsx("div",{className:"text-sm text-slate-500",children:"Admin"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-purple-100 text-purple-600",children:h.jsx(ef,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-slate-600",children:xd(te.user)}),h.jsx("div",{className:"text-sm text-slate-500",children:"User"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-slate-100 text-slate-600",children:h.jsx(za,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:xd(te.active)}),h.jsx("div",{className:"text-sm text-slate-500",children:"Hot ng"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-emerald-100 text-emerald-600",children:h.jsx(uF,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-rose-600",children:xd(te.banned)}),h.jsx("div",{className:"text-sm text-slate-500",children:"B kha"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-rose-100 text-rose-600",children:h.jsx(dF,{size:20})})]})})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx(C3,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),h.jsx("input",{value:a,onChange:Z=>o(Z.target.value),onKeyPress:Z=>Z.key==="Enter"&&E(),className:"w-72 rounded-2xl ring-1 ring-slate-200 bg-white pl-9 pr-3 py-2.5 text-sm outline-none focus:ring-blue-400 focus:ring-2 transition-all",placeholder:"Tm theo tn hoc email..."})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:l,onChange:Z=>c(Z.target.value),className:"appearance-none rounded-2xl ring-1 ring-slate-200 bg-white pl-3 pr-10 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-400 transition-all",children:[h.jsx("option",{value:"all",children:"Tt c vai tr"}),h.jsx("option",{value:"superadmin",children:" Super Admin"}),h.jsx("option",{value:"admin",children:" Qun tr vin"}),h.jsx("option",{value:"user",children:" Ngi dng"})]}),h.jsx(Zd,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),h.jsx("button",{onClick:E,className:"rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-blue-700 transition-colors",children:"Tm kim"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>_(!0),className:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-emerald-700 transition-colors",children:[h.jsx(Tp,{size:16})," Thm ngi dng"]}),h.jsxs("button",{onClick:()=>C(),className:"inline-flex items-center gap-2 rounded-xl bg-white ring-1 ring-slate-200 px-4 py-2.5 text-sm font-semibold hover:bg-slate-50 transition-colors",children:[h.jsx(qm,{size:16})," Lm mi"]})]})]}),h.jsxs("div",{className:"overflow-hidden rounded-2xl ring-1 ring-slate-200/75 bg-white shadow-sm",children:[h.jsx("div",{className:"max-w-full overflow-x-auto",children:h.jsxs("table",{className:"min-w-[900px] w-full text-sm",children:[h.jsx("thead",{className:"bg-slate-50 text-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left px-6 py-4 font-semibold",children:"Ngi dng"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Vai tr"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Trng thi"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Ngy tham gia"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Cp nht"}),h.jsx("th",{className:"text-right px-6 py-4 font-semibold",children:"Hnh ng"})]})}),h.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n&&h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"py-8 text-center",children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),h.jsx("span",{className:"text-slate-500",children:"ang ti..."})]})})}),!n&&O.map(Z=>{const ue=Z.isSuper===!0||Z.isSuper===1;return h.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:Z.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(Z.name||"User")}&size=48`,alt:Z.name,className:"w-12 h-12 rounded-full object-cover ring-2 ring-white shadow-sm"}),ue&&h.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full grid place-items-center",children:h.jsx(Zo,{size:10,className:"text-white"})})]}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"font-semibold text-slate-900 truncate max-w-xs",children:Z.name}),h.jsx("div",{className:"text-xs text-slate-500 truncate max-w-xs",children:Z.email})]})]})}),h.jsx("td",{className:"px-4 py-4",children:h.jsx(Ob,{role:Z.role,isSuper:Z.isSuper})}),h.jsx("td",{className:"px-4 py-4",children:h.jsx(iP,{status:Z.status})}),h.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:a2(Z.ngayTao)}),h.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:a2(Z.ngayCapNhat)}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsxs("button",{onClick:()=>ge(Z),className:"inline-flex items-center gap-1 rounded-lg bg-violet-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-violet-700 transition-colors",title:"Xem chi tit",children:[h.jsx(iu,{size:14})," Chi tit"]}),ue?h.jsxs("button",{onClick:()=>U(Z.id,"admin"),className:"inline-flex items-center gap-1 rounded-lg bg-gradient-to-r from-yellow-500 to-orange-500 px-3 py-1.5 text-xs font-semibold text-white hover:from-yellow-600 hover:to-orange-600 transition-colors",title:"H xung Admin",children:[h.jsx(ef,{size:14})," H quyn"]}):Z.role==="admin"?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>U(Z.id,"superadmin"),className:"inline-flex items-center gap-1 rounded-lg bg-gradient-to-r from-yellow-500 to-orange-500 px-3 py-1.5 text-xs font-semibold text-white hover:from-yellow-600 hover:to-orange-600 transition-colors",title:"Thng Super Admin",children:[h.jsx(Zo,{size:14})," Super"]}),h.jsxs("button",{onClick:()=>U(Z.id,"user"),className:"inline-flex items-center gap-1 rounded-lg bg-slate-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-slate-700 transition-colors",title:"H xung User",children:[h.jsx(za,{size:14})," H quyn"]})]}):h.jsxs("button",{onClick:()=>U(Z.id,"admin"),className:"inline-flex items-center gap-1 rounded-lg bg-purple-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-purple-700 transition-colors",title:"Thng Admin",children:[h.jsx(ef,{size:14})," Thng Admin"]}),(()=>{const Y=R(),z=t.find(ie=>ie.email===(Y==null?void 0:Y.email));return(z==null?void 0:z.isSuper)===!0||(z==null?void 0:z.isSuper)===1?Z.status==="bi_khoa"?h.jsxs("button",{onClick:()=>ae(Z.id),className:"inline-flex items-center gap-1 rounded-lg bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-emerald-700 transition-colors",title:"M kha ti khon",children:[h.jsx(B9,{size:14})," M kha"]}):h.jsxs("button",{onClick:()=>{p(Z),S(!0)},className:"inline-flex items-center gap-1 rounded-lg bg-rose-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-rose-700 transition-colors",title:"Kha ti khon",children:[h.jsx(N3,{size:14})," Kha"]}):null})()]})})]},Z.id)}),!n&&O.length===0&&h.jsx("tr",{children:h.jsxs("td",{colSpan:6,className:"py-16 text-center",children:[h.jsx(za,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng c ngi dng"}),h.jsx("p",{className:"text-gray-500",children:"Khng tm thy ngi dng ph hp vi b lc hin ti."})]})})]})]})}),d.total>0&&h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-slate-50 border-t",children:[h.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th ",h.jsx("span",{className:"font-semibold",children:(d.page-1)*d.pageSize+1})," n"," ",h.jsx("span",{className:"font-semibold",children:Math.min(d.page*d.pageSize,d.total)})," trong tng s"," ",h.jsx("span",{className:"font-semibold",children:d.total})," ngi dng"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>C(d.page-1,a),disabled:d.page<=1,className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Trc"}),h.jsx("div",{className:"flex items-center gap-1",children:(()=>{const Z=Math.ceil(d.total/d.pageSize),ue=5;let Y=Math.max(1,d.page-Math.floor(ue/2)),z=Math.min(Z,Y+ue-1);return z-Y+1<ue&&(Y=Math.max(1,z-ue+1)),Array.from({length:z-Y+1},(q,ie)=>{const ce=Y+ie,he=ce===d.page;return h.jsx("button",{onClick:()=>C(ce,a),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${he?"bg-blue-600 text-white":"border border-slate-200 bg-white hover:bg-slate-50"}`,children:ce},ce)})})()}),h.jsx("button",{onClick:()=>C(d.page+1,a),disabled:d.page>=Math.ceil(d.total/d.pageSize),className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Sau"})]})]})]}),h.jsx(KX,{user:m,isOpen:x,onClose:()=>b(!1),onRoleChange:U,onBanUser:Z=>{p(t.find(ue=>ue.id===Z)),S(!0)},onUnlockUser:ae,users:t,currentUserEmail:F()}),h.jsx(XX,{user:m,isOpen:N,onClose:()=>S(!1),onConfirm:Z=>$(m==null?void 0:m.id,Z)}),h.jsx(YX,{isOpen:j,onClose:()=>_(!1),onAdd:pe})]})}const JX="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net",ZX=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}},eY=async(t,e={})=>{try{const n=await fetch(`${JX}/api${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(n){throw console.error(`API call failed for ${t}:`,n),n}};function tY(){const t=ca(),[e,n]=J.useState(null),[i,r]=J.useState(!0),[s,a]=J.useState({totalFrames:0,publicFrames:0,totalUsers:0,reportsOpen:0,recentFrames:[]}),[o,l]=J.useState([]),[c,d]=J.useState(!1),[g,m]=J.useState(0),[p,x]=J.useState(!0),[b,N]=J.useState("dashboard"),[S,j]=J.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 768px)").matches:!0);J.useEffect(()=>{(async()=>{const z=ZX();n(z);const q=(z==null?void 0:z.vaiTro)==="admin"||(z==null?void 0:z.role)==="admin"||(z==null?void 0:z.email)==="admin@example.com";if(!z||!q){t("/");return}try{const ie=await eY("/admin/stats");a(ie)}catch(ie){console.error("Failed to load admin stats:",ie)}r(!1)})()},[t]),J.useEffect(()=>{const Y=document.querySelector("footer");if(!Y)return;const z=Y.style.display;return Y.style.display="none",()=>{Y.style.display=z||""}},[]),J.useEffect(()=>{var q,ie;const Y=window.matchMedia("(min-width: 768px)"),z=ce=>j(ce.matches);return(q=Y.addEventListener)==null||q.call(Y,"change",z),(ie=Y.addListener)==null||ie.call(Y,z),()=>{var ce,he;(ce=Y.removeEventListener)==null||ce.call(Y,"change",z),(he=Y.removeListener)==null||he.call(Y,z)}},[]),J.useEffect(()=>{if(e){_();const Y=setInterval(_,3e4);return()=>clearInterval(Y)}},[e]);const _=async()=>{try{const Y=[{id:1,tieuDe:"Khung hnh mi c to",noiDung:'Ngi dng "John Doe"  to khung hnh "Summer Vibes"',loai:"new_frame",thoiGian:new Date(Date.now()-3e5).toISOString(),daDoc:!1},{id:2,tieuDe:"Bo co vi phm mi",noiDung:'Khung hnh "Sunset Frame" b bo co vi phm bn quyn',loai:"frame_reported",thoiGian:new Date(Date.now()-9e5).toISOString(),daDoc:!1},{id:3,tieuDe:"Ngi dng mi ng k",noiDung:"jane.smith@example.com  to ti khon mi",loai:"user_registered",thoiGian:new Date(Date.now()-18e5).toISOString(),daDoc:!0}];l(Y),m(Y.filter(z=>!z.daDoc).length)}catch(Y){console.error("Failed to load notifications:",Y)}},C=async Y=>{l(z=>z.map(q=>q.id===Y?{...q,daDoc:!0}:q)),m(z=>Math.max(0,z-1))},E=async()=>{l(Y=>Y.map(z=>({...z,daDoc:!0}))),m(0)},O=Y=>({admin:"Qun tr vin",moderator:"iu hnh vin",user:"Ngi dng",nguoi_dung:"Ngi dng",quan_tri:"Qun tr vin",dieu_hanh:"iu hnh vin"})[Y]||"Ngi dng",U=Y=>{const z=new Date(Y),ie=new Date-z,ce=Math.floor(ie/6e4),he=Math.floor(ie/36e5),K=Math.floor(ie/864e5);return ce<1?"Va xong":ce<60?`${ce} pht trc`:he<24?`${he} gi trc`:K<7?`${K} ngy trc`:z.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})},F=Y=>{switch(Y){case"new_frame":return h.jsx(vs,{size:16,className:"text-blue-600"});case"user_registered":return h.jsx(za,{size:16,className:"text-green-600"});case"frame_reported":return h.jsx(I1,{size:16,className:"text-red-600"});default:return h.jsx(bv,{size:16,className:"text-gray-600"})}},R=()=>{const Y=new Date().getHours(),z=O((e==null?void 0:e.vaiTro)||(e==null?void 0:e.role)),q=(e==null?void 0:e.name)||(e==null?void 0:e.ten)||(e==null?void 0:e.TenHienThi)||"Admin";let ie="";return Y<12?ie=" Cho bui sng":Y<17?ie=" Cho bui chiu":ie=" Cho bui ti",`${ie}, ${z} ${q}!`},M=64,T=12,D=288,$=80,X=M+T,ae=T,ge=M+T,pe=S?p?D:$:0,te=ae+pe,Z=[{id:"dashboard",name:"Tng quan",icon:FR},{id:"frames",name:"Khung hnh",icon:vs},{id:"users",name:"Ngi dng",icon:A3}];return i||!e?h.jsx("div",{className:"min-h-screen grid place-items-center bg-gradient-to-br from-slate-50 via-white to-slate-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"ang ti bng iu khin..."}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Vui lng ch trong giy lt"})]})}):(e==null?void 0:e.vaiTro)==="admin"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.email)==="admin@example.com"?h.jsxs("div",{className:"relative min-h-screen bg-[radial-gradient(60%_40%_at_10%_10%,#e0f2fe_0%,transparent_70%),radial-gradient(60%_40%_at_90%_10%,#dcfce7_0%,transparent_70%)]",children:[h.jsx("aside",{style:{top:X,bottom:T,left:ae,width:pe},className:"fixed z-40 hidden md:block transition-[width] duration-300",children:h.jsxs("div",{className:"h-full rounded-3xl overflow-hidden bg-white/65 backdrop-blur-md ring-1 ring-slate-200/70 shadow-[0_6px_24px_rgba(0,0,0,0.08)] flex flex-col",children:[h.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-slate-200/60 bg-gradient-to-r from-blue-50 to-green-50",children:[h.jsx("div",{className:"size-10 grid place-items-center rounded-2xl bg-blue-600 text-white shadow-md",children:h.jsx(ZM,{size:20})}),p&&h.jsxs("div",{children:[h.jsx("div",{className:"text-[12px] text-slate-500 leading-none",children:"Admin Panel"}),h.jsx("div",{className:"text-lg font-extrabold tracking-tight text-slate-900",children:"TrendyFrame"})]})]}),p&&h.jsxs("div",{className:"px-4 py-3 border-b border-slate-200/60",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[h.jsxs("div",{className:"bg-blue-50 rounded-lg p-2 text-center",children:[h.jsx("div",{className:"font-semibold text-blue-700",children:s.totalFrames}),h.jsx("div",{className:"text-blue-600",children:"Khung hnh"})]}),h.jsxs("div",{className:"bg-green-50 rounded-lg p-2 text-center",children:[h.jsx("div",{className:"font-semibold text-green-700",children:s.totalUsers}),h.jsx("div",{className:"text-green-600",children:"Ngi dng"})]})]}),s.reportsOpen>0&&h.jsx("div",{className:"mt-2 bg-red-50 rounded-lg p-2 text-center",children:h.jsxs("div",{className:"text-xs font-semibold text-red-700",children:[s.reportsOpen," bo co ch x l"]})})]}),h.jsx("nav",{className:"flex-1 overflow-y-auto px-3 py-4",children:Z.map(Y=>{const z=Y.icon,q=b===Y.id;return h.jsxs("button",{onClick:()=>N(Y.id),className:`w-full flex items-center gap-3 mb-1.5 rounded-2xl px-3 py-2.5 text-sm font-medium transition-all
                    ${q?"bg-blue-600 text-white shadow-sm ring-1 ring-blue-600/40":"text-slate-700 hover:bg-slate-100/80"}`,children:[h.jsx("span",{className:`grid place-items-center size-8 rounded-xl
                    ${q?"bg-white/20 text-white":"bg-slate-100 text-slate-500"}`,children:h.jsx(z,{size:18})}),p&&h.jsx("span",{className:"truncate",children:Y.name}),p&&q&&h.jsx(aR,{className:"ml-auto opacity-80",size:16})]},Y.id)})}),h.jsxs("div",{className:"border-t border-slate-200/70 bg-white/75 px-3 py-4",children:[h.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white ring-1 ring-slate-200 shadow-sm p-3",children:[h.jsx("img",{src:(e==null?void 0:e.picture)||(e==null?void 0:e.AnhDaiDienUrl)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||(e==null?void 0:e.TenHienThi)||"Admin")}&background=0D8ABC&color=fff&size=128&bold=true`,alt:"avatar",className:"size-10 rounded-full object-cover",referrerPolicy:"no-referrer"}),p&&h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:(e==null?void 0:e.name)||(e==null?void 0:e.TenHienThi)||"Admin"}),h.jsx("div",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"admin@example.com"})]})]}),h.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[h.jsx("button",{onClick:()=>x(Y=>!Y),className:"rounded-xl py-2 text-xs font-semibold text-slate-700 bg-slate-100 hover:bg-slate-200 transition",children:p?"Thu gn":"M rng"}),h.jsxs("button",{onClick:()=>{localStorage.removeItem("kh_me"),t("/")},className:"rounded-xl py-2 text-xs font-semibold text-white bg-slate-900 hover:bg-black",children:[h.jsx(Lx,{size:14,className:"inline -mt-0.5 mr-1"}),p?"ng xut":""]})]})]})]})}),h.jsxs("div",{style:{paddingTop:ge,paddingRight:T,paddingLeft:T,marginLeft:te,maxWidth:`calc(100vw - ${te+T}px)`},className:"px-4 sm:px-6 overflow-x-clip",children:[h.jsx("div",{className:"sticky z-20",style:{top:X},children:h.jsx("div",{className:"rounded-2xl backdrop-blur bg-white/90 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"px-4 sm:px-6 h-16 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[h.jsx("button",{className:"md:hidden rounded-xl bg-white ring-1 ring-slate-200 px-3 py-1.5 text-sm font-medium",onClick:()=>x(Y=>!Y),children:"Menu"}),h.jsxs("div",{className:"hidden md:block",children:[h.jsx("div",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),h.jsx("div",{className:"text-lg font-semibold text-gray-900",children:R()})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"hidden xl:flex items-center gap-2 text-xs",children:[s.reportsOpen>0&&h.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-red-50 text-red-700 rounded-lg",children:[h.jsx(Sd,{size:14}),h.jsx("span",{className:"font-medium",children:s.reportsOpen})]}),h.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded-lg",children:[h.jsx(D9,{size:14}),h.jsxs("span",{className:"font-medium",children:[s.publicFrames," active"]})]})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>d(!c),className:"relative rounded-xl ring-1 ring-slate-200 bg-white px-3 py-2 hover:bg-gray-50 transition-colors",children:[h.jsx(bv,{size:18}),g>0&&h.jsx("span",{className:"absolute -top-1 -right-1 size-5 grid place-items-center rounded-full bg-rose-500 text-white text-[11px] font-medium",children:g>99?"99+":g})]}),c&&h.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-2xl shadow-xl ring-1 ring-slate-200 z-50",children:[h.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 flex items-center justify-between",children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:"Thng bo"}),h.jsxs("div",{className:"flex items-center gap-2",children:[g>0&&h.jsx("button",{onClick:E,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"nh du tt c"}),h.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:h.jsx(_h,{size:18})})]})]}),h.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.length===0?h.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[h.jsx(bv,{size:24,className:"mx-auto mb-2 opacity-50"}),h.jsx("p",{className:"text-sm",children:"Khng c thng bo mi"})]}):h.jsx("div",{className:"py-2",children:o.map(Y=>h.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer border-l-4 transition-colors ${Y.daDoc?"border-transparent":"border-blue-500 bg-blue-50/30"}`,onClick:()=>!Y.daDoc&&C(Y.id),children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"flex-shrink-0 mt-0.5",children:F(Y.loai)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsx("p",{className:`text-sm ${Y.daDoc?"text-gray-600":"text-gray-900 font-medium"}`,children:Y.tieuDe}),!Y.daDoc&&h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-1"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Y.noiDung}),h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx("span",{className:"text-xs text-gray-400",children:U(Y.thoiGian)}),Y.loai==="new_frame"&&h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-100 text-blue-700 text-[10px] font-medium",children:[h.jsx(vs,{size:10}),"Khung mi"]})]})]})]})},Y.id))})}),o.length>0&&h.jsx("div",{className:"px-4 py-3 border-t border-slate-200 text-center",children:h.jsx("button",{onClick:()=>{N("reports"),d(!1)},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Xem tt c thng bo"})})]})]}),h.jsx("button",{className:"rounded-xl ring-1 ring-slate-200 bg-white px-3 py-2 hover:bg-gray-50 transition-colors",children:h.jsx(xR,{size:18})})]})]})})}),h.jsxs("main",{className:"py-8 w-full min-w-0",children:[b==="dashboard"&&h.jsx(HX,{}),b==="frames"&&h.jsx(WX,{}),b==="users"&&h.jsx(QX,{})]})]}),c&&h.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)})]}):h.jsx("div",{className:"min-h-screen grid place-items-center bg-gradient-to-br from-red-50 via-white to-red-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx(I1,{className:"mx-auto h-16 w-16 text-red-400 mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Khng c quyn truy cp"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Ch Qun tr vin mi c th truy cp trang ny."}),h.jsx("button",{onClick:()=>t("/"),className:"px-6 py-2 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:"V trang ch"})]})})}function sy(t){if(t===0)return"0 B";const e=1024,n=["B","KB","MB","GB"],i=Math.floor(Math.log(t)/Math.log(e));return`${(t/Math.pow(e,i)).toFixed(2)} ${n[i]}`}async function nY(t){try{return await createImageBitmap(t)}catch{return new Promise((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=n,i.src=URL.createObjectURL(t)})}}async function iY(t,e=.8,n=!1){const i=await nY(t),r=document.createElement("canvas");r.width=i.width,r.height=i.height,r.getContext("2d").drawImage(i,0,0);const a=t.type.toLowerCase();let o="image/webp";n?o=a||"image/webp":(a.includes("jpeg")||a.includes("jpg"))&&(o="image/jpeg");const l=r.toDataURL(o,e),c=await(await fetch(l)).blob(),d=t.name.replace(/\.[^.]+$/,"")+(o.includes("jpeg")?".jpg":o.includes("png")?".png":".webp");return new File([c],d,{type:o})}function rY(){const t=J.useRef(null),[e,n]=J.useState([]),i=async s=>{const a=Array.from(s||[]);if(!a.length)return;const o=a.map(l=>({file:l,outFile:null,saving:!0,thumb:URL.createObjectURL(l)}));n(l=>[...l,...o]);for(const l of a)try{const c=await iY(l,.85,!1);n(d=>d.map(g=>g.file===l?{...g,outFile:c,saving:!1}:g))}catch(c){console.error(c),n(d=>d.map(g=>g.file===l?{...g,outFile:null,saving:!1}:g))}},r=e.reduce((s,a)=>a.outFile?s+(a.file.size-a.outFile.size):s,0);return h.jsx("div",{className:"min-h-[calc(100vh-64px)] bg-white",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[h.jsx("h1",{className:"text-[42px] md:text-[48px] font-black text-[#0f172a] text-center mb-8",children:"Nn hnh nh"}),h.jsxs("div",{className:`rounded-3xl bg-white ring-1 ring-slate-200 p-8 md:p-10 mx-auto max-w-4xl\r
                     shadow-[0_20px_60px_-20px_rgba(0,0,0,.06)]\r
                     relative overflow-hidden`,onDrop:s=>{s.preventDefault(),i(s.dataTransfer.files)},onDragOver:s=>s.preventDefault(),children:[h.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 opacity-[0.35] pointer-events-none",style:{backgroundImage:"linear-gradient(0deg, rgba(0,0,0,.03) 1px, transparent 1px), linear-gradient(90deg, rgba(0,0,0,.03) 1px, transparent 1px)",backgroundSize:"22px 22px"}}),h.jsxs("div",{className:"relative grid place-items-center gap-2",children:[h.jsx("button",{type:"button",onClick:()=>{var s;return(s=t.current)==null?void 0:s.click()},className:`inline-flex items-center gap-2 px-5 py-3 rounded-xl\r
     bg-[#2563eb] text-white font-semibold hover:bg-[#1d4ed8]\r
     shadow-[0_8px_22px_rgba(37,99,235,.35)]`,children:"Chn hnh"}),h.jsx("div",{className:"text-sm text-slate-500",children:"H tr nh dng PNG / JPG / WebP"}),h.jsx("input",{ref:t,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:s=>i(s.target.files),onClick:s=>{s.target.value=""}})]})]}),h.jsx("div",{className:"max-w-4xl mx-auto mt-6 flex items-center justify-end",children:h.jsxs("div",{className:"text-emerald-600 font-extrabold text-xl",children:[r>0?`-${(r/(r+e.reduce((s,a)=>{var o;return s+(((o=a.outFile)==null?void 0:o.size)||0)},0))*100).toFixed(1)}%`:"-0%",h.jsxs("span",{className:"ml-2 text-sm font-semibold text-slate-500",children:["(",sy(r),"  gim)"]})]})}),h.jsx("div",{className:"max-w-4xl mx-auto mt-4 space-y-3",children:e.map((s,a)=>{var g,m;const o=s.file.size,l=((g=s.outFile)==null?void 0:g.size)??o,c=Math.max(0,o-l),d=o?Math.round(c/o*100):0;return h.jsxs("div",{className:"flex items-center gap-4 rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 px-4 py-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden ring-1 ring-slate-200 shrink-0 bg-slate-50",children:h.jsx("img",{src:s.thumb,alt:"",className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("div",{className:"font-semibold text-slate-800 truncate",children:((m=s.outFile)==null?void 0:m.name)||s.file.name}),h.jsxs("div",{className:"text-xs text-slate-500",children:[sy(o)," ",h.jsx("span",{className:"mx-1",children:""})," ",sy(l)]})]}),h.jsxs("span",{className:`shrink-0 inline-flex items-center px-2 py-1 rounded-md text-xs font-bold\r
                                 bg-emerald-50 text-emerald-700 ring-1 ring-emerald-100`,children:["-",d,"%"]}),s.saving?h.jsx("div",{className:"text-sm text-slate-500",children:"ang nn"}):s.outFile?h.jsxs("a",{href:URL.createObjectURL(s.outFile),download:s.outFile.name,className:`shrink-0 inline-flex items-center gap-2 px-4 py-2 rounded-xl\r
             bg-[#2563eb] text-white text-sm font-semibold hover:bg-[#1d4ed8]\r
             shadow-[0_8px_22px_rgba(37,99,235,.35)]`,children:[h.jsx(zl,{size:16})," Ti v"]}):h.jsx("div",{className:"text-rose-600 text-sm",children:"Li"})]},a)})})]})})}function sY(){const t=J.useRef(null),[e,n]=J.useState("trong"),[i,r]=J.useState(null),[s,a]=J.useState(""),[o,l]=J.useState({w:0,h:0}),[c,d]=J.useState(!0),[g,m]=J.useState(!1),[p,x]=J.useState({w:0,h:0}),[b,N]=J.useState(""),[S,j]=J.useState({w:0,h:0}),_=()=>{var T;return(T=t.current)==null?void 0:T.click()},C=T=>{var ae;const D=(ae=T.target.files)==null?void 0:ae[0];if(!D)return;s&&URL.revokeObjectURL(s),b&&URL.revokeObjectURL(b),r(D);const $=URL.createObjectURL(D);a($);const X=new Image;X.onload=()=>{const ge=X.naturalWidth,pe=X.naturalHeight;l({w:ge,h:pe}),x({w:ge,h:pe}),n("chinh-sua")},X.src=$};J.useEffect(()=>()=>{s&&URL.revokeObjectURL(s),b&&URL.revokeObjectURL(b)},[]);const E=T=>{if(T=Math.max(1,Math.round(+T||0)),c&&o.w){const D=o.h/o.w;x({w:T,h:Math.max(1,Math.round(T*D))})}else x(D=>({...D,w:T}))},O=T=>{if(T=Math.max(1,Math.round(+T||0)),c&&o.h){const D=o.w/o.h;x({h:T,w:Math.max(1,Math.round(T*D))})}else x(D=>({...D,h:T}))},U=async(T,D)=>{if(!i)return;const $=await $S(i);let X=T,ae=D;if(c){const z=o.w/o.h,q=T/D;Math.abs(z-q)>.06&&(z>q?(X=Math.round(D*z),ae=D):(X=T,ae=Math.round(T/z)))}g||(X=Math.min(X,o.w),ae=Math.min(ae,o.h));const{blob:ge}=await GS($,X,ae),pe=URL.createObjectURL(ge),te=i.name.replace(/\.[^.]+$/,""),Z=(i.name.split(".").pop()||"png").toLowerCase(),ue=`${te}-${X}x${ae}.${Z}`,Y=document.createElement("a");Y.href=pe,Y.download=ue,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(pe)},F=async()=>{if(!i||!p.w||!p.h)return;const T=await $S(i);let D=p.w,$=p.h;g||(D=Math.min(D,o.w),$=Math.min($,o.h));const{blob:X,w:ae,h:ge}=await GS(T,D,$),pe=URL.createObjectURL(X);N(pe),j({w:ae,h:ge}),n("ket-qua")},R=()=>{s&&URL.revokeObjectURL(s),b&&URL.revokeObjectURL(b),r(null),a(""),N(""),n("trong")},M=J.useMemo(()=>{if(!i)return"";const T=i.name.replace(/\.[^.]+$/,""),D=(i.name.split(".").pop()||"png").toLowerCase();return`${T}-${p.w}x${p.h}.${D}`},[i,p]);return h.jsx("div",{className:"relative min-h-[80vh] bg-white",children:h.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-6 py-10",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 text-center mb-6",children:"Thay i kch thc nh"}),e==="trong"&&h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Ti nh JPEG, PNG v thay i kch thc d dng vi cng c trc tuyn min ph."}),h.jsxs("button",{onClick:_,className:"mt-6 inline-flex items-center gap-2 rounded-xl px-6 py-3 bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 transition",children:[h.jsx(wh,{size:18})," Chn nh ca bn"]}),h.jsx("input",{ref:t,onChange:C,type:"file",accept:"image/*",hidden:!0})]}),e==="chinh-sua"&&h.jsxs("div",{className:"grid md:grid-cols-[1fr_360px] gap-8",children:[h.jsx("div",{className:"mx-auto",children:h.jsxs("div",{className:"card bg-white rounded-2xl border shadow p-4 w-[320px] h-[380px] grid place-items-center",children:[s&&h.jsx("img",{src:s,alt:"xem trc",className:"max-w-full max-h-56 object-contain"}),h.jsxs("div",{className:"w-full text-sm mt-3",children:[h.jsx("div",{className:"font-semibold truncate",children:i==null?void 0:i.name}),h.jsxs("div",{className:"text-blue-700",children:[o.w,"x",o.h,"  ",p.w,"x",p.h]})]}),h.jsx("button",{onClick:R,className:"mt-2 text-red-500 hover:underline text-sm",children:"Xa nh"})]})}),h.jsxs("aside",{className:"card bg-white rounded-2xl border shadow p-5",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"font-semibold text-lg",children:"Ty chn"}),h.jsx("button",{onClick:_,className:"rounded-lg px-4 py-2 bg-blue-600 text-white font-semibold hover:bg-blue-700",children:"Chn nh khc"}),h.jsx("input",{ref:t,onChange:C,type:"file",accept:"image/*",hidden:!0})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Ty chn nhanh - Ti ngay"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("button",{onClick:()=>U(1080,1080),className:"px-3 py-2 rounded-lg border text-sm hover:bg-blue-50 hover:border-blue-500 transition flex items-center justify-center gap-2",children:[h.jsx(zl,{size:14}),"1080x1080"]}),h.jsxs("button",{onClick:()=>U(2048,2048),className:"px-3 py-2 rounded-lg border text-sm hover:bg-blue-50 hover:border-blue-500 transition flex items-center justify-center gap-2",children:[h.jsx(zl,{size:14}),"2048x2048"]}),h.jsxs("button",{onClick:()=>U(1920,1080),className:"px-3 py-2 rounded-lg border text-sm hover:bg-blue-50 hover:border-blue-500 transition flex items-center justify-center gap-2",children:[h.jsx(zl,{size:14}),"1920x1080"]}),h.jsxs("button",{onClick:()=>U(1080,1920),className:"px-3 py-2 rounded-lg border text-sm hover:bg-blue-50 hover:border-blue-500 transition flex items-center justify-center gap-2",children:[h.jsx(zl,{size:14}),"1080x1920"]})]})]}),h.jsxs("div",{className:"mt-5 space-y-4",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Hoc ty chnh kch thc theo  bn"}),h.jsxs("div",{className:"grid grid-cols-[110px_1fr] gap-2 items-center",children:[h.jsx("span",{children:"Chiu rng"}),h.jsx("input",{type:"number",min:"1",value:p.w||"",onChange:T=>E(T.target.value),className:"w-full border rounded-lg px-3 py-2"}),h.jsx("span",{children:"Chiu cao"}),h.jsx("input",{type:"number",min:"1",value:p.h||"",onChange:T=>O(T.target.value),className:"w-full border rounded-lg px-3 py-2"})]}),(p.w>o.w||p.h>o.h)&&!g&&h.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800",children:' Kch thc bn chn ln hn nh gc. Hy bt ty chn "Cho php phng to" bn di.'}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",id:"giuTyLe",checked:c,onChange:()=>d(T=>!T)}),h.jsx("label",{htmlFor:"giuTyLe",className:"cursor-pointer",children:"Gi nguyn t l nh (khuyn ngh)"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",id:"choPhepPhongTo",checked:g,onChange:()=>m(T=>!T)}),h.jsxs("label",{htmlFor:"choPhepPhongTo",className:"cursor-pointer",children:["Cho php phng to nh",h.jsx("span",{className:"text-xs text-gray-500 block",children:"(Lu : Phng to c th lm nh b m/v)"})]})]}),h.jsx("button",{onClick:F,className:"w-full mt-4 inline-flex justify-center items-center gap-2 rounded-xl px-6 py-3 bg-blue-600 text-white font-semibold hover:bg-blue-700",children:"Xem kt qu"})]})]})]}),e==="ket-qua"&&h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"card bg-white rounded-2xl border shadow p-4 w-[320px] h-[380px] mx-auto grid place-items-center",children:[b?h.jsx("img",{src:b,alt:"kt qu",className:"max-w-full max-h-56 object-contain"}):h.jsxs("div",{className:"text-gray-400 grid place-items-center gap-2",children:[h.jsx(vs,{})," ang x l"]}),h.jsxs("div",{className:"text-blue-700 mt-3",children:["Kch thc mi: ",S.w,"x",S.h]}),h.jsxs("a",{href:b,download:M||"anh-da-resize.png",className:"mt-3 inline-flex items-center gap-2 rounded-xl px-5 py-2.5 bg-blue-600 text-white font-semibold hover:bg-blue-700",children:[h.jsx(zl,{size:18})," Ti nh v my"]})]}),h.jsxs("button",{onClick:()=>n("chinh-sua"),className:"mt-6 inline-flex items-center gap-2 px-4 py-2 rounded-lg border hover:bg-gray-50",children:[h.jsx(rR,{size:18})," Quay li chnh sa"]})]})]})})}function $S(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=n,i.src=URL.createObjectURL(t)})}function GS(t,e,n,i="image/png",r=.92){return new Promise(s=>{const a=document.createElement("canvas");a.width=Math.max(1,Math.round(e)),a.height=Math.max(1,Math.round(n));const o=a.getContext("2d");o.imageSmoothingQuality="high",o.drawImage(t,0,0,a.width,a.height),a.toBlob(l=>{s({blob:l,w:a.width,h:a.height})},i,r)})}const aY="modulepreload",oY=function(t){return"/"+t},WS={},ay=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=oY(l),l in WS)return;WS[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":aY,c||(g.as="script"),g.crossOrigin="",g.href=l,o&&g.setAttribute("nonce",o),document.head.appendChild(g),c)return new Promise((m,p)=>{g.addEventListener("load",m),g.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function jn(t){"@babel/helpers - typeof";return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(t)}var Co=Uint8Array,na=Uint16Array,Bb=Int32Array,zb=new Co([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ub=new Co([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qS=new Co([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rP=function(t,e){for(var n=new na(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new Bb(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return{b:n,r}},sP=rP(zb,2),lY=sP.b,y4=sP.r;lY[28]=258,y4[258]=28;var cY=rP(Ub,0),KS=cY.r,x4=new na(32768);for(var Yn=0;Yn<32768;++Yn){var Ac=(Yn&43690)>>1|(Yn&21845)<<1;Ac=(Ac&52428)>>2|(Ac&13107)<<2,Ac=(Ac&61680)>>4|(Ac&3855)<<4,x4[Yn]=((Ac&65280)>>8|(Ac&255)<<8)>>1}var up=function(t,e,n){for(var i=t.length,r=0,s=new na(e);r<i;++r)t[r]&&++s[t[r]-1];var a=new na(e);for(r=1;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;var o;if(n){o=new na(1<<e);var l=15-e;for(r=0;r<i;++r)if(t[r])for(var c=r<<4|t[r],d=e-t[r],g=a[t[r]-1]++<<d,m=g|(1<<d)-1;g<=m;++g)o[x4[g]>>l]=c}else for(o=new na(i),r=0;r<i;++r)t[r]&&(o[r]=x4[a[t[r]-1]++]>>15-t[r]);return o},Nh=new Co(288);for(var Yn=0;Yn<144;++Yn)Nh[Yn]=8;for(var Yn=144;Yn<256;++Yn)Nh[Yn]=9;for(var Yn=256;Yn<280;++Yn)Nh[Yn]=7;for(var Yn=280;Yn<288;++Yn)Nh[Yn]=8;var o2=new Co(32);for(var Yn=0;Yn<32;++Yn)o2[Yn]=5;var uY=up(Nh,9,0),hY=up(o2,5,0),aP=function(t){return(t+7)/8|0},dY=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Co(t.subarray(e,n))},Tl=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8},P0=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8,t[i+2]|=n>>16},oy=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var r=n.length,s=n.slice();if(!r)return{t:lP,l:0};if(r==1){var a=new Co(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(E,O){return E.f-O.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,d=1,g=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=r-1;)o=n[n[c].f<n[g].f?c++:g++],l=n[c!=d&&n[c].f<n[g].f?c++:g++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=s[0].s,i=1;i<r;++i)s[i].s>m&&(m=s[i].s);var p=new na(m+1),x=b4(n[d-1],p,0);if(x>e){var i=0,b=0,N=x-e,S=1<<N;for(s.sort(function(O,U){return p[U.s]-p[O.s]||O.f-U.f});i<r;++i){var j=s[i].s;if(p[j]>e)b+=S-(1<<x-p[j]),p[j]=e;else break}for(b>>=N;b>0;){var _=s[i].s;p[_]<e?b-=1<<e-p[_]++-1:++i}for(;i>=0&&b;--i){var C=s[i].s;p[C]==e&&(--p[C],++b)}x=e}return{t:new Co(p),l:x}},b4=function(t,e,n){return t.s==-1?Math.max(b4(t.l,e,n+1),b4(t.r,e,n+1)):e[t.s]=n},XS=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new na(++e),i=0,r=t[0],s=1,a=function(l){n[i++]=l},o=1;o<=e;++o)if(t[o]==r&&o!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=t[o]}return{c:n.subarray(0,i),n:e}},L0=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},oP=function(t,e,n){var i=n.length,r=aP(e+2);t[r]=i&255,t[r+1]=i>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var s=0;s<i;++s)t[r+s+4]=n[s];return(r+4+i)*8},YS=function(t,e,n,i,r,s,a,o,l,c,d){Tl(e,d++,n),++r[256];for(var g=oy(r,15),m=g.t,p=g.l,x=oy(s,15),b=x.t,N=x.l,S=XS(m),j=S.c,_=S.n,C=XS(b),E=C.c,O=C.n,U=new na(19),F=0;F<j.length;++F)++U[j[F]&31];for(var F=0;F<E.length;++F)++U[E[F]&31];for(var R=oy(U,7),M=R.t,T=R.l,D=19;D>4&&!M[qS[D-1]];--D);var $=c+5<<3,X=L0(r,Nh)+L0(s,o2)+a,ae=L0(r,m)+L0(s,b)+a+14+3*D+L0(U,M)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&$<=X&&$<=ae)return oP(e,d,t.subarray(l,l+c));var ge,pe,te,Z;if(Tl(e,d,1+(ae<X)),d+=2,ae<X){ge=up(m,p,0),pe=m,te=up(b,N,0),Z=b;var ue=up(M,T,0);Tl(e,d,_-257),Tl(e,d+5,O-1),Tl(e,d+10,D-4),d+=14;for(var F=0;F<D;++F)Tl(e,d+3*F,M[qS[F]]);d+=3*D;for(var Y=[j,E],z=0;z<2;++z)for(var q=Y[z],F=0;F<q.length;++F){var ie=q[F]&31;Tl(e,d,ue[ie]),d+=M[ie],ie>15&&(Tl(e,d,q[F]>>5&127),d+=q[F]>>12)}}else ge=uY,pe=Nh,te=hY,Z=o2;for(var F=0;F<o;++F){var ce=i[F];if(ce>255){var ie=ce>>18&31;P0(e,d,ge[ie+257]),d+=pe[ie+257],ie>7&&(Tl(e,d,ce>>23&31),d+=zb[ie]);var he=ce&31;P0(e,d,te[he]),d+=Z[he],he>3&&(P0(e,d,ce>>5&8191),d+=Ub[he])}else P0(e,d,ge[ce]),d+=pe[ce]}return P0(e,d,ge[256]),d+pe[256]},fY=new Bb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),lP=new Co(0),pY=function(t,e,n,i,r,s){var a=s.z||t.length,o=new Co(i+a+5*(1+Math.ceil(a/7e3))+r),l=o.subarray(i,o.length-r),c=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var g=fY[e-1],m=g>>13,p=g&8191,x=(1<<n)-1,b=s.p||new na(32768),N=s.h||new na(x+1),S=Math.ceil(n/3),j=2*S,_=function(je){return(t[je]^t[je+1]<<S^t[je+2]<<j)&x},C=new Bb(25e3),E=new na(288),O=new na(32),U=0,F=0,R=s.i||0,M=0,T=s.w||0,D=0;R+2<a;++R){var $=_(R),X=R&32767,ae=N[$];if(b[X]=ae,N[$]=X,T<=R){var ge=a-R;if((U>7e3||M>24576)&&(ge>423||!c)){d=YS(t,l,0,C,E,O,F,M,D,R-D,d),M=U=F=0,D=R;for(var pe=0;pe<286;++pe)E[pe]=0;for(var pe=0;pe<30;++pe)O[pe]=0}var te=2,Z=0,ue=p,Y=X-ae&32767;if(ge>2&&$==_(R-Y))for(var z=Math.min(m,ge)-1,q=Math.min(32767,R),ie=Math.min(258,ge);Y<=q&&--ue&&X!=ae;){if(t[R+te]==t[R+te-Y]){for(var ce=0;ce<ie&&t[R+ce]==t[R+ce-Y];++ce);if(ce>te){if(te=ce,Z=Y,ce>z)break;for(var he=Math.min(Y,ce-2),K=0,pe=0;pe<he;++pe){var de=R-Y+pe&32767,me=b[de],Ce=de-me&32767;Ce>K&&(K=Ce,ae=de)}}}X=ae,ae=b[X],Y+=X-ae&32767}if(Z){C[M++]=268435456|y4[te]<<18|KS[Z];var Le=y4[te]&31,ze=KS[Z]&31;F+=zb[Le]+Ub[ze],++E[257+Le],++O[ze],T=R+te,++U}else C[M++]=t[R],++E[t[R]]}}for(R=Math.max(R,T);R<a;++R)C[M++]=t[R],++E[t[R]];d=YS(t,l,c,C,E,O,F,M,D,R-D,d),c||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=N,s.p=b,s.i=R,s.w=T)}else{for(var R=s.w||0;R<a+c;R+=65535){var Be=R+65535;Be>=a&&(l[d/8|0]=c,Be=a),d=oP(l,d+1,t.subarray(R,Be))}s.i=a}return dY(o,0,i+aP(d)+r)},cP=function(){var t=1,e=0;return{p:function(n){for(var i=t,r=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)r+=i+=n[a];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}t=i,e=r},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},gY=function(t,e,n,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Co(s.length+t.length);a.set(s),a.set(t,s.length),t=a,r.w=s.length}return pY(t,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,i,r)},uP=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},mY=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=cP();r.p(e.dictionary),uP(t,2,r.d())}};function w4(t,e){e||(e={});var n=cP();n.p(t);var i=gY(t,e,e.dictionary?6:2,4);return mY(i,e),uP(i,i.length-4,n.d()),i}var vY=typeof TextDecoder<"u"&&new TextDecoder,yY=0;try{vY.decode(lP,{stream:!0}),yY=1}catch{}function xY(t){if(Array.isArray(t))return t}function bY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return o}}function QS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function wY(t,e){if(t){if(typeof t=="string")return QS(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QS(t,e):void 0}}function _Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JS(t,e){return xY(t)||bY(t,e)||wY(t,e)||_Y()}function ZS(t,e="utf8"){return new TextDecoder(e).decode(t)}const SY=new TextEncoder;function NY(t){return SY.encode(t)}const kY=1024*8,CY=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),ly={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Vb{constructor(e=kY,n={}){Ze(this,"buffer");Ze(this,"byteLength");Ze(this,"byteOffset");Ze(this,"length");Ze(this,"offset");Ze(this,"lastWrittenByte");Ze(this,"littleEndian");Ze(this,"_data");Ze(this,"_mark");Ze(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const r=n.offset?n.offset>>>0:0,s=e.byteLength-r;let a=r;(ArrayBuffer.isView(e)||e instanceof Vb)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+r),e=e.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const i=ly[n].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+i);if(this.littleEndian===CY&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(r,r+i));o.reverse();const l=new ly[n](o.buffer);return this.offset+=i,l.reverse(),l}const a=new ly[n](s);return this.offset+=i,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let i=0;i<e;i++)n+=this.readChar();return n}readUtf8(e=1){return ZS(this.readBytes(e))}decodeText(e=1,n="utf8"){return ZS(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(NY(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Of(t){let e=t.length;for(;--e>=0;)t[e]=0}const jY=3,AY=258,hP=29,PY=256,LY=PY+1+hP,dP=30,TY=512,EY=new Array((LY+2)*2);Of(EY);const MY=new Array(dP*2);Of(MY);const RY=new Array(TY);Of(RY);const FY=new Array(AY-jY+1);Of(FY);const DY=new Array(hP);Of(DY);const IY=new Array(dP);Of(IY);const OY=(t,e,n,i)=>{let r=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do r=r+e[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};var _4=OY;const BY=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},zY=new Uint32Array(BY()),UY=(t,e,n,i)=>{const r=zY,s=i+n;t^=-1;for(let a=i;a<s;a++)t=t>>>8^r[(t^e[a])&255];return t^-1};var Wo=UY,S4={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fP={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const VY=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var HY=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)VY(n,i)&&(t[i]=n[i])}}return t},$Y=t=>{let e=0;for(let i=0,r=t.length;i<r;i++)e+=t[i].length;const n=new Uint8Array(e);for(let i=0,r=0,s=t.length;i<s;i++){let a=t[i];n.set(a,r),r+=a.length}return n},pP={assign:HY,flattenChunks:$Y};let gP=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gP=!1}const qp=new Uint8Array(256);for(let t=0;t<256;t++)qp[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;qp[254]=qp[254]=1;var GY=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,i,r,s,a=t.length,o=0;for(r=0;r<a;r++)n=t.charCodeAt(r),(n&64512)===55296&&r+1<a&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,r=0;s<o;r++)n=t.charCodeAt(r),(n&64512)===55296&&r+1<a&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const WY=(t,e)=>{if(e<65534&&t.subarray&&gP)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n};var qY=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,r;const s=new Array(n*2);for(r=0,i=0;i<n;){let a=t[i++];if(a<128){s[r++]=a;continue}let o=qp[a];if(o>4){s[r++]=65533,i+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&i<n;)a=a<<6|t[i++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return WY(s,r)},KY=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+qp[t[n]]>e?n:e},N4={string2buf:GY,buf2string:qY,utf8border:KY};function XY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var YY=XY;const Sm=16209,QY=16191;var JY=function(e,n){let i,r,s,a,o,l,c,d,g,m,p,x,b,N,S,j,_,C,E,O,U,F,R,M;const T=e.state;i=e.next_in,R=e.input,r=i+(e.avail_in-5),s=e.next_out,M=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),l=T.dmax,c=T.wsize,d=T.whave,g=T.wnext,m=T.window,p=T.hold,x=T.bits,b=T.lencode,N=T.distcode,S=(1<<T.lenbits)-1,j=(1<<T.distbits)-1;e:do{x<15&&(p+=R[i++]<<x,x+=8,p+=R[i++]<<x,x+=8),_=b[p&S];t:for(;;){if(C=_>>>24,p>>>=C,x-=C,C=_>>>16&255,C===0)M[s++]=_&65535;else if(C&16){E=_&65535,C&=15,C&&(x<C&&(p+=R[i++]<<x,x+=8),E+=p&(1<<C)-1,p>>>=C,x-=C),x<15&&(p+=R[i++]<<x,x+=8,p+=R[i++]<<x,x+=8),_=N[p&j];n:for(;;){if(C=_>>>24,p>>>=C,x-=C,C=_>>>16&255,C&16){if(O=_&65535,C&=15,x<C&&(p+=R[i++]<<x,x+=8,x<C&&(p+=R[i++]<<x,x+=8)),O+=p&(1<<C)-1,O>l){e.msg="invalid distance too far back",T.mode=Sm;break e}if(p>>>=C,x-=C,C=s-a,O>C){if(C=O-C,C>d&&T.sane){e.msg="invalid distance too far back",T.mode=Sm;break e}if(U=0,F=m,g===0){if(U+=c-C,C<E){E-=C;do M[s++]=m[U++];while(--C);U=s-O,F=M}}else if(g<C){if(U+=c+g-C,C-=g,C<E){E-=C;do M[s++]=m[U++];while(--C);if(U=0,g<E){C=g,E-=C;do M[s++]=m[U++];while(--C);U=s-O,F=M}}}else if(U+=g-C,C<E){E-=C;do M[s++]=m[U++];while(--C);U=s-O,F=M}for(;E>2;)M[s++]=F[U++],M[s++]=F[U++],M[s++]=F[U++],E-=3;E&&(M[s++]=F[U++],E>1&&(M[s++]=F[U++]))}else{U=s-O;do M[s++]=M[U++],M[s++]=M[U++],M[s++]=M[U++],E-=3;while(E>2);E&&(M[s++]=M[U++],E>1&&(M[s++]=M[U++]))}}else if(C&64){e.msg="invalid distance code",T.mode=Sm;break e}else{_=N[(_&65535)+(p&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){T.mode=QY;break e}else{e.msg="invalid literal/length code",T.mode=Sm;break e}else{_=b[(_&65535)+(p&(1<<C)-1)];continue t}break}}while(i<r&&s<o);E=x>>3,i-=E,x-=E<<3,p&=(1<<x)-1,e.next_in=i,e.next_out=s,e.avail_in=i<r?5+(r-i):5-(i-r),e.avail_out=s<o?257+(o-s):257-(s-o),T.hold=p,T.bits=x};const bd=15,e7=852,t7=592,n7=0,cy=1,i7=2,ZY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eQ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tQ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),nQ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),iQ=(t,e,n,i,r,s,a,o)=>{const l=o.bits;let c=0,d=0,g=0,m=0,p=0,x=0,b=0,N=0,S=0,j=0,_,C,E,O,U,F=null,R;const M=new Uint16Array(bd+1),T=new Uint16Array(bd+1);let D=null,$,X,ae;for(c=0;c<=bd;c++)M[c]=0;for(d=0;d<i;d++)M[e[n+d]]++;for(p=l,m=bd;m>=1&&M[m]===0;m--);if(p>m&&(p=m),m===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(g=1;g<m&&M[g]===0;g++);for(p<g&&(p=g),N=1,c=1;c<=bd;c++)if(N<<=1,N-=M[c],N<0)return-1;if(N>0&&(t===n7||m!==1))return-1;for(T[1]=0,c=1;c<bd;c++)T[c+1]=T[c]+M[c];for(d=0;d<i;d++)e[n+d]!==0&&(a[T[e[n+d]]++]=d);if(t===n7?(F=D=a,R=20):t===cy?(F=ZY,D=eQ,R=257):(F=tQ,D=nQ,R=0),j=0,d=0,c=g,U=s,x=p,b=0,E=-1,S=1<<p,O=S-1,t===cy&&S>e7||t===i7&&S>t7)return 1;for(;;){$=c-b,a[d]+1<R?(X=0,ae=a[d]):a[d]>=R?(X=D[a[d]-R],ae=F[a[d]-R]):(X=96,ae=0),_=1<<c-b,C=1<<x,g=C;do C-=_,r[U+(j>>b)+C]=$<<24|X<<16|ae|0;while(C!==0);for(_=1<<c-1;j&_;)_>>=1;if(_!==0?(j&=_-1,j+=_):j=0,d++,--M[c]===0){if(c===m)break;c=e[n+a[d]]}if(c>p&&(j&O)!==E){for(b===0&&(b=p),U+=g,x=c-b,N=1<<x;x+b<m&&(N-=M[x+b],!(N<=0));)x++,N<<=1;if(S+=1<<x,t===cy&&S>e7||t===i7&&S>t7)return 1;E=j&O,r[E]=p<<24|x<<16|U-s|0}}return j!==0&&(r[U+j]=c-b<<24|64<<16|0),o.bits=p,0};var hp=iQ;const rQ=0,mP=1,vP=2,{Z_FINISH:r7,Z_BLOCK:sQ,Z_TREES:Nm,Z_OK:kh,Z_STREAM_END:aQ,Z_NEED_DICT:oQ,Z_STREAM_ERROR:qa,Z_DATA_ERROR:yP,Z_MEM_ERROR:xP,Z_BUF_ERROR:lQ,Z_DEFLATED:s7}=fP,D5=16180,a7=16181,o7=16182,l7=16183,c7=16184,u7=16185,h7=16186,d7=16187,f7=16188,p7=16189,l2=16190,El=16191,uy=16192,g7=16193,hy=16194,m7=16195,v7=16196,y7=16197,x7=16198,km=16199,Cm=16200,b7=16201,w7=16202,_7=16203,S7=16204,N7=16205,dy=16206,k7=16207,C7=16208,ni=16209,bP=16210,wP=16211,cQ=852,uQ=592,hQ=15,dQ=hQ,j7=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function fQ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<D5||e.mode>wP?1:0},_P=t=>{if(zh(t))return qa;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=D5,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(cQ),e.distcode=e.distdyn=new Int32Array(uQ),e.sane=1,e.back=-1,kh},SP=t=>{if(zh(t))return qa;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,_P(t)},NP=(t,e)=>{let n;if(zh(t))return qa;const i=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?qa:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,SP(t))},kP=(t,e)=>{if(!t)return qa;const n=new fQ;t.state=n,n.strm=t,n.window=null,n.mode=D5;const i=NP(t,e);return i!==kh&&(t.state=null),i},pQ=t=>kP(t,dQ);let A7=!0,fy,py;const gQ=t=>{if(A7){fy=new Int32Array(512),py=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(hp(mP,t.lens,0,288,fy,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;hp(vP,t.lens,0,32,py,0,t.work,{bits:5}),A7=!1}t.lencode=fy,t.lenbits=9,t.distcode=py,t.distbits=5},CP=(t,e,n,i)=>{let r;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(e.subarray(n-i,n-i+r),s.wnext),i-=r,i?(s.window.set(e.subarray(n-i,n),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},mQ=(t,e)=>{let n,i,r,s,a,o,l,c,d,g,m,p,x,b,N=0,S,j,_,C,E,O,U,F;const R=new Uint8Array(4);let M,T;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zh(t)||!t.output||!t.input&&t.avail_in!==0)return qa;n=t.state,n.mode===El&&(n.mode=uy),a=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,c=n.hold,d=n.bits,g=o,m=l,F=kh;e:for(;;)switch(n.mode){case D5:if(n.wrap===0){n.mode=uy;break}for(;d<16;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,R[0]=c&255,R[1]=c>>>8&255,n.check=Wo(n.check,R,2,0),c=0,d=0,n.mode=a7;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=ni;break}if((c&15)!==s7){t.msg="unknown compression method",n.mode=ni;break}if(c>>>=4,d-=4,U=(c&15)+8,n.wbits===0&&(n.wbits=U),U>15||U>n.wbits){t.msg="invalid window size",n.mode=ni;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?p7:El,c=0,d=0;break;case a7:for(;d<16;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(n.flags=c,(n.flags&255)!==s7){t.msg="unknown compression method",n.mode=ni;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=ni;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(R[0]=c&255,R[1]=c>>>8&255,n.check=Wo(n.check,R,2,0)),c=0,d=0,n.mode=o7;case o7:for(;d<32;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(R[0]=c&255,R[1]=c>>>8&255,R[2]=c>>>16&255,R[3]=c>>>24&255,n.check=Wo(n.check,R,4,0)),c=0,d=0,n.mode=l7;case l7:for(;d<16;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(R[0]=c&255,R[1]=c>>>8&255,n.check=Wo(n.check,R,2,0)),c=0,d=0,n.mode=c7;case c7:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(R[0]=c&255,R[1]=c>>>8&255,n.check=Wo(n.check,R,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=u7;case u7:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(U=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(s,s+p),U)),n.flags&512&&n.wrap&4&&(n.check=Wo(n.check,i,p,s)),o-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=h7;case h7:if(n.flags&2048){if(o===0)break e;p=0;do U=i[s+p++],n.head&&U&&n.length<65536&&(n.head.name+=String.fromCharCode(U));while(U&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Wo(n.check,i,p,s)),o-=p,s+=p,U)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=d7;case d7:if(n.flags&4096){if(o===0)break e;p=0;do U=i[s+p++],n.head&&U&&n.length<65536&&(n.head.comment+=String.fromCharCode(U));while(U&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Wo(n.check,i,p,s)),o-=p,s+=p,U)break e}else n.head&&(n.head.comment=null);n.mode=f7;case f7:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=ni;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=El;break;case p7:for(;d<32;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}t.adler=n.check=j7(c),c=0,d=0,n.mode=l2;case l2:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=d,oQ;t.adler=n.check=1,n.mode=El;case El:if(e===sQ||e===Nm)break e;case uy:if(n.last){c>>>=d&7,d-=d&7,n.mode=dy;break}for(;d<3;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}switch(n.last=c&1,c>>>=1,d-=1,c&3){case 0:n.mode=g7;break;case 1:if(gQ(n),n.mode=km,e===Nm){c>>>=2,d-=2;break e}break;case 2:n.mode=v7;break;case 3:t.msg="invalid block type",n.mode=ni}c>>>=2,d-=2;break;case g7:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ni;break}if(n.length=c&65535,c=0,d=0,n.mode=hy,e===Nm)break e;case hy:n.mode=m7;case m7:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;r.set(i.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,n.length-=p;break}n.mode=El;break;case v7:for(;d<14;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(n.nlen=(c&31)+257,c>>>=5,d-=5,n.ndist=(c&31)+1,c>>>=5,d-=5,n.ncode=(c&15)+4,c>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ni;break}n.have=0,n.mode=y7;case y7:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}n.lens[D[n.have++]]=c&7,c>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},F=hp(rQ,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,F){t.msg="invalid code lengths set",n.mode=ni;break}n.have=0,n.mode=x7;case x7:for(;n.have<n.nlen+n.ndist;){for(;N=n.lencode[c&(1<<n.lenbits)-1],S=N>>>24,j=N>>>16&255,_=N&65535,!(S<=d);){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(_<16)c>>>=S,d-=S,n.lens[n.have++]=_;else{if(_===16){for(T=S+2;d<T;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(c>>>=S,d-=S,n.have===0){t.msg="invalid bit length repeat",n.mode=ni;break}U=n.lens[n.have-1],p=3+(c&3),c>>>=2,d-=2}else if(_===17){for(T=S+3;d<T;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}c>>>=S,d-=S,U=0,p=3+(c&7),c>>>=3,d-=3}else{for(T=S+7;d<T;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}c>>>=S,d-=S,U=0,p=11+(c&127),c>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ni;break}for(;p--;)n.lens[n.have++]=U}}if(n.mode===ni)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=ni;break}if(n.lenbits=9,M={bits:n.lenbits},F=hp(mP,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,F){t.msg="invalid literal/lengths set",n.mode=ni;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},F=hp(vP,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,F){t.msg="invalid distances set",n.mode=ni;break}if(n.mode=km,e===Nm)break e;case km:n.mode=Cm;case Cm:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=d,JY(t,m),a=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,c=n.hold,d=n.bits,n.mode===El&&(n.back=-1);break}for(n.back=0;N=n.lencode[c&(1<<n.lenbits)-1],S=N>>>24,j=N>>>16&255,_=N&65535,!(S<=d);){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(j&&!(j&240)){for(C=S,E=j,O=_;N=n.lencode[O+((c&(1<<C+E)-1)>>C)],S=N>>>24,j=N>>>16&255,_=N&65535,!(C+S<=d);){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}c>>>=C,d-=C,n.back+=C}if(c>>>=S,d-=S,n.back+=S,n.length=_,j===0){n.mode=N7;break}if(j&32){n.back=-1,n.mode=El;break}if(j&64){t.msg="invalid literal/length code",n.mode=ni;break}n.extra=j&15,n.mode=b7;case b7:if(n.extra){for(T=n.extra;d<T;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=w7;case w7:for(;N=n.distcode[c&(1<<n.distbits)-1],S=N>>>24,j=N>>>16&255,_=N&65535,!(S<=d);){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(!(j&240)){for(C=S,E=j,O=_;N=n.distcode[O+((c&(1<<C+E)-1)>>C)],S=N>>>24,j=N>>>16&255,_=N&65535,!(C+S<=d);){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}c>>>=C,d-=C,n.back+=C}if(c>>>=S,d-=S,n.back+=S,j&64){t.msg="invalid distance code",n.mode=ni;break}n.offset=_,n.extra=j&15,n.mode=_7;case _7:if(n.extra){for(T=n.extra;d<T;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ni;break}n.mode=S7;case S7:if(l===0)break e;if(p=m-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ni;break}p>n.wnext?(p-=n.wnext,x=n.wsize-p):x=n.wnext-p,p>n.length&&(p=n.length),b=n.window}else b=r,x=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do r[a++]=b[x++];while(--p);n.length===0&&(n.mode=Cm);break;case N7:if(l===0)break e;r[a++]=n.length,l--,n.mode=Cm;break;case dy:if(n.wrap){for(;d<32;){if(o===0)break e;o--,c|=i[s++]<<d,d+=8}if(m-=l,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Wo(n.check,r,m,a-m):_4(n.check,r,m,a-m)),m=l,n.wrap&4&&(n.flags?c:j7(c))!==n.check){t.msg="incorrect data check",n.mode=ni;break}c=0,d=0}n.mode=k7;case k7:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=ni;break}c=0,d=0}n.mode=C7;case C7:F=aQ;break e;case ni:F=yP;break e;case bP:return xP;case wP:default:return qa}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<ni&&(n.mode<dy||e!==r7))&&CP(t,t.output,t.next_out,m-t.avail_out),g-=t.avail_in,m-=t.avail_out,t.total_in+=g,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Wo(n.check,r,m,t.next_out-m):_4(n.check,r,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===El?128:0)+(n.mode===km||n.mode===hy?256:0),(g===0&&m===0||e===r7)&&F===kh&&(F=lQ),F},vQ=t=>{if(zh(t))return qa;let e=t.state;return e.window&&(e.window=null),t.state=null,kh},yQ=(t,e)=>{if(zh(t))return qa;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,kh):qa},xQ=(t,e)=>{const n=e.length;let i,r,s;return zh(t)||(i=t.state,i.wrap!==0&&i.mode!==l2)?qa:i.mode===l2&&(r=1,r=_4(r,e,n,0),r!==i.check)?yP:(s=CP(t,e,n,n),s?(i.mode=bP,xP):(i.havedict=1,kh))};var bQ=SP,wQ=NP,_Q=_P,SQ=pQ,NQ=kP,kQ=mQ,CQ=vQ,jQ=yQ,AQ=xQ,PQ="pako inflate (from Nodeca project)",Bl={inflateReset:bQ,inflateReset2:wQ,inflateResetKeep:_Q,inflateInit:SQ,inflateInit2:NQ,inflate:kQ,inflateEnd:CQ,inflateGetHeader:jQ,inflateSetDictionary:AQ,inflateInfo:PQ};function LQ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var TQ=LQ;const jP=Object.prototype.toString,{Z_NO_FLUSH:EQ,Z_FINISH:MQ,Z_OK:Kp,Z_STREAM_END:gy,Z_NEED_DICT:my,Z_STREAM_ERROR:RQ,Z_DATA_ERROR:P7,Z_MEM_ERROR:FQ}=fP;function dg(t){this.options=pP.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new YY,this.strm.avail_out=0;let n=Bl.inflateInit2(this.strm,e.windowBits);if(n!==Kp)throw new Error(S4[n]);if(this.header=new TQ,Bl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=N4.string2buf(e.dictionary):jP.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Bl.inflateSetDictionary(this.strm,e.dictionary),n!==Kp)))throw new Error(S4[n])}dg.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?MQ:EQ,jP.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),s=Bl.inflate(n,a),s===my&&r&&(s=Bl.inflateSetDictionary(n,r),s===Kp?s=Bl.inflate(n,a):s===P7&&(s=my));n.avail_in>0&&s===gy&&n.state.wrap>0&&t[n.next_in]!==0;)Bl.inflateReset(n),s=Bl.inflate(n,a);switch(s){case RQ:case P7:case my:case FQ:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===gy))if(this.options.to==="string"){let l=N4.utf8border(n.output,n.next_out),c=n.next_out-l,d=N4.buf2string(n.output,l);n.next_out=c,n.avail_out=i-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Kp&&o===0)){if(s===gy)return s=Bl.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};dg.prototype.onData=function(t){this.chunks.push(t)};dg.prototype.onEnd=function(t){t===Kp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=pP.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function DQ(t,e){const n=new dg(e);if(n.push(t),n.err)throw n.msg||S4[n.err];return n.result}var IQ=dg,OQ=DQ,BQ={Inflate:IQ,inflate:OQ};const{Inflate:zQ,inflate:UQ}=BQ;var L7=zQ,VQ=UQ;const AP=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;AP[t]=e}const T7=4294967295;function HQ(t,e,n){let i=t;for(let r=0;r<n;r++)i=AP[(i^e[r])&255]^i>>>8;return i}function $Q(t,e){return(HQ(T7,t,e)^T7)>>>0}function E7(t,e,n){const i=t.readUint32(),r=$Q(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(r!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${r}`)}function PP(t,e,n){for(let i=0;i<n;i++)e[i]=t[i]}function LP(t,e,n,i){let r=0;for(;r<i;r++)e[r]=t[r];for(;r<n;r++)e[r]=t[r]+e[r-i]&255}function TP(t,e,n,i){let r=0;if(n.length===0)for(;r<i;r++)e[r]=t[r];else for(;r<i;r++)e[r]=t[r]+n[r]&255}function EP(t,e,n,i,r){let s=0;if(n.length===0){for(;s<r;s++)e[s]=t[s];for(;s<i;s++)e[s]=t[s]+(e[s-r]>>1)&255}else{for(;s<r;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<i;s++)e[s]=t[s]+(e[s-r]+n[s]>>1)&255}}function MP(t,e,n,i,r){let s=0;if(n.length===0){for(;s<r;s++)e[s]=t[s];for(;s<i;s++)e[s]=t[s]+e[s-r]&255}else{for(;s<r;s++)e[s]=t[s]+n[s]&255;for(;s<i;s++)e[s]=t[s]+GQ(e[s-r],n[s],n[s-r])&255}}function GQ(t,e,n){const i=t+e-n,r=Math.abs(i-t),s=Math.abs(i-e),a=Math.abs(i-n);return r<=s&&r<=a?t:s<=a?e:n}function WQ(t,e,n,i,r,s){switch(t){case 0:PP(e,n,r);break;case 1:LP(e,n,r,s);break;case 2:TP(e,n,i,r);break;case 3:EP(e,n,i,r,s);break;case 4:MP(e,n,i,r,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const qQ=new Uint16Array([255]),KQ=new Uint8Array(qQ.buffer),XQ=KQ[0]===255;function YQ(t){const{data:e,width:n,height:i,channels:r,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*r,l=new Uint8Array(i*n*o);let c=0;for(let d=0;d<7;d++){const g=a[d],m=Math.ceil((n-g.x)/g.xStep),p=Math.ceil((i-g.y)/g.yStep);if(m<=0||p<=0)continue;const x=m*o,b=new Uint8Array(x);for(let N=0;N<p;N++){const S=e[c++],j=e.subarray(c,c+x);c+=x;const _=new Uint8Array(x);WQ(S,j,_,b,x,o),b.set(_);for(let C=0;C<m;C++){const E=g.x+C*g.xStep,O=g.y+N*g.yStep;if(!(E>=n||O>=i))for(let U=0;U<o;U++)l[(O*n+E)*o+U]=_[C*o+U]}}}if(s===16){const d=new Uint16Array(l.buffer);if(XQ)for(let g=0;g<d.length;g++)d[g]=QQ(d[g]);return d}else return l}function QQ(t){return(t&255)<<8|t>>8&255}const JQ=new Uint16Array([255]),ZQ=new Uint8Array(JQ.buffer),eJ=ZQ[0]===255,tJ=new Uint8Array(0);function M7(t){const{data:e,width:n,height:i,channels:r,depth:s}=t,a=Math.ceil(s/8)*r,o=Math.ceil(s/8*r*n),l=new Uint8Array(i*o);let c=tJ,d=0,g,m;for(let p=0;p<i;p++){switch(g=e.subarray(d+1,d+1+o),m=l.subarray(p*o,(p+1)*o),e[d]){case 0:PP(g,m,o);break;case 1:LP(g,m,o,a);break;case 2:TP(g,m,c,o);break;case 3:EP(g,m,c,o,a);break;case 4:MP(g,m,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}c=m,d+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(eJ)for(let x=0;x<p.length;x++)p[x]=nJ(p[x]);return p}else return l}function nJ(t){return(t&255)<<8|t>>8&255}const i1=Uint8Array.of(137,80,78,71,13,10,26,10);function R7(t){if(!iJ(t.readBytes(i1.length)))throw new Error("wrong PNG signature")}function iJ(t){if(t.length<i1.length)return!1;for(let e=0;e<i1.length;e++)if(t[e]!==i1[e])return!1;return!0}const rJ="tEXt",sJ=0,RP=new TextDecoder("latin1");function aJ(t){if(lJ(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const oJ=/^[\u0000-\u00FF]*$/;function lJ(t){if(!oJ.test(t))throw new Error("invalid latin1 text")}function cJ(t,e,n){const i=FP(e);t[i]=uJ(e,n-i.length-1)}function FP(t){for(t.mark();t.readByte()!==sJ;);const e=t.offset;t.reset();const n=RP.decode(t.readBytes(e-t.offset-1));return t.skip(1),aJ(n),n}function uJ(t,e){return RP.decode(t.readBytes(e))}const Zs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},vy={UNKNOWN:-1,DEFLATE:0},F7={UNKNOWN:-1,ADAPTIVE:0},yy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},jm={NONE:0,BACKGROUND:1,PREVIOUS:2},xy={SOURCE:0,OVER:1};class hJ extends Vb{constructor(n,i={}){super(n);Ze(this,"_checkCrc");Ze(this,"_inflator");Ze(this,"_png");Ze(this,"_apng");Ze(this,"_end");Ze(this,"_hasPalette");Ze(this,"_palette");Ze(this,"_hasTransparency");Ze(this,"_transparency");Ze(this,"_compressionMethod");Ze(this,"_filterMethod");Ze(this,"_interlaceMethod");Ze(this,"_colorType");Ze(this,"_isAnimated");Ze(this,"_numberOfFrames");Ze(this,"_numberOfPlays");Ze(this,"_frames");Ze(this,"_writingDataChunks");const{checkCrc:r=!1}=i;this._checkCrc=r,this._inflator=new L7,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=vy.UNKNOWN,this._filterMethod=F7.UNKNOWN,this._interlaceMethod=yy.UNKNOWN,this._colorType=Zs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(R7(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeChunk(n,i)}return this.decodeImage(),this._png}decodeApng(){for(R7(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(n,i)}return this.decodeApngImage(),this._apng}decodeChunk(n,i){const r=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case rJ:cJ(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?E7(this,n+4,i):this.skip(4)}decodeApngChunk(n,i){const r=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,i),this.offset=r+n;break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?E7(this,n+4,i):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=dJ(this.readUint8());const i=this.readUint8();this._colorType=i;let r;switch(i){case Zs.GREYSCALE:r=1;break;case Zs.TRUECOLOUR:r=3;break;case Zs.INDEXED_COLOUR:r=1;break;case Zs.GREYSCALE_ALPHA:r=2;break;case Zs.TRUECOLOUR_ALPHA:r=4;break;case Zs.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==vy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const i=n/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<i;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const i=n,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let i=n,r=this.offset+this.byteOffset;if(r+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Zs.GREYSCALE:case Zs.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let i=0;i<n/2;i++)this._transparency[i]=this.readUint16();break}case Zs.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let i=0;for(;i<n;i++){const r=this.readByte();this._palette[i].push(r)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case Zs.UNKNOWN:case Zs.GREYSCALE_ALPHA:case Zs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const i=FP(this),r=this.readUint8();if(r!==vy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(n-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:VQ(s)}}decodepHYs(){const n=this.readUint32(),i=this.readUint32(),r=this.readByte();this._png.resolution={x:n,y:i,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const i={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(n);if(r){if(r.data=M7({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)i.data=r.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(r,s,i),this.addFrameDataToCanvas(i,r)}this._apng.frames.push(i)}}return this._apng}disposeFrame(n,i,r){switch(n.disposeOp){case jm.NONE:break;case jm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*n.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[o+l]=0}break;case jm.PREVIOUS:r.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,i){const r=1<<this._png.depth,s=(a,o)=>{const l=((a+i.yOffset)*this._png.width+i.xOffset+o)*this._png.channels,c=(a*i.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(i.blendOp){case xy.SOURCE:for(let a=0;a<i.height;a++)for(let o=0;o<i.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let d=0;d<this._png.channels;d++)n.data[l+d]=i.data[c+d]}break;case xy.OVER:for(let a=0;a<i.height;a++)for(let o=0;o<i.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let d=0;d<this._png.channels;d++){const g=i.data[c+this._png.channels-1]/r,m=d%(this._png.channels-1)===0?1:i.data[c+d],p=Math.floor(g*m+(1-g)*n.data[l+d]);n.data[l+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==F7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===yy.NO_INTERLACE)this._png.data=M7({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===yy.ADAM7)this._png.data=YQ({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,i=this._frames.at(-1);i?i.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:jm.NONE,blendOp:xy.SOURCE,data:n}),this._inflator=new L7,this._writingDataChunks=!1}}function dJ(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var D7;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(D7||(D7={}));function fJ(t,e){return new hJ(t,e).decode()}var Lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function by(){Lt.console&&typeof Lt.console.log=="function"&&Lt.console.log.apply(Lt.console,arguments)}var Mn={log:by,warn:function(t){Lt.console&&(typeof Lt.console.warn=="function"?Lt.console.warn.apply(Lt.console,arguments):by.call(null,arguments))},error:function(t){Lt.console&&(typeof Lt.console.error=="function"?Lt.console.error.apply(Lt.console,arguments):by(t))}};function wy(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){nh(i.response,e,n)},i.onerror=function(){Mn.error("could not download file")},i.send()}function I7(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Am(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var nh=Lt.saveAs||((typeof window>"u"?"undefined":jn(window))!=="object"||window!==Lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=Lt.URL||Lt.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?I7(r.href)?wy(t,e,n):Am(r,r.target="_blank"):Am(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Am(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(I7(t))wy(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){Am(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:jn(s)!=="object"&&(Mn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return wy(t,e,n);var r=t.type==="application/octet-stream",s=/constructor/i.test(Lt.HTMLElement)||Lt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&(typeof FileReader>"u"?"undefined":jn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=d:location=d,i=null},o.readAsDataURL(t)}else{var l=Lt.URL||Lt.webkitURL,c=l.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function DP(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,s=n[i].process,a=r.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var r1=Lt.atob.bind(Lt),O7=Lt.btoa.bind(Lt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _y(t,e){var n=t[0],i=t[1],r=t[2],s=t[3];n=Kr(n,i,r,s,e[0],7,-680876936),s=Kr(s,n,i,r,e[1],12,-389564586),r=Kr(r,s,n,i,e[2],17,606105819),i=Kr(i,r,s,n,e[3],22,-1044525330),n=Kr(n,i,r,s,e[4],7,-176418897),s=Kr(s,n,i,r,e[5],12,1200080426),r=Kr(r,s,n,i,e[6],17,-1473231341),i=Kr(i,r,s,n,e[7],22,-45705983),n=Kr(n,i,r,s,e[8],7,1770035416),s=Kr(s,n,i,r,e[9],12,-1958414417),r=Kr(r,s,n,i,e[10],17,-42063),i=Kr(i,r,s,n,e[11],22,-1990404162),n=Kr(n,i,r,s,e[12],7,1804603682),s=Kr(s,n,i,r,e[13],12,-40341101),r=Kr(r,s,n,i,e[14],17,-1502002290),n=Xr(n,i=Kr(i,r,s,n,e[15],22,1236535329),r,s,e[1],5,-165796510),s=Xr(s,n,i,r,e[6],9,-1069501632),r=Xr(r,s,n,i,e[11],14,643717713),i=Xr(i,r,s,n,e[0],20,-373897302),n=Xr(n,i,r,s,e[5],5,-701558691),s=Xr(s,n,i,r,e[10],9,38016083),r=Xr(r,s,n,i,e[15],14,-660478335),i=Xr(i,r,s,n,e[4],20,-405537848),n=Xr(n,i,r,s,e[9],5,568446438),s=Xr(s,n,i,r,e[14],9,-1019803690),r=Xr(r,s,n,i,e[3],14,-187363961),i=Xr(i,r,s,n,e[8],20,1163531501),n=Xr(n,i,r,s,e[13],5,-1444681467),s=Xr(s,n,i,r,e[2],9,-51403784),r=Xr(r,s,n,i,e[7],14,1735328473),n=Yr(n,i=Xr(i,r,s,n,e[12],20,-1926607734),r,s,e[5],4,-378558),s=Yr(s,n,i,r,e[8],11,-2022574463),r=Yr(r,s,n,i,e[11],16,1839030562),i=Yr(i,r,s,n,e[14],23,-35309556),n=Yr(n,i,r,s,e[1],4,-1530992060),s=Yr(s,n,i,r,e[4],11,1272893353),r=Yr(r,s,n,i,e[7],16,-155497632),i=Yr(i,r,s,n,e[10],23,-1094730640),n=Yr(n,i,r,s,e[13],4,681279174),s=Yr(s,n,i,r,e[0],11,-358537222),r=Yr(r,s,n,i,e[3],16,-722521979),i=Yr(i,r,s,n,e[6],23,76029189),n=Yr(n,i,r,s,e[9],4,-640364487),s=Yr(s,n,i,r,e[12],11,-421815835),r=Yr(r,s,n,i,e[15],16,530742520),n=Qr(n,i=Yr(i,r,s,n,e[2],23,-995338651),r,s,e[0],6,-198630844),s=Qr(s,n,i,r,e[7],10,1126891415),r=Qr(r,s,n,i,e[14],15,-1416354905),i=Qr(i,r,s,n,e[5],21,-57434055),n=Qr(n,i,r,s,e[12],6,1700485571),s=Qr(s,n,i,r,e[3],10,-1894986606),r=Qr(r,s,n,i,e[10],15,-1051523),i=Qr(i,r,s,n,e[1],21,-2054922799),n=Qr(n,i,r,s,e[8],6,1873313359),s=Qr(s,n,i,r,e[15],10,-30611744),r=Qr(r,s,n,i,e[6],15,-1560198380),i=Qr(i,r,s,n,e[13],21,1309151649),n=Qr(n,i,r,s,e[4],6,-145523070),s=Qr(s,n,i,r,e[11],10,-1120210379),r=Qr(r,s,n,i,e[2],15,718787259),i=Qr(i,r,s,n,e[9],21,-343485551),t[0]=$c(n,t[0]),t[1]=$c(i,t[1]),t[2]=$c(r,t[2]),t[3]=$c(s,t[3])}function I5(t,e,n,i,r,s){return e=$c($c(e,t),$c(i,s)),$c(e<<r|e>>>32-r,n)}function Kr(t,e,n,i,r,s,a){return I5(e&n|~e&i,t,e,r,s,a)}function Xr(t,e,n,i,r,s,a){return I5(e&i|n&~i,t,e,r,s,a)}function Yr(t,e,n,i,r,s,a){return I5(e^n^i,t,e,r,s,a)}function Qr(t,e,n,i,r,s,a){return I5(n^(e|~i),t,e,r,s,a)}function IP(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)_y(i,pJ(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(_y(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,_y(i,r),i}function pJ(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var B7="0123456789abcdef".split("");function gJ(t){for(var e="",n=0;n<4;n++)e+=B7[t>>8*n+4&15]+B7[t>>8*n&15];return e}function mJ(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function k4(t){return IP(t).map(mJ).join("")}var vJ=function(t){for(var e=0;e<t.length;e++)t[e]=gJ(t[e]);return t.join("")}(IP("hello"))!="5d41402abc4b2a76b9719d911017c592";function $c(t,e){if(vJ){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function C4(t,e){var n,i,r,s;if(t!==n){for(var a=(r=t,s=1+(256/t.length|0),new Array(s+1).join(r)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+a.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=t,i=o}else o=i;var g=e.length,m=0,p=0,x="";for(l=0;l<g;l++)p=(p+(d=o[m=(m+1)%256]))%256,o[m]=o[p],o[p]=d,a=o[(o[m]+o[p])%256],x+=String.fromCharCode(e.charCodeAt(l)^a);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var z7={print:4,modify:8,copy:16,"annot-forms":32};function kd(t,e,n,i){this.v=1,this.r=2;var r=192;t.forEach(function(o){if(z7.perm!==void 0)throw new Error("Invalid permission: "+o);r+=z7[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^r)),this.encryptionKey=k4(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=C4(this.encryptionKey,this.padding)}function Cd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var r=t.charCodeAt(i);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):t[i]}return e}function U7(t){if(jn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[i,!!r],s},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,i)}catch(o){Lt.console&&Mn.error("jsPDF PubSub Error",o.message,o)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function c2(t){if(!(this instanceof c2))return new c2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function OP(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ih(t,e,n,i,r){if(!(this instanceof ih))return new ih(t,e,n,i,r);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,OP.call(this,i,r)}function Wd(t,e,n,i,r){if(!(this instanceof Wd))return new Wd(t,e,n,i,r);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,OP.call(this,i,r)}function yt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",d=null;jn(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,r=t.format||r,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),i=i||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=U7;var x="1.3",b=p.__private__.getPdfVersion=function(){return x};p.__private__.setPdfVersion=function(A){x=A};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var S=p.__private__.getPageFormat=function(A){return N[A]};r=r||"a4";var j="compat",_="advanced",C=j;function E(){this.saveGraphicsState(),le(new _t(bt,0,0,-bt,0,ar()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),c="n",C=_}function O(){this.restoreGraphicsState(),c="S",C=j}var U=p.__private__.combineFontStyleAndFontWeight=function(A,H){if(A=="bold"&&H=="normal"||A=="bold"&&H==400||A=="normal"&&H=="italic"||A=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(A=H==400||H==="normal"?A==="italic"?"italic":"normal":H!=700&&H!=="bold"||A!=="normal"?(H==700?"bold":H)+""+A:"bold"),A};p.advancedAPI=function(A){var H=C===j;return H&&E.call(this),typeof A!="function"||(A(this),H&&O.call(this)),this},p.compatAPI=function(A){var H=C===_;return H&&O.call(this),typeof A!="function"||(A(this),H&&E.call(this)),this},p.isAdvancedAPI=function(){return C===_};var F,R=function(A){if(C!==_)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=p.roundToPrecision=p.__private__.roundToPrecision=function(A,H){var se=e||H;if(isNaN(A)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(se).replace(/0+$/,"")};F=p.hpf=p.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return M(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return M(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return M(A,16)};var T=p.f2=p.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return M(A,2)},D=p.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return M(A,3)},$=p.scale=p.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return C===j?A*bt:C===_?A:void 0},X=function(A){return $(function(H){return C===j?ar()-H:C===_?H:void 0}(A))};p.__private__.setPrecision=p.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var ae,ge="00000000000000000000000000000000",pe=p.__private__.getFileId=function(){return ge},te=p.__private__.setFileId=function(A){return ge=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Zn=new kd(d.userPermissions,d.userPassword,d.ownerPassword,ge)),ge};p.setFileId=function(A){return te(A),this},p.getFileId=function(){return pe()};var Z=p.__private__.convertDateToPDFDate=function(A){var H=A.getTimezoneOffset(),se=H<0?"+":"-",fe=Math.floor(Math.abs(H/60)),be=Math.abs(H%60),Fe=[se,ie(fe),"'",ie(be),"'"].join("");return["D:",A.getFullYear(),ie(A.getMonth()+1),ie(A.getDate()),ie(A.getHours()),ie(A.getMinutes()),ie(A.getSeconds()),Fe].join("")},ue=p.__private__.convertPDFDateToDate=function(A){var H=parseInt(A.substr(2,4),10),se=parseInt(A.substr(6,2),10)-1,fe=parseInt(A.substr(8,2),10),be=parseInt(A.substr(10,2),10),Fe=parseInt(A.substr(12,2),10),Ie=parseInt(A.substr(14,2),10);return new Date(H,se,fe,be,Fe,Ie,0)},Y=p.__private__.setCreationDate=function(A){var H;if(A===void 0&&(A=new Date),A instanceof Date)H=Z(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=A}return ae=H},z=p.__private__.getCreationDate=function(A){var H=ae;return A==="jsDate"&&(H=ue(ae)),H};p.setCreationDate=function(A){return Y(A),this},p.getCreationDate=function(A){return z(A)};var q,ie=p.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ce=p.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},he=0,K=[],de=[],me=0,Ce=[],Le=[],ze=!1,Be=de;p.__private__.setCustomOutputDestination=function(A){ze=!0,Be=A};var je=function(A){ze||(Be=A)};p.__private__.resetCustomOutputDestination=function(){ze=!1,Be=de};var le=p.__private__.out=function(A){return A=A.toString(),me+=A.length+1,Be.push(A),Be},jt=p.__private__.write=function(A){return le(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},xt=p.__private__.getArrayBuffer=function(A){for(var H=A.length,se=new ArrayBuffer(H),fe=new Uint8Array(se);H--;)fe[H]=A.charCodeAt(H);return se},ut=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ut};var Ue=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(A){return Ue=C===_?A/bt:A,this};var Xe,qe=p.__private__.getFontSize=p.getFontSize=function(){return C===j?Ue:Ue*bt},Tt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(A){return Tt=A,this},p.__private__.getR2L=p.getR2L=function(){return Tt};var Te,Ge=p.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Xe=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Xe=A}else Xe=parseInt(A,10)};p.__private__.getZoomMode=function(){return Xe};var $e,ht=p.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Te=A};p.__private__.getPageMode=function(){return Te};var Ut=p.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');$e=A};p.__private__.getLayoutMode=function(){return $e},p.__private__.setDisplayMode=p.setDisplayMode=function(A,H,se){return Ge(A),Ut(H),ht(se),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(A){if(Object.keys(dt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[A]},p.__private__.getDocumentProperties=function(){return dt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(A){for(var H in dt)dt.hasOwnProperty(H)&&A[H]&&(dt[H]=A[H]);return this},p.__private__.setDocumentProperty=function(A,H){if(Object.keys(dt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[A]=H};var at,bt,et,sn,en,gt={},Ft={},Sn=[],wt={},qt={},Dt={},si={},Ci=null,Nn=0,At=[],ln=new U7(p),Lo=t.hotfixes||[],sr={},Bs={},zs=[],_t=function A(H,se,fe,be,Fe,Ie){if(!(this instanceof A))return new A(H,se,fe,be,Fe,Ie);isNaN(H)&&(H=1),isNaN(se)&&(se=0),isNaN(fe)&&(fe=0),isNaN(be)&&(be=1),isNaN(Fe)&&(Fe=0),isNaN(Ie)&&(Ie=0),this._matrix=[H,se,fe,be,Fe,Ie]};Object.defineProperty(_t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(_t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(_t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(_t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(_t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(_t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(_t.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(_t.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(_t.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(_t.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(_t.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(_t.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(_t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(_t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(_t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(_t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),_t.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(A)},_t.prototype.multiply=function(A){var H=A.sx*this.sx+A.shy*this.shx,se=A.sx*this.shy+A.shy*this.sy,fe=A.shx*this.sx+A.sy*this.shx,be=A.shx*this.shy+A.sy*this.sy,Fe=A.tx*this.sx+A.ty*this.shx+this.tx,Ie=A.tx*this.shy+A.ty*this.sy+this.ty;return new _t(H,se,fe,be,Fe,Ie)},_t.prototype.decompose=function(){var A=this.sx,H=this.shy,se=this.shx,fe=this.sy,be=this.tx,Fe=this.ty,Ie=Math.sqrt(A*A+H*H),tt=(A/=Ie)*se+(H/=Ie)*fe;se-=A*tt,fe-=H*tt;var Ye=Math.sqrt(se*se+fe*fe);return tt/=Ye,A*(fe/=Ye)<H*(se/=Ye)&&(A=-A,H=-H,tt=-tt,Ie=-Ie),{scale:new _t(Ie,0,0,Ye,0,0),translate:new _t(1,0,0,1,be,Fe),rotate:new _t(A,H,-H,A,0,0),skew:new _t(1,0,tt,1,0,0)}},_t.prototype.toString=function(A){return this.join(" ")},_t.prototype.inversed=function(){var A=this.sx,H=this.shy,se=this.shx,fe=this.sy,be=this.tx,Fe=this.ty,Ie=1/(A*fe-H*se),tt=fe*Ie,Ye=-H*Ie,mt=-se*Ie,nt=A*Ie;return new _t(tt,Ye,mt,nt,-tt*be-mt*Fe,-Ye*be-nt*Fe)},_t.prototype.applyToPoint=function(A){var H=A.x*this.sx+A.y*this.shx+this.tx,se=A.x*this.shy+A.y*this.sy+this.ty;return new Za(H,se)},_t.prototype.applyToRectangle=function(A){var H=this.applyToPoint(A),se=this.applyToPoint(new Za(A.x+A.w,A.y+A.h));return new cc(H.x,H.y,se.x-H.x,se.y-H.y)},_t.prototype.clone=function(){var A=this.sx,H=this.shy,se=this.shx,fe=this.sy,be=this.tx,Fe=this.ty;return new _t(A,H,se,fe,be,Fe)},p.Matrix=_t;var Ka=p.matrixMult=function(A,H){return H.multiply(A)},Xa=new _t(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Xa;var bs=function(A,H){if(!qt[A]){var se=(H instanceof ih?"Sh":"P")+(Object.keys(wt).length+1).toString(10);H.id=se,qt[A]=se,wt[se]=H,ln.publish("addPattern",H)}};p.ShadingPattern=ih,p.TilingPattern=Wd,p.addShadingPattern=function(A,H){return R("addShadingPattern()"),bs(A,H),this},p.beginTilingPattern=function(A){R("beginTilingPattern()"),Or(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},p.endTilingPattern=function(A,H){R("endTilingPattern()"),H.stream=Le[q].join(`
`),bs(A,H),ln.publish("endTilingPattern",H),zs.pop().restore()};var os,Fn=p.__private__.newObject=function(){var A=Bi();return Hi(A,!0),A},Bi=p.__private__.newObjectDeferred=function(){return he++,K[he]=function(){return me},he},Hi=function(A,H){return H=typeof H=="boolean"&&H,K[A]=me,H&&le(A+" 0 obj"),A},ua=p.__private__.newAdditionalObject=function(){var A={objId:Bi(),content:""};return Ce.push(A),A},To=Bi(),Us=Bi(),ha=p.__private__.decodeColorString=function(A){var H=A.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var se=parseFloat(H[0]);H=[se,se,se,"r"]}for(var fe="#",be=0;be<3;be++)fe+=("0"+Math.floor(255*parseFloat(H[be])).toString(16)).slice(-2);return fe},Vs=p.__private__.encodeColorString=function(A){var H;typeof A=="string"&&(A={ch1:A});var se=A.ch1,fe=A.ch2,be=A.ch3,Fe=A.ch4,Ie=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var tt=new DP(se);if(tt.ok)se=tt.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var Ye=parseInt(se.substr(1),16);se=Ye>>16&255,fe=Ye>>8&255,be=255&Ye}if(fe===void 0||Fe===void 0&&se===fe&&fe===be)H=typeof se=="string"?se+" "+Ie[0]:A.precision===2?T(se/255)+" "+Ie[0]:D(se/255)+" "+Ie[0];else if(Fe===void 0||jn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return["1.","1.","1.",Ie[1]].join(" ");H=typeof se=="string"?[se,fe,be,Ie[1]].join(" "):A.precision===2?[T(se/255),T(fe/255),T(be/255),Ie[1]].join(" "):[D(se/255),D(fe/255),D(be/255),Ie[1]].join(" ")}else H=typeof se=="string"?[se,fe,be,Fe,Ie[2]].join(" "):A.precision===2?[T(se),T(fe),T(be),T(Fe),Ie[2]].join(" "):[D(se),D(fe),D(be),D(Fe),Ie[2]].join(" ");return H},Hs=p.__private__.getFilters=function(){return a},ws=p.__private__.putStream=function(A){var H=(A=A||{}).data||"",se=A.filters||Hs(),fe=A.alreadyAppliedFilters||[],be=A.addLength1||!1,Fe=H.length,Ie=A.objectId,tt=function(li){return li};if(d!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(tt=Zn.encryptor(Ie,0));var Ye={};se===!0&&(se=["FlateEncode"]);var mt=A.additionalKeyValues||[],nt=(Ye=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(H,se):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(Ye.data.length!==0&&(mt.push({key:"Length",value:Ye.data.length}),be===!0&&mt.push({key:"Length1",value:Fe})),nt.length!=0)if(nt.split("/").length-1==1)mt.push({key:"Filter",value:nt});else{mt.push({key:"Filter",value:"["+nt+"]"});for(var Xt=0;Xt<mt.length;Xt+=1)if(mt[Xt].key==="DecodeParms"){for(var tn=[],oi=0;oi<Ye.reverseChain.split("/").length-1;oi+=1)tn.push("null");tn.push(mt[Xt].value),mt[Xt].value="["+tn.join(" ")+"]"}}le("<<");for(var vn=0;vn<mt.length;vn++)le("/"+mt[vn].key+" "+mt[vn].value);le(">>"),Ye.data.length!==0&&(le("stream"),le(tt(Ye.data)),le("endstream"))},ll=p.__private__.putPage=function(A){var H=A.number,se=A.data,fe=A.objId,be=A.contentsObjId;Hi(fe,!0),le("<</Type /Page"),le("/Parent "+A.rootDictionaryObjId+" 0 R"),le("/Resources "+A.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(F(A.mediaBox.bottomLeftX))+" "+parseFloat(F(A.mediaBox.bottomLeftY))+" "+F(A.mediaBox.topRightX)+" "+F(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&le("/CropBox ["+F(A.cropBox.bottomLeftX)+" "+F(A.cropBox.bottomLeftY)+" "+F(A.cropBox.topRightX)+" "+F(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&le("/BleedBox ["+F(A.bleedBox.bottomLeftX)+" "+F(A.bleedBox.bottomLeftY)+" "+F(A.bleedBox.topRightX)+" "+F(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&le("/TrimBox ["+F(A.trimBox.bottomLeftX)+" "+F(A.trimBox.bottomLeftY)+" "+F(A.trimBox.topRightX)+" "+F(A.trimBox.topRightY)+"]"),A.artBox!==null&&le("/ArtBox ["+F(A.artBox.bottomLeftX)+" "+F(A.artBox.bottomLeftY)+" "+F(A.artBox.topRightX)+" "+F(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&le("/UserUnit "+A.userUnit),ln.publish("putPage",{objId:fe,pageContext:At[H],pageNumber:H,page:se}),le("/Contents "+be+" 0 R"),le(">>"),le("endobj");var Fe=se.join(`
`);return C===_&&(Fe+=`
Q`),Hi(be,!0),ws({data:Fe,filters:Hs(),objectId:be}),le("endobj"),fe},da=p.__private__.putPages=function(){var A,H,se=[];for(A=1;A<=Nn;A++)At[A].objId=Bi(),At[A].contentsObjId=Bi();for(A=1;A<=Nn;A++)se.push(ll({number:A,data:Le[A],objId:At[A].objId,contentsObjId:At[A].contentsObjId,mediaBox:At[A].mediaBox,cropBox:At[A].cropBox,bleedBox:At[A].bleedBox,trimBox:At[A].trimBox,artBox:At[A].artBox,userUnit:At[A].userUnit,rootDictionaryObjId:To,resourceDictionaryObjId:Us}));Hi(To,!0),le("<</Type /Pages");var fe="/Kids [";for(H=0;H<Nn;H++)fe+=se[H]+" 0 R ";le(fe+"]"),le("/Count "+Nn),le(">>"),le("endobj"),ln.publish("postPutPages")},cl=function(A){ln.publish("putFont",{font:A,out:le,newObject:Fn,putStream:ws}),A.isAlreadyPutted!==!0&&(A.objectNumber=Fn(),le("<<"),le("/Type /Font"),le("/BaseFont /"+Cd(A.postScriptName)),le("/Subtype /Type1"),typeof A.encoding=="string"&&le("/Encoding /"+A.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},ic=function(A){A.objectNumber=Fn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[F(A.x),F(A.y),F(A.x+A.width),F(A.y+A.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var se=A.pages[1].join(`
`);ws({data:se,additionalKeyValues:H,objectId:A.objectNumber}),le("endobj")},rc=function(A,H){H||(H=21);var se=Fn(),fe=function(Ie,tt){var Ye,mt=[],nt=1/(tt-1);for(Ye=0;Ye<1;Ye+=nt)mt.push(Ye);if(mt.push(1),Ie[0].offset!=0){var Xt={offset:0,color:Ie[0].color};Ie.unshift(Xt)}if(Ie[Ie.length-1].offset!=1){var tn={offset:1,color:Ie[Ie.length-1].color};Ie.push(tn)}for(var oi="",vn=0,li=0;li<mt.length;li++){for(Ye=mt[li];Ye>Ie[vn+1].offset;)vn++;var ei=Ie[vn].offset,zi=(Ye-ei)/(Ie[vn+1].offset-ei),Ss=Ie[vn].color,eo=Ie[vn+1].color;oi+=ce(Math.round((1-zi)*Ss[0]+zi*eo[0]).toString(16))+ce(Math.round((1-zi)*Ss[1]+zi*eo[1]).toString(16))+ce(Math.round((1-zi)*Ss[2]+zi*eo[2]).toString(16))}return oi.trim()}(A.colors,H),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+H+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ws({data:fe,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),le("endobj"),A.objectNumber=Fn(),le("<< /ShadingType "+A.type),le("/ColorSpace /DeviceRGB");var Fe="/Coords ["+F(parseFloat(A.coords[0]))+" "+F(parseFloat(A.coords[1]))+" ";A.type===2?Fe+=F(parseFloat(A.coords[2]))+" "+F(parseFloat(A.coords[3])):Fe+=F(parseFloat(A.coords[2]))+" "+F(parseFloat(A.coords[3]))+" "+F(parseFloat(A.coords[4]))+" "+F(parseFloat(A.coords[5])),le(Fe+="]"),A.matrix&&le("/Matrix ["+A.matrix.toString()+"]"),le("/Function "+se+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},sc=function(A,H){var se=Bi(),fe=Fn();H.push({resourcesOid:se,objectOid:fe}),A.objectNumber=fe;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+A.boundingBox.map(F).join(" ")+"]"}),be.push({key:"XStep",value:F(A.xStep)}),be.push({key:"YStep",value:F(A.yStep)}),be.push({key:"Resources",value:se+" 0 R"}),A.matrix&&be.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),ws({data:A.stream,additionalKeyValues:be,objectId:A.objectNumber}),le("endobj")},Bf=function(A){for(var H in A.objectNumber=Fn(),le("<<"),A)switch(H){case"opacity":le("/ca "+T(A[H]));break;case"stroke-opacity":le("/CA "+T(A[H]))}le(">>"),le("endobj")},Su=function(A){Hi(A.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var H in le("/Font <<"),gt)gt.hasOwnProperty(H)&&(g===!1||g===!0&&m.hasOwnProperty(H))&&le("/"+H+" "+gt[H].objectNumber+" 0 R");le(">>")}(),function(){if(Object.keys(wt).length>0){for(var H in le("/Shading <<"),wt)wt.hasOwnProperty(H)&&wt[H]instanceof ih&&wt[H].objectNumber>=0&&le("/"+H+" "+wt[H].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),le(">>")}}(),function(H){if(Object.keys(wt).length>0){for(var se in le("/Pattern <<"),wt)wt.hasOwnProperty(se)&&wt[se]instanceof p.TilingPattern&&wt[se].objectNumber>=0&&wt[se].objectNumber<H&&le("/"+se+" "+wt[se].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),le(">>")}}(A.objectOid),function(){if(Object.keys(Dt).length>0){var H;for(H in le("/ExtGState <<"),Dt)Dt.hasOwnProperty(H)&&Dt[H].objectNumber>=0&&le("/"+H+" "+Dt[H].objectNumber+" 0 R");ln.publish("putGStateDict"),le(">>")}}(),function(){for(var H in le("/XObject <<"),sr)sr.hasOwnProperty(H)&&sr[H].objectNumber>=0&&le("/"+H+" "+sr[H].objectNumber+" 0 R");ln.publish("putXobjectDict"),le(">>")}(),le(">>"),le("endobj")},ac=function(A){Ft[A.fontName]=Ft[A.fontName]||{},Ft[A.fontName][A.fontStyle]=A.id},Eo=function(A,H,se,fe,be){var Fe={id:"F"+(Object.keys(gt).length+1).toString(10),postScriptName:A,fontName:H,fontStyle:se,encoding:fe,isStandardFont:be||!1,metadata:{}};return ln.publish("addFont",{font:Fe,instance:this}),gt[Fe.id]=Fe,ac(Fe),Fe.id},Fr=p.__private__.pdfEscape=p.pdfEscape=function(A,H){return function(se,fe){var be,Fe,Ie,tt,Ye,mt,nt,Xt,tn;if(Ie=(fe=fe||{}).sourceEncoding||"Unicode",Ye=fe.outputEncoding,(fe.autoencode||Ye)&&gt[at].metadata&&gt[at].metadata[Ie]&&gt[at].metadata[Ie].encoding&&(tt=gt[at].metadata[Ie].encoding,!Ye&&gt[at].encoding&&(Ye=gt[at].encoding),!Ye&&tt.codePages&&(Ye=tt.codePages[0]),typeof Ye=="string"&&(Ye=tt[Ye]),Ye)){for(nt=!1,mt=[],be=0,Fe=se.length;be<Fe;be++)(Xt=Ye[se.charCodeAt(be)])?mt.push(String.fromCharCode(Xt)):mt.push(se[be]),mt[be].charCodeAt(0)>>8&&(nt=!0);se=mt.join("")}for(be=se.length;nt===void 0&&be!==0;)se.charCodeAt(be-1)>>8&&(nt=!0),be--;if(!nt)return se;for(mt=fe.noBOM?[]:[254,255],be=0,Fe=se.length;be<Fe;be++){if((tn=(Xt=se.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(tn),mt.push(Xt-(tn<<8))}return String.fromCharCode.apply(void 0,mt)}(A,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ul=p.__private__.beginPage=function(A){Le[++Nn]=[],At[Nn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Ya(Nn),je(Le[q])},Vh=function(A,H){var se,fe,be;switch(n=H||n,typeof A=="string"&&(se=S(A.toLowerCase()),Array.isArray(se)&&(fe=se[0],be=se[1])),Array.isArray(A)&&(fe=A[0]*bt,be=A[1]*bt),isNaN(fe)&&(fe=r[0],be=r[1]),(fe>14400||be>14400)&&(Mn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),be=Math.min(14400,be)),r=[fe,be],n.substr(0,1)){case"l":be>fe&&(r=[be,fe]);break;case"p":fe>be&&(r=[be,fe])}ul(r),Gh(ml),le(Do),_r!==0&&le(_r+" J"),cs!==0&&le(cs+" j"),ln.publish("addPage",{pageNumber:Nn})},hl=function(A){A>0&&A<=Nn&&(Le.splice(A,1),At.splice(A,1),Nn--,q>Nn&&(q=Nn),this.setPage(q))},Ya=function(A){A>0&&A<=Nn&&(q=A)},$s=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Le.length-1},wn=function(A,H,se){var fe,be=void 0;return se=se||{},A=A!==void 0?A:gt[at].fontName,H=H!==void 0?H:gt[at].fontStyle,fe=A.toLowerCase(),Ft[fe]!==void 0&&Ft[fe][H]!==void 0?be=Ft[fe][H]:Ft[A]!==void 0&&Ft[A][H]!==void 0?be=Ft[A][H]:se.disableWarning===!1&&Mn.warn("Unable to look up font label for font '"+A+"', '"+H+"'. Refer to getFontList() for available fonts."),be||se.noFallback||(be=Ft.times[H])==null&&(be=Ft.times.normal),be},cn=p.__private__.putInfo=function(){var A=Fn(),H=function(fe){return fe};for(var se in d!==null&&(H=Zn.encryptor(A,0)),le("<<"),le("/Producer ("+Fr(H("jsPDF "+yt.version))+")"),dt)dt.hasOwnProperty(se)&&dt[se]&&le("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+Fr(H(dt[se]))+")");le("/CreationDate ("+Fr(H(ae))+")"),le(">>"),le("endobj")},fa=p.__private__.putCatalog=function(A){var H=(A=A||{}).rootDictionaryObjId||To;switch(Fn(),le("<<"),le("/Type /Catalog"),le("/Pages "+H+" 0 R"),Xe||(Xe="fullwidth"),Xe){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+Xe;se.substr(se.length-1)==="%"&&(Xe=parseInt(Xe)/100),typeof Xe=="number"&&le("/OpenAction [3 0 R /XYZ null null "+T(Xe)+"]")}switch($e||($e="continuous"),$e){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Te&&le("/PageMode /"+Te),ln.publish("putCatalog"),le(">>"),le("endobj")},Kt=p.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(he+1)),le("/Root "+he+" 0 R"),le("/Info "+(he-1)+" 0 R"),d!==null&&le("/Encrypt "+Zn.oid+" 0 R"),le("/ID [ <"+ge+"> <"+ge+"> ]"),le(">>")},$i=p.__private__.putHeader=function(){le("%PDF-"+x),le("%")},pa=p.__private__.putXRef=function(){var A="0000000000";le("xref"),le("0 "+(he+1)),le("0000000000 65535 f ");for(var H=1;H<=he;H++)typeof K[H]=="function"?le((A+K[H]()).slice(-10)+" 00000 n "):K[H]!==void 0?le((A+K[H]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Dr=p.__private__.buildDocument=function(){var A;he=0,me=0,de=[],K=[],Ce=[],To=Bi(),Us=Bi(),je(de),ln.publish("buildDocument"),$i(),da(),function(){ln.publish("putAdditionalObjects");for(var se=0;se<Ce.length;se++){var fe=Ce[se];Hi(fe.objId,!0),le(fe.content),le("endobj")}ln.publish("postPutAdditionalObjects")}(),A=[],function(){for(var se in gt)gt.hasOwnProperty(se)&&(g===!1||g===!0&&m.hasOwnProperty(se))&&cl(gt[se])}(),function(){var se;for(se in Dt)Dt.hasOwnProperty(se)&&Bf(Dt[se])}(),function(){for(var se in sr)sr.hasOwnProperty(se)&&ic(sr[se])}(),function(se){var fe;for(fe in wt)wt.hasOwnProperty(fe)&&(wt[fe]instanceof ih?rc(wt[fe]):wt[fe]instanceof Wd&&sc(wt[fe],se))}(A),ln.publish("putResources"),A.forEach(Su),Su({resourcesOid:Us,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources"),d!==null&&(Zn.oid=Fn(),le("<<"),le("/Filter /Standard"),le("/V "+Zn.v),le("/R "+Zn.r),le("/U <"+Zn.toHexString(Zn.U)+">"),le("/O <"+Zn.toHexString(Zn.O)+">"),le("/P "+Zn.P),le(">>"),le("endobj")),cn(),fa();var H=me;return pa(),Kt(),le("startxref"),le(""+H),le("%%EOF"),je(Le[q]),de.join(`
`)},pi=p.__private__.getBlob=function(A){return new Blob([xt(A)],{type:"application/pdf"})},Ir=p.output=p.__private__.output=(os=function(A,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",A){case void 0:return Dr();case"save":p.save(H.filename);break;case"arraybuffer":return xt(Dr());case"blob":return pi(Dr());case"bloburi":case"bloburl":if(Lt.URL!==void 0&&typeof Lt.URL.createObjectURL=="function")return Lt.URL&&Lt.URL.createObjectURL(pi(Dr()))||void 0;Mn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",fe=Dr();try{se=O7(fe)}catch{se=O7(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+H.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(be=H.pdfObjectUrl,Fe="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",tt=Lt.open();return tt!==null&&tt.document.write(Ie),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',mt=Lt.open();if(mt!==null){mt.document.write(Ye);var nt=this;mt.document.documentElement.querySelector("#pdfViewer").onload=function(){mt.document.title=H.filename,mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nt.output("bloburl"))}}return mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',tn=Lt.open();if(tn!==null&&(tn.document.write(Xt),tn.document.title=H.filename),tn||typeof safari>"u")return tn;break;case"datauri":case"dataurl":return Lt.document.location.href=this.output("datauristring",H);default:return null}},os.foo=function(){try{return os.apply(this,arguments)}catch(se){var A=se.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var H="Error in function "+A.split(`
`)[0].split("<")[0]+": "+se.message;if(!Lt.console)throw new Error(H);Lt.console.error(H,se),Lt.alert&&alert(H)}},os.foo.bar=os,os.foo),Mo=function(A){return Array.isArray(Lo)===!0&&Lo.indexOf(A)>-1};switch(i){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=Mo("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);bt=i}var Zn=null;Y(),te();var Ro=p.__private__.getPageInfo=p.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[A].objId,pageNumber:A,pageContext:At[A]}},Hh=p.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in At)if(At[H].objId===A)break;return Ro(H)},ls=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:At[q].objId,pageNumber:q,pageContext:At[q]}};p.addPage=function(){return Vh.apply(this,arguments),this},p.setPage=function(){return Ya.apply(this,arguments),je.call(this,Le[q]),this},p.insertPage=function(A){return this.addPage(),this.movePage(q,A),this},p.movePage=function(A,H){var se,fe;if(A>H){se=Le[A],fe=At[A];for(var be=A;be>H;be--)Le[be]=Le[be-1],At[be]=At[be-1];Le[H]=se,At[H]=fe,this.setPage(H)}else if(A<H){se=Le[A],fe=At[A];for(var Fe=A;Fe<H;Fe++)Le[Fe]=Le[Fe+1],At[Fe]=At[Fe+1];Le[H]=se,At[H]=fe,this.setPage(H)}return this},p.deletePage=function(){return hl.apply(this,arguments),this},p.__private__.text=p.text=function(A,H,se,fe,be){var Fe,Ie,tt,Ye,mt,nt,Xt,tn,oi,vn=(fe=fe||{}).scope||this;if(typeof A=="number"&&typeof H=="number"&&(typeof se=="string"||Array.isArray(se))){var li=se;se=H,H=A,A=li}if(arguments[3]instanceof _t==0?(tt=arguments[4],Ye=arguments[5],jn(Xt=arguments[3])==="object"&&Xt!==null||(typeof tt=="string"&&(Ye=tt,tt=null),typeof Xt=="string"&&(Ye=Xt,Xt=null),typeof Xt=="number"&&(tt=Xt,Xt=null),fe={flags:Xt,angle:tt,align:Ye})):(R("The transform parameter of text() with a Matrix value"),oi=be),isNaN(H)||isNaN(se)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return vn;var ei,zi="",Ss=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:gl,eo=vn.internal.scaleFactor;function Oo(Nt){return Nt=Nt.split("	").join(Array(fe.TabLen||9).join(" ")),Fr(Nt,Xt)}function hc(Nt){for(var yn,Un=Nt.concat(),Vn=[],js=Un.length;js--;)typeof(yn=Un.shift())=="string"?Vn.push(yn):Array.isArray(Nt)&&(yn.length===1||yn[1]===void 0&&yn[2]===void 0)?Vn.push(yn[0]):Vn.push([yn[0],yn[1],yn[2]]);return Vn}function vl(Nt,yn){var Un;if(typeof Nt=="string")Un=yn(Nt)[0];else if(Array.isArray(Nt)){for(var Vn,js,Uo=Nt.concat(),hr=[],kn=Uo.length;kn--;)typeof(Vn=Uo.shift())=="string"?hr.push(yn(Vn)[0]):Array.isArray(Vn)&&typeof Vn[0]=="string"&&(js=yn(Vn[0],Vn[1],Vn[2]),hr.push([js[0],js[1],js[2]]));Un=hr}return Un}var Br=!1,ju=!0;if(typeof A=="string")Br=!0;else if(Array.isArray(A)){var ba=A.concat();Ie=[];for(var Ws,ji=ba.length;ji--;)(typeof(Ws=ba.shift())!="string"||Array.isArray(Ws)&&typeof Ws[0]!="string")&&(ju=!1);Br=ju}if(Br===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var wa=Ue/vn.internal.scaleFactor,zr=wa*(Ss-1);switch(fe.baseline){case"bottom":se-=zr;break;case"top":se+=wa-zr;break;case"hanging":se+=wa-2*zr;break;case"middle":se+=wa/2-zr}if((nt=fe.maxWidth||0)>0&&(typeof A=="string"?A=vn.splitTextToSize(A,nt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Nt,yn){return Nt.concat(vn.splitTextToSize(yn,nt))},[]))),Fe={text:A,x:H,y:se,options:fe,mutex:{pdfEscape:Fr,activeFontKey:at,fonts:gt,activeFontSize:Ue}},ln.publish("preProcessText",Fe),A=Fe.text,tt=(fe=Fe.options).angle,oi instanceof _t==0&&tt&&typeof tt=="number"){tt*=Math.PI/180,fe.rotationDirection===0&&(tt=-tt),C===_&&(tt=-tt);var yl=Math.cos(tt),Bo=Math.sin(tt);oi=new _t(yl,Bo,-Bo,yl,0,0)}else tt&&tt instanceof _t&&(oi=tt);C!==_||oi||(oi=Xa),(mt=fe.charSpace||lc)!==void 0&&(zi+=F($(mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tn=fe.horizontalScale)!==void 0&&(zi+=F(100*tn)+` Tz
`),fe.lang;var Ui=-1,to=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,zo=vn.internal.getCurrentPageInfo().pageContext;switch(to){case 0:case!1:case"fill":Ui=0;break;case 1:case!0:case"stroke":Ui=1;break;case 2:case"fillThenStroke":Ui=2;break;case 3:case"invisible":Ui=3;break;case 4:case"fillAndAddForClipping":Ui=4;break;case 5:case"strokeAndAddPathForClipping":Ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ui=6;break;case 7:case"addToPathForClipping":Ui=7}var dc=zo.usedRenderingMode!==void 0?zo.usedRenderingMode:-1;Ui!==-1?zi+=Ui+` Tr
`:dc!==-1&&(zi+=`0 Tr
`),Ui!==-1&&(zo.usedRenderingMode=Ui),Ye=fe.align||"left";var gi,Ur=Ue*Ss,xl=vn.internal.pageSize.getWidth(),_a=gt[at];mt=fe.charSpace||lc,nt=fe.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var Ai=[],Ns=function(Nt){return vn.getStringUnitWidth(Nt,{font:_a,charSpace:mt,fontSize:Ue,doKerning:!1})*Ue/eo};if(Object.prototype.toString.call(A)==="[object Array]"){var or;Ie=hc(A),Ye!=="left"&&(gi=Ie.map(Ns));var Sr,lr=0;if(Ye==="right"){H-=gi[0],A=[],ji=Ie.length;for(var Gi=0;Gi<ji;Gi++)Gi===0?(Sr=Ja(H),or=Pn(se)):(Sr=$(lr-gi[Gi]),or=-Ur),A.push([Ie[Gi],Sr,or]),lr=gi[Gi]}else if(Ye==="center"){H-=gi[0]/2,A=[],ji=Ie.length;for(var Sa=0;Sa<ji;Sa++)Sa===0?(Sr=Ja(H),or=Pn(se)):(Sr=$((lr-gi[Sa])/2),or=-Ur),A.push([Ie[Sa],Sr,or]),lr=gi[Sa]}else if(Ye==="left"){A=[],ji=Ie.length;for(var fc=0;fc<ji;fc++)A.push(Ie[fc])}else if(Ye==="justify"&&_a.encoding==="Identity-H"){A=[],ji=Ie.length,nt=nt!==0?nt:xl;for(var cr=0,_n=0;_n<ji;_n++)if(or=_n===0?Pn(se):-Ur,Sr=_n===0?Ja(H):cr,_n<ji-1){var pc=$((nt-gi[_n])/(Ie[_n].split(" ").length-1)),qs=Ie[_n].split(" ");A.push([qs[0]+" ",Sr,or]),cr=0;for(var us=1;us<qs.length;us++){var bl=(Ns(qs[us-1]+" "+qs[us])-Ns(qs[us]))*eo+pc;us==qs.length-1?A.push([qs[us],bl,0]):A.push([qs[us]+" ",bl,0]),cr-=bl}}else A.push([Ie[_n],Sr,or]);A.push(["",cr,0])}else{if(Ye!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],ji=Ie.length,nt=nt!==0?nt:xl,_n=0;_n<ji;_n++)or=_n===0?Pn(se):-Ur,Sr=_n===0?Ja(H):0,_n<ji-1?Ai.push(F($((nt-gi[_n])/(Ie[_n].split(" ").length-1)))):Ai.push(0),A.push([Ie[_n],Sr,or])}}(typeof fe.R2L=="boolean"?fe.R2L:Tt)===!0&&(A=vl(A,function(Nt,yn,Un){return[Nt.split("").reverse().join(""),yn,Un]})),Fe={text:A,x:H,y:se,options:fe,mutex:{pdfEscape:Fr,activeFontKey:at,fonts:gt,activeFontSize:Ue}},ln.publish("postProcessText",Fe),A=Fe.text,ei=Fe.mutex.isHex||!1;var no=gt[at].encoding;no!=="WinAnsiEncoding"&&no!=="StandardEncoding"||(A=vl(A,function(Nt,yn,Un){return[Oo(Nt),yn,Un]})),Ie=hc(A),A=[];for(var Wi,Na,ks,ur=Array.isArray(Ie[0])?1:0,Ks="",ka=function(Nt,yn,Un){var Vn="";return Un instanceof _t?(Un=typeof fe.angle=="number"?Ka(Un,new _t(1,0,0,1,Nt,yn)):Ka(new _t(1,0,0,1,Nt,yn),Un),C===_&&(Un=Ka(new _t(1,0,0,-1,0,0),Un)),Vn=Un.join(" ")+` Tm
`):Vn=F(Nt)+" "+F(yn)+` Td
`,Vn},Vr=0;Vr<Ie.length;Vr++){switch(Ks="",ur){case 1:ks=(ei?"<":"(")+Ie[Vr][0]+(ei?">":")"),Wi=parseFloat(Ie[Vr][1]),Na=parseFloat(Ie[Vr][2]);break;case 0:ks=(ei?"<":"(")+Ie[Vr]+(ei?">":")"),Wi=Ja(H),Na=Pn(se)}Ai!==void 0&&Ai[Vr]!==void 0&&(Ks=Ai[Vr]+` Tw
`),Vr===0?A.push(Ks+ka(Wi,Na,oi)+ks):ur===0?A.push(Ks+ks):ur===1&&A.push(Ks+ka(Wi,Na,oi)+ks)}A=ur===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Cs=`BT
/`;return Cs+=at+" "+Ue+` Tf
`,Cs+=F(Ue*Ss)+` TL
`,Cs+=va+`
`,Cs+=zi,Cs+=A,le(Cs+="ET"),m[at]=!0,vn};var zf=p.__private__.clip=p.clip=function(A){return le(A==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return zf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return le("n"),this};var ga=p.__private__.isValidStyle=function(A){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(H=!0),H};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(A){return ga(A)&&(c=A),this};var $h=p.__private__.getStyle=p.getStyle=function(A){var H=c;switch(A){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=A}return H},dl=p.close=function(){return le("h"),this};p.stroke=function(){return le("S"),this},p.fill=function(A){return Gs("f",A),this},p.fillEvenOdd=function(A){return Gs("f*",A),this},p.fillStroke=function(A){return Gs("B",A),this},p.fillStrokeEvenOdd=function(A){return Gs("B*",A),this};var Gs=function(A,H){jn(H)==="object"?Uf(H,A):le(A)},Qa=function(A){A===null||C===_&&A===void 0||(A=$h(A),le(A))};function oc(A,H,se,fe,be){var Fe=new Wd(H||this.boundingBox,se||this.xStep,fe||this.yStep,this.gState,be||this.matrix);Fe.stream=this.stream;var Ie=A+"$$"+this.cloneIndex+++"$$";return bs(Ie,Fe),Fe}var Uf=function(A,H){var se=qt[A.key],fe=wt[se];if(fe instanceof ih)le("q"),le(Vf(H)),fe.gState&&p.setGState(fe.gState),le(A.matrix.toString()+" cm"),le("/"+se+" sh"),le("Q");else if(fe instanceof Wd){var be=new _t(1,0,0,-1,0,ar());A.matrix&&(be=be.multiply(A.matrix||Xa),se=oc.call(fe,A.key,A.boundingBox,A.xStep,A.yStep,be).id),le("q"),le("/Pattern cs"),le("/"+se+" scn"),fe.gState&&p.setGState(fe.gState),le(H),le("Q")}},Vf=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},fl=p.moveTo=function(A,H){return le(F($(A))+" "+F(X(H))+" m"),this},Fo=p.lineTo=function(A,H){return le(F($(A))+" "+F(X(H))+" l"),this},ma=p.curveTo=function(A,H,se,fe,be,Fe){return le([F($(A)),F(X(H)),F($(se)),F(X(fe)),F($(be)),F(X(Fe)),"c"].join(" ")),this};p.__private__.line=p.line=function(A,H,se,fe,be){if(isNaN(A)||isNaN(H)||isNaN(se)||isNaN(fe)||!ga(be))throw new Error("Invalid arguments passed to jsPDF.line");return C===j?this.lines([[se-A,fe-H]],A,H,[1,1],be||"S"):this.lines([[se-A,fe-H]],A,H,[1,1]).stroke()},p.__private__.lines=p.lines=function(A,H,se,fe,be,Fe){var Ie,tt,Ye,mt,nt,Xt,tn,oi,vn,li,ei,zi;if(typeof A=="number"&&(zi=se,se=H,H=A,A=zi),fe=fe||[1,1],Fe=Fe||!1,isNaN(H)||isNaN(se)||!Array.isArray(A)||!Array.isArray(fe)||!ga(be)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(fl(H,se),Ie=fe[0],tt=fe[1],mt=A.length,li=H,ei=se,Ye=0;Ye<mt;Ye++)(nt=A[Ye]).length===2?(li=nt[0]*Ie+li,ei=nt[1]*tt+ei,Fo(li,ei)):(Xt=nt[0]*Ie+li,tn=nt[1]*tt+ei,oi=nt[2]*Ie+li,vn=nt[3]*tt+ei,li=nt[4]*Ie+li,ei=nt[5]*tt+ei,ma(Xt,tn,oi,vn,li,ei));return Fe&&dl(),Qa(be),this},p.path=function(A){for(var H=0;H<A.length;H++){var se=A[H],fe=se.c;switch(se.op){case"m":fl(fe[0],fe[1]);break;case"l":Fo(fe[0],fe[1]);break;case"c":ma.apply(this,fe);break;case"h":dl()}}return this},p.__private__.rect=p.rect=function(A,H,se,fe,be){if(isNaN(A)||isNaN(H)||isNaN(se)||isNaN(fe)||!ga(be))throw new Error("Invalid arguments passed to jsPDF.rect");return C===j&&(fe=-fe),le([F($(A)),F(X(H)),F($(se)),F($(fe)),"re"].join(" ")),Qa(be),this},p.__private__.triangle=p.triangle=function(A,H,se,fe,be,Fe,Ie){if(isNaN(A)||isNaN(H)||isNaN(se)||isNaN(fe)||isNaN(be)||isNaN(Fe)||!ga(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-A,fe-H],[be-se,Fe-fe],[A-be,H-Fe]],A,H,[1,1],Ie,!0),this},p.__private__.roundedRect=p.roundedRect=function(A,H,se,fe,be,Fe,Ie){if(isNaN(A)||isNaN(H)||isNaN(se)||isNaN(fe)||isNaN(be)||isNaN(Fe)||!ga(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*se),Fe=Math.min(Fe,.5*fe),this.lines([[se-2*be,0],[be*tt,0,be,Fe-Fe*tt,be,Fe],[0,fe-2*Fe],[0,Fe*tt,-be*tt,Fe,-be,Fe],[2*be-se,0],[-be*tt,0,-be,-Fe*tt,-be,-Fe],[0,2*Fe-fe],[0,-Fe*tt,be*tt,-Fe,be,-Fe]],A+be,H,[1,1],Ie,!0),this},p.__private__.ellipse=p.ellipse=function(A,H,se,fe,be){if(isNaN(A)||isNaN(H)||isNaN(se)||isNaN(fe)||!ga(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*se,Ie=4/3*(Math.SQRT2-1)*fe;return fl(A+se,H),ma(A+se,H-Ie,A+Fe,H-fe,A,H-fe),ma(A-Fe,H-fe,A-se,H-Ie,A-se,H),ma(A-se,H+Ie,A-Fe,H+fe,A,H+fe),ma(A+Fe,H+fe,A+se,H+Ie,A+se,H),Qa(be),this},p.__private__.circle=p.circle=function(A,H,se,fe){if(isNaN(A)||isNaN(H)||isNaN(se)||!ga(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,H,se,se,fe)},p.setFont=function(A,H,se){return se&&(H=U(H,se)),at=wn(A,H,{disableWarning:!1}),this};var pl=p.__private__.getFont=p.getFont=function(){return gt[wn.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var A,H,se={};for(A in Ft)if(Ft.hasOwnProperty(A))for(H in se[A]=[],Ft[A])Ft[A].hasOwnProperty(H)&&se[A].push(H);return se},p.addFont=function(A,H,se,fe,be){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(se=U(se,fe)),Eo.call(this,A,H,se,be=be||"Identity-H")};var gl,ml=t.lineWidth||.200025,Ke=p.__private__.getLineWidth=p.getLineWidth=function(){return ml},Gh=p.__private__.setLineWidth=p.setLineWidth=function(A){return ml=A,le(F($(A))+" w"),this};p.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(A,H){if(A=A||[],H=H||0,isNaN(H)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(se){return F($(se))}).join(" "),H=F($(H)),le("["+A+"] "+H+" d"),this};var Nu=p.__private__.getLineHeight=p.getLineHeight=function(){return Ue*gl};p.__private__.getLineHeight=p.getLineHeight=function(){return Ue*gl};var Wh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(gl=A),this},Hf=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return gl};Wh(t.lineHeight);var Ja=p.__private__.getHorizontalCoordinate=function(A){return $(A)},Pn=p.__private__.getVerticalCoordinate=function(A){return C===_?A:At[q].mediaBox.topRightY-At[q].mediaBox.bottomLeftY-$(A)},ku=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(A){return F(Ja(A))},$f=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(A){return F(Pn(A))},Do=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ha(Do)},p.__private__.setStrokeColor=p.setDrawColor=function(A,H,se,fe){return Do=Vs({ch1:A,ch2:H,ch3:se,ch4:fe,pdfColorType:"draw",precision:2}),le(Do),this};var Cu=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ha(Cu)},p.__private__.setFillColor=p.setFillColor=function(A,H,se,fe){return Cu=Vs({ch1:A,ch2:H,ch3:se,ch4:fe,pdfColorType:"fill",precision:2}),le(Cu),this};var va=t.textColor||"0 g",wr=p.__private__.getTextColor=p.getTextColor=function(){return ha(va)};p.__private__.setTextColor=p.setTextColor=function(A,H,se,fe){return va=Vs({ch1:A,ch2:H,ch3:se,ch4:fe,pdfColorType:"text",precision:3}),this};var lc=t.charSpace,Gf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(lc||0)};p.__private__.setCharSpace=p.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lc=A,this};var _r=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(A){var H=p.CapJoinStyles[A];if(H===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _r=H,le(H+" J"),this};var cs=0;p.__private__.setLineJoin=p.setLineJoin=function(A){var H=p.CapJoinStyles[A];if(H===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cs=H,le(H+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(F($(A))+" M"),this},p.GState=c2,p.setGState=function(A){(A=typeof A=="string"?Dt[si[A]]:ya(null,A)).equals(Ci)||(le("/"+A.id+" gs"),Ci=A)};var ya=function(A,H){if(!A||!si[A]){var se=!1;for(var fe in Dt)if(Dt.hasOwnProperty(fe)&&Dt[fe].equals(H)){se=!0;break}if(se)H=Dt[fe];else{var be="GS"+(Object.keys(Dt).length+1).toString(10);Dt[be]=H,H.id=be}return A&&(si[A]=H.id),ln.publish("addGState",H),H}};p.addGState=function(A,H){return ya(A,H),this},p.saveGraphicsState=function(){return le("q"),Sn.push({key:at,size:Ue,color:va}),this},p.restoreGraphicsState=function(){le("Q");var A=Sn.pop();return at=A.key,Ue=A.size,va=A.color,Ci=null,this},p.setCurrentTransformationMatrix=function(A){return le(A.toString()+" cm"),this},p.comment=function(A){return le("#"+A),this};var Za=function(A,H){var se=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Fe){isNaN(Fe)||(se=parseFloat(Fe))}});var fe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Fe){isNaN(Fe)||(fe=parseFloat(Fe))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Fe){be=Fe.toString()}}),this},cc=function(A,H,se,fe){Za.call(this,A,H),this.type="rect";var be=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(Ie){isNaN(Ie)||(be=parseFloat(Ie))}});var Fe=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Ie){isNaN(Ie)||(Fe=parseFloat(Ie))}}),this},uc=function(){this.page=Nn,this.currentPage=q,this.pages=Le.slice(0),this.pagesContext=At.slice(0),this.x=et,this.y=sn,this.matrix=en,this.width=xa(q),this.height=ar(q),this.outputDestination=Be,this.id="",this.objectNumber=-1};uc.prototype.restore=function(){Nn=this.page,q=this.currentPage,At=this.pagesContext,Le=this.pages,et=this.x,sn=this.y,en=this.matrix,Io(q,this.width),ai(q,this.height),Be=this.outputDestination};var Or=function(A,H,se,fe,be){zs.push(new uc),Nn=q=0,Le=[],et=A,sn=H,en=be,ul([se,fe])};for(var _s in p.beginFormObject=function(A,H,se,fe,be){return Or(A,H,se,fe,be),this},p.endFormObject=function(A){return function(H){if(Bs[H])zs.pop().restore();else{var se=new uc,fe="Xo"+(Object.keys(sr).length+1).toString(10);se.id=fe,Bs[H]=fe,sr[fe]=se,ln.publish("addFormObject",se),zs.pop().restore()}}(A),this},p.doFormObject=function(A,H){var se=sr[Bs[A]];return le("q"),le(H.toString()+" cm"),le("/"+se.id+" Do"),le("Q"),this},p.getFormObject=function(A){var H=sr[Bs[A]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},p.save=function(A,H){return A=A||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(nh(pi(Dr()),A),typeof nh.unload=="function"&&Lt.setTimeout&&setTimeout(nh.unload,911),this):new Promise(function(se,fe){try{var be=nh(pi(Dr()),A);typeof nh.unload=="function"&&Lt.setTimeout&&setTimeout(nh.unload,911),se(be)}catch(Fe){fe(Fe.message)}})},yt.API)yt.API.hasOwnProperty(_s)&&(_s==="events"&&yt.API.events.length?function(A,H){var se,fe,be;for(be=H.length-1;be!==-1;be--)se=H[be][0],fe=H[be][1],A.subscribe.apply(A,[se].concat(typeof fe=="function"?[fe]:fe))}(ln,yt.API.events):p[_s]=yt.API[_s]);var xa=p.getPageWidth=function(A){return(At[A=A||q].mediaBox.topRightX-At[A].mediaBox.bottomLeftX)/bt},Io=p.setPageWidth=function(A,H){At[A].mediaBox.topRightX=H*bt+At[A].mediaBox.bottomLeftX},ar=p.getPageHeight=function(A){return(At[A=A||q].mediaBox.topRightY-At[A].mediaBox.bottomLeftY)/bt},ai=p.setPageHeight=function(A,H){At[A].mediaBox.topRightY=H*bt+At[A].mediaBox.bottomLeftY};return p.internal={pdfEscape:Fr,getStyle:$h,getFont:pl,getFontSize:qe,getCharSpace:Gf,getTextColor:wr,getLineHeight:Nu,getLineHeightFactor:Hf,getLineWidth:Ke,write:jt,getHorizontalCoordinate:Ja,getVerticalCoordinate:Pn,getCoordinateString:ku,getVerticalCoordinateString:$f,collections:{},newObject:Fn,newAdditionalObject:ua,newObjectDeferred:Bi,newObjectDeferredBegin:Hi,getFilters:Hs,putStream:ws,events:ln,scaleFactor:bt,pageSize:{getWidth:function(){return xa(q)},setWidth:function(A){Io(q,A)},getHeight:function(){return ar(q)},setHeight:function(A){ai(q,A)}},encryptionOptions:d,encryption:Zn,getEncryptor:function(A){return d!==null?Zn.encryptor(A,0):function(H){return H}},output:Ir,getNumberOfPages:$s,pages:Le,out:le,f2:T,f3:D,getPageInfo:Ro,getPageInfoByObjId:Hh,getCurrentPageInfo:ls,getPDFVersion:b,Point:Za,Rectangle:cc,Matrix:_t,hasHotfix:Mo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return xa(q)},set:function(A){Io(q,A)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ar(q)},set:function(A){ai(q,A)},enumerable:!0,configurable:!0}),(function(A){for(var H=0,se=ut.length;H<se;H++){var fe=Eo.call(this,A[H][0],A[H][1],A[H][2],ut[H][3],!0);g===!1&&(m[fe]=!0);var be=A[H][0].split("-");ac({id:fe,fontName:be[0],fontStyle:be[1]||""})}ln.publish("addFonts",{fonts:gt,dictionary:Ft})}).call(p,ut),at="F1",Vh(r,n),ln.publish("initialized"),p}kd.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},kd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},kd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},kd.prototype.processOwnerPassword=function(t,e){return C4(k4(e).substr(0,5),t)},kd.prototype.encryptor=function(t,e){var n=k4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return C4(n,i)}},c2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||jn(t)!==jn(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},yt.API={events:[]},yt.version="3.0.2";var bi=yt.API,Hb=1,Uh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ot=function(t){return t.toFixed(2)},Pc=function(t){return t.toFixed(5)};bi.__acroform__={};var Os=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},V7=function(t){return t*Hb},Ko=function(t){var e=new zP,n=ct.internal.getHeight(t)||0,i=ct.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ot(i)),Number(Ot(n))],e},yJ=bi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},xJ=bi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},bJ=bi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ri=bi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return bJ(t,e-1)},Fi=bi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yJ(t,e-1)},Di=bi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return xJ(t,e-1)},wJ=bi.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(r)||0,l.lowerLeft_Y=i(s+o)||0,l.upperRight_X=n(r+a)||0,l.upperRight_Y=i(s)||0,[Number(Ot(l.lowerLeft_X)),Number(Ot(l.lowerLeft_Y)),Number(Ot(l.upperRight_X)),Number(Ot(l.upperRight_Y))]},_J=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=j4(t,n),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+Ot(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ko(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},j4=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(T){return T.split(`
`)}):r.map(function(T){return[T]});var s=n,a=ct.internal.getHeight(t)||0;a=a<0?-a:a;var o=ct.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(T,D,$){if(T+1<r.length){var X=D+" "+r[T+1][0];return Pm(X,t,$).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,d,g=Pm("3",t,s).height,m=t.multiline?a-s:(a-g)/2,p=m+=2,x=0,b=0,N=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Pm(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var S="",j=0,_=0;_<r.length;_++)if(r.hasOwnProperty(_)){var C=!1;if(r[_].length!==1&&N!==r[_].length-1){if((g+2)*(j+2)+2>a)continue e;S+=r[_][N],C=!0,b=_,_--}else{S=(S+=r[_][N]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var E=parseInt(_),O=l(E,S,s),U=_>=r.length-1;if(O&&!U){S+=" ",N=0;continue}if(O||U){if(U)b=E;else if(t.multiline&&(g+2)*(j+2)+2>a)continue e}else{if(!t.multiline||(g+2)*(j+2)+2>a)continue e;b=E}}for(var F="",R=x;R<=b;R++){var M=r[R];if(t.multiline){if(R===b){F+=M[N]+" ",N=(N+1)%M.length;continue}if(R===x){F+=M[M.length-1]+" ";continue}}F+=M[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,d=Pm(F,t,s).width,t.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}e+=Ot(c)+" "+Ot(p)+` Td
`,e+="("+Uh(F)+`) Tj
`,e+=-Ot(c)+` 0 Td
`,p=-(s+2),d=0,x=C?b:b+1,j++,S=""}break}return i.text=e,i.fontSize=s,i},Pm=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},SJ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},NJ=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},kJ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ao.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(SJ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Hb=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new UP,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&NJ(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(i,r){var s=!i;for(var a in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var o=i[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=wJ(o.Rect,r)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ct.createDefaultAppearanceStream(o),jn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=_J(o);l.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var g="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var p=o.appearanceStreamContent[m];if(g+="/"+m+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var x=p[a];typeof x=="function"&&(x=x.call(r,o)),g+="/"+a+" "+x+" ",r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x)}}else typeof(x=p)=="function"&&(x=x.call(r,o)),g+="/"+a+" "+x,r.internal.acroformPlugin.xForms.indexOf(x)>=0||r.internal.acroformPlugin.xForms.push(x);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:o.objId}),r.internal.out("endobj")}s&&function(b,N){for(var S in b)if(b.hasOwnProperty(S)){var j=S,_=b[S];N.internal.newObjectDeferredBegin(_.objId,!0),jn(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete b[j]}}(r.internal.acroformPlugin.xForms,r)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},BP=bi.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(a){return a};if(Array.isArray(t)){for(var r="[",s=0;s<t.length;s++)switch(s!==0&&(r+=" "),jn(t[s])){case"boolean":case"number":case"object":r+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),r+="("+Uh(i(t[s].toString()))+")"):r+=t[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Sy=function(t,e,n){var i=function(r){return r};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Uh(i(t))+")"},el=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};el.prototype.toString=function(){return this.objId+" 0 R"},el.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},el.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],r=this[i];r&&(Array.isArray(r)?t.push({key:i,value:BP(r,this.objId,this.scope)}):r instanceof el?(r.scope=this.scope,t.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:i,value:r}))}return t};var zP=function(){el.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Os(zP,el);var UP=function(){el.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Uh(n(t))+")"}},set:function(n){t=n}})};Os(UP,el);var Ao=function t(){el.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ri(e,3)},set:function(S){S?this.F=Fi(e,3):this.F=Di(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');n=S}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(S){i=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(S){i[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(S){i[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(S){i[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(S){i[3]=S}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof u2)return;s="FieldObject"+t.FieldNum++}var S=function(j){return j};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Uh(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(S){a=S}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Hb:c},set:function(S){c=S}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof u2||this instanceof gh))return Sy(g,this.objId,this.scope)},set:function(S){S=S.toString(),g=S}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof yr==0?Sy(m,this.objId,this.scope):m},set:function(S){S=S.toString(),m=this instanceof yr==0?S.substr(0,1)==="("?wd(S.substr(1,S.length-2)):wd(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yr==1?wd(m.substr(1,m.length-1)):m},set:function(S){S=S.toString(),m=this instanceof yr==1?"/"+S:S}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof yr==0?Sy(p,this.objId,this.scope):p},set:function(S){S=S.toString(),p=this instanceof yr==0?S.substr(0,1)==="("?wd(S.substr(1,S.length-2)):wd(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yr==1?wd(p.substr(1,p.length-1)):p},set:function(S){S=S.toString(),p=this instanceof yr==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(S){S=!!S,b=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(S){x=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,1)},set:function(S){S?this.Ff=Fi(this.Ff,1):this.Ff=Di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,2)},set:function(S){S?this.Ff=Fi(this.Ff,2):this.Ff=Di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,3)},set:function(S){S?this.Ff=Fi(this.Ff,3):this.Ff=Di(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');N=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(N){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Os(Ao,el);var nf=function(){Ao.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return BP(e,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,18)},set:function(n){n?this.Ff=Fi(this.Ff,18):this.Ff=Di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Fi(this.Ff,19):this.Ff=Di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,20)},set:function(n){n?(this.Ff=Fi(this.Ff,20),e.sort()):this.Ff=Di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,22)},set:function(n){n?this.Ff=Fi(this.Ff,22):this.Ff=Di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,23)},set:function(n){n?this.Ff=Fi(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,27)},set:function(n){n?this.Ff=Fi(this.Ff,27):this.Ff=Di(this.Ff,27)}}),this.hasAppearanceStream=!1};Os(nf,Ao);var rf=function(){nf.call(this),this.fontName="helvetica",this.combo=!1};Os(rf,nf);var sf=function(){rf.call(this),this.combo=!0};Os(sf,rf);var s1=function(){sf.call(this),this.edit=!0};Os(s1,sf);var yr=function(){Ao.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,15)},set:function(n){n?this.Ff=Fi(this.Ff,15):this.Ff=Di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,16)},set:function(n){n?this.Ff=Fi(this.Ff,16):this.Ff=Di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,17)},set:function(n){n?this.Ff=Fi(this.Ff,17):this.Ff=Di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,26)},set:function(n){n?this.Ff=Fi(this.Ff,26):this.Ff=Di(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+Uh(n(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){jn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Os(yr,Ao);var a1=function(){yr.call(this),this.pushButton=!0};Os(a1,yr);var af=function(){yr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Os(af,yr);var u2=function(){var t,e;Ao.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),i)a.push("/"+s+" ("+Uh(r(i[s]))+")");return a.push(">>"),a.join(`
`)},set:function(r){jn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Os(u2,Ao),af.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},af.prototype.createOption=function(t){var e=new u2;return e.Parent=this,e.optionName=t,this.Kids.push(e),CJ.call(this.scope,e),e};var o1=function(){yr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ct.CheckBox.createAppearanceStream()};Os(o1,yr);var gh=function(){Ao.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,13)},set:function(e){e?this.Ff=Fi(this.Ff,13):this.Ff=Di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,21)},set:function(e){e?this.Ff=Fi(this.Ff,21):this.Ff=Di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,23)},set:function(e){e?this.Ff=Fi(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,24)},set:function(e){e?this.Ff=Fi(this.Ff,24):this.Ff=Di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,25)},set:function(e){e?this.Ff=Fi(this.Ff,25):this.Ff=Di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,26)},set:function(e){e?this.Ff=Fi(this.Ff,26):this.Ff=Di(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Os(gh,Ao);var l1=function(){gh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ri(this.Ff,14)},set:function(t){t?this.Ff=Fi(this.Ff,14):this.Ff=Di(this.Ff,14)}}),this.password=!0};Os(l1,gh);var ct={CheckBox:{createAppearanceStream:function(){return{N:{On:ct.CheckBox.YesNormal},D:{On:ct.CheckBox.YesPushDown,Off:ct.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ko(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=j4(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Ot(ct.internal.getWidth(t))+" "+Ot(ct.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Ot(s.fontSize)+" Tf "+r),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Ko(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=[],s=ct.internal.getHeight(t),a=ct.internal.getWidth(t),o=j4(t,t.caption);return r.push("1 g"),r.push("0 0 "+Ot(a)+" "+Ot(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Ot(a-1)+" "+Ot(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+Ot(o.fontSize)+" Tf "+i),r.push(o.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ko(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(ct.internal.getWidth(t))+" "+Ot(ct.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ct.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ct.RadioButton.Circle.YesNormal,e.D[t]=ct.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ko(t);e.scope=t.scope;var n=[],i=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=ct.internal.Bezier_C,s=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Pc(ct.internal.getWidth(t)/2)+" "+Pc(ct.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ko(t);e.scope=t.scope;var n=[],i=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ct.internal.Bezier_C).toFixed(5)),a=Number((i*ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Pc(ct.internal.getWidth(t)/2)+" "+Pc(ct.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Pc(ct.internal.getWidth(t)/2)+" "+Pc(ct.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ko(t);e.scope=t.scope;var n=[],i=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Pc(ct.internal.getWidth(t)/2)+" "+Pc(ct.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ct.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ct.RadioButton.Cross.YesNormal,e.D[t]=ct.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ko(t);e.scope=t.scope;var n=[],i=ct.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Ot(ct.internal.getWidth(t)-2)+" "+Ot(ct.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ot(i.x1.x)+" "+Ot(i.x1.y)+" m"),n.push(Ot(i.x2.x)+" "+Ot(i.x2.y)+" l"),n.push(Ot(i.x4.x)+" "+Ot(i.x4.y)+" m"),n.push(Ot(i.x3.x)+" "+Ot(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ko(t);e.scope=t.scope;var n=ct.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Ot(ct.internal.getWidth(t))+" "+Ot(ct.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Ot(ct.internal.getWidth(t)-2)+" "+Ot(ct.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Ot(n.x1.x)+" "+Ot(n.x1.y)+" m"),i.push(Ot(n.x2.x)+" "+Ot(n.x2.y)+" l"),i.push(Ot(n.x4.x)+" "+Ot(n.x4.y)+" m"),i.push(Ot(n.x3.x)+" "+Ot(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ko(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ot(ct.internal.getWidth(t))+" "+Ot(ct.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ct.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ct.internal.getWidth(t),n=ct.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},ct.internal.getWidth=function(t){var e=0;return jn(t)==="object"&&(e=V7(t.Rect[2])),e},ct.internal.getHeight=function(t){var e=0;return jn(t)==="object"&&(e=V7(t.Rect[3])),e};var CJ=bi.addField=function(t){if(kJ(this,t),!(t instanceof Ao))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};bi.AcroFormChoiceField=nf,bi.AcroFormListBox=rf,bi.AcroFormComboBox=sf,bi.AcroFormEditBox=s1,bi.AcroFormButton=yr,bi.AcroFormPushButton=a1,bi.AcroFormRadioButton=af,bi.AcroFormCheckBox=o1,bi.AcroFormTextField=gh,bi.AcroFormPasswordField=l1,bi.AcroFormAppearance=ct,bi.AcroForm={ChoiceField:nf,ListBox:rf,ComboBox:sf,EditBox:s1,Button:yr,PushButton:a1,RadioButton:af,CheckBox:o1,TextField:gh,PasswordField:l1,Appearance:ct},yt.AcroForm={ChoiceField:nf,ListBox:rf,ComboBox:sf,EditBox:s1,Button:yr,PushButton:a1,RadioButton:af,CheckBox:o1,TextField:gh,PasswordField:l1,Appearance:ct};yt.AcroForm;function VP(t){return t.reduce(function(e,n,i){return e[n]=i,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(T,D){var $,X,ae,ge,pe,te=n;if((D=D||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(O(T))for(pe in i)for(ae=i[pe],$=0;$<ae.length;$+=1){for(ge=!0,X=0;X<ae[$].length;X+=1)if(ae[$][X]!==void 0&&ae[$][X]!==T[X]){ge=!1;break}if(ge===!0){te=pe;break}}else for(pe in i)for(ae=i[pe],$=0;$<ae.length;$+=1){for(ge=!0,X=0;X<ae[$].length;X+=1)if(ae[$][X]!==void 0&&ae[$][X]!==T.charCodeAt(X)){ge=!1;break}if(ge===!0){te=pe;break}}return te===n&&D!==n&&(te=D),te},s=function T(D){for(var $=this.internal.write,X=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:D.width}),ge.push({key:"Height",value:D.height}),D.colorSpace===S.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===S.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var pe="",te=0,Z=D.transparency.length;te<Z;te++)pe+=D.transparency[te]+" "+D.transparency[te]+" ";ge.push({key:"Mask",value:"["+pe+"]"})}D.sMask!==void 0&&ge.push({key:"SMask",value:D.objectId+1+" 0 R"});var ue=D.filter!==void 0?["/"+D.filter]:void 0;if(X({data:D.data,additionalKeyValues:ge,alreadyAppliedFilters:ue,objectId:D.objectId}),$("endobj"),"sMask"in D&&D.sMask!==void 0){var Y=(D.predictor!=null?"/Predictor "+D.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+D.width,z={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:Y,data:D.sMask};"filter"in D&&(z.filter=D.filter),T.call(this,z)}if(D.colorSpace===S.INDEXED){var q=this.internal.newObject();X({data:F(new Uint8Array(D.palette)),objectId:q}),$("endobj")}},a=function(){var T=this.internal.collections[e+"images"];for(var D in T)s.call(this,T[D])},o=function(){var T,D=this.internal.collections[e+"images"],$=this.internal.write;for(var X in D)$("/I"+(T=D[X]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(T){return typeof t["process"+T.toUpperCase()]=="function"},m=function(T){return jn(T)==="object"&&T.nodeType===1},p=function(T,D){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var $=""+T.getAttribute("src");if($.indexOf("data:image/")===0)return r1(unescape($).split("base64,").pop());var X=t.loadFile($,!0);if(X!==void 0)return X}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ae;switch(D){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return r1(T.toDataURL(ae,1).split("base64,").pop())}},x=function(T){var D=this.internal.collections[e+"images"];if(D){for(var $ in D)if(T===D[$].alias)return D[$]}},b=function(T,D,$){return T||D||(T=-96,D=-96),T<0&&(T=-1*$.width*72/T/this.internal.scaleFactor),D<0&&(D=-1*$.height*72/D/this.internal.scaleFactor),T===0&&(T=D*$.width/$.height),D===0&&(D=T*$.height/$.width),[T,D]},N=function(T,D,$,X,ae,ge){var pe=b.call(this,$,X,ae),te=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,ue=c.call(this);if($=pe[0],X=pe[1],ue[ae.index]=ae,ge){ge*=Math.PI/180;var Y=Math.cos(ge),z=Math.sin(ge),q=function(ce){return ce.toFixed(4)},ie=[q(Y),q(z),q(-1*z),q(Y),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,te(T),Z(D+X),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([te($),"0","0",te(X),"0","0","cm"].join(" "))):this.internal.write([te($),"0","0",te(X),te(T),Z(D+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(T){var D,$,X=0;if(typeof T=="string")for($=T.length,D=0;D<$;D++)X=(X<<5)-X+T.charCodeAt(D),X|=0;else if(O(T))for($=T.byteLength/2,D=0;D<$;D++)X=(X<<5)-X+T[D],X|=0;return X},C=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var D=!0;return T.length===0&&(D=!1),T.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(D=!1),D},E=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var D=T.indexOf(",");return D<0?null:T.substring(0,D).trim().endsWith("base64")?T.substring(D+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},U=t.__addimage__.binaryStringToUint8Array=function(T){for(var D=T.length,$=new Uint8Array(D),X=0;X<D;X++)$[X]=T.charCodeAt(X);return $},F=t.__addimage__.arrayBufferToBinaryString=function(T){for(var D="",$=O(T)?T:new Uint8Array(T),X=0;X<$.length;X+=8192)D+=String.fromCharCode.apply(null,$.subarray(X,X+8192));return D};t.addImage=function(){var T,D,$,X,ae,ge,pe,te,Z;if(typeof arguments[1]=="number"?(D=n,$=arguments[1],X=arguments[2],ae=arguments[3],ge=arguments[4],pe=arguments[5],te=arguments[6],Z=arguments[7]):(D=arguments[1],$=arguments[2],X=arguments[3],ae=arguments[4],ge=arguments[5],pe=arguments[6],te=arguments[7],Z=arguments[8]),jn(T=arguments[0])==="object"&&!m(T)&&"imageData"in T){var ue=T;T=ue.imageData,D=ue.format||D||n,$=ue.x||$||0,X=ue.y||X||0,ae=ue.w||ue.width||ae,ge=ue.h||ue.height||ge,pe=ue.alias||pe,te=ue.compression||te,Z=ue.rotation||ue.angle||Z}var Y=this.internal.getFilters();if(te===void 0&&Y.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN($)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var z=R.call(this,T,D,pe,te);return N.call(this,$,X,ae,ge,z,Z),this};var R=function(T,D,$,X){var ae,ge,pe;if(typeof T=="string"&&r(T)===n){T=unescape(T);var te=M(T,!1);(te!==""||(te=t.loadFile(T,!0))!==void 0)&&(T=te)}if(m(T)&&(T=p(T,D)),D=r(T,D),!g(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((pe=$)==null||pe.length===0)&&($=function(Z){return typeof Z=="string"||O(Z)?_(Z):O(Z.data)?_(Z.data):null}(T)),(ae=x.call(this,$))||(T instanceof Uint8Array||D==="RGBA"||(ge=T,T=U(T)),ae=this["process"+D.toUpperCase()](T,d.call(this),$,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in t.image_compression?Z:j.NONE}(X),ge)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},M=t.__addimage__.convertBase64ToBinaryString=function(T,D){D=typeof D!="boolean"||D;var $,X="";if(typeof T=="string"){var ae;$=(ae=E(T))!==null&&ae!==void 0?ae:T;try{X=r1($)}catch(ge){if(D)throw C($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};t.getImageProperties=function(T){var D,$,X="";if(m(T)&&(T=p(T)),typeof T=="string"&&r(T)===n&&((X=M(T,!1))===""&&(X=t.loadFile(T)||""),T=X),$=r(T),!g($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(T instanceof Uint8Array||(T=U(T)),!(D=this["process"+$.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=$,D}})(yt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};yt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,r,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,d=!1,g=0;g<c.length&&!d;g++)switch((i=c[g]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){i=c[m];var p=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(b.objId),j=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y)+"] ")+"/Contents ("+p(S(i.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(S(j))+") >>",b.content=s;var _=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(i.bounds.x+30)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+o(i.bounds.y)+"] ")+" /Parent "+_,i.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(b.objId,"0 R",N.objId,"0 R");break;case"freetext":r="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y+i.bounds.h)+"] ";var C=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(x(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var E=this.annotations._nameMap[i.options.name];i.options.pageNumber=E.page,i.options.top=E.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(x(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var O=o(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+O+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,r,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(i),w:l(n+r),h:c(i+s)},options:a,type:"link"})},t.textWithLink=function(n,i,r,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(c*d)}else o=l,a=c;return this.text(n,i,r,s),r+=.2*c,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,r-c,o,a,s),l},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(yt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=t.__arabicParser__.isArabicEndLetter=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return a(b)&&r.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(b){var N=0,S=n,j="",_=0;for(N=0;N<b.length;N+=1)S[b.charCodeAt(N)]!==void 0?(_++,typeof(S=S[b.charCodeAt(N)])=="number"&&(j+=String.fromCharCode(S),S=n,_=0),N===b.length-1&&(S=n,j+=b.charAt(N-(_-1)),N-=_-1,_=0)):(S=n,j+=b.charAt(N-_),N-=_,_=0);return j};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&i[b.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(b,N,S){return a(b)?s(b)===!1?-1:!c(b)||!a(N)&&!a(S)||!a(S)&&o(N)||o(b)&&!a(N)||o(b)&&l(N)||o(b)&&o(N)?0:d(b)&&a(N)&&!o(N)&&a(S)&&c(S)?3:o(b)||!a(S)?1:2:-1},p=function(b){var N=0,S=0,j=0,_="",C="",E="",O=(b=b||"").split("\\s+"),U=[];for(N=0;N<O.length;N+=1){for(U.push(""),S=0;S<O[N].length;S+=1)_=O[N][S],C=O[N][S-1],E=O[N][S+1],a(_)?(j=m(_,C,E),U[N]+=j!==-1?String.fromCharCode(e[_.charCodeAt(0)][j]):_):U[N]+=_;U[N]=g(U[N])}return U.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var b,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(N)){var j=0;for(S=[],j=0;j<N.length;j+=1)Array.isArray(N[j])?S.push([p(N[j][0]),N[j][1],N[j][2]]):S.push([p(N[j])]);b=S}else b=p(N);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",x])}(yt.API),yt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(yt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(b){x=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){i.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),g=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,p=0,x=0,b=0,N=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var S=c.maxWidth;S>0?typeof l=="string"?l=this.splitTextToSize(l,S):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,C){return _.concat(N.splitTextToSize(C,S))},[])):l=Array.isArray(l)?l:[l];for(var j=0;j<l.length;j++)p<(b=this.getStringUnitWidth(l[j],{font:g})*d)&&(p=b);return p!==0&&(x=l.length),{w:p/=m,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,d,g,m){if(i.call(this),!d)throw new Error("No data for PDF table.");var p,x,b,N,S=[],j=[],_=[],C={},E={},O=[],U=[],F=(m=m||{}).autoSize||!1,R=m.printHeaders!==!1,M=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,T=m.margins||Object.assign({width:this.getPageWidth()},e),D=typeof m.padding=="number"?m.padding:3,$=m.headerBackgroundColor||"#c8c8c8",X=m.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=X,this.setFontSize(M),g==null)j=S=Object.keys(d[0]),_=S.map(function(){return"left"});else if(Array.isArray(g)&&jn(g[0])==="object")for(S=g.map(function(ue){return ue.name}),j=g.map(function(ue){return ue.prompt||ue.name||""}),_=g.map(function(ue){return ue.align||"left"}),p=0;p<g.length;p+=1)E[g[p].name]=.7499990551181103*g[p].width;else Array.isArray(g)&&typeof g[0]=="string"&&(j=S=g,_=S.map(function(){return"left"}));if(F||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<S.length;p+=1){for(C[N=S[p]]=d.map(function(ue){return ue[N]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(j[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=C[N],this.setFont(void 0,"normal"),b=0;b<x.length;b+=1)O.push(this.getTextDimensions(x[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[N]=Math.max.apply(null,O)+D+D,O=[]}if(R){var ae={};for(p=0;p<S.length;p+=1)ae[S[p]]={},ae[S[p]].text=j[p],ae[S[p]].align=_[p];var ge=o.call(this,ae,E);U=S.map(function(ue){return new s(l,c,E[ue],ge,ae[ue].text,void 0,ae[ue].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var pe=g.reduce(function(ue,Y){return ue[Y.name]=Y.align,ue},{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var te=o.call(this,d[p],E);for(b=0;b<S.length;b+=1){var Z=d[p][S[b]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:b,data:Z},this),a.call(this,new s(l,c,E[S[b]],te,Z,p+2,pe[S[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var x=l[p];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,c[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/m+d+d},this).reduce(function(p,x){return Math.max(p,x)},0)};t.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(yt.API);var HP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$P=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],A4=VP($P),GP=[100,200,300,400,500,600,700,800,900],jJ=VP(GP);function Ny(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return HP[s=s||"normal"]?s:"normal"}(t.style),i=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),r=function(s){return typeof A4[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:i,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,n,i].join(" ")}}}function H7(t,e,n,i){var r;for(r=n;r>=0&&r<e.length;r+=i)if(t[e[r]])return t[e[r]];for(r=n;r>=0&&r<e.length;r-=i)if(t[e[r]])return t[e[r]]}var AJ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function G7(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function W7(t){return t.trimLeft()}function PJ(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function LJ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Lm,q7,K7,_d,Tm,X7,Y7,Q7,ky=["times"];function J7(t,e,n,i){var r=4,s=eN;switch(i){case yt.API.image_compression.FAST:r=1,s=Z7;break;case yt.API.image_compression.MEDIUM:r=6,s=tN;break;case yt.API.image_compression.SLOW:r=9,s=nN}t=function(o,l,c,d){for(var g,m=o.length/l,p=new Uint8Array(o.length+m),x=[TJ,Z7,eN,tN,nN],b=0;b<m;b+=1){var N=b*l,S=o.subarray(N,N+l);if(d)p.set(d(S,c,g),N+b);else{for(var j=x.length,_=[],C=0;C<j;C+=1)_[C]=x[C](S,c,g);var E=MJ(_.concat());p.set(_[E],N+b)}g=S}return p}(t,e,n,s);var a=w4(t,{level:r});return yt.API.__addimage__.arrayBufferToBinaryString(a)}function TJ(t){var e=Array.apply([],t);return e.unshift(0),e}function Z7(t,e){var n=t.length,i=[];i[0]=1;for(var r=0;r<n;r+=1){var s=t[r-e]||0;i[r+1]=t[r]-s+256&255}return i}function eN(t,e,n){var i=t.length,r=[];r[0]=2;for(var s=0;s<i;s+=1){var a=n&&n[s]||0;r[s+1]=t[s]-a+256&255}return r}function tN(t,e,n){var i=t.length,r=[];r[0]=3;for(var s=0;s<i;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;r[s+1]=t[s]+256-(a+o>>>1)&255}return r}function nN(t,e,n){var i=t.length,r=[];r[0]=4;for(var s=0;s<i;s+=1){var a=EJ(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);r[s+1]=t[s]-a+256&255}return r}function EJ(t,e,n){if(t===e&&e===n)return t;var i=Math.abs(e-n),r=Math.abs(t-n),s=Math.abs(t+e-n-n);return i<=r&&i<=s?t:r<=s?e:n}function MJ(t){var e=t.map(function(n){return n.reduce(function(i,r){return i+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function Cy(t,e,n){var i=e*n,r=Math.floor(i/8),s=16-(i-8*r+n),a=(1<<n)-1;return WP(t,r)>>s&a}function iN(t,e,n,i){var r=n*i,s=Math.floor(r/8),a=16-(r-8*s+i),o=(1<<i)-1,l=(e&o)<<a;(function(c,d,g){if(d+1<c.byteLength)c.setUint16(d,g,!1);else{var m=g>>8&255;c.setUint8(d,m)}})(t,s,WP(t,s)&~(o<<a)&65535|l)}function WP(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function RJ(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,r=t[e++],s=r>>7,a=1<<1+(7&r);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,d=[],g=0,m=null,p=0,x=null;for(this.width=n,this.height=i;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];g=t[e++]|t[e++]<<8,m=t[e++],1&b||(m=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,C=t[e++],E=C>>6&1,O=1<<1+(7&C),U=o,F=l,R=!1;C>>7&&(R=!0,U=e,F=O,e+=3*O);var M=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}d.push({x:N,y:S,width:j,height:_,has_local_palette:R,palette_offset:U,palette_size:F,data_offset:M,data_length:e-M,transparent_index:m,interlaced:!!E,delay:g,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(D){if(D<0||D>=d.length)throw new Error("Frame index out of range.");return d[D]},this.decodeAndBlitFrameBGRA=function(D,$){var X=this.frameInfo(D),ae=X.width*X.height,ge=new Uint8Array(ae);rN(t,X.data_offset,ge,ae);var pe=X.palette_offset,te=X.transparent_index;te===null&&(te=256);var Z=X.width,ue=n-Z,Y=Z,z=4*(X.y*n+X.x),q=4*((X.y+X.height)*n+X.x),ie=z,ce=4*ue;X.interlaced===!0&&(ce+=4*n*7);for(var he=8,K=0,de=ge.length;K<de;++K){var me=ge[K];if(Y===0&&(Y=Z,(ie+=ce)>=q&&(ce=4*ue+4*n*(he-1),ie=z+(Z+ue)*(he<<1),he>>=1)),me===te)ie+=4;else{var Ce=t[pe+3*me],Le=t[pe+3*me+1],ze=t[pe+3*me+2];$[ie++]=ze,$[ie++]=Le,$[ie++]=Ce,$[ie++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(D,$){var X=this.frameInfo(D),ae=X.width*X.height,ge=new Uint8Array(ae);rN(t,X.data_offset,ge,ae);var pe=X.palette_offset,te=X.transparent_index;te===null&&(te=256);var Z=X.width,ue=n-Z,Y=Z,z=4*(X.y*n+X.x),q=4*((X.y+X.height)*n+X.x),ie=z,ce=4*ue;X.interlaced===!0&&(ce+=4*n*7);for(var he=8,K=0,de=ge.length;K<de;++K){var me=ge[K];if(Y===0&&(Y=Z,(ie+=ce)>=q&&(ce=4*ue+4*n*(he-1),ie=z+(Z+ue)*(he<<1),he>>=1)),me===te)ie+=4;else{var Ce=t[pe+3*me],Le=t[pe+3*me+1],ze=t[pe+3*me+2];$[ie++]=Ce,$[ie++]=Le,$[ie++]=ze,$[ie++]=255}--Y}}}function rN(t,e,n,i){for(var r=t[e++],s=1<<r,a=s+1,o=a+1,l=r+1,c=(1<<l)-1,d=0,g=0,m=0,p=t[e++],x=new Int32Array(4096),b=null;;){for(;d<16&&p!==0;)g|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<l)break;var N=g&c;if(g>>=l,d-=l,N!==s){if(N===a)break;for(var S=N<o?N:b,j=0,_=S;_>s;)_=x[_]>>8,++j;var C=_;if(m+j+(S!==N?1:0)>i)return void Mn.log("Warning, gif stream longer than expected.");n[m++]=C;var E=m+=j;for(S!==N&&(n[m++]=C),_=S;j--;)_=x[_],n[--E]=255&_,_>>=8;b!==null&&o<4096&&(x[o++]=b<<8|C,o>=c+1&&l<12&&(++l,c=c<<1|1)),b=N}else o=a+1,c=(1<<(l=r+1))-1,b=null}return m!==i&&Mn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function jy(t){var e,n,i,r,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),g=new Array(65535),m=new Array(65535),p=new Array(64),x=new Array(64),b=[],N=0,S=7,j=new Array(64),_=new Array(64),C=new Array(64),E=new Array(256),O=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(z,q){for(var ie=0,ce=0,he=new Array,K=1;K<=16;K++){for(var de=1;de<=z[K];de++)he[q[ce]]=[],he[q[ce]][0]=ie,he[q[ce]][1]=K,ce++,ie++;ie*=2}return he}function pe(z){for(var q=z[0],ie=z[1]-1;ie>=0;)q&1<<ie&&(N|=1<<S),ie--,--S<0&&(N==255?(te(255),te(0)):te(N),S=7,N=0)}function te(z){b.push(z)}function Z(z){te(z>>8&255),te(255&z)}function ue(z,q,ie,ce,he){for(var K,de=he[0],me=he[240],Ce=function(Ue,Xe){var qe,Tt,Te,Ge,$e,ht,Ut,dt,at,bt,et=0;for(at=0;at<8;++at){qe=Ue[et],Tt=Ue[et+1],Te=Ue[et+2],Ge=Ue[et+3],$e=Ue[et+4],ht=Ue[et+5],Ut=Ue[et+6];var sn=qe+(dt=Ue[et+7]),en=qe-dt,gt=Tt+Ut,Ft=Tt-Ut,Sn=Te+ht,wt=Te-ht,qt=Ge+$e,Dt=Ge-$e,si=sn+qt,Ci=sn-qt,Nn=gt+Sn,At=gt-Sn;Ue[et]=si+Nn,Ue[et+4]=si-Nn;var ln=.707106781*(At+Ci);Ue[et+2]=Ci+ln,Ue[et+6]=Ci-ln;var Lo=.382683433*((si=Dt+wt)-(At=Ft+en)),sr=.5411961*si+Lo,Bs=1.306562965*At+Lo,zs=.707106781*(Nn=wt+Ft),_t=en+zs,Ka=en-zs;Ue[et+5]=Ka+sr,Ue[et+3]=Ka-sr,Ue[et+1]=_t+Bs,Ue[et+7]=_t-Bs,et+=8}for(et=0,at=0;at<8;++at){qe=Ue[et],Tt=Ue[et+8],Te=Ue[et+16],Ge=Ue[et+24],$e=Ue[et+32],ht=Ue[et+40],Ut=Ue[et+48];var Xa=qe+(dt=Ue[et+56]),bs=qe-dt,os=Tt+Ut,Fn=Tt-Ut,Bi=Te+ht,Hi=Te-ht,ua=Ge+$e,To=Ge-$e,Us=Xa+ua,ha=Xa-ua,Vs=os+Bi,Hs=os-Bi;Ue[et]=Us+Vs,Ue[et+32]=Us-Vs;var ws=.707106781*(Hs+ha);Ue[et+16]=ha+ws,Ue[et+48]=ha-ws;var ll=.382683433*((Us=To+Hi)-(Hs=Fn+bs)),da=.5411961*Us+ll,cl=1.306562965*Hs+ll,ic=.707106781*(Vs=Hi+Fn),rc=bs+ic,sc=bs-ic;Ue[et+40]=sc+da,Ue[et+24]=sc-da,Ue[et+8]=rc+cl,Ue[et+56]=rc-cl,et++}for(at=0;at<64;++at)bt=Ue[at]*Xe[at],p[at]=bt>0?bt+.5|0:bt-.5|0;return p}(z,q),Le=0;Le<64;++Le)x[U[Le]]=Ce[Le];var ze=x[0]-ie;ie=x[0],ze==0?pe(ce[0]):(pe(ce[m[K=32767+ze]]),pe(g[K]));for(var Be=63;Be>0&&x[Be]==0;)Be--;if(Be==0)return pe(de),ie;for(var je,le=1;le<=Be;){for(var jt=le;x[le]==0&&le<=Be;)++le;var xt=le-jt;if(xt>=16){je=xt>>4;for(var ut=1;ut<=je;++ut)pe(me);xt&=15}K=32767+x[le],pe(he[(xt<<4)+m[K]]),pe(g[K]),le++}return Be!=63&&pe(de),ie}function Y(z){z=Math.min(Math.max(z,1),100),s!=z&&(function(q){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var he=a((ie[ce]*q+50)/100);he=Math.min(Math.max(he,1),255),o[U[ce]]=he}for(var K=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var me=a((K[de]*q+50)/100);me=Math.min(Math.max(me,1),255),l[U[de]]=me}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,ze=0;ze<8;ze++)for(var Be=0;Be<8;Be++)c[Le]=1/(o[U[Le]]*Ce[ze]*Ce[Be]*8),d[Le]=1/(l[U[Le]]*Ce[ze]*Ce[Be]*8),Le++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),s=z)}this.encode=function(z,q){q&&Y(q),b=new Array,N=0,S=7,Z(65496),Z(65504),Z(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),Z(1),Z(1),te(0),te(0),function(){Z(65499),Z(132),te(0);for(var Tt=0;Tt<64;Tt++)te(o[Tt]);te(1);for(var Te=0;Te<64;Te++)te(l[Te])}(),function(Tt,Te){Z(65472),Z(17),te(8),Z(Te),Z(Tt),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(z.width,z.height),function(){Z(65476),Z(418),te(0);for(var Tt=0;Tt<16;Tt++)te(F[Tt+1]);for(var Te=0;Te<=11;Te++)te(R[Te]);te(16);for(var Ge=0;Ge<16;Ge++)te(M[Ge+1]);for(var $e=0;$e<=161;$e++)te(T[$e]);te(1);for(var ht=0;ht<16;ht++)te(D[ht+1]);for(var Ut=0;Ut<=11;Ut++)te($[Ut]);te(17);for(var dt=0;dt<16;dt++)te(X[dt+1]);for(var at=0;at<=161;at++)te(ae[at])}(),Z(65498),Z(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var ie=0,ce=0,he=0;N=0,S=7,this.encode.displayName="_encode_";for(var K,de,me,Ce,Le,ze,Be,je,le,jt=z.data,xt=z.width,ut=z.height,Ue=4*xt,Xe=0;Xe<ut;){for(K=0;K<Ue;){for(Le=Ue*Xe+K,Be=-1,je=0,le=0;le<64;le++)ze=Le+(je=le>>3)*Ue+(Be=4*(7&le)),Xe+je>=ut&&(ze-=Ue*(Xe+1+je-ut)),K+Be>=Ue&&(ze-=K+Be-Ue+4),de=jt[ze++],me=jt[ze++],Ce=jt[ze++],j[le]=(O[de]+O[me+256|0]+O[Ce+512|0]>>16)-128,_[le]=(O[de+768|0]+O[me+1024|0]+O[Ce+1280|0]>>16)-128,C[le]=(O[de+1280|0]+O[me+1536|0]+O[Ce+1792|0]>>16)-128;ie=ue(j,c,ie,e,i),ce=ue(_,d,ce,n,r),he=ue(C,d,he,n,r),K+=32}Xe+=8}if(S>=0){var qe=[];qe[1]=S+1,qe[0]=(1<<S+1)-1,pe(qe)}return Z(65497),new Uint8Array(b)},t=t||50,function(){for(var z=String.fromCharCode,q=0;q<256;q++)E[q]=z(q)}(),e=ge(F,R),n=ge(D,$),i=ge(M,T),r=ge(X,ae),function(){for(var z=1,q=2,ie=1;ie<=15;ie++){for(var ce=z;ce<q;ce++)m[32767+ce]=ie,g[32767+ce]=[],g[32767+ce][1]=ie,g[32767+ce][0]=ce;for(var he=-(q-1);he<=-z;he++)m[32767+he]=ie,g[32767+he]=[],g[32767+he][1]=ie,g[32767+he][0]=q-1+he;z<<=1,q<<=1}}(),function(){for(var z=0;z<256;z++)O[z]=19595*z,O[z+256|0]=38470*z,O[z+512|0]=7471*z+32768,O[z+768|0]=-11059*z,O[z+1024|0]=-21709*z,O[z+1280|0]=32768*z+8421375,O[z+1536|0]=-27439*z,O[z+1792|0]=-5329*z}(),Y(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function sN(t){function e(R){if(!R)throw Error("assert :P")}function n(R,M,T){for(var D=0;4>D;D++)if(R[M+D]!=T.charCodeAt(D))return!0;return!1}function i(R,M,T,D,$){for(var X=0;X<$;X++)R[M+X]=T[D+X]}function r(R,M,T,D){for(var $=0;$<D;$++)R[M+$]=T}function s(R){return new Int32Array(R)}function a(R,M){for(var T=[],D=0;D<R;D++)T.push(new M);return T}function o(R,M){var T=[];return function D($,X,ae){for(var ge=ae[X],pe=0;pe<ge&&($.push(ae.length>X+1?[]:new M),!(ae.length<X+1));pe++)D($[pe],X+1,ae)}(T,0,R),T}var l=function(){var R=this;function M(v,w){for(var L=1<<w-1>>>0;v&L;)L>>>=1;return L?(v&L-1)+L:v}function T(v,w,L,I,V){e(!(I%L));do v[w+(I-=L)]=V;while(0<I)}function D(v,w,L,I,V){if(e(2328>=V),512>=V)var G=s(512);else if((G=s(V))==null)return 0;return function(W,Q,ee,oe,ve,ke){var re,ye,Ne=Q,Ee=1<<ee,_e=s(16),Re=s(16);for(e(ve!=0),e(oe!=null),e(W!=null),e(0<ee),ye=0;ye<ve;++ye){if(15<oe[ye])return 0;++_e[oe[ye]]}if(_e[0]==ve)return 0;for(Re[1]=0,re=1;15>re;++re){if(_e[re]>1<<re)return 0;Re[re+1]=Re[re]+_e[re]}for(ye=0;ye<ve;++ye)re=oe[ye],0<oe[ye]&&(ke[Re[re]++]=ye);if(Re[15]==1)return(oe=new $).g=0,oe.value=ke[0],T(W,Ne,1,Ee,oe),Ee;var xe,Oe=-1,De=Ee-1,ft=0,it=1,Pt=1,rt=1<<ee;for(ye=0,re=1,ve=2;re<=ee;++re,ve<<=1){if(it+=Pt<<=1,0>(Pt-=_e[re]))return 0;for(;0<_e[re];--_e[re])(oe=new $).g=re,oe.value=ke[ye++],T(W,Ne+ft,ve,rt,oe),ft=M(ft,re)}for(re=ee+1,ve=2;15>=re;++re,ve<<=1){if(it+=Pt<<=1,0>(Pt-=_e[re]))return 0;for(;0<_e[re];--_e[re]){if(oe=new $,(ft&De)!=Oe){for(Ne+=rt,xe=1<<(Oe=re)-ee;15>Oe&&!(0>=(xe-=_e[Oe]));)++Oe,xe<<=1;Ee+=rt=1<<(xe=Oe-ee),W[Q+(Oe=ft&De)].g=xe+ee,W[Q+Oe].value=Ne-Q-Oe}oe.g=re-ee,oe.value=ke[ye++],T(W,Ne+(ft>>ee),ve,rt,oe),ft=M(ft,re)}}return it!=2*Re[15]-1?0:Ee}(v,w,L,I,V,G)}function $(){this.value=this.g=0}function X(){this.value=this.g=0}function ae(){this.G=a(5,$),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Gi,X)}function ge(v,w,L,I){e(v!=null),e(w!=null),e(2147483648>I),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=w,v.pa=L,v.Jd=w,v.Yc=L+I,v.Zc=4<=I?L+I-4+1:L,de(v)}function pe(v,w){for(var L=0;0<w--;)L|=Ce(v,128)<<w;return L}function te(v,w){var L=pe(v,w);return me(v)?-L:L}function Z(v,w,L,I){var V,G=0;for(e(v!=null),e(w!=null),e(4294967288>I),v.Sb=I,v.Ra=0,v.u=0,v.h=0,4<I&&(I=4),V=0;V<I;++V)G+=w[L+V]<<8*V;v.Ra=G,v.bb=I,v.oa=w,v.pa=L}function ue(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<cr-8>>>0,++v.bb,v.u-=8;ce(v)&&(v.h=1,v.u=0)}function Y(v,w){if(e(0<=w),!v.h&&w<=fc){var L=ie(v)&Sa[w];return v.u+=w,ue(v),L}return v.h=1,v.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ie(v){return v.Ra>>>(v.u&cr-1)>>>0}function ce(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>cr}function he(v,w){v.u=w,v.h=ce(v)}function K(v){v.u>=_n&&(e(v.u>=_n),ue(v))}function de(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function me(v){return pe(v,1)}function Ce(v,w){var L=v.Ca;0>v.b&&de(v);var I=v.b,V=L*w>>>8,G=(v.I>>>I>V)+0;for(G?(L-=V,v.I-=V+1<<I>>>0):L=V+1,I=L,V=0;256<=I;)V+=8,I>>=8;return I=7^V+pc[I],v.b-=I,v.Ca=(L<<I)-1,G}function Le(v,w,L){v[w+0]=L>>24&255,v[w+1]=L>>16&255,v[w+2]=L>>8&255,v[w+3]=255&L}function ze(v,w){return v[w+0]|v[w+1]<<8}function Be(v,w){return ze(v,w)|v[w+2]<<16}function je(v,w){return ze(v,w)|ze(v,w+2)<<16}function le(v,w){var L=1<<w;return e(v!=null),e(0<w),v.X=s(L),v.X==null?0:(v.Mb=32-w,v.Xa=w,1)}function jt(v,w){e(v!=null),e(w!=null),e(v.Xa==w.Xa),i(w.X,0,v.X,0,1<<w.Xa)}function xt(){this.X=[],this.Xa=this.Mb=0}function ut(v,w,L,I){e(L!=null),e(I!=null);var V=L[0],G=I[0];return V==0&&(V=(v*G+w/2)/w),G==0&&(G=(w*V+v/2)/v),0>=V||0>=G?0:(L[0]=V,I[0]=G,1)}function Ue(v,w){return v+(1<<w)-1>>>w}function Xe(v,w){return((4278255360&v)+(4278255360&w)>>>0&4278255360)+((16711935&v)+(16711935&w)>>>0&16711935)>>>0}function qe(v,w){R[w]=function(L,I,V,G,W,Q,ee){var oe;for(oe=0;oe<W;++oe){var ve=R[v](Q[ee+oe-1],V,G+oe);Q[ee+oe]=Xe(L[I+oe],ve)}}}function Tt(){this.ud=this.hd=this.jd=0}function Te(v,w){return((4278124286&(v^w))>>>1)+(v&w)>>>0}function Ge(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function $e(v,w){return Ge(v+(v-w+.5>>1))}function ht(v,w,L){return Math.abs(w-L)-Math.abs(v-L)}function Ut(v,w,L,I,V,G,W){for(I=G[W-1],L=0;L<V;++L)G[W+L]=I=Xe(v[w+L],I)}function dt(v,w,L,I,V){var G;for(G=0;G<L;++G){var W=v[w+G],Q=W>>8&255,ee=16711935&(ee=(ee=16711935&W)+((Q<<16)+Q));I[V+G]=(4278255360&W)+ee>>>0}}function at(v,w){w.jd=255&v,w.hd=v>>8&255,w.ud=v>>16&255}function bt(v,w,L,I,V,G){var W;for(W=0;W<I;++W){var Q=w[L+W],ee=Q>>>8,oe=Q,ve=255&(ve=(ve=Q>>>16)+((v.jd<<24>>24)*(ee<<24>>24)>>>5));oe=255&(oe=(oe+=(v.hd<<24>>24)*(ee<<24>>24)>>>5)+((v.ud<<24>>24)*(ve<<24>>24)>>>5)),V[G+W]=(4278255360&Q)+(ve<<16)+oe}}function et(v,w,L,I,V){R[w]=function(G,W,Q,ee,oe,ve,ke,re,ye){for(ee=ke;ee<re;++ee)for(ke=0;ke<ye;++ke)oe[ve++]=V(Q[I(G[W++])])},R[v]=function(G,W,Q,ee,oe,ve,ke){var re=8>>G.b,ye=G.Ea,Ne=G.K[0],Ee=G.w;if(8>re)for(G=(1<<G.b)-1,Ee=(1<<re)-1;W<Q;++W){var _e,Re=0;for(_e=0;_e<ye;++_e)_e&G||(Re=I(ee[oe++])),ve[ke++]=V(Ne[Re&Ee]),Re>>=re}else R["VP8LMapColor"+L](ee,oe,Ne,Ee,ve,ke,W,Q,ye)}}function sn(v,w,L,I,V){for(L=w+L;w<L;){var G=v[w++];I[V++]=G>>16&255,I[V++]=G>>8&255,I[V++]=255&G}}function en(v,w,L,I,V){for(L=w+L;w<L;){var G=v[w++];I[V++]=G>>16&255,I[V++]=G>>8&255,I[V++]=255&G,I[V++]=G>>24&255}}function gt(v,w,L,I,V){for(L=w+L;w<L;){var G=(W=v[w++])>>16&240|W>>12&15,W=240&W|W>>28&15;I[V++]=G,I[V++]=W}}function Ft(v,w,L,I,V){for(L=w+L;w<L;){var G=(W=v[w++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;I[V++]=G,I[V++]=W}}function Sn(v,w,L,I,V){for(L=w+L;w<L;){var G=v[w++];I[V++]=255&G,I[V++]=G>>8&255,I[V++]=G>>16&255}}function wt(v,w,L,I,V,G){if(G==0)for(L=w+L;w<L;)Le(I,((G=v[w++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),V+=32;else i(I,V,v,w,L)}function qt(v,w){R[w][0]=R[v+"0"],R[w][1]=R[v+"1"],R[w][2]=R[v+"2"],R[w][3]=R[v+"3"],R[w][4]=R[v+"4"],R[w][5]=R[v+"5"],R[w][6]=R[v+"6"],R[w][7]=R[v+"7"],R[w][8]=R[v+"8"],R[w][9]=R[v+"9"],R[w][10]=R[v+"10"],R[w][11]=R[v+"11"],R[w][12]=R[v+"12"],R[w][13]=R[v+"13"],R[w][14]=R[v+"0"],R[w][15]=R[v+"0"]}function Dt(v){return v==ed||v==Tu||v==Eu||v==td}function si(){this.eb=[],this.size=this.A=this.fb=0}function Ci(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new si,this.f.kb=new Ci,this.sd=null}function At(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Lo(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function sr(v,w){var L=v.T,I=w.ba.f.RGBA,V=I.eb,G=I.fb+v.ka*I.A,W=fs[w.ba.S],Q=v.y,ee=v.O,oe=v.f,ve=v.N,ke=v.ea,re=v.W,ye=w.cc,Ne=w.dc,Ee=w.Mc,_e=w.Nc,Re=v.ka,xe=v.ka+v.T,Oe=v.U,De=Oe+1>>1;for(Re==0?W(Q,ee,null,null,oe,ve,ke,re,oe,ve,ke,re,V,G,null,null,Oe):(W(w.ec,w.fc,Q,ee,ye,Ne,Ee,_e,oe,ve,ke,re,V,G-I.A,V,G,Oe),++L);Re+2<xe;Re+=2)ye=oe,Ne=ve,Ee=ke,_e=re,ve+=v.Rc,re+=v.Rc,G+=2*I.A,W(Q,(ee+=2*v.fa)-v.fa,Q,ee,ye,Ne,Ee,_e,oe,ve,ke,re,V,G-I.A,V,G,Oe);return ee+=v.fa,v.j+xe<v.o?(i(w.ec,w.fc,Q,ee,Oe),i(w.cc,w.dc,oe,ve,De),i(w.Mc,w.Nc,ke,re,De),L--):1&xe||W(Q,ee,null,null,oe,ve,ke,re,oe,ve,ke,re,V,G+I.A,null,null,Oe),L}function Bs(v,w,L){var I=v.F,V=[v.J];if(I!=null){var G=v.U,W=w.ba.S,Q=W==Lu||W==Eu;w=w.ba.f.RGBA;var ee=[0],oe=v.ka;ee[0]=v.T,v.Kb&&(oe==0?--ee[0]:(--oe,V[0]-=v.width),v.j+v.ka+v.T==v.o&&(ee[0]=v.o-v.j-oe));var ve=w.eb;oe=w.fb+oe*w.A,v=Qh(I,V[0],v.width,G,ee,ve,oe+(Q?0:3),w.A),e(L==ee),v&&Dt(W)&&io(ve,oe,Q,G,ee,w.A)}return 0}function zs(v){var w=v.ma,L=w.ba.S,I=11>L,V=L==_l||L==vc||L==Lu||L==Zh||L==12||Dt(L);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!or(w.Oa,v,V?11:12))return 0;if(V&&Dt(L)&&ju(),v.da)alert("todo:use_scaling");else{if(I){if(w.Ib=Lo,v.Kb){if(L=v.U+1>>1,w.memory=s(v.U+2*L),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+v.U,w.Mc=w.cc,w.Nc=w.dc+L,w.Ib=sr,ju()}}else alert("todo:EmitYUV");V&&(w.Jb=Bs,I&&vl())}if(I&&!s0){for(v=0;256>v;++v)a0[v]=89858*(v-128)+Fu>>Ru,o0[v]=-22014*(v-128)+Fu,jg[v]=-45773*(v-128),Cg[v]=113618*(v-128)+Fu>>Ru;for(v=xc;v<rd;++v)w=76283*(v-16)+Fu>>Ru,l0[v-xc]=gi(w,255),Ag[v-xc]=gi(w+8>>4,15);s0=1}return 1}function _t(v){var w=v.ma,L=v.U,I=v.T;return e(!(1&v.ka)),0>=L||0>=I?0:(L=w.Ib(v,w),w.Jb!=null&&w.Jb(v,w,L),w.Dc+=L,1)}function Ka(v){v.ma.memory=null}function Xa(v,w,L,I){return Y(v,8)!=47?0:(w[0]=Y(v,14)+1,L[0]=Y(v,14)+1,I[0]=Y(v,1),Y(v,3)!=0?0:!v.h)}function bs(v,w){if(4>v)return v+1;var L=v-2>>1;return(2+(1&v)<<L)+Y(w,L)+1}function os(v,w){return 120<w?w-120:1<=(L=((L=gg[w-1])>>4)*v+(8-(15&L)))?L:1;var L}function Fn(v,w,L){var I=ie(L),V=v[w+=255&I].g-8;return 0<V&&(he(L,L.u+8),I=ie(L),w+=v[w].value,w+=I&(1<<V)-1),he(L,L.u+v[w].g),v[w].value}function Bi(v,w,L){return L.g+=v.g,L.value+=v.value<<w>>>0,e(8>=L.g),v.g}function Hi(v,w,L){var I=v.xc;return e((w=I==0?0:v.vc[v.md*(L>>I)+(w>>I)])<v.Wb),v.Ya[w]}function ua(v,w,L,I){var V=v.ab,G=v.c*w,W=v.C;w=W+w;var Q=L,ee=I;for(I=v.Ta,L=v.Ua;0<V--;){var oe=v.gc[V],ve=W,ke=w,re=Q,ye=ee,Ne=(ee=I,Q=L,oe.Ea);switch(e(ve<ke),e(ke<=oe.nc),oe.hc){case 2:bl(re,ye,(ke-ve)*Ne,ee,Q);break;case 0:var Ee=ve,_e=ke,Re=ee,xe=Q,Oe=(rt=oe).Ea;Ee==0&&(qs(re,ye,null,null,1,Re,xe),Ut(re,ye+1,0,0,Oe-1,Re,xe+1),ye+=Oe,xe+=Oe,++Ee);for(var De=1<<rt.b,ft=De-1,it=Ue(Oe,rt.b),Pt=rt.K,rt=rt.w+(Ee>>rt.b)*it;Ee<_e;){var $t=Pt,vi=rt,It=1;for(us(re,ye,Re,xe-Oe,1,Re,xe);It<Oe;){var ot=(It&~ft)+De;ot>Oe&&(ot=Oe),(0,ur[$t[vi++]>>8&15])(re,ye+ +It,Re,xe+It-Oe,ot-It,Re,xe+It),It=ot}ye+=Oe,xe+=Oe,++Ee&ft||(rt+=it)}ke!=oe.nc&&i(ee,Q-Ne,ee,Q+(ke-ve-1)*Ne,Ne);break;case 1:for(Ne=re,_e=ye,Oe=(re=oe.Ea)-(xe=re&~(Re=(ye=1<<oe.b)-1)),Ee=Ue(re,oe.b),De=oe.K,oe=oe.w+(ve>>oe.b)*Ee;ve<ke;){for(ft=De,it=oe,Pt=new Tt,rt=_e+xe,$t=_e+re;_e<rt;)at(ft[it++],Pt),Ks(Pt,Ne,_e,ye,ee,Q),_e+=ye,Q+=ye;_e<$t&&(at(ft[it++],Pt),Ks(Pt,Ne,_e,Oe,ee,Q),_e+=Oe,Q+=Oe),++ve&Re||(oe+=Ee)}break;case 3:if(re==ee&&ye==Q&&0<oe.b){for(_e=ee,re=Ne=Q+(ke-ve)*Ne-(xe=(ke-ve)*Ue(oe.Ea,oe.b)),ye=ee,Re=Q,Ee=[],xe=(Oe=xe)-1;0<=xe;--xe)Ee[xe]=ye[Re+xe];for(xe=Oe-1;0<=xe;--xe)_e[re+xe]=Ee[xe];no(oe,ve,ke,ee,Ne,ee,Q)}else no(oe,ve,ke,re,ye,ee,Q)}Q=I,ee=L}ee!=L&&i(I,L,Q,ee,G)}function To(v,w){var L=v.V,I=v.Ba+v.c*v.C,V=w-v.C;if(e(w<=v.l.o),e(16>=V),0<V){var G=v.l,W=v.Ta,Q=v.Ua,ee=G.width;if(ua(v,V,L,I),V=Q=[Q],e((L=v.C)<(I=w)),e(G.v<G.va),I>G.o&&(I=G.o),L<G.j){var oe=G.j-L;L=G.j,V[0]+=oe*ee}if(L>=I?L=0:(V[0]+=4*G.v,G.ka=L-G.j,G.U=G.va-G.v,G.T=I-L,L=1),L){if(Q=Q[0],11>(L=v.ca).S){var ve=L.f.RGBA,ke=(I=L.S,V=G.U,G=G.T,oe=ve.eb,ve.A),re=G;for(ve=ve.fb+v.Ma*ve.A;0<re--;){var ye=W,Ne=Q,Ee=V,_e=oe,Re=ve;switch(I){case wl:ka(ye,Ne,Ee,_e,Re);break;case _l:Vr(ye,Ne,Ee,_e,Re);break;case ed:Vr(ye,Ne,Ee,_e,Re),io(_e,Re,0,Ee,1,0);break;case Jf:yn(ye,Ne,Ee,_e,Re);break;case vc:wt(ye,Ne,Ee,_e,Re,1);break;case Tu:wt(ye,Ne,Ee,_e,Re,1),io(_e,Re,0,Ee,1,0);break;case Lu:wt(ye,Ne,Ee,_e,Re,0);break;case Eu:wt(ye,Ne,Ee,_e,Re,0),io(_e,Re,1,Ee,1,0);break;case Zh:Cs(ye,Ne,Ee,_e,Re);break;case td:Cs(ye,Ne,Ee,_e,Re),Yh(_e,Re,Ee,1,0);break;case Zf:Nt(ye,Ne,Ee,_e,Re);break;default:e(0)}Q+=ee,ve+=ke}v.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=L.height)}}v.C=w,e(v.C<=v.i)}function Us(v){var w;if(0<v.ua)return 0;for(w=0;w<v.Wb;++w){var L=v.Ya[w].G,I=v.Ya[w].H;if(0<L[1][I[1]+0].g||0<L[2][I[2]+0].g||0<L[3][I[3]+0].g)return 0}return 1}function ha(v,w,L,I,V,G){if(v.Z!=0){var W=v.qd,Q=v.rd;for(e(ro[v.Z]!=null);w<L;++w)ro[v.Z](W,Q,I,V,I,V,G),W=I,Q=V,V+=G;v.qd=W,v.rd=Q}}function Vs(v,w){var L=v.l.ma,I=L.Z==0||L.Z==1?v.l.j:v.C;if(I=v.C<I?I:v.C,e(w<=v.l.o),w>I){var V=v.l.width,G=L.ca,W=L.tb+V*I,Q=v.V,ee=v.Ba+v.c*I,oe=v.gc;e(v.ab==1),e(oe[0].hc==3),Na(oe[0],I,w,Q,ee,G,W),ha(L,I,w,G,W,V)}v.C=v.Ma=w}function Hs(v,w,L,I,V,G,W){var Q=v.$/I,ee=v.$%I,oe=v.m,ve=v.s,ke=L+v.$,re=ke;V=L+I*V;var ye=L+I*G,Ne=280+ve.ua,Ee=v.Pb?Q:16777216,_e=0<ve.ua?ve.Wa:null,Re=ve.wc,xe=ke<ye?Hi(ve,ee,Q):null;e(v.C<G),e(ye<=V);var Oe=!1;e:for(;;){for(;Oe||ke<ye;){var De=0;if(Q>=Ee){var ft=ke-L;e((Ee=v).Pb),Ee.wd=Ee.m,Ee.xd=ft,0<Ee.s.ua&&jt(Ee.s.Wa,Ee.s.vb),Ee=Q+vg}if(ee&Re||(xe=Hi(ve,ee,Q)),e(xe!=null),xe.Qb&&(w[ke]=xe.qb,Oe=!0),!Oe)if(K(oe),xe.jc){De=oe,ft=w;var it=ke,Pt=xe.pd[ie(De)&Gi-1];e(xe.jc),256>Pt.g?(he(De,De.u+Pt.g),ft[it]=Pt.value,De=0):(he(De,De.u+Pt.g-256),e(256<=Pt.value),De=Pt.value),De==0&&(Oe=!0)}else De=Fn(xe.G[0],xe.H[0],oe);if(oe.h)break;if(Oe||256>De){if(!Oe)if(xe.nd)w[ke]=(xe.qb|De<<8)>>>0;else{if(K(oe),Oe=Fn(xe.G[1],xe.H[1],oe),K(oe),ft=Fn(xe.G[2],xe.H[2],oe),it=Fn(xe.G[3],xe.H[3],oe),oe.h)break;w[ke]=(it<<24|Oe<<16|De<<8|ft)>>>0}if(Oe=!1,++ke,++ee>=I&&(ee=0,++Q,W!=null&&Q<=G&&!(Q%16)&&W(v,Q),_e!=null))for(;re<ke;)De=w[re++],_e.X[(506832829*De&4294967295)>>>_e.Mb]=De}else if(280>De){if(De=bs(De-256,oe),ft=Fn(xe.G[4],xe.H[4],oe),K(oe),ft=os(I,ft=bs(ft,oe)),oe.h)break;if(ke-L<ft||V-ke<De)break e;for(it=0;it<De;++it)w[ke+it]=w[ke+it-ft];for(ke+=De,ee+=De;ee>=I;)ee-=I,++Q,W!=null&&Q<=G&&!(Q%16)&&W(v,Q);if(e(ke<=V),ee&Re&&(xe=Hi(ve,ee,Q)),_e!=null)for(;re<ke;)De=w[re++],_e.X[(506832829*De&4294967295)>>>_e.Mb]=De}else{if(!(De<Ne))break e;for(Oe=De-280,e(_e!=null);re<ke;)De=w[re++],_e.X[(506832829*De&4294967295)>>>_e.Mb]=De;De=ke,e(!(Oe>>>(ft=_e).Xa)),w[De]=ft.X[Oe],Oe=!0}Oe||e(oe.h==ce(oe))}if(v.Pb&&oe.h&&ke<V)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&jt(v.s.vb,v.s.Wa);else{if(oe.h)break e;W!=null&&W(v,Q>G?G:Q),v.a=0,v.$=ke-L}return 1}return v.a=3,0}function ws(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var w=v.Wa;w!=null&&(w.X=null),v.vb=null,e(v!=null)}function ll(){var v=new tn;return v==null?null:(v.a=0,v.xb=wg,qt("Predictor","VP8LPredictors"),qt("Predictor","VP8LPredictors_C"),qt("PredictorAdd","VP8LPredictorsAdd"),qt("PredictorAdd","VP8LPredictorsAdd_C"),bl=dt,Ks=bt,ka=sn,Vr=en,Cs=gt,Nt=Ft,yn=Sn,R.VP8LMapColor32b=Wi,R.VP8LMapColor8b=ks,v)}function da(v,w,L,I,V){var G=1,W=[v],Q=[w],ee=I.m,oe=I.s,ve=null,ke=0;e:for(;;){if(L)for(;G&&Y(ee,1);){var re=W,ye=Q,Ne=I,Ee=1,_e=Ne.m,Re=Ne.gc[Ne.ab],xe=Y(_e,2);if(Ne.Oc&1<<xe)G=0;else{switch(Ne.Oc|=1<<xe,Re.hc=xe,Re.Ea=re[0],Re.nc=ye[0],Re.K=[null],++Ne.ab,e(4>=Ne.ab),xe){case 0:case 1:Re.b=Y(_e,3)+2,Ee=da(Ue(Re.Ea,Re.b),Ue(Re.nc,Re.b),0,Ne,Re.K),Re.K=Re.K[0];break;case 3:var Oe,De=Y(_e,8)+1,ft=16<De?0:4<De?1:2<De?2:3;if(re[0]=Ue(Re.Ea,ft),Re.b=ft,Oe=Ee=da(De,1,0,Ne,Re.K)){var it,Pt=De,rt=Re,$t=1<<(8>>rt.b),vi=s($t);if(vi==null)Oe=0;else{var It=rt.K[0],ot=rt.w;for(vi[0]=rt.K[0][0],it=1;it<1*Pt;++it)vi[it]=Xe(It[ot+it],vi[it-1]);for(;it<4*$t;++it)vi[it]=0;rt.K[0]=null,rt.K[0]=vi,Oe=1}}Ee=Oe;break;case 2:break;default:e(0)}G=Ee}}if(W=W[0],Q=Q[0],G&&Y(ee,1)&&!(G=1<=(ke=Y(ee,4))&&11>=ke)){I.a=3;break e}var We;if(We=G)t:{var Hn,pt,Et,Qt=I,Li=W,pr=Q,an=ke,Xi=L,Dn=Qt.m,Ti=Qt.s,Jt=[null],dn=1,$n=0,fn=mg[an];n:for(;;){if(Xi&&Y(Dn,1)){var yi=Y(Dn,3)+2,Hr=Ue(Li,yi),In=Ue(pr,yi),Yi=Hr*In;if(!da(Hr,In,0,Qt,Jt))break n;for(Jt=Jt[0],Ti.xc=yi,Hn=0;Hn<Yi;++Hn){var pn=Jt[Hn]>>8&65535;Jt[Hn]=pn,pn>=dn&&(dn=pn+1)}}if(Dn.h)break n;for(pt=0;5>pt;++pt){var Gn=e0[pt];!pt&&0<an&&(Gn+=1<<an),$n<Gn&&($n=Gn)}var kr=a(dn*fn,$),Qi=dn,Cr=a(Qi,ae);if(Cr==null)var $r=null;else e(65536>=Qi),$r=Cr;var gr=s($n);if($r==null||gr==null||kr==null){Qt.a=1;break n}var ps=kr;for(Hn=Et=0;Hn<dn;++Hn){var xn=$r[Hn],jr=xn.G,un=xn.H,Mt=0,Ln=1,Gt=0;for(pt=0;5>pt;++pt){Gn=e0[pt],jr[pt]=ps,un[pt]=Et,!pt&&0<an&&(Gn+=1<<an);r:{var xi,Ar=Gn,so=Qt,Wn=gr,Du=ps,Nl=Et,bc=0,ja=so.m,Iu=Y(ja,1);if(r(Wn,0,0,Ar),Iu){var Gr=Y(ja,1)+1,c0=Y(ja,1),od=Y(ja,c0==0?1:8);Wn[od]=1,Gr==2&&(Wn[od=Y(ja,8)]=1);var As=1}else{var kl=s(19),Ou=Y(ja,4)+4;if(19<Ou){so.a=3;var wc=0;break r}for(xi=0;xi<Ou;++xi)kl[z5[xi]]=Y(ja,3);var Aa=void 0,Vo=void 0,ao=so,ld=kl,Ho=Ar,cd=Wn,_c=0,Js=ao.m,Ji=8,oo=a(128,$);i:for(;D(oo,0,7,ld,19);){if(Y(Js,1)){var Ps=2+2*Y(Js,3);if((Aa=2+Y(Js,Ps))>Ho)break i}else Aa=Ho;for(Vo=0;Vo<Ho&&Aa--;){K(Js);var Pr=oo[0+(127&ie(Js))];he(Js,Js.u+Pr.g);var Cl=Pr.value;if(16>Cl)cd[Vo++]=Cl,Cl!=0&&(Ji=Cl);else{var u0=Cl==16,ud=Cl-16,H5=O5[ud],lo=Y(Js,pg[ud])+H5;if(Vo+lo>Ho)break i;for(var Lg=u0?Ji:0;0<lo--;)cd[Vo++]=Lg}}_c=1;break i}_c||(ao.a=3),As=_c}(As=As&&!ja.h)&&(bc=D(Du,Nl,8,Wn,Ar)),As&&bc!=0?wc=bc:(so.a=3,wc=0)}if(wc==0)break n;if(Ln&&B5[pt]==1&&(Ln=ps[Et].g==0),Mt+=ps[Et].g,Et+=wc,3>=pt){var Sc,Bu=gr[0];for(Sc=1;Sc<Gn;++Sc)gr[Sc]>Bu&&(Bu=gr[Sc]);Gt+=Bu}}if(xn.nd=Ln,xn.Qb=0,Ln&&(xn.qb=(jr[3][un[3]+0].value<<24|jr[1][un[1]+0].value<<16|jr[2][un[2]+0].value)>>>0,Mt==0&&256>jr[0][un[0]+0].value&&(xn.Qb=1,xn.qb+=jr[0][un[0]+0].value<<8)),xn.jc=!xn.Qb&&6>Gt,xn.jc){var Pa,La=xn;for(Pa=0;Pa<Gi;++Pa){var co=Pa,Ta=La.pd[co],jl=La.G[0][La.H[0]+co];256<=jl.value?(Ta.g=jl.g+256,Ta.value=jl.value):(Ta.g=0,Ta.value=0,co>>=Bi(jl,8,Ta),co>>=Bi(La.G[1][La.H[1]+co],16,Ta),co>>=Bi(La.G[2][La.H[2]+co],0,Ta),Bi(La.G[3][La.H[3]+co],24,Ta))}}}Ti.vc=Jt,Ti.Wb=dn,Ti.Ya=$r,Ti.yc=kr,We=1;break t}We=0}if(!(G=We)){I.a=3;break e}if(0<ke){if(oe.ua=1<<ke,!le(oe.Wa,ke)){I.a=1,G=0;break e}}else oe.ua=0;var h0=I,Tg=W,Eg=Q,hd=h0.s,uo=hd.xc;if(h0.c=Tg,h0.i=Eg,hd.md=Ue(Tg,uo),hd.wc=uo==0?-1:(1<<uo)-1,L){I.xb=n0;break e}if((ve=s(W*Q))==null){I.a=1,G=0;break e}G=(G=Hs(I,ve,0,W,Q,Q,null))&&!ee.h;break e}return G?(V!=null?V[0]=ve:(e(ve==null),e(L)),I.$=0,L||ws(oe)):ws(oe),G}function cl(v,w){var L=v.c*v.i,I=L+w+16*w;return e(v.c<=w),v.V=s(I),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+L+w,1)}function ic(v,w){var L=v.C,I=w-L,V=v.V,G=v.Ba+v.c*L;for(e(w<=v.l.o);0<I;){var W=16<I?16:I,Q=v.l.ma,ee=v.l.width,oe=ee*W,ve=Q.ca,ke=Q.tb+ee*L,re=v.Ta,ye=v.Ua;ua(v,W,V,G),Wf(re,ye,ve,ke,oe),ha(Q,L,L+W,ve,ke,ee),I-=W,V+=W*v.c,L+=W}e(L==w),v.C=v.Ma=w}function rc(){this.ub=this.yd=this.td=this.Rb=0}function sc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bf(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Su(){this.Yb=function(){var v=[];return function w(L,I,V){for(var G=V[I],W=0;W<G&&(L.push(V.length>I+1?[]:0),!(V.length<I+1));W++)w(L[W],I+1,V)}(v,0,[3,11]),v}()}function ac(){this.jb=s(3),this.Wc=o([4,8],Su),this.Xc=o([4,17],Su)}function Eo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Fr(){this.ld=this.La=this.dd=this.tc=0}function ul(){this.Na=this.la=0}function Vh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function hl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ya(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fr),this.Y=0,this.ya=Array(new hl),this.aa=0,this.l=new cn}function $s(){this.y=s(16),this.f=s(8),this.ea=s(8)}function wn(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new rc,this.Kc=new sc,this.ed=new Eo,this.Qa=new Bf,this.Ic=this.$c=this.Aa=0,this.D=new Ya,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,z),this.ia=0,this.pb=a(4,Vh),this.Pa=new ac,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $s),this.Hd=0,this.rb=Array(new ul),this.sb=0,this.wa=Array(new Fr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new hl),this.L=this.aa=0,this.gd=o([4,2],Fr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function fa(){var v=new wn;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Mu||(Mu=Dr)),v}function Kt(v,w,L){return v.a==0&&(v.a=w,v.sc=L,v.cb=0),0}function $i(v,w,L){return 3<=L&&v[w+0]==157&&v[w+1]==1&&v[w+2]==42}function pa(v,w){if(v==null)return 0;if(v.a=0,v.sc="OK",w==null)return Kt(v,2,"null VP8Io passed to VP8GetHeaders()");var L=w.data,I=w.w,V=w.ha;if(4>V)return Kt(v,7,"Truncated header.");var G=L[I+0]|L[I+1]<<8|L[I+2]<<16,W=v.Od;if(W.Rb=!(1&G),W.td=G>>1&7,W.yd=G>>4&1,W.ub=G>>5,3<W.td)return Kt(v,3,"Incorrect keyframe parameters.");if(!W.yd)return Kt(v,4,"Frame not displayable.");I+=3,V-=3;var Q=v.Kc;if(W.Rb){if(7>V)return Kt(v,7,"cannot parse picture header");if(!$i(L,I,V))return Kt(v,3,"Bad code word");Q.c=16383&(L[I+4]<<8|L[I+3]),Q.Td=L[I+4]>>6,Q.i=16383&(L[I+6]<<8|L[I+5]),Q.Ud=L[I+6]>>6,I+=7,V-=7,v.za=Q.c+15>>4,v.Ub=Q.i+15>>4,w.width=Q.c,w.height=Q.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,r((G=v.Pa).jb,0,255,G.jb.length),e((G=v.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,r(G.Zb,0,0,G.Zb.length),r(G.Lb,0,0,G.Lb)}if(W.ub>V)return Kt(v,7,"bad partition length");ge(G=v.m,L,I,W.ub),I+=W.ub,V-=W.ub,W.Rb&&(Q.Ld=me(G),Q.Kd=me(G)),Q=v.Qa;var ee,oe=v.Pa;if(e(G!=null),e(Q!=null),Q.Cb=me(G),Q.Cb){if(Q.Bb=me(G),me(G)){for(Q.Fb=me(G),ee=0;4>ee;++ee)Q.Zb[ee]=me(G)?te(G,7):0;for(ee=0;4>ee;++ee)Q.Lb[ee]=me(G)?te(G,6):0}if(Q.Bb)for(ee=0;3>ee;++ee)oe.jb[ee]=me(G)?pe(G,8):255}else Q.Bb=0;if(G.Ka)return Kt(v,3,"cannot parse segment header");if((Q=v.ed).zd=me(G),Q.Tb=pe(G,6),Q.wb=pe(G,3),Q.Pc=me(G),Q.Pc&&me(G)){for(oe=0;4>oe;++oe)me(G)&&(Q.vd[oe]=te(G,6));for(oe=0;4>oe;++oe)me(G)&&(Q.od[oe]=te(G,6))}if(v.L=Q.Tb==0?0:Q.zd?1:2,G.Ka)return Kt(v,3,"cannot parse filter header");var ve=V;if(V=ee=I,I=ee+ve,Q=ve,v.Xb=(1<<pe(v.m,2))-1,ve<3*(oe=v.Xb))L=7;else{for(ee+=3*oe,Q-=3*oe,ve=0;ve<oe;++ve){var ke=L[V+0]|L[V+1]<<8|L[V+2]<<16;ke>Q&&(ke=Q),ge(v.Jc[+ve],L,ee,ke),ee+=ke,Q-=ke,V+=3}ge(v.Jc[+oe],L,ee,Q),L=ee<I?0:5}if(L!=0)return Kt(v,L,"cannot parse partitions");for(L=pe(ee=v.m,7),V=me(ee)?te(ee,4):0,I=me(ee)?te(ee,4):0,Q=me(ee)?te(ee,4):0,oe=me(ee)?te(ee,4):0,ee=me(ee)?te(ee,4):0,ve=v.Qa,ke=0;4>ke;++ke){if(ve.Cb){var re=ve.Zb[ke];ve.Fb||(re+=L)}else{if(0<ke){v.pb[ke]=v.pb[0];continue}re=L}var ye=v.pb[ke];ye.Sc[0]=yc[gi(re+V,127)],ye.Sc[1]=t0[gi(re+0,127)],ye.Eb[0]=2*yc[gi(re+I,127)],ye.Eb[1]=101581*t0[gi(re+Q,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=yc[gi(re+oe,117)],ye.Qc[1]=t0[gi(re+ee,127)],ye.lc=re+ee}if(!W.Rb)return Kt(v,4,"Not a key frame.");for(me(G),W=v.Pa,L=0;4>L;++L){for(V=0;8>V;++V)for(I=0;3>I;++I)for(Q=0;11>Q;++Q)oe=Ce(G,xg[L][V][I][Q])?pe(G,8):id[L][V][I][Q],W.Wc[L][V].Yb[I][Q]=oe;for(V=0;17>V;++V)W.Xc[L][V]=W.Wc[L][bg[V]]}return v.kc=me(G),v.kc&&(v.Bd=pe(G,8)),v.cb=1}function Dr(v,w,L,I,V,G,W){var Q=w[V].Yb[L];for(L=0;16>V;++V){if(!Ce(v,Q[L+0]))return V;for(;!Ce(v,Q[L+1]);)if(Q=w[++V].Yb[0],L=0,V==16)return 16;var ee=w[V+1].Yb;if(Ce(v,Q[L+2])){var oe=v,ve=0;if(Ce(oe,(re=Q)[(ke=L)+3]))if(Ce(oe,re[ke+6])){for(Q=0,ke=2*(ve=Ce(oe,re[ke+8]))+(re=Ce(oe,re[ke+9+ve])),ve=0,re=U5[ke];re[Q];++Q)ve+=ve+Ce(oe,re[Q]);ve+=3+(8<<ke)}else Ce(oe,re[ke+7])?(ve=7+2*Ce(oe,165),ve+=Ce(oe,145)):ve=5+Ce(oe,159);else ve=Ce(oe,re[ke+4])?3+Ce(oe,re[ke+5]):2;Q=ee[2]}else ve=1,Q=ee[1];ee=W+Ys[V],0>(oe=v).b&&de(oe);var ke,re=oe.b,ye=(ke=oe.Ca>>1)-(oe.I>>re)>>31;--oe.b,oe.Ca+=ye,oe.Ca|=1,oe.I-=(ke+1&ye)<<re,G[ee]=((ve^ye)-ye)*I[(0<V)+0]}return 16}function pi(v){var w=v.rb[v.sb-1];w.la=0,w.Na=0,r(v.zc,0,0,v.zc.length),v.ja=0}function Ir(v,w,L,I,V){V=v[w+L+32*I]+(V>>3),v[w+L+32*I]=-256&V?0>V?0:255:V}function Mo(v,w,L,I,V,G){Ir(v,w,0,L,I+V),Ir(v,w,1,L,I+G),Ir(v,w,2,L,I-G),Ir(v,w,3,L,I-V)}function Zn(v){return(20091*v>>16)+v}function Ro(v,w,L,I){var V,G=0,W=s(16);for(V=0;4>V;++V){var Q=v[w+0]+v[w+8],ee=v[w+0]-v[w+8],oe=(35468*v[w+4]>>16)-Zn(v[w+12]),ve=Zn(v[w+4])+(35468*v[w+12]>>16);W[G+0]=Q+ve,W[G+1]=ee+oe,W[G+2]=ee-oe,W[G+3]=Q-ve,G+=4,w++}for(V=G=0;4>V;++V)Q=(v=W[G+0]+4)+W[G+8],ee=v-W[G+8],oe=(35468*W[G+4]>>16)-Zn(W[G+12]),Ir(L,I,0,0,Q+(ve=Zn(W[G+4])+(35468*W[G+12]>>16))),Ir(L,I,1,0,ee+oe),Ir(L,I,2,0,ee-oe),Ir(L,I,3,0,Q-ve),G++,I+=32}function Hh(v,w,L,I){var V=v[w+0]+4,G=35468*v[w+4]>>16,W=Zn(v[w+4]),Q=35468*v[w+1]>>16;Mo(L,I,0,V+W,v=Zn(v[w+1]),Q),Mo(L,I,1,V+G,v,Q),Mo(L,I,2,V-G,v,Q),Mo(L,I,3,V-W,v,Q)}function ls(v,w,L,I,V){Ro(v,w,L,I),V&&Ro(v,w+16,L,I+4)}function zf(v,w,L,I){Vn(v,w+0,L,I,1),Vn(v,w+32,L,I+128,1)}function ga(v,w,L,I){var V;for(v=v[w+0]+4,V=0;4>V;++V)for(w=0;4>w;++w)Ir(L,I,w,V,v)}function $h(v,w,L,I){v[w+0]&&hr(v,w+0,L,I),v[w+16]&&hr(v,w+16,L,I+4),v[w+32]&&hr(v,w+32,L,I+128),v[w+48]&&hr(v,w+48,L,I+128+4)}function dl(v,w,L,I){var V,G=s(16);for(V=0;4>V;++V){var W=v[w+0+V]+v[w+12+V],Q=v[w+4+V]+v[w+8+V],ee=v[w+4+V]-v[w+8+V],oe=v[w+0+V]-v[w+12+V];G[0+V]=W+Q,G[8+V]=W-Q,G[4+V]=oe+ee,G[12+V]=oe-ee}for(V=0;4>V;++V)W=(v=G[0+4*V]+3)+G[3+4*V],Q=G[1+4*V]+G[2+4*V],ee=G[1+4*V]-G[2+4*V],oe=v-G[3+4*V],L[I+0]=W+Q>>3,L[I+16]=oe+ee>>3,L[I+32]=W-Q>>3,L[I+48]=oe-ee>>3,I+=64}function Gs(v,w,L){var I,V=w-32,G=Ki,W=255-v[V-1];for(I=0;I<L;++I){var Q,ee=G,oe=W+v[w-1];for(Q=0;Q<L;++Q)v[w+Q]=ee[oe+v[V+Q]];w+=32}}function Qa(v,w){Gs(v,w,4)}function oc(v,w){Gs(v,w,8)}function Uf(v,w){Gs(v,w,16)}function Vf(v,w){var L;for(L=0;16>L;++L)i(v,w+32*L,v,w-32,16)}function fl(v,w){var L;for(L=16;0<L;--L)r(v,w,v[w-1],16),w+=32}function Fo(v,w,L){var I;for(I=0;16>I;++I)r(w,L+32*I,v,16)}function ma(v,w){var L,I=16;for(L=0;16>L;++L)I+=v[w-1+32*L]+v[w+L-32];Fo(I>>5,v,w)}function pl(v,w){var L,I=8;for(L=0;16>L;++L)I+=v[w-1+32*L];Fo(I>>4,v,w)}function gl(v,w){var L,I=8;for(L=0;16>L;++L)I+=v[w+L-32];Fo(I>>4,v,w)}function ml(v,w){Fo(128,v,w)}function Ke(v,w,L){return v+2*w+L+2>>2}function Gh(v,w){var L,I=w-32;for(I=new Uint8Array([Ke(v[I-1],v[I+0],v[I+1]),Ke(v[I+0],v[I+1],v[I+2]),Ke(v[I+1],v[I+2],v[I+3]),Ke(v[I+2],v[I+3],v[I+4])]),L=0;4>L;++L)i(v,w+32*L,I,0,I.length)}function Nu(v,w){var L=v[w-1],I=v[w-1+32],V=v[w-1+64],G=v[w-1+96];Le(v,w+0,16843009*Ke(v[w-1-32],L,I)),Le(v,w+32,16843009*Ke(L,I,V)),Le(v,w+64,16843009*Ke(I,V,G)),Le(v,w+96,16843009*Ke(V,G,G))}function Wh(v,w){var L,I=4;for(L=0;4>L;++L)I+=v[w+L-32]+v[w-1+32*L];for(I>>=3,L=0;4>L;++L)r(v,w+32*L,I,4)}function Hf(v,w){var L=v[w-1+0],I=v[w-1+32],V=v[w-1+64],G=v[w-1-32],W=v[w+0-32],Q=v[w+1-32],ee=v[w+2-32],oe=v[w+3-32];v[w+0+96]=Ke(I,V,v[w-1+96]),v[w+1+96]=v[w+0+64]=Ke(L,I,V),v[w+2+96]=v[w+1+64]=v[w+0+32]=Ke(G,L,I),v[w+3+96]=v[w+2+64]=v[w+1+32]=v[w+0+0]=Ke(W,G,L),v[w+3+64]=v[w+2+32]=v[w+1+0]=Ke(Q,W,G),v[w+3+32]=v[w+2+0]=Ke(ee,Q,W),v[w+3+0]=Ke(oe,ee,Q)}function Ja(v,w){var L=v[w+1-32],I=v[w+2-32],V=v[w+3-32],G=v[w+4-32],W=v[w+5-32],Q=v[w+6-32],ee=v[w+7-32];v[w+0+0]=Ke(v[w+0-32],L,I),v[w+1+0]=v[w+0+32]=Ke(L,I,V),v[w+2+0]=v[w+1+32]=v[w+0+64]=Ke(I,V,G),v[w+3+0]=v[w+2+32]=v[w+1+64]=v[w+0+96]=Ke(V,G,W),v[w+3+32]=v[w+2+64]=v[w+1+96]=Ke(G,W,Q),v[w+3+64]=v[w+2+96]=Ke(W,Q,ee),v[w+3+96]=Ke(Q,ee,ee)}function Pn(v,w){var L=v[w-1+0],I=v[w-1+32],V=v[w-1+64],G=v[w-1-32],W=v[w+0-32],Q=v[w+1-32],ee=v[w+2-32],oe=v[w+3-32];v[w+0+0]=v[w+1+64]=G+W+1>>1,v[w+1+0]=v[w+2+64]=W+Q+1>>1,v[w+2+0]=v[w+3+64]=Q+ee+1>>1,v[w+3+0]=ee+oe+1>>1,v[w+0+96]=Ke(V,I,L),v[w+0+64]=Ke(I,L,G),v[w+0+32]=v[w+1+96]=Ke(L,G,W),v[w+1+32]=v[w+2+96]=Ke(G,W,Q),v[w+2+32]=v[w+3+96]=Ke(W,Q,ee),v[w+3+32]=Ke(Q,ee,oe)}function ku(v,w){var L=v[w+0-32],I=v[w+1-32],V=v[w+2-32],G=v[w+3-32],W=v[w+4-32],Q=v[w+5-32],ee=v[w+6-32],oe=v[w+7-32];v[w+0+0]=L+I+1>>1,v[w+1+0]=v[w+0+64]=I+V+1>>1,v[w+2+0]=v[w+1+64]=V+G+1>>1,v[w+3+0]=v[w+2+64]=G+W+1>>1,v[w+0+32]=Ke(L,I,V),v[w+1+32]=v[w+0+96]=Ke(I,V,G),v[w+2+32]=v[w+1+96]=Ke(V,G,W),v[w+3+32]=v[w+2+96]=Ke(G,W,Q),v[w+3+64]=Ke(W,Q,ee),v[w+3+96]=Ke(Q,ee,oe)}function $f(v,w){var L=v[w-1+0],I=v[w-1+32],V=v[w-1+64],G=v[w-1+96];v[w+0+0]=L+I+1>>1,v[w+2+0]=v[w+0+32]=I+V+1>>1,v[w+2+32]=v[w+0+64]=V+G+1>>1,v[w+1+0]=Ke(L,I,V),v[w+3+0]=v[w+1+32]=Ke(I,V,G),v[w+3+32]=v[w+1+64]=Ke(V,G,G),v[w+3+64]=v[w+2+64]=v[w+0+96]=v[w+1+96]=v[w+2+96]=v[w+3+96]=G}function Do(v,w){var L=v[w-1+0],I=v[w-1+32],V=v[w-1+64],G=v[w-1+96],W=v[w-1-32],Q=v[w+0-32],ee=v[w+1-32],oe=v[w+2-32];v[w+0+0]=v[w+2+32]=L+W+1>>1,v[w+0+32]=v[w+2+64]=I+L+1>>1,v[w+0+64]=v[w+2+96]=V+I+1>>1,v[w+0+96]=G+V+1>>1,v[w+3+0]=Ke(Q,ee,oe),v[w+2+0]=Ke(W,Q,ee),v[w+1+0]=v[w+3+32]=Ke(L,W,Q),v[w+1+32]=v[w+3+64]=Ke(I,L,W),v[w+1+64]=v[w+3+96]=Ke(V,I,L),v[w+1+96]=Ke(G,V,I)}function Cu(v,w){var L;for(L=0;8>L;++L)i(v,w+32*L,v,w-32,8)}function va(v,w){var L;for(L=0;8>L;++L)r(v,w,v[w-1],8),w+=32}function wr(v,w,L){var I;for(I=0;8>I;++I)r(w,L+32*I,v,8)}function lc(v,w){var L,I=8;for(L=0;8>L;++L)I+=v[w+L-32]+v[w-1+32*L];wr(I>>4,v,w)}function Gf(v,w){var L,I=4;for(L=0;8>L;++L)I+=v[w+L-32];wr(I>>3,v,w)}function _r(v,w){var L,I=4;for(L=0;8>L;++L)I+=v[w-1+32*L];wr(I>>3,v,w)}function cs(v,w){wr(128,v,w)}function ya(v,w,L){var I=v[w-L],V=v[w+0],G=3*(V-I)+Jh[1020+v[w-2*L]-v[w+L]],W=Pu[112+(G+4>>3)];v[w-L]=Ki[255+I+Pu[112+(G+3>>3)]],v[w+0]=Ki[255+V-W]}function Za(v,w,L,I){var V=v[w+0],G=v[w+L];return ds[255+v[w-2*L]-v[w-L]]>I||ds[255+G-V]>I}function cc(v,w,L,I){return 4*ds[255+v[w-L]-v[w+0]]+ds[255+v[w-2*L]-v[w+L]]<=I}function uc(v,w,L,I,V){var G=v[w-3*L],W=v[w-2*L],Q=v[w-L],ee=v[w+0],oe=v[w+L],ve=v[w+2*L],ke=v[w+3*L];return 4*ds[255+Q-ee]+ds[255+W-oe]>I?0:ds[255+v[w-4*L]-G]<=V&&ds[255+G-W]<=V&&ds[255+W-Q]<=V&&ds[255+ke-ve]<=V&&ds[255+ve-oe]<=V&&ds[255+oe-ee]<=V}function Or(v,w,L,I){var V=2*I+1;for(I=0;16>I;++I)cc(v,w+I,L,V)&&ya(v,w+I,L)}function _s(v,w,L,I){var V=2*I+1;for(I=0;16>I;++I)cc(v,w+I*L,1,V)&&ya(v,w+I*L,1)}function xa(v,w,L,I){var V;for(V=3;0<V;--V)Or(v,w+=4*L,L,I)}function Io(v,w,L,I){var V;for(V=3;0<V;--V)_s(v,w+=4,L,I)}function ar(v,w,L,I,V,G,W,Q){for(G=2*G+1;0<V--;){if(uc(v,w,L,G,W))if(Za(v,w,L,Q))ya(v,w,L);else{var ee=v,oe=w,ve=L,ke=ee[oe-2*ve],re=ee[oe-ve],ye=ee[oe+0],Ne=ee[oe+ve],Ee=ee[oe+2*ve],_e=27*(xe=Jh[1020+3*(ye-re)+Jh[1020+ke-Ne]])+63>>7,Re=18*xe+63>>7,xe=9*xe+63>>7;ee[oe-3*ve]=Ki[255+ee[oe-3*ve]+xe],ee[oe-2*ve]=Ki[255+ke+Re],ee[oe-ve]=Ki[255+re+_e],ee[oe+0]=Ki[255+ye-_e],ee[oe+ve]=Ki[255+Ne-Re],ee[oe+2*ve]=Ki[255+Ee-xe]}w+=I}}function ai(v,w,L,I,V,G,W,Q){for(G=2*G+1;0<V--;){if(uc(v,w,L,G,W))if(Za(v,w,L,Q))ya(v,w,L);else{var ee=v,oe=w,ve=L,ke=ee[oe-ve],re=ee[oe+0],ye=ee[oe+ve],Ne=Pu[112+(4+(Ee=3*(re-ke))>>3)],Ee=Pu[112+(Ee+3>>3)],_e=Ne+1>>1;ee[oe-2*ve]=Ki[255+ee[oe-2*ve]+_e],ee[oe-ve]=Ki[255+ke+Ee],ee[oe+0]=Ki[255+re-Ne],ee[oe+ve]=Ki[255+ye-_e]}w+=I}}function A(v,w,L,I,V,G){ar(v,w,L,1,16,I,V,G)}function H(v,w,L,I,V,G){ar(v,w,1,L,16,I,V,G)}function se(v,w,L,I,V,G){var W;for(W=3;0<W;--W)ai(v,w+=4*L,L,1,16,I,V,G)}function fe(v,w,L,I,V,G){var W;for(W=3;0<W;--W)ai(v,w+=4,1,L,16,I,V,G)}function be(v,w,L,I,V,G,W,Q){ar(v,w,V,1,8,G,W,Q),ar(L,I,V,1,8,G,W,Q)}function Fe(v,w,L,I,V,G,W,Q){ar(v,w,1,V,8,G,W,Q),ar(L,I,1,V,8,G,W,Q)}function Ie(v,w,L,I,V,G,W,Q){ai(v,w+4*V,V,1,8,G,W,Q),ai(L,I+4*V,V,1,8,G,W,Q)}function tt(v,w,L,I,V,G,W,Q){ai(v,w+4,1,V,8,G,W,Q),ai(L,I+4,1,V,8,G,W,Q)}function Ye(){this.ba=new Nn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xt(){this.ua=0,this.Wa=new xt,this.vb=new xt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new $}function tn(){this.xb=this.a=0,this.l=new cn,this.ca=new Nn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xt,this.ab=0,this.gc=a(4,nt),this.Oc=0}function oi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vn(v,w,L,I,V,G,W){for(v=v==null?0:v[w+0],w=0;w<W;++w)V[G+w]=v+L[I+w]&255,v=V[G+w]}function li(v,w,L,I,V,G,W){var Q;if(v==null)vn(null,null,L,I,V,G,W);else for(Q=0;Q<W;++Q)V[G+Q]=v[w+Q]+L[I+Q]&255}function ei(v,w,L,I,V,G,W){if(v==null)vn(null,null,L,I,V,G,W);else{var Q,ee=v[w+0],oe=ee,ve=ee;for(Q=0;Q<W;++Q)oe=ve+(ee=v[w+Q])-oe,ve=L[I+Q]+(-256&oe?0>oe?0:255:oe)&255,oe=ee,V[G+Q]=ve}}function zi(v,w,L,I){var V=w.width,G=w.o;if(e(v!=null&&w!=null),0>L||0>=I||L+I>G)return null;if(!v.Cc){if(v.ga==null){var W;if(v.ga=new oi,(W=v.ga==null)||(W=w.width*w.o,e(v.Gb.length==0),v.Gb=s(W),v.Uc=0,v.Gb==null?W=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,W=1),W=!W),!W){W=v.ga;var Q=v.Fa,ee=v.P,oe=v.qc,ve=v.mb,ke=v.nb,re=ee+1,ye=oe-1,Ne=W.l;if(e(Q!=null&&ve!=null&&w!=null),ro[0]=null,ro[1]=vn,ro[2]=li,ro[3]=ei,W.ca=ve,W.tb=ke,W.c=w.width,W.i=w.height,e(0<W.c&&0<W.i),1>=oe)w=0;else if(W.$a=3&Q[ee+0],W.Z=Q[ee+0]>>2&3,W.Lc=Q[ee+0]>>4&3,ee=Q[ee+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||ee)w=0;else if(Ne.put=_t,Ne.ac=zs,Ne.bc=Ka,Ne.ma=W,Ne.width=w.width,Ne.height=w.height,Ne.Da=w.Da,Ne.v=w.v,Ne.va=w.va,Ne.j=w.j,Ne.o=w.o,W.$a)e:{e(W.$a==1),w=ll();t:for(;;){if(w==null){w=0;break e}if(e(W!=null),W.mc=w,w.c=W.c,w.i=W.i,w.l=W.l,w.l.ma=W,w.l.width=W.c,w.l.height=W.i,w.a=0,Z(w.m,Q,re,ye),!da(W.c,W.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Us(w.s)?(W.ic=1,Q=w.c*w.i,w.Ta=null,w.Ua=0,w.V=s(Q),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(W.ic=0,w=cl(w,W.c)),!w))break t;w=1;break e}W.mc=null,w=0}else w=ye>=W.c*W.i;W=!w}if(W)return null;v.ga.Lc!=1?v.Ga=0:I=G-L}e(v.ga!=null),e(L+I<=G);e:{if(w=(Q=v.ga).c,G=Q.l.o,Q.$a==0){if(re=v.rc,ye=v.Vc,Ne=v.Fa,ee=v.P+1+L*w,oe=v.mb,ve=v.nb+L*w,e(ee<=v.P+v.qc),Q.Z!=0)for(e(ro[Q.Z]!=null),W=0;W<I;++W)ro[Q.Z](re,ye,Ne,ee,oe,ve,w),re=oe,ye=ve,ve+=w,ee+=w;else for(W=0;W<I;++W)i(oe,ve,Ne,ee,w),re=oe,ye=ve,ve+=w,ee+=w;v.rc=re,v.Vc=ye}else{if(e(Q.mc!=null),w=L+I,e((W=Q.mc)!=null),e(w<=W.i),W.C>=w)w=1;else if(Q.ic||vl(),Q.ic){Q=W.V,re=W.Ba,ye=W.c;var Ee=W.i,_e=(Ne=1,ee=W.$/ye,oe=W.$%ye,ve=W.m,ke=W.s,W.$),Re=ye*Ee,xe=ye*w,Oe=ke.wc,De=_e<xe?Hi(ke,oe,ee):null;e(_e<=Re),e(w<=Ee),e(Us(ke));t:for(;;){for(;!ve.h&&_e<xe;){if(oe&Oe||(De=Hi(ke,oe,ee)),e(De!=null),K(ve),256>(Ee=Fn(De.G[0],De.H[0],ve)))Q[re+_e]=Ee,++_e,++oe>=ye&&(oe=0,++ee<=w&&!(ee%16)&&Vs(W,ee));else{if(!(280>Ee)){Ne=0;break t}Ee=bs(Ee-256,ve);var ft,it=Fn(De.G[4],De.H[4],ve);if(K(ve),!(_e>=(it=os(ye,it=bs(it,ve)))&&Re-_e>=Ee)){Ne=0;break t}for(ft=0;ft<Ee;++ft)Q[re+_e+ft]=Q[re+_e+ft-it];for(_e+=Ee,oe+=Ee;oe>=ye;)oe-=ye,++ee<=w&&!(ee%16)&&Vs(W,ee);_e<xe&&oe&Oe&&(De=Hi(ke,oe,ee))}e(ve.h==ce(ve))}Vs(W,ee>w?w:ee);break t}!Ne||ve.h&&_e<Re?(Ne=0,W.a=ve.h?5:3):W.$=_e,w=Ne}else w=Hs(W,W.V,W.Ba,W.c,W.i,w,ic);if(!w){I=0;break e}}L+I>=G&&(v.Cc=1),I=1}if(!I)return null;if(v.Cc&&((I=v.ga)!=null&&(I.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+L*V}function Ss(v,w,L,I,V,G){for(;0<V--;){var W,Q=v,ee=w+(L?1:0),oe=v,ve=w+(L?0:3);for(W=0;W<I;++W){var ke=oe[ve+4*W];ke!=255&&(ke*=32897,Q[ee+4*W+0]=Q[ee+4*W+0]*ke>>23,Q[ee+4*W+1]=Q[ee+4*W+1]*ke>>23,Q[ee+4*W+2]=Q[ee+4*W+2]*ke>>23)}w+=G}}function eo(v,w,L,I,V){for(;0<I--;){var G;for(G=0;G<L;++G){var W=v[w+2*G+0],Q=15&(oe=v[w+2*G+1]),ee=4369*Q,oe=(240&oe|oe>>4)*ee>>16;v[w+2*G+0]=(240&W|W>>4)*ee>>16&240|(15&W|W<<4)*ee>>16>>4&15,v[w+2*G+1]=240&oe|Q}w+=V}}function Oo(v,w,L,I,V,G,W,Q){var ee,oe,ve=255;for(oe=0;oe<V;++oe){for(ee=0;ee<I;++ee){var ke=v[w+ee];G[W+4*ee]=ke,ve&=ke}w+=L,W+=Q}return ve!=255}function hc(v,w,L,I,V){var G;for(G=0;G<V;++G)L[I+G]=v[w+G]>>8}function vl(){io=Ss,Yh=eo,Qh=Oo,Wf=hc}function Br(v,w,L){R[v]=function(I,V,G,W,Q,ee,oe,ve,ke,re,ye,Ne,Ee,_e,Re,xe,Oe){var De,ft=Oe-1>>1,it=Q[ee+0]|oe[ve+0]<<16,Pt=ke[re+0]|ye[Ne+0]<<16;e(I!=null);var rt=3*it+Pt+131074>>2;for(w(I[V+0],255&rt,rt>>16,Ee,_e),G!=null&&(rt=3*Pt+it+131074>>2,w(G[W+0],255&rt,rt>>16,Re,xe)),De=1;De<=ft;++De){var $t=Q[ee+De]|oe[ve+De]<<16,vi=ke[re+De]|ye[Ne+De]<<16,It=it+$t+Pt+vi+524296,ot=It+2*($t+Pt)>>3;rt=ot+it>>1,it=(It=It+2*(it+vi)>>3)+$t>>1,w(I[V+2*De-1],255&rt,rt>>16,Ee,_e+(2*De-1)*L),w(I[V+2*De-0],255&it,it>>16,Ee,_e+(2*De-0)*L),G!=null&&(rt=It+Pt>>1,it=ot+vi>>1,w(G[W+2*De-1],255&rt,rt>>16,Re,xe+(2*De-1)*L),w(G[W+2*De+0],255&it,it>>16,Re,xe+(2*De+0)*L)),it=$t,Pt=vi}1&Oe||(rt=3*it+Pt+131074>>2,w(I[V+Oe-1],255&rt,rt>>16,Ee,_e+(Oe-1)*L),G!=null&&(rt=3*Pt+it+131074>>2,w(G[W+Oe-1],255&rt,rt>>16,Re,xe+(Oe-1)*L)))}}function ju(){fs[wl]=_g,fs[_l]=i0,fs[Jf]=Sg,fs[vc]=Ng,fs[Lu]=Nr,fs[Zh]=fr,fs[Zf]=kg,fs[ed]=i0,fs[Tu]=Ng,fs[Eu]=Nr,fs[td]=fr}function ba(v){return v&-16384?0>v?0:255:v>>r0}function Ws(v,w){return ba((19077*v>>8)+(26149*w>>8)-14234)}function ji(v,w,L){return ba((19077*v>>8)-(6419*w>>8)-(13320*L>>8)+8708)}function wa(v,w){return ba((19077*v>>8)+(33050*w>>8)-17685)}function zr(v,w,L,I,V){I[V+0]=Ws(v,L),I[V+1]=ji(v,w,L),I[V+2]=wa(v,w)}function yl(v,w,L,I,V){I[V+0]=wa(v,w),I[V+1]=ji(v,w,L),I[V+2]=Ws(v,L)}function Bo(v,w,L,I,V){var G=ji(v,w,L);w=G<<3&224|wa(v,w)>>3,I[V+0]=248&Ws(v,L)|G>>5,I[V+1]=w}function Ui(v,w,L,I,V){var G=240&wa(v,w)|15;I[V+0]=240&Ws(v,L)|ji(v,w,L)>>4,I[V+1]=G}function to(v,w,L,I,V){I[V+0]=255,zr(v,w,L,I,V+1)}function zo(v,w,L,I,V){yl(v,w,L,I,V),I[V+3]=255}function dc(v,w,L,I,V){zr(v,w,L,I,V),I[V+3]=255}function gi(v,w){return 0>v?0:v>w?w:v}function Ur(v,w,L){R[v]=function(I,V,G,W,Q,ee,oe,ve,ke){for(var re=ve+(-2&ke)*L;ve!=re;)w(I[V+0],G[W+0],Q[ee+0],oe,ve),w(I[V+1],G[W+0],Q[ee+0],oe,ve+L),V+=2,++W,++ee,ve+=2*L;1&ke&&w(I[V+0],G[W+0],Q[ee+0],oe,ve)}}function xl(v,w,L){return L==0?v==0?w==0?6:5:w==0?4:0:L}function _a(v,w,L,I,V){switch(v>>>30){case 3:Vn(w,L,I,V,0);break;case 2:js(w,L,I,V);break;case 1:hr(w,L,I,V)}}function Ai(v,w){var L,I,V=w.M,G=w.Nb,W=v.oc,Q=v.pc+40,ee=v.oc,oe=v.pc+584,ve=v.oc,ke=v.pc+600;for(L=0;16>L;++L)W[Q+32*L-1]=129;for(L=0;8>L;++L)ee[oe+32*L-1]=129,ve[ke+32*L-1]=129;for(0<V?W[Q-1-32]=ee[oe-1-32]=ve[ke-1-32]=129:(r(W,Q-32-1,127,21),r(ee,oe-32-1,127,9),r(ve,ke-32-1,127,9)),I=0;I<v.za;++I){var re=w.ya[w.aa+I];if(0<I){for(L=-1;16>L;++L)i(W,Q+32*L-4,W,Q+32*L+12,4);for(L=-1;8>L;++L)i(ee,oe+32*L-4,ee,oe+32*L+4,4),i(ve,ke+32*L-4,ve,ke+32*L+4,4)}var ye=v.Gd,Ne=v.Hd+I,Ee=re.ad,_e=re.Hc;if(0<V&&(i(W,Q-32,ye[Ne].y,0,16),i(ee,oe-32,ye[Ne].f,0,8),i(ve,ke-32,ye[Ne].ea,0,8)),re.Za){var Re=W,xe=Q-32+16;for(0<V&&(I>=v.za-1?r(Re,xe,ye[Ne].y[15],4):i(Re,xe,ye[Ne+1].y,0,4)),L=0;4>L;L++)Re[xe+128+L]=Re[xe+256+L]=Re[xe+384+L]=Re[xe+0+L];for(L=0;16>L;++L,_e<<=2)Re=W,xe=Q+sd[L],dr[re.Ob[L]](Re,xe),_a(_e,Ee,16*+L,Re,xe)}else if(Re=xl(I,V,re.Ob[0]),Ca[Re](W,Q),_e!=0)for(L=0;16>L;++L,_e<<=2)_a(_e,Ee,16*+L,W,Q+sd[L]);for(L=re.Gc,Re=xl(I,V,re.Dd),Qs[Re](ee,oe),Qs[Re](ve,ke),_e=Ee,Re=ee,xe=oe,255&(re=0|L)&&(170&re?Uo(_e,256,Re,xe):kn(_e,256,Re,xe)),re=ve,_e=ke,255&(L>>=8)&&(170&L?Uo(Ee,320,re,_e):kn(Ee,320,re,_e)),V<v.Ub-1&&(i(ye[Ne].y,0,W,Q+480,16),i(ye[Ne].f,0,ee,oe+224,8),i(ye[Ne].ea,0,ve,ke+224,8)),L=8*G*v.B,ye=v.sa,Ne=v.ta+16*I+16*G*v.R,Ee=v.qa,re=v.ra+8*I+L,_e=v.Ha,Re=v.Ia+8*I+L,L=0;16>L;++L)i(ye,Ne+L*v.R,W,Q+32*L,16);for(L=0;8>L;++L)i(Ee,re+L*v.B,ee,oe+32*L,8),i(_e,Re+L*v.B,ve,ke+32*L,8)}}function Ns(v,w,L,I,V,G,W,Q,ee){var oe=[0],ve=[0],ke=0,re=ee!=null?ee.kd:0,ye=ee??new mt;if(v==null||12>L)return 7;ye.data=v,ye.w=w,ye.ha=L,w=[w],L=[L],ye.gb=[ye.gb];e:{var Ne=w,Ee=L,_e=ye.gb;if(e(v!=null),e(Ee!=null),e(_e!=null),_e[0]=0,12<=Ee[0]&&!n(v,Ne[0],"RIFF")){if(n(v,Ne[0]+8,"WEBP")){_e=3;break e}var Re=je(v,Ne[0]+4);if(12>Re||4294967286<Re){_e=3;break e}if(re&&Re>Ee[0]-8){_e=7;break e}_e[0]=Re,Ne[0]+=12,Ee[0]-=12}_e=0}if(_e!=0)return _e;for(Re=0<ye.gb[0],L=L[0];;){e:{var xe=v;Ee=w,_e=L;var Oe=oe,De=ve,ft=Ne=[0];if((rt=ke=[ke])[0]=0,8>_e[0])_e=7;else{if(!n(xe,Ee[0],"VP8X")){if(je(xe,Ee[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var it=je(xe,Ee[0]+8),Pt=1+Be(xe,Ee[0]+12);if(2147483648<=Pt*(xe=1+Be(xe,Ee[0]+15))){_e=3;break e}ft!=null&&(ft[0]=it),Oe!=null&&(Oe[0]=Pt),De!=null&&(De[0]=xe),Ee[0]+=18,_e[0]-=18,rt[0]=1}_e=0}}if(ke=ke[0],Ne=Ne[0],_e!=0)return _e;if(Ee=!!(2&Ne),!Re&&ke)return 3;if(G!=null&&(G[0]=!!(16&Ne)),W!=null&&(W[0]=Ee),Q!=null&&(Q[0]=0),W=oe[0],Ne=ve[0],ke&&Ee&&ee==null){_e=0;break}if(4>L){_e=7;break}if(Re&&ke||!Re&&!ke&&!n(v,w[0],"ALPH")){L=[L],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{it=v,_e=w,Re=L;var rt=ye.gb;Oe=ye.na,De=ye.P,ft=ye.Sa,Pt=22,e(it!=null),e(Re!=null),xe=_e[0];var $t=Re[0];for(e(Oe!=null),e(ft!=null),Oe[0]=null,De[0]=null,ft[0]=0;;){if(_e[0]=xe,Re[0]=$t,8>$t){_e=7;break e}var vi=je(it,xe+4);if(4294967286<vi){_e=3;break e}var It=8+vi+1&-2;if(Pt+=It,0<rt&&Pt>rt){_e=3;break e}if(!n(it,xe,"VP8 ")||!n(it,xe,"VP8L")){_e=0;break e}if($t[0]<It){_e=7;break e}n(it,xe,"ALPH")||(Oe[0]=it,De[0]=xe+8,ft[0]=vi),xe+=It,$t-=It}}if(L=L[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],_e!=0)break}L=[L],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(rt=v,_e=w,Re=L,Oe=ye.gb[0],De=ye.Ja,ft=ye.xa,it=_e[0],xe=!n(rt,it,"VP8 "),Pt=!n(rt,it,"VP8L"),e(rt!=null),e(Re!=null),e(De!=null),e(ft!=null),8>Re[0])_e=7;else{if(xe||Pt){if(rt=je(rt,it+4),12<=Oe&&rt>Oe-12){_e=3;break e}if(re&&rt>Re[0]-8){_e=7;break e}De[0]=rt,_e[0]+=8,Re[0]-=8,ft[0]=Pt}else ft[0]=5<=Re[0]&&rt[it+0]==47&&!(rt[it+4]>>5),De[0]=Re[0];_e=0}if(L=L[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],w=w[0],_e!=0)break;if(4294967286<ye.Ja)return 3;if(Q==null||Ee||(Q[0]=ye.xa?2:1),W=[W],Ne=[Ne],ye.xa){if(5>L){_e=7;break}Q=W,re=Ne,Ee=G,v==null||5>L?v=0:5<=L&&v[w+0]==47&&!(v[w+4]>>5)?(Re=[0],rt=[0],Oe=[0],Z(De=new q,v,w,L),Xa(De,Re,rt,Oe)?(Q!=null&&(Q[0]=Re[0]),re!=null&&(re[0]=rt[0]),Ee!=null&&(Ee[0]=Oe[0]),v=1):v=0):v=0}else{if(10>L){_e=7;break}Q=Ne,v==null||10>L||!$i(v,w+3,L-3)?v=0:(re=v[w+0]|v[w+1]<<8|v[w+2]<<16,Ee=16383&(v[w+7]<<8|v[w+6]),v=16383&(v[w+9]<<8|v[w+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=ye.Ja||!Ee||!v?v=0:(W&&(W[0]=Ee),Q&&(Q[0]=v),v=1))}if(!v||(W=W[0],Ne=Ne[0],ke&&(oe[0]!=W||ve[0]!=Ne)))return 3;ee!=null&&(ee[0]=ye,ee.offset=w-ee.w,e(4294967286>w-ee.w),e(ee.offset==ee.ha-L));break}return _e==0||_e==7&&ke&&ee==null?(G!=null&&(G[0]|=ye.na!=null&&0<ye.na.length),I!=null&&(I[0]=W),V!=null&&(V[0]=Ne),0):_e}function or(v,w,L){var I=w.width,V=w.height,G=0,W=0,Q=I,ee=V;if(w.Da=v!=null&&0<v.Da,w.Da&&(Q=v.cd,ee=v.bd,G=v.v,W=v.j,11>L||(G&=-2,W&=-2),0>G||0>W||0>=Q||0>=ee||G+Q>I||W+ee>V))return 0;if(w.v=G,w.j=W,w.va=G+Q,w.o=W+ee,w.U=Q,w.T=ee,w.da=v!=null&&0<v.da,w.da){if(!ut(Q,ee,L=[v.ib],G=[v.hb]))return 0;w.ib=L[0],w.hb=G[0]}return w.ob=v!=null&&v.ob,w.Kb=v==null||!v.Sd,w.da&&(w.ob=w.ib<3*I/4&&w.hb<3*V/4,w.Kb=0),1}function Sr(v){if(v==null)return 2;if(11>v.S){var w=v.f.RGBA;w.fb+=(v.height-1)*w.A,w.A=-w.A}else w=v.f.kb,v=v.height,w.O+=(v-1)*w.fa,w.fa=-w.fa,w.N+=(v-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(v-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(v-1)*w.lb,w.lb=-w.lb);return 0}function lr(v,w,L,I){if(I==null||0>=v||0>=w)return 2;if(L!=null){if(L.Da){var V=L.cd,G=L.bd,W=-2&L.v,Q=-2&L.j;if(0>W||0>Q||0>=V||0>=G||W+V>v||Q+G>w)return 2;v=V,w=G}if(L.da){if(!ut(v,w,V=[L.ib],G=[L.hb]))return 2;v=V[0],w=G[0]}}I.width=v,I.height=w;e:{var ee=I.width,oe=I.height;if(v=I.S,0>=ee||0>=oe||!(v>=wl&&13>v))v=2;else{if(0>=I.Rd&&I.sd==null){W=G=V=w=0;var ve=(Q=ee*ad[v])*oe;if(11>v||(G=(oe+1)/2*(w=(ee+1)/2),v==12&&(W=(V=ee)*oe)),(oe=s(ve+2*G+W))==null){v=1;break e}I.sd=oe,11>v?((ee=I.f.RGBA).eb=oe,ee.fb=0,ee.A=Q,ee.size=ve):((ee=I.f.kb).y=oe,ee.O=0,ee.fa=Q,ee.Fd=ve,ee.f=oe,ee.N=0+ve,ee.Ab=w,ee.Cd=G,ee.ea=oe,ee.W=0+ve+G,ee.Db=w,ee.Ed=G,v==12&&(ee.F=oe,ee.J=0+ve+2*G),ee.Tc=W,ee.lb=V)}if(w=1,V=I.S,G=I.width,W=I.height,V>=wl&&13>V)if(11>V)v=I.f.RGBA,w&=(Q=Math.abs(v.A))*(W-1)+G<=v.size,w&=Q>=G*ad[V],w&=v.eb!=null;else{v=I.f.kb,Q=(G+1)/2,ve=(W+1)/2,ee=Math.abs(v.fa),oe=Math.abs(v.Ab);var ke=Math.abs(v.Db),re=Math.abs(v.lb),ye=re*(W-1)+G;w&=ee*(W-1)+G<=v.Fd,w&=oe*(ve-1)+Q<=v.Cd,w=(w&=ke*(ve-1)+Q<=v.Ed)&ee>=G&oe>=Q&ke>=Q,w&=v.y!=null,w&=v.f!=null,w&=v.ea!=null,V==12&&(w&=re>=G,w&=ye<=v.Tc,w&=v.F!=null)}else w=0;v=w?0:2}}return v!=0||L!=null&&L.fd&&(v=Sr(I)),v}var Gi=64,Sa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fc=24,cr=32,_n=8,pc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(v){return v},R.Predictor2=function(v,w,L){return w[L+0]},R.Predictor3=function(v,w,L){return w[L+1]},R.Predictor4=function(v,w,L){return w[L-1]},R.Predictor5=function(v,w,L){return Te(Te(v,w[L+1]),w[L+0])},R.Predictor6=function(v,w,L){return Te(v,w[L-1])},R.Predictor7=function(v,w,L){return Te(v,w[L+0])},R.Predictor8=function(v,w,L){return Te(w[L-1],w[L+0])},R.Predictor9=function(v,w,L){return Te(w[L+0],w[L+1])},R.Predictor10=function(v,w,L){return Te(Te(v,w[L-1]),Te(w[L+0],w[L+1]))},R.Predictor11=function(v,w,L){var I=w[L+0];return 0>=ht(I>>24&255,v>>24&255,(w=w[L-1])>>24&255)+ht(I>>16&255,v>>16&255,w>>16&255)+ht(I>>8&255,v>>8&255,w>>8&255)+ht(255&I,255&v,255&w)?I:v},R.Predictor12=function(v,w,L){var I=w[L+0];return(Ge((v>>24&255)+(I>>24&255)-((w=w[L-1])>>24&255))<<24|Ge((v>>16&255)+(I>>16&255)-(w>>16&255))<<16|Ge((v>>8&255)+(I>>8&255)-(w>>8&255))<<8|Ge((255&v)+(255&I)-(255&w)))>>>0},R.Predictor13=function(v,w,L){var I=w[L-1];return($e((v=Te(v,w[L+0]))>>24&255,I>>24&255)<<24|$e(v>>16&255,I>>16&255)<<16|$e(v>>8&255,I>>8&255)<<8|$e(255&v,255&I))>>>0};var qs=R.PredictorAdd0;R.PredictorAdd1=Ut,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var us=R.PredictorAdd2;et("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var bl,no=R.ColorIndexInverseTransform,Wi=R.MapARGB,Na=R.VP8LColorIndexInverseTransformAlpha,ks=R.MapAlpha,ur=R.VP8LPredictorsAdd=[];ur.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Ks,ka,Vr,Cs,Nt,yn,Un,Vn,js,Uo,hr,kn,mi,Pi,Au,gc,mc,fg,qi,qh,Kh,Xh,Xs,hs,io,Yh,Qh,Wf,qf=s(511),Kf=s(2041),Xf=s(225),Yf=s(767),Qf=0,Jh=Kf,Pu=Xf,Ki=Yf,ds=qf,wl=0,_l=1,Jf=2,vc=3,Lu=4,Zh=5,Zf=6,ed=7,Tu=8,Eu=9,td=10,pg=[2,3,7],O5=[3,3,11],e0=[280,256,256,256,40],B5=[0,1,1,1,0],z5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vg=8,yc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],t0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Mu=null,U5=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ys=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],nd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],id=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],xg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ca=[],dr=[],Qs=[],n0=1,wg=2,ro=[],fs=[];Br("UpsampleRgbLinePair",zr,3),Br("UpsampleBgrLinePair",yl,3),Br("UpsampleRgbaLinePair",dc,4),Br("UpsampleBgraLinePair",zo,4),Br("UpsampleArgbLinePair",to,4),Br("UpsampleRgba4444LinePair",Ui,2),Br("UpsampleRgb565LinePair",Bo,2);var _g=R.UpsampleRgbLinePair,Sg=R.UpsampleBgrLinePair,i0=R.UpsampleRgbaLinePair,Ng=R.UpsampleBgraLinePair,Nr=R.UpsampleArgbLinePair,fr=R.UpsampleRgba4444LinePair,kg=R.UpsampleRgb565LinePair,Ru=16,Fu=1<<Ru-1,xc=-227,rd=482,r0=6,s0=0,a0=s(256),Cg=s(256),jg=s(256),o0=s(256),l0=s(rd-xc),Ag=s(rd-xc);Ur("YuvToRgbRow",zr,3),Ur("YuvToBgrRow",yl,3),Ur("YuvToRgbaRow",dc,4),Ur("YuvToBgraRow",zo,4),Ur("YuvToArgbRow",to,4),Ur("YuvToRgba4444Row",Ui,2),Ur("YuvToRgb565Row",Bo,2);var sd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sl=[0,2,8],V5=[8,7,6,4,4,2,2,2,1,1,1,1],Pg=1;this.WebPDecodeRGBA=function(v,w,L,I,V){var G=_l,W=new Ye,Q=new Nn;W.ba=Q,Q.S=G,Q.width=[Q.width],Q.height=[Q.height];var ee=Q.width,oe=Q.height,ve=new At;if(ve==null||v==null)var ke=2;else e(ve!=null),ke=Ns(v,w,L,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(ke!=0?ee=0:(ee!=null&&(ee[0]=ve.width[0]),oe!=null&&(oe[0]=ve.height[0]),ee=1),ee){Q.width=Q.width[0],Q.height=Q.height[0],I!=null&&(I[0]=Q.width),V!=null&&(V[0]=Q.height);e:{if(I=new cn,(V=new mt).data=v,V.w=w,V.ha=L,V.kd=1,w=[0],e(V!=null),((v=Ns(V.data,V.w,V.ha,null,null,null,w,null,V))==0||v==7)&&w[0]&&(v=4),(w=v)==0){if(e(W!=null),I.data=V.data,I.w=V.w+V.offset,I.ha=V.ha-V.offset,I.put=_t,I.ac=zs,I.bc=Ka,I.ma=W,V.xa){if((v=ll())==null){W=1;break e}if(function(re,ye){var Ne=[0],Ee=[0],_e=[0];t:for(;;){if(re==null)return 0;if(ye==null)return re.a=2,0;if(re.l=ye,re.a=0,Z(re.m,ye.data,ye.w,ye.ha),!Xa(re.m,Ne,Ee,_e)){re.a=3;break t}if(re.xb=wg,ye.width=Ne[0],ye.height=Ee[0],!da(Ne[0],Ee[0],1,re,null))break t;return 1}return e(re.a!=0),0}(v,I)){if(I=(w=lr(I.width,I.height,W.Oa,W.ba))==0){t:{I=v;n:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((L=I.l)!=null),e((V=L.ma)!=null),I.xb!=0){if(I.ca=V.ba,I.tb=V.tb,e(I.ca!=null),!or(V.Oa,L,vc)){I.a=2;break n}if(!cl(I,L.width)||L.da)break n;if((L.da||Dt(I.ca.S))&&vl(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&vl()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!le(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Hs(I,I.V,I.Ba,I.c,I.i,L.o,To))break n;V.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(w=v.a)}else w=v.a}else{if((v=new fa)==null){W=1;break e}if(v.Fa=V.na,v.P=V.P,v.qc=V.Sa,pa(v,I)){if((w=lr(I.width,I.height,W.Oa,W.ba))==0){if(v.Aa=0,L=W.Oa,e((V=v)!=null),L!=null){if(0<(ee=0>(ee=L.Md)?0:100<ee?255:255*ee/100)){for(oe=ve=0;4>oe;++oe)12>(ke=V.pb[oe]).lc&&(ke.ia=ee*V5[0>ke.lc?0:ke.lc]>>3),ve|=ke.ia;ve&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=L.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(re,ye){if(re==null)return 0;if(ye==null)return Kt(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!pa(re,ye))return 0;if(e(re.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(re.L=0);var Ne=Sl[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=ye.v-Ne>>4,re.zb=ye.j-Ne>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=ye.o+15+Ne>>4,re.Hb=ye.va+15+Ne>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var Ee=re.ed;for(Ne=0;4>Ne;++Ne){var _e;if(re.Qa.Cb){var Re=re.Qa.Lb[Ne];re.Qa.Fb||(Re+=Ee.Tb)}else Re=Ee.Tb;for(_e=0;1>=_e;++_e){var xe=re.gd[Ne][_e],Oe=Re;if(Ee.Pc&&(Oe+=Ee.vd[0],_e&&(Oe+=Ee.od[0])),0<(Oe=0>Oe?0:63<Oe?63:Oe)){var De=Oe;0<Ee.wb&&(De=4<Ee.wb?De>>2:De>>1)>9-Ee.wb&&(De=9-Ee.wb),1>De&&(De=1),xe.dd=De,xe.tc=2*Oe+De,xe.ld=40<=Oe?2:15<=Oe?1:0}else xe.tc=0;xe.La=_e}}}Ne=0}else Kt(re,6,"Frame setup failed"),Ne=re.a;if(Ne=Ne==0){if(Ne){re.$c=0,0<re.Aa||(re.Ic=Pg);t:{Ne=re.Ic,Ee=4*(De=re.za);var ft=32*De,it=De+1,Pt=0<re.L?De*(0<re.Aa?2:1):0,rt=(re.Aa==2?2:1)*De;if((xe=Ee+832+(_e=3*(16*Ne+Sl[re.L])/2*ft)+(Re=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=xe)Ne=0;else{if(xe>re.Vb){if(re.Vb=0,re.Ec=s(xe),re.Fc=0,re.Ec==null){Ne=Kt(re,1,"no memory during frame initialization.");break t}re.Vb=xe}xe=re.Ec,Oe=re.Fc,re.Ac=xe,re.Bc=Oe,Oe+=Ee,re.Gd=a(ft,$s),re.Hd=0,re.rb=a(it+1,ul),re.sb=1,re.wa=Pt?a(Pt,Fr):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=De),e(!0),re.oc=xe,re.pc=Oe,Oe+=832,re.ya=a(rt,hl),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=De),re.R=16*De,re.B=8*De,De=(ft=Sl[re.L])*re.R,ft=ft/2*re.B,re.sa=xe,re.ta=Oe+De,re.qa=re.sa,re.ra=re.ta+16*Ne*re.R+ft,re.Ha=re.qa,re.Ia=re.ra+8*Ne*re.B+ft,re.$c=0,Oe+=_e,re.mb=Re?xe:null,re.nb=Re?Oe:null,e(Oe+Re<=re.Fc+re.Vb),pi(re),r(re.Ac,re.Bc,0,Ee),Ne=1}}if(Ne){if(ye.ka=0,ye.y=re.sa,ye.O=re.ta,ye.f=re.qa,ye.N=re.ra,ye.ea=re.Ha,ye.Vd=re.Ia,ye.fa=re.R,ye.Rc=re.B,ye.F=null,ye.J=0,!Qf){for(Ne=-255;255>=Ne;++Ne)qf[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)Kf[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)Xf[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)Yf[255+Ne]=0>Ne?0:255<Ne?255:Ne;Qf=1}Un=dl,Vn=ls,Uo=zf,hr=ga,kn=$h,js=Hh,mi=A,Pi=H,Au=be,gc=Fe,mc=se,fg=fe,qi=Ie,qh=tt,Kh=Or,Xh=_s,Xs=xa,hs=Io,dr[0]=Wh,dr[1]=Qa,dr[2]=Gh,dr[3]=Nu,dr[4]=Hf,dr[5]=Pn,dr[6]=Ja,dr[7]=ku,dr[8]=Do,dr[9]=$f,Ca[0]=ma,Ca[1]=Uf,Ca[2]=Vf,Ca[3]=fl,Ca[4]=pl,Ca[5]=gl,Ca[6]=ml,Qs[0]=lc,Qs[1]=oc,Qs[2]=Cu,Qs[3]=va,Qs[4]=_r,Qs[5]=Gf,Qs[6]=cs,Ne=1}else Ne=0}Ne&&(Ne=function($t,vi){for($t.M=0;$t.M<$t.Va;++$t.M){var It,ot=$t.Jc[$t.M&$t.Xb],We=$t.m,Hn=$t;for(It=0;It<Hn.za;++It){var pt=We,Et=Hn,Qt=Et.Ac,Li=Et.Bc+4*It,pr=Et.zc,an=Et.ya[Et.aa+It];if(Et.Qa.Bb?an.$b=Ce(pt,Et.Pa.jb[0])?2+Ce(pt,Et.Pa.jb[2]):Ce(pt,Et.Pa.jb[1]):an.$b=0,Et.kc&&(an.Ad=Ce(pt,Et.Bd)),an.Za=!Ce(pt,145)+0,an.Za){var Xi=an.Ob,Dn=0;for(Et=0;4>Et;++Et){var Ti,Jt=pr[0+Et];for(Ti=0;4>Ti;++Ti){Jt=yg[Qt[Li+Ti]][Jt];for(var dn=nd[Ce(pt,Jt[0])];0<dn;)dn=nd[2*dn+Ce(pt,Jt[dn])];Jt=-dn,Qt[Li+Ti]=Jt}i(Xi,Dn,Qt,Li,4),Dn+=4,pr[0+Et]=Jt}}else Jt=Ce(pt,156)?Ce(pt,128)?1:3:Ce(pt,163)?2:0,an.Ob[0]=Jt,r(Qt,Li,Jt,4),r(pr,0,Jt,4);an.Dd=Ce(pt,142)?Ce(pt,114)?Ce(pt,183)?1:3:2:0}if(Hn.m.Ka)return Kt($t,7,"Premature end-of-partition0 encountered.");for(;$t.ja<$t.za;++$t.ja){if(Hn=ot,pt=(We=$t).rb[We.sb-1],Qt=We.rb[We.sb+We.ja],It=We.ya[We.aa+We.ja],Li=We.kc?It.Ad:0)pt.la=Qt.la=0,It.Za||(pt.Na=Qt.Na=0),It.Hc=0,It.Gc=0,It.ia=0;else{var $n,fn;if(pt=Qt,Qt=Hn,Li=We.Pa.Xc,pr=We.ya[We.aa+We.ja],an=We.pb[pr.$b],Et=pr.ad,Xi=0,Dn=We.rb[We.sb-1],Jt=Ti=0,r(Et,Xi,0,384),pr.Za)var yi=0,Hr=Li[3];else{dn=s(16);var In=pt.Na+Dn.Na;if(In=Mu(Qt,Li[1],In,an.Eb,0,dn,0),pt.Na=Dn.Na=(0<In)+0,1<In)Un(dn,0,Et,Xi);else{var Yi=dn[0]+3>>3;for(dn=0;256>dn;dn+=16)Et[Xi+dn]=Yi}yi=1,Hr=Li[0]}var pn=15&pt.la,Gn=15&Dn.la;for(dn=0;4>dn;++dn){var kr=1&Gn;for(Yi=fn=0;4>Yi;++Yi)pn=pn>>1|(kr=(In=Mu(Qt,Hr,In=kr+(1&pn),an.Sc,yi,Et,Xi))>yi)<<7,fn=fn<<2|(3<In?3:1<In?2:Et[Xi+0]!=0),Xi+=16;pn>>=4,Gn=Gn>>1|kr<<7,Ti=(Ti<<8|fn)>>>0}for(Hr=pn,yi=Gn>>4,$n=0;4>$n;$n+=2){for(fn=0,pn=pt.la>>4+$n,Gn=Dn.la>>4+$n,dn=0;2>dn;++dn){for(kr=1&Gn,Yi=0;2>Yi;++Yi)In=kr+(1&pn),pn=pn>>1|(kr=0<(In=Mu(Qt,Li[2],In,an.Qc,0,Et,Xi)))<<3,fn=fn<<2|(3<In?3:1<In?2:Et[Xi+0]!=0),Xi+=16;pn>>=2,Gn=Gn>>1|kr<<5}Jt|=fn<<4*$n,Hr|=pn<<4<<$n,yi|=(240&Gn)<<$n}pt.la=Hr,Dn.la=yi,pr.Hc=Ti,pr.Gc=Jt,pr.ia=43690&Jt?0:an.ia,Li=!(Ti|Jt)}if(0<We.L&&(We.wa[We.Y+We.ja]=We.gd[It.$b][It.Za],We.wa[We.Y+We.ja].La|=!Li),Hn.Ka)return Kt($t,7,"Premature end-of-file encountered.")}if(pi($t),We=vi,Hn=1,It=(ot=$t).D,pt=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(It.M=ot.M,It.uc=pt,Ai(ot,It),Hn=1,It=(fn=ot.D).Nb,pt=(Jt=Sl[ot.L])*ot.R,Qt=Jt/2*ot.B,dn=16*It*ot.R,Yi=8*It*ot.B,Li=ot.sa,pr=ot.ta-pt+dn,an=ot.qa,Et=ot.ra-Qt+Yi,Xi=ot.Ha,Dn=ot.Ia-Qt+Yi,Gn=(pn=fn.M)==0,Ti=pn>=ot.Va-1,ot.Aa==2&&Ai(ot,fn),fn.uc)for(kr=(In=ot).D.M,e(In.D.uc),fn=In.yb;fn<In.Hb;++fn){yi=fn,Hr=kr;var Qi=(Cr=(Gt=In).D).Nb;$n=Gt.R;var Cr=Cr.wa[Cr.Y+yi],$r=Gt.sa,gr=Gt.ta+16*Qi*$n+16*yi,ps=Cr.dd,xn=Cr.tc;if(xn!=0)if(e(3<=xn),Gt.L==1)0<yi&&Xh($r,gr,$n,xn+4),Cr.La&&hs($r,gr,$n,xn),0<Hr&&Kh($r,gr,$n,xn+4),Cr.La&&Xs($r,gr,$n,xn);else{var jr=Gt.B,un=Gt.qa,Mt=Gt.ra+8*Qi*jr+8*yi,Ln=Gt.Ha,Gt=Gt.Ia+8*Qi*jr+8*yi;Qi=Cr.ld,0<yi&&(Pi($r,gr,$n,xn+4,ps,Qi),gc(un,Mt,Ln,Gt,jr,xn+4,ps,Qi)),Cr.La&&(fg($r,gr,$n,xn,ps,Qi),qh(un,Mt,Ln,Gt,jr,xn,ps,Qi)),0<Hr&&(mi($r,gr,$n,xn+4,ps,Qi),Au(un,Mt,Ln,Gt,jr,xn+4,ps,Qi)),Cr.La&&(mc($r,gr,$n,xn,ps,Qi),qi(un,Mt,Ln,Gt,jr,xn,ps,Qi))}}if(ot.ia&&alert("todo:DitherRow"),We.put!=null){if(fn=16*pn,pn=16*(pn+1),Gn?(We.y=ot.sa,We.O=ot.ta+dn,We.f=ot.qa,We.N=ot.ra+Yi,We.ea=ot.Ha,We.W=ot.Ia+Yi):(fn-=Jt,We.y=Li,We.O=pr,We.f=an,We.N=Et,We.ea=Xi,We.W=Dn),Ti||(pn-=Jt),pn>We.o&&(pn=We.o),We.F=null,We.J=null,ot.Fa!=null&&0<ot.Fa.length&&fn<pn&&(We.J=zi(ot,We,fn,pn-fn),We.F=ot.mb,We.F==null&&We.F.length==0)){Hn=Kt(ot,3,"Could not decode alpha data.");break t}fn<We.j&&(Jt=We.j-fn,fn=We.j,e(!(1&Jt)),We.O+=ot.R*Jt,We.N+=ot.B*(Jt>>1),We.W+=ot.B*(Jt>>1),We.F!=null&&(We.J+=We.width*Jt)),fn<pn&&(We.O+=We.v,We.N+=We.v>>1,We.W+=We.v>>1,We.F!=null&&(We.J+=We.v),We.ka=fn-We.j,We.U=We.va-We.v,We.T=pn-fn,Hn=We.put(We))}It+1!=ot.Ic||Ti||(i(ot.sa,ot.ta-pt,Li,pr+16*ot.R,pt),i(ot.qa,ot.ra-Qt,an,Et+8*ot.B,Qt),i(ot.Ha,ot.Ia-Qt,Xi,Dn+8*ot.B,Qt))}if(!Hn)return Kt($t,6,"Output aborted.")}return 1}(re,ye)),ye.bc!=null&&ye.bc(ye),Ne&=1}return Ne?(re.cb=0,Ne):0})(v,I)||(w=v.a)}}else w=v.a}w==0&&W.Oa!=null&&W.Oa.fd&&(w=Sr(W.ba))}W=w}G=W!=0?null:11>G?Q.f.RGBA.eb:Q.f.kb.y}else G=null;return G};var ad=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(R,M){for(var T="",D=0;D<4;D++)T+=String.fromCharCode(R[M++]);return T}function d(R,M){return R[M+0]|R[M+1]<<8}function g(R,M){return(R[M+0]|R[M+1]<<8|R[M+2]<<16)>>>0}function m(R,M){return(R[M+0]|R[M+1]<<8|R[M+2]<<16|R[M+3]<<24)>>>0}new l;var p=[0],x=[0],b=[],N=new l,S=t,j=function(R,M){var T={},D=0,$=!1,X=0,ae=0;if(T.frames=[],!function(z,q){for(var ie=0;ie<4;ie++)if(z[q+ie]!="RIFF".charCodeAt(ie))return!0;return!1}(R,M)){for(m(R,M+=4),M+=8;M<R.length;){var ge=c(R,M),pe=m(R,M+=4);M+=4;var te=pe+(1&pe);switch(ge){case"VP8 ":case"VP8L":T.frames[D]===void 0&&(T.frames[D]={}),(Y=T.frames[D]).src_off=$?ae:M-8,Y.src_size=X+pe+8,D++,$&&($=!1,X=0,ae=0);break;case"VP8X":(Y=T.header={}).feature_flags=R[M];var Z=M+4;Y.canvas_width=1+g(R,Z),Z+=3,Y.canvas_height=1+g(R,Z),Z+=3;break;case"ALPH":$=!0,X=te+8,ae=M-8;break;case"ANIM":(Y=T.header).bgcolor=m(R,M),Z=M+4,Y.loop_count=d(R,Z),Z+=2;break;case"ANMF":var ue,Y;(Y=T.frames[D]={}).offset_x=2*g(R,M),M+=3,Y.offset_y=2*g(R,M),M+=3,Y.width=1+g(R,M),M+=3,Y.height=1+g(R,M),M+=3,Y.duration=g(R,M),M+=3,ue=R[M++],Y.dispose=1&ue,Y.blend=ue>>1&1}ge!="ANMF"&&(M+=te)}return T}}(S,0);j.response=S,j.rgbaoutput=!0,j.dataurl=!1;var _=j.header?j.header:null,C=j.frames?j.frames:null;if(_){_.loop_counter=_.loop_count,p=[_.canvas_height],x=[_.canvas_width];for(var E=0;E<C.length&&C[E].blend!=0;E++);}var O=C[0],U=N.WebPDecodeRGBA(S,O.src_off,O.src_size,x,p);O.rgba=U,O.imgwidth=x[0],O.imgheight=p[0];for(var F=0;F<x[0]*p[0]*4;F++)b[F]=U[F];return this.width=x,this.height=p,this.data=b,this}(function(t){var e,n,i,r,s,a,o,l,c,d=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new l,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new a,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new a,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var g=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=z;Object.defineProperty(this,"pdf",{get:function(){return q}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(je){ie=!!je}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(je){ce=!!je}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(je){isNaN(je)||(he=je)}});var K=0;Object.defineProperty(this,"posY",{get:function(){return K},set:function(je){isNaN(je)||(K=je)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(je){var le;typeof je=="number"?le=[je,je,je,je]:((le=new Array(4))[0]=je[0],le[1]=je.length>=2?je[1]:le[0],le[2]=je.length>=3?je[2]:le[0],le[3]=je.length>=4?je[3]:le[1]),c.margin=le}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(je){de=je}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(je){me=je}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(je){Ce=je}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(je){je instanceof d&&(c=je)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(je){c.path=je}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(je){Le=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var le;le=m(je),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var le=m(je);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var ze=null,Be=null;Object.defineProperty(this,"fontFaces",{get:function(){return Be},set:function(je){ze=null,Be=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var le;if(this.ctx.font=je,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var jt=le[1];le[2];var xt=le[3],ut=le[4];le[5];var Ue=le[6],Xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ut)[2];ut=Math.floor(Xe==="px"?parseFloat(ut)*this.pdf.internal.scaleFactor:Xe==="em"?parseFloat(ut)*this.pdf.getFontSize():parseFloat(ut)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ut);var qe=function(bt){var et,sn,en=[],gt=bt.trim();if(gt==="")return ky;if(gt in $7)return[$7[gt]];for(;gt!=="";){switch(sn=null,et=(gt=W7(gt)).charAt(0)){case'"':case"'":sn=PJ(gt.substring(1),et);break;default:sn=LJ(gt)}if(sn===null||(en.push(sn[0]),(gt=W7(sn[1]))!==""&&gt.charAt(0)!==","))return ky;gt=gt.replace(/^,/,"")}return en}(Ue);if(this.fontFaces){var Tt=function(bt,et){if(ze===null){var sn=function(en){var gt=[];return Object.keys(en).forEach(function(Ft){en[Ft].forEach(function(Sn){var wt=null;switch(Sn){case"bold":wt={family:Ft,weight:"bold"};break;case"italic":wt={family:Ft,style:"italic"};break;case"bolditalic":wt={family:Ft,weight:"bold",style:"italic"};break;case"":case"normal":wt={family:Ft}}wt!==null&&(wt.ref={name:Ft,style:Sn},gt.push(wt))})}),gt}(bt.getFontList());ze=function(en){for(var gt={},Ft=0;Ft<en.length;++Ft){var Sn=Ny(en[Ft]),wt=Sn.family,qt=Sn.stretch,Dt=Sn.style,si=Sn.weight;gt[wt]=gt[wt]||{},gt[wt][qt]=gt[wt][qt]||{},gt[wt][qt][Dt]=gt[wt][qt][Dt]||{},gt[wt][qt][Dt][si]=Sn}return gt}(sn.concat(et))}return ze}(this.pdf,this.fontFaces),Te=qe.map(function(bt){return{family:bt,stretch:"normal",weight:xt,style:jt}}),Ge=function(bt,et,sn){for(var en=(sn=sn||{}).defaultFontFamily||"times",gt=Object.assign({},AJ,sn.genericFontFamilies||{}),Ft=null,Sn=null,wt=0;wt<et.length;++wt)if(gt[(Ft=Ny(et[wt])).family]&&(Ft.family=gt[Ft.family]),bt.hasOwnProperty(Ft.family)){Sn=bt[Ft.family];break}if(!(Sn=Sn||bt[en]))throw new Error("Could not find a font-family for the rule '"+G7(Ft)+"' and default family '"+en+"'.");if(Sn=function(qt,Dt){if(Dt[qt])return Dt[qt];var si=A4[qt],Ci=si<=A4.normal?-1:1,Nn=H7(Dt,$P,si,Ci);if(!Nn)throw new Error("Could not find a matching font-stretch value for "+qt);return Nn}(Ft.stretch,Sn),Sn=function(qt,Dt){if(Dt[qt])return Dt[qt];for(var si=HP[qt],Ci=0;Ci<si.length;++Ci)if(Dt[si[Ci]])return Dt[si[Ci]];throw new Error("Could not find a matching font-style for "+qt)}(Ft.style,Sn),!(Sn=function(qt,Dt){if(Dt[qt])return Dt[qt];if(qt===400&&Dt[500])return Dt[500];if(qt===500&&Dt[400])return Dt[400];var si=jJ[qt],Ci=H7(Dt,GP,si,qt<400?-1:1);if(!Ci)throw new Error("Could not find a matching font-weight for value "+qt);return Ci}(Ft.weight,Sn)))throw new Error("Failed to resolve a font for the rule '"+G7(Ft)+"'.");return Sn}(Tt,Te);this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var $e="";(xt==="bold"||parseInt(xt,10)>=700||jt==="bold")&&($e="bold"),jt==="italic"&&($e+="italic"),$e.length===0&&($e="normal");for(var ht="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<qe.length;dt++){if(this.pdf.internal.getFont(qe[dt],$e,{noFallback:!0,disableWarning:!0})!==void 0){ht=qe[dt];break}if($e==="bolditalic"&&this.pdf.internal.getFont(qe[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=qe[dt],$e="bold";else if(this.pdf.internal.getFont(qe[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=qe[dt],$e="normal";break}}if(ht===""){for(var at=0;at<qe.length;at++)if(Ut[qe[at]]){ht=Ut[qe[at]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,$e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};g.prototype.setLineDash=function(z){this.lineDash=z},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){C.call(this,"fill",!1)},g.prototype.stroke=function(){C.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(z,q){if(isNaN(z)||isNaN(q))throw Mn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new a(z,q));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(z,q)},g.prototype.closePath=function(){var z=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&jn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){z=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(z.x,z.y)},g.prototype.lineTo=function(z,q){if(isNaN(z)||isNaN(q))throw Mn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new a(z,q));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(ie.x,ie.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},g.prototype.quadraticCurveTo=function(z,q,ie,ce){if(isNaN(ie)||isNaN(ce)||isNaN(z)||isNaN(q))throw Mn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new a(ie,ce)),K=this.ctx.transform.applyToPoint(new a(z,q));this.path.push({type:"qct",x1:K.x,y1:K.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},g.prototype.bezierCurveTo=function(z,q,ie,ce,he,K){if(isNaN(he)||isNaN(K)||isNaN(z)||isNaN(q)||isNaN(ie)||isNaN(ce))throw Mn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new a(he,K)),me=this.ctx.transform.applyToPoint(new a(z,q)),Ce=this.ctx.transform.applyToPoint(new a(ie,ce));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Ce.x,y2:Ce.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},g.prototype.arc=function(z,q,ie,ce,he,K){if(isNaN(z)||isNaN(q)||isNaN(ie)||isNaN(ce)||isNaN(he))throw Mn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(K=!!K,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new a(z,q));z=de.x,q=de.y;var me=this.ctx.transform.applyToPoint(new a(0,ie)),Ce=this.ctx.transform.applyToPoint(new a(0,0));ie=Math.sqrt(Math.pow(me.x-Ce.x,2)+Math.pow(me.y-Ce.y,2))}Math.abs(he-ce)>=2*Math.PI&&(ce=0,he=2*Math.PI),this.path.push({type:"arc",x:z,y:q,radius:ie,startAngle:ce,endAngle:he,counterclockwise:K})},g.prototype.arcTo=function(z,q,ie,ce,he){throw new Error("arcTo not implemented.")},g.prototype.rect=function(z,q,ie,ce){if(isNaN(z)||isNaN(q)||isNaN(ie)||isNaN(ce))throw Mn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,q),this.lineTo(z+ie,q),this.lineTo(z+ie,q+ce),this.lineTo(z,q+ce),this.lineTo(z,q),this.lineTo(z+ie,q),this.lineTo(z,q)},g.prototype.fillRect=function(z,q,ie,ce){if(isNaN(z)||isNaN(q)||isNaN(ie)||isNaN(ce))throw Mn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,q,ie,ce),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},g.prototype.strokeRect=function(z,q,ie,ce){if(isNaN(z)||isNaN(q)||isNaN(ie)||isNaN(ce))throw Mn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(z,q,ie,ce),this.stroke())},g.prototype.clearRect=function(z,q,ie,ce){if(isNaN(z)||isNaN(q)||isNaN(ie)||isNaN(ce))throw Mn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,q,ie,ce))},g.prototype.save=function(z){z=typeof z!="boolean"||z;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},g.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(q),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(z){var q,ie,ce,he;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))q=0,ie=0,ce=0,he=0;else{var K=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(K!==null)q=parseInt(K[1]),ie=parseInt(K[2]),ce=parseInt(K[3]),he=1;else if((K=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)q=parseInt(K[1]),ie=parseInt(K[2]),ce=parseInt(K[3]),he=parseFloat(K[4]);else{if(he=1,typeof z=="string"&&z.charAt(0)!=="#"){var de=new DP(z);z=de.ok?de.toHex():"#000000"}z.length===4?(q=z.substring(1,2),q+=q,ie=z.substring(2,3),ie+=ie,ce=z.substring(3,4),ce+=ce):(q=z.substring(1,3),ie=z.substring(3,5),ce=z.substring(5,7)),q=parseInt(q,16),ie=parseInt(ie,16),ce=parseInt(ce,16)}}return{r:q,g:ie,b:ce,a:he,style:z}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(z,q,ie,ce){if(isNaN(q)||isNaN(ie)||typeof z!="string")throw Mn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!p.call(this)){var he=te(this.ctx.transform.rotation),K=this.ctx.transform.scaleX;D.call(this,{text:z,x:q,y:ie,scale:K,angle:he,align:this.textAlign,maxWidth:ce})}},g.prototype.strokeText=function(z,q,ie,ce){if(isNaN(q)||isNaN(ie)||typeof z!="string")throw Mn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ce=isNaN(ce)?void 0:ce;var he=te(this.ctx.transform.rotation),K=this.ctx.transform.scaleX;D.call(this,{text:z,x:q,y:ie,scale:K,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ce})}},g.prototype.measureText=function(z){if(typeof z!="string")throw Mn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,ie=this.pdf.internal.scaleFactor,ce=q.internal.getFontSize(),he=q.getStringUnitWidth(z)*ce/q.internal.scaleFactor;return new function(K){var de=(K=K||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:he*=Math.round(96*ie/72*1e4)/1e4})},g.prototype.scale=function(z,q){if(isNaN(z)||isNaN(q))throw Mn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new l(z,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},g.prototype.rotate=function(z){if(isNaN(z))throw Mn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.translate=function(z,q){if(isNaN(z)||isNaN(q))throw Mn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new l(1,0,0,1,z,q);this.ctx.transform=this.ctx.transform.multiply(ie)},g.prototype.transform=function(z,q,ie,ce,he,K){if(isNaN(z)||isNaN(q)||isNaN(ie)||isNaN(ce)||isNaN(he)||isNaN(K))throw Mn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(z,q,ie,ce,he,K);this.ctx.transform=this.ctx.transform.multiply(de)},g.prototype.setTransform=function(z,q,ie,ce,he,K){z=isNaN(z)?1:z,q=isNaN(q)?0:q,ie=isNaN(ie)?0:ie,ce=isNaN(ce)?1:ce,he=isNaN(he)?0:he,K=isNaN(K)?0:K,this.ctx.transform=new l(z,q,ie,ce,he,K)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(z,q,ie,ce,he,K,de,me,Ce){var Le=this.pdf.getImageProperties(z),ze=1,Be=1,je=1,le=1;ce!==void 0&&me!==void 0&&(je=me/ce,le=Ce/he,ze=Le.width/ce*me/ce,Be=Le.height/he*Ce/he),K===void 0&&(K=q,de=ie,q=0,ie=0),ce!==void 0&&me===void 0&&(me=ce,Ce=he),ce===void 0&&me===void 0&&(me=Le.width,Ce=Le.height);for(var jt,xt=this.ctx.transform.decompose(),ut=te(xt.rotate.shx),Ue=new l,Xe=(Ue=(Ue=(Ue=Ue.multiply(xt.translate)).multiply(xt.skew)).multiply(xt.scale)).applyToRectangle(new o(K-q*je,de-ie*le,ce*ze,he*Be)),qe=N.call(this,Xe),Tt=[],Te=0;Te<qe.length;Te+=1)Tt.indexOf(qe[Te])===-1&&Tt.push(qe[Te]);if(_(Tt),this.autoPaging)for(var Ge=Tt[0],$e=Tt[Tt.length-1],ht=Ge;ht<$e+1;ht++){this.pdf.setPage(ht);var Ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=ht===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=ht===1?0:at+(ht-2)*bt;if(this.ctx.clip_path.length!==0){var sn=this.path;jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(jt,this.posX+this.margin[3],-et+dt+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=sn}var en=JSON.parse(JSON.stringify(Xe));en=j([en],this.posX+this.margin[3],-et+dt+this.ctx.prevPageLastElemOffset)[0];var gt=(ht>Ge||ht<$e)&&b.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,bt,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",en.x,en.y,en.w,en.h,null,null,ut),gt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(z,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,ut)};var N=function(z,q,ie){var ce=[];q=q||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":ce.push(Math.floor((z.y+he)/ie)+1);break;case"arc":ce.push(Math.floor((z.y+he-z.radius)/ie)+1),ce.push(Math.floor((z.y+he+z.radius)/ie)+1);break;case"qct":var K=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);ce.push(Math.floor((K.y+he)/ie)+1),ce.push(Math.floor((K.y+K.h+he)/ie)+1);break;case"bct":var de=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);ce.push(Math.floor((de.y+he)/ie)+1),ce.push(Math.floor((de.y+de.h+he)/ie)+1);break;case"rect":ce.push(Math.floor((z.y+he)/ie)+1),ce.push(Math.floor((z.y+z.h+he)/ie)+1)}for(var me=0;me<ce.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<ce[me];)S.call(this);return ce},S=function(){var z=this.fillStyle,q=this.strokeStyle,ie=this.font,ce=this.lineCap,he=this.lineWidth,K=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=q,this.font=ie,this.lineCap=ce,this.lineWidth=he,this.lineJoin=K},j=function(z,q,ie){for(var ce=0;ce<z.length;ce++)switch(z[ce].type){case"bct":z[ce].x2+=q,z[ce].y2+=ie;case"qct":z[ce].x1+=q,z[ce].y1+=ie;default:z[ce].x+=q,z[ce].y+=ie}return z},_=function(z){return z.sort(function(q,ie){return q-ie})},C=function(z,q){for(var ie,ce,he=this.fillStyle,K=this.strokeStyle,de=this.lineCap,me=this.lineWidth,Ce=Math.abs(me*this.ctx.transform.scaleX),Le=this.lineJoin,ze=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),je=[],le=0;le<Be.length;le++)if(Be[le].x!==void 0)for(var jt=N.call(this,Be[le]),xt=0;xt<jt.length;xt+=1)je.indexOf(jt[xt])===-1&&je.push(jt[xt]);for(var ut=0;ut<je.length;ut++)for(;this.pdf.internal.getNumberOfPages()<je[ut];)S.call(this);if(_(je),this.autoPaging)for(var Ue=je[0],Xe=je[je.length-1],qe=Ue;qe<Xe+1;qe++){this.pdf.setPage(qe),this.fillStyle=he,this.strokeStyle=K,this.lineCap=de,this.lineWidth=Ce,this.lineJoin=Le;var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=qe===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=qe===1?0:Ge+(qe-2)*$e;if(this.ctx.clip_path.length!==0){var Ut=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ie,this.posX+this.margin[3],-ht+Te+this.ctx.prevPageLastElemOffset),E.call(this,z,!0),this.path=Ut}if(ce=JSON.parse(JSON.stringify(ze)),this.path=j(ce,this.posX+this.margin[3],-ht+Te+this.ctx.prevPageLastElemOffset),q===!1||qe===0){var dt=(qe>Ue||qe<Xe)&&b.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,$e,null).clip().discardPath()),E.call(this,z,q),dt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Ce,E.call(this,z,q),this.lineWidth=me;this.path=ze},E=function(z,q){if((z!=="stroke"||q||!x.call(this))&&(z==="stroke"||q||!p.call(this))){for(var ie,ce,he=[],K=this.path,de=0;de<K.length;de++){var me=K[de];switch(me.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:me,deltas:[],abs:[]});break;case"lt":var Ce=he.length;if(K[de-1]&&!isNaN(K[de-1].x)&&(ie=[me.x-K[de-1].x,me.y-K[de-1].y],Ce>0)){for(;Ce>=0;Ce--)if(he[Ce-1].close!==!0&&he[Ce-1].begin!==!0){he[Ce-1].deltas.push(ie),he[Ce-1].abs.push(me);break}}break;case"bct":ie=[me.x1-K[de-1].x,me.y1-K[de-1].y,me.x2-K[de-1].x,me.y2-K[de-1].y,me.x-K[de-1].x,me.y-K[de-1].y],he[he.length-1].deltas.push(ie);break;case"qct":var Le=K[de-1].x+2/3*(me.x1-K[de-1].x),ze=K[de-1].y+2/3*(me.y1-K[de-1].y),Be=me.x+2/3*(me.x1-me.x),je=me.y+2/3*(me.y1-me.y),le=me.x,jt=me.y;ie=[Le-K[de-1].x,ze-K[de-1].y,Be-K[de-1].x,je-K[de-1].y,le-K[de-1].x,jt-K[de-1].y],he[he.length-1].deltas.push(ie);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(me)}}ce=q?null:z==="stroke"?"stroke":"fill";for(var xt=!1,ut=0;ut<he.length;ut++)if(he[ut].arc)for(var Ue=he[ut].abs,Xe=0;Xe<Ue.length;Xe++){var qe=Ue[Xe];qe.type==="arc"?F.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,q,!xt):$.call(this,qe.x,qe.y),xt=!0}else if(he[ut].close===!0)this.pdf.internal.out("h"),xt=!1;else if(he[ut].begin!==!0){var Tt=he[ut].start.x,Te=he[ut].start.y;X.call(this,he[ut].deltas,Tt,Te),xt=!0}ce&&R.call(this,ce),q&&M.call(this)}},O=function(z){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-ie;case"top":return z+q-ie;case"hanging":return z+q-2*ie;case"middle":return z+q/2-ie;default:return z}},U=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(q,ie){this.colorStops.push([q,ie])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(z,q,ie,ce,he,K,de,me,Ce){for(var Le=ge.call(this,ie,ce,he,K),ze=0;ze<Le.length;ze++){var Be=Le[ze];ze===0&&(Ce?T.call(this,Be.x1+z,Be.y1+q):$.call(this,Be.x1+z,Be.y1+q)),ae.call(this,z,q,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}me?M.call(this):R.call(this,de)},R=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(z,q){this.pdf.internal.out(n(z)+" "+i(q)+" m")},D=function(z){var q;switch(z.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var ie=this.pdf.getTextDimensions(z.text),ce=O.call(this,z.y),he=U.call(this,ce)-ie.h,K=this.ctx.transform.applyToPoint(new a(z.x,ce)),de=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Ce,Le,ze,Be=this.ctx.transform.applyToRectangle(new o(z.x,ce,ie.w,ie.h)),je=me.applyToRectangle(new o(z.x,he,ie.w,ie.h)),le=N.call(this,je),jt=[],xt=0;xt<le.length;xt+=1)jt.indexOf(le[xt])===-1&&jt.push(le[xt]);if(_(jt),this.autoPaging)for(var ut=jt[0],Ue=jt[jt.length-1],Xe=ut;Xe<Ue+1;Xe++){this.pdf.setPage(Xe);var qe=Xe===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[2],Ge=Te-this.margin[0],$e=this.pdf.internal.pageSize.width-this.margin[1],ht=$e-this.margin[3],Ut=Xe===1?0:Tt+(Xe-2)*Ge;if(this.ctx.clip_path.length!==0){var dt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ce,this.posX+this.margin[3],-1*Ut+qe),E.call(this,"fill",!0),this.path=dt}var at=j([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Ut+qe+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*z.scale),ze=this.lineWidth,this.lineWidth=ze*z.scale);var bt=this.autoPaging!=="text";if(bt||at.y+at.h<=Te){if(bt||at.y>=qe&&at.x<=$e){var et=bt?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||$e-at.x)[0],sn=j([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-Ut+qe+this.ctx.prevPageLastElemOffset)[0],en=bt&&(Xe>ut||Xe<Ue)&&b.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,Ge,null).clip().discardPath()),this.pdf.text(et,sn.x,sn.y,{angle:z.angle,align:q,renderingMode:z.renderingMode}),en&&this.pdf.restoreGraphicsState()}}else at.y<Te&&(this.ctx.prevPageLastElemOffset+=Te-at.y);z.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=ze)}else z.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*z.scale),ze=this.lineWidth,this.lineWidth=ze*z.scale),this.pdf.text(z.text,K.x+this.posX,K.y+this.posY,{angle:z.angle,align:q,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=ze)},$=function(z,q,ie,ce){ie=ie||0,ce=ce||0,this.pdf.internal.out(n(z+ie)+" "+i(q+ce)+" l")},X=function(z,q,ie){return this.pdf.lines(z,q,ie,null,null)},ae=function(z,q,ie,ce,he,K,de,me){this.pdf.internal.out([e(r(ie+z)),e(s(ce+q)),e(r(he+z)),e(s(K+q)),e(r(de+z)),e(s(me+q)),"c"].join(" "))},ge=function(z,q,ie,ce){for(var he=2*Math.PI,K=Math.PI/2;q>ie;)q-=he;var de=Math.abs(ie-q);de<he&&ce&&(de=he-de);for(var me=[],Ce=ce?-1:1,Le=q;de>1e-5;){var ze=Le+Ce*Math.min(de,K);me.push(pe.call(this,z,Le,ze)),de-=Math.abs(ze-Le),Le=ze}return me},pe=function(z,q,ie){var ce=(ie-q)/2,he=z*Math.cos(ce),K=z*Math.sin(ce),de=he,me=-K,Ce=de*de+me*me,Le=Ce+de*he+me*K,ze=4/3*(Math.sqrt(2*Ce*Le)-Le)/(de*K-me*he),Be=de-ze*me,je=me+ze*de,le=Be,jt=-je,xt=ce+q,ut=Math.cos(xt),Ue=Math.sin(xt);return{x1:z*Math.cos(q),y1:z*Math.sin(q),x2:Be*ut-je*Ue,y2:Be*Ue+je*ut,x3:le*ut-jt*Ue,y3:le*Ue+jt*ut,x4:z*Math.cos(ie),y4:z*Math.sin(ie)}},te=function(z){return 180*z/Math.PI},Z=function(z,q,ie,ce,he,K){var de=z+.5*(ie-z),me=q+.5*(ce-q),Ce=he+.5*(ie-he),Le=K+.5*(ce-K),ze=Math.min(z,he,de,Ce),Be=Math.max(z,he,de,Ce),je=Math.min(q,K,me,Le),le=Math.max(q,K,me,Le);return new o(ze,je,Be-ze,le-je)},ue=function(z,q,ie,ce,he,K,de,me){var Ce,Le,ze,Be,je,le,jt,xt,ut,Ue,Xe,qe,Tt,Te,Ge=ie-z,$e=ce-q,ht=he-ie,Ut=K-ce,dt=de-he,at=me-K;for(Le=0;Le<41;Le++)ut=(jt=(ze=z+(Ce=Le/40)*Ge)+Ce*((je=ie+Ce*ht)-ze))+Ce*(je+Ce*(he+Ce*dt-je)-jt),Ue=(xt=(Be=q+Ce*$e)+Ce*((le=ce+Ce*Ut)-Be))+Ce*(le+Ce*(K+Ce*at-le)-xt),Le==0?(Xe=ut,qe=Ue,Tt=ut,Te=Ue):(Xe=Math.min(Xe,ut),qe=Math.min(qe,Ue),Tt=Math.max(Tt,ut),Te=Math.max(Te,Ue));return new o(Math.round(Xe),Math.round(qe),Math.round(Tt-Xe),Math.round(Te-qe))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,q,ie=(z=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:q}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(yt.API),function(t){var e=function(a){var o,l,c,d,g,m,p,x,b,N;for(l=[],c=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(g=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(m=(g=((g=((g=((g=(g-(N=g%85))/85)-(b=g%85))/85)-(x=g%85))/85)-(p=g%85))/85)%85,l.push(m+33,p+33,x+33,b+33,N+33)):l.push(122);return function(S,j){for(var _=j;_>0;_--)S.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,c,d,g,m=String,p="length",x=255,b="charCodeAt",N="slice",S="replace";for(a[N](-2),a=a[N](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],d=0,g=(a+=o="uuuuu"[N](a[p]%5||5))[p];g>d;d+=5)l=52200625*(a[b](d)-33)+614125*(a[b](d+1)-33)+7225*(a[b](d+2)-33)+85*(a[b](d+3)-33)+(a[b](d+4)-33),c.push(x&l>>24,x&l>>16,x&l>>8,x&l);return function(j,_){for(var C=_;C>0;C--)j.pop()}(c,o[p]),m.fromCharCode.apply(m,c)},i=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=w4(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var l=0,c=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=i(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(yt.API),function(t){t.loadFile=function(e,n,i){return function(r,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,d){var g=new XMLHttpRequest,m=0,p=function(x){var b=x.length,N=[],S=String.fromCharCode;for(m=0;m<b;m+=1)N.push(S(255&x.charCodeAt(m)));return N.join("")};if(g.open("GET",l,!c),g.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(g.onload=function(){g.status===200?d(p(this.responseText)):d(void 0)}),g.send(null),c&&g.status===200)return p(g.responseText)}(r,s,a)}catch{}return o}(e,n,i)},t.loadImageFile=t.loadFile}(yt.API),function(t){function e(){return(Lt.html2canvas?Promise.resolve(Lt.html2canvas):ay(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Lt.DOMPurify?Promise.resolve(Lt.DOMPurify):ay(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var l=jn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},s=function o(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)c!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(o(g,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(c){return this.set({src:r("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var x=d[p],b=x.src.find(function(N){return N.format==="truetype"});b&&c.addFont(b.url,x.ref.name,x.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(i(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,g){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,d),m}).then(d,g).then(function(m){return c.updateProgress(1),m})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),m=c.call(g,o,l);return a.convert(m,d.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,yt.getPageSize=function(o,l,c){if(jn(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var g,m=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var x,b=0,N=0;if(p.hasOwnProperty(m))b=p[m][1]/g,N=p[m][0]/g;else try{b=c[1],N=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",N>b&&(x=N,N=b,b=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>N&&(x=N,N=b,b=x)}return{width:N,height:b,unit:l,k:g,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Ny):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(yt.API),yt.API.addJS=function(t){return K7=t,this.internal.events.subscribe("postPutResources",function(){Lm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Lm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),q7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+K7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Lm!==void 0&&q7!==void 0&&this.internal.out("/Names <</JavaScript "+Lm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],o=i.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(s=0;s<c;s++){var g=n.internal.newObject();d.push(g);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,s){var a={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var a=i.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(yt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,r,s,a,o){var l,c=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(g){for(var m,p=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,b={width:0,height:0,numcomponents:1},N=4;N<x;N+=2){if(N+=p,e.indexOf(g.charCodeAt(N+1))!==-1){m=256*g.charCodeAt(N+5)+g.charCodeAt(N+6),b={width:256*g.charCodeAt(N+7)+g.charCodeAt(N+8),height:m,numcomponents:g.charCodeAt(N+9)};break}p=256*g.charCodeAt(N+2)+g.charCodeAt(N+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:i,alias:r}}return d}}(yt.API),yt.API.processPNG=function(t,e,n,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var r,s=fJ(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,d=s.depth;r=c&&l===1?function(U){for(var F=U.width,R=U.height,M=U.data,T=U.palette,D=U.depth,$=!1,X=[],ae=[],ge=void 0,pe=!1,te=0,Z=0;Z<T.length;Z++){var ue=JS(T[Z],4),Y=ue[0],z=ue[1],q=ue[2],ie=ue[3];X.push(Y,z,q),ie!=null&&(ie===0?(te++,ae.length<1&&ae.push(Z)):ie<255&&(pe=!0))}if(pe||te>1){$=!0,ae=void 0;var ce=F*R;ge=new Uint8Array(ce);for(var he=new DataView(M.buffer),K=0;K<ce;K++){var de=Cy(he,K,D),me=JS(T[de],4)[3];ge[K]=me}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:M,alphaBytes:ge,needSMask:$,palette:X,mask:ae}}(s):l===2||l===4?function(U){for(var F=U.data,R=U.width,M=U.height,T=U.channels,D=U.depth,$=T===2?"DeviceGray":"DeviceRGB",X=T-1,ae=R*M,ge=X,pe=ae*ge,te=1*ae,Z=Math.ceil(pe*D/8),ue=Math.ceil(te*D/8),Y=new Uint8Array(Z),z=new Uint8Array(ue),q=new DataView(F.buffer),ie=new DataView(Y.buffer),ce=new DataView(z.buffer),he=!1,K=0;K<ae;K++){for(var de=K*T,me=0;me<ge;me++)iN(ie,Cy(q,de+me,D),K*ge+me,D);var Ce=Cy(q,de+ge,D);Ce<(1<<D)-1&&(he=!0),iN(ce,Ce,1*K,D)}return{colorSpace:$,colorsPerPixel:X,colorBytes:Y,alphaBytes:z,needSMask:he}}(s):function(U){var F=U.data,R=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:F instanceof Uint8Array?F:new Uint8Array(F.buffer),needSMask:!1}}(s);var g,m,p,x=r,b=x.colorSpace,N=x.colorsPerPixel,S=x.colorBytes,j=x.alphaBytes,_=x.needSMask,C=x.palette,E=x.mask,O=null;return i!==yt.API.image_compression.NONE&&typeof w4=="function"?(O=function(U){var F;switch(U){case yt.API.image_compression.FAST:F=11;break;case yt.API.image_compression.MEDIUM:F=13;break;case yt.API.image_compression.SLOW:F=14;break;default:F=12}return F}(i),g=this.decode.FLATE_DECODE,m="/Predictor ".concat(O," "),t=J7(S,a*N,N,i),_&&(p=J7(j,a,1,i))):(g=void 0,m="",t=S,_&&(p=j)),m+="/Colors ".concat(N," /BitsPerComponent ").concat(d," /Columns ").concat(a),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:g,decodeParameters:m,transparency:E,palette:C,sMask:p,predictor:O,width:a,height:o,bitsPerComponent:d,colorSpace:b}}},function(t){t.processGIF89A=function(e,n,i,r){var s=new RJ(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},d=new jy(100).encode(c,100);return t.processJPEG.call(this,d,n,i,r)},t.processGIF87A=t.processGIF89A}(yt.API),fo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Mn.log("bit decode error:"+n)}},fo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*r*4,o=0;o<8&&8*r+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},fo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*r*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},fo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(r<this.palette.length){var a=this.palette[r];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},fo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,d=i*this.width*4+4*r;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=c}this.pos+=t}},fo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,d=r*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},fo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},fo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=a}},fo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,i,r){var s=new fo(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new jy(100).encode(l,100);return t.processJPEG.call(this,c,n,i,r)}}(yt.API),sN.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,i,r){var s=new sN(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new jy(100).encode(l,100);return t.processJPEG.call(this,c,n,i,r)}}(yt.API),yt.API.processRGBA=function(t,e,n){for(var i=t.data,r=i.length,s=new Uint8Array(r/4*3),a=new Uint8Array(r/4),o=0,l=0,c=0;c<r;c+=4){var d=i[c],g=i[c+1],m=i[c+2],p=i[c+3];s[o++]=d,s[o++]=g,s[o++]=m,a[l++]=p}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},yt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_d=yt.API,Tm=_d.getCharWidthsArray=function(t,e){var n,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:r.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:r.metadata.Unicode.kerning,d=c.fof?c.fof:1,g=e.doKerning!==!1,m=0,p=t.length,x=0,b=o[0]||l,N=[];for(n=0;n<p;n++)i=t.charCodeAt(n),typeof r.metadata.widthOfString=="function"?N.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(m=g&&jn(c[i])==="object"&&!isNaN(parseInt(c[i][x],10))?c[i][x]/d:0,N.push((o[i]||b)/l+m)),x=i;return N},X7=_d.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return _d.processArabic&&(t=_d.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,r)/n:Tm.apply(this,arguments).reduce(function(s,a){return s+a},0)},Y7=function(t,e,n,i){for(var r=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;r.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>i&&(r.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&r.push(t.slice(l,s)),r},Q7=function(t,e,n){n||(n={});var i,r,s,a,o,l,c,d=[],g=[d],m=n.textIndent||0,p=0,x=0,b=t.split(" "),N=Tm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var S=Array(l).join(" "),j=[];b.map(function(C){(C=C.split(/\s*\n/)).length>1?j=j.concat(C.map(function(E,O){return(O&&E.length?`
`:"")+E})):j.push(C[0])}),b=j,l=X7.apply(this,[S,n])}for(s=0,a=b.length;s<a;s++){var _=0;if(i=b[s],l&&i[0]==`
`&&(i=i.substr(1),_=1),m+p+(x=(r=Tm.apply(this,[i,n])).reduce(function(C,E){return C+E},0))>e||_){if(x>e){for(o=Y7.apply(this,[i,r,e-(m+p),e]),d.push(o.shift()),d=[o.pop()];o.length;)g.push([o.shift()]);x=r.slice(i.length-(d[0]?d[0].length:0)).reduce(function(C,E){return C+E},0)}else d=[i];g.push(d),m=x+l,p=N}else d.push(i),m+=p+x,p=N}return c=l?function(C,E){return(E?S:"")+C.join(" ")}:function(C){return C.join(" ")},g.map(c)},_d.splitTextToSize=function(t,e,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return g.metadata[m]?{widths:g.metadata[m].widths||{0:1},kerning:g.metadata[m].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/r;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=i.length;o<l;o++)c=c.concat(Q7.apply(this,[i[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",i={},r={},s=0;s<16;s++)i[n[s]]=e[s],r[e[s]]=n[s];var a=function(m){return"0x"+parseInt(m,10).toString(16)},o=t.__fontmetrics__.compress=function(m){var p,x,b,N,S=["{"];for(var j in m){if(p=m[j],isNaN(parseInt(j,10))?x="'"+j+"'":(j=parseInt(j,10),x=(x=a(j).slice(2)).slice(0,-1)+r[x.slice(-1)]),typeof p=="number")p<0?(b=a(p).slice(3),N="-"):(b=a(p).slice(2),N=""),b=N+b.slice(0,-1)+r[b.slice(-1)];else{if(jn(p)!=="object")throw new Error("Don't know what to do with value type "+jn(p)+".");b=o(p)}S.push(x+b)}return S.push("}"),S.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,x,b,N,S={},j=1,_=S,C=[],E="",O="",U=m.length-1,F=1;F<U;F+=1)(N=m[F])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(N):N=="{"?(C.push([_,b]),_={},b=void 0):N=="}"?((x=C.pop())[0][x[1]]=_,b=void 0,_=x[0]):N=="-"?j=-1:b===void 0?i.hasOwnProperty(N)?(E+=i[N],b=parseInt(E,16)*j,j=1,E=""):E+=N:i.hasOwnProperty(N)?(O+=i[N],_[b]=parseInt(O,16)*j,j=1,b=void 0,O=""):O+=N;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var p=m.font,x=g.Unicode[p.postScriptName];x&&(p.metadata.Unicode={},p.metadata.Unicode.widths=x.widths,p.metadata.Unicode.kerning=x.kerning);var b=d.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(yt.API),function(t){var e=function(n){for(var i=n.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=n.charCodeAt(s);return r};t.API.events.push(["addFont",function(n){var i=void 0,r=n.font,s=n.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(r1(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(r,i)}}])}(yt),yt.API.addSvgAsImage=function(t,e,n,i,r,s,a,o){if(isNaN(e)||isNaN(n))throw Mn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw Mn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Lt.canvg?Promise.resolve(Lt.canvg):ay(()=>import("./index.es-ZEKcQl2x.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(c,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),e,n,i,r,a,o)})},yt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,n);return this},yt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,r,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,d=0,g=0;function m(x,b){var N,S=!1;for(N=0;N<x.length;N+=1)x[N]===b&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(g=0;g<p;g+=1)n[o[g]].value=n[o[g]].defaultValue,n[o[g]].explicitSet=!1}if(jn(t)==="object"){for(r in t)if(s=t[r],m(o,r)&&s!==void 0){if(n[r].type==="boolean"&&typeof s=="boolean")n[r].value=s;else if(n[r].type==="name"&&m(n[r].valueSet,s))n[r].value=s;else if(n[r].type==="integer"&&Number.isInteger(s))n[r].value=s;else if(n[r].type==="array"){for(c=0;c<s.length;c+=1)if(i=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)typeof s[c][d]!="number"&&(i=!1);i===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[r].value="["+l.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,b=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?b.push("/"+x+" /"+n[x].value):b.push("/"+x+" "+n[x].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(yt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],g=0,m=s.length;g<m;++g){if(o=a.metadata.characterToGlyph(s.charCodeAt(g)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(g),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(c[4-o.length],o)}return d.join("")},i=function(s){var a,o,l,c,d,g,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,m=(o=Object.keys(s).sort(function(p,x){return p-x})).length;g<m;g++)a=o[g],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var g=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",x=0;x<m.length;x++)p+=String.fromCharCode(m[x]);var b=c();d({data:p,addLength1:!0,objectId:b}),l("endobj");var N=c();d({data:i(o.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var S=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Cd(o.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var j=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Cd(o.fontName)),l("/FontDescriptor "+S+" 0 R"),l("/W "+t.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+N+" 0 R"),l("/BaseFont /"+Cd(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+j+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var g=o.metadata.rawData,m="",p=0;p<g.length;p++)m+=String.fromCharCode(g[p]);var x=c();d({data:m,addLength1:!0,objectId:x}),l("endobj");var b=c();d({data:i(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var N=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Cd(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var S=0;S<o.metadata.hmtx.widths.length;S++)o.metadata.hmtx.widths[S]=parseInt(o.metadata.hmtx.widths[S]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Cd(o.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var r=function(s){var a,o=s.text||"",l=s.x,c=s.y,d=s.options||{},g=s.mutex||{},m=g.pdfEscape,p=g.activeFontKey,x=g.fonts,b=p,N="",S=0,j="",_=x[b].encoding;if(x[b].encoding!=="Identity-H")return{text:o,x:l,y:c,options:d,mutex:g};for(j=o,b=p,Array.isArray(o)&&(j=o[0]),S=0;S<j.length;S+=1)x[b].metadata.hasOwnProperty("cmap")&&(a=x[b].metadata.cmap.unicode.codeMap[j[S].charCodeAt(0)]),a||j[S].charCodeAt(0)<256&&x[b].metadata.hasOwnProperty("Unicode")?N+=j[S]:N+="";var C="";return parseInt(b.slice(1))<14||_==="WinAnsiEncoding"?C=m(N,b).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(C=n(N,x[b])),g.isHex=!0,{text:C,x:l,y:c,options:d,mutex:g}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([r(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(r(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=r(Object.assign({},l,{text:a})).text}])}(yt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(yt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var r,s,a,o,l,c,d,g=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,_=0;this.__bidiEngine__={};var C=function(T){var D=T.charCodeAt(),$=D>>8,X=b[$];return X!==void 0?g[256*X+(255&D)]:$===252||$===253?"AL":S.test($)?"L":$===8?"R":"N"},E=function(T){for(var D,$=0;$<T.length;$++){if((D=C(T.charAt($)))==="L")return!1;if(D==="R")return!0}return!1},O=function(T,D,$,X){var ae,ge,pe,te,Z=D[X];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(Z="AN");break;case"AL":j=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":X<1||X+1>=D.length||(ae=$[X-1])!=="EN"&&ae!=="AN"||(ge=D[X+1])!=="EN"&&ge!=="AN"?Z="N":j&&(ge="AN"),Z=ge===ae?ge:"N";break;case"ES":Z=(ae=X>0?$[X-1]:"B")==="EN"&&X+1<D.length&&D[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&$[X-1]==="EN"){Z="EN";break}if(j){Z="N";break}for(pe=X+1,te=D.length;pe<te&&D[pe]==="ET";)pe++;Z=pe<te&&D[pe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(te=D.length,pe=X+1;pe<te&&D[pe]==="NSM";)pe++;if(pe<te){var ue=T[X],Y=ue>=1425&&ue<=2303||ue===64286;if(ae=D[pe],Y&&(ae==="R"||ae==="AL")){Z="R";break}}}Z=X<1||(ae=D[X-1])==="B"?"N":$[X-1];break;case"B":j=!1,r=!0,Z=_;break;case"S":s=!0,Z="N"}return Z},U=function(T,D,$){var X=T.split("");return $&&F(X,$,{hiLevel:_}),X.reverse(),D&&D.reverse(),X.join("")},F=function(T,D,$){var X,ae,ge,pe,te,Z=-1,ue=T.length,Y=0,z=[],q=_?p:m,ie=[];for(j=!1,r=!1,s=!1,ae=0;ae<ue;ae++)ie[ae]=C(T[ae]);for(ge=0;ge<ue;ge++){if(te=Y,z[ge]=O(T,ie,z,ge),X=240&(Y=q[te][x[z[ge]]]),Y&=15,D[ge]=pe=q[Y][5],X>0)if(X===16){for(ae=Z;ae<ge;ae++)D[ae]=1;Z=-1}else Z=-1;if(q[Y][6])Z===-1&&(Z=ge);else if(Z>-1){for(ae=Z;ae<ge;ae++)D[ae]=pe;Z=-1}ie[ge]==="B"&&(D[ge]=0),$.hiLevel|=pe}s&&function(ce,he,K){for(var de=0;de<K;de++)if(ce[de]==="S"){he[de]=_;for(var me=de-1;me>=0&&ce[me]==="WS";me--)he[me]=_}}(ie,D,ue)},R=function(T,D,$,X,ae){if(!(ae.hiLevel<T)){if(T===1&&_===1&&!r)return D.reverse(),void($&&$.reverse());for(var ge,pe,te,Z,ue=D.length,Y=0;Y<ue;){if(X[Y]>=T){for(te=Y+1;te<ue&&X[te]>=T;)te++;for(Z=Y,pe=te-1;Z<pe;Z++,pe--)ge=D[Z],D[Z]=D[pe],D[pe]=ge,$&&(ge=$[Z],$[Z]=$[pe],$[pe]=ge);Y=te}Y++}}},M=function(T,D,$){var X=T.split(""),ae={hiLevel:_};return $||($=[]),F(X,$,ae),function(ge,pe,te){if(te.hiLevel!==0&&d)for(var Z,ue=0;ue<ge.length;ue++)pe[ue]===1&&(Z=N.indexOf(ge[ue]))>=0&&(ge[ue]=N[Z+1])}(X,$,ae),R(2,X,D,$,ae),R(1,X,D,$,ae),X.join("")};return this.__bidiEngine__.doBidiReorder=function(T,D,$){if(function(ae,ge){if(ge)for(var pe=0;pe<ae.length;pe++)ge[pe]=pe;o===void 0&&(o=E(ae)),c===void 0&&(c=E(ae))}(T,D),a||!l||c)if(a&&l&&o^c)_=o?1:0,T=U(T,D,$);else if(!a&&l&&c)_=o?1:0,T=M(T,D,$),T=U(T,D);else if(!a||o||l||c){if(a&&!l&&o^c)T=U(T,D),o?(_=0,T=M(T,D,$)):(_=1,T=M(T,D,$),T=U(T,D));else if(a&&o&&!l&&c)_=1,T=M(T,D,$),T=U(T,D);else if(!a&&!l&&o^c){var X=d;o?(_=1,T=M(T,D,$),_=0,d=!1,T=M(T,D,$),d=X):(_=0,T=M(T,D,$),T=U(T,D),_=1,d=!1,T=M(T,D,$),d=X,T=U(T,D))}}else _=0,T=M(T,D,$);else _=o?1:0,T=M(T,D,$);return T},this.__bidiEngine__.setOptions=function(T){T&&(a=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,c=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var o=0;for(a=[],o=0;o<r.length;o+=1)Object.prototype.toString.call(r[o])==="[object Array]"?a.push([n.doBidiReorder(r[o][0]),r[o][1],r[o][2]]):a.push([n.doBidiReorder(r[o])]);i.text=a}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(yt),yt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new lu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new XJ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new FJ(this.contents),this.head=new IJ(this),this.name=new VJ(this),this.cmap=new qP(this),this.toUnicode={},this.hhea=new OJ(this),this.maxp=new HJ(this),this.hmtx=new $J(this),this.post=new zJ(this),this.os2=new BJ(this),this.loca=new KJ(this),this.glyf=new GJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var r,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)r=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t}();var Po,lu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,r;for(r=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(e.charCodeAt(n)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,r,s,a,o,l;return e=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*r+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)n=e[i],s.push(this.writeByte(n));return s},t}(),FJ=function(){var t;function e(n){var i,r,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,r,s,a,o,l,c,d,g,m,p,x,b;for(b in p=Object.keys(n).length,l=Math.log(2),g=16*Math.floor(Math.log(p)/l),a=Math.floor(g/l),d=16*p-g,(r=new lu).writeInt(this.scalarType),r.writeShort(p),r.writeShort(g),r.writeShort(a),r.writeShort(d),s=16*p,c=r.pos+s,o=null,x=[],n)for(m=n[b],r.writeString(b),r.writeInt(t(m)),r.writeInt(c),r.writeInt(m.length),x=x.concat(m),b==="head"&&(o=c),c+=m.length;c%4;)x.push(0),c++;return r.write(x),i=2981146554-t(r.data),r.pos=o+8,r.writeUInt32(i),r.data},t=function(n){var i,r,s,a;for(n=KP.call(n);n.length%4;)n.push(0);for(s=new lu(n),r=0,i=0,a=n.length;i<a;i=i+=4)r+=s.readUInt32();return 4294967295&r},e}(),DJ={}.hasOwnProperty,ol=function(t,e){for(var n in e)DJ.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Po=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var IJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ol(t,Po),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new lu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),aN=function(){function t(e,n){var i,r,s,a,o,l,c,d,g,m,p,x,b,N,S,j,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=function(){var C,E;for(E=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)E.push(e.readUInt16());return E}(),e.pos+=2,b=function(){var C,E;for(E=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)E.push(e.readUInt16());return E}(),c=function(){var C,E;for(E=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)E.push(e.readUInt16());return E}(),d=function(){var C,E;for(E=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)E.push(e.readUInt16());return E}(),r=(this.length-e.pos+this.offset)/2,o=function(){var C,E;for(E=[],l=C=0;0<=r?C<r:C>r;l=0<=r?++C:--C)E.push(e.readUInt16());return E}(),l=S=0,_=s.length;S<_;l=++S)for(N=s[l],i=j=x=b[l];x<=N?j<=N:j>=N;i=x<=N?++j:--j)d[l]===0?a=i+c[l]:(a=o[d[l]/2+(i-x)-(m-l)]||0)!==0&&(a+=c[l]),this.codeMap[i]=65535&a}e.pos=g}return t.encode=function(e,n){var i,r,s,a,o,l,c,d,g,m,p,x,b,N,S,j,_,C,E,O,U,F,R,M,T,D,$,X,ae,ge,pe,te,Z,ue,Y,z,q,ie,ce,he,K,de,me,Ce,Le,ze;switch(X=new lu,a=Object.keys(e).sort(function(Be,je){return Be-je}),n){case"macroman":for(b=0,N=function(){var Be=[];for(x=0;x<256;++x)Be.push(0);return Be}(),j={0:0},s={},ae=0,Z=a.length;ae<Z;ae++)j[me=e[r=a[ae]]]==null&&(j[me]=++b),s[r]={old:e[r],new:j[e[r]]},N[r]=j[e[r]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(N),{charMap:s,subtable:X.data,maxGlyphID:b+1};case"unicode":for(D=[],g=[],_=0,j={},i={},S=c=null,ge=0,ue=a.length;ge<ue;ge++)j[E=e[r=a[ge]]]==null&&(j[E]=++_),i[r]={old:E,new:j[E]},o=j[E]-r,S!=null&&o===c||(S&&g.push(S),D.push(r),c=o),S=r;for(S&&g.push(S),g.push(65535),D.push(65535),M=2*(R=D.length),F=2*Math.pow(Math.log(R)/Math.LN2,2),m=Math.log(F/2)/Math.LN2,U=2*R-F,l=[],O=[],p=[],x=pe=0,Y=D.length;pe<Y;x=++pe){if(T=D[x],d=g[x],T===65535){l.push(0),O.push(0);break}if(T-($=i[T].new)>=32768)for(l.push(0),O.push(2*(p.length+R-x)),r=te=T;T<=d?te<=d:te>=d;r=T<=d?++te:--te)p.push(i[r].new);else l.push($-T),O.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*R+2*p.length),X.writeUInt16(0),X.writeUInt16(M),X.writeUInt16(F),X.writeUInt16(m),X.writeUInt16(U),K=0,z=g.length;K<z;K++)r=g[K],X.writeUInt16(r);for(X.writeUInt16(0),de=0,q=D.length;de<q;de++)r=D[de],X.writeUInt16(r);for(Ce=0,ie=l.length;Ce<ie;Ce++)o=l[Ce],X.writeUInt16(o);for(Le=0,ce=O.length;Le<ce;Le++)C=O[Le],X.writeUInt16(C);for(ze=0,he=p.length;ze<he;ze++)b=p[ze],X.writeUInt16(b);return{charMap:i,subtable:X.data,maxGlyphID:_+1}}},t}(),qP=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ol(t,Po),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,i,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n=new aN(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var i,r;return n==null&&(n="macroman"),i=aN.encode(e,n),(r=new lu).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},t}(),OJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ol(t,Po),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),BJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ol(t,Po),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(e.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),zJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ol(t,Po),t.prototype.tag="post",t.prototype.parse=function(e){var n,i,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)n=e.readByte(),r.push(this.names.push(e.readString(n)));return r;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),UJ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},VJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ol(t,Po),t.prototype.tag="name",t.prototype.parse=function(e){var n,i,r,s,a,o,l,c,d,g,m;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=d=0,g=i.length;d<g;s=++d)r=i[s],e.pos=r.offset,c=e.readString(r.length),a=new UJ(c,r),l[m=r.nameID]==null&&(l[m]=[]),l[r.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),HJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ol(t,Po),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),$J=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ol(t,Po),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,i,r,s,a,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],n=c=0;0<=r?c<r:c>r;n=0<=r?++c:--c)d.push(e.readInt16());return d}(),this.widths=(function(){var c,d,g,m;for(m=[],c=0,d=(g=this.metrics).length;c<d;c++)s=g[c],m.push(s.advance);return m}).call(this),i=this.widths[this.widths.length-1],l=[],n=a=0;0<=r?a<r:a>r;n=0<=r?++a:--a)l.push(this.widths.push(i));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),KP=[].slice,GJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ol(t,Po),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,i,r,s,a,o,l,c,d,g;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(e),(r=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+i,a=(o=new lu(n.read(r))).readShort(),c=o.readShort(),g=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new qJ(o,c,g,l,d):new WJ(o,a,c,g,l,d),this.cache[e]))},t.prototype.encode=function(e,n,i){var r,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)r=e[n[o]],s.push(a.length),r&&(a=a.concat(r.encode(i)));return s.push(a.length),{table:a,offsets:s}},t}(),WJ=function(){function t(e,n,i,r,s,a){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),qJ=function(){function t(e,n,i,r,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new lu(KP.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),KJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ol(t,Po),t.prototype.tag="loca",t.prototype.parse=function(e){var n,i;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var i=new Uint32Array(this.offsets.length),r=0,s=0,a=0;a<i.length;++a)if(i[a]=r,s<n.length&&n[s]==a){++s,i[a]=r;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(r+=l)}for(var c=new Array(4*i.length),d=0;d<i.length;++d)c[4*d+3]=255&i[d],c[4*d+2]=(65280&i[d])>>8,c[4*d+1]=(16711680&i[d])>>16,c[4*d]=(4278190080&i[d])>>24;return c},t}(),XJ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,r,s;for(n in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[n],e[n]=r[i];return e},t.prototype.glyphsFor=function(e){var n,i,r,s,a,o,l;for(r={},a=0,o=e.length;a<o;a++)r[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],r)(i=r[s])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))i=l[s],r[s]=i;return r},t.prototype.encode=function(e,n){var i,r,s,a,o,l,c,d,g,m,p,x,b,N,S;for(r in i=qP.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},S=i.charMap)p[(l=S[r]).old]=l.new;for(x in m=i.maxGlyphID,a)x in p||(p[x]=m++);return d=function(j){var _,C;for(_ in C={},j)C[j[_]]=_;return C}(p),g=Object.keys(d).sort(function(j,_){return j-_}),b=function(){var j,_,C;for(C=[],j=0,_=g.length;j<_;j++)o=g[j],C.push(d[o]);return C}(),s=this.font.glyf.encode(a,b,p),c=this.font.loca.encode(s.offsets,b),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t}();yt.API.PDFObject=function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,r,s,a;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)i=n[o],c.push(e.convert(i));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in s=["<<"],n)a=n[r],s.push("/"+r+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();function YJ(){const t=J.useRef(null),[e,n]=J.useState([]),[i,r]=J.useState("a4"),[s,a]=J.useState("p"),[o,l]=J.useState(10),[c,d]=J.useState("contain"),[g,m]=J.useState("anh-sang-pdf.pdf"),[p,x]=J.useState(!1),[b,N]=J.useState(!1),S=()=>{var M;return(M=t.current)==null?void 0:M.click()},j=async M=>{const T=Array.from(M.target.files||[]);if(T.length){N(!0);try{const D=T.map($=>({file:$,url:URL.createObjectURL($),name:$.name}));n($=>[...$,...D])}finally{N(!1)}M.target.value=""}},_=M=>{n(T=>{const D=[...T],$=D[M];return $!=null&&$.url&&URL.revokeObjectURL($.url),D.splice(M,1),D})},C=(M,T)=>{n(D=>{const $=[...D],X=M+T;if(X<0||X>=$.length)return $;const ae=$[M];return $[M]=$[X],$[X]=ae,$})},E=M=>{if(!M||!M.trim())return"anh-sang-pdf.pdf";const T=M.trim();return T.toLowerCase().endsWith(".pdf")?T:`${T}.pdf`},O=M=>new Promise((T,D)=>{const $=new FileReader;$.onload=()=>T($.result),$.onerror=D,$.readAsDataURL(M)}),U=M=>new Promise((T,D)=>{const $=new Image;$.onload=()=>T($),$.onerror=()=>D(new Error("Khng c c nh (c th l HEIC/HEIF).")),$.src=M}),F=async(M,T,D,$="contain")=>{const X=await U(M),ae=4,ge=Math.max(1,Math.round(T*ae)),pe=Math.max(1,Math.round(D*ae)),te=document.createElement("canvas");te.width=ge,te.height=pe;const Z=te.getContext("2d");Z.clearRect(0,0,ge,pe);const ue=ge/X.width,Y=pe/X.height;let z,q,ie,ce;if($==="cover"){const he=Math.max(ue,Y);z=X.width*he,q=X.height*he}else{const he=Math.min(ue,Y);z=X.width*he,q=X.height*he}return ie=(ge-z)/2,ce=(pe-q)/2,Z.imageSmoothingQuality="high",Z.drawImage(X,ie,ce,z,q),te.toDataURL("image/png")},R=async()=>{var M;if(e.length){x(!0);try{const T=new yt({unit:"mm",format:i,orientation:s==="p"?"portrait":"landscape"}),D=T.internal.pageSize.getWidth(),$=T.internal.pageSize.getHeight(),X=Math.max(0,D-o*2),ae=Math.max(0,$-o*2);for(let ge=0;ge<e.length;ge++){ge>0&&T.addPage(),T.setFillColor(255,255,255),T.rect(0,0,D,$,"F");try{const pe=await O(e[ge].file),te=await F(pe,X,ae,c);T.addImage(te,"PNG",o,o,X,ae)}catch(pe){console.error(pe),alert(`Khng th thm nh "${(M=e[ge])==null?void 0:M.name}". C th nh dng khng h tr (HEIC/HEIF) hoc nh qu ln.`)}}T.save(E(g))}catch(T){console.error(T),alert("To PDF tht bi. Vui lng th li hoc xem Console  bit chi tit.")}finally{x(!1)}}};return J.useEffect(()=>()=>{e.forEach(M=>M.url&&URL.revokeObjectURL(M.url))},[]),h.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-slate-900 text-center",children:"nh  PDF"}),h.jsx("p",{className:"text-center text-gray-600 mt-2",children:"Gp nhiu nh thnh mt file PDF, chn kh giy, l v cch hin th."}),h.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3",children:[h.jsxs("button",{onClick:S,disabled:b,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:bg-blue-400",children:[h.jsx(wh,{size:18})," ",b?"ang ti...":"Chn nh"]}),h.jsx("input",{ref:t,type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:j}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm text-gray-700",children:"Tn file"}),h.jsx("input",{value:g,onChange:M=>m(M.target.value),className:"border rounded-lg px-3 py-2 w-[260px]",placeholder:"ten-file.pdf"})]})]}),e.length>0&&h.jsxs("div",{className:"mt-6 grid md:grid-cols-[1fr_360px] gap-8",children:[h.jsx("div",{children:h.jsx("ul",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((M,T)=>h.jsxs("li",{className:"rounded-xl border bg-white shadow p-3",children:[h.jsx("div",{className:"aspect-[4/3] bg-gray-50 rounded-lg grid place-items-center overflow-hidden",children:h.jsx("img",{src:M.url,alt:M.name,className:"max-w-full max-h-full object-contain"})}),h.jsx("div",{className:"mt-2 text-xs text-gray-600 truncate",children:M.name}),h.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[h.jsx("button",{onClick:()=>C(T,-1),className:"inline-flex items-center justify-center w-8 h-8 rounded-md border hover:bg-gray-50",title:"Ln",disabled:T===0,children:h.jsx(KM,{size:16})}),h.jsx("button",{onClick:()=>C(T,1),className:"inline-flex items-center justify-center w-8 h-8 rounded-md border hover:bg-gray-50",title:"Xung",disabled:T===e.length-1,children:h.jsx(GM,{size:16})}),h.jsx("button",{onClick:()=>_(T),className:"ml-auto inline-flex items-center justify-center w-8 h-8 rounded-md border hover:bg-red-50 text-red-600",title:"Xo",children:h.jsx(rF,{size:16})})]})]},T))})}),h.jsxs("aside",{className:"rounded-2xl border bg-white shadow p-5 h-fit",children:[h.jsx("div",{className:"font-semibold text-lg",children:"Tu chn PDF"}),h.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[h.jsxs("label",{className:"text-sm",children:[h.jsx("div",{className:"text-gray-700 mb-1",children:"Kh giy"}),h.jsxs("select",{className:"border rounded-lg px-3 py-2 w-full",value:i,onChange:M=>r(M.target.value),children:[h.jsx("option",{value:"a4",children:"A4 (210297mm)"}),h.jsx("option",{value:"letter",children:"Letter (216279mm)"})]})]}),h.jsxs("label",{className:"text-sm",children:[h.jsx("div",{className:"text-gray-700 mb-1",children:"Chiu giy"}),h.jsxs("select",{className:"border rounded-lg px-3 py-2 w-full",value:s,onChange:M=>a(M.target.value),children:[h.jsx("option",{value:"p",children:"Dc (Portrait)"}),h.jsx("option",{value:"l",children:"Ngang (Landscape)"})]})]}),h.jsxs("label",{className:"text-sm",children:[h.jsx("div",{className:"text-gray-700 mb-1",children:"L (mm)"}),h.jsx("input",{type:"number",min:0,max:50,className:"border rounded-lg px-3 py-2 w-full",value:o,onChange:M=>l(Math.max(0,Math.min(50,+M.target.value||0)))})]}),h.jsxs("label",{className:"text-sm",children:[h.jsx("div",{className:"text-gray-700 mb-1",children:"Cch hin th"}),h.jsxs("select",{className:"border rounded-lg px-3 py-2 w-full",value:c,onChange:M=>d(M.target.value),children:[h.jsx("option",{value:"contain",children:"Va khung (c vin trng)"}),h.jsx("option",{value:"cover",children:"y trang (ct bt nu cn)"})]})]})]}),h.jsxs("button",{onClick:R,disabled:!e.length||p,className:`mt-4 w-full inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-white ${!e.length||p?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[h.jsx(O9,{size:18})," ",p?"ang to PDF":"To & Ti v"]})]})]})]})}function QJ({smooth:t=!1}){const{pathname:e,search:n,hash:i}=pu();return J.useEffect(()=>{i||window.scrollTo({top:0,left:0,behavior:t?"smooth":"instant"})},[e,n,i]),null}const JJ=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}};function XP(){const t=ca(),[e,n]=J.useState(!0),[i,r]=J.useState(null);return J.useEffect(()=>{const s=JJ();if(r(s),!s){t("/",{replace:!0});return}n(!1)},[t]),{user:i,loading:e}}const Ay="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),T0="https://trendyframe.me/";function ZJ(){const t=ca(),e=J.useRef(null),{user:n,loading:i}=XP(),[r,s]=J.useState({title:"",url:T0}),[a,o]=J.useState(null),[l,c]=J.useState(null),[d,g]=J.useState(!1),[m,p]=J.useState({}),[x,b]=J.useState(null);J.useEffect(()=>{if(!x)return;const R=setTimeout(()=>b(null),1e4);return()=>clearTimeout(R)},[x]);const N=()=>{const R="abcdefghijklmnopqrstuvwxyz0123456789",M=8+Math.floor(Math.random()*4);let T="";for(let D=0;D<M;D++)T+=R.charAt(Math.floor(Math.random()*R.length));return T},S=async R=>{try{const M=await fetch(`${Ay}/api/frames/check-alias/${R}`,{credentials:"include"});return M.ok?(await M.json()).exists:!1}catch(M){return console.error("Error checking alias:",M),!1}},j=async()=>{let R=N(),M=0;const T=10;for(;M<T;){if(!await S(R))return R;R=N(),M++}return N()+Date.now().toString().slice(-4)},_=R=>{const{name:M,value:T}=R.target;s(D=>({...D,[M]:T})),m[M]&&p(D=>({...D,[M]:""}))},C=R=>{var D;const M=(D=R.target.files)==null?void 0:D[0];if(!M)return;if(M.type!=="image/png"){p($=>({...$,file:"Ch chp nhn file PNG vi nn trong sut"}));return}if(M.size>2*1024*1024){p($=>({...$,file:"File khng c vt qu 2MB"}));return}o(M),p($=>({...$,file:""}));const T=new FileReader;T.onload=$=>{var X;return c((X=$.target)==null?void 0:X.result)},T.readAsDataURL(M)},E=()=>{o(null),c(null),e.current&&(e.current.value="")},O=()=>{const R={},M=r.title.trim();return M?M.length<10&&(R.title="Tiu  phi c t nht 10 k t"):R.title="Tiu  khng c  trng",a||(R.file="Vui lng chn hnh nh khung"),p(R),Object.keys(R).length===0},U=async R=>{if(R.preventDefault(),!!O()){g(!0);try{const M=new FormData;M.append("file",a),M.append("title",r.title);let T=(r.url||"").replace(T0,"").trim();T||(T=await j()),M.append("alias",T);const D=await fetch(`${Ay}/api/frames`,{method:"POST",credentials:"include",body:M});if(!D.ok){const $=await D.text();if(console.error("Server error:",$),$.includes("alias")||$.includes("duplicate")||$.includes("trng")){const X=await j();if(M.set("alias",X),!(await fetch(`${Ay}/api/frames`,{method:"POST",credentials:"include",body:M})).ok)throw new Error("Li khi to khung hnh")}else throw new Error($||"Li khi to khung hnh")}b(r.title.trim()),window.scrollTo({top:0,behavior:"smooth"})}catch(M){console.error("Submit error:",M),p(T=>({...T,submit:M.message||"C li xy ra. Vui lng th li."}))}finally{g(!1)}}},F=(r.url||"").replace(T0,"");return i?h.jsx("div",{className:"min-h-screen grid place-items-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):n?h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-50 to-white py-12",children:[x&&h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-6","aria-live":"polite","aria-atomic":"true",children:h.jsxs("div",{className:"relative rounded-md bg-emerald-100 text-emerald-900 px-4 py-3 ring-1 ring-emerald-200 shadow-sm",children:[h.jsxs("span",{children:["To khung hnh ",h.jsx("strong",{children:x})," thnh cng!"," ",h.jsx("button",{type:"button",className:"underline text-blue-700 hover:text-blue-800",onClick:()=>t("/my-frames"),children:"Xem ti y"}),"."]}),h.jsx("button",{type:"button","aria-label":"ng",className:"absolute right-3 top-1/2 -translate-y-1/2 text-emerald-900/70 hover:text-emerald-900",onClick:()=>b(null),children:h.jsx(_h,{size:16})})]})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-50 text-blue-700 text-sm font-medium ring-1 ring-blue-200/60 shadow-sm mb-3",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600"}),"Trnh to khung hnh"]}),h.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 tracking-tight",children:"TO MI S KIN, HOT NG, CHIN DCH"})]}),h.jsxs("form",{onSubmit:U,className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsxs("section",{className:"bg-white/90 rounded-2xl ring-1 ring-gray-200 shadow-sm p-6",children:[h.jsxs("header",{className:"mb-4",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Hnh khung"}),h.jsx("p",{className:"text-sm text-gray-500",children:"PNG nn trong sut  khuyn ngh 10801080  ti a 2MB"})]}),h.jsxs("div",{onClick:()=>{var R;return(R=e.current)==null?void 0:R.click()},className:["rounded-xl border-2 border-dashed transition-colors cursor-pointer","bg-white grid place-items-center px-6 py-10","hover:border-blue-400 hover:bg-blue-50/40"].join(" "),children:[l?h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"relative inline-block rounded-xl overflow-hidden ring-1 ring-gray-200 shadow-sm",children:[h.jsx("div",{className:"absolute inset-0",style:{background:"conic-gradient(#f3f4f6 25%, transparent 0 50%, #f3f4f6 0 75%, transparent 0) 0 0/18px 18px"}}),h.jsx("img",{src:l,alt:"Preview",className:"relative max-w-full max-h-80 object-contain"}),h.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),E()},title:"Xa nh",className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all duration-200 opacity-90 hover:opacity-100",children:h.jsx(_h,{size:18,strokeWidth:3})})]}),a&&h.jsx("div",{className:"mt-3 text-sm text-gray-600",children:h.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 ring-1 ring-gray-200",children:a.name})}),h.jsx("button",{type:"button",onClick:()=>{var R;return(R=e.current)==null?void 0:R.click()},className:"mt-3 text-blue-700 hover:underline text-sm font-medium",children:"Chn nh khc"})]}):h.jsxs("div",{className:"text-center space-y-3",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 text-white rounded-xl shadow-sm",children:h.jsx(wh,{size:24})}),h.jsx("div",{className:"text-blue-700 font-semibold",children:"Nhp  ti nh PNG ln hoc ko-th"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Ch h tr PNG nn trong sut  ti a 2MB"})]}),h.jsx("input",{ref:e,type:"file",accept:"image/png",onChange:C,className:"hidden"})]}),m.file&&h.jsxs("p",{className:"text-rose-600 text-sm mt-2 flex items-center gap-1",children:[h.jsx(wv,{size:14})," ",m.file]}),h.jsx("div",{className:"mt-6 rounded-xl bg-blue-50/70 ring-1 ring-blue-200/60 p-4 text-sm text-blue-800",children:"Mo: Dng PNG vi vng trong sut  ngi dng thy nh ca h pha sau khung."})]}),h.jsxs("section",{className:"bg-white/90 rounded-2xl ring-1 ring-gray-200 shadow-sm p-6",children:[h.jsx("header",{className:"mb-4",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Thng tin chung"})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:["Tiu  ",h.jsx("span",{className:"text-rose-500",children:"*"})]}),h.jsx("input",{id:"title",name:"title",type:"text",value:r.title,onChange:_,placeholder:"V d: Khung xun 2025  sc hoa o",className:["mt-1 w-full px-4 py-3 rounded-xl border outline-none transition","focus:ring-2 focus:ring-blue-500 focus:border-blue-500",m.title?"border-rose-300 bg-rose-50/40":"border-gray-300"].join(" ")}),h.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs",children:[h.jsx("span",{className:"text-gray-500",children:"Ti thiu 10 k t"}),h.jsxs("span",{className:`font-medium ${r.title.trim().length>=10?"text-green-600":"text-gray-400"}`,children:[r.title.trim().length,"/10"]})]}),m.title&&h.jsxs("p",{className:"text-rose-600 text-sm mt-1 flex items-center gap-1",children:[h.jsx(wv,{size:14})," ",m.title]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700",children:"ng dn (URL)"}),h.jsxs("div",{className:"mt-1 flex",children:[h.jsx("span",{className:"inline-flex items-center px-3 rounded-l-xl border border-r-0 border-gray-300 bg-gray-50 text-gray-600 text-sm",children:T0}),h.jsx("input",{id:"url",name:"url",type:"text",value:F,onChange:R=>s(M=>({...M,url:T0+R.target.value})),placeholder:"ten-khung-hinh",className:"flex-1 px-4 py-3 border border-l-0 rounded-r-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition border-gray-300"})]}),r.url&&F&&h.jsxs("div",{className:"mt-2 text-sm",children:[h.jsx("span",{className:"text-gray-500 mr-2",children:"Xem trc:"}),h.jsx("span",{className:"px-2 py-1 rounded bg-gray-100 ring-1 ring-gray-200 text-gray-800 break-all",children:r.url})]})]}),h.jsx("button",{type:"submit",disabled:d,className:"w-full inline-flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-60 text-white font-semibold px-6 py-4 rounded-xl shadow-blue-600/20 shadow-md transition",children:d?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"ang to khung"]}):h.jsxs(h.Fragment,{children:[h.jsx(vs,{size:20}),"TO KHUNG HNH"]})}),m.submit&&h.jsxs("p",{className:"text-rose-600 text-sm flex items-center gap-1",children:[h.jsx(wv,{size:14})," ",m.submit]})]})]})]})]})]}):null}const E0="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),oN={dang_hoat_dong:{label:"ang hot ng",chip:"bg-emerald-50 text-emerald-700 ring-emerald-200",dot:"bg-emerald-500"},tam_dung:{label:"Tm dng",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"},cho_duyet:{label:"Ch duyt",chip:"bg-amber-50 text-amber-700 ring-amber-200",dot:"bg-amber-500"}},eZ=t=>t?new Date(t).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}):"-",tZ=t=>`https://ui-avatars.com/api/?name=${encodeURIComponent(t||"User")}&background=0D8ABC&color=fff&size=128&bold=true`;function nZ({status:t}){const e=oN[t]||oN.dang_hoat_dong;return h.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium ring-1 ${e.chip}`,children:[h.jsx("span",{className:`size-2 rounded-full ${e.dot}`}),e.label]})}function iZ(){return h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsx(D1,{className:"size-8 animate-spin text-blue-600"}),h.jsx("p",{className:"text-gray-600",children:"ang ti khung hnh..."})]})})}function rZ(){const{id:t}=S3(),e=ca(),[n]=R9(),i=n.get("preview")==="true",[r,s]=J.useState(null),[a,o]=J.useState(!0),[l,c]=J.useState(null),[d,g]=J.useState(!1),[m,p]=J.useState(!1);J.useEffect(()=>{x()},[t]);async function x(){try{o(!0),c(null);const E=await fetch(`${E0}/api/Frames/${t}`,{credentials:"include"});if(E.status===404){c("Khung hnh khng tn ti");return}if(!E.ok)throw new Error(`HTTP ${E.status}`);const O=await E.json();console.log(" Frame detail API response:",O);const U={id:O.id??O.Id,title:O.tieuDe??O.TieuDe??"Khng c tiu ",alias:O.alias??O.Alias,status:O.trangThai??O.TrangThai??"dang_hoat_dong",clicks:O.luotXem??O.LuotXem??0,uses:O.luotTai??O.LuotTai??0,createdAt:O.ngayDang??O.NgayDang,imageUrl:O.urlXemTruoc??O.UrlXemTruoc?C(O.urlXemTruoc??O.UrlXemTruoc):"/placeholder-frame.png",downloadUrl:O.urlXemTruoc??O.UrlXemTruoc?C(O.urlXemTruoc??O.UrlXemTruoc):null,owner:O.owner?{id:O.owner.id??O.owner.Id,name:O.owner.name??O.owner.Name??"n danh",avatar:O.owner.avatar??O.owner.Avatar}:null};s(U),b(),i||N()}catch(E){console.error(" fetchFrameDetail error:",E),c("C li xy ra khi ti khung hnh")}finally{o(!1)}}async function b(){var E;try{const O=await fetch(`${E0}/api/auth/me`,{credentials:"include"});if(O.ok){const U=await O.json();p(U.id===((E=r==null?void 0:r.owner)==null?void 0:E.id))}}catch(O){console.error("checkOwnership error:",O)}}async function N(){try{await fetch(`${E0}/api/Frames/view/${t}`,{method:"POST",credentials:"include"}),console.log(" View incremented")}catch(E){console.error(" incrementView error:",E)}}async function S(){if(r!=null&&r.downloadUrl)try{i||(await fetch(`${E0}/api/Frames/download/${t}`,{method:"POST",credentials:"include"}),console.log(" Download incremented"));const E=document.createElement("a");E.href=r.downloadUrl,E.download=`${r.alias||r.title}.png`,document.body.appendChild(E),E.click(),document.body.removeChild(E),i||s(O=>O?{...O,uses:O.uses+1}:null)}catch(E){console.error(" handleDownload error:",E),alert("C li xy ra khi ti khung hnh")}}async function j(){const E=`${window.location.origin}/editor?alias=${r.alias}`;if(navigator.share)try{await navigator.share({title:r==null?void 0:r.title,text:`Xem khung hnh: ${r==null?void 0:r.title}`,url:E})}catch(O){O.name!=="AbortError"&&_(E)}else _(E)}function _(E){navigator.clipboard.writeText(E).then(()=>{g(!0),setTimeout(()=>g(!1),2e3)}).catch(()=>{const O=document.createElement("textarea");O.value=E,O.style.position="fixed",O.style.opacity="0",document.body.appendChild(O),O.select(),document.execCommand("copy"),document.body.removeChild(O),g(!0),setTimeout(()=>g(!1),2e3)})}function C(E){return!E||E.startsWith("http://")||E.startsWith("https://")?E:`${E0}${E.startsWith("/")?"":"/"}${E}`}return a?h.jsx(iZ,{}):l?h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-6xl mb-4",children:""}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:l}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Khung hnh c th  b xa hoc khng tn ti."}),h.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition",children:[h.jsx(Ax,{size:20}),"V trang ch"]})]})}):r?h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:h.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsxs("button",{onClick:()=>e(-1),className:"inline-flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 font-medium transition",children:[h.jsx(Ax,{size:20}),"Quay li"]}),m&&h.jsxs(On,{to:`/frame/${r.id}/edit`,className:"inline-flex items-center gap-2 px-4 py-2 bg-amber-500 text-white rounded-xl font-semibold hover:bg-amber-600 transition",children:[h.jsx(j3,{size:18}),"Chnh sa"]})]}),h.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"aspect-square overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200 shadow-lg",children:h.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-full object-contain",onError:E=>{E.currentTarget.src="/placeholder-frame.png"}})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:S,disabled:!r.downloadUrl,className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition shadow-lg shadow-blue-500/30",children:[h.jsx(zl,{size:20}),"Ti xung"]}),h.jsxs("button",{onClick:j,className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white text-gray-700 rounded-xl font-semibold hover:bg-gray-50 ring-1 ring-gray-200 transition",children:[d?h.jsx(tR,{size:20,className:"text-green-600"}):h.jsx(YR,{size:20}),d?" sao chp!":"Chia s"]})]}),h.jsxs("button",{onClick:()=>e(`/editor?alias=${r.alias}`),className:"w-full inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition shadow-lg shadow-purple-500/30",children:[h.jsx(TR,{size:20}),"Dng khung ny"]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:r.title}),h.jsx(nZ,{status:r.status})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx("div",{className:"bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl p-4 ring-1 ring-violet-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-white rounded-lg shadow",children:h.jsx(iu,{className:"text-violet-600",size:20})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.clicks.toLocaleString()}),h.jsx("div",{className:"text-sm text-gray-600",children:"Lt xem"})]})]})}),h.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 ring-1 ring-green-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-white rounded-lg shadow",children:h.jsx(zl,{className:"text-green-600",size:20})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.uses.toLocaleString()}),h.jsx("div",{className:"text-sm text-gray-600",children:"Lt ti"})]})]})})]}),r.owner&&h.jsxs("div",{className:"bg-white rounded-xl p-5 ring-1 ring-slate-200 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tc gi"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:r.owner.avatar||tZ(r.owner.name),alt:r.owner.name,className:"size-12 rounded-full object-cover ring-2 ring-white shadow",referrerPolicy:"no-referrer"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold text-gray-900",children:r.owner.name}),h.jsx("div",{className:"text-sm text-gray-600",children:"Ngi to khung hnh"})]})]})]}),h.jsxs("div",{className:"bg-white rounded-xl p-5 ring-1 ring-slate-200 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Thng tin"}),h.jsxs("div",{className:"space-y-3 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[h.jsx(k3,{size:16,className:"text-blue-600"}),h.jsx("span",{className:"font-medium",children:"Ngy to:"}),h.jsx("span",{children:eZ(r.createdAt)})]}),r.alias&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"Alias:"}),h.jsx("code",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:r.alias})]})]})]})]})]})]})}):null}const Em="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),sZ=t=>`https://ui-avatars.com/api/?name=${encodeURIComponent(t||"User")}&background=0D8ABC&color=fff&size=128&bold=true`,Py=t=>t?new Date(t).toLocaleDateString("vi-VN"):"-",lN={active:{label:"ang hot ng",chip:"bg-emerald-50 text-emerald-700 ring-emerald-200",dot:"bg-emerald-500"},inactive:{label:"Tm dng",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"},pending:{label:"Ch duyt",chip:"bg-amber-50 text-amber-700 ring-amber-200",dot:"bg-amber-500"}};function aZ({open:t,title:e,description:n,confirmText:i="Xc nhn",cancelText:r="Hy",onConfirm:s,onClose:a}){return t?h.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 p-4",role:"dialog","aria-modal":"true",children:h.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl ring-1 ring-black/5",children:[h.jsxs("div",{className:"p-5",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),n&&h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n})]}),h.jsxs("div",{className:"flex items-center justify-end gap-3 border-t px-5 py-3",children:[h.jsx("button",{onClick:a,className:"px-3 py-2 text-sm font-medium rounded-lg bg-gray-100 hover:bg-gray-200",children:r}),h.jsx("button",{onClick:s,className:"px-3 py-2 text-sm font-semibold rounded-lg text-white bg-rose-600 hover:bg-rose-700",children:i})]})]})}):null}function oZ({status:t}){const e=lN[t]||lN.active;return h.jsxs("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[11px] font-medium ring-1 ${e.chip}`,children:[h.jsx("span",{className:`size-2 rounded-full ${e.dot}`}),e.label]})}function lZ(){return h.jsx("tr",{className:"animate-pulse",children:Array.from({length:9}).map((t,e)=>h.jsx("td",{className:"py-3 px-3",children:h.jsx("div",{className:"h-4 rounded bg-gray-200"})},e))})}function cZ(){ca();const{user:t,loading:e}=XP(),[n,i]=J.useState([]),[r,s]=J.useState(null),[a,o]=J.useState(""),[l,c]=J.useState("all"),[d,g]=J.useState("updatedAt"),[m,p]=J.useState("desc"),[x,b]=J.useState({open:!1,id:null});J.useEffect(()=>{try{const R=JSON.parse(localStorage.getItem("kh_me")||"null");R&&s(R)}catch{}N(),S()},[]);async function N(){try{const R=await fetch(`${Em}/api/user/profile`,{credentials:"include"});if(R.ok){const M=await R.json(),T={id:M.id||M.Id,name:M.name||M.Name||M.hoTen||M.HoTen,email:M.email||M.Email,picture:M.picture||M.Picture||M.avatar||M.Avatar,createdAt:M.createdAt||M.CreatedAt||M.ngayTao||M.NgayTao};s(T),localStorage.setItem("kh_me",JSON.stringify(T))}else R.status===401&&(localStorage.removeItem("kh_me"),s(null))}catch(R){console.error("Error fetching user profile:",R)}}async function S(){try{const R=await fetch(`${Em}/api/frames/my`,{credentials:"include"});if(R.status===401){i([]);return}if(!R.ok)throw new Error(`HTTP ${R.status}`);const T=(await R.json()||[]).map(D=>({id:D.id??D.Id,title:D.tieuDe??D.TieuDe??"(khng c tiu )",status:j(D.trangThai??D.TrangThai),clicks:D.luotXem??D.LuotXem??0,uses:D.luotTai??D.LuotTai??0,createdAt:D.ngayDang??D.NgayDang,updatedAt:D.ngayChinhSua??D.NgayChinhSua,imageUrl:D.urlXemTruoc??D.UrlXemTruoc?_(D.urlXemTruoc??D.UrlXemTruoc):"/placeholder-frame.png"}));i(T)}catch(R){console.error("fetchMyFrames error:",R),i([])}}function j(R){if(!R)return"active";const M=String(R).toLowerCase();return M.includes("tam")||M.includes("inactive")?"inactive":M.includes("cho")||M.includes("pending")?"pending":"active"}function _(R){return!R||R.startsWith("http://")||R.startsWith("https://")?R:`${Em}${R.startsWith("/")?"":"/"}${R}`}const C=R=>b({open:!0,id:R}),E=()=>b({open:!1,id:null});async function O(){const R=x.id;if(E(),!!R)try{if(!(await fetch(`${Em}/api/frames/${R}`,{method:"DELETE",credentials:"include"})).ok)throw new Error;i(T=>T.filter(D=>D.id!==R))}catch{alert("C li xy ra khi xa khung hnh")}}const U=J.useMemo(()=>{const R=a.trim().toLowerCase(),M=l==="all"?n:n.filter($=>($.status||"active")===l);return[...R?M.filter($=>`${$.title}`.toLowerCase().includes(R)):M].sort(($,X)=>{const ae=m==="asc"?1:-1,ge=Z=>d==="title"?`${Z.title||""}`.toLowerCase():Z[d]||0,pe=ge($),te=ge(X);return pe<te?-1*ae:pe>te?1*ae:0})},[n,a,l,d,m]),F=R=>{R===d?p(M=>M==="asc"?"desc":"asc"):(g(R),p("desc"))};return e?h.jsx("div",{className:"min-h-screen grid place-items-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):t?h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10",children:[h.jsx("aside",{className:"mx-auto max-w-xl",children:h.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white ring-1 ring-slate-200 shadow-sm",children:[h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(80%_60%_at_10%_10%,#e0f2fe_0%,transparent_60%),radial-gradient(80%_60%_at_90%_10%,#dcfce7_0%,transparent_60%)] opacity-60"}),h.jsxs("div",{className:"relative p-6 text-center",children:[h.jsx("img",{src:(r==null?void 0:r.picture)||sZ(r==null?void 0:r.name),alt:"Avatar",className:"mx-auto mb-3 size-24 rounded-full object-cover ring-2 ring-white shadow-lg",referrerPolicy:"no-referrer"}),h.jsx("div",{className:"font-semibold text-gray-900 text-lg",children:(r==null?void 0:r.name)||"Quc Lm"}),h.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Ngy to: ",r!=null&&r.createdAt?Py(r.createdAt):"31/05/2025"]}),h.jsx("div",{className:"mt-2 inline-flex items-center gap-2 rounded-full bg-blue-50 text-blue-700 px-3 py-1 text-xs font-semibold ring-1 ring-blue-200",children:" Cha xc thc"})]})]})}),h.jsx("div",{className:"h-8"}),h.jsxs("div",{className:"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[h.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[h.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-3 grid place-items-center text-gray-400",children:h.jsx(C3,{size:16})}),h.jsx("input",{value:a,onChange:R=>o(R.target.value),placeholder:"Tm theo tiu ...",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm outline-none ring-0 focus:border-blue-400 focus:bg-white"})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:l,onChange:R=>c(R.target.value),className:"appearance-none rounded-xl border border-slate-200 bg-white pl-3 pr-8 py-2 text-sm outline-none focus:border-blue-400",children:[h.jsx("option",{value:"all",children:"Tt c trng thi"}),h.jsx("option",{value:"active",children:"ang hot ng"}),h.jsx("option",{value:"pending",children:"Ch duyt"}),h.jsx("option",{value:"inactive",children:"Tm dng"})]}),h.jsx(Zd,{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",size:16})]})]}),h.jsxs(On,{to:"/create-frame",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-md shadow-blue-600/20 hover:bg-blue-700 active:translate-y-px",children:[h.jsx(Tp,{size:16})," To mi"]})]}),h.jsx("section",{className:"min-w-0",children:h.jsxs("div",{className:"overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200 shadow-sm",children:[h.jsx("div",{className:"max-w-full overflow-x-auto",children:h.jsxs("table",{className:"min-w-[1040px] w-full text-sm",children:[h.jsxs("colgroup",{children:[h.jsx("col",{className:"w-14"}),h.jsx("col",{className:"w-28"}),h.jsx("col",{}),h.jsx("col",{className:"w-44"}),h.jsx("col",{className:"w-28"}),h.jsx("col",{className:"w-32"}),h.jsx("col",{className:"w-36"}),h.jsx("col",{className:"w-40"}),h.jsx("col",{className:"w-44"})]}),h.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/90 backdrop-blur border-b text-slate-700",children:h.jsxs("tr",{className:"[&>th]:py-3 [&>th]:px-3 select-none",children:[h.jsx("th",{className:"text-left",children:"TT"}),h.jsx("th",{className:"text-left",children:"Khung hnh"}),h.jsx("th",{className:"text-left",children:h.jsxs("button",{onClick:()=>F("title"),className:"inline-flex items-center gap-1 font-semibold",children:["Tiu ",d==="title"&&h.jsx("span",{className:"text-xs",children:m==="asc"?"":""})]})}),h.jsx("th",{className:"text-left",children:"Trng thi"}),h.jsx("th",{className:"text-right",children:h.jsxs("button",{onClick:()=>F("clicks"),className:"inline-flex items-center gap-1 font-semibold",children:["Lt click",d==="clicks"&&h.jsx("span",{className:"text-xs",children:m==="asc"?"":""})]})}),h.jsx("th",{className:"text-right",children:h.jsxs("button",{onClick:()=>F("uses"),className:"inline-flex items-center gap-1 font-semibold",children:["Lt thay khung",d==="uses"&&h.jsx("span",{className:"text-xs",children:m==="asc"?"":""})]})}),h.jsx("th",{className:"text-left whitespace-nowrap",children:h.jsxs("button",{onClick:()=>F("createdAt"),className:"inline-flex items-center gap-1 font-semibold",children:["Ngy to",d==="createdAt"&&h.jsx("span",{className:"text-xs",children:m==="asc"?"":""})]})}),h.jsx("th",{className:"text-left whitespace-nowrap",children:h.jsxs("button",{onClick:()=>F("updatedAt"),className:"inline-flex items-center gap-1 font-semibold",children:["Ngy chnh sa",d==="updatedAt"&&h.jsx("span",{className:"text-xs",children:m==="asc"?"":""})]})}),h.jsx("th",{className:"text-left",children:"Hnh ng"})]})}),h.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e&&Array.from({length:6}).map((R,M)=>h.jsx(lZ,{},M)),!e&&U.length===0&&h.jsx("tr",{children:h.jsx("td",{colSpan:9,className:"py-16 text-center",children:h.jsxs("div",{className:"inline-flex flex-col items-center gap-2 text-slate-500",children:[h.jsx("div",{className:"text-5xl",children:""}),h.jsx("div",{className:"text-lg",children:"Cha c khung hnh ph hp"}),h.jsx("p",{className:"text-sm",children:"Hy thay i b lc hoc to khung hnh mi."}),h.jsxs(On,{to:"/create-frame",className:"mt-2 inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-700",children:[h.jsx(Tp,{size:16})," To khung hnh u tin"]})]})})}),!e&&U.map((R,M)=>h.jsxs("tr",{className:"hover:bg-blue-50/40 transition-colors",children:[h.jsx("td",{className:"py-3 px-3 text-slate-600",children:M+1}),h.jsx("td",{className:"py-3 px-3",children:h.jsx(On,{to:`/frame/${R.id}?preview=true`,className:"inline-block",children:h.jsx("div",{className:"size-12 overflow-hidden rounded-lg ring-1 ring-slate-200",children:h.jsx("img",{src:R.imageUrl||"/placeholder-frame.png",alt:R.title,className:"h-full w-full object-cover",loading:"lazy",onError:T=>{T.currentTarget.src="/placeholder-frame.png"}})})})}),h.jsx("td",{className:"py-3 px-3",children:h.jsx(On,{to:`/frame/${R.id}?preview=true`,className:"line-clamp-1 font-medium text-gray-900 hover:text-blue-700",title:R.title,children:R.title||"Khng c tiu "})}),h.jsx("td",{className:"py-3 px-3",children:h.jsx(oZ,{status:R.status})}),h.jsx("td",{className:"py-3 px-3 text-right font-mono text-slate-800",children:R.clicks??0}),h.jsx("td",{className:"py-3 px-3 text-right font-mono text-slate-800",children:R.uses??0}),h.jsx("td",{className:"py-3 px-3 whitespace-nowrap text-slate-700",children:Py(R.createdAt)}),h.jsx("td",{className:"py-3 px-3 whitespace-nowrap text-slate-700",children:Py(R.updatedAt)}),h.jsx("td",{className:"py-3 px-3",children:h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs(On,{to:`/frame/${R.id}?preview=true`,className:"inline-flex items-center gap-1 rounded-lg bg-violet-600 px-3 py-1 text-xs font-semibold text-white hover:bg-violet-700 shadow-sm",children:[h.jsx(iu,{size:14})," Xem"]}),h.jsxs(On,{to:`/frame/${R.id}/edit`,className:"inline-flex items-center gap-1 rounded-lg bg-amber-500 px-3 py-1 text-xs font-semibold text-white hover:bg-amber-600 shadow-sm",children:[h.jsx(GR,{size:14})," Sa"]}),h.jsxs("button",{onClick:()=>C(R.id),className:"inline-flex items-center gap-1 rounded-lg bg-rose-500 px-3 py-1 text-xs font-semibold text-white hover:bg-rose-600 shadow-sm",children:[h.jsx(V9,{size:14})," Xa"]})]})})]},R.id))]})]})}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 border-t bg-slate-50 px-6 py-3 text-xs text-slate-600",children:[h.jsxs("div",{children:["Tng cng: ",h.jsx("span",{className:"font-semibold text-slate-900",children:U.length})," khung hnh"]}),h.jsxs("div",{children:["Sp xp theo ",h.jsx("span",{className:"font-medium",children:{title:"Tiu ",clicks:"Lt click",uses:"Lt thay",createdAt:"Ngy to",updatedAt:"Ngy sa"}[d]})," (",m==="asc"?"tng dn":"gim dn",")"]})]})]})})]}),h.jsx(aZ,{open:x.open,title:"Xa khung hnh?",description:"Hnh ng ny khng th hon tc. Khung hnh s b xa vnh vin.",confirmText:"Xa",onConfirm:O,onClose:E})]}):null}const Mm="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,"");function uZ(){const{id:t}=S3(),e=ca(),[n,i]=J.useState(!0),[r,s]=J.useState(!1),[a,o]=J.useState(null),[l,c]=J.useState({title:"",alias:""}),[d,g]=J.useState(null),[m,p]=J.useState(""),[x,b]=J.useState({checking:!1,available:!0,message:""}),[N,S]=J.useState({}),[j,_]=J.useState({show:!1,type:"",message:""});J.useEffect(()=>{C()},[t]),J.useEffect(()=>{if(!l.alias||l.alias===(a==null?void 0:a.alias)){b({checking:!1,available:!0,message:""});return}const D=setTimeout(E,500);return()=>clearTimeout(D)},[l.alias,a==null?void 0:a.alias]);async function C(){try{i(!0);const D=await fetch(`${Mm}/api/frames/${t}`,{credentials:"include"});if(D.status===404){e("/my-frames",{replace:!0});return}if(!D.ok)throw new Error(`HTTP ${D.status}`);const $=await D.json();o($),c({title:$.tieuDe||$.TieuDe||"",alias:$.alias||$.Alias||""}),p($.urlXemTruoc||$.UrlXemTruoc||"")}catch(D){console.error("Error fetching frame:",D),T("error","Khng th ti thng tin khung hnh"),e("/my-frames",{replace:!0})}finally{i(!1)}}async function E(){if(!(!l.alias||l.alias===(a==null?void 0:a.alias))){b({checking:!0,available:!0,message:"ang kim tra..."});try{const D=await fetch(`${Mm}/api/frames/check-alias/${encodeURIComponent(l.alias)}`);if(D.ok){const{exists:$}=await D.json();b({checking:!1,available:!$,message:$?"Alias  tn ti":"Alias kh dng"})}}catch{b({checking:!1,available:!0,message:"Khng th kim tra alias"})}}}function O(D){const{name:$,value:X}=D.target;c(ae=>({...ae,[$]:X})),N[$]&&S(ae=>({...ae,[$]:""}))}function U(D){var ge;const $=(ge=D.target.files)==null?void 0:ge[0];if(!$)return;const X={};if($.name.toLowerCase().endsWith(".png")?$.size>2*1024*1024&&(X.file="File khng c vt qu 2MB"):X.file="Ch chp nhn file PNG",Object.keys(X).length>0){S(X);return}g($),S(pe=>({...pe,file:""}));const ae=new FileReader;ae.onload=pe=>p(pe.target.result),ae.readAsDataURL($)}function F(){g(null),p((a==null?void 0:a.urlXemTruoc)||(a==null?void 0:a.UrlXemTruoc)||""),S($=>({...$,file:""}));const D=document.getElementById("file-input");D&&(D.value="")}function R(){const D={};return l.title.trim()||(D.title="Vui lng nhp tiu "),l.alias&&!/^[a-z0-9-]+$/.test(l.alias)&&(D.alias="Alias ch cha ch thng, s v du gch ngang"),x.available||(D.alias="Alias  tn ti"),S(D),Object.keys(D).length===0}async function M(D){if(D.preventDefault(),!!R()){s(!0);try{const $=new FormData;$.append("title",l.title.trim()),l.alias&&$.append("alias",l.alias.trim()),d&&$.append("file",d);const X=await fetch(`${Mm}/api/frames/update/${t}`,{method:"POST",credentials:"include",body:$});if(X.status===401){T("error","Phin ng nhp  ht hn");return}if(X.status===404){T("error","Khng tm thy khung hnh hoc bn khng c quyn sa");return}if(X.status===409){S({alias:"Alias  tn ti"});return}if(!X.ok){const ae=await X.text();throw new Error(ae||"Li khng xc nh")}T("success","Cp nht khung hnh thnh cng!"),setTimeout(()=>{e("/my-frames")},1500)}catch($){console.error("Error updating frame:",$),T("error",$.message||"C li xy ra khi cp nht")}finally{s(!1)}}}function T(D,$){_({show:!0,type:D,message:$}),setTimeout(()=>{_({show:!1,type:"",message:""})},5e3)}return n?h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:h.jsx("div",{className:"mx-auto max-w-4xl px-4 py-10",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded mb-8"}),h.jsxs("div",{className:"bg-white rounded-2xl p-8 space-y-6",children:[h.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded"}),h.jsx("div",{className:"h-10 bg-gray-200 rounded"}),h.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded"}),h.jsx("div",{className:"h-10 bg-gray-200 rounded"}),h.jsx("div",{className:"h-48 bg-gray-200 rounded"})]})]})})}):h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[h.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-10",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs(On,{to:"/my-frames",className:"inline-flex items-center gap-2 text-sm font-medium text-gray-600 hover:text-gray-900 mb-4",children:[h.jsx(Ax,{size:16}),"Quay li danh sch"]}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Chnh sa khung hnh"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Cp nht thng tin v hnh nh khung hnh ca bn"})]}),h.jsx("div",{className:"bg-white rounded-2xl ring-1 ring-slate-200 shadow-sm overflow-hidden",children:h.jsxs("form",{onSubmit:M,className:"p-8 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Tiu  khung hnh *"}),h.jsx("input",{type:"text",id:"title",name:"title",value:l.title,onChange:O,placeholder:"Nhp tiu  khung hnh...",className:`w-full px-4 py-3 rounded-xl border text-sm outline-none transition-all ${N.title?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-2 focus:ring-red-200":"border-slate-200 bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-100"}`,maxLength:200}),N.title&&h.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[h.jsx(Sd,{size:14}),N.title]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"alias",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Alias (ty chn)"}),h.jsx("input",{type:"text",id:"alias",name:"alias",value:l.alias,onChange:O,placeholder:"vd: khung-tet-2024",className:`w-full px-4 py-3 rounded-xl border text-sm outline-none transition-all ${N.alias||!x.available&&l.alias?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-2 focus:ring-red-200":x.available&&l.alias&&!x.checking?"border-emerald-300 bg-emerald-50 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200":"border-slate-200 bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-100"}`,maxLength:100}),l.alias&&l.alias!==(a==null?void 0:a.alias)&&h.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm",children:x.checking?h.jsxs(h.Fragment,{children:[h.jsx(D1,{size:14,className:"animate-spin text-blue-600"}),h.jsx("span",{className:"text-blue-600",children:x.message})]}):x.available?h.jsxs(h.Fragment,{children:[h.jsx(m6,{size:14,className:"text-emerald-600"}),h.jsx("span",{className:"text-emerald-600",children:x.message})]}):h.jsxs(h.Fragment,{children:[h.jsx(Sd,{size:14,className:"text-red-600"}),h.jsx("span",{className:"text-red-600",children:x.message})]})}),N.alias&&h.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[h.jsx(Sd,{size:14}),N.alias]}),h.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Alias gip to URL thn thin. Ch s dng ch thng, s v du gch ngang."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"nh khung hnh (ty chn)"}),h.jsxs("div",{className:"space-y-4",children:[m&&h.jsxs("div",{className:"relative inline-block",children:[h.jsx("img",{src:m.startsWith("data:")?m:`${Mm}${m}`,alt:"Preview",className:"h-48 w-auto rounded-lg ring-1 ring-slate-200 object-contain bg-gray-50"}),d&&h.jsx("button",{type:"button",onClick:F,className:"absolute -top-2 -right-2 p-1 rounded-full bg-red-500 text-white hover:bg-red-600 shadow-lg",children:h.jsx(_h,{size:14})})]}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"file",id:"file-input",accept:".png,image/png",onChange:U,className:"sr-only"}),h.jsxs("label",{htmlFor:"file-input",className:`flex items-center justify-center gap-3 w-full px-6 py-4 border-2 border-dashed rounded-xl cursor-pointer transition-all ${N.file?"border-red-300 bg-red-50 hover:border-red-400":"border-slate-300 bg-slate-50 hover:border-blue-400 hover:bg-blue-50"}`,children:[h.jsx(wh,{size:20,className:"text-slate-400"}),h.jsxs("div",{className:"text-sm text-slate-600",children:[h.jsx("span",{className:"font-medium",children:d?"Thay i file khc":"Chn file PNG mi"}),h.jsx("span",{className:"block text-xs text-slate-500 mt-1",children:"PNG vi nn trong sut, ti a 2MB"})]})]})]}),N.file&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx(Sd,{size:14}),N.file]})]})]}),h.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[h.jsx(On,{to:"/my-frames",className:"px-6 py-3 text-sm font-medium rounded-xl bg-gray-100 hover:bg-gray-200 transition-colors",children:"Hy b"}),h.jsx("button",{type:"submit",disabled:r||!x.available,className:"inline-flex items-center gap-2 px-6 py-3 text-sm font-semibold rounded-xl text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:r?h.jsxs(h.Fragment,{children:[h.jsx(D1,{size:16,className:"animate-spin"}),"ang lu..."]}):"Lu thay i"})]})]})})]}),j.show&&h.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm",children:h.jsx("div",{className:`rounded-xl p-4 shadow-lg ring-1 ${j.type==="success"?"bg-emerald-50 text-emerald-800 ring-emerald-200":"bg-red-50 text-red-800 ring-red-200"}`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[j.type==="success"?h.jsx(m6,{size:20,className:"text-emerald-600"}):h.jsx(Sd,{size:20,className:"text-red-600"}),h.jsx("span",{className:"font-medium",children:j.message})]})})})]})}function hZ(){return h.jsxs(EM,{children:[h.jsx(QJ,{}),h.jsxs("div",{className:"flex flex-col min-h-screen",children:[h.jsx(bF,{}),h.jsx("main",{className:"flex-1",children:h.jsxs(SM,{children:[h.jsx(Jr,{path:"/",element:h.jsx(tz,{})}),h.jsx(Jr,{path:"/tools",element:h.jsx(nz,{})}),h.jsx(Jr,{path:"/trending",element:h.jsx(iz,{})}),h.jsx(Jr,{path:"/editor",element:h.jsx(C8,{})}),h.jsx(Jr,{path:"/login",element:h.jsx(P3,{})}),h.jsx(Jr,{path:"/admin",element:h.jsx(tY,{})}),h.jsx(Jr,{path:"/compress",element:h.jsx(rY,{})}),h.jsx(Jr,{path:"/resize",element:h.jsx(sY,{})}),h.jsx(Jr,{path:"/image-to-pdf",element:h.jsx(YJ,{})}),h.jsx(Jr,{path:"/create-frame",element:h.jsx(ZJ,{})}),h.jsx(Jr,{path:"/my-frames",element:h.jsx(cZ,{})}),h.jsx(Jr,{path:"/frame/:id",element:h.jsx(rZ,{})}),h.jsx(Jr,{path:"/frame/:id/edit",element:h.jsx(uZ,{})}),h.jsx(Jr,{path:"/:alias",element:h.jsx(C8,{})}),h.jsx(Jr,{path:"*",element:h.jsx(cA,{})})]})}),h.jsx(wF,{})]})]})}Ly.createRoot(document.getElementById("root")).render(h.jsx(Er.StrictMode,{children:h.jsx(hZ,{})}));export{jn as _,Jb as c,h2 as g};
