var BT=Object.defineProperty;var zT=(t,e,n)=>e in t?BT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var it=(t,e,n)=>zT(t,typeof e!="symbol"?e+"":e,n);function UT(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wk={exports:{}},V2={},_k={exports:{}},rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg=Symbol.for("react.element"),VT=Symbol.for("react.portal"),HT=Symbol.for("react.fragment"),GT=Symbol.for("react.strict_mode"),WT=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),$T=Symbol.for("react.context"),KT=Symbol.for("react.forward_ref"),XT=Symbol.for("react.suspense"),YT=Symbol.for("react.memo"),QT=Symbol.for("react.lazy"),qw=Symbol.iterator;function JT(t){return t===null||typeof t!="object"?null:(t=qw&&t[qw]||t["@@iterator"],typeof t=="function"?t:null)}var Sk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nk=Object.assign,kk={};function Bf(t,e,n){this.props=t,this.context=e,this.refs=kk,this.updater=n||Sk}Bf.prototype.isReactComponent={};Bf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ck(){}Ck.prototype=Bf.prototype;function xb(t,e,n){this.props=t,this.context=e,this.refs=kk,this.updater=n||Sk}var yb=xb.prototype=new Ck;yb.constructor=xb;Nk(yb,Bf.prototype);yb.isPureReactComponent=!0;var $w=Array.isArray,jk=Object.prototype.hasOwnProperty,vb={current:null},Ak={key:!0,ref:!0,__self:!0,__source:!0};function Pk(t,e,n){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)jk.call(e,i)&&!Ak.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:gg,type:t,key:s,ref:a,props:r,_owner:vb.current}}function ZT(t,e){return{$$typeof:gg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bb(t){return typeof t=="object"&&t!==null&&t.$$typeof===gg}function eE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kw=/\/+/g;function Ax(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eE(""+t.key):e.toString(36)}function s1(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case gg:case VT:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+Ax(a,0):i,$w(r)?(n="",t!=null&&(n=t.replace(Kw,"$&/")+"/"),s1(r,e,n,"",function(c){return c})):r!=null&&(bb(r)&&(r=ZT(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(Kw,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",$w(t))for(var o=0;o<t.length;o++){s=t[o];var l=i+Ax(s,o);a+=s1(s,e,n,l,r)}else if(l=JT(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=i+Ax(s,o++),a+=s1(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function sm(t,e,n){if(t==null)return t;var i=[],r=0;return s1(t,i,"","",function(s){return e.call(n,s,r++)}),i}function tE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ws={current:null},a1={transition:null},nE={ReactCurrentDispatcher:ws,ReactCurrentBatchConfig:a1,ReactCurrentOwner:vb};function Lk(){throw Error("act(...) is not supported in production builds of React.")}rn.Children={map:sm,forEach:function(t,e,n){sm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sm(t,function(){e++}),e},toArray:function(t){return sm(t,function(e){return e})||[]},only:function(t){if(!bb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rn.Component=Bf;rn.Fragment=HT;rn.Profiler=WT;rn.PureComponent=xb;rn.StrictMode=GT;rn.Suspense=XT;rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nE;rn.act=Lk;rn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Nk({},t.props),r=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=vb.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)jk.call(e,l)&&!Ak.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:gg,type:t.type,key:r,ref:s,props:i,_owner:a}};rn.createContext=function(t){return t={$$typeof:$T,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qT,_context:t},t.Consumer=t};rn.createElement=Pk;rn.createFactory=function(t){var e=Pk.bind(null,t);return e.type=t,e};rn.createRef=function(){return{current:null}};rn.forwardRef=function(t){return{$$typeof:KT,render:t}};rn.isValidElement=bb;rn.lazy=function(t){return{$$typeof:QT,_payload:{_status:-1,_result:t},_init:tE}};rn.memo=function(t,e){return{$$typeof:YT,type:t,compare:e===void 0?null:e}};rn.startTransition=function(t){var e=a1.transition;a1.transition={};try{t()}finally{a1.transition=e}};rn.unstable_act=Lk;rn.useCallback=function(t,e){return ws.current.useCallback(t,e)};rn.useContext=function(t){return ws.current.useContext(t)};rn.useDebugValue=function(){};rn.useDeferredValue=function(t){return ws.current.useDeferredValue(t)};rn.useEffect=function(t,e){return ws.current.useEffect(t,e)};rn.useId=function(){return ws.current.useId()};rn.useImperativeHandle=function(t,e,n){return ws.current.useImperativeHandle(t,e,n)};rn.useInsertionEffect=function(t,e){return ws.current.useInsertionEffect(t,e)};rn.useLayoutEffect=function(t,e){return ws.current.useLayoutEffect(t,e)};rn.useMemo=function(t,e){return ws.current.useMemo(t,e)};rn.useReducer=function(t,e,n){return ws.current.useReducer(t,e,n)};rn.useRef=function(t){return ws.current.useRef(t)};rn.useState=function(t){return ws.current.useState(t)};rn.useSyncExternalStore=function(t,e,n){return ws.current.useSyncExternalStore(t,e,n)};rn.useTransition=function(){return ws.current.useTransition()};rn.version="18.3.1";_k.exports=rn;var Y=_k.exports;const Mr=U2(Y),iE=UT({__proto__:null,default:Mr},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE=Y,sE=Symbol.for("react.element"),aE=Symbol.for("react.fragment"),oE=Object.prototype.hasOwnProperty,lE=rE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cE={key:!0,ref:!0,__self:!0,__source:!0};function Tk(t,e,n){var i,r={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)oE.call(e,i)&&!cE.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:sE,type:t,key:s,ref:a,props:r,_owner:lE.current}}V2.Fragment=aE;V2.jsx=Tk;V2.jsxs=Tk;wk.exports=V2;var h=wk.exports,pv={},Ek={exports:{}},ma={},Mk={exports:{}},Rk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,ee){var he=J.length;J.push(ee);e:for(;0<he;){var se=he-1>>>1,F=J[se];if(0<r(F,ee))J[se]=ee,J[he]=F,he=se;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var ee=J[0],he=J.pop();if(he!==ee){J[0]=he;e:for(var se=0,F=J.length,q=F>>>1;se<q;){var re=2*(se+1)-1,oe=J[re],de=re+1,X=J[de];if(0>r(oe,he))de<F&&0>r(X,oe)?(J[se]=X,J[de]=he,se=de):(J[se]=oe,J[re]=he,se=re);else if(de<F&&0>r(X,he))J[se]=X,J[de]=he,se=de;else break e}}return ee}function r(J,ee){var he=J.sortIndex-ee.sortIndex;return he!==0?he:J.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,g=null,m=3,p=!1,y=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(J){for(var ee=n(c);ee!==null;){if(ee.callback===null)i(c);else if(ee.startTime<=J)i(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function k(J){if(b=!1,w(J),!y)if(n(l)!==null)y=!0,ce(E);else{var ee=n(c);ee!==null&&pe(k,ee.startTime-J)}}function E(J,ee){y=!1,b&&(b=!1,S(R),R=-1),p=!0;var he=m;try{for(w(ee),g=n(l);g!==null&&(!(g.expirationTime>ee)||J&&!P());){var se=g.callback;if(typeof se=="function"){g.callback=null,m=g.priorityLevel;var F=se(g.expirationTime<=ee);ee=t.unstable_now(),typeof F=="function"?g.callback=F:g===n(l)&&i(l),w(ee)}else i(l);g=n(l)}if(g!==null)var q=!0;else{var re=n(c);re!==null&&pe(k,re.startTime-ee),q=!1}return q}finally{g=null,m=he,p=!1}}var I=!1,U=null,R=-1,B=5,O=-1;function P(){return!(t.unstable_now()-O<B)}function M(){if(U!==null){var J=t.unstable_now();O=J;var ee=!0;try{ee=U(!0,J)}finally{ee?G():(I=!1,U=null)}}else I=!1}var G;if(typeof j=="function")G=function(){j(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Z=W.port2;W.port1.onmessage=M,G=function(){Z.postMessage(null)}}else G=function(){N(M,0)};function ce(J){U=J,I||(I=!0,G())}function pe(J,ee){R=N(function(){J(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,ce(E))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(J){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var he=m;m=ee;try{return J()}finally{m=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ee){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=m;m=J;try{return ee()}finally{m=he}},t.unstable_scheduleCallback=function(J,ee,he){var se=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?se+he:se):he=se,J){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=he+F,J={id:d++,callback:ee,priorityLevel:J,startTime:he,expirationTime:F,sortIndex:-1},he>se?(J.sortIndex=he,e(c,J),n(l)===null&&J===n(c)&&(b?(S(R),R=-1):b=!0,pe(k,he-se))):(J.sortIndex=F,e(l,J),y||p||(y=!0,ce(E))),J},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(J){var ee=m;return function(){var he=m;m=ee;try{return J.apply(this,arguments)}finally{m=he}}}})(Rk);Mk.exports=Rk;var up=Mk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE=Y,fa=up;function Ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fk=new Set,Ep={};function Vh(t,e){wf(t,e),wf(t+"Capture",e)}function wf(t,e){for(Ep[t]=e,t=0;t<e.length;t++)Fk.add(e[t])}var cc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gv=Object.prototype.hasOwnProperty,hE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xw={},Yw={};function dE(t){return gv.call(Yw,t)?!0:gv.call(Xw,t)?!1:hE.test(t)?Yw[t]=!0:(Xw[t]=!0,!1)}function fE(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pE(t,e,n,i){if(e===null||typeof e>"u"||fE(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _s(t,e,n,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fr[t]=new _s(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fr[e]=new _s(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fr[t]=new _s(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fr[t]=new _s(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fr[t]=new _s(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fr[t]=new _s(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fr[t]=new _s(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fr[t]=new _s(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fr[t]=new _s(t,5,!1,t.toLowerCase(),null,!1,!1)});var wb=/[\-:]([a-z])/g;function _b(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wb,_b);Fr[e]=new _s(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wb,_b);Fr[e]=new _s(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wb,_b);Fr[e]=new _s(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fr[t]=new _s(t,1,!1,t.toLowerCase(),null,!1,!1)});Fr.xlinkHref=new _s("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fr[t]=new _s(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sb(t,e,n,i){var r=Fr.hasOwnProperty(e)?Fr[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pE(e,n,r,i)&&(n=null),i||r===null?dE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var pc=uE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,am=Symbol.for("react.element"),Vd=Symbol.for("react.portal"),Hd=Symbol.for("react.fragment"),Nb=Symbol.for("react.strict_mode"),mv=Symbol.for("react.profiler"),Ok=Symbol.for("react.provider"),Dk=Symbol.for("react.context"),kb=Symbol.for("react.forward_ref"),xv=Symbol.for("react.suspense"),yv=Symbol.for("react.suspense_list"),Cb=Symbol.for("react.memo"),Gc=Symbol.for("react.lazy"),Ik=Symbol.for("react.offscreen"),Qw=Symbol.iterator;function P0(t){return t===null||typeof t!="object"?null:(t=Qw&&t[Qw]||t["@@iterator"],typeof t=="function"?t:null)}var gi=Object.assign,Px;function Z0(t){if(Px===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Px=e&&e[1]||""}return`
`+Px+t}var Lx=!1;function Tx(t,e){if(!t||Lx)return"";Lx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Lx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Z0(t):""}function gE(t){switch(t.tag){case 5:return Z0(t.type);case 16:return Z0("Lazy");case 13:return Z0("Suspense");case 19:return Z0("SuspenseList");case 0:case 2:case 15:return t=Tx(t.type,!1),t;case 11:return t=Tx(t.type.render,!1),t;case 1:return t=Tx(t.type,!0),t;default:return""}}function vv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hd:return"Fragment";case Vd:return"Portal";case mv:return"Profiler";case Nb:return"StrictMode";case xv:return"Suspense";case yv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Dk:return(t.displayName||"Context")+".Consumer";case Ok:return(t._context.displayName||"Context")+".Provider";case kb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cb:return e=t.displayName||null,e!==null?e:vv(t.type)||"Memo";case Gc:e=t._payload,t=t._init;try{return vv(t(e))}catch{}}return null}function mE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vv(e);case 8:return e===Nb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xE(t){var e=Bk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function om(t){t._valueTracker||(t._valueTracker=xE(t))}function zk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Bk(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function D1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bv(t,e){var n=e.checked;return gi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jw(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=fu(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Uk(t,e){e=e.checked,e!=null&&Sb(t,"checked",e,!1)}function wv(t,e){Uk(t,e);var n=fu(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_v(t,e.type,n):e.hasOwnProperty("defaultValue")&&_v(t,e.type,fu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _v(t,e,n){(e!=="number"||D1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ep=Array.isArray;function cf(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+fu(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Sv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return gi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e6(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ve(92));if(ep(n)){if(1<n.length)throw Error(Ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fu(n)}}function Vk(t,e){var n=fu(e.value),i=fu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function t6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lm,Gk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lm=lm||document.createElement("div"),lm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yE=["Webkit","ms","Moz","O"];Object.keys(hp).forEach(function(t){yE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hp[e]=hp[t]})});function Wk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hp.hasOwnProperty(t)&&hp[t]?(""+e).trim():e+"px"}function qk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Wk(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var vE=gi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kv(t,e){if(e){if(vE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ve(62))}}function Cv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jv=null;function jb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Av=null,uf=null,hf=null;function n6(t){if(t=yg(t)){if(typeof Av!="function")throw Error(Ve(280));var e=t.stateNode;e&&(e=$2(e),Av(t.stateNode,t.type,e))}}function $k(t){uf?hf?hf.push(t):hf=[t]:uf=t}function Kk(){if(uf){var t=uf,e=hf;if(hf=uf=null,n6(t),e)for(t=0;t<e.length;t++)n6(e[t])}}function Xk(t,e){return t(e)}function Yk(){}var Ex=!1;function Qk(t,e,n){if(Ex)return t(e,n);Ex=!0;try{return Xk(t,e,n)}finally{Ex=!1,(uf!==null||hf!==null)&&(Yk(),Kk())}}function Rp(t,e){var n=t.stateNode;if(n===null)return null;var i=$2(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ve(231,e,typeof n));return n}var Pv=!1;if(cc)try{var L0={};Object.defineProperty(L0,"passive",{get:function(){Pv=!0}}),window.addEventListener("test",L0,L0),window.removeEventListener("test",L0,L0)}catch{Pv=!1}function bE(t,e,n,i,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var dp=!1,I1=null,B1=!1,Lv=null,wE={onError:function(t){dp=!0,I1=t}};function _E(t,e,n,i,r,s,a,o,l){dp=!1,I1=null,bE.apply(wE,arguments)}function SE(t,e,n,i,r,s,a,o,l){if(_E.apply(this,arguments),dp){if(dp){var c=I1;dp=!1,I1=null}else throw Error(Ve(198));B1||(B1=!0,Lv=c)}}function Hh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function i6(t){if(Hh(t)!==t)throw Error(Ve(188))}function NE(t){var e=t.alternate;if(!e){if(e=Hh(t),e===null)throw Error(Ve(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return i6(r),t;if(s===i)return i6(r),e;s=s.sibling}throw Error(Ve(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a)throw Error(Ve(189))}}if(n.alternate!==i)throw Error(Ve(190))}if(n.tag!==3)throw Error(Ve(188));return n.stateNode.current===n?t:e}function Zk(t){return t=NE(t),t!==null?e9(t):null}function e9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=e9(t);if(e!==null)return e;t=t.sibling}return null}var t9=fa.unstable_scheduleCallback,r6=fa.unstable_cancelCallback,kE=fa.unstable_shouldYield,CE=fa.unstable_requestPaint,Di=fa.unstable_now,jE=fa.unstable_getCurrentPriorityLevel,Ab=fa.unstable_ImmediatePriority,n9=fa.unstable_UserBlockingPriority,z1=fa.unstable_NormalPriority,AE=fa.unstable_LowPriority,i9=fa.unstable_IdlePriority,H2=null,fl=null;function PE(t){if(fl&&typeof fl.onCommitFiberRoot=="function")try{fl.onCommitFiberRoot(H2,t,void 0,(t.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:EE,LE=Math.log,TE=Math.LN2;function EE(t){return t>>>=0,t===0?32:31-(LE(t)/TE|0)|0}var cm=64,um=4194304;function tp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function U1(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~r;o!==0?i=tp(o):(s&=a,s!==0&&(i=tp(s)))}else a=n&~r,a!==0?i=tp(a):s!==0&&(i=tp(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Oo(e),r=1<<n,i|=t[n],e&=~r;return i}function ME(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Oo(s),o=1<<a,l=r[a];l===-1?(!(o&n)||o&i)&&(r[a]=ME(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Tv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function r9(){var t=cm;return cm<<=1,!(cm&4194240)&&(cm=64),t}function Mx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Oo(e),t[e]=n}function FE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Oo(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Pb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Oo(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ln=0;function s9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var a9,Lb,o9,l9,c9,Ev=!1,hm=[],iu=null,ru=null,su=null,Fp=new Map,Op=new Map,Kc=[],OE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s6(t,e){switch(t){case"focusin":case"focusout":iu=null;break;case"dragenter":case"dragleave":ru=null;break;case"mouseover":case"mouseout":su=null;break;case"pointerover":case"pointerout":Fp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Op.delete(e.pointerId)}}function T0(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=yg(e),e!==null&&Lb(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function DE(t,e,n,i,r){switch(e){case"focusin":return iu=T0(iu,t,e,n,i,r),!0;case"dragenter":return ru=T0(ru,t,e,n,i,r),!0;case"mouseover":return su=T0(su,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Fp.set(s,T0(Fp.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Op.set(s,T0(Op.get(s)||null,t,e,n,i,r)),!0}return!1}function u9(t){var e=mh(t.target);if(e!==null){var n=Hh(e);if(n!==null){if(e=n.tag,e===13){if(e=Jk(n),e!==null){t.blockedOn=e,c9(t.priority,function(){o9(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function o1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);jv=i,n.target.dispatchEvent(i),jv=null}else return e=yg(n),e!==null&&Lb(e),t.blockedOn=n,!1;e.shift()}return!0}function a6(t,e,n){o1(t)&&n.delete(e)}function IE(){Ev=!1,iu!==null&&o1(iu)&&(iu=null),ru!==null&&o1(ru)&&(ru=null),su!==null&&o1(su)&&(su=null),Fp.forEach(a6),Op.forEach(a6)}function E0(t,e){t.blockedOn===e&&(t.blockedOn=null,Ev||(Ev=!0,fa.unstable_scheduleCallback(fa.unstable_NormalPriority,IE)))}function Dp(t){function e(r){return E0(r,t)}if(0<hm.length){E0(hm[0],t);for(var n=1;n<hm.length;n++){var i=hm[n];i.blockedOn===t&&(i.blockedOn=null)}}for(iu!==null&&E0(iu,t),ru!==null&&E0(ru,t),su!==null&&E0(su,t),Fp.forEach(e),Op.forEach(e),n=0;n<Kc.length;n++)i=Kc[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Kc.length&&(n=Kc[0],n.blockedOn===null);)u9(n),n.blockedOn===null&&Kc.shift()}var df=pc.ReactCurrentBatchConfig,V1=!0;function BE(t,e,n,i){var r=Ln,s=df.transition;df.transition=null;try{Ln=1,Tb(t,e,n,i)}finally{Ln=r,df.transition=s}}function zE(t,e,n,i){var r=Ln,s=df.transition;df.transition=null;try{Ln=4,Tb(t,e,n,i)}finally{Ln=r,df.transition=s}}function Tb(t,e,n,i){if(V1){var r=Mv(t,e,n,i);if(r===null)Hx(t,e,i,H1,n),s6(t,i);else if(DE(r,t,e,n,i))i.stopPropagation();else if(s6(t,i),e&4&&-1<OE.indexOf(t)){for(;r!==null;){var s=yg(r);if(s!==null&&a9(s),s=Mv(t,e,n,i),s===null&&Hx(t,e,i,H1,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Hx(t,e,i,null,n)}}var H1=null;function Mv(t,e,n,i){if(H1=null,t=jb(i),t=mh(t),t!==null)if(e=Hh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return H1=t,null}function h9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jE()){case Ab:return 1;case n9:return 4;case z1:case AE:return 16;case i9:return 536870912;default:return 16}default:return 16}}var Yc=null,Eb=null,l1=null;function d9(){if(l1)return l1;var t,e=Eb,n=e.length,i,r="value"in Yc?Yc.value:Yc.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return l1=r.slice(t,1<i?1-i:void 0)}function c1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dm(){return!0}function o6(){return!1}function xa(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dm:o6,this.isPropagationStopped=o6,this}return gi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dm)},persist:function(){},isPersistent:dm}),e}var zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mb=xa(zf),xg=gi({},zf,{view:0,detail:0}),UE=xa(xg),Rx,Fx,M0,G2=gi({},xg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==M0&&(M0&&t.type==="mousemove"?(Rx=t.screenX-M0.screenX,Fx=t.screenY-M0.screenY):Fx=Rx=0,M0=t),Rx)},movementY:function(t){return"movementY"in t?t.movementY:Fx}}),l6=xa(G2),VE=gi({},G2,{dataTransfer:0}),HE=xa(VE),GE=gi({},xg,{relatedTarget:0}),Ox=xa(GE),WE=gi({},zf,{animationName:0,elapsedTime:0,pseudoElement:0}),qE=xa(WE),$E=gi({},zf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KE=xa($E),XE=gi({},zf,{data:0}),c6=xa(XE),YE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JE[t])?!!e[t]:!1}function Rb(){return ZE}var eM=gi({},xg,{key:function(t){if(t.key){var e=YE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=c1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rb,charCode:function(t){return t.type==="keypress"?c1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?c1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tM=xa(eM),nM=gi({},G2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u6=xa(nM),iM=gi({},xg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rb}),rM=xa(iM),sM=gi({},zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),aM=xa(sM),oM=gi({},G2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lM=xa(oM),cM=[9,13,27,32],Fb=cc&&"CompositionEvent"in window,fp=null;cc&&"documentMode"in document&&(fp=document.documentMode);var uM=cc&&"TextEvent"in window&&!fp,f9=cc&&(!Fb||fp&&8<fp&&11>=fp),h6=" ",d6=!1;function p9(t,e){switch(t){case"keyup":return cM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gd=!1;function hM(t,e){switch(t){case"compositionend":return g9(e);case"keypress":return e.which!==32?null:(d6=!0,h6);case"textInput":return t=e.data,t===h6&&d6?null:t;default:return null}}function dM(t,e){if(Gd)return t==="compositionend"||!Fb&&p9(t,e)?(t=d9(),l1=Eb=Yc=null,Gd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f9&&e.locale!=="ko"?null:e.data;default:return null}}var fM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fM[t.type]:e==="textarea"}function m9(t,e,n,i){$k(i),e=G1(e,"onChange"),0<e.length&&(n=new Mb("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var pp=null,Ip=null;function pM(t){j9(t,0)}function W2(t){var e=$d(t);if(zk(e))return t}function gM(t,e){if(t==="change")return e}var x9=!1;if(cc){var Dx;if(cc){var Ix="oninput"in document;if(!Ix){var p6=document.createElement("div");p6.setAttribute("oninput","return;"),Ix=typeof p6.oninput=="function"}Dx=Ix}else Dx=!1;x9=Dx&&(!document.documentMode||9<document.documentMode)}function g6(){pp&&(pp.detachEvent("onpropertychange",y9),Ip=pp=null)}function y9(t){if(t.propertyName==="value"&&W2(Ip)){var e=[];m9(e,Ip,t,jb(t)),Qk(pM,e)}}function mM(t,e,n){t==="focusin"?(g6(),pp=e,Ip=n,pp.attachEvent("onpropertychange",y9)):t==="focusout"&&g6()}function xM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return W2(Ip)}function yM(t,e){if(t==="click")return W2(e)}function vM(t,e){if(t==="input"||t==="change")return W2(e)}function bM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zo=typeof Object.is=="function"?Object.is:bM;function Bp(t,e){if(zo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!gv.call(e,r)||!zo(t[r],e[r]))return!1}return!0}function m6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x6(t,e){var n=m6(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m6(n)}}function v9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?v9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function b9(){for(var t=window,e=D1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=D1(t.document)}return e}function Ob(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wM(t){var e=b9(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&v9(n.ownerDocument.documentElement,n)){if(i!==null&&Ob(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=x6(n,s);var a=x6(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _M=cc&&"documentMode"in document&&11>=document.documentMode,Wd=null,Rv=null,gp=null,Fv=!1;function y6(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fv||Wd==null||Wd!==D1(i)||(i=Wd,"selectionStart"in i&&Ob(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),gp&&Bp(gp,i)||(gp=i,i=G1(Rv,"onSelect"),0<i.length&&(e=new Mb("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Wd)))}function fm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qd={animationend:fm("Animation","AnimationEnd"),animationiteration:fm("Animation","AnimationIteration"),animationstart:fm("Animation","AnimationStart"),transitionend:fm("Transition","TransitionEnd")},Bx={},w9={};cc&&(w9=document.createElement("div").style,"AnimationEvent"in window||(delete qd.animationend.animation,delete qd.animationiteration.animation,delete qd.animationstart.animation),"TransitionEvent"in window||delete qd.transitionend.transition);function q2(t){if(Bx[t])return Bx[t];if(!qd[t])return t;var e=qd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in w9)return Bx[t]=e[n];return t}var _9=q2("animationend"),S9=q2("animationiteration"),N9=q2("animationstart"),k9=q2("transitionend"),C9=new Map,v6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wu(t,e){C9.set(t,e),Vh(e,[t])}for(var zx=0;zx<v6.length;zx++){var Ux=v6[zx],SM=Ux.toLowerCase(),NM=Ux[0].toUpperCase()+Ux.slice(1);wu(SM,"on"+NM)}wu(_9,"onAnimationEnd");wu(S9,"onAnimationIteration");wu(N9,"onAnimationStart");wu("dblclick","onDoubleClick");wu("focusin","onFocus");wu("focusout","onBlur");wu(k9,"onTransitionEnd");wf("onMouseEnter",["mouseout","mouseover"]);wf("onMouseLeave",["mouseout","mouseover"]);wf("onPointerEnter",["pointerout","pointerover"]);wf("onPointerLeave",["pointerout","pointerover"]);Vh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var np="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kM=new Set("cancel close invalid load scroll toggle".split(" ").concat(np));function b6(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,SE(i,e,void 0,t),t.currentTarget=null}function j9(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;b6(r,o,c),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;b6(r,o,c),s=l}}}if(B1)throw t=Lv,B1=!1,Lv=null,t}function ei(t,e){var n=e[zv];n===void 0&&(n=e[zv]=new Set);var i=t+"__bubble";n.has(i)||(A9(e,t,2,!1),n.add(i))}function Vx(t,e,n){var i=0;e&&(i|=4),A9(n,t,i,e)}var pm="_reactListening"+Math.random().toString(36).slice(2);function zp(t){if(!t[pm]){t[pm]=!0,Fk.forEach(function(n){n!=="selectionchange"&&(kM.has(n)||Vx(n,!1,t),Vx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pm]||(e[pm]=!0,Vx("selectionchange",!1,e))}}function A9(t,e,n,i){switch(h9(e)){case 1:var r=BE;break;case 4:r=zE;break;default:r=Tb}n=r.bind(null,e,n,t),r=void 0,!Pv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Hx(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=mh(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}Qk(function(){var c=s,d=jb(n),g=[];e:{var m=C9.get(t);if(m!==void 0){var p=Mb,y=t;switch(t){case"keypress":if(c1(n)===0)break e;case"keydown":case"keyup":p=tM;break;case"focusin":y="focus",p=Ox;break;case"focusout":y="blur",p=Ox;break;case"beforeblur":case"afterblur":p=Ox;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=l6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=HE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=rM;break;case _9:case S9:case N9:p=qE;break;case k9:p=aM;break;case"scroll":p=UE;break;case"wheel":p=lM;break;case"copy":case"cut":case"paste":p=KE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=u6}var b=(e&4)!==0,N=!b&&t==="scroll",S=b?m!==null?m+"Capture":null:m;b=[];for(var j=c,w;j!==null;){w=j;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,S!==null&&(k=Rp(j,S),k!=null&&b.push(Up(j,k,w)))),N)break;j=j.return}0<b.length&&(m=new p(m,y,null,n,d),g.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==jv&&(y=n.relatedTarget||n.fromElement)&&(mh(y)||y[uc]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?mh(y):null,y!==null&&(N=Hh(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(b=l6,k="onMouseLeave",S="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(b=u6,k="onPointerLeave",S="onPointerEnter",j="pointer"),N=p==null?m:$d(p),w=y==null?m:$d(y),m=new b(k,j+"leave",p,n,d),m.target=N,m.relatedTarget=w,k=null,mh(d)===c&&(b=new b(S,j+"enter",y,n,d),b.target=w,b.relatedTarget=N,k=b),N=k,p&&y)t:{for(b=p,S=y,j=0,w=b;w;w=jd(w))j++;for(w=0,k=S;k;k=jd(k))w++;for(;0<j-w;)b=jd(b),j--;for(;0<w-j;)S=jd(S),w--;for(;j--;){if(b===S||S!==null&&b===S.alternate)break t;b=jd(b),S=jd(S)}b=null}else b=null;p!==null&&w6(g,m,p,b,!1),y!==null&&N!==null&&w6(g,N,y,b,!0)}}e:{if(m=c?$d(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var E=gM;else if(f6(m))if(x9)E=vM;else{E=xM;var I=mM}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=yM);if(E&&(E=E(t,c))){m9(g,E,n,d);break e}I&&I(t,m,c),t==="focusout"&&(I=m._wrapperState)&&I.controlled&&m.type==="number"&&_v(m,"number",m.value)}switch(I=c?$d(c):window,t){case"focusin":(f6(I)||I.contentEditable==="true")&&(Wd=I,Rv=c,gp=null);break;case"focusout":gp=Rv=Wd=null;break;case"mousedown":Fv=!0;break;case"contextmenu":case"mouseup":case"dragend":Fv=!1,y6(g,n,d);break;case"selectionchange":if(_M)break;case"keydown":case"keyup":y6(g,n,d)}var U;if(Fb)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Gd?p9(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(f9&&n.locale!=="ko"&&(Gd||R!=="onCompositionStart"?R==="onCompositionEnd"&&Gd&&(U=d9()):(Yc=d,Eb="value"in Yc?Yc.value:Yc.textContent,Gd=!0)),I=G1(c,R),0<I.length&&(R=new c6(R,t,null,n,d),g.push({event:R,listeners:I}),U?R.data=U:(U=g9(n),U!==null&&(R.data=U)))),(U=uM?hM(t,n):dM(t,n))&&(c=G1(c,"onBeforeInput"),0<c.length&&(d=new c6("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:c}),d.data=U))}j9(g,e)})}function Up(t,e,n){return{instance:t,listener:e,currentTarget:n}}function G1(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Rp(t,n),s!=null&&i.unshift(Up(t,s,r)),s=Rp(t,e),s!=null&&i.push(Up(t,s,r))),t=t.return}return i}function jd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function w6(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,r?(l=Rp(n,s),l!=null&&a.unshift(Up(n,l,o))):r||(l=Rp(n,s),l!=null&&a.push(Up(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var CM=/\r\n?/g,jM=/\u0000|\uFFFD/g;function _6(t){return(typeof t=="string"?t:""+t).replace(CM,`
`).replace(jM,"")}function gm(t,e,n){if(e=_6(e),_6(t)!==e&&n)throw Error(Ve(425))}function W1(){}var Ov=null,Dv=null;function Iv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bv=typeof setTimeout=="function"?setTimeout:void 0,AM=typeof clearTimeout=="function"?clearTimeout:void 0,S6=typeof Promise=="function"?Promise:void 0,PM=typeof queueMicrotask=="function"?queueMicrotask:typeof S6<"u"?function(t){return S6.resolve(null).then(t).catch(LM)}:Bv;function LM(t){setTimeout(function(){throw t})}function Gx(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Dp(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Dp(e)}function au(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function N6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uf=Math.random().toString(36).slice(2),ul="__reactFiber$"+Uf,Vp="__reactProps$"+Uf,uc="__reactContainer$"+Uf,zv="__reactEvents$"+Uf,TM="__reactListeners$"+Uf,EM="__reactHandles$"+Uf;function mh(t){var e=t[ul];if(e)return e;for(var n=t.parentNode;n;){if(e=n[uc]||n[ul]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N6(t);t!==null;){if(n=t[ul])return n;t=N6(t)}return e}t=n,n=t.parentNode}return null}function yg(t){return t=t[ul]||t[uc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $d(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ve(33))}function $2(t){return t[Vp]||null}var Uv=[],Kd=-1;function _u(t){return{current:t}}function ii(t){0>Kd||(t.current=Uv[Kd],Uv[Kd]=null,Kd--)}function qn(t,e){Kd++,Uv[Kd]=t.current,t.current=e}var pu={},rs=_u(pu),zs=_u(!1),Th=pu;function _f(t,e){var n=t.type.contextTypes;if(!n)return pu;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Us(t){return t=t.childContextTypes,t!=null}function q1(){ii(zs),ii(rs)}function k6(t,e,n){if(rs.current!==pu)throw Error(Ve(168));qn(rs,e),qn(zs,n)}function P9(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ve(108,mE(t)||"Unknown",r));return gi({},n,i)}function $1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pu,Th=rs.current,qn(rs,t),qn(zs,zs.current),!0}function C6(t,e,n){var i=t.stateNode;if(!i)throw Error(Ve(169));n?(t=P9(t,e,Th),i.__reactInternalMemoizedMergedChildContext=t,ii(zs),ii(rs),qn(rs,t)):ii(zs),qn(zs,n)}var Zl=null,K2=!1,Wx=!1;function L9(t){Zl===null?Zl=[t]:Zl.push(t)}function MM(t){K2=!0,L9(t)}function Su(){if(!Wx&&Zl!==null){Wx=!0;var t=0,e=Ln;try{var n=Zl;for(Ln=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Zl=null,K2=!1}catch(r){throw Zl!==null&&(Zl=Zl.slice(t+1)),t9(Ab,Su),r}finally{Ln=e,Wx=!1}}return null}var Xd=[],Yd=0,K1=null,X1=0,Wa=[],qa=0,Eh=null,ic=1,rc="";function oh(t,e){Xd[Yd++]=X1,Xd[Yd++]=K1,K1=t,X1=e}function T9(t,e,n){Wa[qa++]=ic,Wa[qa++]=rc,Wa[qa++]=Eh,Eh=t;var i=ic;t=rc;var r=32-Oo(i)-1;i&=~(1<<r),n+=1;var s=32-Oo(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,ic=1<<32-Oo(e)+r|n<<r|i,rc=s+t}else ic=1<<s|n<<r|i,rc=t}function Db(t){t.return!==null&&(oh(t,1),T9(t,1,0))}function Ib(t){for(;t===K1;)K1=Xd[--Yd],Xd[Yd]=null,X1=Xd[--Yd],Xd[Yd]=null;for(;t===Eh;)Eh=Wa[--qa],Wa[qa]=null,rc=Wa[--qa],Wa[qa]=null,ic=Wa[--qa],Wa[qa]=null}var ha=null,la=null,li=!1,Mo=null;function E9(t,e){var n=$a(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function j6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ha=t,la=au(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ha=t,la=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Eh!==null?{id:ic,overflow:rc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$a(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ha=t,la=null,!0):!1;default:return!1}}function Vv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hv(t){if(li){var e=la;if(e){var n=e;if(!j6(t,e)){if(Vv(t))throw Error(Ve(418));e=au(n.nextSibling);var i=ha;e&&j6(t,e)?E9(i,n):(t.flags=t.flags&-4097|2,li=!1,ha=t)}}else{if(Vv(t))throw Error(Ve(418));t.flags=t.flags&-4097|2,li=!1,ha=t}}}function A6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ha=t}function mm(t){if(t!==ha)return!1;if(!li)return A6(t),li=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Iv(t.type,t.memoizedProps)),e&&(e=la)){if(Vv(t))throw M9(),Error(Ve(418));for(;e;)E9(t,e),e=au(e.nextSibling)}if(A6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){la=au(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}la=null}}else la=ha?au(t.stateNode.nextSibling):null;return!0}function M9(){for(var t=la;t;)t=au(t.nextSibling)}function Sf(){la=ha=null,li=!1}function Bb(t){Mo===null?Mo=[t]:Mo.push(t)}var RM=pc.ReactCurrentBatchConfig;function R0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ve(309));var i=n.stateNode}if(!i)throw Error(Ve(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ve(284));if(!n._owner)throw Error(Ve(290,t))}return t}function xm(t,e){throw t=Object.prototype.toString.call(e),Error(Ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P6(t){var e=t._init;return e(t._payload)}function R9(t){function e(S,j){if(t){var w=S.deletions;w===null?(S.deletions=[j],S.flags|=16):w.push(j)}}function n(S,j){if(!t)return null;for(;j!==null;)e(S,j),j=j.sibling;return null}function i(S,j){for(S=new Map;j!==null;)j.key!==null?S.set(j.key,j):S.set(j.index,j),j=j.sibling;return S}function r(S,j){return S=uu(S,j),S.index=0,S.sibling=null,S}function s(S,j,w){return S.index=w,t?(w=S.alternate,w!==null?(w=w.index,w<j?(S.flags|=2,j):w):(S.flags|=2,j)):(S.flags|=1048576,j)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function o(S,j,w,k){return j===null||j.tag!==6?(j=Jx(w,S.mode,k),j.return=S,j):(j=r(j,w),j.return=S,j)}function l(S,j,w,k){var E=w.type;return E===Hd?d(S,j,w.props.children,k,w.key):j!==null&&(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gc&&P6(E)===j.type)?(k=r(j,w.props),k.ref=R0(S,j,w),k.return=S,k):(k=m1(w.type,w.key,w.props,null,S.mode,k),k.ref=R0(S,j,w),k.return=S,k)}function c(S,j,w,k){return j===null||j.tag!==4||j.stateNode.containerInfo!==w.containerInfo||j.stateNode.implementation!==w.implementation?(j=Zx(w,S.mode,k),j.return=S,j):(j=r(j,w.children||[]),j.return=S,j)}function d(S,j,w,k,E){return j===null||j.tag!==7?(j=kh(w,S.mode,k,E),j.return=S,j):(j=r(j,w),j.return=S,j)}function g(S,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Jx(""+j,S.mode,w),j.return=S,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case am:return w=m1(j.type,j.key,j.props,null,S.mode,w),w.ref=R0(S,null,j),w.return=S,w;case Vd:return j=Zx(j,S.mode,w),j.return=S,j;case Gc:var k=j._init;return g(S,k(j._payload),w)}if(ep(j)||P0(j))return j=kh(j,S.mode,w,null),j.return=S,j;xm(S,j)}return null}function m(S,j,w,k){var E=j!==null?j.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:o(S,j,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case am:return w.key===E?l(S,j,w,k):null;case Vd:return w.key===E?c(S,j,w,k):null;case Gc:return E=w._init,m(S,j,E(w._payload),k)}if(ep(w)||P0(w))return E!==null?null:d(S,j,w,k,null);xm(S,w)}return null}function p(S,j,w,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return S=S.get(w)||null,o(j,S,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case am:return S=S.get(k.key===null?w:k.key)||null,l(j,S,k,E);case Vd:return S=S.get(k.key===null?w:k.key)||null,c(j,S,k,E);case Gc:var I=k._init;return p(S,j,w,I(k._payload),E)}if(ep(k)||P0(k))return S=S.get(w)||null,d(j,S,k,E,null);xm(j,k)}return null}function y(S,j,w,k){for(var E=null,I=null,U=j,R=j=0,B=null;U!==null&&R<w.length;R++){U.index>R?(B=U,U=null):B=U.sibling;var O=m(S,U,w[R],k);if(O===null){U===null&&(U=B);break}t&&U&&O.alternate===null&&e(S,U),j=s(O,j,R),I===null?E=O:I.sibling=O,I=O,U=B}if(R===w.length)return n(S,U),li&&oh(S,R),E;if(U===null){for(;R<w.length;R++)U=g(S,w[R],k),U!==null&&(j=s(U,j,R),I===null?E=U:I.sibling=U,I=U);return li&&oh(S,R),E}for(U=i(S,U);R<w.length;R++)B=p(U,S,R,w[R],k),B!==null&&(t&&B.alternate!==null&&U.delete(B.key===null?R:B.key),j=s(B,j,R),I===null?E=B:I.sibling=B,I=B);return t&&U.forEach(function(P){return e(S,P)}),li&&oh(S,R),E}function b(S,j,w,k){var E=P0(w);if(typeof E!="function")throw Error(Ve(150));if(w=E.call(w),w==null)throw Error(Ve(151));for(var I=E=null,U=j,R=j=0,B=null,O=w.next();U!==null&&!O.done;R++,O=w.next()){U.index>R?(B=U,U=null):B=U.sibling;var P=m(S,U,O.value,k);if(P===null){U===null&&(U=B);break}t&&U&&P.alternate===null&&e(S,U),j=s(P,j,R),I===null?E=P:I.sibling=P,I=P,U=B}if(O.done)return n(S,U),li&&oh(S,R),E;if(U===null){for(;!O.done;R++,O=w.next())O=g(S,O.value,k),O!==null&&(j=s(O,j,R),I===null?E=O:I.sibling=O,I=O);return li&&oh(S,R),E}for(U=i(S,U);!O.done;R++,O=w.next())O=p(U,S,R,O.value,k),O!==null&&(t&&O.alternate!==null&&U.delete(O.key===null?R:O.key),j=s(O,j,R),I===null?E=O:I.sibling=O,I=O);return t&&U.forEach(function(M){return e(S,M)}),li&&oh(S,R),E}function N(S,j,w,k){if(typeof w=="object"&&w!==null&&w.type===Hd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case am:e:{for(var E=w.key,I=j;I!==null;){if(I.key===E){if(E=w.type,E===Hd){if(I.tag===7){n(S,I.sibling),j=r(I,w.props.children),j.return=S,S=j;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gc&&P6(E)===I.type){n(S,I.sibling),j=r(I,w.props),j.ref=R0(S,I,w),j.return=S,S=j;break e}n(S,I);break}else e(S,I);I=I.sibling}w.type===Hd?(j=kh(w.props.children,S.mode,k,w.key),j.return=S,S=j):(k=m1(w.type,w.key,w.props,null,S.mode,k),k.ref=R0(S,j,w),k.return=S,S=k)}return a(S);case Vd:e:{for(I=w.key;j!==null;){if(j.key===I)if(j.tag===4&&j.stateNode.containerInfo===w.containerInfo&&j.stateNode.implementation===w.implementation){n(S,j.sibling),j=r(j,w.children||[]),j.return=S,S=j;break e}else{n(S,j);break}else e(S,j);j=j.sibling}j=Zx(w,S.mode,k),j.return=S,S=j}return a(S);case Gc:return I=w._init,N(S,j,I(w._payload),k)}if(ep(w))return y(S,j,w,k);if(P0(w))return b(S,j,w,k);xm(S,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,j!==null&&j.tag===6?(n(S,j.sibling),j=r(j,w),j.return=S,S=j):(n(S,j),j=Jx(w,S.mode,k),j.return=S,S=j),a(S)):n(S,j)}return N}var Nf=R9(!0),F9=R9(!1),Y1=_u(null),Q1=null,Qd=null,zb=null;function Ub(){zb=Qd=Q1=null}function Vb(t){var e=Y1.current;ii(Y1),t._currentValue=e}function Gv(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ff(t,e){Q1=t,zb=Qd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bs=!0),t.firstContext=null)}function Qa(t){var e=t._currentValue;if(zb!==t)if(t={context:t,memoizedValue:e,next:null},Qd===null){if(Q1===null)throw Error(Ve(308));Qd=t,Q1.dependencies={lanes:0,firstContext:t}}else Qd=Qd.next=t;return e}var xh=null;function Hb(t){xh===null?xh=[t]:xh.push(t)}function O9(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Hb(e)):(n.next=r.next,r.next=n),e.interleaved=n,hc(t,i)}function hc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wc=!1;function Gb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ou(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,mn&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,hc(t,n)}return r=i.interleaved,r===null?(e.next=e,Hb(i)):(e.next=r.next,r.next=e),i.interleaved=e,hc(t,n)}function u1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Pb(t,n)}}function L6(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function J1(t,e,n,i){var r=t.updateQueue;Wc=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var g=r.baseState;a=0,d=c=l=null,o=s;do{var m=o.lane,p=o.eventTime;if((i&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,b=o;switch(m=e,p=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){g=y.call(p,g,m);break e}g=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,m=typeof y=="function"?y.call(p,g,m):y,m==null)break e;g=gi({},g,m);break e;case 2:Wc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=r.effects,m===null?r.effects=[o]:m.push(o))}else p={eventTime:p,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=g):d=d.next=p,a|=m;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;m=o,o=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(d===null&&(l=g),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Rh|=a,t.lanes=a,t.memoizedState=g}}function T6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Ve(191,r));r.call(i)}}}var vg={},pl=_u(vg),Hp=_u(vg),Gp=_u(vg);function yh(t){if(t===vg)throw Error(Ve(174));return t}function Wb(t,e){switch(qn(Gp,e),qn(Hp,t),qn(pl,vg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nv(e,t)}ii(pl),qn(pl,e)}function kf(){ii(pl),ii(Hp),ii(Gp)}function I9(t){yh(Gp.current);var e=yh(pl.current),n=Nv(e,t.type);e!==n&&(qn(Hp,t),qn(pl,n))}function qb(t){Hp.current===t&&(ii(pl),ii(Hp))}var di=_u(0);function Z1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qx=[];function $b(){for(var t=0;t<qx.length;t++)qx[t]._workInProgressVersionPrimary=null;qx.length=0}var h1=pc.ReactCurrentDispatcher,$x=pc.ReactCurrentBatchConfig,Mh=0,pi=null,tr=null,gr=null,e2=!1,mp=!1,Wp=0,FM=0;function qr(){throw Error(Ve(321))}function Kb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zo(t[n],e[n]))return!1;return!0}function Xb(t,e,n,i,r,s){if(Mh=s,pi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,h1.current=t===null||t.memoizedState===null?BM:zM,t=n(i,r),mp){s=0;do{if(mp=!1,Wp=0,25<=s)throw Error(Ve(301));s+=1,gr=tr=null,e.updateQueue=null,h1.current=UM,t=n(i,r)}while(mp)}if(h1.current=t2,e=tr!==null&&tr.next!==null,Mh=0,gr=tr=pi=null,e2=!1,e)throw Error(Ve(300));return t}function Yb(){var t=Wp!==0;return Wp=0,t}function ol(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?pi.memoizedState=gr=t:gr=gr.next=t,gr}function Ja(){if(tr===null){var t=pi.alternate;t=t!==null?t.memoizedState:null}else t=tr.next;var e=gr===null?pi.memoizedState:gr.next;if(e!==null)gr=e,tr=t;else{if(t===null)throw Error(Ve(310));tr=t,t={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},gr===null?pi.memoizedState=gr=t:gr=gr.next=t}return gr}function qp(t,e){return typeof e=="function"?e(t):e}function Kx(t){var e=Ja(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var i=tr,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((Mh&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var g={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=g,a=i):l=l.next=g,pi.lanes|=d,Rh|=d}c=c.next}while(c!==null&&c!==s);l===null?a=i:l.next=o,zo(i,e.memoizedState)||(Bs=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,pi.lanes|=s,Rh|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xx(t){var e=Ja(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);zo(s,e.memoizedState)||(Bs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function B9(){}function z9(t,e){var n=pi,i=Ja(),r=e(),s=!zo(i.memoizedState,r);if(s&&(i.memoizedState=r,Bs=!0),i=i.queue,Qb(H9.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||gr!==null&&gr.memoizedState.tag&1){if(n.flags|=2048,$p(9,V9.bind(null,n,i,r,e),void 0,null),xr===null)throw Error(Ve(349));Mh&30||U9(n,e,r)}return r}function U9(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pi.updateQueue,e===null?(e={lastEffect:null,stores:null},pi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function V9(t,e,n,i){e.value=n,e.getSnapshot=i,G9(e)&&W9(t)}function H9(t,e,n){return n(function(){G9(e)&&W9(t)})}function G9(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zo(t,n)}catch{return!0}}function W9(t){var e=hc(t,1);e!==null&&Do(e,t,1,-1)}function E6(t){var e=ol();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:t},e.queue=t,t=t.dispatch=IM.bind(null,pi,t),[e.memoizedState,t]}function $p(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=pi.updateQueue,e===null?(e={lastEffect:null,stores:null},pi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function q9(){return Ja().memoizedState}function d1(t,e,n,i){var r=ol();pi.flags|=t,r.memoizedState=$p(1|e,n,void 0,i===void 0?null:i)}function X2(t,e,n,i){var r=Ja();i=i===void 0?null:i;var s=void 0;if(tr!==null){var a=tr.memoizedState;if(s=a.destroy,i!==null&&Kb(i,a.deps)){r.memoizedState=$p(e,n,s,i);return}}pi.flags|=t,r.memoizedState=$p(1|e,n,s,i)}function M6(t,e){return d1(8390656,8,t,e)}function Qb(t,e){return X2(2048,8,t,e)}function $9(t,e){return X2(4,2,t,e)}function K9(t,e){return X2(4,4,t,e)}function X9(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y9(t,e,n){return n=n!=null?n.concat([t]):null,X2(4,4,X9.bind(null,e,t),n)}function Jb(){}function Q9(t,e){var n=Ja();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Kb(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function J9(t,e){var n=Ja();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Kb(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Z9(t,e,n){return Mh&21?(zo(n,e)||(n=r9(),pi.lanes|=n,Rh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bs=!0),t.memoizedState=n)}function OM(t,e){var n=Ln;Ln=n!==0&&4>n?n:4,t(!0);var i=$x.transition;$x.transition={};try{t(!1),e()}finally{Ln=n,$x.transition=i}}function eC(){return Ja().memoizedState}function DM(t,e,n){var i=cu(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},tC(t))nC(e,n);else if(n=O9(t,e,n,i),n!==null){var r=vs();Do(n,t,i,r),iC(n,e,i)}}function IM(t,e,n){var i=cu(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(tC(t))nC(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,zo(o,a)){var l=e.interleaved;l===null?(r.next=r,Hb(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=O9(t,e,r,i),n!==null&&(r=vs(),Do(n,t,i,r),iC(n,e,i))}}function tC(t){var e=t.alternate;return t===pi||e!==null&&e===pi}function nC(t,e){mp=e2=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iC(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Pb(t,n)}}var t2={readContext:Qa,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},BM={readContext:Qa,useCallback:function(t,e){return ol().memoizedState=[t,e===void 0?null:e],t},useContext:Qa,useEffect:M6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,d1(4194308,4,X9.bind(null,e,t),n)},useLayoutEffect:function(t,e){return d1(4194308,4,t,e)},useInsertionEffect:function(t,e){return d1(4,2,t,e)},useMemo:function(t,e){var n=ol();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ol();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=DM.bind(null,pi,t),[i.memoizedState,t]},useRef:function(t){var e=ol();return t={current:t},e.memoizedState=t},useState:E6,useDebugValue:Jb,useDeferredValue:function(t){return ol().memoizedState=t},useTransition:function(){var t=E6(!1),e=t[0];return t=OM.bind(null,t[1]),ol().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=pi,r=ol();if(li){if(n===void 0)throw Error(Ve(407));n=n()}else{if(n=e(),xr===null)throw Error(Ve(349));Mh&30||U9(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,M6(H9.bind(null,i,s,t),[t]),i.flags|=2048,$p(9,V9.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=ol(),e=xr.identifierPrefix;if(li){var n=rc,i=ic;n=(i&~(1<<32-Oo(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zM={readContext:Qa,useCallback:Q9,useContext:Qa,useEffect:Qb,useImperativeHandle:Y9,useInsertionEffect:$9,useLayoutEffect:K9,useMemo:J9,useReducer:Kx,useRef:q9,useState:function(){return Kx(qp)},useDebugValue:Jb,useDeferredValue:function(t){var e=Ja();return Z9(e,tr.memoizedState,t)},useTransition:function(){var t=Kx(qp)[0],e=Ja().memoizedState;return[t,e]},useMutableSource:B9,useSyncExternalStore:z9,useId:eC,unstable_isNewReconciler:!1},UM={readContext:Qa,useCallback:Q9,useContext:Qa,useEffect:Qb,useImperativeHandle:Y9,useInsertionEffect:$9,useLayoutEffect:K9,useMemo:J9,useReducer:Xx,useRef:q9,useState:function(){return Xx(qp)},useDebugValue:Jb,useDeferredValue:function(t){var e=Ja();return tr===null?e.memoizedState=t:Z9(e,tr.memoizedState,t)},useTransition:function(){var t=Xx(qp)[0],e=Ja().memoizedState;return[t,e]},useMutableSource:B9,useSyncExternalStore:z9,useId:eC,unstable_isNewReconciler:!1};function To(t,e){if(t&&t.defaultProps){e=gi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wv(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:gi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Y2={isMounted:function(t){return(t=t._reactInternals)?Hh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=vs(),r=cu(t),s=sc(i,r);s.payload=e,n!=null&&(s.callback=n),e=ou(t,s,r),e!==null&&(Do(e,t,r,i),u1(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=vs(),r=cu(t),s=sc(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ou(t,s,r),e!==null&&(Do(e,t,r,i),u1(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vs(),i=cu(t),r=sc(n,i);r.tag=2,e!=null&&(r.callback=e),e=ou(t,r,i),e!==null&&(Do(e,t,i,n),u1(e,t,i))}};function R6(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Bp(n,i)||!Bp(r,s):!0}function rC(t,e,n){var i=!1,r=pu,s=e.contextType;return typeof s=="object"&&s!==null?s=Qa(s):(r=Us(e)?Th:rs.current,i=e.contextTypes,s=(i=i!=null)?_f(t,r):pu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Y2,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function F6(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Y2.enqueueReplaceState(e,e.state,null)}function qv(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Gb(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Qa(s):(s=Us(e)?Th:rs.current,r.context=_f(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wv(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Y2.enqueueReplaceState(r,r.state,null),J1(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Cf(t,e){try{var n="",i=e;do n+=gE(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Yx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $v(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VM=typeof WeakMap=="function"?WeakMap:Map;function sC(t,e,n){n=sc(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){i2||(i2=!0,i4=i),$v(t,e)},n}function aC(t,e,n){n=sc(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){$v(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$v(t,e),typeof i!="function"&&(lu===null?lu=new Set([this]):lu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function O6(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new VM;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=nR.bind(null,t,e,n),e.then(t,t))}function D6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function I6(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=sc(-1,1),e.tag=2,ou(n,e,1))),n.lanes|=1),t)}var HM=pc.ReactCurrentOwner,Bs=!1;function ys(t,e,n,i){e.child=t===null?F9(e,null,n,i):Nf(e,t.child,n,i)}function B6(t,e,n,i,r){n=n.render;var s=e.ref;return ff(e,r),i=Xb(t,e,n,i,s,r),n=Yb(),t!==null&&!Bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,dc(t,e,r)):(li&&n&&Db(e),e.flags|=1,ys(t,e,i,r),e.child)}function z6(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!a3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,oC(t,e,s,i,r)):(t=m1(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bp,n(a,i)&&t.ref===e.ref)return dc(t,e,r)}return e.flags|=1,t=uu(s,i),t.ref=e.ref,t.return=e,e.child=t}function oC(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Bp(s,i)&&t.ref===e.ref)if(Bs=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Bs=!0);else return e.lanes=t.lanes,dc(t,e,r)}return Kv(t,e,n,i,r)}function lC(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(Zd,oa),oa|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qn(Zd,oa),oa|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,qn(Zd,oa),oa|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,qn(Zd,oa),oa|=i;return ys(t,e,r,n),e.child}function cC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kv(t,e,n,i,r){var s=Us(n)?Th:rs.current;return s=_f(e,s),ff(e,r),n=Xb(t,e,n,i,s,r),i=Yb(),t!==null&&!Bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,dc(t,e,r)):(li&&i&&Db(e),e.flags|=1,ys(t,e,n,r),e.child)}function U6(t,e,n,i,r){if(Us(n)){var s=!0;$1(e)}else s=!1;if(ff(e,r),e.stateNode===null)f1(t,e),rC(e,n,i),qv(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qa(c):(c=Us(n)?Th:rs.current,c=_f(e,c));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==c)&&F6(e,a,i,c),Wc=!1;var m=e.memoizedState;a.state=m,J1(e,i,a,r),l=e.memoizedState,o!==i||m!==l||zs.current||Wc?(typeof d=="function"&&(Wv(e,n,d,i),l=e.memoizedState),(o=Wc||R6(e,n,o,i,m,l,c))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,D9(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:To(e.type,o),a.props=c,g=e.pendingProps,m=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qa(l):(l=Us(n)?Th:rs.current,l=_f(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==g||m!==l)&&F6(e,a,i,l),Wc=!1,m=e.memoizedState,a.state=m,J1(e,i,a,r);var y=e.memoizedState;o!==g||m!==y||zs.current||Wc?(typeof p=="function"&&(Wv(e,n,p,i),y=e.memoizedState),(c=Wc||R6(e,n,c,i,m,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),a.props=i,a.state=y,a.context=l,i=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return Xv(t,e,n,i,s,r)}function Xv(t,e,n,i,r,s){cC(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&C6(e,n,!1),dc(t,e,s);i=e.stateNode,HM.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=Nf(e,t.child,null,s),e.child=Nf(e,null,o,s)):ys(t,e,o,s),e.memoizedState=i.state,r&&C6(e,n,!0),e.child}function uC(t){var e=t.stateNode;e.pendingContext?k6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&k6(t,e.context,!1),Wb(t,e.containerInfo)}function V6(t,e,n,i,r){return Sf(),Bb(r),e.flags|=256,ys(t,e,n,i),e.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Qv(t){return{baseLanes:t,cachePool:null,transitions:null}}function hC(t,e,n){var i=e.pendingProps,r=di.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),qn(di,r&1),t===null)return Hv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Z2(a,i,0,null),t=kh(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qv(n),e.memoizedState=Yv,t):Zb(e,a));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return GM(t,e,a,i,o,r,n);if(s){s=i.fallback,a=e.mode,r=t.child,o=r.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=uu(r,l),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=uu(o,s):(s=kh(s,a,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=t.child.memoizedState,a=a===null?Qv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Yv,i}return s=t.child,t=s.sibling,i=uu(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Zb(t,e){return e=Z2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ym(t,e,n,i){return i!==null&&Bb(i),Nf(e,t.child,null,n),t=Zb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GM(t,e,n,i,r,s,a){if(n)return e.flags&256?(e.flags&=-257,i=Yx(Error(Ve(422))),ym(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Z2({mode:"visible",children:i.children},r,0,null),s=kh(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Nf(e,t.child,null,a),e.child.memoizedState=Qv(a),e.memoizedState=Yv,s);if(!(e.mode&1))return ym(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(Ve(419)),i=Yx(s,i,void 0),ym(t,e,a,i)}if(o=(a&t.childLanes)!==0,Bs||o){if(i=xr,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,hc(t,r),Do(i,t,r,-1))}return s3(),i=Yx(Error(Ve(421))),ym(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=iR.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,la=au(r.nextSibling),ha=e,li=!0,Mo=null,t!==null&&(Wa[qa++]=ic,Wa[qa++]=rc,Wa[qa++]=Eh,ic=t.id,rc=t.overflow,Eh=e),e=Zb(e,i.children),e.flags|=4096,e)}function H6(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Gv(t.return,e,n)}function Qx(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function dC(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(ys(t,e,i.children,n),i=di.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H6(t,n,e);else if(t.tag===19)H6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(qn(di,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Z1(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Qx(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Z1(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Qx(e,!0,n,null,s);break;case"together":Qx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function f1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ve(153));if(e.child!==null){for(t=e.child,n=uu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=uu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WM(t,e,n){switch(e.tag){case 3:uC(e),Sf();break;case 5:I9(e);break;case 1:Us(e.type)&&$1(e);break;case 4:Wb(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;qn(Y1,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(qn(di,di.current&1),e.flags|=128,null):n&e.child.childLanes?hC(t,e,n):(qn(di,di.current&1),t=dc(t,e,n),t!==null?t.sibling:null);qn(di,di.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return dC(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),qn(di,di.current),i)break;return null;case 22:case 23:return e.lanes=0,lC(t,e,n)}return dc(t,e,n)}var fC,Jv,pC,gC;fC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jv=function(){};pC=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,yh(pl.current);var s=null;switch(n){case"input":r=bv(t,r),i=bv(t,i),s=[];break;case"select":r=gi({},r,{value:void 0}),i=gi({},i,{value:void 0}),s=[];break;case"textarea":r=Sv(t,r),i=Sv(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=W1)}kv(n,i);var a;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ep.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(o=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ep.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ei("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};gC=function(t,e,n,i){n!==i&&(e.flags|=4)};function F0(t,e){if(!li)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function $r(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function qM(t,e,n){var i=e.pendingProps;switch(Ib(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(e),null;case 1:return Us(e.type)&&q1(),$r(e),null;case 3:return i=e.stateNode,kf(),ii(zs),ii(rs),$b(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(mm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mo!==null&&(a4(Mo),Mo=null))),Jv(t,e),$r(e),null;case 5:qb(e);var r=yh(Gp.current);if(n=e.type,t!==null&&e.stateNode!=null)pC(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ve(166));return $r(e),null}if(t=yh(pl.current),mm(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[ul]=e,i[Vp]=s,t=(e.mode&1)!==0,n){case"dialog":ei("cancel",i),ei("close",i);break;case"iframe":case"object":case"embed":ei("load",i);break;case"video":case"audio":for(r=0;r<np.length;r++)ei(np[r],i);break;case"source":ei("error",i);break;case"img":case"image":case"link":ei("error",i),ei("load",i);break;case"details":ei("toggle",i);break;case"input":Jw(i,s),ei("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ei("invalid",i);break;case"textarea":e6(i,s),ei("invalid",i)}kv(n,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&gm(i.textContent,o,t),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&gm(i.textContent,o,t),r=["children",""+o]):Ep.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ei("scroll",i)}switch(n){case"input":om(i),Zw(i,s,!0);break;case"textarea":om(i),t6(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=W1)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[ul]=e,t[Vp]=i,fC(t,e,!1,!1),e.stateNode=t;e:{switch(a=Cv(n,i),n){case"dialog":ei("cancel",t),ei("close",t),r=i;break;case"iframe":case"object":case"embed":ei("load",t),r=i;break;case"video":case"audio":for(r=0;r<np.length;r++)ei(np[r],t);r=i;break;case"source":ei("error",t),r=i;break;case"img":case"image":case"link":ei("error",t),ei("load",t),r=i;break;case"details":ei("toggle",t),r=i;break;case"input":Jw(t,i),r=bv(t,i),ei("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=gi({},i,{value:void 0}),ei("invalid",t);break;case"textarea":e6(t,i),r=Sv(t,i),ei("invalid",t);break;default:r=i}kv(n,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?qk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Gk(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mp(t,l):typeof l=="number"&&Mp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ep.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ei("scroll",t):l!=null&&Sb(t,s,l,a))}switch(n){case"input":om(t),Zw(t,i,!1);break;case"textarea":om(t),t6(t);break;case"option":i.value!=null&&t.setAttribute("value",""+fu(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?cf(t,!!i.multiple,s,!1):i.defaultValue!=null&&cf(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=W1)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $r(e),null;case 6:if(t&&e.stateNode!=null)gC(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ve(166));if(n=yh(Gp.current),yh(pl.current),mm(e)){if(i=e.stateNode,n=e.memoizedProps,i[ul]=e,(s=i.nodeValue!==n)&&(t=ha,t!==null))switch(t.tag){case 3:gm(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gm(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ul]=e,e.stateNode=i}return $r(e),null;case 13:if(ii(di),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(li&&la!==null&&e.mode&1&&!(e.flags&128))M9(),Sf(),e.flags|=98560,s=!1;else if(s=mm(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(Ve(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ve(317));s[ul]=e}else Sf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$r(e),s=!1}else Mo!==null&&(a4(Mo),Mo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||di.current&1?ir===0&&(ir=3):s3())),e.updateQueue!==null&&(e.flags|=4),$r(e),null);case 4:return kf(),Jv(t,e),t===null&&zp(e.stateNode.containerInfo),$r(e),null;case 10:return Vb(e.type._context),$r(e),null;case 17:return Us(e.type)&&q1(),$r(e),null;case 19:if(ii(di),s=e.memoizedState,s===null)return $r(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)F0(s,!1);else{if(ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Z1(t),a!==null){for(e.flags|=128,F0(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qn(di,di.current&1|2),e.child}t=t.sibling}s.tail!==null&&Di()>jf&&(e.flags|=128,i=!0,F0(s,!1),e.lanes=4194304)}else{if(!i)if(t=Z1(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),F0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!li)return $r(e),null}else 2*Di()-s.renderingStartTime>jf&&n!==1073741824&&(e.flags|=128,i=!0,F0(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Di(),e.sibling=null,n=di.current,qn(di,i?n&1|2:n&1),e):($r(e),null);case 22:case 23:return r3(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?oa&1073741824&&($r(e),e.subtreeFlags&6&&(e.flags|=8192)):$r(e),null;case 24:return null;case 25:return null}throw Error(Ve(156,e.tag))}function $M(t,e){switch(Ib(e),e.tag){case 1:return Us(e.type)&&q1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kf(),ii(zs),ii(rs),$b(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qb(e),null;case 13:if(ii(di),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ve(340));Sf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ii(di),null;case 4:return kf(),null;case 10:return Vb(e.type._context),null;case 22:case 23:return r3(),null;case 24:return null;default:return null}}var vm=!1,es=!1,KM=typeof WeakSet=="function"?WeakSet:Set,at=null;function Jd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ji(t,e,i)}else n.current=null}function Zv(t,e,n){try{n()}catch(i){ji(t,e,i)}}var G6=!1;function XM(t,e){if(Ov=V1,t=b9(),Ob(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,d=0,g=t,m=null;t:for(;;){for(var p;g!==n||r!==0&&g.nodeType!==3||(o=a+r),g!==s||i!==0&&g.nodeType!==3||(l=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(p=g.firstChild)!==null;)m=g,g=p;for(;;){if(g===t)break t;if(m===n&&++c===r&&(o=a),m===s&&++d===i&&(l=a),(p=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dv={focusedElem:t,selectionRange:n},V1=!1,at=e;at!==null;)if(e=at,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,at=t;else for(;at!==null;){e=at;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,N=y.memoizedState,S=e.stateNode,j=S.getSnapshotBeforeUpdate(e.elementType===e.type?b:To(e.type,b),N);S.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(k){ji(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,at=t;break}at=e.return}return y=G6,G6=!1,y}function xp(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Zv(e,n,s)}r=r.next}while(r!==i)}}function Q2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function e4(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mC(t){var e=t.alternate;e!==null&&(t.alternate=null,mC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ul],delete e[Vp],delete e[zv],delete e[TM],delete e[EM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xC(t){return t.tag===5||t.tag===3||t.tag===4}function W6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function t4(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=W1));else if(i!==4&&(t=t.child,t!==null))for(t4(t,e,n),t=t.sibling;t!==null;)t4(t,e,n),t=t.sibling}function n4(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(n4(t,e,n),t=t.sibling;t!==null;)n4(t,e,n),t=t.sibling}var Tr=null,Eo=!1;function Dc(t,e,n){for(n=n.child;n!==null;)yC(t,e,n),n=n.sibling}function yC(t,e,n){if(fl&&typeof fl.onCommitFiberUnmount=="function")try{fl.onCommitFiberUnmount(H2,n)}catch{}switch(n.tag){case 5:es||Jd(n,e);case 6:var i=Tr,r=Eo;Tr=null,Dc(t,e,n),Tr=i,Eo=r,Tr!==null&&(Eo?(t=Tr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tr.removeChild(n.stateNode));break;case 18:Tr!==null&&(Eo?(t=Tr,n=n.stateNode,t.nodeType===8?Gx(t.parentNode,n):t.nodeType===1&&Gx(t,n),Dp(t)):Gx(Tr,n.stateNode));break;case 4:i=Tr,r=Eo,Tr=n.stateNode.containerInfo,Eo=!0,Dc(t,e,n),Tr=i,Eo=r;break;case 0:case 11:case 14:case 15:if(!es&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Zv(n,e,a),r=r.next}while(r!==i)}Dc(t,e,n);break;case 1:if(!es&&(Jd(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){ji(n,e,o)}Dc(t,e,n);break;case 21:Dc(t,e,n);break;case 22:n.mode&1?(es=(i=es)||n.memoizedState!==null,Dc(t,e,n),es=i):Dc(t,e,n);break;default:Dc(t,e,n)}}function q6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KM),e.forEach(function(i){var r=rR.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function jo(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Tr=o.stateNode,Eo=!1;break e;case 3:Tr=o.stateNode.containerInfo,Eo=!0;break e;case 4:Tr=o.stateNode.containerInfo,Eo=!0;break e}o=o.return}if(Tr===null)throw Error(Ve(160));yC(s,a,r),Tr=null,Eo=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){ji(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vC(e,t),e=e.sibling}function vC(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jo(e,t),tl(t),i&4){try{xp(3,t,t.return),Q2(3,t)}catch(b){ji(t,t.return,b)}try{xp(5,t,t.return)}catch(b){ji(t,t.return,b)}}break;case 1:jo(e,t),tl(t),i&512&&n!==null&&Jd(n,n.return);break;case 5:if(jo(e,t),tl(t),i&512&&n!==null&&Jd(n,n.return),t.flags&32){var r=t.stateNode;try{Mp(r,"")}catch(b){ji(t,t.return,b)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Uk(r,s),Cv(o,a);var c=Cv(o,s);for(a=0;a<l.length;a+=2){var d=l[a],g=l[a+1];d==="style"?qk(r,g):d==="dangerouslySetInnerHTML"?Gk(r,g):d==="children"?Mp(r,g):Sb(r,d,g,c)}switch(o){case"input":wv(r,s);break;case"textarea":Vk(r,s);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?cf(r,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?cf(r,!!s.multiple,s.defaultValue,!0):cf(r,!!s.multiple,s.multiple?[]:"",!1))}r[Vp]=s}catch(b){ji(t,t.return,b)}}break;case 6:if(jo(e,t),tl(t),i&4){if(t.stateNode===null)throw Error(Ve(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(b){ji(t,t.return,b)}}break;case 3:if(jo(e,t),tl(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Dp(e.containerInfo)}catch(b){ji(t,t.return,b)}break;case 4:jo(e,t),tl(t);break;case 13:jo(e,t),tl(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(n3=Di())),i&4&&q6(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(es=(c=es)||d,jo(e,t),es=c):jo(e,t),tl(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(at=t,d=t.child;d!==null;){for(g=at=d;at!==null;){switch(m=at,p=m.child,m.tag){case 0:case 11:case 14:case 15:xp(4,m,m.return);break;case 1:Jd(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){i=m,n=m.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){ji(i,n,b)}}break;case 5:Jd(m,m.return);break;case 22:if(m.memoizedState!==null){K6(g);continue}}p!==null?(p.return=m,at=p):K6(g)}d=d.sibling}e:for(d=null,g=t;;){if(g.tag===5){if(d===null){d=g;try{r=g.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=g.stateNode,l=g.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Wk("display",a))}catch(b){ji(t,t.return,b)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(b){ji(t,t.return,b)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:jo(e,t),tl(t),i&4&&q6(t);break;case 21:break;default:jo(e,t),tl(t)}}function tl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xC(n)){var i=n;break e}n=n.return}throw Error(Ve(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Mp(r,""),i.flags&=-33);var s=W6(t);n4(t,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=W6(t);t4(t,o,a);break;default:throw Error(Ve(161))}}catch(l){ji(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YM(t,e,n){at=t,bC(t)}function bC(t,e,n){for(var i=(t.mode&1)!==0;at!==null;){var r=at,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||vm;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||es;o=vm;var c=es;if(vm=a,(es=l)&&!c)for(at=r;at!==null;)a=at,l=a.child,a.tag===22&&a.memoizedState!==null?X6(r):l!==null?(l.return=a,at=l):X6(r);for(;s!==null;)at=s,bC(s),s=s.sibling;at=r,vm=o,es=c}$6(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,at=s):$6(t)}}function $6(t){for(;at!==null;){var e=at;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:es||Q2(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!es)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:To(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&T6(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}T6(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&Dp(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}es||e.flags&512&&e4(e)}catch(m){ji(e,e.return,m)}}if(e===t){at=null;break}if(n=e.sibling,n!==null){n.return=e.return,at=n;break}at=e.return}}function K6(t){for(;at!==null;){var e=at;if(e===t){at=null;break}var n=e.sibling;if(n!==null){n.return=e.return,at=n;break}at=e.return}}function X6(t){for(;at!==null;){var e=at;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Q2(4,e)}catch(l){ji(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){ji(e,r,l)}}var s=e.return;try{e4(e)}catch(l){ji(e,s,l)}break;case 5:var a=e.return;try{e4(e)}catch(l){ji(e,a,l)}}}catch(l){ji(e,e.return,l)}if(e===t){at=null;break}var o=e.sibling;if(o!==null){o.return=e.return,at=o;break}at=e.return}}var QM=Math.ceil,n2=pc.ReactCurrentDispatcher,e3=pc.ReactCurrentOwner,Ya=pc.ReactCurrentBatchConfig,mn=0,xr=null,Wi=null,Rr=0,oa=0,Zd=_u(0),ir=0,Kp=null,Rh=0,J2=0,t3=0,yp=null,Ds=null,n3=0,jf=1/0,Jl=null,i2=!1,i4=null,lu=null,bm=!1,Qc=null,r2=0,vp=0,r4=null,p1=-1,g1=0;function vs(){return mn&6?Di():p1!==-1?p1:p1=Di()}function cu(t){return t.mode&1?mn&2&&Rr!==0?Rr&-Rr:RM.transition!==null?(g1===0&&(g1=r9()),g1):(t=Ln,t!==0||(t=window.event,t=t===void 0?16:h9(t.type)),t):1}function Do(t,e,n,i){if(50<vp)throw vp=0,r4=null,Error(Ve(185));mg(t,n,i),(!(mn&2)||t!==xr)&&(t===xr&&(!(mn&2)&&(J2|=n),ir===4&&Xc(t,Rr)),Vs(t,i),n===1&&mn===0&&!(e.mode&1)&&(jf=Di()+500,K2&&Su()))}function Vs(t,e){var n=t.callbackNode;RE(t,e);var i=U1(t,t===xr?Rr:0);if(i===0)n!==null&&r6(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&r6(n),e===1)t.tag===0?MM(Y6.bind(null,t)):L9(Y6.bind(null,t)),PM(function(){!(mn&6)&&Su()}),n=null;else{switch(s9(i)){case 1:n=Ab;break;case 4:n=n9;break;case 16:n=z1;break;case 536870912:n=i9;break;default:n=z1}n=AC(n,wC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wC(t,e){if(p1=-1,g1=0,mn&6)throw Error(Ve(327));var n=t.callbackNode;if(pf()&&t.callbackNode!==n)return null;var i=U1(t,t===xr?Rr:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=s2(t,i);else{e=i;var r=mn;mn|=2;var s=SC();(xr!==t||Rr!==e)&&(Jl=null,jf=Di()+500,Nh(t,e));do try{eR();break}catch(o){_C(t,o)}while(!0);Ub(),n2.current=s,mn=r,Wi!==null?e=0:(xr=null,Rr=0,e=ir)}if(e!==0){if(e===2&&(r=Tv(t),r!==0&&(i=r,e=s4(t,r))),e===1)throw n=Kp,Nh(t,0),Xc(t,i),Vs(t,Di()),n;if(e===6)Xc(t,i);else{if(r=t.current.alternate,!(i&30)&&!JM(r)&&(e=s2(t,i),e===2&&(s=Tv(t),s!==0&&(i=s,e=s4(t,s))),e===1))throw n=Kp,Nh(t,0),Xc(t,i),Vs(t,Di()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(Ve(345));case 2:lh(t,Ds,Jl);break;case 3:if(Xc(t,i),(i&130023424)===i&&(e=n3+500-Di(),10<e)){if(U1(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){vs(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Bv(lh.bind(null,t,Ds,Jl),e);break}lh(t,Ds,Jl);break;case 4:if(Xc(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-Oo(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=Di()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*QM(i/1960))-i,10<i){t.timeoutHandle=Bv(lh.bind(null,t,Ds,Jl),i);break}lh(t,Ds,Jl);break;case 5:lh(t,Ds,Jl);break;default:throw Error(Ve(329))}}}return Vs(t,Di()),t.callbackNode===n?wC.bind(null,t):null}function s4(t,e){var n=yp;return t.current.memoizedState.isDehydrated&&(Nh(t,e).flags|=256),t=s2(t,e),t!==2&&(e=Ds,Ds=n,e!==null&&a4(e)),t}function a4(t){Ds===null?Ds=t:Ds.push.apply(Ds,t)}function JM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!zo(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xc(t,e){for(e&=~t3,e&=~J2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Oo(e),i=1<<n;t[n]=-1,e&=~i}}function Y6(t){if(mn&6)throw Error(Ve(327));pf();var e=U1(t,0);if(!(e&1))return Vs(t,Di()),null;var n=s2(t,e);if(t.tag!==0&&n===2){var i=Tv(t);i!==0&&(e=i,n=s4(t,i))}if(n===1)throw n=Kp,Nh(t,0),Xc(t,e),Vs(t,Di()),n;if(n===6)throw Error(Ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lh(t,Ds,Jl),Vs(t,Di()),null}function i3(t,e){var n=mn;mn|=1;try{return t(e)}finally{mn=n,mn===0&&(jf=Di()+500,K2&&Su())}}function Fh(t){Qc!==null&&Qc.tag===0&&!(mn&6)&&pf();var e=mn;mn|=1;var n=Ya.transition,i=Ln;try{if(Ya.transition=null,Ln=1,t)return t()}finally{Ln=i,Ya.transition=n,mn=e,!(mn&6)&&Su()}}function r3(){oa=Zd.current,ii(Zd)}function Nh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AM(n)),Wi!==null)for(n=Wi.return;n!==null;){var i=n;switch(Ib(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&q1();break;case 3:kf(),ii(zs),ii(rs),$b();break;case 5:qb(i);break;case 4:kf();break;case 13:ii(di);break;case 19:ii(di);break;case 10:Vb(i.type._context);break;case 22:case 23:r3()}n=n.return}if(xr=t,Wi=t=uu(t.current,null),Rr=oa=e,ir=0,Kp=null,t3=J2=Rh=0,Ds=yp=null,xh!==null){for(e=0;e<xh.length;e++)if(n=xh[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}n.pending=i}xh=null}return t}function _C(t,e){do{var n=Wi;try{if(Ub(),h1.current=t2,e2){for(var i=pi.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}e2=!1}if(Mh=0,gr=tr=pi=null,mp=!1,Wp=0,e3.current=null,n===null||n.return===null){ir=1,Kp=e,Wi=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Rr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=D6(a);if(p!==null){p.flags&=-257,I6(p,a,o,s,e),p.mode&1&&O6(s,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var b=new Set;b.add(l),e.updateQueue=b}else y.add(l);break e}else{if(!(e&1)){O6(s,c,e),s3();break e}l=Error(Ve(426))}}else if(li&&o.mode&1){var N=D6(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),I6(N,a,o,s,e),Bb(Cf(l,o));break e}}s=l=Cf(l,o),ir!==4&&(ir=2),yp===null?yp=[s]:yp.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=sC(s,l,e);L6(s,S);break e;case 1:o=l;var j=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof j.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(lu===null||!lu.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=aC(s,o,e);L6(s,k);break e}}s=s.return}while(s!==null)}kC(n)}catch(E){e=E,Wi===n&&n!==null&&(Wi=n=n.return);continue}break}while(!0)}function SC(){var t=n2.current;return n2.current=t2,t===null?t2:t}function s3(){(ir===0||ir===3||ir===2)&&(ir=4),xr===null||!(Rh&268435455)&&!(J2&268435455)||Xc(xr,Rr)}function s2(t,e){var n=mn;mn|=2;var i=SC();(xr!==t||Rr!==e)&&(Jl=null,Nh(t,e));do try{ZM();break}catch(r){_C(t,r)}while(!0);if(Ub(),mn=n,n2.current=i,Wi!==null)throw Error(Ve(261));return xr=null,Rr=0,ir}function ZM(){for(;Wi!==null;)NC(Wi)}function eR(){for(;Wi!==null&&!kE();)NC(Wi)}function NC(t){var e=jC(t.alternate,t,oa);t.memoizedProps=t.pendingProps,e===null?kC(t):Wi=e,e3.current=null}function kC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$M(n,e),n!==null){n.flags&=32767,Wi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ir=6,Wi=null;return}}else if(n=qM(n,e,oa),n!==null){Wi=n;return}if(e=e.sibling,e!==null){Wi=e;return}Wi=e=t}while(e!==null);ir===0&&(ir=5)}function lh(t,e,n){var i=Ln,r=Ya.transition;try{Ya.transition=null,Ln=1,tR(t,e,n,i)}finally{Ya.transition=r,Ln=i}return null}function tR(t,e,n,i){do pf();while(Qc!==null);if(mn&6)throw Error(Ve(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ve(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(FE(t,s),t===xr&&(Wi=xr=null,Rr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bm||(bm=!0,AC(z1,function(){return pf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ya.transition,Ya.transition=null;var a=Ln;Ln=1;var o=mn;mn|=4,e3.current=null,XM(t,n),vC(n,t),wM(Dv),V1=!!Ov,Dv=Ov=null,t.current=n,YM(n),CE(),mn=o,Ln=a,Ya.transition=s}else t.current=n;if(bm&&(bm=!1,Qc=t,r2=r),s=t.pendingLanes,s===0&&(lu=null),PE(n.stateNode),Vs(t,Di()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(i2)throw i2=!1,t=i4,i4=null,t;return r2&1&&t.tag!==0&&pf(),s=t.pendingLanes,s&1?t===r4?vp++:(vp=0,r4=t):vp=0,Su(),null}function pf(){if(Qc!==null){var t=s9(r2),e=Ya.transition,n=Ln;try{if(Ya.transition=null,Ln=16>t?16:t,Qc===null)var i=!1;else{if(t=Qc,Qc=null,r2=0,mn&6)throw Error(Ve(331));var r=mn;for(mn|=4,at=t.current;at!==null;){var s=at,a=s.child;if(at.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(at=c;at!==null;){var d=at;switch(d.tag){case 0:case 11:case 15:xp(8,d,s)}var g=d.child;if(g!==null)g.return=d,at=g;else for(;at!==null;){d=at;var m=d.sibling,p=d.return;if(mC(d),d===c){at=null;break}if(m!==null){m.return=p,at=m;break}at=p}}}var y=s.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var N=b.sibling;b.sibling=null,b=N}while(b!==null)}}at=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,at=a;else e:for(;at!==null;){if(s=at,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xp(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,at=S;break e}at=s.return}}var j=t.current;for(at=j;at!==null;){a=at;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,at=w;else e:for(a=j;at!==null;){if(o=at,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Q2(9,o)}}catch(E){ji(o,o.return,E)}if(o===a){at=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,at=k;break e}at=o.return}}if(mn=r,Su(),fl&&typeof fl.onPostCommitFiberRoot=="function")try{fl.onPostCommitFiberRoot(H2,t)}catch{}i=!0}return i}finally{Ln=n,Ya.transition=e}}return!1}function Q6(t,e,n){e=Cf(n,e),e=sC(t,e,1),t=ou(t,e,1),e=vs(),t!==null&&(mg(t,1,e),Vs(t,e))}function ji(t,e,n){if(t.tag===3)Q6(t,t,n);else for(;e!==null;){if(e.tag===3){Q6(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(lu===null||!lu.has(i))){t=Cf(n,t),t=aC(e,t,1),e=ou(e,t,1),t=vs(),e!==null&&(mg(e,1,t),Vs(e,t));break}}e=e.return}}function nR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=vs(),t.pingedLanes|=t.suspendedLanes&n,xr===t&&(Rr&n)===n&&(ir===4||ir===3&&(Rr&130023424)===Rr&&500>Di()-n3?Nh(t,0):t3|=n),Vs(t,e)}function CC(t,e){e===0&&(t.mode&1?(e=um,um<<=1,!(um&130023424)&&(um=4194304)):e=1);var n=vs();t=hc(t,e),t!==null&&(mg(t,e,n),Vs(t,n))}function iR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CC(t,n)}function rR(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Ve(314))}i!==null&&i.delete(e),CC(t,n)}var jC;jC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zs.current)Bs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bs=!1,WM(t,e,n);Bs=!!(t.flags&131072)}else Bs=!1,li&&e.flags&1048576&&T9(e,X1,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;f1(t,e),t=e.pendingProps;var r=_f(e,rs.current);ff(e,n),r=Xb(null,e,i,t,r,n);var s=Yb();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Us(i)?(s=!0,$1(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Gb(e),r.updater=Y2,e.stateNode=r,r._reactInternals=e,qv(e,i,t,n),e=Xv(null,e,i,!0,s,n)):(e.tag=0,li&&s&&Db(e),ys(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(f1(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=aR(i),t=To(i,t),r){case 0:e=Kv(null,e,i,t,n);break e;case 1:e=U6(null,e,i,t,n);break e;case 11:e=B6(null,e,i,t,n);break e;case 14:e=z6(null,e,i,To(i.type,t),n);break e}throw Error(Ve(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:To(i,r),Kv(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:To(i,r),U6(t,e,i,r,n);case 3:e:{if(uC(e),t===null)throw Error(Ve(387));i=e.pendingProps,s=e.memoizedState,r=s.element,D9(t,e),J1(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Cf(Error(Ve(423)),e),e=V6(t,e,i,n,r);break e}else if(i!==r){r=Cf(Error(Ve(424)),e),e=V6(t,e,i,n,r);break e}else for(la=au(e.stateNode.containerInfo.firstChild),ha=e,li=!0,Mo=null,n=F9(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sf(),i===r){e=dc(t,e,n);break e}ys(t,e,i,n)}e=e.child}return e;case 5:return I9(e),t===null&&Hv(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,a=r.children,Iv(i,r)?a=null:s!==null&&Iv(i,s)&&(e.flags|=32),cC(t,e),ys(t,e,a,n),e.child;case 6:return t===null&&Hv(e),null;case 13:return hC(t,e,n);case 4:return Wb(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Nf(e,null,i,n):ys(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:To(i,r),B6(t,e,i,r,n);case 7:return ys(t,e,e.pendingProps,n),e.child;case 8:return ys(t,e,e.pendingProps.children,n),e.child;case 12:return ys(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,qn(Y1,i._currentValue),i._currentValue=a,s!==null)if(zo(s.value,a)){if(s.children===r.children&&!zs.current){e=dc(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=sc(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Gv(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ve(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Gv(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ys(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ff(e,n),r=Qa(r),i=i(r),e.flags|=1,ys(t,e,i,n),e.child;case 14:return i=e.type,r=To(i,e.pendingProps),r=To(i.type,r),z6(t,e,i,r,n);case 15:return oC(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:To(i,r),f1(t,e),e.tag=1,Us(i)?(t=!0,$1(e)):t=!1,ff(e,n),rC(e,i,r),qv(e,i,r,n),Xv(null,e,i,!0,t,n);case 19:return dC(t,e,n);case 22:return lC(t,e,n)}throw Error(Ve(156,e.tag))};function AC(t,e){return t9(t,e)}function sR(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $a(t,e,n,i){return new sR(t,e,n,i)}function a3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aR(t){if(typeof t=="function")return a3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kb)return 11;if(t===Cb)return 14}return 2}function uu(t,e){var n=t.alternate;return n===null?(n=$a(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function m1(t,e,n,i,r,s){var a=2;if(i=t,typeof t=="function")a3(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Hd:return kh(n.children,r,s,e);case Nb:a=8,r|=8;break;case mv:return t=$a(12,n,e,r|2),t.elementType=mv,t.lanes=s,t;case xv:return t=$a(13,n,e,r),t.elementType=xv,t.lanes=s,t;case yv:return t=$a(19,n,e,r),t.elementType=yv,t.lanes=s,t;case Ik:return Z2(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ok:a=10;break e;case Dk:a=9;break e;case kb:a=11;break e;case Cb:a=14;break e;case Gc:a=16,i=null;break e}throw Error(Ve(130,t==null?t:typeof t,""))}return e=$a(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function kh(t,e,n,i){return t=$a(7,t,i,e),t.lanes=n,t}function Z2(t,e,n,i){return t=$a(22,t,i,e),t.elementType=Ik,t.lanes=n,t.stateNode={isHidden:!1},t}function Jx(t,e,n){return t=$a(6,t,null,e),t.lanes=n,t}function Zx(t,e,n){return e=$a(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oR(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mx(0),this.expirationTimes=Mx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mx(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function o3(t,e,n,i,r,s,a,o,l){return t=new oR(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$a(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gb(s),t}function lR(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vd,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function PC(t){if(!t)return pu;t=t._reactInternals;e:{if(Hh(t)!==t||t.tag!==1)throw Error(Ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Us(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ve(171))}if(t.tag===1){var n=t.type;if(Us(n))return P9(t,n,e)}return e}function LC(t,e,n,i,r,s,a,o,l){return t=o3(n,i,!0,t,r,s,a,o,l),t.context=PC(null),n=t.current,i=vs(),r=cu(n),s=sc(i,r),s.callback=e??null,ou(n,s,r),t.current.lanes=r,mg(t,r,i),Vs(t,i),t}function e5(t,e,n,i){var r=e.current,s=vs(),a=cu(r);return n=PC(n),e.context===null?e.context=n:e.pendingContext=n,e=sc(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ou(r,e,a),t!==null&&(Do(t,r,a,s),u1(t,r,a)),a}function a2(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function J6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function l3(t,e){J6(t,e),(t=t.alternate)&&J6(t,e)}function cR(){return null}var TC=typeof reportError=="function"?reportError:function(t){console.error(t)};function c3(t){this._internalRoot=t}t5.prototype.render=c3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ve(409));e5(t,e,null,null)};t5.prototype.unmount=c3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fh(function(){e5(null,t,null,null)}),e[uc]=null}};function t5(t){this._internalRoot=t}t5.prototype.unstable_scheduleHydration=function(t){if(t){var e=l9();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kc.length&&e!==0&&e<Kc[n].priority;n++);Kc.splice(n,0,t),n===0&&u9(t)}};function u3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function n5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Z6(){}function uR(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=a2(a);s.call(c)}}var a=LC(e,i,t,0,null,!1,!1,"",Z6);return t._reactRootContainer=a,t[uc]=a.current,zp(t.nodeType===8?t.parentNode:t),Fh(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var c=a2(l);o.call(c)}}var l=o3(t,0,!1,null,null,!1,!1,"",Z6);return t._reactRootContainer=l,t[uc]=l.current,zp(t.nodeType===8?t.parentNode:t),Fh(function(){e5(e,l,n,i)}),l}function i5(t,e,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=a2(a);o.call(l)}}e5(e,a,t,r)}else a=uR(n,e,t,r,i);return a2(a)}a9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tp(e.pendingLanes);n!==0&&(Pb(e,n|1),Vs(e,Di()),!(mn&6)&&(jf=Di()+500,Su()))}break;case 13:Fh(function(){var i=hc(t,1);if(i!==null){var r=vs();Do(i,t,1,r)}}),l3(t,1)}};Lb=function(t){if(t.tag===13){var e=hc(t,134217728);if(e!==null){var n=vs();Do(e,t,134217728,n)}l3(t,134217728)}};o9=function(t){if(t.tag===13){var e=cu(t),n=hc(t,e);if(n!==null){var i=vs();Do(n,t,e,i)}l3(t,e)}};l9=function(){return Ln};c9=function(t,e){var n=Ln;try{return Ln=t,e()}finally{Ln=n}};Av=function(t,e,n){switch(e){case"input":if(wv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=$2(i);if(!r)throw Error(Ve(90));zk(i),wv(i,r)}}}break;case"textarea":Vk(t,n);break;case"select":e=n.value,e!=null&&cf(t,!!n.multiple,e,!1)}};Xk=i3;Yk=Fh;var hR={usingClientEntryPoint:!1,Events:[yg,$d,$2,$k,Kk,i3]},O0={findFiberByHostInstance:mh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dR={bundleType:O0.bundleType,version:O0.version,rendererPackageName:O0.rendererPackageName,rendererConfig:O0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zk(t),t===null?null:t.stateNode},findFiberByHostInstance:O0.findFiberByHostInstance||cR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wm.isDisabled&&wm.supportsFiber)try{H2=wm.inject(dR),fl=wm}catch{}}ma.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hR;ma.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u3(e))throw Error(Ve(200));return lR(t,e,null,n)};ma.createRoot=function(t,e){if(!u3(t))throw Error(Ve(299));var n=!1,i="",r=TC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=o3(t,1,!1,null,null,n,!1,i,r),t[uc]=e.current,zp(t.nodeType===8?t.parentNode:t),new c3(e)};ma.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ve(188)):(t=Object.keys(t).join(","),Error(Ve(268,t)));return t=Zk(e),t=t===null?null:t.stateNode,t};ma.flushSync=function(t){return Fh(t)};ma.hydrate=function(t,e,n){if(!n5(e))throw Error(Ve(200));return i5(null,t,e,!0,n)};ma.hydrateRoot=function(t,e,n){if(!u3(t))throw Error(Ve(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",a=TC;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=LC(e,null,t,1,n??null,r,!1,s,a),t[uc]=e.current,zp(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new t5(e)};ma.render=function(t,e,n){if(!n5(e))throw Error(Ve(200));return i5(null,t,e,!1,n)};ma.unmountComponentAtNode=function(t){if(!n5(t))throw Error(Ve(40));return t._reactRootContainer?(Fh(function(){i5(null,null,t,!1,function(){t._reactRootContainer=null,t[uc]=null})}),!0):!1};ma.unstable_batchedUpdates=i3;ma.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!n5(n))throw Error(Ve(200));if(t==null||t._reactInternals===void 0)throw Error(Ve(38));return i5(t,e,n,!1,i)};ma.version="18.3.1-next-f1338f8080-20240426";function EC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EC)}catch(t){console.error(t)}}EC(),Ek.exports=ma;var fR=Ek.exports,e_=fR;pv.createRoot=e_.createRoot,pv.hydrateRoot=e_.hydrateRoot;function MC(t,e){return function(){return t.apply(e,arguments)}}const{toString:pR}=Object.prototype,{getPrototypeOf:h3}=Object,{iterator:r5,toStringTag:RC}=Symbol,s5=(t=>e=>{const n=pR.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vo=t=>(t=t.toLowerCase(),e=>s5(e)===t),a5=t=>e=>typeof e===t,{isArray:Vf}=Array,Af=a5("undefined");function bg(t){return t!==null&&!Af(t)&&t.constructor!==null&&!Af(t.constructor)&&Hs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const FC=Vo("ArrayBuffer");function gR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&FC(t.buffer),e}const mR=a5("string"),Hs=a5("function"),OC=a5("number"),wg=t=>t!==null&&typeof t=="object",xR=t=>t===!0||t===!1,x1=t=>{if(s5(t)!=="object")return!1;const e=h3(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(RC in t)&&!(r5 in t)},yR=t=>{if(!wg(t)||bg(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},vR=Vo("Date"),bR=Vo("File"),wR=Vo("Blob"),_R=Vo("FileList"),SR=t=>wg(t)&&Hs(t.pipe),NR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Hs(t.append)&&((e=s5(t))==="formdata"||e==="object"&&Hs(t.toString)&&t.toString()==="[object FormData]"))},kR=Vo("URLSearchParams"),[CR,jR,AR,PR]=["ReadableStream","Request","Response","Headers"].map(Vo),LR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _g(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Vf(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(bg(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(i=0;i<a;i++)o=s[i],e.call(null,t[o],o,t)}}function DC(t,e){if(bg(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const vh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IC=t=>!Af(t)&&t!==vh;function o4(){const{caseless:t,skipUndefined:e}=IC(this)&&this||{},n={},i=(r,s)=>{const a=t&&DC(n,s)||s;x1(n[a])&&x1(r)?n[a]=o4(n[a],r):x1(r)?n[a]=o4({},r):Vf(r)?n[a]=r.slice():(!e||!Af(r))&&(n[a]=r)};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&_g(arguments[r],i);return n}const TR=(t,e,n,{allOwnKeys:i}={})=>(_g(e,(r,s)=>{n&&Hs(r)?t[s]=MC(r,n):t[s]=r},{allOwnKeys:i}),t),ER=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),MR=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},RR=(t,e,n,i)=>{let r,s,a;const o={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)a=r[s],(!i||i(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&h3(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},FR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},OR=t=>{if(!t)return null;if(Vf(t))return t;let e=t.length;if(!OC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},DR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&h3(Uint8Array)),IR=(t,e)=>{const i=(t&&t[r5]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},BR=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},zR=Vo("HTMLFormElement"),UR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),t_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),VR=Vo("RegExp"),BC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};_g(n,(r,s)=>{let a;(a=e(r,s,t))!==!1&&(i[s]=a||r)}),Object.defineProperties(t,i)},HR=t=>{BC(t,(e,n)=>{if(Hs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Hs(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},GR=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return Vf(t)?i(t):i(String(t).split(e)),n},WR=()=>{},qR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function $R(t){return!!(t&&Hs(t.append)&&t[RC]==="FormData"&&t[r5])}const KR=t=>{const e=new Array(10),n=(i,r)=>{if(wg(i)){if(e.indexOf(i)>=0)return;if(bg(i))return i;if(!("toJSON"in i)){e[r]=i;const s=Vf(i)?[]:{};return _g(i,(a,o)=>{const l=n(a,r+1);!Af(l)&&(s[o]=l)}),e[r]=void 0,s}}return i};return n(t,0)},XR=Vo("AsyncFunction"),YR=t=>t&&(wg(t)||Hs(t))&&Hs(t.then)&&Hs(t.catch),zC=((t,e)=>t?setImmediate:e?((n,i)=>(vh.addEventListener("message",({source:r,data:s})=>{r===vh&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),vh.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Hs(vh.postMessage)),QR=typeof queueMicrotask<"u"?queueMicrotask.bind(vh):typeof process<"u"&&process.nextTick||zC,JR=t=>t!=null&&Hs(t[r5]),Ae={isArray:Vf,isArrayBuffer:FC,isBuffer:bg,isFormData:NR,isArrayBufferView:gR,isString:mR,isNumber:OC,isBoolean:xR,isObject:wg,isPlainObject:x1,isEmptyObject:yR,isReadableStream:CR,isRequest:jR,isResponse:AR,isHeaders:PR,isUndefined:Af,isDate:vR,isFile:bR,isBlob:wR,isRegExp:VR,isFunction:Hs,isStream:SR,isURLSearchParams:kR,isTypedArray:DR,isFileList:_R,forEach:_g,merge:o4,extend:TR,trim:LR,stripBOM:ER,inherits:MR,toFlatObject:RR,kindOf:s5,kindOfTest:Vo,endsWith:FR,toArray:OR,forEachEntry:IR,matchAll:BR,isHTMLForm:zR,hasOwnProperty:t_,hasOwnProp:t_,reduceDescriptors:BC,freezeMethods:HR,toObjectSet:GR,toCamelCase:UR,noop:WR,toFiniteNumber:qR,findKey:DC,global:vh,isContextDefined:IC,isSpecCompliantForm:$R,toJSONObject:KR,isAsyncFn:XR,isThenable:YR,setImmediate:zC,asap:QR,isIterable:JR};function Vt(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Ae.inherits(Vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ae.toJSONObject(this.config),code:this.code,status:this.status}}});const UC=Vt.prototype,VC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{VC[t]={value:t}});Object.defineProperties(Vt,VC);Object.defineProperty(UC,"isAxiosError",{value:!0});Vt.from=(t,e,n,i,r,s)=>{const a=Object.create(UC);Ae.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Vt.call(a,o,l,n,i,r),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const ZR=null;function l4(t){return Ae.isPlainObject(t)||Ae.isArray(t)}function HC(t){return Ae.endsWith(t,"[]")?t.slice(0,-2):t}function n_(t,e,n){return t?t.concat(e).map(function(r,s){return r=HC(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function eF(t){return Ae.isArray(t)&&!t.some(l4)}const tF=Ae.toFlatObject(Ae,{},null,function(e){return/^is[A-Z]/.test(e)});function o5(t,e,n){if(!Ae.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,N){return!Ae.isUndefined(N[b])});const i=n.metaTokens,r=n.visitor||d,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ae.isSpecCompliantForm(e);if(!Ae.isFunction(r))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(Ae.isDate(y))return y.toISOString();if(Ae.isBoolean(y))return y.toString();if(!l&&Ae.isBlob(y))throw new Vt("Blob is not supported. Use a Buffer instead.");return Ae.isArrayBuffer(y)||Ae.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,b,N){let S=y;if(y&&!N&&typeof y=="object"){if(Ae.endsWith(b,"{}"))b=i?b:b.slice(0,-2),y=JSON.stringify(y);else if(Ae.isArray(y)&&eF(y)||(Ae.isFileList(y)||Ae.endsWith(b,"[]"))&&(S=Ae.toArray(y)))return b=HC(b),S.forEach(function(w,k){!(Ae.isUndefined(w)||w===null)&&e.append(a===!0?n_([b],k,s):a===null?b:b+"[]",c(w))}),!1}return l4(y)?!0:(e.append(n_(N,b,s),c(y)),!1)}const g=[],m=Object.assign(tF,{defaultVisitor:d,convertValue:c,isVisitable:l4});function p(y,b){if(!Ae.isUndefined(y)){if(g.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));g.push(y),Ae.forEach(y,function(S,j){(!(Ae.isUndefined(S)||S===null)&&r.call(e,S,Ae.isString(j)?j.trim():j,b,m))===!0&&p(S,b?b.concat(j):[j])}),g.pop()}}if(!Ae.isObject(t))throw new TypeError("data must be an object");return p(t),e}function i_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function d3(t,e){this._pairs=[],t&&o5(t,this,e)}const GC=d3.prototype;GC.append=function(e,n){this._pairs.push([e,n])};GC.toString=function(e){const n=e?function(i){return e.call(this,i,i_)}:i_;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function nF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function WC(t,e,n){if(!e)return t;const i=n&&n.encode||nF;Ae.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=Ae.isURLSearchParams(e)?e.toString():new d3(e,n).toString(i),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class r_{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ae.forEach(this.handlers,function(i){i!==null&&e(i)})}}const qC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iF=typeof URLSearchParams<"u"?URLSearchParams:d3,rF=typeof FormData<"u"?FormData:null,sF=typeof Blob<"u"?Blob:null,aF={isBrowser:!0,classes:{URLSearchParams:iF,FormData:rF,Blob:sF},protocols:["http","https","file","blob","url","data"]},f3=typeof window<"u"&&typeof document<"u",c4=typeof navigator=="object"&&navigator||void 0,oF=f3&&(!c4||["ReactNative","NativeScript","NS"].indexOf(c4.product)<0),lF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cF=f3&&window.location.href||"http://localhost",uF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:f3,hasStandardBrowserEnv:oF,hasStandardBrowserWebWorkerEnv:lF,navigator:c4,origin:cF},Symbol.toStringTag,{value:"Module"})),ts={...uF,...aF};function hF(t,e){return o5(t,new ts.classes.URLSearchParams,{visitor:function(n,i,r,s){return ts.isNode&&Ae.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function dF(t){return Ae.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function fF(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function $C(t){function e(n,i,r,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&Ae.isArray(r)?r.length:a,l?(Ae.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!o):((!r[a]||!Ae.isObject(r[a]))&&(r[a]=[]),e(n,i,r[a],s)&&Ae.isArray(r[a])&&(r[a]=fF(r[a])),!o)}if(Ae.isFormData(t)&&Ae.isFunction(t.entries)){const n={};return Ae.forEachEntry(t,(i,r)=>{e(dF(i),r,n,0)}),n}return null}function pF(t,e,n){if(Ae.isString(t))try{return(e||JSON.parse)(t),Ae.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Sg={transitional:qC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=Ae.isObject(e);if(s&&Ae.isHTMLForm(e)&&(e=new FormData(e)),Ae.isFormData(e))return r?JSON.stringify($C(e)):e;if(Ae.isArrayBuffer(e)||Ae.isBuffer(e)||Ae.isStream(e)||Ae.isFile(e)||Ae.isBlob(e)||Ae.isReadableStream(e))return e;if(Ae.isArrayBufferView(e))return e.buffer;if(Ae.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return hF(e,this.formSerializer).toString();if((o=Ae.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return o5(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),pF(e)):e}],transformResponse:[function(e){const n=this.transitional||Sg.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(Ae.isResponse(e)||Ae.isReadableStream(e))return e;if(e&&Ae.isString(e)&&(i&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Vt.from(o,Vt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ts.classes.FormData,Blob:ts.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ae.forEach(["delete","get","head","post","put","patch"],t=>{Sg.headers[t]={}});const gF=Ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mF=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!n||e[n]&&gF[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},s_=Symbol("internals");function D0(t){return t&&String(t).trim().toLowerCase()}function y1(t){return t===!1||t==null?t:Ae.isArray(t)?t.map(y1):String(t)}function xF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const yF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ey(t,e,n,i,r){if(Ae.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!Ae.isString(e)){if(Ae.isString(i))return e.indexOf(i)!==-1;if(Ae.isRegExp(i))return i.test(e)}}function vF(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function bF(t,e){const n=Ae.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,a){return this[i].call(this,e,r,s,a)},configurable:!0})})}let Gs=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(o,l,c){const d=D0(l);if(!d)throw new Error("header name must be a non-empty string");const g=Ae.findKey(r,d);(!g||r[g]===void 0||c===!0||c===void 0&&r[g]!==!1)&&(r[g||l]=y1(o))}const a=(o,l)=>Ae.forEach(o,(c,d)=>s(c,d,l));if(Ae.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Ae.isString(e)&&(e=e.trim())&&!yF(e))a(mF(e),n);else if(Ae.isObject(e)&&Ae.isIterable(e)){let o={},l,c;for(const d of e){if(!Ae.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(l=o[c])?Ae.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,n)}else e!=null&&s(n,e,i);return this}get(e,n){if(e=D0(e),e){const i=Ae.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return xF(r);if(Ae.isFunction(n))return n.call(this,r,i);if(Ae.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=D0(e),e){const i=Ae.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||ey(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(a){if(a=D0(a),a){const o=Ae.findKey(i,a);o&&(!n||ey(i,i[o],o,n))&&(delete i[o],r=!0)}}return Ae.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||ey(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return Ae.forEach(this,(r,s)=>{const a=Ae.findKey(i,s);if(a){n[a]=y1(r),delete n[s];return}const o=e?vF(s):String(s).trim();o!==s&&delete n[s],n[o]=y1(r),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ae.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&Ae.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[s_]=this[s_]={accessors:{}}).accessors,r=this.prototype;function s(a){const o=D0(a);i[o]||(bF(r,a),i[o]=!0)}return Ae.isArray(e)?e.forEach(s):s(e),this}};Gs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ae.reduceDescriptors(Gs.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Ae.freezeMethods(Gs);function ty(t,e){const n=this||Sg,i=e||n,r=Gs.from(i.headers);let s=i.data;return Ae.forEach(t,function(o){s=o.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function KC(t){return!!(t&&t.__CANCEL__)}function Hf(t,e,n){Vt.call(this,t??"canceled",Vt.ERR_CANCELED,e,n),this.name="CanceledError"}Ae.inherits(Hf,Vt,{__CANCEL__:!0});function XC(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Vt("Request failed with status code "+n.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _F(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=i[s];a||(a=c),n[r]=l,i[r]=c;let g=s,m=0;for(;g!==r;)m+=n[g++],g=g%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-a<e)return;const p=d&&c-d;return p?Math.round(m*1e3/p):void 0}}function SF(t,e){let n=0,i=1e3/e,r,s;const a=(c,d=Date.now())=>{n=d,r=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const d=Date.now(),g=d-n;g>=i?a(c,d):(r=c,s||(s=setTimeout(()=>{s=null,a(r)},i-g)))},()=>r&&a(r)]}const o2=(t,e,n=3)=>{let i=0;const r=_F(50,250);return SF(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-i,c=r(l),d=a<=o;i=a;const g={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(g)},n)},a_=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},o_=t=>(...e)=>Ae.asap(()=>t(...e)),NF=ts.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ts.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ts.origin),ts.navigator&&/(msie|trident)/i.test(ts.navigator.userAgent)):()=>!0,kF=ts.hasStandardBrowserEnv?{write(t,e,n,i,r,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];Ae.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),Ae.isString(i)&&o.push(`path=${i}`),Ae.isString(r)&&o.push(`domain=${r}`),s===!0&&o.push("secure"),Ae.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function CF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function jF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function YC(t,e,n){let i=!CF(e);return t&&(i||n==!1)?jF(t,e):e}const l_=t=>t instanceof Gs?{...t}:t;function Oh(t,e){e=e||{};const n={};function i(c,d,g,m){return Ae.isPlainObject(c)&&Ae.isPlainObject(d)?Ae.merge.call({caseless:m},c,d):Ae.isPlainObject(d)?Ae.merge({},d):Ae.isArray(d)?d.slice():d}function r(c,d,g,m){if(Ae.isUndefined(d)){if(!Ae.isUndefined(c))return i(void 0,c,g,m)}else return i(c,d,g,m)}function s(c,d){if(!Ae.isUndefined(d))return i(void 0,d)}function a(c,d){if(Ae.isUndefined(d)){if(!Ae.isUndefined(c))return i(void 0,c)}else return i(void 0,d)}function o(c,d,g){if(g in e)return i(c,d);if(g in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,g)=>r(l_(c),l_(d),g,!0)};return Ae.forEach(Object.keys({...t,...e}),function(d){const g=l[d]||r,m=g(t[d],e[d],d);Ae.isUndefined(m)&&g!==o||(n[d]=m)}),n}const QC=t=>{const e=Oh({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=Gs.from(a),e.url=WC(YC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Ae.isFormData(n)){if(ts.hasStandardBrowserEnv||ts.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Ae.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,g])=>{c.includes(d.toLowerCase())&&a.set(d,g)})}}if(ts.hasStandardBrowserEnv&&(i&&Ae.isFunction(i)&&(i=i(e)),i||i!==!1&&NF(e.url))){const l=r&&s&&kF.read(s);l&&a.set(r,l)}return e},AF=typeof XMLHttpRequest<"u",PF=AF&&function(t){return new Promise(function(n,i){const r=QC(t);let s=r.data;const a=Gs.from(r.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=r,d,g,m,p,y;function b(){p&&p(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let N=new XMLHttpRequest;N.open(r.method.toUpperCase(),r.url,!0),N.timeout=r.timeout;function S(){if(!N)return;const w=Gs.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:w,config:t,request:N};XC(function(U){n(U),b()},function(U){i(U),b()},E),N=null}"onloadend"in N?N.onloadend=S:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(S)},N.onabort=function(){N&&(i(new Vt("Request aborted",Vt.ECONNABORTED,t,N)),N=null)},N.onerror=function(k){const E=k&&k.message?k.message:"Network Error",I=new Vt(E,Vt.ERR_NETWORK,t,N);I.event=k||null,i(I),N=null},N.ontimeout=function(){let k=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const E=r.transitional||qC;r.timeoutErrorMessage&&(k=r.timeoutErrorMessage),i(new Vt(k,E.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,t,N)),N=null},s===void 0&&a.setContentType(null),"setRequestHeader"in N&&Ae.forEach(a.toJSON(),function(k,E){N.setRequestHeader(E,k)}),Ae.isUndefined(r.withCredentials)||(N.withCredentials=!!r.withCredentials),o&&o!=="json"&&(N.responseType=r.responseType),c&&([m,y]=o2(c,!0),N.addEventListener("progress",m)),l&&N.upload&&([g,p]=o2(l),N.upload.addEventListener("progress",g),N.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(d=w=>{N&&(i(!w||w.type?new Hf(null,t,N):w),N.abort(),N=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const j=wF(r.url);if(j&&ts.protocols.indexOf(j)===-1){i(new Vt("Unsupported protocol "+j+":",Vt.ERR_BAD_REQUEST,t));return}N.send(s||null)})},LF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,o();const d=c instanceof Error?c:this.reason;i.abort(d instanceof Vt?d:new Hf(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Vt(`timeout ${e} of ms exceeded`,Vt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>Ae.asap(o),l}},TF=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},EF=async function*(t,e){for await(const n of MF(t))yield*TF(n,e)},MF=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},c_=(t,e,n,i)=>{const r=EF(t,e);let s=0,a,o=l=>{a||(a=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await r.next();if(c){o(),l.close();return}let g=d.byteLength;if(n){let m=s+=g;n(m)}l.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(l){return o(l),r.return()}},{highWaterMark:2})},u_=64*1024,{isFunction:_m}=Ae,RF=(({Request:t,Response:e})=>({Request:t,Response:e}))(Ae.global),{ReadableStream:h_,TextEncoder:d_}=Ae.global,f_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},FF=t=>{t=Ae.merge.call({skipUndefined:!0},RF,t);const{fetch:e,Request:n,Response:i}=t,r=e?_m(e):typeof fetch=="function",s=_m(n),a=_m(i);if(!r)return!1;const o=r&&_m(h_),l=r&&(typeof d_=="function"?(y=>b=>y.encode(b))(new d_):async y=>new Uint8Array(await new n(y).arrayBuffer())),c=s&&o&&f_(()=>{let y=!1;const b=new n(ts.origin,{body:new h_,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),d=a&&o&&f_(()=>Ae.isReadableStream(new i("").body)),g={stream:d&&(y=>y.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!g[y]&&(g[y]=(b,N)=>{let S=b&&b[y];if(S)return S.call(b);throw new Vt(`Response type '${y}' is not supported`,Vt.ERR_NOT_SUPPORT,N)})});const m=async y=>{if(y==null)return 0;if(Ae.isBlob(y))return y.size;if(Ae.isSpecCompliantForm(y))return(await new n(ts.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(Ae.isArrayBufferView(y)||Ae.isArrayBuffer(y))return y.byteLength;if(Ae.isURLSearchParams(y)&&(y=y+""),Ae.isString(y))return(await l(y)).byteLength},p=async(y,b)=>{const N=Ae.toFiniteNumber(y.getContentLength());return N??m(b)};return async y=>{let{url:b,method:N,data:S,signal:j,cancelToken:w,timeout:k,onDownloadProgress:E,onUploadProgress:I,responseType:U,headers:R,withCredentials:B="same-origin",fetchOptions:O}=QC(y),P=e||fetch;U=U?(U+"").toLowerCase():"text";let M=LF([j,w&&w.toAbortSignal()],k),G=null;const W=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let Z;try{if(I&&c&&N!=="get"&&N!=="head"&&(Z=await p(R,S))!==0){let se=new n(b,{method:"POST",body:S,duplex:"half"}),F;if(Ae.isFormData(S)&&(F=se.headers.get("content-type"))&&R.setContentType(F),se.body){const[q,re]=a_(Z,o2(o_(I)));S=c_(se.body,u_,q,re)}}Ae.isString(B)||(B=B?"include":"omit");const ce=s&&"credentials"in n.prototype,pe={...O,signal:M,method:N.toUpperCase(),headers:R.normalize().toJSON(),body:S,duplex:"half",credentials:ce?B:void 0};G=s&&new n(b,pe);let J=await(s?P(G,O):P(b,pe));const ee=d&&(U==="stream"||U==="response");if(d&&(E||ee&&W)){const se={};["status","statusText","headers"].forEach(oe=>{se[oe]=J[oe]});const F=Ae.toFiniteNumber(J.headers.get("content-length")),[q,re]=E&&a_(F,o2(o_(E),!0))||[];J=new i(c_(J.body,u_,q,()=>{re&&re(),W&&W()}),se)}U=U||"text";let he=await g[Ae.findKey(g,U)||"text"](J,y);return!ee&&W&&W(),await new Promise((se,F)=>{XC(se,F,{data:he,headers:Gs.from(J.headers),status:J.status,statusText:J.statusText,config:y,request:G})})}catch(ce){throw W&&W(),ce&&ce.name==="TypeError"&&/Load failed|fetch/i.test(ce.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,y,G),{cause:ce.cause||ce}):Vt.from(ce,ce&&ce.code,y,G)}}},OF=new Map,JC=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:r}=e,s=[i,r,n];let a=s.length,o=a,l,c,d=OF;for(;o--;)l=s[o],c=d.get(l),c===void 0&&d.set(l,c=o?new Map:FF(e)),d=c;return c};JC();const p3={http:ZR,xhr:PF,fetch:{get:JC}};Ae.forEach(p3,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const p_=t=>`- ${t}`,DF=t=>Ae.isFunction(t)||t===null||t===!1;function IF(t,e){t=Ae.isArray(t)?t:[t];const{length:n}=t;let i,r;const s={};for(let a=0;a<n;a++){i=t[a];let o;if(r=i,!DF(i)&&(r=p3[(o=String(i)).toLowerCase()],r===void 0))throw new Vt(`Unknown adapter '${o}'`);if(r&&(Ae.isFunction(r)||(r=r.get(e))))break;s[o||"#"+a]=r}if(!r){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(p_).join(`
`):" "+p_(a[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r}const ZC={getAdapter:IF,adapters:p3};function ny(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hf(null,t)}function g_(t){return ny(t),t.headers=Gs.from(t.headers),t.data=ty.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ZC.getAdapter(t.adapter||Sg.adapter,t)(t).then(function(i){return ny(t),i.data=ty.call(t,t.transformResponse,i),i.headers=Gs.from(i.headers),i},function(i){return KC(i)||(ny(t),i&&i.response&&(i.response.data=ty.call(t,t.transformResponse,i.response),i.response.headers=Gs.from(i.response.headers))),Promise.reject(i)})}const ej="1.13.2",l5={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{l5[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const m_={};l5.transitional=function(e,n,i){function r(s,a){return"[Axios v"+ej+"] Transitional option '"+s+"'"+a+(i?". "+i:"")}return(s,a,o)=>{if(e===!1)throw new Vt(r(a," has been removed"+(n?" in "+n:"")),Vt.ERR_DEPRECATED);return n&&!m_[a]&&(m_[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};l5.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function BF(t,e,n){if(typeof t!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Vt("option "+s+" must be "+l,Vt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Vt("Unknown option "+s,Vt.ERR_BAD_OPTION)}}const v1={assertOptions:BF,validators:l5},nl=v1.validators;let Ch=class{constructor(e){this.defaults=e||{},this.interceptors={request:new r_,response:new r_}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Oh(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&v1.assertOptions(i,{silentJSONParsing:nl.transitional(nl.boolean),forcedJSONParsing:nl.transitional(nl.boolean),clarifyTimeoutError:nl.transitional(nl.boolean)},!1),r!=null&&(Ae.isFunction(r)?n.paramsSerializer={serialize:r}:v1.assertOptions(r,{encode:nl.function,serialize:nl.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),v1.assertOptions(n,{baseUrl:nl.spelling("baseURL"),withXsrfToken:nl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&Ae.merge(s.common,s[n.method]);s&&Ae.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Gs.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,g=0,m;if(!l){const y=[g_.bind(this),void 0];for(y.unshift(...o),y.push(...c),m=y.length,d=Promise.resolve(n);g<m;)d=d.then(y[g++],y[g++]);return d}m=o.length;let p=n;for(;g<m;){const y=o[g++],b=o[g++];try{p=y(p)}catch(N){b.call(this,N);break}}try{d=g_.call(this,p)}catch(y){return Promise.reject(y)}for(g=0,m=c.length;g<m;)d=d.then(c[g++],c[g++]);return d}getUri(e){e=Oh(this.defaults,e);const n=YC(e.baseURL,e.url,e.allowAbsoluteUrls);return WC(n,e.params,e.paramsSerializer)}};Ae.forEach(["delete","get","head","options"],function(e){Ch.prototype[e]=function(n,i){return this.request(Oh(i||{},{method:e,url:n,data:(i||{}).data}))}});Ae.forEach(["post","put","patch"],function(e){function n(i){return function(s,a,o){return this.request(Oh(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Ch.prototype[e]=n(),Ch.prototype[e+"Form"]=n(!0)});let zF=class tj{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const a=new Promise(o=>{i.subscribe(o),s=o}).then(r);return a.cancel=function(){i.unsubscribe(s)},a},e(function(s,a,o){i.reason||(i.reason=new Hf(s,a,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new tj(function(r){e=r}),cancel:e}}};function UF(t){return function(n){return t.apply(null,n)}}function VF(t){return Ae.isObject(t)&&t.isAxiosError===!0}const u4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(u4).forEach(([t,e])=>{u4[e]=t});function nj(t){const e=new Ch(t),n=MC(Ch.prototype.request,e);return Ae.extend(n,Ch.prototype,e,{allOwnKeys:!0}),Ae.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return nj(Oh(t,r))},n}const Li=nj(Sg);Li.Axios=Ch;Li.CanceledError=Hf;Li.CancelToken=zF;Li.isCancel=KC;Li.VERSION=ej;Li.toFormData=o5;Li.AxiosError=Vt;Li.Cancel=Li.CanceledError;Li.all=function(e){return Promise.all(e)};Li.spread=UF;Li.isAxiosError=VF;Li.mergeConfig=Oh;Li.AxiosHeaders=Gs;Li.formToJSON=t=>$C(Ae.isHTMLForm(t)?new FormData(t):t);Li.getAdapter=ZC.getAdapter;Li.HttpStatusCode=u4;Li.default=Li;const{Axios:Cne,AxiosError:jne,CanceledError:Ane,isCancel:Pne,CancelToken:Lne,VERSION:Tne,all:Ene,Cancel:Mne,isAxiosError:Rne,spread:Fne,toFormData:One,AxiosHeaders:Dne,HttpStatusCode:Ine,formToJSON:Bne,getAdapter:zne,mergeConfig:Une}=Li;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xp.apply(this,arguments)}var Jc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jc||(Jc={}));const x_="popstate";function HF(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return h4("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:l2(r)}return WF(e,n,null,t)}function Pi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function g3(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GF(){return Math.random().toString(36).substr(2,8)}function y_(t,e){return{usr:t.state,key:t.key,idx:e}}function h4(t,e,n,i){return n===void 0&&(n=null),Xp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gf(e):e,{state:n,key:e&&e.key||i||GF()})}function l2(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Gf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function WF(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o=Jc.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(Xp({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function g(){o=Jc.Pop;let N=d(),S=N==null?null:N-c;c=N,l&&l({action:o,location:b.location,delta:S})}function m(N,S){o=Jc.Push;let j=h4(b.location,N,S);c=d()+1;let w=y_(j,c),k=b.createHref(j);try{a.pushState(w,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(k)}s&&l&&l({action:o,location:b.location,delta:1})}function p(N,S){o=Jc.Replace;let j=h4(b.location,N,S);c=d();let w=y_(j,c),k=b.createHref(j);a.replaceState(w,"",k),s&&l&&l({action:o,location:b.location,delta:0})}function y(N){let S=r.location.origin!=="null"?r.location.origin:r.location.href,j=typeof N=="string"?N:l2(N);return j=j.replace(/ $/,"%20"),Pi(S,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,S)}let b={get action(){return o},get location(){return t(r,a)},listen(N){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(x_,g),l=N,()=>{r.removeEventListener(x_,g),l=null}},createHref(N){return e(r,N)},createURL:y,encodeLocation(N){let S=y(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:p,go(N){return a.go(N)}};return b}var v_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(v_||(v_={}));function qF(t,e,n){return n===void 0&&(n="/"),$F(t,e,n)}function $F(t,e,n,i){let r=typeof e=="string"?Gf(e):e,s=Pf(r.pathname||"/",n);if(s==null)return null;let a=ij(t);KF(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=sO(s);o=iO(a[l],c)}return o}function ij(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Pi(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=hu([i,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Pi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ij(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:tO(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let l of rj(s.path))r(s,a,l)}),e}function rj(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=rj(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function KF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nO(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const XF=/^:[\w-]+$/,YF=3,QF=2,JF=1,ZF=10,eO=-2,b_=t=>t==="*";function tO(t,e){let n=t.split("/"),i=n.length;return n.some(b_)&&(i+=eO),e&&(i+=QF),n.filter(r=>!b_(r)).reduce((r,s)=>r+(XF.test(s)?YF:s===""?JF:ZF),i)}function nO(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function iO(t,e,n){let{routesMeta:i}=t,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",g=d4({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:hu([s,g.pathname]),pathnameBase:uO(hu([s,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(s=hu([s,g.pathnameBase]))}return a}function d4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=rO(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((c,d,g)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let b=o[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[g];return p&&!y?c[m]=void 0:c[m]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function rO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),g3(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function sO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return g3(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Pf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const aO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oO=t=>aO.test(t);function lO(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Gf(t):t,s;if(n)if(oO(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),g3(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=w_(n.substring(1),"/"):s=w_(n,e)}else s=e;return{pathname:s,search:hO(i),hash:dO(r)}}function w_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function iy(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sj(t,e){let n=cO(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function aj(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Gf(t):(r=Xp({},t),Pi(!r.pathname||!r.pathname.includes("?"),iy("?","pathname","search",r)),Pi(!r.pathname||!r.pathname.includes("#"),iy("#","pathname","hash",r)),Pi(!r.search||!r.search.includes("#"),iy("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),g-=1;r.pathname=m.join("/")}o=g>=0?e[g]:"/"}let l=lO(r,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const hu=t=>t.join("/").replace(/\/\/+/g,"/"),uO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oj=["post","put","patch","delete"];new Set(oj);const pO=["get",...oj];new Set(pO);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yp.apply(this,arguments)}const c5=Y.createContext(null),lj=Y.createContext(null),Nu=Y.createContext(null),u5=Y.createContext(null),ku=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),cj=Y.createContext(null);function gO(t,e){let{relative:n}=e===void 0?{}:e;Ng()||Pi(!1);let{basename:i,navigator:r}=Y.useContext(Nu),{hash:s,pathname:a,search:o}=h5(t,{relative:n}),l=a;return i!=="/"&&(l=a==="/"?i:hu([i,a])),r.createHref({pathname:l,search:o,hash:s})}function Ng(){return Y.useContext(u5)!=null}function Cu(){return Ng()||Pi(!1),Y.useContext(u5).location}function uj(t){Y.useContext(Nu).static||Y.useLayoutEffect(t)}function ya(){let{isDataRoute:t}=Y.useContext(ku);return t?AO():mO()}function mO(){Ng()||Pi(!1);let t=Y.useContext(c5),{basename:e,future:n,navigator:i}=Y.useContext(Nu),{matches:r}=Y.useContext(ku),{pathname:s}=Cu(),a=JSON.stringify(sj(r,n.v7_relativeSplatPath)),o=Y.useRef(!1);return uj(()=>{o.current=!0}),Y.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){i.go(c);return}let g=aj(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:hu([e,g.pathname])),(d.replace?i.replace:i.push)(g,d.state,d)},[e,i,a,s,t])}function m3(){let{matches:t}=Y.useContext(ku),e=t[t.length-1];return e?e.params:{}}function h5(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=Y.useContext(Nu),{matches:r}=Y.useContext(ku),{pathname:s}=Cu(),a=JSON.stringify(sj(r,i.v7_relativeSplatPath));return Y.useMemo(()=>aj(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function xO(t,e){return yO(t,e)}function yO(t,e,n,i){Ng()||Pi(!1);let{navigator:r}=Y.useContext(Nu),{matches:s}=Y.useContext(ku),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Cu(),d;if(e){var g;let N=typeof e=="string"?Gf(e):e;l==="/"||(g=N.pathname)!=null&&g.startsWith(l)||Pi(!1),d=N}else d=c;let m=d.pathname||"/",p=m;if(l!=="/"){let N=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let y=qF(t,{pathname:p}),b=SO(y&&y.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:hu([l,r.encodeLocation?r.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?l:hu([l,r.encodeLocation?r.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,n,i);return e&&b?Y.createElement(u5.Provider,{value:{location:Yp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Jc.Pop}},b):b}function vO(){let t=jO(),e=fO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:r},n):null,null)}const bO=Y.createElement(vO,null);class wO extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Y.createElement(ku.Provider,{value:this.props.routeContext},Y.createElement(cj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _O(t){let{routeContext:e,match:n,children:i}=t,r=Y.useContext(c5);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(ku.Provider,{value:e},i)}function SO(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let d=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);d>=0||Pi(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<a.length;d++){let g=a[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=d),g.route.id){let{loaderData:m,errors:p}=n,y=g.route.loader&&m[g.route.id]===void 0&&(!p||p[g.route.id]===void 0);if(g.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,g,m)=>{let p,y=!1,b=null,N=null;n&&(p=o&&g.route.id?o[g.route.id]:void 0,b=g.route.errorElement||bO,l&&(c<0&&m===0?(PO("route-fallback"),y=!0,N=null):c===m&&(y=!0,N=g.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,m+1)),j=()=>{let w;return p?w=b:y?w=N:g.route.Component?w=Y.createElement(g.route.Component,null):g.route.element?w=g.route.element:w=d,Y.createElement(_O,{match:g,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:w})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?Y.createElement(wO,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:j(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):j()},null)}var hj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hj||{}),dj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dj||{});function NO(t){let e=Y.useContext(c5);return e||Pi(!1),e}function kO(t){let e=Y.useContext(lj);return e||Pi(!1),e}function CO(t){let e=Y.useContext(ku);return e||Pi(!1),e}function fj(t){let e=CO(),n=e.matches[e.matches.length-1];return n.route.id||Pi(!1),n.route.id}function jO(){var t;let e=Y.useContext(cj),n=kO(),i=fj();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function AO(){let{router:t}=NO(hj.UseNavigateStable),e=fj(dj.UseNavigateStable),n=Y.useRef(!1);return uj(()=>{n.current=!0}),Y.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Yp({fromRouteId:e},s)))},[t,e])}const __={};function PO(t,e,n){__[t]||(__[t]=!0)}function LO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Lr(t){Pi(!1)}function TO(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Jc.Pop,navigator:s,static:a=!1,future:o}=t;Ng()&&Pi(!1);let l=e.replace(/^\/*/,"/"),c=Y.useMemo(()=>({basename:l,navigator:s,static:a,future:Yp({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=Gf(i));let{pathname:d="/",search:g="",hash:m="",state:p=null,key:y="default"}=i,b=Y.useMemo(()=>{let N=Pf(d,l);return N==null?null:{location:{pathname:N,search:g,hash:m,state:p,key:y},navigationType:r}},[l,d,g,m,p,y,r]);return b==null?null:Y.createElement(Nu.Provider,{value:c},Y.createElement(u5.Provider,{children:n,value:b}))}function EO(t){let{children:e,location:n}=t;return xO(f4(e),n)}new Promise(()=>{});function f4(t,e){e===void 0&&(e=[]);let n=[];return Y.Children.forEach(t,(i,r)=>{if(!Y.isValidElement(i))return;let s=[...e,r];if(i.type===Y.Fragment){n.push.apply(n,f4(i.props.children,s));return}i.type!==Lr&&Pi(!1),!i.props.index||!i.props.children||Pi(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=f4(i.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c2.apply(this,arguments)}function pj(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function MO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RO(t,e){return t.button===0&&(!e||e==="_self")&&!MO(t)}function p4(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(r=>[n,r]):[[n,i]])},[]))}function FO(t,e){let n=p4(t);return e&&e.forEach((i,r)=>{n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)})}),n}const OO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DO=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],IO="6";try{window.__reactRouterVersion=IO}catch{}const BO=Y.createContext({isTransitioning:!1}),zO="startTransition",S_=iE[zO];function UO(t){let{basename:e,children:n,future:i,window:r}=t,s=Y.useRef();s.current==null&&(s.current=HF({window:r,v5Compat:!0}));let a=s.current,[o,l]=Y.useState({action:a.action,location:a.location}),{v7_startTransition:c}=i||{},d=Y.useCallback(g=>{c&&S_?S_(()=>l(g)):l(g)},[l,c]);return Y.useLayoutEffect(()=>a.listen(d),[a,d]),Y.useEffect(()=>LO(i),[i]),Y.createElement(TO,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:i})}const VO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wn=Y.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:g}=e,m=pj(e,OO),{basename:p}=Y.useContext(Nu),y,b=!1;if(typeof c=="string"&&HO.test(c)&&(y=c,VO))try{let w=new URL(window.location.href),k=c.startsWith("//")?new URL(w.protocol+c):new URL(c),E=Pf(k.pathname,p);k.origin===w.origin&&E!=null?c=E+k.search+k.hash:b=!0}catch{}let N=gO(c,{relative:r}),S=WO(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:r,viewTransition:g});function j(w){i&&i(w),w.defaultPrevented||S(w)}return Y.createElement("a",c2({},m,{href:y||N,onClick:b||s?i:j,ref:n,target:l}))}),Ad=Y.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:d}=e,g=pj(e,DO),m=h5(l,{relative:g.relative}),p=Cu(),y=Y.useContext(lj),{navigator:b,basename:N}=Y.useContext(Nu),S=y!=null&&qO(m)&&c===!0,j=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,w=p.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(w=w.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&N&&(k=Pf(k,N)||k);const E=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let I=w===j||!a&&w.startsWith(j)&&w.charAt(E)==="/",U=k!=null&&(k===j||!a&&k.startsWith(j)&&k.charAt(j.length)==="/"),R={isActive:I,isPending:U,isTransitioning:S},B=I?i:void 0,O;typeof s=="function"?O=s(R):O=[s,I?"active":null,U?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(R):o;return Y.createElement(Wn,c2({},g,{"aria-current":B,className:O,ref:n,style:P,to:l,viewTransition:c}),typeof d=="function"?d(R):d)});var g4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(g4||(g4={}));var N_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(N_||(N_={}));function GO(t){let e=Y.useContext(c5);return e||Pi(!1),e}function WO(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=ya(),c=Cu(),d=h5(t,{relative:a});return Y.useCallback(g=>{if(RO(g,n)){g.preventDefault();let m=i!==void 0?i:l2(c)===l2(d);l(t,{replace:m,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,i,r,n,t,s,a,o])}function gj(t){let e=Y.useRef(p4(t)),n=Y.useRef(!1),i=Cu(),r=Y.useMemo(()=>FO(i.search,n.current?null:e.current),[i.search]),s=ya(),a=Y.useCallback((o,l)=>{const c=p4(typeof o=="function"?o(r):o);n.current=!0,s("?"+c,l)},[s,r]);return[r,a]}function qO(t,e){e===void 0&&(e={});let n=Y.useContext(BO);n==null&&Pi(!1);let{basename:i}=GO(g4.useViewTransitionState),r=h5(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Pf(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Pf(n.nextLocation.pathname,i)||n.nextLocation.pathname;return d4(r.pathname,a)!=null||d4(r.pathname,s)!=null}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),k_=t=>{const e=KO(t);return e.charAt(0).toUpperCase()+e.slice(1)},mj=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),XO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=Y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>Y.createElement("svg",{ref:l,...YO,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:mj("lucide",r),...!s&&!XO(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,d])=>Y.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(t,e)=>{const n=Y.forwardRef(({className:i,...r},s)=>Y.createElement(QO,{ref:s,iconNode:e,className:mj(`lucide-${$O(k_(t))}`,`lucide-${t}`,i),...r}));return n.displayName=k_(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],b1=pt("activity",JO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],eD=pt("arrow-down",ZO);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],m4=pt("arrow-left",tD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],iD=pt("arrow-up",nD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x3=pt("ban",rD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ry=pt("bell",sD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],y3=pt("calendar",aD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],lD=pt("chart-column",oD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uD=pt("check",cD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jh=pt("chevron-down",hD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fD=pt("chevron-left",dD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gD=pt("chevron-right",pD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],xD=pt("chromium",mD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Id=pt("circle-alert",yD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],C_=pt("circle-check-big",vD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],x4=pt("circle-check",bD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],u2=pt("circle-x",wD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xj=pt("clock",_D);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],ND=pt("crop",SD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],gf=pt("crown",kD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],nc=pt("download",CD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],AD=pt("ellipsis-vertical",jD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gu=pt("eye",PD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],TD=pt("facebook",LD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],yj=pt("file-down",ED);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],RD=pt("file-image",MD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],OD=pt("funnel",FD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ID=pt("globe",DD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],zD=pt("heart",BD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],bs=pt("image",UD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sy=pt("info",VD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],GD=pt("layout-dashboard",HD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],h2=pt("loader-circle",WD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],vj=pt("lock-open",qD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],y4=pt("log-out",$D);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],XD=pt("mail",KD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],j_=pt("maximize-2",YD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],JD=pt("menu",QD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],eI=pt("pencil",ZD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qp=pt("plus",tI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],w1=pt("refresh-cw",nI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],v3=pt("search",iI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],sI=pt("share-2",rI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],d2=pt("shield",aI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],b3=pt("square-pen",oI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hl=pt("star",lI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],bj=pt("toggle-left",cI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],wj=pt("toggle-right",uI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_j=pt("trash-2",hI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fI=pt("trash",dI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],gI=pt("trending-up",pI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kg=pt("triangle-alert",mI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Dh=pt("upload",xI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vI=pt("user-check",yI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],wI=pt("user-x",bI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ca=pt("user",_I);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],f2=pt("users",SI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],kI=pt("users-round",NI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ih=pt("x",CI),I0="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net";class jI{async loginWithGoogle(){return new Promise((e,n)=>{const s=window.top.outerHeight/2+window.top.screenY-310,a=window.top.outerWidth/2+window.top.screenX-520/2,o=window.open(`${I0}/api/auth/google`,"google-auth",`width=520,height=620,left=${a},top=${s},scrollbars=yes,resizable=yes`);if(!o||o.closed){n(new Error("Khng th m popup. Vui lng kim tra popup blocker."));return}const l=d=>{const g=new URL(I0).origin;d.origin===g&&d.data==="auth:success"&&(o==null||o.close(),window.removeEventListener("message",l),e(!0))};window.addEventListener("message",l);const c=setInterval(()=>{o!=null&&o.closed&&(clearInterval(c),window.removeEventListener("message",l),n(new Error("Popup  ng")))},1e3)})}async getMe(){const e=await fetch(`${I0}/api/auth/me`,{credentials:"include"});if(!e.ok)throw e.status===401?new Error("Not authenticated"):new Error(`Failed to get user info: ${e.status}`);const n=await e.json();try{const i=await fetch(`${I0}/api/accounts/me`,{credentials:"include"});if(i.ok){const r=await i.json();n.avatar=r.avatar||n.avatar,n.picture=r.avatar||n.picture,n.tenHienThi=r.tenHienThi||n.tenHienThi,n.framesCount=r.framesCount||0}}catch(i){console.error("Failed to fetch latest account data:",i)}return localStorage.setItem("kh_me",JSON.stringify(n)),window.dispatchEvent(new Event("kh_me_changed")),n}async logout(){try{await fetch(`${I0}/api/auth/logout`,{method:"POST",credentials:"include"})}catch(e){console.error("Logout API error:",e)}finally{localStorage.removeItem("kh_me"),window.dispatchEvent(new Event("kh_me_changed"))}}isAdmin(){try{const e=JSON.parse(localStorage.getItem("kh_me")||"null");return(e==null?void 0:e.vaiTro)==="admin"}catch{return!1}}isAuthenticated(){try{const e=JSON.parse(localStorage.getItem("kh_me")||"null");return!!(e!=null&&e.email)}catch{return!1}}async refreshMe(){try{return await this.getMe()}catch(e){throw console.error("Failed to refresh user info:",e),localStorage.removeItem("kh_me"),window.dispatchEvent(new Event("kh_me_changed")),e}}}const ef=new jI,AI="https://localhost:7090".replace(/\/$/,"");function w3({onClose:t}){const e=ya(),[n,i]=Y.useState(!1),[r,s]=Y.useState(()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}}),[a,o]=Y.useState(""),l=Y.useRef(null),c=Y.useRef(null);Y.useEffect(()=>{const p=async y=>{console.log(" Message from:",y.origin,y.data);const b=new URL(AI).origin;if(y.origin===b&&y.data==="auth:success")try{i(!0),console.log(" Getting user info...");const N=await ef.getMe();console.log(" User info received:",N),s(N),d()}catch(N){console.error(" Failed to get user info:",N),o("Khng th ly thng tin ngi dng")}finally{i(!1),l.current&&!l.current.closed&&l.current.close(),l.current=null,c.current&&(clearInterval(c.current),c.current=null)}};return window.addEventListener("message",p),document.body.style.overflow="hidden",()=>{window.removeEventListener("message",p),document.body.style.overflow="auto",c.current&&clearInterval(c.current)}},[]);const d=()=>{t?t():window.history.length>1?e(-1):e("/")};Y.useEffect(()=>{const p=y=>{y.key==="Escape"&&d()};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[]);const g=async()=>{try{i(!0),o(""),console.log(" Starting Google OAuth..."),await ef.loginWithGoogle(),console.log(" OAuth popup completed");const p=await ef.getMe();console.log(" User info received:",p),s(p),d()}catch(p){console.error(" Login error:",p),o(p.message||"ng nhp tht bi. Vui lng th li.")}finally{i(!1)}},m=async()=>{try{await ef.logout(),s(null),d()}catch(p){console.error(" Logout error:",p),o("ng xut tht bi")}};return h.jsxs("div",{className:"fixed inset-0 z-[100]",children:[h.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px]",onClick:d}),h.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-16 sm:top-20 md:top-24 w-full max-w-md px-4",children:h.jsxs("div",{className:"relative rounded-2xl bg-white shadow-xl",children:[h.jsx("button",{onClick:d,className:"absolute right-3 top-3 p-2 rounded-full hover:bg-black/5","aria-label":"ng",children:h.jsx(Ih,{size:18})}),h.jsx("div",{className:"p-6 pt-10",children:r?h.jsxs("div",{className:"space-y-4 text-center",children:[h.jsx("div",{className:"text-sm text-gray-500",children:"Bn  ng nhp"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"font-medium",children:r.name||r.tenHienThi}),h.jsx("div",{className:"text-sm text-gray-600",children:r.email}),r.vaiTro&&h.jsx("div",{className:`text-xs font-medium ${r.vaiTro==="admin"?"text-purple-600":"text-blue-600"}`,children:r.vaiTro==="admin"?" Qun tr vin":r.vaiTro})]}),h.jsxs("div",{className:"flex gap-2 pt-2",children:[h.jsx("button",{onClick:m,className:"flex-1 border border-gray-300 rounded-lg py-2 hover:bg-gray-50 transition",children:"ng xut"}),h.jsx("button",{onClick:d,className:"flex-1 bg-blue-600 text-white rounded-lg py-2 hover:bg-blue-700 transition",children:"ng"})]})]}):h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4",children:h.jsx(d2,{className:"w-8 h-8 text-white"})}),h.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"ng nhp"}),h.jsx("p",{className:"text-sm text-slate-600 mt-2 mb-6",children:"ng nhp  s dng y  tnh nng TrendyFrame"}),a&&h.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:h.jsx("p",{className:"text-sm text-red-600",children:a})}),h.jsxs("button",{onClick:g,disabled:n,className:"w-full flex items-center justify-center gap-3 bg-white border border-slate-300 rounded-xl px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition",children:[n?h.jsx(h2,{className:"w-5 h-5 animate-spin"}):h.jsx(xD,{className:"w-5 h-5"}),n?"ang ng nhp...":"ng nhp bng Google"]}),h.jsx("div",{className:"mt-6",children:h.jsxs("p",{className:"text-xs text-slate-500",children:["Bng vic ng nhp, bn ng  vi"," ",h.jsx("a",{href:"/terms",className:"text-blue-600 hover:underline",children:"iu khon"})," ","v"," ",h.jsx("a",{href:"/privacy",className:"text-blue-600 hover:underline",children:"Chnh sch bo mt"})]})})]})})]})})]})}const qc="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,"");function pa(t,e="User"){return t?t.startsWith("http://")||t.startsWith("https://")?t:`${qc}${t.startsWith("/")?"":"/"}${t}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=0D8ABC&color=fff&size=128&bold=true`}function PI(t,e="User"){const n=pa(t,e);if(n.includes("ui-avatars.com"))return n;const i=Date.now();return n.includes("?")?`${n}&t=${i}`:`${n}?t=${i}`}function LI(){const[t,e]=Y.useState(!1),[n,i]=Y.useState(!1),[r,s]=Y.useState(null),[a,o]=Y.useState(!1),[l,c]=Y.useState(!1),[d,g]=Y.useState(!1),[m,p]=Y.useState(!1),y=Y.useRef(null),b=Y.useRef(null),N=Cu(),S=ya(),j=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}},w=async()=>{try{p(!0);const B=await ef.getMe();s(B),console.log(" User info refreshed:",B)}catch(B){console.error(" Failed to refresh user info:",B),s(null),localStorage.removeItem("kh_me")}finally{p(!1)}};Y.useEffect(()=>{const B=j();s(B),B&&w()},[]),Y.useEffect(()=>{const B=j();JSON.stringify(B)!==JSON.stringify(r)&&s(B)},[N.pathname]),Y.useEffect(()=>{const B=()=>{const O=j();s(O),console.log(" User synced from event:",O)};return window.addEventListener("kh_me_changed",B),window.addEventListener("storage",B),()=>{window.removeEventListener("kh_me_changed",B),window.removeEventListener("storage",B)}},[]),Y.useEffect(()=>{const B=()=>i(window.scrollY>8);return B(),window.addEventListener("scroll",B,{passive:!0}),()=>window.removeEventListener("scroll",B)},[]),Y.useEffect(()=>{e(!1),o(!1),c(!1)},[N.pathname]),Y.useEffect(()=>{console.log("=== DEBUG USER DATA ==="),console.log("localStorage:",j()),console.log("me state:",r),console.log("vaiTro:",r==null?void 0:r.vaiTro),console.log("email:",r==null?void 0:r.email);const B=(r==null?void 0:r.vaiTro)==="admin";console.log("isAdmin:",B)},[r]),Y.useEffect(()=>(document.body.style.overflow=t?"hidden":"",()=>{document.body.style.overflow=""}),[t]),Y.useEffect(()=>{const B=O=>{y.current&&!y.current.contains(O.target)&&o(!1),b.current&&!b.current.contains(O.target)&&c(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),Y.useEffect(()=>{const B=()=>{window.innerWidth>=768&&e(!1)};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const k=async()=>{try{await ef.logout(),s(null),o(!1),S("/"),console.log(" Logout successful")}catch(B){console.error(" Logout error:",B),s(null),o(!1),S("/")}},E=(r==null?void 0:r.name)||(r==null?void 0:r.tenHienThi)||"User",I=(r==null?void 0:r.vaiTro)==="admin",U=!!r,R=PI((r==null?void 0:r.picture)||(r==null?void 0:r.avatar),E);return console.log(" [Navbar] Avatar URL:",R),h.jsxs(h.Fragment,{children:[h.jsxs("header",{className:["fixed top-0 inset-x-0 z-50","transition-all duration-300","bg-white/30","supports-[backdrop-filter]:bg-white/20 supports-[backdrop-filter]:backdrop-blur-xl",n?"shadow-md":"shadow-none"].join(" "),children:[h.jsxs("nav",{className:"max-w-7xl mx-auto px-6 py-3 flex items-center justify-between",children:[h.jsx(Wn,{to:"/",className:"flex items-center gap-2 select-none","aria-label":"Khung Hnh",children:h.jsx("img",{src:"/frames/logo.png",alt:"Logo Khung Hnh",className:"h-14 w-14 object-contain"})}),h.jsxs("div",{className:"hidden md:flex items-center gap-8 text-gray-800 font-medium",children:[h.jsxs("div",{className:"relative",ref:b,children:[h.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-1 text-gray-800 hover:text-blue-600 font-medium transition",children:["Cng c",h.jsx(jh,{size:16,className:`transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&h.jsxs("div",{className:"absolute left-0 mt-3 w-60 bg-white/95 backdrop-blur-sm border border-gray-200 shadow-xl rounded-xl py-2 z-50",children:[h.jsx("div",{className:"absolute -top-2 left-6 w-4 h-4 bg-white border-l border-t border-gray-200 rotate-45"}),[{to:"/compress",title:"Nn nh",desc:"Gim dung lng nhanh chng"},{to:"/resize",title:"Thay i kch thc",desc:"Ty chnh chiu rng v cao"},{to:"/image-to-pdf",title:"nh sang PDF",desc:"Chuyn i nh thnh file PDF"}].map(B=>h.jsxs(Wn,{to:B.to,onClick:()=>c(!1),className:"block px-4 py-2.5 hover:bg-blue-50/70 transition rounded-lg group",children:[h.jsx("div",{className:"font-semibold text-gray-800 group-hover:text-blue-700",children:B.title}),h.jsx("div",{className:"text-xs text-gray-500 group-hover:text-blue-600",children:B.desc})]},B.to))]})]}),h.jsx(Ad,{to:"/trending",className:"hover:text-blue-600 transition",children:"Xu hng"}),U&&h.jsx(Ad,{to:"/create-frame",className:"hover:text-blue-600 transition",children:"To khung"}),I&&h.jsx(Ad,{to:"/admin",className:"hover:text-purple-700 transition text-purple-600 font-semibold flex items-center gap-1",children:" Qun tr"}),U?h.jsxs("div",{className:"relative",ref:y,children:[h.jsxs("button",{onClick:()=>o(!a),className:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-100/50 transition",children:[h.jsx("img",{src:R,alt:`Avatar ca ${E}`,className:"w-10 h-10 rounded-full border object-cover",referrerPolicy:"no-referrer",onError:B=>{B.currentTarget.onerror=null,B.currentTarget.src="/frames/icon/default-avatar.png"}}),m?h.jsx(w1,{size:16,className:"text-blue-600 animate-spin"}):h.jsx(jh,{size:16,className:`text-gray-600 transition-transform ${a?"rotate-180":""}`})]}),a&&h.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[h.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-white border-l border-t border-gray-200 rotate-45"}),h.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[h.jsx("div",{className:"font-medium text-gray-900",children:E}),h.jsx("div",{className:"text-sm text-gray-500",children:r==null?void 0:r.email}),(r==null?void 0:r.vaiTro)&&h.jsx("div",{className:`text-xs font-medium mt-1 ${r.vaiTro==="admin"?"text-purple-600":"text-blue-600"}`,children:r.vaiTro==="admin"?" Qun tr vin":` ${r.vaiTro}`})]}),h.jsxs(Wn,{to:"/account",className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition",onClick:()=>o(!1),children:[h.jsx(ca,{size:16}),h.jsx("span",{children:"Ti khon"})]}),h.jsxs(Wn,{to:"/my-frames",className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition",onClick:()=>o(!1),children:[h.jsx(bs,{size:16}),h.jsx("span",{children:"Khung hnh ca ti"})]}),I&&h.jsxs(Wn,{to:"/admin",className:"flex items-center gap-3 px-4 py-2 text-purple-600 hover:bg-purple-50 transition",onClick:()=>o(!1),children:[h.jsx("span",{className:"text-sm",children:""}),h.jsx("span",{children:"Trang qun tr"})]}),h.jsxs("button",{onClick:async()=>{o(!1),await w()},disabled:m,className:"flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition w-full text-left disabled:opacity-50",children:[h.jsx(w1,{size:16,className:m?"animate-spin":""}),h.jsx("span",{children:"Lm mi thng tin"})]}),h.jsx("hr",{className:"my-2"}),h.jsxs("button",{onClick:k,className:"flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 transition w-full text-left",children:[h.jsx(y4,{size:16}),h.jsx("span",{children:"ng xut"})]})]})]}):h.jsx("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 transition",children:"ng nhp"})]}),h.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-200/60 transition",onClick:()=>e(B=>!B),"aria-label":"Menu","aria-expanded":t,"aria-controls":"mobile-menu",children:t?h.jsx(Ih,{size:28}):h.jsx(JD,{size:28})})]}),t&&h.jsxs("div",{id:"mobile-menu",className:"md:hidden px-6 pb-5 pt-2 space-y-4 bg-white/95 supports-[backdrop-filter]:bg-white/80 supports-[backdrop-filter]:backdrop-blur-md border-t border-gray-200",children:[h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>c(!l),className:"flex items-center justify-between w-full text-gray-800 py-2",children:[h.jsx("span",{children:"Cng c"}),h.jsx(jh,{size:16,className:`transition-transform ${l?"rotate-180":""}`})]}),l&&h.jsxs("div",{className:"pl-4 space-y-2 mt-2",children:[h.jsxs(Wn,{to:"/resize",onClick:()=>e(!1),className:"flex items-center gap-2 text-gray-600 py-2",children:[h.jsx(ND,{size:16}),h.jsx("span",{children:"Thay i kch thc"})]}),h.jsxs(Wn,{to:"/image-to-pdf",onClick:()=>e(!1),className:"flex items-center gap-2 text-gray-600 py-2",children:[h.jsx(RD,{size:16}),h.jsx("span",{children:"nh sang PDF"})]}),h.jsxs(Wn,{to:"/tools",onClick:()=>e(!1),className:"flex items-center gap-2 text-blue-600 py-2 font-medium",children:[h.jsx(bs,{size:16}),h.jsx("span",{children:"Xem tt c"})]})]})]}),h.jsx(Ad,{onClick:()=>e(!1),to:"/trending",className:"block text-gray-800 py-2",children:"Xu hng"}),U&&h.jsx(Ad,{onClick:()=>e(!1),to:"/create-frame",className:"block text-gray-800 py-2",children:"To khung"}),I&&h.jsx(Ad,{onClick:()=>e(!1),to:"/admin",className:"block text-purple-600 font-semibold py-2",children:" Qun tr"}),U?h.jsxs("div",{className:"space-y-3 pt-3",children:[h.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-200",children:[h.jsx("img",{src:R,alt:"avatar",className:"w-12 h-12 rounded-full border object-cover",referrerPolicy:"no-referrer"}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("div",{className:"font-medium text-gray-900 truncate",children:E}),h.jsx("div",{className:"text-sm text-gray-500 truncate",children:r==null?void 0:r.email}),(r==null?void 0:r.vaiTro)&&h.jsx("div",{className:`text-xs font-medium ${r.vaiTro==="admin"?"text-purple-600":"text-blue-600"}`,children:r.vaiTro==="admin"?" Qun tr vin":r.vaiTro})]}),h.jsx("button",{onClick:w,disabled:m,className:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50",children:h.jsx(w1,{size:16,className:m?"animate-spin":""})})]}),h.jsxs(Wn,{to:"/account",onClick:()=>e(!1),className:"flex items-center gap-3 text-gray-700 py-2",children:[h.jsx(ca,{size:16}),h.jsx("span",{children:"Ti khon"})]}),h.jsxs(Wn,{to:"/my-frames",onClick:()=>e(!1),className:"flex items-center gap-3 text-gray-700 py-2",children:[h.jsx(bs,{size:16}),h.jsx("span",{children:"Khung hnh ca ti"})]}),h.jsxs("button",{onClick:k,className:"flex items-center gap-3 text-red-600 py-2 w-full text-left",children:[h.jsx(y4,{size:16}),h.jsx("span",{children:"ng xut"})]})]}):h.jsx("button",{onClick:()=>{e(!1),g(!0)},className:"bg-blue-600 text-white px-5 py-2 rounded-lg inline-block",children:"ng nhp"})]})]}),h.jsx("div",{className:"h-[64px]"}),d&&h.jsx(w3,{onClose:()=>g(!1)})]})}function TI(){const t=new Date().getFullYear();return h.jsxs("footer",{className:"relative mt-16 text-white",children:[h.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-[#233246] via-[#1f2a3a] to-[#101826]"}),h.jsx("div",{className:"pointer-events-none absolute inset-x-0 -top-8 -z-10 h-24 opacity-70 blur-2xl [background:radial-gradient(60%_60%_at_50%_0%,rgba(255,255,255,0.18),rgba(255,255,255,0))]"}),h.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[h.jsxs("div",{className:"grid gap-10 md:grid-cols-4",children:[h.jsxs("div",{className:"space-y-5",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"h-10 w-10 rounded-xl bg-white/15 ring-1 ring-white/20 grid place-items-center text-lg shadow-[0_0_0_1px_rgba(255,255,255,0.06)]",children:h.jsx("span",{children:""})}),h.jsx("span",{className:"text-2xl font-extrabold tracking-tight",children:"Khunghinh"})]}),h.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg border border-white/20 bg-white/10 px-4 py-2 text-sm backdrop-blur transition hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40","aria-label":"i ngn ng",type:"button",children:[h.jsx(ID,{className:"h-4 w-4"}),"Ting Vit ",h.jsx("span",{"aria-hidden":!0,className:"opacity-70",children:""})]}),h.jsx("p",{className:"text-sm text-white/70 leading-relaxed",children:"To & qun l khung hnh trc tuyn. Nhanh, nh, thn thin."})]}),h.jsxs("nav",{"aria-label":"Khunghinh",className:"text-sm",children:[h.jsx("h3",{className:"mb-3 font-semibold tracking-wide text-white/90",children:"Khunghinh"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Lin h"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"iu khon s dng"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Chnh sch bo mt"})})]})]}),h.jsxs("nav",{"aria-label":"Cng c",className:"text-sm",children:[h.jsx("h3",{className:"mb-3 font-semibold tracking-wide text-white/90",children:"Cng c"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsx("li",{children:h.jsx("a",{href:"/editor",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"To khung hnh"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Xa nn"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"To vng trong sut"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Nn hnh nh"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"text-white/80 hover:text-white underline-offset-4 hover:underline",children:"Thay i kch thc"})})]})]}),h.jsxs("div",{className:"text-sm",children:[h.jsx("h3",{className:"mb-3 font-semibold tracking-wide text-white/90",children:"Theo di chng ti"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("a",{href:"#","aria-label":"Facebook Page",className:"group rounded-full p-3 ring-1 ring-white/20 bg-white/10 backdrop-blur transition hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40",children:h.jsx(TD,{className:"h-5 w-5 transition group-hover:scale-110"})}),h.jsx("a",{href:"#","aria-label":"Facebook Group",className:"group rounded-full p-3 ring-1 ring-white/20 bg-white/10 backdrop-blur transition hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40",children:h.jsx(kI,{className:"h-5 w-5 transition group-hover:scale-110"})})]}),h.jsxs("div",{className:"mt-2 flex gap-8 text-xs text-white/70",children:[h.jsx("span",{children:"Page"}),h.jsx("span",{children:"Group"})]})]})]}),h.jsxs("div",{className:"mt-10",children:[h.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-white/30 to-transparent"}),h.jsxs("div",{className:"mt-4 text-center text-sm text-white/80",children:[h.jsxs("p",{children:["2016",t,"  ",h.jsx("span",{className:"font-semibold",children:"KhungHinh"}),". All rights reserved."]}),h.jsxs("p",{className:"mt-1 text-white/70",children:["Thit k & pht trin bi ",h.jsx("span",{className:"font-medium",children:"Nguyn L Quc Lm"})," & ",h.jsx("span",{className:"font-medium",children:"Nguyn Vn Trng"}),"."]})]})]})]})]})}const Sj=Y.createContext({});function EI(t){const e=Y.useRef(null);return e.current===null&&(e.current=t()),e.current}const _3=Y.createContext(null),Nj=Y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function MI(t=!0){const e=Y.useContext(_3);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=Y.useId();Y.useEffect(()=>{t&&r(s)},[t]);const a=Y.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,a]:[!0]}const S3=typeof window<"u",RI=S3?Y.useLayoutEffect:Y.useEffect,da=t=>t;let kj=da;function N3(t){let e;return()=>(e===void 0&&(e=t()),e)}const Lf=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},ac=t=>t*1e3,oc=t=>t/1e3,FI={useManualTiming:!1};function OI(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){s.has(c)&&(l.schedule(c),t()),c(a)}const l={schedule:(c,d=!1,g=!1)=>{const p=g&&i?e:n;return d&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(a=c,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(o),e.clear(),i=!1,r&&(r=!1,l.process(c))}};return l}const Sm=["read","resolveKeyframes","update","preRender","render","postRender"],DI=40;function Cj(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Sm.reduce((S,j)=>(S[j]=OI(s),S),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:g,postRender:m}=a,p=()=>{const S=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(S-r.timestamp,DI),1),r.timestamp=S,r.isProcessing=!0,o.process(r),l.process(r),c.process(r),d.process(r),g.process(r),m.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(p))},y=()=>{n=!0,i=!0,r.isProcessing||t(p)};return{schedule:Sm.reduce((S,j)=>{const w=a[j];return S[j]=(k,E=!1,I=!1)=>(n||y(),w.schedule(k,E,I)),S},{}),cancel:S=>{for(let j=0;j<Sm.length;j++)a[Sm[j]].cancel(S)},state:r,steps:a}}const{schedule:ri,cancel:mu,state:Er,steps:ay}=Cj(typeof requestAnimationFrame<"u"?requestAnimationFrame:da,!0),jj=Y.createContext({strict:!1}),A_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tf={};for(const t in A_)Tf[t]={isEnabled:e=>A_[t].some(n=>!!e[n])};function II(t){for(const e in t)Tf[e]={...Tf[e],...t[e]}}const BI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function p2(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||BI.has(t)}let Aj=t=>!p2(t);function zI(t){t&&(Aj=e=>e.startsWith("on")?!p2(e):t(e))}try{zI(require("@emotion/is-prop-valid").default)}catch{}function UI(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(Aj(r)||n===!0&&p2(r)||!e&&!p2(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function VI(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const d5=Y.createContext({});function Jp(t){return typeof t=="string"||Array.isArray(t)}function f5(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const k3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C3=["initial",...k3];function p5(t){return f5(t.animate)||C3.some(e=>Jp(t[e]))}function Pj(t){return!!(p5(t)||t.variants)}function HI(t,e){if(p5(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Jp(n)?n:void 0,animate:Jp(i)?i:void 0}}return t.inherit!==!1?e:{}}function GI(t){const{initial:e,animate:n}=HI(t,Y.useContext(d5));return Y.useMemo(()=>({initial:e,animate:n}),[P_(e),P_(n)])}function P_(t){return Array.isArray(t)?t.join(" "):t}const WI=Symbol.for("motionComponentSymbol");function tf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qI(t,e,n){return Y.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):tf(n)&&(n.current=i))},[e])}const j3=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$I="framerAppearId",Lj="data-"+j3($I),{schedule:A3}=Cj(queueMicrotask,!1),Tj=Y.createContext({});function KI(t,e,n,i,r){var s,a;const{visualElement:o}=Y.useContext(d5),l=Y.useContext(jj),c=Y.useContext(_3),d=Y.useContext(Nj).reducedMotion,g=Y.useRef(null);i=i||l.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=g.current,p=Y.useContext(Tj);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&XI(g.current,n,r,p);const y=Y.useRef(!1);Y.useInsertionEffect(()=>{m&&y.current&&m.update(n,c)});const b=n[Lj],N=Y.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,b)));return RI(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),A3.render(m.render),N.current&&m.animationState&&m.animationState.animateChanges())}),Y.useEffect(()=>{m&&(!N.current&&m.animationState&&m.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,b)}),N.current=!1))}),m}function XI(t,e,n,i){const{layoutId:r,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Ej(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||o&&tf(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function Ej(t){if(t)return t.options.allowProjection!==!1?t.projection:Ej(t.parent)}function YI({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,a;t&&II(t);function o(c,d){let g;const m={...Y.useContext(Nj),...c,layoutId:QI(c)},{isStatic:p}=m,y=GI(c),b=i(c,p);if(!p&&S3){JI();const N=ZI(m);g=N.MeasureLayout,y.visualElement=KI(r,b,m,e,N.ProjectionNode)}return h.jsxs(d5.Provider,{value:y,children:[g&&y.visualElement?h.jsx(g,{visualElement:y.visualElement,...m}):null,n(r,c,qI(b,y.visualElement,d),b,p,y.visualElement)]})}o.displayName=`motion.${typeof r=="string"?r:`create(${(a=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&a!==void 0?a:""})`}`;const l=Y.forwardRef(o);return l[WI]=r,l}function QI({layoutId:t}){const e=Y.useContext(Sj).id;return e&&t!==void 0?e+"-"+t:t}function JI(t,e){Y.useContext(jj).strict}function ZI(t){const{drag:e,layout:n}=Tf;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const eB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P3(t){return typeof t!="string"||t.includes("-")?!1:!!(eB.indexOf(t)>-1||/[A-Z]/u.test(t))}function L_(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function L3(t,e,n,i){if(typeof e=="function"){const[r,s]=L_(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=L_(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const v4=t=>Array.isArray(t),tB=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),nB=t=>v4(t)?t[t.length-1]||0:t,ns=t=>!!(t&&t.getVelocity);function _1(t){const e=ns(t)?t.get():t;return tB(e)?e.toValue():e}function iB({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const a={latestValues:rB(i,r,s,t),renderState:e()};return n&&(a.onMount=o=>n({props:i,current:o,...a}),a.onUpdate=o=>n(o)),a}const Mj=t=>(e,n)=>{const i=Y.useContext(d5),r=Y.useContext(_3),s=()=>iB(t,e,i,r);return n?s():EI(s)};function rB(t,e,n,i){const r={},s=i(t,{});for(const m in s)r[m]=_1(s[m]);let{initial:a,animate:o}=t;const l=p5(t),c=Pj(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const g=d?o:a;if(g&&typeof g!="boolean"&&!f5(g)){const m=Array.isArray(g)?g:[g];for(let p=0;p<m.length;p++){const y=L3(t,m[p]);if(y){const{transitionEnd:b,transition:N,...S}=y;for(const j in S){let w=S[j];if(Array.isArray(w)){const k=d?w.length-1:0;w=w[k]}w!==null&&(r[j]=w)}for(const j in b)r[j]=b[j]}}}return r}const Wf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gh=new Set(Wf),Rj=t=>e=>typeof e=="string"&&e.startsWith(t),Fj=Rj("--"),sB=Rj("var(--"),T3=t=>sB(t)?aB.test(t.split("/*")[0].trim()):!1,aB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Oj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fc=(t,e,n)=>n>e?e:n<t?t:n,qf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zp={...qf,transform:t=>fc(0,1,t)},Nm={...qf,default:1},Cg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vc=Cg("deg"),gl=Cg("%"),Ct=Cg("px"),oB=Cg("vh"),lB=Cg("vw"),T_={...gl,parse:t=>gl.parse(t)/100,transform:t=>gl.transform(t*100)},cB={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,backgroundPositionX:Ct,backgroundPositionY:Ct},uB={rotate:Vc,rotateX:Vc,rotateY:Vc,rotateZ:Vc,scale:Nm,scaleX:Nm,scaleY:Nm,scaleZ:Nm,skew:Vc,skewX:Vc,skewY:Vc,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:Zp,originX:T_,originY:T_,originZ:Ct},E_={...qf,transform:Math.round},E3={...cB,...uB,zIndex:E_,size:Ct,fillOpacity:Zp,strokeOpacity:Zp,numOctaves:E_},hB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dB=Wf.length;function fB(t,e,n){let i="",r=!0;for(let s=0;s<dB;s++){const a=Wf[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=Oj(o,E3[a]);if(!l){r=!1;const d=hB[a]||a;i+=`${d}(${c}) `}n&&(e[a]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function M3(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(Gh.has(l)){a=!0;continue}else if(Fj(l)){r[l]=c;continue}else{const d=Oj(c,E3[l]);l.startsWith("origin")?(o=!0,s[l]=d):i[l]=d}}if(e.transform||(a||n?i.transform=fB(e,t.transform,n):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;i.transformOrigin=`${l} ${c} ${d}`}}const pB={offset:"stroke-dashoffset",array:"stroke-dasharray"},gB={offset:"strokeDashoffset",array:"strokeDasharray"};function mB(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?pB:gB;t[s.offset]=Ct.transform(-i);const a=Ct.transform(e),o=Ct.transform(n);t[s.array]=`${a} ${o}`}function M_(t,e,n){return typeof t=="string"?t:Ct.transform(e+n*t)}function xB(t,e,n){const i=M_(e,t.x,t.width),r=M_(n,t.y,t.height);return`${i} ${r}`}function R3(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},d,g){if(M3(t,c,g),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:y}=t;m.transform&&(y&&(p.transform=m.transform),delete m.transform),y&&(r!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=xB(y,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),i!==void 0&&(m.scale=i),a!==void 0&&mB(m,a,o,l,!1)}const F3=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Dj=()=>({...F3(),attrs:{}}),O3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ij(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const Bj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zj(t,e,n,i){Ij(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(Bj.has(r)?r:j3(r),e.attrs[r])}const g2={};function yB(t){Object.assign(g2,t)}function Uj(t,{layout:e,layoutId:n}){return Gh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!g2[t]||t==="opacity")}function D3(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(ns(r[a])||e.style&&ns(e.style[a])||Uj(a,t)||((i=n==null?void 0:n.getValue(a))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}function Vj(t,e,n){const i=D3(t,e,n);for(const r in t)if(ns(t[r])||ns(e[r])){const s=Wf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}function vB(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const R_=["x","y","width","height","cx","cy","r"],bB={useVisualState:Mj({scrapeMotionValuesFromProps:Vj,createRenderState:Dj,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const o in r)if(Gh.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<R_.length;o++){const l=R_[o];t[l]!==e[l]&&(a=!0)}a&&ri.read(()=>{vB(n,i),ri.render(()=>{R3(i,r,O3(n.tagName),t.transformTemplate),zj(n,i)})})}})},wB={useVisualState:Mj({scrapeMotionValuesFromProps:D3,createRenderState:F3})};function Hj(t,e,n){for(const i in e)!ns(e[i])&&!Uj(i,n)&&(t[i]=e[i])}function _B({transformTemplate:t},e){return Y.useMemo(()=>{const n=F3();return M3(n,e,t),Object.assign({},n.vars,n.style)},[e])}function SB(t,e){const n=t.style||{},i={};return Hj(i,n,t),Object.assign(i,_B(t,e)),i}function NB(t,e){const n={},i=SB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function kB(t,e,n,i){const r=Y.useMemo(()=>{const s=Dj();return R3(s,e,O3(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Hj(s,t.style,t),r.style={...s,...r.style}}return r}function CB(t=!1){return(n,i,r,{latestValues:s},a)=>{const l=(P3(n)?kB:NB)(i,s,a,n),c=UI(i,typeof n=="string",t),d=n!==Y.Fragment?{...c,...l,ref:r}:{},{children:g}=i,m=Y.useMemo(()=>ns(g)?g.get():g,[g]);return Y.createElement(n,{...d,children:m})}}function jB(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...P3(i)?bB:wB,preloadedFeatures:t,useRender:CB(r),createVisualElement:e,Component:i};return YI(a)}}function Gj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function g5(t,e,n){const i=t.getProps();return L3(i,e,n!==void 0?n:i.custom,t)}const AB=N3(()=>window.ScrollTimeline!==void 0);class PB{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(AB()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class LB extends PB{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function I3(t,e){return t?t[e]||t.default||t:void 0}const b4=2e4;function Wj(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<b4;)e+=n,i=t.next(e);return e>=b4?1/0:e}function B3(t){return typeof t=="function"}function F_(t,e){t.timeline=e,t.onfinish=null}const z3=t=>Array.isArray(t)&&typeof t[0]=="number",TB={linearEasing:void 0};function EB(t,e){const n=N3(t);return()=>{var i;return(i=TB[e])!==null&&i!==void 0?i:n()}}const m2=EB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qj=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(Lf(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function $j(t){return!!(typeof t=="function"&&m2()||!t||typeof t=="string"&&(t in w4||m2())||z3(t)||Array.isArray(t)&&t.every($j))}const ip=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,w4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ip([0,.65,.55,1]),circOut:ip([.55,0,1,.45]),backIn:ip([.31,.01,.66,-.59]),backOut:ip([.33,1.53,.69,.99])};function Kj(t,e){if(t)return typeof t=="function"&&m2()?qj(t,e):z3(t)?ip(t):Array.isArray(t)?t.map(n=>Kj(n,e)||w4.easeOut):w4[t]}const Po={x:!1,y:!1};function Xj(){return Po.x||Po.y}function MB(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function Yj(t,e){const n=MB(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function O_(t){return e=>{e.pointerType==="touch"||Xj()||t(e)}}function RB(t,e,n={}){const[i,r,s]=Yj(t,n),a=O_(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const d=O_(g=>{c(g),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,r)});return i.forEach(o=>{o.addEventListener("pointerenter",a,r)}),s}const Qj=(t,e)=>e?t===e?!0:Qj(t,e.parentElement):!1,U3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,FB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OB(t){return FB.has(t.tagName)||t.tabIndex!==-1}const rp=new WeakSet;function D_(t){return e=>{e.key==="Enter"&&t(e)}}function oy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const DB=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=D_(()=>{if(rp.has(n))return;oy(n,"down");const r=D_(()=>{oy(n,"up")}),s=()=>oy(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function I_(t){return U3(t)&&!Xj()}function IB(t,e,n={}){const[i,r,s]=Yj(t,n),a=o=>{const l=o.currentTarget;if(!I_(o)||rp.has(l))return;rp.add(l);const c=e(o),d=(p,y)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",m),!(!I_(p)||!rp.has(l))&&(rp.delete(l),typeof c=="function"&&c(p,{success:y}))},g=p=>{d(p,n.useGlobalTarget||Qj(l,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",m,r)};return i.forEach(o=>{!OB(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,r),o.addEventListener("focus",c=>DB(c,r),r)}),s}function BB(t){return t==="x"||t==="y"?Po[t]?null:(Po[t]=!0,()=>{Po[t]=!1}):Po.x||Po.y?null:(Po.x=Po.y=!0,()=>{Po.x=Po.y=!1})}const Jj=new Set(["width","height","top","left","right","bottom",...Wf]);let S1;function zB(){S1=void 0}const ml={now:()=>(S1===void 0&&ml.set(Er.isProcessing||FI.useManualTiming?Er.timestamp:performance.now()),S1),set:t=>{S1=t,queueMicrotask(zB)}};function V3(t,e){t.indexOf(e)===-1&&t.push(e)}function H3(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class G3{constructor(){this.subscriptions=[]}add(e){return V3(this.subscriptions,e),()=>H3(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Zj(t,e){return e?t*(1e3/e):0}const B_=30,UB=t=>!isNaN(parseFloat(t));class VB{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=ml.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ml.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=UB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new G3);const i=this.events[e].add(n);return e==="change"?()=>{i(),ri.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ml.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>B_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,B_);return Zj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eg(t,e){return new VB(t,e)}function HB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,eg(n))}function GB(t,e){const n=g5(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const a in s){const o=nB(s[a]);HB(t,a,o)}}function WB(t){return!!(ns(t)&&t.add)}function _4(t,e){const n=t.getValue("willChange");if(WB(n))return n.add(e)}function eA(t){return t.props[Lj]}const tA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qB=1e-7,$B=12;function KB(t,e,n,i,r){let s,a,o=0;do a=e+(n-e)/2,s=tA(a,i,r)-t,s>0?n=a:e=a;while(Math.abs(s)>qB&&++o<$B);return a}function jg(t,e,n,i){if(t===e&&n===i)return da;const r=s=>KB(s,0,1,t,n);return s=>s===0||s===1?s:tA(r(s),e,i)}const nA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,iA=t=>e=>1-t(1-e),rA=jg(.33,1.53,.69,.99),W3=iA(rA),sA=nA(W3),aA=t=>(t*=2)<1?.5*W3(t):.5*(2-Math.pow(2,-10*(t-1))),q3=t=>1-Math.sin(Math.acos(t)),oA=iA(q3),lA=nA(q3),cA=t=>/^0[^.\s]+$/u.test(t);function XB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cA(t):!0}const bp=t=>Math.round(t*1e5)/1e5,$3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YB(t){return t==null}const QB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,K3=(t,e)=>n=>!!(typeof n=="string"&&QB.test(n)&&n.startsWith(t)||e&&!YB(n)&&Object.prototype.hasOwnProperty.call(n,e)),uA=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,a,o]=i.match($3);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},JB=t=>fc(0,255,t),ly={...qf,transform:t=>Math.round(JB(t))},bh={test:K3("rgb","red"),parse:uA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ly.transform(t)+", "+ly.transform(e)+", "+ly.transform(n)+", "+bp(Zp.transform(i))+")"};function ZB(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const S4={test:K3("#"),parse:ZB,transform:bh.transform},nf={test:K3("hsl","hue"),parse:uA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+gl.transform(bp(e))+", "+gl.transform(bp(n))+", "+bp(Zp.transform(i))+")"},Zr={test:t=>bh.test(t)||S4.test(t)||nf.test(t),parse:t=>bh.test(t)?bh.parse(t):nf.test(t)?nf.parse(t):S4.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bh.transform(t):nf.transform(t)},ez=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tz(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match($3))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(ez))===null||n===void 0?void 0:n.length)||0)>0}const hA="number",dA="color",nz="var",iz="var(",z_="${}",rz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tg(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const o=e.replace(rz,l=>(Zr.test(l)?(i.color.push(s),r.push(dA),n.push(Zr.parse(l))):l.startsWith(iz)?(i.var.push(s),r.push(nz),n.push(l)):(i.number.push(s),r.push(hA),n.push(parseFloat(l))),++s,z_)).split(z_);return{values:n,split:o,indexes:i,types:r}}function fA(t){return tg(t).values}function pA(t){const{split:e,types:n}=tg(t),i=e.length;return r=>{let s="";for(let a=0;a<i;a++)if(s+=e[a],r[a]!==void 0){const o=n[a];o===hA?s+=bp(r[a]):o===dA?s+=Zr.transform(r[a]):s+=r[a]}return s}}const sz=t=>typeof t=="number"?0:t;function az(t){const e=fA(t);return pA(t)(e.map(sz))}const xu={test:tz,parse:fA,createTransformer:pA,getAnimatableNone:az},oz=new Set(["brightness","contrast","saturate","opacity"]);function lz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match($3)||[];if(!i)return t;const r=n.replace(i,"");let s=oz.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const cz=/\b([a-z-]*)\(.*?\)/gu,N4={...xu,getAnimatableNone:t=>{const e=t.match(cz);return e?e.map(lz).join(" "):t}},uz={...E3,color:Zr,backgroundColor:Zr,outlineColor:Zr,fill:Zr,stroke:Zr,borderColor:Zr,borderTopColor:Zr,borderRightColor:Zr,borderBottomColor:Zr,borderLeftColor:Zr,filter:N4,WebkitFilter:N4},X3=t=>uz[t];function gA(t,e){let n=X3(t);return n!==N4&&(n=xu),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hz=new Set(["auto","none","0"]);function dz(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!hz.has(s)&&tg(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=gA(n,r)}const U_=t=>t===qf||t===Ct,V_=(t,e)=>parseFloat(t.split(", ")[e]),H_=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return V_(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?V_(s[1],t):0}},fz=new Set(["x","y","z"]),pz=Wf.filter(t=>!fz.has(t));function gz(t){const e=[];return pz.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ef={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:H_(4,13),y:H_(5,14)};Ef.translateX=Ef.x;Ef.translateY=Ef.y;const Ah=new Set;let k4=!1,C4=!1;function mA(){if(C4){const t=Array.from(Ah).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=gz(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,a])=>{var o;(o=i.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}C4=!1,k4=!1,Ah.forEach(t=>t.complete()),Ah.clear()}function xA(){Ah.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(C4=!0)})}function mz(){xA(),mA()}class Y3{constructor(e,n,i,r,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ah.add(this),k4||(k4=!0,ri.read(xA),ri.resolveKeyframes(mA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=r==null?void 0:r.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const l=i.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&a===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ah.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ah.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const yA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),xz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yz(t){const e=xz.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function vA(t,e,n=1){const[i,r]=yz(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const a=s.trim();return yA(a)?parseFloat(a):a}return T3(r)?vA(r,e,n+1):r}const bA=t=>e=>e.test(t),vz={test:t=>t==="auto",parse:t=>t},wA=[qf,Ct,gl,Vc,lB,oB,vz],G_=t=>wA.find(bA(t));class _A extends Y3{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),T3(c))){const d=vA(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Jj.has(i)||e.length!==2)return;const[r,s]=e,a=G_(r),o=G_(s);if(a!==o)if(U_(a)&&U_(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)XB(e[r])&&i.push(r);i.length&&dz(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ef[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Ef[i](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const W_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xu.test(t)||t==="0")&&!t.startsWith("url("));function bz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function wz(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=W_(r,e),o=W_(s,e);return!a||!o?!1:bz(t)||(n==="spring"||B3(n))&&i}const _z=t=>t!==null;function m5(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(_z),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const Sz=40;class SA{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ml.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Sz?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&mz(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ml.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!wz(e,i,r,s))if(a)this.options.duration=0;else{l&&l(m5(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const fi=(t,e,n)=>t+(e-t)*n;function cy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Nz({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,a=0;if(!e)r=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;r=cy(l,o,t+1/3),s=cy(l,o,t),a=cy(l,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}function x2(t,e){return n=>n>0?e:t}const uy=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},kz=[S4,bh,nf],Cz=t=>kz.find(e=>e.test(t));function q_(t){const e=Cz(t);if(!e)return!1;let n=e.parse(t);return e===nf&&(n=Nz(n)),n}const $_=(t,e)=>{const n=q_(t),i=q_(e);if(!n||!i)return x2(t,e);const r={...n};return s=>(r.red=uy(n.red,i.red,s),r.green=uy(n.green,i.green,s),r.blue=uy(n.blue,i.blue,s),r.alpha=fi(n.alpha,i.alpha,s),bh.transform(r))},jz=(t,e)=>n=>e(t(n)),Ag=(...t)=>t.reduce(jz),j4=new Set(["none","hidden"]);function Az(t,e){return j4.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Pz(t,e){return n=>fi(t,e,n)}function Q3(t){return typeof t=="number"?Pz:typeof t=="string"?T3(t)?x2:Zr.test(t)?$_:Ez:Array.isArray(t)?NA:typeof t=="object"?Zr.test(t)?$_:Lz:x2}function NA(t,e){const n=[...t],i=n.length,r=t.map((s,a)=>Q3(s)(s,e[a]));return s=>{for(let a=0;a<i;a++)n[a]=r[a](s);return n}}function Lz(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Q3(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function Tz(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][r[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;i[s]=l,r[a]++}return i}const Ez=(t,e)=>{const n=xu.createTransformer(e),i=tg(t),r=tg(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?j4.has(t)&&!r.values.length||j4.has(e)&&!i.values.length?Az(t,e):Ag(NA(Tz(i,r),r.values),n):x2(t,e)};function kA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?fi(t,e,n):Q3(t)(t,e)}const Mz=5;function CA(t,e,n){const i=Math.max(e-Mz,0);return Zj(n-t(i),e-i)}const Ci={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hy=.001;function Rz({duration:t=Ci.duration,bounce:e=Ci.bounce,velocity:n=Ci.velocity,mass:i=Ci.mass}){let r,s,a=1-e;a=fc(Ci.minDamping,Ci.maxDamping,a),t=fc(Ci.minDuration,Ci.maxDuration,oc(t)),a<1?(r=c=>{const d=c*a,g=d*t,m=d-n,p=A4(c,a),y=Math.exp(-g);return hy-m/p*y},s=c=>{const g=c*a*t,m=g*n+n,p=Math.pow(a,2)*Math.pow(c,2)*t,y=Math.exp(-g),b=A4(Math.pow(c,2),a);return(-r(c)+hy>0?-1:1)*((m-p)*y)/b}):(r=c=>{const d=Math.exp(-c*t),g=(c-n)*t+1;return-hy+d*g},s=c=>{const d=Math.exp(-c*t),g=(n-c)*(t*t);return d*g});const o=5/t,l=Oz(r,s,o);if(t=ac(t),isNaN(l))return{stiffness:Ci.stiffness,damping:Ci.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:t}}}const Fz=12;function Oz(t,e,n){let i=n;for(let r=1;r<Fz;r++)i=i-t(i)/e(i);return i}function A4(t,e){return t*Math.sqrt(1-e*e)}const Dz=["duration","bounce"],Iz=["stiffness","damping","mass"];function K_(t,e){return e.some(n=>t[n]!==void 0)}function Bz(t){let e={velocity:Ci.velocity,stiffness:Ci.stiffness,damping:Ci.damping,mass:Ci.mass,isResolvedFromDuration:!1,...t};if(!K_(t,Iz)&&K_(t,Dz))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*fc(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Ci.mass,stiffness:r,damping:s}}else{const n=Rz(t);e={...e,...n,mass:Ci.mass},e.isResolvedFromDuration=!0}return e}function jA(t=Ci.visualDuration,e=Ci.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:g,velocity:m,isResolvedFromDuration:p}=Bz({...n,velocity:-oc(n.velocity||0)}),y=m||0,b=c/(2*Math.sqrt(l*d)),N=a-s,S=oc(Math.sqrt(l/d)),j=Math.abs(N)<5;i||(i=j?Ci.restSpeed.granular:Ci.restSpeed.default),r||(r=j?Ci.restDelta.granular:Ci.restDelta.default);let w;if(b<1){const E=A4(S,b);w=I=>{const U=Math.exp(-b*S*I);return a-U*((y+b*S*N)/E*Math.sin(E*I)+N*Math.cos(E*I))}}else if(b===1)w=E=>a-Math.exp(-S*E)*(N+(y+S*N)*E);else{const E=S*Math.sqrt(b*b-1);w=I=>{const U=Math.exp(-b*S*I),R=Math.min(E*I,300);return a-U*((y+b*S*N)*Math.sinh(R)+E*N*Math.cosh(R))/E}}const k={calculatedDuration:p&&g||null,next:E=>{const I=w(E);if(p)o.done=E>=g;else{let U=0;b<1&&(U=E===0?ac(y):CA(w,E,I));const R=Math.abs(U)<=i,B=Math.abs(a-I)<=r;o.done=R&&B}return o.value=o.done?a:I,o},toString:()=>{const E=Math.min(Wj(k),b4),I=qj(U=>k.next(E*U).value,E,30);return E+"ms "+I}};return k}function X_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const g=t[0],m={done:!1,value:g},p=R=>o!==void 0&&R<o||l!==void 0&&R>l,y=R=>o===void 0?l:l===void 0||Math.abs(o-R)<Math.abs(l-R)?o:l;let b=n*e;const N=g+b,S=a===void 0?N:a(N);S!==N&&(b=S-g);const j=R=>-b*Math.exp(-R/i),w=R=>S+j(R),k=R=>{const B=j(R),O=w(R);m.done=Math.abs(B)<=c,m.value=m.done?S:O};let E,I;const U=R=>{p(m.value)&&(E=R,I=jA({keyframes:[m.value,y(m.value)],velocity:CA(w,R,m.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return U(0),{calculatedDuration:null,next:R=>{let B=!1;return!I&&E===void 0&&(B=!0,k(R),U(R)),E!==void 0&&R>=E?I.next(R-E):(!B&&k(R),m)}}}const zz=jg(.42,0,1,1),Uz=jg(0,0,.58,1),AA=jg(.42,0,.58,1),Vz=t=>Array.isArray(t)&&typeof t[0]!="number",Hz={linear:da,easeIn:zz,easeInOut:AA,easeOut:Uz,circIn:q3,circInOut:lA,circOut:oA,backIn:W3,backInOut:sA,backOut:rA,anticipate:aA},Y_=t=>{if(z3(t)){kj(t.length===4);const[e,n,i,r]=t;return jg(e,n,i,r)}else if(typeof t=="string")return Hz[t];return t};function Gz(t,e,n){const i=[],r=n||kA,s=t.length-1;for(let a=0;a<s;a++){let o=r(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||da:e;o=Ag(l,o)}i.push(o)}return i}function Wz(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(kj(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Gz(e,i,r),l=o.length,c=d=>{if(a&&d<t[0])return e[0];let g=0;if(l>1)for(;g<t.length-2&&!(d<t[g+1]);g++);const m=Lf(t[g],t[g+1],d);return o[g](m)};return n?d=>c(fc(t[0],t[s-1],d)):c}function qz(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Lf(0,e,i);t.push(fi(n,1,r))}}function $z(t){const e=[0];return qz(e,t.length-1),e}function Kz(t,e){return t.map(n=>n*e)}function Xz(t,e){return t.map(()=>e||AA).splice(0,t.length-1)}function y2({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=Vz(i)?i.map(Y_):Y_(i),s={done:!1,value:e[0]},a=Kz(n&&n.length===e.length?n:$z(e),t),o=Wz(a,e,{ease:Array.isArray(r)?r:Xz(e,r)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const Yz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ri.update(e,!0),stop:()=>mu(e),now:()=>Er.isProcessing?Er.timestamp:ml.now()}},Qz={decay:X_,inertia:X_,tween:y2,keyframes:y2,spring:jA},Jz=t=>t/100;class J3 extends SA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,a=(r==null?void 0:r.KeyframeResolver)||Y3,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(s,o,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=this.options,o=B3(n)?n:Qz[n]||y2;let l,c;o!==y2&&typeof e[0]!="number"&&(l=Ag(Jz,kA(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});s==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=Wj(d));const{calculatedDuration:g}=d,m=g+r,p=m*(i+1)-r;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:g,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:g}=i;if(this.startTime===null)return s.next(0);const{delay:m,repeat:p,repeatType:y,repeatDelay:b,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const S=this.currentTime-m*(this.speed>=0?1:-1),j=this.speed>=0?S<0:S>d;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,k=s;if(p){const R=Math.min(this.currentTime,d)/g;let B=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&B--,B=Math.min(B,p+1),!!(B%2)&&(y==="reverse"?(O=1-O,b&&(O-=b/g)):y==="mirror"&&(k=a)),w=fc(0,1,O)*g}const E=j?{done:!1,value:l[0]}:k.next(w);o&&(E.value=o(E.value));let{done:I}=E;!j&&c!==null&&(I=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return U&&r!==void 0&&(E.value=m5(l,this.options,r)),N&&N(E.value),U&&this.finish(),E}get duration(){const{resolved:e}=this;return e?oc(e.calculatedDuration):0}get time(){return oc(this.currentTime)}set time(e){e=ac(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=oc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Yz,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Zz=new Set(["opacity","clipPath","filter","transform"]);function eU(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=Kj(o,r);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const tU=N3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),v2=10,nU=2e4;function iU(t){return B3(t.type)||t.type==="spring"||!$j(t.ease)}function rU(t,e){const n=new J3({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<nU;)i=n.sample(s),r.push(i.value),s+=v2;return{times:void 0,keyframes:r,duration:s-v2,ease:"linear"}}const PA={anticipate:aA,backInOut:sA,circInOut:lA};function sU(t){return t in PA}class Q_ extends SA{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new _A(s,(a,o)=>this.onKeyframesResolved(a,o),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&m2()&&sU(s)&&(s=PA[s]),iU(this.options)){const{onComplete:g,onUpdate:m,motionValue:p,element:y,...b}=this.options,N=rU(e,b);e=N.keyframes,e.length===1&&(e[1]=e[0]),i=N.duration,r=N.times,s=N.ease,a="keyframes"}const d=eU(o.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(F_(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:g}=this.options;o.set(m5(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:r,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return oc(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return oc(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=ac(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return da;const{animation:i}=n;F_(i,e)}return da}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:g,element:m,...p}=this.options,y=new J3({...p,keyframes:i,duration:r,type:s,ease:a,times:o,isGenerator:!0}),b=ac(this.time);c.setWithVelocity(y.sample(b-v2).value,y.sample(b).value,v2)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:a,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return tU()&&i&&Zz.has(i)&&!l&&!c&&!r&&s!=="mirror"&&a!==0&&o!=="inertia"}}const aU={type:"spring",stiffness:500,damping:25,restSpeed:10},oU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lU={type:"keyframes",duration:.8},cU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uU=(t,{keyframes:e})=>e.length>2?lU:Gh.has(t)?t.startsWith("scale")?oU(e[1]):aU:cU;function hU({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Z3=(t,e,n,i={},r,s)=>a=>{const o=I3(i,t)||{},l=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-ac(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:r};hU(o)||(d={...d,...uU(t,d)}),d.duration&&(d.duration=ac(d.duration)),d.repeatDelay&&(d.repeatDelay=ac(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let g=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(g=!0)),g&&!s&&e.get()!==void 0){const m=m5(d.keyframes,o);if(m!==void 0)return ri.update(()=>{d.onUpdate(m),d.onComplete()}),new LB([])}return!s&&Q_.supports(d)?new Q_(d):new J3(d)};function dU({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function LA(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;i&&(a=i);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const g in l){const m=t.getValue(g,(s=t.latestValues[g])!==null&&s!==void 0?s:null),p=l[g];if(p===void 0||d&&dU(d,g))continue;const y={delay:n,...I3(a||{},g)};let b=!1;if(window.MotionHandoffAnimation){const S=eA(t);if(S){const j=window.MotionHandoffAnimation(S,g,ri);j!==null&&(y.startTime=j,b=!0)}}_4(t,g),m.start(Z3(g,m,p,t.shouldReduceMotion&&Jj.has(g)?{type:!1}:y,t,b));const N=m.animation;N&&c.push(N)}return o&&Promise.all(c).then(()=>{ri.update(()=>{o&&GB(t,o)})}),c}function P4(t,e,n={}){var i;const r=g5(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(LA(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:m}=s;return fU(t,e,d+c,g,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function fU(t,e,n=0,i=0,r=1,s){const a=[],o=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>o-c*i;return Array.from(t.variantChildren).sort(pU).forEach((c,d)=>{c.notify("AnimationStart",e),a.push(P4(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function pU(t,e){return t.sortNodePosition(e)}function gU(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>P4(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=P4(t,e,n);else{const r=typeof e=="function"?g5(t,e,n.custom):e;i=Promise.all(LA(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const mU=C3.length;function TA(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?TA(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mU;n++){const i=C3[n],r=t.props[i];(Jp(r)||r===!1)&&(e[i]=r)}return e}const xU=[...k3].reverse(),yU=k3.length;function vU(t){return e=>Promise.all(e.map(({animation:n,options:i})=>gU(t,n,i)))}function bU(t){let e=vU(t),n=J_(),i=!0;const r=l=>(c,d)=>{var g;const m=g5(t,d,l==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(m){const{transition:p,transitionEnd:y,...b}=m;c={...c,...b,...y}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,d=TA(t.parent)||{},g=[],m=new Set;let p={},y=1/0;for(let N=0;N<yU;N++){const S=xU[N],j=n[S],w=c[S]!==void 0?c[S]:d[S],k=Jp(w),E=S===l?j.isActive:null;E===!1&&(y=N);let I=w===d[S]&&w!==c[S]&&k;if(I&&i&&t.manuallyAnimateOnMount&&(I=!1),j.protectedKeys={...p},!j.isActive&&E===null||!w&&!j.prevProp||f5(w)||typeof w=="boolean")continue;const U=wU(j.prevProp,w);let R=U||S===l&&j.isActive&&!I&&k||N>y&&k,B=!1;const O=Array.isArray(w)?w:[w];let P=O.reduce(r(S),{});E===!1&&(P={});const{prevResolvedValues:M={}}=j,G={...M,...P},W=pe=>{R=!0,m.has(pe)&&(B=!0,m.delete(pe)),j.needsAnimating[pe]=!0;const J=t.getValue(pe);J&&(J.liveStyle=!1)};for(const pe in G){const J=P[pe],ee=M[pe];if(p.hasOwnProperty(pe))continue;let he=!1;v4(J)&&v4(ee)?he=!Gj(J,ee):he=J!==ee,he?J!=null?W(pe):m.add(pe):J!==void 0&&m.has(pe)?W(pe):j.protectedKeys[pe]=!0}j.prevProp=w,j.prevResolvedValues=P,j.isActive&&(p={...p,...P}),i&&t.blockInitialAnimation&&(R=!1),R&&(!(I&&U)||B)&&g.push(...O.map(pe=>({animation:pe,options:{type:S}})))}if(m.size){const N={};m.forEach(S=>{const j=t.getBaseTarget(S),w=t.getValue(S);w&&(w.liveStyle=!0),N[S]=j??null}),g.push({animation:N})}let b=!!g.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(g):Promise.resolve()}function o(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const g=a(l);for(const m in n)n[m].protectedKeys={};return g}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=J_(),i=!0}}}function wU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Gj(e,t):!1}function eh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function J_(){return{animate:eh(!0),whileInView:eh(),whileHover:eh(),whileTap:eh(),whileDrag:eh(),whileFocus:eh(),exit:eh()}}class ju{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _U extends ju{constructor(e){super(e),e.animationState||(e.animationState=bU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();f5(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let SU=0;class NU extends ju{constructor(){super(...arguments),this.id=SU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kU={animation:{Feature:_U},exit:{Feature:NU}};function ng(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Pg(t){return{point:{x:t.pageX,y:t.pageY}}}const CU=t=>e=>U3(e)&&t(e,Pg(e));function wp(t,e,n,i){return ng(t,e,CU(n),i)}const Z_=(t,e)=>Math.abs(t-e);function jU(t,e){const n=Z_(t.x,e.x),i=Z_(t.y,e.y);return Math.sqrt(n**2+i**2)}class EA{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=fy(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=jU(g.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:y}=g,{timestamp:b}=Er;this.history.push({...y,timestamp:b});const{onStart:N,onMove:S}=this.handlers;m||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,g)},this.handlePointerMove=(g,m)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=dy(m,this.transformPagePoint),ri.update(this.updatePoint,!0)},this.handlePointerUp=(g,m)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=fy(g.type==="pointercancel"?this.lastMoveEventInfo:dy(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(g,N),y&&y(g,N)},!U3(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const a=Pg(e),o=dy(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Er;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,fy(o,this.history)),this.removeListeners=Ag(wp(this.contextWindow,"pointermove",this.handlePointerMove),wp(this.contextWindow,"pointerup",this.handlePointerUp),wp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mu(this.updatePoint)}}function dy(t,e){return e?{point:e(t.point)}:t}function e8(t,e){return{x:t.x-e.x,y:t.y-e.y}}function fy({point:t},e){return{point:t,delta:e8(t,MA(e)),offset:e8(t,AU(e)),velocity:PU(e,.1)}}function AU(t){return t[0]}function MA(t){return t[t.length-1]}function PU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=MA(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>ac(e)));)n--;if(!i)return{x:0,y:0};const s=oc(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const RA=1e-4,LU=1-RA,TU=1+RA,FA=.01,EU=0-FA,MU=0+FA;function ga(t){return t.max-t.min}function RU(t,e,n){return Math.abs(t-e)<=n}function t8(t,e,n,i=.5){t.origin=i,t.originPoint=fi(e.min,e.max,t.origin),t.scale=ga(n)/ga(e),t.translate=fi(n.min,n.max,t.origin)-t.originPoint,(t.scale>=LU&&t.scale<=TU||isNaN(t.scale))&&(t.scale=1),(t.translate>=EU&&t.translate<=MU||isNaN(t.translate))&&(t.translate=0)}function _p(t,e,n,i){t8(t.x,e.x,n.x,i?i.originX:void 0),t8(t.y,e.y,n.y,i?i.originY:void 0)}function n8(t,e,n){t.min=n.min+e.min,t.max=t.min+ga(e)}function FU(t,e,n){n8(t.x,e.x,n.x),n8(t.y,e.y,n.y)}function i8(t,e,n){t.min=e.min-n.min,t.max=t.min+ga(e)}function Sp(t,e,n){i8(t.x,e.x,n.x),i8(t.y,e.y,n.y)}function OU(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?fi(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?fi(n,t,i.max):Math.min(t,n)),t}function r8(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function DU(t,{top:e,left:n,bottom:i,right:r}){return{x:r8(t.x,n,r),y:r8(t.y,e,i)}}function s8(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function IU(t,e){return{x:s8(t.x,e.x),y:s8(t.y,e.y)}}function BU(t,e){let n=.5;const i=ga(t),r=ga(e);return r>i?n=Lf(e.min,e.max-i,t.min):i>r&&(n=Lf(t.min,t.max-r,e.min)),fc(0,1,n)}function zU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const L4=.35;function UU(t=L4){return t===!1?t=0:t===!0&&(t=L4),{x:a8(t,"left","right"),y:a8(t,"top","bottom")}}function a8(t,e,n){return{min:o8(t,e),max:o8(t,n)}}function o8(t,e){return typeof t=="number"?t:t[e]||0}const l8=()=>({translate:0,scale:1,origin:0,originPoint:0}),rf=()=>({x:l8(),y:l8()}),c8=()=>({min:0,max:0}),Oi=()=>({x:c8(),y:c8()});function Ga(t){return[t("x"),t("y")]}function OA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function VU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function HU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function py(t){return t===void 0||t===1}function T4({scale:t,scaleX:e,scaleY:n}){return!py(t)||!py(e)||!py(n)}function ch(t){return T4(t)||DA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function DA(t){return u8(t.x)||u8(t.y)}function u8(t){return t&&t!=="0%"}function b2(t,e,n){const i=t-n,r=e*i;return n+r}function h8(t,e,n,i,r){return r!==void 0&&(t=b2(t,r,i)),b2(t,n,i)+e}function E4(t,e=0,n=1,i,r){t.min=h8(t.min,e,n,i,r),t.max=h8(t.max,e,n,i,r)}function IA(t,{x:e,y:n}){E4(t.x,e.translate,e.scale,e.originPoint),E4(t.y,n.translate,n.scale,n.originPoint)}const d8=.999999999999,f8=1.0000000000001;function GU(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,a;for(let o=0;o<r;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&af(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,IA(t,a)),i&&ch(s.latestValues)&&af(t,s.latestValues))}e.x<f8&&e.x>d8&&(e.x=1),e.y<f8&&e.y>d8&&(e.y=1)}function sf(t,e){t.min=t.min+e,t.max=t.max+e}function p8(t,e,n,i,r=.5){const s=fi(t.min,t.max,r);E4(t,e,n,s,i)}function af(t,e){p8(t.x,e.x,e.scaleX,e.scale,e.originX),p8(t.y,e.y,e.scaleY,e.scale,e.originY)}function BA(t,e){return OA(HU(t.getBoundingClientRect(),e))}function WU(t,e,n){const i=BA(t,n),{scroll:r}=e;return r&&(sf(i.x,r.offset.x),sf(i.y,r.offset.y)),i}const zA=({current:t})=>t?t.ownerDocument.defaultView:null,qU=new WeakMap;class $U{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oi(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pg(d).point)},s=(d,g)=>{const{drag:m,dragPropagation:p,onDragStart:y}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BB(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ga(N=>{let S=this.getAxisMotionValue(N).get()||0;if(gl.test(S)){const{projection:j}=this.visualElement;if(j&&j.layout){const w=j.layout.layoutBox[N];w&&(S=ga(w)*(parseFloat(S)/100))}}this.originPoint[N]=S}),y&&ri.postRender(()=>y(d,g)),_4(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(d,g)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:y,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:N}=g;if(p&&this.currentDirection===null){this.currentDirection=KU(N),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),b&&b(d,g)},o=(d,g)=>this.stop(d,g),l=()=>Ga(d=>{var g;return this.getAnimationState(d)==="paused"&&((g=this.getAxisMotionValue(d).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new EA(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:zA(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&ri.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!km(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=OU(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&tf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=DU(r.layoutBox,n):this.constraints=!1,this.elastic=UU(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ga(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=zU(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tf(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=WU(i,r.root,this.visualElement.getTransformPagePoint());let a=IU(r.layout.layoutBox,s);if(n){const o=n(VU(a));this.hasMutatedConstraints=!!o,o&&(a=OA(o))}return a}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ga(d=>{if(!km(d,n,this.currentDirection))return;let g=l&&l[d]||{};a&&(g={min:0,max:0});const m=r?200:1e6,p=r?40:1e7,y={type:"inertia",velocity:i?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return _4(this.visualElement,e),i.start(Z3(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ga(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ga(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ga(n=>{const{drag:i}=this.getProps();if(!km(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[n];s.set(e[n]-fi(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!tf(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ga(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();r[a]=BU({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ga(a=>{if(!km(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(fi(l,c,r[a]))})}addListeners(){if(!this.visualElement.current)return;qU.set(this.visualElement,this);const e=this.visualElement.current,n=wp(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();tf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ri.read(i);const a=ng(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ga(d=>{const g=this.getAxisMotionValue(d);g&&(this.originPoint[d]+=l[d].translate,g.set(g.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=L4,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function km(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XU extends ju{constructor(e){super(e),this.removeGroupControls=da,this.removeListeners=da,this.controls=new $U(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||da}unmount(){this.removeGroupControls(),this.removeListeners()}}const g8=t=>(e,n)=>{t&&ri.postRender(()=>t(e,n))};class YU extends ju{constructor(){super(...arguments),this.removePointerDownListener=da}onPointerDown(e){this.session=new EA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:g8(e),onStart:g8(n),onMove:i,onEnd:(s,a)=>{delete this.session,r&&ri.postRender(()=>r(s,a))}}}mount(){this.removePointerDownListener=wp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const N1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function m8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const B0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ct.test(t))t=parseFloat(t);else return t;const n=m8(t,e.target.x),i=m8(t,e.target.y);return`${n}% ${i}%`}},QU={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=xu.parse(t);if(r.length>5)return i;const s=xu.createTransformer(t),a=typeof r[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;r[0+a]/=o,r[1+a]/=l;const c=fi(o,l,.5);return typeof r[2+a]=="number"&&(r[2+a]/=c),typeof r[3+a]=="number"&&(r[3+a]/=c),s(r)}};class JU extends Y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;yB(ZU),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),N1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,a=i.projection;return a&&(a.isPresent=s,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||ri.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),A3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UA(t){const[e,n]=MI(),i=Y.useContext(Sj);return h.jsx(JU,{...t,layoutGroup:i,switchLayoutGroup:Y.useContext(Tj),isPresent:e,safeToRemove:n})}const ZU={borderRadius:{...B0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:B0,borderTopRightRadius:B0,borderBottomLeftRadius:B0,borderBottomRightRadius:B0,boxShadow:QU};function eV(t,e,n){const i=ns(t)?t:eg(t);return i.start(Z3("",i,e,n)),i.animation}function tV(t){return t instanceof SVGElement&&t.tagName!=="svg"}const nV=(t,e)=>t.depth-e.depth;class iV{constructor(){this.children=[],this.isDirty=!1}add(e){V3(this.children,e),this.isDirty=!0}remove(e){H3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nV),this.isDirty=!1,this.children.forEach(e)}}function rV(t,e){const n=ml.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(mu(i),t(s-e))};return ri.read(i,!0),()=>mu(i)}const VA=["TopLeft","TopRight","BottomLeft","BottomRight"],sV=VA.length,x8=t=>typeof t=="string"?parseFloat(t):t,y8=t=>typeof t=="number"||Ct.test(t);function aV(t,e,n,i,r,s){r?(t.opacity=fi(0,n.opacity!==void 0?n.opacity:1,oV(i)),t.opacityExit=fi(e.opacity!==void 0?e.opacity:1,0,lV(i))):s&&(t.opacity=fi(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let a=0;a<sV;a++){const o=`border${VA[a]}Radius`;let l=v8(e,o),c=v8(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||y8(l)===y8(c)?(t[o]=Math.max(fi(x8(l),x8(c),i),0),(gl.test(c)||gl.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=fi(e.rotate||0,n.rotate||0,i))}function v8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oV=HA(0,.5,oA),lV=HA(.5,.95,da);function HA(t,e,n){return i=>i<t?0:i>e?1:n(Lf(t,e,i))}function b8(t,e){t.min=e.min,t.max=e.max}function Ua(t,e){b8(t.x,e.x),b8(t.y,e.y)}function w8(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _8(t,e,n,i,r){return t-=e,t=b2(t,1/n,i),r!==void 0&&(t=b2(t,1/r,i)),t}function cV(t,e=0,n=1,i=.5,r,s=t,a=t){if(gl.test(e)&&(e=parseFloat(e),e=fi(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=fi(s.min,s.max,i);t===s&&(o-=e),t.min=_8(t.min,e,n,o,r),t.max=_8(t.max,e,n,o,r)}function S8(t,e,[n,i,r],s,a){cV(t,e[n],e[i],e[r],e.scale,s,a)}const uV=["x","scaleX","originX"],hV=["y","scaleY","originY"];function N8(t,e,n,i){S8(t.x,e,uV,n?n.x:void 0,i?i.x:void 0),S8(t.y,e,hV,n?n.y:void 0,i?i.y:void 0)}function k8(t){return t.translate===0&&t.scale===1}function GA(t){return k8(t.x)&&k8(t.y)}function C8(t,e){return t.min===e.min&&t.max===e.max}function dV(t,e){return C8(t.x,e.x)&&C8(t.y,e.y)}function j8(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function WA(t,e){return j8(t.x,e.x)&&j8(t.y,e.y)}function A8(t){return ga(t.x)/ga(t.y)}function P8(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class fV{constructor(){this.members=[]}add(e){V3(this.members,e),e.scheduleRender()}remove(e){if(H3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pV(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((r||s||a)&&(i=`translate3d(${r}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:g,rotateY:m,skewX:p,skewY:y}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),g&&(i+=`rotateX(${g}deg) `),m&&(i+=`rotateY(${m}deg) `),p&&(i+=`skewX(${p}deg) `),y&&(i+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const uh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},sp=typeof window<"u"&&window.MotionDebug!==void 0,gy=["","X","Y","Z"],gV={visibility:"hidden"},L8=1e3;let mV=0;function my(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function qA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=eA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ri,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&qA(i)}function $A({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},o=e==null?void 0:e()){this.id=mV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sp&&(uh.totalNodes=uh.resolvedTargetDeltas=uh.recalculatedProjection=0),this.nodes.forEach(vV),this.nodes.forEach(NV),this.nodes.forEach(kV),this.nodes.forEach(bV),sp&&window.MotionDebug.record(uh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new iV)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new G3),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tV(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let g;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=rV(m,250),N1.hasAnimatedSinceResize&&(N1.hasAnimatedSinceResize=!1,this.nodes.forEach(E8))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||LV,{onLayoutAnimationStart:N,onLayoutAnimationComplete:S}=d.getProps(),j=!this.targetLayout||!WA(this.targetLayout,y)||p,w=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,w);const k={...I3(b,"layout"),onPlay:N,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else m||E8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CV),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const g=this.path[d];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(T8);return}this.isUpdating||this.nodes.forEach(_V),this.isUpdating=!1,this.nodes.forEach(SV),this.nodes.forEach(xV),this.nodes.forEach(yV),this.clearAllSnapshots();const o=ml.now();Er.delta=fc(0,1e3/60,o-Er.timestamp),Er.timestamp=o,Er.isProcessing=!0,ay.update.process(Er),ay.preRender.process(Er),ay.render.process(Er),Er.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,A3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wV),this.sharedNodes.forEach(jV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ri.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ri.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!GA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(o||ch(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),TV(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Oi();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(EV))){const{scroll:d}=this.root;d&&(sf(l.x,d.offset.x),sf(l.y,d.offset.y))}return l}removeElementScroll(a){var o;const l=Oi();if(Ua(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:g,options:m}=d;d!==this.root&&g&&m.layoutScroll&&(g.wasRoot&&Ua(l,a),sf(l.x,g.offset.x),sf(l.y,g.offset.y))}return l}applyTransform(a,o=!1){const l=Oi();Ua(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&af(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ch(d.latestValues)&&af(l,d.latestValues)}return ch(this.latestValues)&&af(l,this.latestValues),l}removeTransform(a){const o=Oi();Ua(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ch(c.latestValues))continue;T4(c.latestValues)&&c.updateSnapshot();const d=Oi(),g=c.measurePageBox();Ua(d,g),N8(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ch(this.latestValues)&&N8(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Er.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:m}=this.options;if(!(!this.layout||!(g||m))){if(this.resolvedRelativeTargetAt=Er.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oi(),this.relativeTargetOrigin=Oi(),Sp(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ua(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Oi(),this.targetWithTransforms=Oi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ua(this.target,this.layout.layoutBox),IA(this.target,this.targetDelta)):Ua(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oi(),this.relativeTargetOrigin=Oi(),Sp(this.relativeTargetOrigin,this.target,p.target),Ua(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sp&&uh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||T4(this.parent.latestValues)||DA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Er.timestamp&&(c=!1),c)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;Ua(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;GU(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Oi());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(w8(this.prevProjectionDelta.x,this.projectionDelta.x),w8(this.prevProjectionDelta.y,this.projectionDelta.y)),_p(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!P8(this.projectionDelta.x,this.prevProjectionDelta.x)||!P8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),sp&&uh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rf(),this.projectionDelta=rf(),this.projectionDeltaWithTransform=rf()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},g=rf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Oi(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,b=p!==y,N=this.getStack(),S=!N||N.members.length<=1,j=!!(b&&!S&&this.options.crossfade===!0&&!this.path.some(PV));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const E=k/1e3;M8(g.x,a.x,E),M8(g.y,a.y,E),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sp(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AV(this.relativeTarget,this.relativeTargetOrigin,m,E),w&&dV(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Oi()),Ua(w,this.relativeTarget)),b&&(this.animationValues=d,aV(d,c,this.latestValues,E,j,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ri.update(()=>{N1.hasAnimatedSinceResize=!0,this.currentAnimation=eV(0,L8,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(L8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&KA(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Oi();const g=ga(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+g;const m=ga(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+m}Ua(o,l),af(o,d),_p(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new fV),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&my("z",a,c,this.animationValues);for(let d=0;d<gy.length;d++)my(`rotate${gy[d]}`,a,c,this.animationValues),my(`skew${gy[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gV;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=_1(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=_1(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ch(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const m=g.animationValues||g.latestValues;this.applyTransformsToTarget(),c.transform=pV(this.projectionDeltaWithTransform,this.treeScale,m),d&&(c.transform=d(m,c.transform));const{x:p,y}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,g.animationValues?c.opacity=g===this?(l=(o=m.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=g===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in g2){if(m[b]===void 0)continue;const{correct:N,applyTo:S}=g2[b],j=c.transform==="none"?m[b]:N(m[b],g);if(S){const w=S.length;for(let k=0;k<w;k++)c[S[k]]=j}else c[b]=j}return this.options.layoutId&&(c.pointerEvents=g===this?_1(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(T8),this.root.sharedNodes.clear()}}}function xV(t){t.updateLayout()}function yV(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Ga(g=>{const m=a?n.measuredBox[g]:n.layoutBox[g],p=ga(m);m.min=i[g].min,m.max=m.min+p}):KA(s,n.layoutBox,i)&&Ga(g=>{const m=a?n.measuredBox[g]:n.layoutBox[g],p=ga(i[g]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+p)});const o=rf();_p(o,i,n.layoutBox);const l=rf();a?_p(l,t.applyTransform(r,!0),n.measuredBox):_p(l,i,n.layoutBox);const c=!GA(o);let d=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:m,layout:p}=g;if(m&&p){const y=Oi();Sp(y,n.layoutBox,m.layoutBox);const b=Oi();Sp(b,i,p.layoutBox),WA(y,b)||(d=!0),g.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function vV(t){sp&&uh.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function bV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function wV(t){t.clearSnapshot()}function T8(t){t.clearMeasurements()}function _V(t){t.isLayoutDirty=!1}function SV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function E8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function NV(t){t.resolveTargetDelta()}function kV(t){t.calcProjection()}function CV(t){t.resetSkewAndRotation()}function jV(t){t.removeLeadSnapshot()}function M8(t,e,n){t.translate=fi(e.translate,0,n),t.scale=fi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function R8(t,e,n,i){t.min=fi(e.min,n.min,i),t.max=fi(e.max,n.max,i)}function AV(t,e,n,i){R8(t.x,e.x,n.x,i),R8(t.y,e.y,n.y,i)}function PV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const LV={duration:.45,ease:[.4,0,.1,1]},F8=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),O8=F8("applewebkit/")&&!F8("chrome/")?Math.round:da;function D8(t){t.min=O8(t.min),t.max=O8(t.max)}function TV(t){D8(t.x),D8(t.y)}function KA(t,e,n){return t==="position"||t==="preserve-aspect"&&!RU(A8(e),A8(n),.2)}function EV(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const MV=$A({attachResizeListener:(t,e)=>ng(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xy={current:void 0},XA=$A({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xy.current){const t=new MV({});t.mount(window),t.setOptions({layoutScroll:!0}),xy.current=t}return xy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),RV={pan:{Feature:YU},drag:{Feature:XU,ProjectionNode:XA,MeasureLayout:UA}};function I8(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&ri.postRender(()=>s(e,Pg(e)))}class FV extends ju{mount(){const{current:e}=this.node;e&&(this.unmount=RB(e,n=>(I8(this.node,n,"Start"),i=>I8(this.node,i,"End"))))}unmount(){}}class OV extends ju{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ag(ng(this.node.current,"focus",()=>this.onFocus()),ng(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function B8(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&ri.postRender(()=>s(e,Pg(e)))}class DV extends ju{mount(){const{current:e}=this.node;e&&(this.unmount=IB(e,n=>(B8(this.node,n,"Start"),(i,{success:r})=>B8(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const M4=new WeakMap,yy=new WeakMap,IV=t=>{const e=M4.get(t.target);e&&e(t)},BV=t=>{t.forEach(IV)};function zV({root:t,...e}){const n=t||document;yy.has(n)||yy.set(n,{});const i=yy.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(BV,{root:t,...e})),i[r]}function UV(t,e,n){const i=zV(e);return M4.set(t,n),i.observe(t),()=>{M4.delete(t),i.unobserve(t)}}const VV={some:0,all:1};class HV extends ju{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:VV[r]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:g}=this.node.getProps(),m=c?d:g;m&&m(l)};return UV(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(GV(e,n))&&this.startObserver()}unmount(){}}function GV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WV={inView:{Feature:HV},tap:{Feature:DV},focus:{Feature:OV},hover:{Feature:FV}},qV={layout:{ProjectionNode:XA,MeasureLayout:UA}},R4={current:null},YA={current:!1};function $V(){if(YA.current=!0,!!S3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>R4.current=t.matches;t.addListener(e),e()}else R4.current=!1}const KV=[...wA,Zr,xu],XV=t=>KV.find(bA(t)),z8=new WeakMap;function YV(t,e,n){for(const i in e){const r=e[i],s=n[i];if(ns(r))t.addValue(i,r);else if(ns(s))t.addValue(i,eg(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(i);t.addValue(i,eg(a!==void 0?a:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const U8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QV{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Y3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ml.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ri.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=a;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=p5(n),this.isVariantNode=Pj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const y=m[p];l[p]!==void 0&&ns(y)&&y.set(l[p],!1)}}mount(e){this.current=e,z8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),YA.current||$V(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:R4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){z8.delete(this.current),this.projection&&this.projection.unmount(),mu(this.notifyUpdate),mu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Gh.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ri.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Tf){const n=Tf[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<U8.length;i++){const r=U8[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=e[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=YV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=eg(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(yA(r)||cA(r))?r=parseFloat(r):!XV(r)&&xu.test(n)&&(r=gA(e,n)),this.setBaseTarget(e,ns(r)?r.get():r)),ns(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const a=L3(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(r=a[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ns(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new G3),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class QA extends QV{constructor(){super(...arguments),this.KeyframeResolver=_A}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ns(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function JV(t){return window.getComputedStyle(t)}class ZV extends QA{constructor(){super(...arguments),this.type="html",this.renderInstance=Ij}readValueFromInstance(e,n){if(Gh.has(n)){const i=X3(n);return i&&i.default||0}else{const i=JV(e),r=(Fj(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return BA(e,n)}build(e,n,i){M3(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return D3(e,n,i)}}class eH extends QA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Gh.has(n)){const i=X3(n);return i&&i.default||0}return n=Bj.has(n)?n:j3(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Vj(e,n,i)}build(e,n,i){R3(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){zj(e,n,i,r)}mount(e){this.isSVGTag=O3(e.tagName),super.mount(e)}}const tH=(t,e)=>P3(t)?new eH(e):new ZV(e,{allowProjection:t!==Y.Fragment}),nH=jB({...kU,...WV,...RV,...qV},tH),w2=VI(nH),iH=[{alias:"quockhanh",name:"Khung Quc Khnh",color:"#e11d48",thumb:"/frames/khung-hinh-quockhanh.png",overlay:"/frames/khung-hinh-quockhanh.png",used24h:128,campaign:"A80"},{alias:"khung304",name:"Khung 30/04",color:"#dc2626",thumb:"/frames/kh3.png",overlay:"/frames/kh3.png",used24h:86,campaign:"A80"},{alias:"trungthu",name:"Khung Trung thu",color:"#f43f5e",thumb:"/frames/khung-trung-thu.png",overlay:"/frames/khung-trung-thu.png",used24h:64,campaign:"A80"},{alias:"giangsinh",name:"Khung Ging sinh",color:"#22c55e",thumb:"/frames/khung-giang-sinh.png",overlay:"/frames/khung-giang-sinh.png",used24h:44,campaign:"A80"},{alias:"daihoi3",name:"Khung i hi Ln III",thumb:"/frames/kh1.png",overlay:"/frames/kh1.png",author:"MARKETING VEC",tags:["a80","daihoi","2025"],featured:!0},{alias:"khung-phuong-tan-son-nhi",name:"Khung Phng Tn Sn Nh",thumb:"/frames/kh2.png",overlay:"/frames/kh2.png",author:"MARKETING VEC",tags:["a80","daihoi","2025"],featured:!0}],wh="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,"");async function rH(){try{console.log(` Calling API: ${wh}/api/frames/public`);const t=await fetch(`${wh}/api/frames/public`,{credentials:"include"});if(!t.ok)return console.warn(` API failed: ${t.status}`),null;const e=await t.json();return console.log(" Public frames from API:",e),e.map(i=>({alias:i.Alias||i.alias,name:i.TieuDe||i.tieuDe||"Khung khng tn",thumb:i.UrlXemTruoc||i.urlXemTruoc?`${wh}${i.UrlXemTruoc||i.urlXemTruoc}`:null,overlay:i.UrlXemTruoc||i.urlXemTruoc?`${wh}${i.UrlXemTruoc||i.urlXemTruoc}`:null,id:i.Id||i.id,owner:i.owner||i.Owner||null,ngayTao:i.NgayDang||i.ngayDang||i.NgayTao||i.ngayTao||null,campaign:"a80",featured:!0,used24h:Math.floor(Math.random()*100)+50}))}catch(t){return console.error(" Error fetching public frames:",t),null}}async function sH(t){try{console.log(` Calling API: ${wh}/api/Frames/alias/${t}`);const e=await fetch(`${wh}/api/Frames/alias/${t}`,{credentials:"include"});if(console.log(` Response status: ${e.status}`),!e.ok){if(e.status===404)return null;throw new Error(`HTTP ${e.status}`)}const n=await e.json();console.log(" Raw backend data:",n);const i=n.urlXemTruoc??n.UrlXemTruoc,r=i?`${wh}${i}`:null,s={id:n.id??n.Id,name:n.tieuDe??n.TieuDe,alias:n.alias??n.Alias,type:n.loai??n.Loai,overlay:r,thumb:r,ngayTao:n.ngayDang??n.NgayDang,clicks:n.luotXem??n.LuotXem??0,uses:n.luotTai??n.LuotTai??0,owner:n.owner?{id:n.owner.id??n.owner.Id,name:n.owner.name??n.owner.Name,avatar:n.owner.avatar??n.owner.Avatar}:null};return console.log(" Mapped data:",s),s}catch(e){return console.error(" API Error:",e),null}}async function aH(){const t=await rH();return t&&t.length>0?(console.log(" Using frames from API"),Promise.resolve(t)):(console.log(" Fallback to mock data"),Promise.resolve(iH.slice(0,10)))}const F4={hidden:{opacity:0,y:24,filter:"blur(2px)"},visible:(t=0)=>({opacity:1,y:0,filter:"blur(0px)",transition:{type:"spring",stiffness:260,damping:22,delay:t*.06}})},oH={hidden:{},visible:{transition:{staggerChildren:.08,delayChildren:.06}}};function V8({i:t=0,className:e="",children:n}){return h.jsx(w2.div,{variants:F4,custom:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"0px 0px -80px 0px"},className:`transform-gpu ${e}`,children:n})}function lH({className:t="",children:e}){return h.jsx(w2.div,{variants:oH,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"0px 0px -80px 0px"},className:t,children:e})}const H8="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,"");function cH({rank:t}){const e=()=>t===1?"bg-gradient-to-br from-yellow-400 to-yellow-500 text-white":t===2?"bg-gradient-to-br from-blue-400 to-blue-500 text-white":t===3?"bg-gradient-to-br from-orange-400 to-orange-500 text-white":"bg-gradient-to-br from-gray-400 to-gray-500 text-white";return h.jsx("div",{className:`absolute top-3 left-3 w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold shadow-lg ${e()} border-4 border-white z-10`,children:t})}function uH(){return h.jsxs("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-50 via-sky-100 to-sky-200"}),h.jsx("div",{className:"absolute -top-24 left-1/4 h-[340px] w-[340px] rounded-full bg-sky-300/30 blur-3xl animate-float"}),h.jsx("div",{className:"absolute bottom-[-140px] right-[18%] h-[420px] w-[420px] rounded-full bg-sky-400/25 blur-3xl animate-float-slow"}),h.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-70",viewBox:"0 0 1440 700",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"cube",x1:"0",x2:"1",children:[h.jsx("stop",{stopColor:"#8DD6FF",stopOpacity:".35"}),h.jsx("stop",{offset:"1",stopColor:"#60A5FA",stopOpacity:".25"})]})}),[{x:80,y:110,w:80,h:80,d:9},{x:220,y:240,w:120,h:120,d:11},{x:420,y:150,w:90,h:90,d:10},{x:620,y:90,w:70,h:70,d:8},{x:730,y:260,w:180,h:180,d:13},{x:980,y:80,w:140,h:140,d:12},{x:1160,y:220,w:90,h:90,d:10},{x:340,y:360,w:70,h:70,d:8},{x:520,y:410,w:160,h:160,d:12},{x:840,y:340,w:110,h:110,d:11}].map((t,e)=>h.jsxs("g",{children:[h.jsx("rect",{x:t.x,y:t.y,width:t.w,height:t.h,rx:"12",fill:"url(#cube)",stroke:"#fff",strokeOpacity:".35"}),h.jsx("path",{d:`M ${t.x} ${t.y} l ${t.d} -${t.d} h ${t.w} l -${t.d} ${t.d} z`,fill:"#ffffff",opacity:".10"}),h.jsx("rect",{x:t.x,y:t.y+t.h,width:t.w,height:"6",fill:"#60A5FA",opacity:".10"})]},e))]})]})}function hH(){const[t,e]=Y.useState([]),[n,i]=Y.useState([]),[r,s]=Y.useState(!1),[a,o]=Y.useState(null),l=ya(),c=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}};Y.useEffect(()=>{o(c())},[]),Y.useEffect(()=>{const b=()=>{const N=c();o(N)};return window.addEventListener("kh_me_changed",b),window.addEventListener("storage",b),()=>{window.removeEventListener("kh_me_changed",b),window.removeEventListener("storage",b)}},[]),Y.useEffect(()=>{aH().then(e),(async()=>{try{const N=await fetch(`${H8}/api/frames/trending?take=4`,{credentials:"include"});if(N.ok){const j=(await N.json()).map(w=>{let k=w.thumb||w.UrlXemTruoc||w.urlXemTruoc;k&&!k.startsWith("http")&&(k=`${H8}${k}`);const E=w.ngayTao||w.NgayTao||w.createdAt||w.CreatedAt||w.createdDate||w.CreatedDate||null;return{id:w.id||w.Id,alias:w.alias||w.Alias,name:w.name||w.tieuDe||w.TieuDe,thumb:k,overlay:k,views:w.luotXem||w.LuotXem||0,ngayTao:E,tag:"Chin dch",owner:w.owner?{id:w.owner.id,name:w.owner.name,avatar:w.owner.avatar}:null}});i(j)}}catch(N){console.error(" Fetch trending error:",N)}})()},[]),Y.useMemo(()=>t!=null&&t.length?t.map(N=>({...N,_score:(N.used24h||N.views24h||0)+(N.featured?100:0)})).sort((N,S)=>S._score-N._score).slice(0,4):[],[t]);const d=Y.useMemo(()=>t!=null&&t.length?t.filter(b=>b.campaign&&String(b.campaign).toLowerCase().includes("a80")||Array.isArray(b.tags)&&b.tags.some(N=>String(N).toLowerCase().includes("a80"))).slice(0,10):[],[t]),g=[{t:"Nn nh",d:"Gim dung lng nh d dng",to:"/compress",icon:h.jsx(j_,{className:"w-6 h-6"})},{t:"Thay i kch thc",d:"Resize nh theo kch thc mong mun",to:"/resize",icon:h.jsx(j_,{className:"w-6 h-6"})},{t:"nh  PDF",d:"Gp nhiu nh thnh mt PDF",to:"/image-to-pdf",icon:h.jsx(yj,{className:"w-6 h-6"})}],m=b=>{if(typeof b.isNew=="boolean")return b.isNew;const N=b.ngayTao||b.NgayTao||b.createdAt||b.date;if(!N)return!1;const S=new Date(N);return(Date.now()-S.getTime())/36e5<=24},p=b=>{if(!b)return"Mi ng";const N=new Date,S=new Date(b);if(isNaN(S.getTime()))return"Mi ng";const j=N.getTime()-S.getTime(),w=Math.floor(j/1e3),k=Math.floor(w/60),E=Math.floor(k/60),I=Math.floor(E/24);if(I===0)return E>0?`${E} gi trc`:k>0?`${k} pht trc`:w>0?`${w} giy trc`:"Va to";if(I<=7)return`${I} ngy trc`;const U=S.getDate().toString().padStart(2,"0"),R=(S.getMonth()+1).toString().padStart(2,"0"),B=S.getFullYear();return`${U}/${R}/${B}`},y=b=>{b.preventDefault(),a?l("/create-frame"):s(!0)};return h.jsxs("div",{children:[h.jsxs("section",{className:"relative overflow-hidden min-h-[70vh] flex items-center bg-gradient-to-b from-blue-50 to-white",children:[h.jsx(uH,{}),h.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center px-6 py-16",children:[h.jsxs("div",{className:"max-w-xl space-y-6",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-100 text-blue-700 text-sm font-medium ring-1 ring-blue-300/60 shadow-sm",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600"}),"Ni khung hnh c chia s"]}),h.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold leading-tight text-gray-900",children:["To"," ",h.jsxs("span",{className:"relative inline-block px-1",children:[h.jsx("span",{className:"relative z-10 bg-clip-text text-transparent bg-gradient-to-r from-blue-700 to-sky-500 italic",children:"khung hnh"}),h.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-2 bg-blue-300/40 rounded-sm"})]}),h.jsx("br",{}),"online  nhanh, p v tin li"]}),h.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:"Cung cp cng c trc tuyn gip bn to khung hnh v lan to thng ip cho chin dch, s kin hay hot ng ca mnh ch trong vi pht."}),h.jsxs("div",{className:"flex flex-wrap gap-4 pt-2",children:[h.jsx("button",{onClick:y,className:"px-6 py-3 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition shadow-md",children:"TO NGAY"}),h.jsx("a",{href:"/trending",className:"px-6 py-3 rounded-xl font-semibold text-gray-800 ring-1 ring-gray-300 hover:bg-gray-50 transition",children:"XU HNG"})]})]}),h.jsx("div",{className:"flex justify-center md:justify-end",children:h.jsx("img",{src:"/frames/khung-home.png",alt:"Khung hnh minh ho",className:"w-full max-w-md md:max-w-lg drop-shadow-xl rounded-xl"})})]})]}),d.length>0&&h.jsxs("section",{className:"relative overflow-hidden",children:[h.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-gradient-to-b from-[#0d47a1] via-[#1976d2] to-[#1565c0]"}),h.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 opacity-[.08] [background:radial-gradient(80%_80%_at_20%_10%,#fff,transparent_60%)]"}),h.jsx("div",{className:"absolute -top-20 left-1/4 h-[280px] w-[280px] rounded-full bg-sky-300/30 blur-3xl animate-float"}),h.jsx("div",{className:"absolute bottom-[-120px] right-[15%] h-[360px] w-[360px] rounded-full bg-sky-400/25 blur-3xl animate-float-slow"}),h.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[h.jsxs("h2",{className:"text-white text-2xl md:text-3xl font-extrabold tracking-wide drop-shadow-md",children:["KHUNG HNH MI NHT NM ",h.jsx("span",{className:"opacity-90",children:"2025"})]}),h.jsxs("div",{className:"mt-4 rounded-3xl bg-white/90 shadow-[0_10px_40px_-10px_rgba(0,0,0,.25)] ring-1 ring-blue-200/60 p-4 backdrop-blur",children:[h.jsx("div",{className:"px-3 pb-2",children:h.jsx("div",{className:"text-[15px] font-semibold text-blue-700",children:"Khung hnh i hi ng"})}),h.jsx("div",{className:"overflow-x-auto scrollbar-thin scrollbar-thumb-blue-400 scrollbar-track-blue-100 hover:scrollbar-thumb-blue-500",children:h.jsx("ul",{className:"flex gap-4 min-w-max px-2 pb-2",children:d.map((b,N)=>h.jsx("li",{className:"shrink-0",children:h.jsx("button",{onClick:()=>l(`/editor?alias=${b.alias}`),className:"block w-[220px] rounded-2xl overflow-hidden ring-1 ring-black/5 bg-white shadow-[0_10px_25px_-12px_rgba(0,0,0,.25)] transition-shadow hover:shadow-lg",title:b.name||"Khung",children:h.jsxs("div",{className:"relative aspect-square bg-white grid place-items-center",children:[h.jsx("img",{src:b.overlay||b.thumb,alt:b.name||"frame",className:"max-w-full max-h-full object-contain select-none [image-rendering:auto] [image-rendering:-webkit-optimize-contrast]",width:"512",height:"512",decoding:"async",loading:"lazy"}),m(b)&&h.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-md bg-gradient-to-r from-rose-500 to-orange-500 text-white text-xs font-bold shadow-md animate-pulse",children:"NEW"}),h.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-black/5"})]})})},b.alias||N))})})]})]})]}),h.jsxs("section",{className:"relative",children:[h.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-[radial-gradient(60%_60%_at_50%_0%,rgba(59,130,246,0.12),transparent_70%)]"}),h.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-12",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Cc cng c tin li"}),h.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:g.map((b,N)=>h.jsx(V8,{i:N,children:h.jsxs("div",{className:"group rounded-2xl p-6 bg-white/80 ring-1 ring-gray-200 hover:ring-blue-200 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-[0_12px_40px_-12px_rgba(59,130,246,.25)] shine hover-lift",children:[h.jsx("div",{className:"inline-grid place-items-center w-10 h-10 rounded-xl bg-blue-50 ring-1 ring-blue-200/60 text-blue-700",children:b.icon}),h.jsx("h3",{className:"font-semibold mt-3 mb-1",children:b.t}),h.jsx("p",{className:"text-sm text-gray-600",children:b.d}),h.jsx(Wn,{to:b.to,className:"mt-4 inline-block px-4 py-2 rounded-lg text-blue-700 font-medium ring-1 ring-blue-200 hover:bg-blue-50",children:"Th ngay"})]})},b.t))})]})]}),h.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-12",children:[h.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-4 mb-6",children:[h.jsxs(w2.div,{variants:F4,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:[h.jsx("p",{className:"text-blue-600 font-semibold",children:"Xu hng"}),h.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold",children:"Cc khung hnh ni bt"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Danh sch khung hnh nhn c nhiu tng tc nht trong 24 gi qua."})]}),h.jsx(w2.button,{variants:F4,custom:1,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"px-4 py-2 rounded-xl font-semibold text-gray-800 ring-1 ring-gray-300/70 hover:bg-white hover-lift",onClick:()=>l("/trending"),children:"Xem thm"})]}),n.length>0?h.jsx(lH,{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((b,N)=>h.jsx(V8,{i:N,className:"h-full",children:h.jsx("div",{className:"shine-safe hover-lift transform-gpu",children:h.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden ring-1 ring-gray-200 hover:ring-blue-300 transition-all shadow-sm hover:shadow-lg",children:[h.jsxs("button",{onClick:()=>l(`/editor?alias=${b.alias}`),className:"relative w-full aspect-square bg-gray-50 overflow-hidden group",children:[h.jsx("img",{src:b.thumb,alt:b.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),h.jsx(cH,{rank:N+1}),m(b)&&h.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 rounded-md bg-gradient-to-r from-rose-500 to-orange-500 text-white text-xs font-bold shadow-md animate-pulse",children:"NEW"})]}),h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"font-bold text-gray-900 mb-3 line-clamp-2 min-h-[3rem]",children:b.name}),h.jsx("div",{className:"border-t border-gray-200 mb-3"}),b.owner&&h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("img",{src:pa(b.owner.avatar,b.owner.name),alt:b.owner.name,className:"w-8 h-8 rounded-full object-cover border-2 border-gray-200"}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:b.owner.name})})]}),b.ngayTao&&h.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-2",children:[h.jsx(xj,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),h.jsx("span",{className:"font-medium",children:p(b.ngayTao)})]}),h.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-4",children:[h.jsx(gu,{className:"w-4 h-4 mr-1.5 flex-shrink-0"}),h.jsx("span",{className:"font-medium",children:b.views||0})]}),h.jsx("button",{onClick:()=>l(`/editor?alias=${b.alias}`),className:"w-full px-4 py-2.5 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-colors",children:"S dng ngay"})]})]})})},b.alias))}):h.jsx("div",{className:"text-center py-12 text-gray-500",children:"ang ti khung hnh xu hng..."})]}),h.jsxs("section",{className:"relative overflow-hidden",children:[h.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-gradient-to-b from-[#0d47a1] via-[#1976d2] to-[#1565c0]"}),h.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 opacity-[.08] [background:radial-gradient(80%_80%_at_20%_10%,#fff,transparent_60%)]"}),h.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-sky-200/40 blur-3xl animate-float"}),h.jsx("div",{className:"absolute -bottom-24 -right-24 h-72 w-72 rounded-full bg-sky-300/30 blur-3xl animate-float-slow"}),h.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-8",children:[h.jsx("h2",{className:"text-white text-2xl md:text-3xl font-extrabold tracking-wide drop-shadow-md",children:"THEO DI CHNG TI  NHN MU MI HNG NGY"}),h.jsx("div",{className:"mt-4 rounded-3xl bg-white/90 shadow-[0_10px_40px_-10px_rgba(0,0,0,.25)] ring-1 ring-blue-200/60 p-6 md:p-8 backdrop-blur",children:h.jsx("div",{className:"text-center",children:h.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[h.jsxs("a",{className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-blue-700 ring-1 ring-blue-200 hover:bg-blue-50 transition-all duration-200 shadow-sm",href:"#",target:"_blank",rel:"noopener noreferrer",children:[h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook Page"]}),h.jsxs("a",{className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-blue-700 ring-1 ring-blue-200 hover:bg-blue-50 transition-all duration-200 shadow-sm",href:"#",target:"_blank",rel:"noopener noreferrer",children:[h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.989C18.343 21.129 22 16.99 22 12c0-5.523-4.477-10-10-10z"})}),"Facebook Group"]})]})})})]})]}),h.jsxs("section",{className:"max-w-4xl mx-auto px-6 py-16",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-900",children:"Cu hi thng gp"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Nhng thc mc ph bin v dch v ca chng ti"})]}),h.jsx("div",{className:"space-y-4",children:[{q:"Ti c th to bao nhiu khung hnh?",a:"Khng gii hn! Bn c th to v ti v min ph khng gii hn s lng."},{q:"Khung hnh c bn quyn khng?",a:"Tt c khung hnh do chng ti cung cp u min ph s dng cho mc ch c nhn v phi thng mi."},{q:"Ti c th ng gp khung hnh khng?",a:"C! Bn c th ng k ti khon v ng ti khung hnh ca ring mnh  chia s vi cng ng."},{q:"Lm sao  ti nh cht lng cao?",a:'Sau khi chnh sa, click nt "Ti v"  xut nh vi  phn gii 1080x1080 pixels.'}].map((b,N)=>h.jsxs("details",{className:"group rounded-2xl bg-white ring-1 ring-gray-200 hover:ring-blue-300 transition-all",children:[h.jsxs("summary",{className:"cursor-pointer px-6 py-4 font-semibold text-gray-900 flex items-center justify-between",children:[b.q,h.jsx("span",{className:"text-blue-600 group-open:rotate-180 transition-transform",children:""})]}),h.jsx("div",{className:"px-6 pb-4 text-gray-600 border-t border-gray-100 pt-3",children:b.a})]},N))})]}),r&&h.jsx(w3,{onClose:()=>s(!1)})]})}function dH(){return h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Cng c"}),h.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:["Nn nh","Xo nn","i kch thc","Chuyn WebP","Lm m nn","ng du"].map((t,e)=>h.jsxs("div",{className:"card p-6",children:[h.jsx("div",{className:"font-semibold mb-1",children:t}),h.jsx("p",{className:"text-sm text-gray-600",children:"S trin khai sau khi ni API."}),h.jsx("button",{className:"btn-primary mt-4",children:"Th ngay"})]},e))})]})}const G8="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),W8={su_kien:"S kin",le_hoi:"L hi  Ngy c bit",hoat_dong:"Hot ng  Cng ng",chien_dich:"Chin dch  C v",thuong_hieu:"Thng hiu  T chc",giai_tri:"Gii tr  Fandom",sang_tao:"Ch  sng to",khac:"Khc"};function q8({rank:t}){const e=()=>t===1?"bg-yellow-400 text-white":t===2?"bg-blue-500 text-white":t===3?"bg-orange-500 text-white":"bg-gray-400 text-white";return h.jsx("div",{className:`absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-lg ${e()} border-4 border-white z-10`,children:t})}function fH(){const[t,e]=Y.useState([]),[n,i]=Y.useState(!0),[r,s]=Y.useState(null),a=ya();Y.useEffect(()=>{const c=new AbortController;return(async()=>{try{const g=await fetch(`${G8}/api/frames/trending?take=10`,{credentials:"include",signal:c.signal});if(!g.ok)throw new Error(`HTTP ${g.status}`);const m=await g.json();console.log(" Trending API raw data:",m);const p=m.map(y=>{let b=y.thumb||y.UrlXemTruoc||y.urlXemTruoc;return b&&!b.startsWith("http")&&(b=`${G8}${b}`),{id:y.id||y.Id,rank:y.rank||0,name:y.name||y.tieuDe||y.TieuDe||"Khng c tn",alias:y.alias||y.Alias,loai:y.loai||y.Loai||null,thumb:b,overlay:b,totalViews:y.luotXem||y.LuotXem||0,totalDownloads:y.luotTai||y.LuotTai||0,owner:y.owner}});console.log(" Transformed data:",p),e(p)}catch(g){console.error(" Trending error:",g),g.name!=="AbortError"&&s(g.message)}finally{i(!1)}})(),()=>c.abort()},[]);const o=t[0],l=t.slice(1);return h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-sky-50 to-white",children:h.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[h.jsxs("div",{className:"flex items-center justify-center gap-3 mb-12",children:[h.jsx("span",{className:"text-4xl",children:""}),h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Xu hng"})]}),n&&h.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mb-4"}),h.jsx("p",{className:"text-gray-500",children:"ang ti..."})]}),r&&h.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-6",children:[" ",r]}),!n&&!r&&t.length===0&&h.jsxs("div",{className:"text-center py-20",children:[h.jsx("div",{className:"text-6xl mb-4",children:""}),h.jsx("p",{className:"text-gray-500 text-lg",children:"Cha c khung hnh no trong 24h"})]}),!n&&!r&&o&&h.jsxs("div",{className:"flex flex-col items-center mb-12",children:[h.jsxs("div",{className:"relative group cursor-pointer mb-8",onClick:()=>a(`/editor?alias=${o.alias}`),children:[h.jsx("img",{src:o.thumb,alt:o.name,className:"w-80 h-80 object-cover rounded-3xl shadow-lg group-hover:shadow-xl transition-all duration-300 bg-gray-50",onError:c=>{console.error(" Image load error:",o.thumb),c.target.src="/placeholder.png"}}),h.jsx(q8,{rank:1})]}),h.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center cursor-pointer hover:text-blue-600 transition max-w-md px-4",onClick:()=>a(`/editor?alias=${o.alias}`),children:o.name}),o.loai&&h.jsx("div",{className:"mt-2",children:h.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-indigo-50 text-indigo-700 rounded-full px-3 py-1 text-sm font-medium border border-indigo-200",children:[h.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),W8[o.loai]||o.loai]})}),h.jsxs("div",{className:"mt-3 flex items-center gap-2 text-gray-500",children:[h.jsx(gu,{size:18}),h.jsx("span",{className:"font-medium",children:o.totalViews.toLocaleString()})]})]}),!n&&!r&&l.length>0&&h.jsx("div",{className:"space-y-4",children:l.map((c,d)=>h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-start gap-4 p-4 hover:bg-blue-50 rounded-2xl transition-all duration-300 cursor-pointer group",onClick:()=>a(`/editor?alias=${c.alias}`),children:[h.jsxs("div",{className:"relative flex-shrink-0 mb-6",children:[h.jsx("img",{src:c.thumb,alt:c.name,className:"w-32 h-32 object-cover rounded-2xl shadow-md group-hover:shadow-lg transition-all duration-300 bg-gray-50",onError:g=>{console.error(" Image load error:",c.thumb),g.target.src="/placeholder.png"}}),h.jsx(q8,{rank:c.rank})]}),h.jsx("div",{className:"flex-1 min-w-0 py-1",children:h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition line-clamp-2 mb-2",children:c.name}),h.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[h.jsx(gu,{size:16}),h.jsx("span",{className:"font-medium",children:c.totalViews.toLocaleString()})]})]}),c.loai&&h.jsx("div",{className:"flex-shrink-0",children:h.jsxs("span",{className:"inline-flex items-center gap-1 bg-indigo-50 text-indigo-700 rounded-full px-2.5 py-1 text-xs font-medium border border-indigo-200",children:[h.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),W8[c.loai]||c.loai]})})]})})]}),d<l.length-1&&h.jsx("div",{className:"border-t border-gray-200 my-4"})]},c.id))})]})})}var th=Y,pH=function(e,n,i){const r=th.useRef("loading"),s=th.useRef(),[a,o]=th.useState(0),l=th.useRef(),c=th.useRef(),d=th.useRef();return(l.current!==e||c.current!==n||d.current!==i)&&(r.current="loading",s.current=void 0,l.current=e,c.current=n,d.current=i),th.useLayoutEffect(function(){if(!e)return;var g=document.createElement("img");function m(){g.decode().catch(()=>{}).finally(()=>{r.current="loaded",s.current=g,o(Math.random())})}function p(){r.current="failed",s.current=void 0,o(Math.random())}return g.addEventListener("load",m),g.addEventListener("error",p),n&&(g.crossOrigin=n),i&&(g.referrerPolicy=i),g.src=e,function(){g.removeEventListener("load",m),g.removeEventListener("error",p)}},[e,n,i]),[s.current,r.current]};const JA=U2(pH);var ZA={exports:{}},x5={},_2={},Kt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof Ww<"u"?Ww:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.22",isBrowser:n(),isUnminified:/param/.test((function(r){}).toString()),dblClickWindow:400,getAngle(r){return t.Konva.angleDeg?r*e:r},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var r;return(r=t.Konva.Transformer)===null||r===void 0?void 0:r.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(r){t.glob.Konva=r}};const i=r=>{t.Konva[r.prototype.getClassName()]=r};t._registerNode=i,t.Konva._injectGlobal(t.Konva)})(Kt);var mi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=Kt;class n{constructor(k=[1,0,0,1,0,0]){this.dirty=!1,this.m=k&&k.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(k){k.m[0]=this.m[0],k.m[1]=this.m[1],k.m[2]=this.m[2],k.m[3]=this.m[3],k.m[4]=this.m[4],k.m[5]=this.m[5]}point(k){const E=this.m;return{x:E[0]*k.x+E[2]*k.y+E[4],y:E[1]*k.x+E[3]*k.y+E[5]}}translate(k,E){return this.m[4]+=this.m[0]*k+this.m[2]*E,this.m[5]+=this.m[1]*k+this.m[3]*E,this}scale(k,E){return this.m[0]*=k,this.m[1]*=k,this.m[2]*=E,this.m[3]*=E,this}rotate(k){const E=Math.cos(k),I=Math.sin(k),U=this.m[0]*E+this.m[2]*I,R=this.m[1]*E+this.m[3]*I,B=this.m[0]*-I+this.m[2]*E,O=this.m[1]*-I+this.m[3]*E;return this.m[0]=U,this.m[1]=R,this.m[2]=B,this.m[3]=O,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(k,E){const I=this.m[0]+this.m[2]*E,U=this.m[1]+this.m[3]*E,R=this.m[2]+this.m[0]*k,B=this.m[3]+this.m[1]*k;return this.m[0]=I,this.m[1]=U,this.m[2]=R,this.m[3]=B,this}multiply(k){const E=this.m[0]*k.m[0]+this.m[2]*k.m[1],I=this.m[1]*k.m[0]+this.m[3]*k.m[1],U=this.m[0]*k.m[2]+this.m[2]*k.m[3],R=this.m[1]*k.m[2]+this.m[3]*k.m[3],B=this.m[0]*k.m[4]+this.m[2]*k.m[5]+this.m[4],O=this.m[1]*k.m[4]+this.m[3]*k.m[5]+this.m[5];return this.m[0]=E,this.m[1]=I,this.m[2]=U,this.m[3]=R,this.m[4]=B,this.m[5]=O,this}invert(){const k=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),E=this.m[3]*k,I=-this.m[1]*k,U=-this.m[2]*k,R=this.m[0]*k,B=k*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),O=k*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=E,this.m[1]=I,this.m[2]=U,this.m[3]=R,this.m[4]=B,this.m[5]=O,this}getMatrix(){return this.m}decompose(){const k=this.m[0],E=this.m[1],I=this.m[2],U=this.m[3],R=this.m[4],B=this.m[5],O=k*U-E*I,P={x:R,y:B,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(k!=0||E!=0){const M=Math.sqrt(k*k+E*E);P.rotation=E>0?Math.acos(k/M):-Math.acos(k/M),P.scaleX=M,P.scaleY=O/M,P.skewX=(k*I+E*U)/O,P.skewY=0}else if(I!=0||U!=0){const M=Math.sqrt(I*I+U*U);P.rotation=Math.PI/2-(U>0?Math.acos(-I/M):-Math.acos(I/M)),P.scaleX=O/M,P.scaleY=M,P.skewX=0,P.skewY=(k*I+E*U)/O}return P.rotation=t.Util._getRotation(P.rotation),P}}t.Transform=n;const i="[object Array]",r="[object Number]",s="[object String]",a="[object Boolean]",o=Math.PI/180,l=180/Math.PI,c="#",d="",g="0",m="Konva warning: ",p="Konva error: ",y="rgb(",b={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},N=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let S=[];const j=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(w){setTimeout(w,60)};t.Util={_isElement(w){return!!(w&&w.nodeType==1)},_isFunction(w){return!!(w&&w.constructor&&w.call&&w.apply)},_isPlainObject(w){return!!w&&w.constructor===Object},_isArray(w){return Object.prototype.toString.call(w)===i},_isNumber(w){return Object.prototype.toString.call(w)===r&&!isNaN(w)&&isFinite(w)},_isString(w){return Object.prototype.toString.call(w)===s},_isBoolean(w){return Object.prototype.toString.call(w)===a},isObject(w){return w instanceof Object},isValidSelector(w){if(typeof w!="string")return!1;const k=w[0];return k==="#"||k==="."||k===k.toUpperCase()},_sign(w){return w===0||w>0?1:-1},requestAnimFrame(w){S.push(w),S.length===1&&j(function(){const k=S;S=[],k.forEach(function(E){E()})})},createCanvasElement(){const w=document.createElement("canvas");try{w.style=w.style||{}}catch{}return w},createImageElement(){return document.createElement("img")},_isInDocument(w){for(;w=w.parentNode;)if(w==document)return!0;return!1},_urlToImage(w,k){const E=t.Util.createImageElement();E.onload=function(){k(E)},E.src=w},_rgbToHex(w,k,E){return((1<<24)+(w<<16)+(k<<8)+E).toString(16).slice(1)},_hexToRgb(w){w=w.replace(c,d);const k=parseInt(w,16);return{r:k>>16&255,g:k>>8&255,b:k&255}},getRandomColor(){let w=(Math.random()*16777215<<0).toString(16);for(;w.length<6;)w=g+w;return c+w},getRGB(w){let k;return w in b?(k=b[w],{r:k[0],g:k[1],b:k[2]}):w[0]===c?this._hexToRgb(w.substring(1)):w.substr(0,4)===y?(k=N.exec(w.replace(/ /g,"")),{r:parseInt(k[1],10),g:parseInt(k[2],10),b:parseInt(k[3],10)}):{r:0,g:0,b:0}},colorToRGBA(w){return w=w||"black",t.Util._namedColorToRBA(w)||t.Util._hex3ColorToRGBA(w)||t.Util._hex4ColorToRGBA(w)||t.Util._hex6ColorToRGBA(w)||t.Util._hex8ColorToRGBA(w)||t.Util._rgbColorToRGBA(w)||t.Util._rgbaColorToRGBA(w)||t.Util._hslColorToRGBA(w)},_namedColorToRBA(w){const k=b[w.toLowerCase()];return k?{r:k[0],g:k[1],b:k[2],a:1}:null},_rgbColorToRGBA(w){if(w.indexOf("rgb(")===0){w=w.match(/rgb\(([^)]+)\)/)[1];const k=w.split(/ *, */).map(Number);return{r:k[0],g:k[1],b:k[2],a:1}}},_rgbaColorToRGBA(w){if(w.indexOf("rgba(")===0){w=w.match(/rgba\(([^)]+)\)/)[1];const k=w.split(/ *, */).map((E,I)=>E.slice(-1)==="%"?I===3?parseInt(E)/100:parseInt(E)/100*255:Number(E));return{r:k[0],g:k[1],b:k[2],a:k[3]}}},_hex8ColorToRGBA(w){if(w[0]==="#"&&w.length===9)return{r:parseInt(w.slice(1,3),16),g:parseInt(w.slice(3,5),16),b:parseInt(w.slice(5,7),16),a:parseInt(w.slice(7,9),16)/255}},_hex6ColorToRGBA(w){if(w[0]==="#"&&w.length===7)return{r:parseInt(w.slice(1,3),16),g:parseInt(w.slice(3,5),16),b:parseInt(w.slice(5,7),16),a:1}},_hex4ColorToRGBA(w){if(w[0]==="#"&&w.length===5)return{r:parseInt(w[1]+w[1],16),g:parseInt(w[2]+w[2],16),b:parseInt(w[3]+w[3],16),a:parseInt(w[4]+w[4],16)/255}},_hex3ColorToRGBA(w){if(w[0]==="#"&&w.length===4)return{r:parseInt(w[1]+w[1],16),g:parseInt(w[2]+w[2],16),b:parseInt(w[3]+w[3],16),a:1}},_hslColorToRGBA(w){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(w)){const[k,...E]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(w),I=Number(E[0])/360,U=Number(E[1])/100,R=Number(E[2])/100;let B,O,P;if(U===0)return P=R*255,{r:Math.round(P),g:Math.round(P),b:Math.round(P),a:1};R<.5?B=R*(1+U):B=R+U-R*U;const M=2*R-B,G=[0,0,0];for(let W=0;W<3;W++)O=I+1/3*-(W-1),O<0&&O++,O>1&&O--,6*O<1?P=M+(B-M)*6*O:2*O<1?P=B:3*O<2?P=M+(B-M)*(2/3-O)*6:P=M,G[W]=P*255;return{r:Math.round(G[0]),g:Math.round(G[1]),b:Math.round(G[2]),a:1}}},haveIntersection(w,k){return!(k.x>w.x+w.width||k.x+k.width<w.x||k.y>w.y+w.height||k.y+k.height<w.y)},cloneObject(w){const k={};for(const E in w)this._isPlainObject(w[E])?k[E]=this.cloneObject(w[E]):this._isArray(w[E])?k[E]=this.cloneArray(w[E]):k[E]=w[E];return k},cloneArray(w){return w.slice(0)},degToRad(w){return w*o},radToDeg(w){return w*l},_degToRad(w){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(w)},_radToDeg(w){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(w)},_getRotation(w){return e.Konva.angleDeg?t.Util.radToDeg(w):w},_capitalize(w){return w.charAt(0).toUpperCase()+w.slice(1)},throw(w){throw new Error(p+w)},error(w){console.error(p+w)},warn(w){e.Konva.showWarnings&&console.warn(m+w)},each(w,k){for(const E in w)k(E,w[E])},_inRange(w,k,E){return k<=w&&w<E},_getProjectionToSegment(w,k,E,I,U,R){let B,O,P;const M=(w-E)*(w-E)+(k-I)*(k-I);if(M==0)B=w,O=k,P=(U-E)*(U-E)+(R-I)*(R-I);else{const G=((U-w)*(E-w)+(R-k)*(I-k))/M;G<0?(B=w,O=k,P=(w-U)*(w-U)+(k-R)*(k-R)):G>1?(B=E,O=I,P=(E-U)*(E-U)+(I-R)*(I-R)):(B=w+G*(E-w),O=k+G*(I-k),P=(B-U)*(B-U)+(O-R)*(O-R))}return[B,O,P]},_getProjectionToLine(w,k,E){const I=t.Util.cloneObject(w);let U=Number.MAX_VALUE;return k.forEach(function(R,B){if(!E&&B===k.length-1)return;const O=k[(B+1)%k.length],P=t.Util._getProjectionToSegment(R.x,R.y,O.x,O.y,w.x,w.y),M=P[0],G=P[1],W=P[2];W<U&&(I.x=M,I.y=G,U=W)}),I},_prepareArrayForTween(w,k,E){const I=[],U=[];if(w.length>k.length){const B=k;k=w,w=B}for(let B=0;B<w.length;B+=2)I.push({x:w[B],y:w[B+1]});for(let B=0;B<k.length;B+=2)U.push({x:k[B],y:k[B+1]});const R=[];return U.forEach(function(B){const O=t.Util._getProjectionToLine(B,I,E);R.push(O.x),R.push(O.y)}),R},_prepareToStringify(w){let k;w.visitedByCircularReferenceRemoval=!0;for(const E in w)if(w.hasOwnProperty(E)&&w[E]&&typeof w[E]=="object"){if(k=Object.getOwnPropertyDescriptor(w,E),w[E].visitedByCircularReferenceRemoval||t.Util._isElement(w[E]))if(k.configurable)delete w[E];else return null;else if(t.Util._prepareToStringify(w[E])===null)if(k.configurable)delete w[E];else return null}return delete w.visitedByCircularReferenceRemoval,w},_assign(w,k){for(const E in k)w[E]=k[E];return w},_getFirstPointerId(w){return w.touches?w.changedTouches[0].identifier:w.pointerId||999},releaseCanvas(...w){e.Konva.releaseCanvasOnDestroy&&w.forEach(k=>{k.width=0,k.height=0})},drawRoundedRectPath(w,k,E,I){let U=0,R=0,B=0,O=0;typeof I=="number"?U=R=B=O=Math.min(I,k/2,E/2):(U=Math.min(I[0]||0,k/2,E/2),R=Math.min(I[1]||0,k/2,E/2),O=Math.min(I[2]||0,k/2,E/2),B=Math.min(I[3]||0,k/2,E/2)),w.moveTo(U,0),w.lineTo(k-R,0),w.arc(k-R,R,R,Math.PI*3/2,0,!1),w.lineTo(k,E-O),w.arc(k-O,E-O,O,0,Math.PI/2,!1),w.lineTo(B,E),w.arc(B,E-B,B,Math.PI/2,Math.PI,!1),w.lineTo(0,U),w.arc(U,U,U,Math.PI,Math.PI*3/2,!1)}}})(mi);var ci={},Io={},lc={};Object.defineProperty(lc,"__esModule",{value:!0});lc.HitContext=lc.SceneContext=lc.Context=void 0;const eP=mi,gH=Kt;function mH(t){const e=[],n=t.length,i=eP.Util;for(let r=0;r<n;r++){let s=t[r];i._isNumber(s)?s=Math.round(s*1e3)/1e3:i._isString(s)||(s=s+""),e.push(s)}return e}const $8=",",xH="(",yH=")",vH="([",bH="])",wH=";",_H="()",SH="=",K8=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],NH=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],kH=100;class y5{constructor(e){this.canvas=e,gH.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let i=this.traceArr,r=i.length,s="",a,o,l,c;for(a=0;a<r;a++)o=i[a],l=o.method,l?(c=o.args,s+=l,e?s+=_H:eP.Util._isArray(c[0])?s+=vH+c.join($8)+bH:(n&&(c=c.map(d=>typeof d=="number"?Math.floor(d):d)),s+=xH+c.join($8)+yH)):(s+=o.property,e||(s+=SH+o.val)),s+=wH;return s}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,i;n.push(e),i=n.length,i>=kH&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,i,r,s,a){this._context.arc(e,n,i,r,s,a)}arcTo(e,n,i,r,s){this._context.arcTo(e,n,i,r,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,i,r,s,a){this._context.bezierCurveTo(e,n,i,r,s,a)}clearRect(e,n,i,r){this._context.clearRect(e,n,i,r)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const i=arguments;if(i.length===2)return this._context.createImageData(e,n);if(i.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,i,r){return this._context.createLinearGradient(e,n,i,r)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,i,r,s,a){return this._context.createRadialGradient(e,n,i,r,s,a)}drawImage(e,n,i,r,s,a,o,l,c){const d=arguments,g=this._context;d.length===3?g.drawImage(e,n,i):d.length===5?g.drawImage(e,n,i,r,s):d.length===9&&g.drawImage(e,n,i,r,s,a,o,l,c)}ellipse(e,n,i,r,s,a,o,l){this._context.ellipse(e,n,i,r,s,a,o,l)}isPointInPath(e,n,i,r){return i?this._context.isPointInPath(i,e,n,r):this._context.isPointInPath(e,n,r)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,i,r){this._context.fillRect(e,n,i,r)}strokeRect(e,n,i,r){this._context.strokeRect(e,n,i,r)}fillText(e,n,i,r){r?this._context.fillText(e,n,i,r):this._context.fillText(e,n,i)}measureText(e){return this._context.measureText(e)}getImageData(e,n,i,r){return this._context.getImageData(e,n,i,r)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,i,r){this._context.rect(e,n,i,r)}roundRect(e,n,i,r,s){this._context.roundRect(e,n,i,r,s)}putImageData(e,n,i){this._context.putImageData(e,n,i)}quadraticCurveTo(e,n,i,r){this._context.quadraticCurveTo(e,n,i,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,i,r,s,a){this._context.setTransform(e,n,i,r,s,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,i,r){this._context.strokeText(e,n,i,r)}transform(e,n,i,r,s,a){this._context.transform(e,n,i,r,s,a)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=K8.length,i=this.setAttr,r,s;const a=function(o){let l=e[o],c;e[o]=function(){return s=mH(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:o,args:s}),c}};for(r=0;r<n;r++)a(K8[r]);e.setAttr=function(){i.apply(e,arguments);const o=arguments[0];let l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}lc.Context=y5;NH.forEach(function(t){Object.defineProperty(y5.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class CH extends y5{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),i=e.getFillPriority();if(n&&i==="color"){this._fillColor(e);return}const r=e.getFillPatternImage();if(r&&i==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&i==="linear-gradient"){this._fillLinearGradient(e);return}const a=e.getFillRadialGradientColorStops();if(a&&i==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):r?this._fillPattern(e):s?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),i=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,i.x,i.y);if(r){for(let a=0;a<r.length;a+=2)s.addColorStop(r[a],r[a+1]);this.setAttr("strokeStyle",s)}}_stroke(e){const n=e.dash(),i=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!i){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),i||this.restore()}}_applyShadow(e){var n,i,r;const s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",a=(i=e.getShadowBlur())!==null&&i!==void 0?i:5,o=(r=e.getShadowOffset())!==null&&r!==void 0?r:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),d=l.x*c,g=l.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",a*Math.min(Math.abs(d),Math.abs(g))),this.setAttr("shadowOffsetX",o.x*d),this.setAttr("shadowOffsetY",o.y*g)}}lc.SceneContext=CH;class jH extends y5{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e);const i=e.hitStrokeWidth(),r=i==="auto"?e.strokeWidth():i;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}lc.HitContext=jH;Object.defineProperty(Io,"__esModule",{value:!0});Io.HitCanvas=Io.SceneCanvas=Io.Canvas=void 0;const S2=mi,tP=lc,nP=Kt;let Cm;function AH(){if(Cm)return Cm;const t=S2.Util.createCanvasElement(),e=t.getContext("2d");return Cm=function(){const n=nP.Konva._global.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/i}(),S2.Util.releaseCanvas(t),Cm}class ew{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const i=(e||{}).pixelRatio||nP.Konva.pixelRatio||AH();this.pixelRatio=i,this._canvas=S2.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(r){return S2.Util.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Io.Canvas=ew;class PH extends ew{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new tP.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}Io.SceneCanvas=PH;class LH extends ew{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new tP.HitContext(this),this.setSize(e.width,e.height)}}Io.HitCanvas=LH;var v5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=Kt,n=mi;t.DD={get isDragging(){let i=!1;return t.DD._dragElements.forEach(r=>{r.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){let i;return t.DD._dragElements.forEach(r=>{i=r.node}),i},_dragElements:new Map,_drag(i){const r=[];t.DD._dragElements.forEach((s,a)=>{const{node:o}=s,l=o.getStage();l.setPointersPositions(i),s.pointerId===void 0&&(s.pointerId=n.Util._getFirstPointerId(i));const c=l._changedPointerPositions.find(d=>d.id===s.pointerId);if(c){if(s.dragStatus!=="dragging"){const d=o.dragDistance();if(Math.max(Math.abs(c.x-s.startPointerPos.x),Math.abs(c.y-s.startPointerPos.y))<d||(o.startDrag({evt:i}),!o.isDragging()))return}o._setDragPosition(i,s),r.push(o)}}),r.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:i},!0)})},_endDragBefore(i){const r=[];t.DD._dragElements.forEach(s=>{const{node:a}=s,o=a.getStage();if(i&&o.setPointersPositions(i),!o._changedPointerPositions.find(d=>d.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,s.dragStatus="stopped");const c=s.node.getLayer()||s.node instanceof e.Konva.Stage&&s.node;c&&r.indexOf(c)===-1&&r.push(c)}),r.forEach(s=>{s.draw()})},_endDragAfter(i){t.DD._dragElements.forEach((r,s)=>{r.dragStatus==="stopped"&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:i},!0),r.dragStatus!=="dragging"&&t.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))})(v5);var Zt={},Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.RGBComponent=TH;Lt.alphaComponent=EH;Lt.getNumberValidator=MH;Lt.getNumberOrArrayOfNumbersValidator=RH;Lt.getNumberOrAutoValidator=FH;Lt.getStringValidator=OH;Lt.getStringOrGradientValidator=DH;Lt.getFunctionValidator=IH;Lt.getNumberArrayValidator=BH;Lt.getBooleanValidator=zH;Lt.getComponentValidator=UH;const gc=Kt,Ai=mi;function mc(t){return Ai.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||Ai.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function TH(t){return t>255?255:t<0?0:Math.round(t)}function EH(t){return t>1?1:t<1e-4?1e-4:t}function MH(){if(gc.Konva.isUnminified)return function(t,e){return Ai.Util._isNumber(t)||Ai.Util.warn(mc(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function RH(t){if(gc.Konva.isUnminified)return function(e,n){let i=Ai.Util._isNumber(e),r=Ai.Util._isArray(e)&&e.length==t;return!i&&!r&&Ai.Util.warn(mc(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function FH(){if(gc.Konva.isUnminified)return function(t,e){return Ai.Util._isNumber(t)||t==="auto"||Ai.Util.warn(mc(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function OH(){if(gc.Konva.isUnminified)return function(t,e){return Ai.Util._isString(t)||Ai.Util.warn(mc(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function DH(){if(gc.Konva.isUnminified)return function(t,e){const n=Ai.Util._isString(t),i=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||i||Ai.Util.warn(mc(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function IH(){if(gc.Konva.isUnminified)return function(t,e){return Ai.Util._isFunction(t)||Ai.Util.warn(mc(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function BH(){if(gc.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(Ai.Util._isArray(t)?t.forEach(function(i){Ai.Util._isNumber(i)||Ai.Util.warn('"'+e+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):Ai.Util.warn(mc(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function zH(){if(gc.Konva.isUnminified)return function(t,e){return t===!0||t===!1||Ai.Util.warn(mc(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function UH(t){if(gc.Konva.isUnminified)return function(e,n){return e==null||Ai.Util.isObject(e)||Ai.Util.warn(mc(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=mi,n=Lt,i="get",r="set";t.Factory={addGetterSetter(s,a,o,l,c){t.Factory.addGetter(s,a,o),t.Factory.addSetter(s,a,l,c),t.Factory.addOverloadedGetterSetter(s,a)},addGetter(s,a,o){const l=i+e.Util._capitalize(a);s.prototype[l]=s.prototype[l]||function(){const c=this.attrs[a];return c===void 0?o:c}},addSetter(s,a,o,l){const c=r+e.Util._capitalize(a);s.prototype[c]||t.Factory.overWriteSetter(s,a,o,l)},overWriteSetter(s,a,o,l){const c=r+e.Util._capitalize(a);s.prototype[c]=function(d){return o&&d!==void 0&&d!==null&&(d=o.call(this,d,a)),this._setAttr(a,d),l&&l.call(this),this}},addComponentsGetterSetter(s,a,o,l,c){const d=o.length,g=e.Util._capitalize,m=i+g(a),p=r+g(a);s.prototype[m]=function(){const b={};for(let N=0;N<d;N++){const S=o[N];b[S]=this.getAttr(a+g(S))}return b};const y=(0,n.getComponentValidator)(o);s.prototype[p]=function(b){const N=this.attrs[a];l&&(b=l.call(this,b,a)),y&&y.call(this,b,a);for(const S in b)b.hasOwnProperty(S)&&this._setAttr(a+g(S),b[S]);return b||o.forEach(S=>{this._setAttr(a+g(S),void 0)}),this._fireChangeEvent(a,N,b),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(s,a)},addOverloadedGetterSetter(s,a){const o=e.Util._capitalize(a),l=r+o,c=i+o;s.prototype[a]=function(){return arguments.length?(this[l](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(s,a,o,l){e.Util.error("Adding deprecated "+a);const c=i+e.Util._capitalize(a),d=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[c]=function(){e.Util.error(d);const g=this.attrs[a];return g===void 0?o:g},t.Factory.addSetter(s,a,l,function(){e.Util.error(d)}),t.Factory.addOverloadedGetterSetter(s,a)},backCompat(s,a){e.Util.each(a,function(o,l){const c=s.prototype[l],d=i+e.Util._capitalize(o),g=r+e.Util._capitalize(o);function m(){c.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}s.prototype[o]=m,s.prototype[d]=m,s.prototype[g]=m})},afterSetFilter(){this._filterUpToDate=!1}}})(Zt);Object.defineProperty(ci,"__esModule",{value:!0});ci.Node=void 0;const Pd=Io,Va=v5,Lg=Zt,Ic=Kt,ln=mi,Vi=Lt,k1="absoluteOpacity",jm="allEventListeners",Xl="absoluteTransform",X8="absoluteScale",nh="canvas",VH="Change",HH="children",GH="konva",O4="listening",WH="mouseenter",qH="mouseleave",$H="pointerenter",KH="pointerleave",XH="touchenter",YH="touchleave",Y8="set",Q8="Shape",C1=" ",J8="stage",Hc="transform",QH="Stage",D4="visible",JH=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(C1);let ZH=1;class Ft{constructor(e){this._id=ZH++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Hc||e===Xl)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let i=this._cache.get(e);return(i===void 0||(e===Hc||e===Xl)&&i.dirty===!0)&&(i=n.call(this),this._cache.set(e,i)),i}_calculate(e,n,i){if(!this._attachedDepsListeners.get(e)){const r=n.map(s=>s+"Change.konva").join(C1);this.on(r,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,i)}_getCanvasCache(){return this._cache.get(nh)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Xl&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(nh)){const{scene:e,filter:n,hit:i,buffer:r}=this._cache.get(nh);ln.Util.releaseCanvas(e,n,i,r),this._cache.delete(nh)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let i={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let r=Math.ceil(n.width||i.width),s=Math.ceil(n.height||i.height),a=n.pixelRatio,o=n.x===void 0?Math.floor(i.x):n.x,l=n.y===void 0?Math.floor(i.y):n.y,c=n.offset||0,d=n.drawBorder||!1,g=n.hitCanvasPixelRatio||1;if(!r||!s){ln.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const m=Math.abs(Math.round(i.x)-o)>.5?1:0,p=Math.abs(Math.round(i.y)-l)>.5?1:0;r+=c*2+m,s+=c*2+p,o-=c,l-=c;const y=new Pd.SceneCanvas({pixelRatio:a,width:r,height:s}),b=new Pd.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),N=new Pd.HitCanvas({pixelRatio:g,width:r,height:s}),S=y.getContext(),j=N.getContext(),w=new Pd.SceneCanvas({width:y.width/y.pixelRatio+Math.abs(o),height:y.height/y.pixelRatio+Math.abs(l),pixelRatio:y.pixelRatio}),k=w.getContext();return N.isCache=!0,y.isCache=!0,this._cache.delete(nh),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(y.getContext()._context.imageSmoothingEnabled=!1,b.getContext()._context.imageSmoothingEnabled=!1),S.save(),j.save(),k.save(),S.translate(-o,-l),j.translate(-o,-l),k.translate(-o,-l),w.x=o,w.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(k1),this._clearSelfAndDescendantCache(X8),this.drawScene(y,this,w),this.drawHit(N,this),this._isUnderCache=!1,S.restore(),j.restore(),d&&(S.save(),S.beginPath(),S.rect(0,0,r,s),S.closePath(),S.setAttr("strokeStyle","red"),S.setAttr("lineWidth",5),S.stroke(),S.restore()),this._cache.set(nh,{scene:y,filter:b,hit:N,buffer:w,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(nh)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let r=1/0,s=1/0,a=-1/0,o=-1/0;const l=this.getAbsoluteTransform(n);return i.forEach(function(c){const d=l.point(c);r===void 0&&(r=a=d.x,s=o=d.y),r=Math.min(r,d.x),s=Math.min(s,d.y),a=Math.max(a,d.x),o=Math.max(o,d.y)}),{x:r,y:s,width:a-r,height:o-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const i=this._getCachedSceneCanvas(),r=i.pixelRatio;e.drawImage(i._canvas,0,0,i.width/r,i.height/r),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),i=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),i=n.scene,r=n.filter,s=r.getContext(),a,o,l,c;if(e){if(!this._filterUpToDate){const d=i.pixelRatio;r.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio);try{for(a=e.length,s.clear(),s.drawImage(i._canvas,0,0,i.getWidth()/d,i.getHeight()/d),o=s.getImageData(0,0,r.getWidth(),r.getHeight()),l=0;l<a;l++){if(c=e[l],typeof c!="function"){ln.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,o),s.putImageData(o,0,0)}}catch(g){ln.Util.error("Unable to apply filter. "+g.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return r}return i}on(e,n){if(this._cache&&this._cache.delete(jm),arguments.length===3)return this._delegate.apply(this,arguments);const i=e.split(C1);for(let r=0;r<i.length;r++){const a=i[r].split("."),o=a[0],l=a[1]||"";this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:l,handler:n})}return this}off(e,n){let i=(e||"").split(C1),r=i.length,s,a,o,l,c,d;if(this._cache&&this._cache.delete(jm),!e)for(a in this.eventListeners)this._off(a);for(s=0;s<r;s++)if(o=i[s],l=o.split("."),c=l[0],d=l[1],c)this.eventListeners[c]&&this._off(c,d,n);else for(a in this.eventListeners)this._off(a,d,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(i){n.call(this,i.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,i){const r=this;this.on(e,function(s){const a=s.target.findAncestors(n,!0,r);for(let o=0;o<a.length;o++)s=ln.Util.cloneObject(s),s.currentTarget=a[o],i.call(a[o],s)})}remove(){return this.isDragging()&&this.stopDrag(),Va.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Xl),this._clearSelfAndDescendantCache(k1),this._clearSelfAndDescendantCache(X8),this._clearSelfAndDescendantCache(J8),this._clearSelfAndDescendantCache(D4),this._clearSelfAndDescendantCache(O4)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+ln.Util._capitalize(e);return ln.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,i;if(!e)return this;for(n in e)n!==HH&&(i=Y8+ln.Util._capitalize(n),ln.Util._isFunction(this[i])?this[i](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(O4,this._isListening)}_isListening(e){if(!this.listening())return!1;const i=this.getParent();return i&&i!==e&&this!==e?i._isListening(e):!0}isVisible(){return this._getCache(D4,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const i=this.getParent();return i&&i!==e&&this!==e?i._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const i=this.getLayer();let r=!1;Va.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===i)&&(r=!0)});const s=!n&&!Ic.Konva.hitOnDragEnabled&&(r||Ic.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,i=0,r,s,a,o;function l(d){for(r=[],s=d.length,a=0;a<s;a++)o=d[a],i++,o.nodeType!==Q8&&(r=r.concat(o.getChildren().slice())),o._id===n._id&&(a=s);r.length>0&&r[0].getDepth()<=e&&l(r)}const c=this.getStage();return n.nodeType!==QH&&c&&l(c.getChildren()),i}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Hc),this._clearSelfAndDescendantCache(Xl)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const i=this.getAbsoluteTransform().copy();return i.invert(),i.point(n)}getAbsolutePosition(e){let n=!1,i=this.parent;for(;i;){if(i.isCached()){n=!0;break}i=i.parent}n&&!e&&(e=!0);const r=this.getAbsoluteTransform(e).getMatrix(),s=new ln.Transform,a=this.offset();return s.m=r.slice(),s.translate(a.x,a.y),s.getTranslation()}setAbsolutePosition(e){const{x:n,y:i,...r}=this._clearTransform();this.attrs.x=n,this.attrs.y=i,this._clearCache(Hc);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(r),this.setPosition({x:e.x,y:e.y}),this._clearCache(Hc),this._clearSelfAndDescendantCache(Xl),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,i=e.y,r=this.x(),s=this.y();return n!==void 0&&(r+=n),i!==void 0&&(s+=i),this.setPosition({x:r,y:s}),this}_eachAncestorReverse(e,n){let i=[],r=this.getParent(),s,a;if(!(n&&n._id===this._id)){for(i.unshift(this);r&&(!n||r._id!==n._id);)i.unshift(r),r=r.parent;for(s=i.length,a=0;a<s;a++)e(i[a])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return ln.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ln.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ln.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ln.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return ln.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&ln.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(k1,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,i,r,s,a;const o={attrs:{},className:this.getClassName()};for(n in e)i=e[n],a=ln.Util.isObject(i)&&!ln.Util._isPlainObject(i)&&!ln.Util._isArray(i),!a&&(r=typeof this[n]=="function"&&this[n],delete e[n],s=r?r.call(this):null,e[n]=i,s!==i&&(o.attrs[n]=i));return ln.Util._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,i){const r=[];n&&this._isMatch(e)&&r.push(this);let s=this.parent;for(;s;){if(s===i)return r;s._isMatch(e)&&r.push(s),s=s.parent}return r}isAncestorOf(e){return!1}findAncestor(e,n,i){return this.findAncestors(e,n,i)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),i=n.length,r,s;for(r=0;r<i;r++)if(s=n[r],ln.Util.isValidSelector(s)||(ln.Util.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ln.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ln.Util.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(J8,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},i){return n.target=n.target||this,i?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Xl,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new ln.Transform,this._eachAncestorReverse(function(i){const r=i.transformsEnabled();r==="all"?n.multiply(i.getTransform()):r==="position"&&n.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),n;{n=this._cache.get(Xl)||new ln.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const i=this.transformsEnabled();if(i==="all")n.multiply(this.getTransform());else if(i==="position"){const r=this.attrs.x||0,s=this.attrs.y||0,a=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(r-a,s-o)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const r=this.getAbsoluteTransform(e).decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Hc,this._getTransform)}_getTransform(){var e,n;const i=this._cache.get(Hc)||new ln.Transform;i.reset();const r=this.x(),s=this.y(),a=Ic.Konva.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,d=this.attrs.skewY||0,g=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(r!==0||s!==0)&&i.translate(r,s),a!==0&&i.rotate(a),(c!==0||d!==0)&&i.skew(c,d),(o!==1||l!==1)&&i.scale(o,l),(g!==0||m!==0)&&i.translate(-1*g,-1*m),i.dirty=!1,i}clone(e){let n=ln.Util.cloneObject(this.attrs),i,r,s,a,o;for(i in e)n[i]=e[i];const l=new this.constructor(n);for(i in this.eventListeners)for(r=this.eventListeners[i],s=r.length,a=0;a<s;a++)o=r[a],o.name.indexOf(GH)<0&&(l.eventListeners[i]||(l.eventListeners[i]=[]),l.eventListeners[i].push(o));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),i=this.getStage(),r=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),a=e.pixelRatio||1,o=new Pd.SceneCanvas({width:e.width||Math.ceil(n.width)||(i?i.width():0),height:e.height||Math.ceil(n.height)||(i?i.height():0),pixelRatio:a}),l=o.getContext(),c=new Pd.SceneCanvas({width:o.width/o.pixelRatio+Math.abs(r),height:o.height/o.pixelRatio+Math.abs(s),pixelRatio:o.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(r||s)&&l.translate(-1*r,-1*s),this.drawScene(o,void 0,c),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,i=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(n,i);return e.callback&&e.callback(r),r}toImage(e){return new Promise((n,i)=>{try{const r=e==null?void 0:e.callback;r&&delete e.callback,ln.Util._urlToImage(this.toDataURL(e),function(s){n(s),r==null||r(s)})}catch(r){i(r)}})}toBlob(e){return new Promise((n,i)=>{try{const r=e==null?void 0:e.callback;r&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),r==null||r(s)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(r){i(r)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ic.Konva.dragDistance}_off(e,n,i){let r=this.eventListeners[e],s,a,o;for(s=0;s<r.length;s++)if(a=r[s].name,o=r[s].handler,(a!=="konva"||n==="konva")&&(!n||a===n)&&(!i||i===o)){if(r.splice(s,1),r.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,i){this._fire(e+VH,{oldVal:n,newVal:i})}addName(e){if(!this.hasName(e)){const n=this.name(),i=n?n+" "+e:e;this.name(i)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),i=n.indexOf(e);return i!==-1&&(n.splice(i,1),this.name(n.join(" "))),this}setAttr(e,n){const i=this[Y8+ln.Util._capitalize(e)];return ln.Util._isFunction(i)?i.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Ic.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const i=this.attrs[e];i===n&&!ln.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,i,n),this._requestDraw())}_setComponentAttr(e,n,i){let r;i!==void 0&&(r=this.attrs[e],r||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=i,this._fireChangeEvent(e,r,i))}_fireAndBubble(e,n,i){n&&this.nodeType===Q8&&(n.target=this);const r=[WH,qH,$H,KH,XH,YH];if(!(r.indexOf(e)!==-1&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||this.nodeType==="Stage"&&!i))){this._fire(e,n);const a=r.indexOf(e)!==-1&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!a&&(i&&i.parent?this._fireAndBubble.call(this.parent,e,n,i):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,i,r;const s=(n=this._cache.get(jm))!==null&&n!==void 0?n:{};let a=s==null?void 0:s[e];if(a===void 0){a=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(r=(i=o.eventListeners)===null||i===void 0?void 0:i[e])!==null&&r!==void 0?r:[];a.push(...l),o=Object.getPrototypeOf(o)}s[e]=a,this._cache.set(jm,s)}return a}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const i=this._getProtoListeners(e);if(i)for(let s=0;s<i.length;s++)i[s].handler.call(this,n);const r=this.eventListeners[e];if(r)for(let s=0;s<r.length;s++)r[s].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,i=this.getStage(),r=this.getAbsolutePosition();if(!i)return;const s=i._getPointerById(n)||i._changedPointerPositions[0]||r;Va.DD._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-r.x,y:s.y-r.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Va.DD._dragElements.has(this._id)||this._createDragElement(e);const i=Va.DD._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const i=this.getStage()._getPointerById(n.pointerId);if(!i)return;let r={x:i.x-n.offset.x,y:i.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const a=s.call(this,r,e);a?r=a:ln.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==r.x||this._lastPos.y!==r.y)&&(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}stopDrag(e){const n=Va.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Va.DD._endDragBefore(e),Va.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Va.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Ic.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let r=!1;Va.DD._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(r=!0)}),r||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Va.DD._dragElements.get(this._id),i=n&&n.dragStatus==="dragging",r=n&&n.dragStatus==="ready";i?this.stopDrag():r&&Va.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const i={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return ln.Util.haveIntersection(i,this.getClientRect())}static create(e,n){return ln.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let i=Ft.prototype.getClassName.call(e),r=e.children,s,a,o;n&&(e.attrs.container=n),Ic.Konva[i]||(ln.Util.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");const l=Ic.Konva[i];if(s=new l(e.attrs),r)for(a=r.length,o=0;o<a;o++)s.add(Ft._createNode(r[o]));return s}}ci.Node=Ft;Ft.prototype.nodeType="Node";Ft.prototype._attrsAffectingSize=[];Ft.prototype.eventListeners={};Ft.prototype.on.call(Ft.prototype,JH,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Hc),this._clearSelfAndDescendantCache(Xl)});Ft.prototype.on.call(Ft.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(D4)});Ft.prototype.on.call(Ft.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(O4)});Ft.prototype.on.call(Ft.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(k1)});const Bn=Lg.Factory.addGetterSetter;Bn(Ft,"zIndex");Bn(Ft,"absolutePosition");Bn(Ft,"position");Bn(Ft,"x",0,(0,Vi.getNumberValidator)());Bn(Ft,"y",0,(0,Vi.getNumberValidator)());Bn(Ft,"globalCompositeOperation","source-over",(0,Vi.getStringValidator)());Bn(Ft,"opacity",1,(0,Vi.getNumberValidator)());Bn(Ft,"name","",(0,Vi.getStringValidator)());Bn(Ft,"id","",(0,Vi.getStringValidator)());Bn(Ft,"rotation",0,(0,Vi.getNumberValidator)());Lg.Factory.addComponentsGetterSetter(Ft,"scale",["x","y"]);Bn(Ft,"scaleX",1,(0,Vi.getNumberValidator)());Bn(Ft,"scaleY",1,(0,Vi.getNumberValidator)());Lg.Factory.addComponentsGetterSetter(Ft,"skew",["x","y"]);Bn(Ft,"skewX",0,(0,Vi.getNumberValidator)());Bn(Ft,"skewY",0,(0,Vi.getNumberValidator)());Lg.Factory.addComponentsGetterSetter(Ft,"offset",["x","y"]);Bn(Ft,"offsetX",0,(0,Vi.getNumberValidator)());Bn(Ft,"offsetY",0,(0,Vi.getNumberValidator)());Bn(Ft,"dragDistance",void 0,(0,Vi.getNumberValidator)());Bn(Ft,"width",0,(0,Vi.getNumberValidator)());Bn(Ft,"height",0,(0,Vi.getNumberValidator)());Bn(Ft,"listening",!0,(0,Vi.getBooleanValidator)());Bn(Ft,"preventDefault",!0,(0,Vi.getBooleanValidator)());Bn(Ft,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Bn(Ft,"visible",!0,(0,Vi.getBooleanValidator)());Bn(Ft,"transformsEnabled","all",(0,Vi.getStringValidator)());Bn(Ft,"size");Bn(Ft,"dragBoundFunc");Bn(Ft,"draggable",!1,(0,Vi.getBooleanValidator)());Lg.Factory.backCompat(Ft,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Wh={};Object.defineProperty(Wh,"__esModule",{value:!0});Wh.Container=void 0;const $f=Zt,vy=ci,b5=Lt;class qh extends vy.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let i=0;i<e.length;i++)this.add(e[i]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const i=[];return this._descendants(r=>{const s=r._isMatch(e);return s&&i.push(r),!!(s&&n)}),i}_descendants(e){let n=!1;const i=this.getChildren();for(const r of i){if(n=e(r),n)return!0;if(r.hasChildren()&&(n=r._descendants(e),n))return!0}return!1}toObject(){const e=vy.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=vy.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(i){n.add(i.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(i=>{i.isVisible()&&i.intersects(e)&&n.push(i)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(i){i._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,i){n.index=i}),this._requestDraw()}drawScene(e,n,i){const r=this.getLayer(),s=e||r&&r.getCanvas(),a=s&&s.getContext(),o=this._getCanvasCache(),l=o&&o.scene,c=s&&s.isCache;if(!this.isVisible()&&!c)return this;if(l){a.save();const d=this.getAbsoluteTransform(n).getMatrix();a.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",s,n,i);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const i=this.getLayer(),r=e||i&&i.hitCanvas,s=r&&r.getContext(),a=this._getCanvasCache();if(a&&a.hit){s.save();const l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",r,n);return this}_drawChildren(e,n,i,r){var s;const a=n&&n.getContext(),o=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),d=typeof o=="number"&&typeof l=="number"||c,g=i===this;if(d){a.save();const p=this.getAbsoluteTransform(i);let y=p.getMatrix();a.transform(y[0],y[1],y[2],y[3],y[4],y[5]),a.beginPath();let b;if(c)b=c.call(this,a,this);else{const N=this.clipX(),S=this.clipY();a.rect(N||0,S||0,o,l)}a.clip.apply(a,b),y=p.copy().invert().getMatrix(),a.transform(y[0],y[1],y[2],y[3],y[4],y[5])}const m=!g&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(a.save(),a._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(p){p[e](n,i,r)}),m&&a.restore(),d&&a.restore()}getClientRect(e={}){var n;const i=e.skipTransform,r=e.relativeTo;let s,a,o,l,c={x:1/0,y:1/0,width:0,height:0};const d=this;(n=this.children)===null||n===void 0||n.forEach(function(p){if(!p.visible())return;const y=p.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});y.width===0&&y.height===0||(s===void 0?(s=y.x,a=y.y,o=y.x+y.width,l=y.y+y.height):(s=Math.min(s,y.x),a=Math.min(a,y.y),o=Math.max(o,y.x+y.width),l=Math.max(l,y.y+y.height)))});const g=this.find("Shape");let m=!1;for(let p=0;p<g.length;p++)if(g[p]._isVisible(this)){m=!0;break}return m&&s!==void 0?c={x:s,y:a,width:o-s,height:l-a}:c={x:0,y:0,width:0,height:0},i?c:this._transformedRect(c,r)}}Wh.Container=qh;$f.Factory.addComponentsGetterSetter(qh,"clip",["x","y","width","height"]);$f.Factory.addGetterSetter(qh,"clipX",void 0,(0,b5.getNumberValidator)());$f.Factory.addGetterSetter(qh,"clipY",void 0,(0,b5.getNumberValidator)());$f.Factory.addGetterSetter(qh,"clipWidth",void 0,(0,b5.getNumberValidator)());$f.Factory.addGetterSetter(qh,"clipHeight",void 0,(0,b5.getNumberValidator)());$f.Factory.addGetterSetter(qh,"clipFunc");var iP={},Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.getCapturedShape=tG;Au.createEvent=tw;Au.hasPointerCapture=nG;Au.setPointerCapture=iG;Au.releaseCapture=sP;const eG=Kt,ig=new Map,rP=eG.Konva._global.PointerEvent!==void 0;function tG(t){return ig.get(t)}function tw(t){return{evt:t,pointerId:t.pointerId}}function nG(t,e){return ig.get(t)===e}function iG(t,e){sP(t),e.getStage()&&(ig.set(t,e),rP&&e._fire("gotpointercapture",tw(new PointerEvent("gotpointercapture"))))}function sP(t,e){const n=ig.get(t);if(!n)return;const i=n.getStage();i&&i.content,ig.delete(t),rP&&n._fire("lostpointercapture",tw(new PointerEvent("lostpointercapture")))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=mi,n=Zt,i=Wh,r=Kt,s=Io,a=v5,o=Kt,l=Au,c="Stage",d="string",g="px",m="mouseout",p="mouseleave",y="mouseover",b="mouseenter",N="mousemove",S="mousedown",j="mouseup",w="pointermove",k="pointerdown",E="pointerup",I="pointercancel",U="lostpointercapture",R="pointerout",B="pointerleave",O="pointerover",P="pointerenter",M="contextmenu",G="touchstart",W="touchend",Z="touchmove",ce="touchcancel",pe="wheel",J=5,ee=[[b,"_pointerenter"],[S,"_pointerdown"],[N,"_pointermove"],[j,"_pointerup"],[p,"_pointerleave"],[G,"_pointerdown"],[Z,"_pointermove"],[W,"_pointerup"],[ce,"_pointercancel"],[y,"_pointerover"],[pe,"_wheel"],[M,"_contextmenu"],[k,"_pointerdown"],[w,"_pointermove"],[E,"_pointerup"],[I,"_pointercancel"],[B,"_pointerleave"],[U,"_lostpointercapture"]],he={mouse:{[R]:m,[B]:p,[O]:y,[P]:b,[w]:N,[k]:S,[E]:j,[I]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[R]:"touchout",[B]:"touchleave",[O]:"touchover",[P]:"touchenter",[w]:Z,[k]:G,[E]:W,[I]:ce,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[R]:R,[B]:B,[O]:O,[P]:P,[w]:w,[k]:k,[E]:E,[I]:I,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},se=de=>de.indexOf("pointer")>=0?"pointer":de.indexOf("touch")>=0?"touch":"mouse",F=de=>{const X=se(de);if(X==="pointer")return r.Konva.pointerEventsEnabled&&he.pointer;if(X==="touch")return he.touch;if(X==="mouse")return he.mouse};function q(de={}){return(de.clipFunc||de.clipWidth||de.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),de}const re="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class oe extends i.Container{constructor(X){super(q(X)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{q(this.attrs)}),this._checkVisibility()}_validateAdd(X){const fe=X.getType()==="Layer",xe=X.getType()==="FastLayer";fe||xe||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const X=this.visible()?"":"none";this.content.style.display=X}setContainer(X){if(typeof X===d){let fe;if(X.charAt(0)==="."){const xe=X.slice(1);X=document.getElementsByClassName(xe)[0]}else X.charAt(0)!=="#"?fe=X:fe=X.slice(1),X=document.getElementById(fe);if(!X)throw"Can not find container in document with id "+fe}return this._setAttr("container",X),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),X.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const X=this.children,fe=X.length;for(let xe=0;xe<fe;xe++)X[xe].clear();return this}clone(X){return X||(X={}),X.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,X)}destroy(){super.destroy();const X=this.content;X&&e.Util._isInDocument(X)&&this.container().removeChild(X);const fe=t.stages.indexOf(this);return fe>-1&&t.stages.splice(fe,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const X=this._pointerPositions[0]||this._changedPointerPositions[0];return X?{x:X.x,y:X.y}:(e.Util.warn(re),null)}_getPointerById(X){return this._pointerPositions.find(fe=>fe.id===X)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(X){X=X||{},X.x=X.x||0,X.y=X.y||0,X.width=X.width||this.width(),X.height=X.height||this.height();const fe=new s.SceneCanvas({width:X.width,height:X.height,pixelRatio:X.pixelRatio||1}),xe=fe.getContext()._context,Ce=this.children;return(X.x||X.y)&&xe.translate(-1*X.x,-1*X.y),Ce.forEach(function(Le){if(!Le.isVisible())return;const Ue=Le._toKonvaCanvas(X);xe.drawImage(Ue._canvas,X.x,X.y,Ue.getWidth()/Ue.getPixelRatio(),Ue.getHeight()/Ue.getPixelRatio())}),fe}getIntersection(X){if(!X)return null;const fe=this.children,xe=fe.length,Ce=xe-1;for(let Le=Ce;Le>=0;Le--){const Ue=fe[Le].getIntersection(X);if(Ue)return Ue}return null}_resizeDOM(){const X=this.width(),fe=this.height();this.content&&(this.content.style.width=X+g,this.content.style.height=fe+g),this.bufferCanvas.setSize(X,fe),this.bufferHitCanvas.setSize(X,fe),this.children.forEach(xe=>{xe.setSize({width:X,height:fe}),xe.draw()})}add(X,...fe){if(arguments.length>1){for(let Ce=0;Ce<arguments.length;Ce++)this.add(arguments[Ce]);return this}super.add(X);const xe=this.children.length;return xe>J&&e.Util.warn("The stage has "+xe+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),X.setSize({width:this.width(),height:this.height()}),X.draw(),r.Konva.isBrowser&&this.content.appendChild(X.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(X){return l.hasPointerCapture(X,this)}setPointerCapture(X){l.setPointerCapture(X,this)}releaseCapture(X){l.releaseCapture(X,this)}getLayers(){return this.children}_bindContentEvents(){r.Konva.isBrowser&&ee.forEach(([X,fe])=>{this.content.addEventListener(X,xe=>{this[fe](xe)},{passive:!1})})}_pointerenter(X){this.setPointersPositions(X);const fe=F(X.type);fe&&this._fire(fe.pointerenter,{evt:X,target:this,currentTarget:this})}_pointerover(X){this.setPointersPositions(X);const fe=F(X.type);fe&&this._fire(fe.pointerover,{evt:X,target:this,currentTarget:this})}_getTargetShape(X){let fe=this[X+"targetShape"];return fe&&!fe.getStage()&&(fe=null),fe}_pointerleave(X){const fe=F(X.type),xe=se(X.type);if(!fe)return;this.setPointersPositions(X);const Ce=this._getTargetShape(xe),Le=!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled;Ce&&Le?(Ce._fireAndBubble(fe.pointerout,{evt:X}),Ce._fireAndBubble(fe.pointerleave,{evt:X}),this._fire(fe.pointerleave,{evt:X,target:this,currentTarget:this}),this[xe+"targetShape"]=null):Le&&(this._fire(fe.pointerleave,{evt:X,target:this,currentTarget:this}),this._fire(fe.pointerout,{evt:X,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(X){const fe=F(X.type),xe=se(X.type);if(!fe)return;this.setPointersPositions(X);let Ce=!1;this._changedPointerPositions.forEach(Le=>{const Ue=this.getIntersection(Le);if(a.DD.justDragged=!1,r.Konva["_"+xe+"ListenClick"]=!0,!Ue||!Ue.isListening()){this[xe+"ClickStartShape"]=void 0;return}r.Konva.capturePointerEventsEnabled&&Ue.setPointerCapture(Le.id),this[xe+"ClickStartShape"]=Ue,Ue._fireAndBubble(fe.pointerdown,{evt:X,pointerId:Le.id}),Ce=!0;const ze=X.type.indexOf("touch")>=0;Ue.preventDefault()&&X.cancelable&&ze&&X.preventDefault()}),Ce||this._fire(fe.pointerdown,{evt:X,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(X){const fe=F(X.type),xe=se(X.type);if(!fe||(r.Konva.isDragging()&&a.DD.node.preventDefault()&&X.cancelable&&X.preventDefault(),this.setPointersPositions(X),!(!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled)))return;const Le={};let Ue=!1;const ze=this._getTargetShape(xe);this._changedPointerPositions.forEach(Ke=>{const te=l.getCapturedShape(Ke.id)||this.getIntersection(Ke),Ge=Ke.id,vt={evt:X,pointerId:Ge},ht=ze!==te;if(ht&&ze&&(ze._fireAndBubble(fe.pointerout,{...vt},te),ze._fireAndBubble(fe.pointerleave,{...vt},te)),te){if(Le[te._id])return;Le[te._id]=!0}te&&te.isListening()?(Ue=!0,ht&&(te._fireAndBubble(fe.pointerover,{...vt},ze),te._fireAndBubble(fe.pointerenter,{...vt},ze),this[xe+"targetShape"]=te),te._fireAndBubble(fe.pointermove,{...vt})):ze&&(this._fire(fe.pointerover,{evt:X,target:this,currentTarget:this,pointerId:Ge}),this[xe+"targetShape"]=null)}),Ue||this._fire(fe.pointermove,{evt:X,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(X){const fe=F(X.type),xe=se(X.type);if(!fe)return;this.setPointersPositions(X);const Ce=this[xe+"ClickStartShape"],Le=this[xe+"ClickEndShape"],Ue={};let ze=!1;this._changedPointerPositions.forEach(Ke=>{const te=l.getCapturedShape(Ke.id)||this.getIntersection(Ke);if(te){if(te.releaseCapture(Ke.id),Ue[te._id])return;Ue[te._id]=!0}const Ge=Ke.id,vt={evt:X,pointerId:Ge};let ht=!1;r.Konva["_"+xe+"InDblClickWindow"]?(ht=!0,clearTimeout(this[xe+"DblTimeout"])):a.DD.justDragged||(r.Konva["_"+xe+"InDblClickWindow"]=!0,clearTimeout(this[xe+"DblTimeout"])),this[xe+"DblTimeout"]=setTimeout(function(){r.Konva["_"+xe+"InDblClickWindow"]=!1},r.Konva.dblClickWindow),te&&te.isListening()?(ze=!0,this[xe+"ClickEndShape"]=te,te._fireAndBubble(fe.pointerup,{...vt}),r.Konva["_"+xe+"ListenClick"]&&Ce&&Ce===te&&(te._fireAndBubble(fe.pointerclick,{...vt}),ht&&Le&&Le===te&&te._fireAndBubble(fe.pointerdblclick,{...vt}))):(this[xe+"ClickEndShape"]=null,r.Konva["_"+xe+"ListenClick"]&&this._fire(fe.pointerclick,{evt:X,target:this,currentTarget:this,pointerId:Ge}),ht&&this._fire(fe.pointerdblclick,{evt:X,target:this,currentTarget:this,pointerId:Ge}))}),ze||this._fire(fe.pointerup,{evt:X,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r.Konva["_"+xe+"ListenClick"]=!1,X.cancelable&&xe!=="touch"&&xe!=="pointer"&&X.preventDefault()}_contextmenu(X){this.setPointersPositions(X);const fe=this.getIntersection(this.getPointerPosition());fe&&fe.isListening()?fe._fireAndBubble(M,{evt:X}):this._fire(M,{evt:X,target:this,currentTarget:this})}_wheel(X){this.setPointersPositions(X);const fe=this.getIntersection(this.getPointerPosition());fe&&fe.isListening()?fe._fireAndBubble(pe,{evt:X}):this._fire(pe,{evt:X,target:this,currentTarget:this})}_pointercancel(X){this.setPointersPositions(X);const fe=l.getCapturedShape(X.pointerId)||this.getIntersection(this.getPointerPosition());fe&&fe._fireAndBubble(E,l.createEvent(X)),l.releaseCapture(X.pointerId)}_lostpointercapture(X){l.releaseCapture(X.pointerId)}setPointersPositions(X){const fe=this._getContentPosition();let xe=null,Ce=null;X=X||window.event,X.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(X.touches,Le=>{this._pointerPositions.push({id:Le.identifier,x:(Le.clientX-fe.left)/fe.scaleX,y:(Le.clientY-fe.top)/fe.scaleY})}),Array.prototype.forEach.call(X.changedTouches||X.touches,Le=>{this._changedPointerPositions.push({id:Le.identifier,x:(Le.clientX-fe.left)/fe.scaleX,y:(Le.clientY-fe.top)/fe.scaleY})})):(xe=(X.clientX-fe.left)/fe.scaleX,Ce=(X.clientY-fe.top)/fe.scaleY,this.pointerPos={x:xe,y:Ce},this._pointerPositions=[{x:xe,y:Ce,id:e.Util._getFirstPointerId(X)}],this._changedPointerPositions=[{x:xe,y:Ce,id:e.Util._getFirstPointerId(X)}])}_setPointerPosition(X){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(X)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const X=this.content.getBoundingClientRect();return{top:X.top,left:X.left,scaleX:X.width/this.content.clientWidth||1,scaleY:X.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!r.Konva.isBrowser)return;const X=this.container();if(!X)throw"Stage has no container. A container is required.";X.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),X.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(X){X.batchDraw()}),this}}t.Stage=oe,oe.prototype.nodeType=c,(0,o._registerNode)(oe),n.Factory.addGetterSetter(oe,"container"),r.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(de=>{de.batchDraw()})})})(iP);var Tg={},rr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=Kt,n=mi,i=Zt,r=ci,s=Lt,a=Kt,o=Au,l="hasShadow",c="shadowRGBA",d="patternImage",g="linearGradient",m="radialGradient";let p;function y(){return p||(p=n.Util.createCanvasElement().getContext("2d"),p)}t.shapes={};function b(B){const O=this.attrs.fillRule;O?B.fill(O):B.fill()}function N(B){B.stroke()}function S(B){const O=this.attrs.fillRule;O?B.fill(O):B.fill()}function j(B){B.stroke()}function w(){this._clearCache(l)}function k(){this._clearCache(c)}function E(){this._clearCache(d)}function I(){this._clearCache(g)}function U(){this._clearCache(m)}class R extends r.Node{constructor(O){super(O);let P;for(;P=n.Util.getRandomColor(),!(P&&!(P in t.shapes)););this.colorKey=P,t.shapes[P]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(d,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const P=y().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(P&&P.setTransform){const M=new n.Transform;M.translate(this.fillPatternX(),this.fillPatternY()),M.rotate(e.Konva.getAngle(this.fillPatternRotation())),M.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),M.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const G=M.getMatrix(),W=typeof DOMMatrix>"u"?{a:G[0],b:G[1],c:G[2],d:G[3],e:G[4],f:G[5]}:new DOMMatrix(G);P.setTransform(W)}return P}}_getLinearGradient(){return this._getCache(g,this.__getLinearGradient)}__getLinearGradient(){const O=this.fillLinearGradientColorStops();if(O){const P=y(),M=this.fillLinearGradientStartPoint(),G=this.fillLinearGradientEndPoint(),W=P.createLinearGradient(M.x,M.y,G.x,G.y);for(let Z=0;Z<O.length;Z+=2)W.addColorStop(O[Z],O[Z+1]);return W}}_getRadialGradient(){return this._getCache(m,this.__getRadialGradient)}__getRadialGradient(){const O=this.fillRadialGradientColorStops();if(O){const P=y(),M=this.fillRadialGradientStartPoint(),G=this.fillRadialGradientEndPoint(),W=P.createRadialGradient(M.x,M.y,this.fillRadialGradientStartRadius(),G.x,G.y,this.fillRadialGradientEndRadius());for(let Z=0;Z<O.length;Z+=2)W.addColorStop(O[Z],O[Z+1]);return W}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const O=n.Util.colorToRGBA(this.shadowColor());if(O)return"rgba("+O.r+","+O.g+","+O.b+","+O.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const O=this.hitStrokeWidth();return O==="auto"?this.hasStroke():this.strokeEnabled()&&!!O}intersects(O){const P=this.getStage();if(!P)return!1;const M=P.bufferHitCanvas;return M.getContext().clear(),this.drawHit(M,void 0,!0),M.context.getImageData(Math.round(O.x),Math.round(O.y),1,1).data[3]>0}destroy(){return r.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(O){var P;if(!((P=this.attrs.perfectDrawEnabled)!==null&&P!==void 0?P:!0))return!1;const G=O||this.hasFill(),W=this.hasStroke(),Z=this.getAbsoluteOpacity()!==1;if(G&&W&&Z)return!0;const ce=this.hasShadow(),pe=this.shadowForStrokeEnabled();return!!(G&&W&&ce&&pe)}setStrokeHitEnabled(O){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),O?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const O=this.size();return{x:this._centroid?-O.width/2:0,y:this._centroid?-O.height/2:0,width:O.width,height:O.height}}getClientRect(O={}){let P=!1,M=this.getParent();for(;M;){if(M.isCached()){P=!0;break}M=M.getParent()}const G=O.skipTransform,W=O.relativeTo||P&&this.getStage()||void 0,Z=this.getSelfRect(),pe=!O.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,J=Z.width+pe,ee=Z.height+pe,he=!O.skipShadow&&this.hasShadow(),se=he?this.shadowOffsetX():0,F=he?this.shadowOffsetY():0,q=J+Math.abs(se),re=ee+Math.abs(F),oe=he&&this.shadowBlur()||0,de=q+oe*2,X=re+oe*2,fe={width:de,height:X,x:-(pe/2+oe)+Math.min(se,0)+Z.x,y:-(pe/2+oe)+Math.min(F,0)+Z.y};return G?fe:this._transformedRect(fe,W)}drawScene(O,P,M){const G=this.getLayer(),W=O||G.getCanvas(),Z=W.getContext(),ce=this._getCanvasCache(),pe=this.getSceneFunc(),J=this.hasShadow();let ee;const he=P===this;if(!this.isVisible()&&!he)return this;if(ce){Z.save();const se=this.getAbsoluteTransform(P).getMatrix();return Z.transform(se[0],se[1],se[2],se[3],se[4],se[5]),this._drawCachedSceneCanvas(Z),Z.restore(),this}if(!pe)return this;if(Z.save(),this._useBufferCanvas()){ee=this.getStage();const se=M||ee.bufferCanvas,F=se.getContext();F.clear(),F.save(),F._applyLineJoin(this);const q=this.getAbsoluteTransform(P).getMatrix();F.transform(q[0],q[1],q[2],q[3],q[4],q[5]),pe.call(this,F,this),F.restore();const re=se.pixelRatio;J&&Z._applyShadow(this),Z._applyOpacity(this),Z._applyGlobalCompositeOperation(this),Z.drawImage(se._canvas,se.x||0,se.y||0,se.width/re,se.height/re)}else{if(Z._applyLineJoin(this),!he){const se=this.getAbsoluteTransform(P).getMatrix();Z.transform(se[0],se[1],se[2],se[3],se[4],se[5]),Z._applyOpacity(this),Z._applyGlobalCompositeOperation(this)}J&&Z._applyShadow(this),pe.call(this,Z,this)}return Z.restore(),this}drawHit(O,P,M=!1){if(!this.shouldDrawHit(P,M))return this;const G=this.getLayer(),W=O||G.hitCanvas,Z=W&&W.getContext(),ce=this.hitFunc()||this.sceneFunc(),pe=this._getCanvasCache(),J=pe&&pe.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),J){Z.save();const he=this.getAbsoluteTransform(P).getMatrix();return Z.transform(he[0],he[1],he[2],he[3],he[4],he[5]),this._drawCachedHitCanvas(Z),Z.restore(),this}if(!ce)return this;if(Z.save(),Z._applyLineJoin(this),!(this===P)){const he=this.getAbsoluteTransform(P).getMatrix();Z.transform(he[0],he[1],he[2],he[3],he[4],he[5])}return ce.call(this,Z,this),Z.restore(),this}drawHitFromCache(O=0){const P=this._getCanvasCache(),M=this._getCachedSceneCanvas(),G=P.hit,W=G.getContext(),Z=G.getWidth(),ce=G.getHeight();W.clear(),W.drawImage(M._canvas,0,0,Z,ce);try{const pe=W.getImageData(0,0,Z,ce),J=pe.data,ee=J.length,he=n.Util._hexToRgb(this.colorKey);for(let se=0;se<ee;se+=4)J[se+3]>O?(J[se]=he.r,J[se+1]=he.g,J[se+2]=he.b,J[se+3]=255):J[se+3]=0;W.putImageData(pe,0,0)}catch(pe){n.Util.error("Unable to draw hit graph from cached scene canvas. "+pe.message)}return this}hasPointerCapture(O){return o.hasPointerCapture(O,this)}setPointerCapture(O){o.setPointerCapture(O,this)}releaseCapture(O){o.releaseCapture(O,this)}}t.Shape=R,R.prototype._fillFunc=b,R.prototype._strokeFunc=N,R.prototype._fillFuncHit=S,R.prototype._strokeFuncHit=j,R.prototype._centroid=!1,R.prototype.nodeType="Shape",(0,a._registerNode)(R),R.prototype.eventListeners={},R.prototype.on.call(R.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",w),R.prototype.on.call(R.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",k),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",E),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",I),R.prototype.on.call(R.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",U),i.Factory.addGetterSetter(R,"stroke",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(R,"strokeWidth",2,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(R,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(R,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(R,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(R,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(R,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(R,"lineJoin"),i.Factory.addGetterSetter(R,"lineCap"),i.Factory.addGetterSetter(R,"sceneFunc"),i.Factory.addGetterSetter(R,"hitFunc"),i.Factory.addGetterSetter(R,"dash"),i.Factory.addGetterSetter(R,"dashOffset",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(R,"shadowColor",void 0,(0,s.getStringValidator)()),i.Factory.addGetterSetter(R,"shadowBlur",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(R,"shadowOpacity",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(R,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(R,"shadowOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(R,"shadowOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(R,"fillPatternImage"),i.Factory.addGetterSetter(R,"fill",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(R,"fillPatternX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(R,"fillPatternY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(R,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(R,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(R,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(R,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(R,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(R,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(R,"fillEnabled",!0),i.Factory.addGetterSetter(R,"strokeEnabled",!0),i.Factory.addGetterSetter(R,"shadowEnabled",!0),i.Factory.addGetterSetter(R,"dashEnabled",!0),i.Factory.addGetterSetter(R,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(R,"fillPriority","color"),i.Factory.addComponentsGetterSetter(R,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(R,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(R,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(R,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(R,"fillPatternScaleX",1,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(R,"fillPatternScaleY",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(R,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(R,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(R,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(R,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(R,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(R,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(R,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(R,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(R,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(R,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(R,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(R,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(R,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(R,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(R,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(R,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(R,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(R,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(R,"fillPatternRotation",0),i.Factory.addGetterSetter(R,"fillRule",void 0,(0,s.getStringValidator)()),i.Factory.backCompat(R,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(rr);Object.defineProperty(Tg,"__esModule",{value:!0});Tg.Layer=void 0;const Wl=mi,by=Wh,Ld=ci,nw=Zt,Z8=Io,rG=Lt,sG=rr,aG=Kt,oG="#",lG="beforeDraw",cG="draw",aP=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],uG=aP.length;let Kf=class extends by.Container{constructor(e){super(e),this.canvas=new Z8.SceneCanvas,this.hitCanvas=new Z8.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ld.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Ld.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ld.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ld.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Ld.Node.prototype.remove.call(this),e&&e.parentNode&&Wl.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&Wl.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Ld.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Wl.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Wl.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Wl.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,i=!1;for(;;){for(let r=0;r<uG;r++){const s=aP[r],a=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),o=a.shape;if(o)return o;if(i=!!a.antialiased,!a.antialiased)break}if(i)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,r=i[3];if(r===255){const s=Wl.Util._rgbToHex(i[0],i[1],i[2]),a=sG.shapes[oG+s];return a?{shape:a}:{antialiased:!0}}else if(r>0)return{antialiased:!0};return{}}drawScene(e,n,i){const r=this.getLayer(),s=e||r&&r.getCanvas();return this._fire(lG,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),by.Container.prototype.drawScene.call(this,s,n,i),this._fire(cG,{node:this}),this}drawHit(e,n){const i=this.getLayer(),r=e||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),by.Container.prototype.drawHit.call(this,r,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Wl.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Wl.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Wl.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Tg.Layer=Kf;Kf.prototype.nodeType="Layer";(0,aG._registerNode)(Kf);nw.Factory.addGetterSetter(Kf,"imageSmoothingEnabled",!0);nw.Factory.addGetterSetter(Kf,"clearBeforeDraw",!0);nw.Factory.addGetterSetter(Kf,"hitGraphEnabled",!0,(0,rG.getBooleanValidator)());var w5={};Object.defineProperty(w5,"__esModule",{value:!0});w5.FastLayer=void 0;const hG=mi,dG=Tg,fG=Kt;class iw extends dG.Layer{constructor(e){super(e),this.listening(!1),hG.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}w5.FastLayer=iw;iw.prototype.nodeType="FastLayer";(0,fG._registerNode)(iw);var Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});Xf.Group=void 0;const pG=mi,gG=Wh,mG=Kt;let rw=class extends gG.Container{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&pG.Util.throw("You may only add groups and shapes to groups.")}};Xf.Group=rw;rw.prototype.nodeType="Group";(0,mG._registerNode)(rw);var Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.Animation=void 0;const wy=Kt,eS=mi,_y=function(){return wy.glob.performance&&wy.glob.performance.now?function(){return wy.glob.performance.now()}:function(){return new Date().getTime()}}();let _5=class Bd{constructor(e,n){this.id=Bd.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:_y(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,i=n.length;for(let r=0;r<i;r++)if(n[r]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Bd.animations,i=n.length;for(let r=0;r<i;r++)if(n[r].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=_y(),Bd._addAnimation(this),this}stop(){return Bd._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,i=this.animations,r=i.length;for(let s=0;s<r;s++)if(i[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const e={},n=this.animations;for(let i=0;i<n.length;i++){const r=n[i],s=r.layers,a=r.func;r._updateFrameObject(_y());const o=s.length;let l;if(a?l=a.call(r,r.frame)!==!1:l=!0,!!l)for(let c=0;c<o;c++){const d=s[c];d._id!==void 0&&(e[d._id]=d)}}for(const i in e)e.hasOwnProperty(i)&&e[i].batchDraw()}static _animationLoop(){const e=Bd;e.animations.length?(e._runFrames(),eS.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,eS.Util.requestAnimFrame(this._animationLoop))}};Yf.Animation=_5;_5.animations=[];_5.animIdCounter=0;_5.animRunning=!1;var oP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=mi,n=Yf,i=ci,r=Kt,s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,o=2,l=3,c=["fill","stroke","shadowColor"];let d=0;class g{constructor(y,b,N,S,j,w,k){this.prop=y,this.propFunc=b,this.begin=S,this._pos=S,this.duration=w,this._change=0,this.prevPos=0,this.yoyo=k,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=N,this._change=j-this.begin,this.pause()}fire(y){const b=this[y];b&&b()}setTime(y){y>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():y<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=y,this.update())}getTime(){return this._time}setPosition(y){this.prevPos=this._pos,this.propFunc(y),this._pos=y}getPosition(y){return y===void 0&&(y=this._time),this.func(y,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(y){this.pause(),this._time=y,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const y=this.getTimer()-this._startTime;this.state===o?this.setTime(y):this.state===l&&this.setTime(this.duration-y)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class m{constructor(y){const b=this,N=y.node,S=N._id,j=y.easing||t.Easings.Linear,w=!!y.yoyo;let k,E;typeof y.duration>"u"?k=.3:y.duration===0?k=.001:k=y.duration,this.node=N,this._id=d++;const I=N.getLayer()||(N instanceof r.Konva.Stage?N.getLayers():null);I||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){b.tween.onEnterFrame()},I),this.tween=new g(E,function(U){b._tweenFunc(U)},j,0,1,k*1e3,w),this._addListeners(),m.attrs[S]||(m.attrs[S]={}),m.attrs[S][this._id]||(m.attrs[S][this._id]={}),m.tweens[S]||(m.tweens[S]={});for(E in y)s[E]===void 0&&this._addAttr(E,y[E]);this.reset(),this.onFinish=y.onFinish,this.onReset=y.onReset,this.onUpdate=y.onUpdate}_addAttr(y,b){const N=this.node,S=N._id;let j,w,k,E,I;const U=m.tweens[S][y];U&&delete m.attrs[S][U][y];let R=N.getAttr(y);if(e.Util._isArray(b))if(j=[],w=Math.max(b.length,R.length),y==="points"&&b.length!==R.length&&(b.length>R.length?(E=R,R=e.Util._prepareArrayForTween(R,b,N.closed())):(k=b,b=e.Util._prepareArrayForTween(b,R,N.closed()))),y.indexOf("fill")===0)for(let B=0;B<w;B++)if(B%2===0)j.push(b[B]-R[B]);else{const O=e.Util.colorToRGBA(R[B]);I=e.Util.colorToRGBA(b[B]),R[B]=O,j.push({r:I.r-O.r,g:I.g-O.g,b:I.b-O.b,a:I.a-O.a})}else for(let B=0;B<w;B++)j.push(b[B]-R[B]);else c.indexOf(y)!==-1?(R=e.Util.colorToRGBA(R),I=e.Util.colorToRGBA(b),j={r:I.r-R.r,g:I.g-R.g,b:I.b-R.b,a:I.a-R.a}):j=b-R;m.attrs[S][this._id][y]={start:R,diff:j,end:b,trueEnd:k,trueStart:E},m.tweens[S][y]=this._id}_tweenFunc(y){const b=this.node,N=m.attrs[b._id][this._id];let S,j,w,k,E,I,U,R;for(S in N){if(j=N[S],w=j.start,k=j.diff,R=j.end,e.Util._isArray(w))if(E=[],U=Math.max(w.length,R.length),S.indexOf("fill")===0)for(I=0;I<U;I++)I%2===0?E.push((w[I]||0)+k[I]*y):E.push("rgba("+Math.round(w[I].r+k[I].r*y)+","+Math.round(w[I].g+k[I].g*y)+","+Math.round(w[I].b+k[I].b*y)+","+(w[I].a+k[I].a*y)+")");else for(I=0;I<U;I++)E.push((w[I]||0)+k[I]*y);else c.indexOf(S)!==-1?E="rgba("+Math.round(w.r+k.r*y)+","+Math.round(w.g+k.g*y)+","+Math.round(w.b+k.b*y)+","+(w.a+k.a*y)+")":E=w+k*y;b.setAttr(S,E)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const y=this.node,b=m.attrs[y._id][this._id];b.points&&b.points.trueEnd&&y.setAttr("points",b.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const y=this.node,b=m.attrs[y._id][this._id];b.points&&b.points.trueStart&&y.points(b.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(y){return this.tween.seek(y*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const y=this.node._id,b=this._id,N=m.tweens[y];this.pause(),this.anim&&this.anim.stop();for(const S in N)delete m.tweens[y][S];delete m.attrs[y][b],m.tweens[y]&&(Object.keys(m.tweens[y]).length===0&&delete m.tweens[y],Object.keys(m.attrs[y]).length===0&&delete m.attrs[y])}}t.Tween=m,m.attrs={},m.tweens={},i.Node.prototype.to=function(p){const y=p.onFinish;p.node=this,p.onFinish=function(){this.destroy(),y&&y()},new m(p).play()},t.Easings={BackEaseIn(p,y,b,N){return b*(p/=N)*p*((1.70158+1)*p-1.70158)+y},BackEaseOut(p,y,b,N){return b*((p=p/N-1)*p*((1.70158+1)*p+1.70158)+1)+y},BackEaseInOut(p,y,b,N){let S=1.70158;return(p/=N/2)<1?b/2*(p*p*(((S*=1.525)+1)*p-S))+y:b/2*((p-=2)*p*(((S*=1.525)+1)*p+S)+2)+y},ElasticEaseIn(p,y,b,N,S,j){let w=0;return p===0?y:(p/=N)===1?y+b:(j||(j=N*.3),!S||S<Math.abs(b)?(S=b,w=j/4):w=j/(2*Math.PI)*Math.asin(b/S),-(S*Math.pow(2,10*(p-=1))*Math.sin((p*N-w)*(2*Math.PI)/j))+y)},ElasticEaseOut(p,y,b,N,S,j){let w=0;return p===0?y:(p/=N)===1?y+b:(j||(j=N*.3),!S||S<Math.abs(b)?(S=b,w=j/4):w=j/(2*Math.PI)*Math.asin(b/S),S*Math.pow(2,-10*p)*Math.sin((p*N-w)*(2*Math.PI)/j)+b+y)},ElasticEaseInOut(p,y,b,N,S,j){let w=0;return p===0?y:(p/=N/2)===2?y+b:(j||(j=N*(.3*1.5)),!S||S<Math.abs(b)?(S=b,w=j/4):w=j/(2*Math.PI)*Math.asin(b/S),p<1?-.5*(S*Math.pow(2,10*(p-=1))*Math.sin((p*N-w)*(2*Math.PI)/j))+y:S*Math.pow(2,-10*(p-=1))*Math.sin((p*N-w)*(2*Math.PI)/j)*.5+b+y)},BounceEaseOut(p,y,b,N){return(p/=N)<1/2.75?b*(7.5625*p*p)+y:p<2/2.75?b*(7.5625*(p-=1.5/2.75)*p+.75)+y:p<2.5/2.75?b*(7.5625*(p-=2.25/2.75)*p+.9375)+y:b*(7.5625*(p-=2.625/2.75)*p+.984375)+y},BounceEaseIn(p,y,b,N){return b-t.Easings.BounceEaseOut(N-p,0,b,N)+y},BounceEaseInOut(p,y,b,N){return p<N/2?t.Easings.BounceEaseIn(p*2,0,b,N)*.5+y:t.Easings.BounceEaseOut(p*2-N,0,b,N)*.5+b*.5+y},EaseIn(p,y,b,N){return b*(p/=N)*p+y},EaseOut(p,y,b,N){return-b*(p/=N)*(p-2)+y},EaseInOut(p,y,b,N){return(p/=N/2)<1?b/2*p*p+y:-b/2*(--p*(p-2)-1)+y},StrongEaseIn(p,y,b,N){return b*(p/=N)*p*p*p*p+y},StrongEaseOut(p,y,b,N){return b*((p=p/N-1)*p*p*p*p+1)+y},StrongEaseInOut(p,y,b,N){return(p/=N/2)<1?b/2*p*p*p*p*p+y:b/2*((p-=2)*p*p*p*p+2)+y},Linear(p,y,b,N){return b*p/N+y}}})(oP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=Kt,n=mi,i=ci,r=Wh,s=iP,a=Tg,o=w5,l=Xf,c=v5,d=rr,g=Yf,m=oP,p=lc,y=Io;t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:i.Node,Container:r.Container,Stage:s.Stage,stages:s.stages,Layer:a.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:c.DD,Shape:d.Shape,shapes:d.shapes,Animation:g.Animation,Tween:m.Tween,Easings:m.Easings,Context:p.Context,Canvas:y.Canvas}),t.default=t.Konva})(_2);var S5={};Object.defineProperty(S5,"__esModule",{value:!0});S5.Arc=void 0;const N5=Zt,xG=rr,tS=Kt,k5=Lt,yG=Kt;class xc extends xG.Shape{_sceneFunc(e){const n=tS.Konva.getAngle(this.angle()),i=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,i),e.arc(0,0,this.innerRadius(),n,0,!i),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),i=this.clockwise(),r=tS.Konva.getAngle(i?360-this.angle():this.angle()),s=Math.cos(Math.min(r,Math.PI)),a=1,o=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),l=Math.sin(Math.min(r,Math.PI/2)),c=s*(s>0?e:n),d=a*n,g=o*(o>0?e:n),m=l*(l>0?n:e);return{x:c,y:i?-1*m:g,width:d-c,height:m-g}}}S5.Arc=xc;xc.prototype._centroid=!0;xc.prototype.className="Arc";xc.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,yG._registerNode)(xc);N5.Factory.addGetterSetter(xc,"innerRadius",0,(0,k5.getNumberValidator)());N5.Factory.addGetterSetter(xc,"outerRadius",0,(0,k5.getNumberValidator)());N5.Factory.addGetterSetter(xc,"angle",0,(0,k5.getNumberValidator)());N5.Factory.addGetterSetter(xc,"clockwise",!1,(0,k5.getBooleanValidator)());var C5={},Eg={};Object.defineProperty(Eg,"__esModule",{value:!0});Eg.Line=void 0;const j5=Zt,vG=Kt,bG=rr,lP=Lt;function I4(t,e,n,i,r,s,a){const o=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2)),l=Math.sqrt(Math.pow(r-n,2)+Math.pow(s-i,2)),c=a*o/(o+l),d=a*l/(o+l),g=n-c*(r-t),m=i-c*(s-e),p=n+d*(r-t),y=i+d*(s-e);return[g,m,p,y]}function nS(t,e){const n=t.length,i=[];for(let r=2;r<n-2;r+=2){const s=I4(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],e);isNaN(s[0])||(i.push(s[0]),i.push(s[1]),i.push(t[r]),i.push(t[r+1]),i.push(s[2]),i.push(s[3]))}return i}let Pu=class extends bG.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),i=n.length,r=this.tension(),s=this.closed(),a=this.bezier();if(!i)return;let o=0;if(e.beginPath(),e.moveTo(n[0],n[1]),r!==0&&i>4){const l=this.getTensionPoints(),c=l.length;for(o=s?0:4,s||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);o<c-2;)e.bezierCurveTo(l[o++],l[o++],l[o++],l[o++],l[o++],l[o++]);s||e.quadraticCurveTo(l[c-2],l[c-1],n[i-2],n[i-1])}else if(a)for(o=2;o<i;)e.bezierCurveTo(n[o++],n[o++],n[o++],n[o++],n[o++],n[o++]);else for(o=2;o<i;o+=2)e.lineTo(n[o],n[o+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():nS(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,i=this.tension(),r=I4(e[n-2],e[n-1],e[0],e[1],e[2],e[3],i),s=I4(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],i),a=nS(e,i);return[r[2],r[3]].concat(a).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],i=e[0],r=e[1],s=e[1],a,o;for(let l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],n=Math.min(n,a),i=Math.max(i,a),r=Math.min(r,o),s=Math.max(s,o);return{x:n,y:r,width:i-n,height:s-r}}};Eg.Line=Pu;Pu.prototype.className="Line";Pu.prototype._attrsAffectingSize=["points","bezier","tension"];(0,vG._registerNode)(Pu);j5.Factory.addGetterSetter(Pu,"closed",!1);j5.Factory.addGetterSetter(Pu,"bezier",!1);j5.Factory.addGetterSetter(Pu,"tension",0,(0,lP.getNumberValidator)());j5.Factory.addGetterSetter(Pu,"points",[],(0,lP.getNumberArrayValidator)());var Qf={},cP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(a,o,l)=>{let c,d;const m=l/2;c=0;for(let p=0;p<20;p++)d=m*t.tValues[20][p]+m,c+=t.cValues[20][p]*i(a,o,d);return m*c};t.getCubicArcLength=e;const n=(a,o,l)=>{l===void 0&&(l=1);const c=a[0]-2*a[1]+a[2],d=o[0]-2*o[1]+o[2],g=2*a[1]-2*a[0],m=2*o[1]-2*o[0],p=4*(c*c+d*d),y=4*(c*g+d*m),b=g*g+m*m;if(p===0)return l*Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(o[2]-o[0],2));const N=y/(2*p),S=b/p,j=l+N,w=S-N*N,k=j*j+w>0?Math.sqrt(j*j+w):0,E=N*N+w>0?Math.sqrt(N*N+w):0,I=N+Math.sqrt(N*N+w)!==0?w*Math.log(Math.abs((j+k)/(N+E))):0;return Math.sqrt(p)/2*(j*k-N*E+I)};t.getQuadraticArcLength=n;function i(a,o,l){const c=r(1,l,a),d=r(1,l,o),g=c*c+d*d;return Math.sqrt(g)}const r=(a,o,l)=>{const c=l.length-1;let d,g;if(c===0)return 0;if(a===0){g=0;for(let m=0;m<=c;m++)g+=t.binomialCoefficients[c][m]*Math.pow(1-o,c-m)*Math.pow(o,m)*l[m];return g}else{d=new Array(c);for(let m=0;m<c;m++)d[m]=c*(l[m+1]-l[m]);return r(a-1,o,d)}},s=(a,o,l)=>{let c=1,d=a/o,g=(a-l(d))/o,m=0;for(;c>.001;){const p=l(d+g),y=Math.abs(a-p)/o;if(y<c)c=y,d+=g;else{const b=l(d-g),N=Math.abs(a-b)/o;N<c?(c=N,d-=g):g/=2}if(m++,m>500)break}return d};t.t2length=s})(cP);Object.defineProperty(Qf,"__esModule",{value:!0});Qf.Path=void 0;const wG=Zt,_G=Kt,SG=rr,Td=cP;class er extends SG.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=er.parsePathData(this.data()),this.pathLength=er.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let i=!1;for(let r=0;r<n.length;r++){const s=n[r].command,a=n[r].points;switch(s){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":const o=a[0],l=a[1],c=a[2],d=a[3],g=a[4],m=a[5],p=a[6],y=a[7],b=c>d?c:d,N=c>d?1:c/d,S=c>d?d/c:1;e.translate(o,l),e.rotate(p),e.scale(N,S),e.arc(0,0,b,g,g+m,1-y),e.scale(1/N,1/S),e.rotate(-p),e.translate(-o,-l);break;case"z":i=!0,e.closePath();break}}!i&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const c=l.points[4],d=l.points[5],g=l.points[4]+d;let m=Math.PI/180;if(Math.abs(c-g)<m&&(m=Math.abs(c-g)),d<0)for(let p=c-m;p>g;p-=m){const y=er.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(y.x,y.y)}else for(let p=c+m;p<g;p+=m){const y=er.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],p,0);e.push(y.x,y.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){const d=er.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(d.x,d.y)}else e=e.concat(l.points)});let n=e[0],i=e[0],r=e[1],s=e[1],a,o;for(let l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],isNaN(a)||(n=Math.min(n,a),i=Math.max(i,a)),isNaN(o)||(r=Math.min(r,o),s=Math.max(s,o));return{x:n,y:r,width:i-n,height:s-r}}getLength(){return this.pathLength}getPointAtLength(e){return er.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,i,r){return Math.sqrt((i-e)*(i-e)+(r-n)*(r-n))}static getPathLength(e){let n=0;for(let i=0;i<e.length;++i)n+=e[i].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let i,r=0,s=n.length;if(!s)return null;for(;r<s&&e>n[r].pathLength;)e-=n[r].pathLength,++r;if(r===s)return i=n[r-1].points.slice(-2),{x:i[0],y:i[1]};if(e<.01)return n[r].command==="M"?(i=n[r].points.slice(0,2),{x:i[0],y:i[1]}):{x:n[r].start.x,y:n[r].start.y};const a=n[r],o=a.points;switch(a.command){case"L":return er.getPointOnLine(e,a.start.x,a.start.y,o[0],o[1]);case"C":return er.getPointOnCubicBezier((0,Td.t2length)(e,er.getPathLength(n),b=>(0,Td.getCubicArcLength)([a.start.x,o[0],o[2],o[4]],[a.start.y,o[1],o[3],o[5]],b)),a.start.x,a.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return er.getPointOnQuadraticBezier((0,Td.t2length)(e,er.getPathLength(n),b=>(0,Td.getQuadraticArcLength)([a.start.x,o[0],o[2]],[a.start.y,o[1],o[3]],b)),a.start.x,a.start.y,o[0],o[1],o[2],o[3]);case"A":const l=o[0],c=o[1],d=o[2],g=o[3],m=o[5],p=o[6];let y=o[4];return y+=m*e/a.pathLength,er.getPointOnEllipticalArc(l,c,d,g,y,p)}return null}static getPointOnLine(e,n,i,r,s,a,o){a=a??n,o=o??i;const l=this.getLineLength(n,i,r,s);if(l<1e-10)return{x:n,y:i};if(r===n)return{x:a,y:o+(s>i?e:-e)};const c=(s-i)/(r-n),d=Math.sqrt(e*e/(1+c*c))*(r<n?-1:1),g=c*d;if(Math.abs(o-i-c*(a-n))<1e-10)return{x:a+d,y:o+g};const m=((a-n)*(r-n)+(o-i)*(s-i))/(l*l),p=n+m*(r-n),y=i+m*(s-i),b=this.getLineLength(a,o,p,y),N=Math.sqrt(e*e-b*b),S=Math.sqrt(N*N/(1+c*c))*(r<n?-1:1),j=c*S;return{x:p+S,y:y+j}}static getPointOnCubicBezier(e,n,i,r,s,a,o,l,c){function d(N){return N*N*N}function g(N){return 3*N*N*(1-N)}function m(N){return 3*N*(1-N)*(1-N)}function p(N){return(1-N)*(1-N)*(1-N)}const y=l*d(e)+a*g(e)+r*m(e)+n*p(e),b=c*d(e)+o*g(e)+s*m(e)+i*p(e);return{x:y,y:b}}static getPointOnQuadraticBezier(e,n,i,r,s,a,o){function l(p){return p*p}function c(p){return 2*p*(1-p)}function d(p){return(1-p)*(1-p)}const g=a*l(e)+r*c(e)+n*d(e),m=o*l(e)+s*c(e)+i*d(e);return{x:g,y:m}}static getPointOnEllipticalArc(e,n,i,r,s,a){const o=Math.cos(a),l=Math.sin(a),c={x:i*Math.cos(s),y:r*Math.sin(s)};return{x:e+(c.x*o-c.y*l),y:n+(c.x*l+c.y*o)}}static parsePathData(e){if(!e)return[];let n=e;const i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let g=0;g<i.length;g++)n=n.replace(new RegExp(i[g],"g"),"|"+i[g]);const r=n.split("|"),s=[],a=[];let o=0,l=0;const c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let d;for(let g=1;g<r.length;g++){let m=r[g],p=m.charAt(0);for(m=m.slice(1),a.length=0;d=c.exec(m);)a.push(d[0]);const y=[];for(let b=0,N=a.length;b<N;b++){if(a[b]==="00"){y.push(0,0);continue}const S=parseFloat(a[b]);isNaN(S)?y.push(0):y.push(S)}for(;y.length>0&&!isNaN(y[0]);){let b="",N=[];const S=o,j=l;let w,k,E,I,U,R,B,O,P,M;switch(p){case"l":o+=y.shift(),l+=y.shift(),b="L",N.push(o,l);break;case"L":o=y.shift(),l=y.shift(),N.push(o,l);break;case"m":const G=y.shift(),W=y.shift();if(o+=G,l+=W,b="M",s.length>2&&s[s.length-1].command==="z"){for(let Z=s.length-2;Z>=0;Z--)if(s[Z].command==="M"){o=s[Z].points[0]+G,l=s[Z].points[1]+W;break}}N.push(o,l),p="l";break;case"M":o=y.shift(),l=y.shift(),b="M",N.push(o,l),p="L";break;case"h":o+=y.shift(),b="L",N.push(o,l);break;case"H":o=y.shift(),b="L",N.push(o,l);break;case"v":l+=y.shift(),b="L",N.push(o,l);break;case"V":l=y.shift(),b="L",N.push(o,l);break;case"C":N.push(y.shift(),y.shift(),y.shift(),y.shift()),o=y.shift(),l=y.shift(),N.push(o,l);break;case"c":N.push(o+y.shift(),l+y.shift(),o+y.shift(),l+y.shift()),o+=y.shift(),l+=y.shift(),b="C",N.push(o,l);break;case"S":k=o,E=l,w=s[s.length-1],w.command==="C"&&(k=o+(o-w.points[2]),E=l+(l-w.points[3])),N.push(k,E,y.shift(),y.shift()),o=y.shift(),l=y.shift(),b="C",N.push(o,l);break;case"s":k=o,E=l,w=s[s.length-1],w.command==="C"&&(k=o+(o-w.points[2]),E=l+(l-w.points[3])),N.push(k,E,o+y.shift(),l+y.shift()),o+=y.shift(),l+=y.shift(),b="C",N.push(o,l);break;case"Q":N.push(y.shift(),y.shift()),o=y.shift(),l=y.shift(),N.push(o,l);break;case"q":N.push(o+y.shift(),l+y.shift()),o+=y.shift(),l+=y.shift(),b="Q",N.push(o,l);break;case"T":k=o,E=l,w=s[s.length-1],w.command==="Q"&&(k=o+(o-w.points[0]),E=l+(l-w.points[1])),o=y.shift(),l=y.shift(),b="Q",N.push(k,E,o,l);break;case"t":k=o,E=l,w=s[s.length-1],w.command==="Q"&&(k=o+(o-w.points[0]),E=l+(l-w.points[1])),o+=y.shift(),l+=y.shift(),b="Q",N.push(k,E,o,l);break;case"A":I=y.shift(),U=y.shift(),R=y.shift(),B=y.shift(),O=y.shift(),P=o,M=l,o=y.shift(),l=y.shift(),b="A",N=this.convertEndpointToCenterParameterization(P,M,o,l,B,O,I,U,R);break;case"a":I=y.shift(),U=y.shift(),R=y.shift(),B=y.shift(),O=y.shift(),P=o,M=l,o+=y.shift(),l+=y.shift(),b="A",N=this.convertEndpointToCenterParameterization(P,M,o,l,B,O,I,U,R);break}s.push({command:b||p,points:N,start:{x:S,y:j},pathLength:this.calcLength(S,j,b||p,N)})}(p==="z"||p==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,i,r){let s,a,o,l;const c=er;switch(i){case"L":return c.getLineLength(e,n,r[0],r[1]);case"C":return(0,Td.getCubicArcLength)([e,r[0],r[2],r[4]],[n,r[1],r[3],r[5]],1);case"Q":return(0,Td.getQuadraticArcLength)([e,r[0],r[2]],[n,r[1],r[3]],1);case"A":s=0;const d=r[4],g=r[5],m=r[4]+g;let p=Math.PI/180;if(Math.abs(d-m)<p&&(p=Math.abs(d-m)),a=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],d,0),g<0)for(l=d-p;l>m;l-=p)o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(l=d+p;l<m;l+=p)o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],l,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=c.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],m,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),s}return 0}static convertEndpointToCenterParameterization(e,n,i,r,s,a,o,l,c){const d=c*(Math.PI/180),g=Math.cos(d)*(e-i)/2+Math.sin(d)*(n-r)/2,m=-1*Math.sin(d)*(e-i)/2+Math.cos(d)*(n-r)/2,p=g*g/(o*o)+m*m/(l*l);p>1&&(o*=Math.sqrt(p),l*=Math.sqrt(p));let y=Math.sqrt((o*o*(l*l)-o*o*(m*m)-l*l*(g*g))/(o*o*(m*m)+l*l*(g*g)));s===a&&(y*=-1),isNaN(y)&&(y=0);const b=y*o*m/l,N=y*-l*g/o,S=(e+i)/2+Math.cos(d)*b-Math.sin(d)*N,j=(n+r)/2+Math.sin(d)*b+Math.cos(d)*N,w=function(O){return Math.sqrt(O[0]*O[0]+O[1]*O[1])},k=function(O,P){return(O[0]*P[0]+O[1]*P[1])/(w(O)*w(P))},E=function(O,P){return(O[0]*P[1]<O[1]*P[0]?-1:1)*Math.acos(k(O,P))},I=E([1,0],[(g-b)/o,(m-N)/l]),U=[(g-b)/o,(m-N)/l],R=[(-1*g-b)/o,(-1*m-N)/l];let B=E(U,R);return k(U,R)<=-1&&(B=Math.PI),k(U,R)>=1&&(B=0),a===0&&B>0&&(B=B-2*Math.PI),a===1&&B<0&&(B=B+2*Math.PI),[S,j,o,l,I,B,d,a]}}Qf.Path=er;er.prototype.className="Path";er.prototype._attrsAffectingSize=["data"];(0,_G._registerNode)(er);wG.Factory.addGetterSetter(er,"data");Object.defineProperty(C5,"__esModule",{value:!0});C5.Arrow=void 0;const A5=Zt,NG=Eg,uP=Lt,kG=Kt,iS=Qf;class $h extends NG.Line{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,i=this.points();let r=i;const s=this.tension()!==0&&i.length>4;s&&(r=this.getTensionPoints());const a=this.pointerLength(),o=i.length;let l,c;if(s){const m=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],i[o-2],i[o-1]],p=iS.Path.calcLength(r[r.length-4],r[r.length-3],"C",m),y=iS.Path.getPointOnQuadraticBezier(Math.min(1,1-a/p),m[0],m[1],m[2],m[3],m[4],m[5]);l=i[o-2]-y.x,c=i[o-1]-y.y}else l=i[o-2]-i[o-4],c=i[o-1]-i[o-3];const d=(Math.atan2(c,l)+n)%n,g=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(i[o-2],i[o-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-a,g/2),e.lineTo(-a,-g/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(i[0],i[1]),s?(l=(r[0]+r[2])/2-i[0],c=(r[1]+r[3])/2-i[1]):(l=i[2]-i[0],c=i[3]-i[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-a,g/2),e.lineTo(-a,-g/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}C5.Arrow=$h;$h.prototype.className="Arrow";(0,kG._registerNode)($h);A5.Factory.addGetterSetter($h,"pointerLength",10,(0,uP.getNumberValidator)());A5.Factory.addGetterSetter($h,"pointerWidth",10,(0,uP.getNumberValidator)());A5.Factory.addGetterSetter($h,"pointerAtBeginning",!1);A5.Factory.addGetterSetter($h,"pointerAtEnding",!0);var P5={};Object.defineProperty(P5,"__esModule",{value:!0});P5.Circle=void 0;const CG=Zt,jG=rr,AG=Lt,PG=Kt;let Jf=class extends jG.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};P5.Circle=Jf;Jf.prototype._centroid=!0;Jf.prototype.className="Circle";Jf.prototype._attrsAffectingSize=["radius"];(0,PG._registerNode)(Jf);CG.Factory.addGetterSetter(Jf,"radius",0,(0,AG.getNumberValidator)());var L5={};Object.defineProperty(L5,"__esModule",{value:!0});L5.Ellipse=void 0;const sw=Zt,LG=rr,hP=Lt,TG=Kt;class Lu extends LG.Shape{_sceneFunc(e){const n=this.radiusX(),i=this.radiusY();e.beginPath(),e.save(),n!==i&&e.scale(1,i/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}L5.Ellipse=Lu;Lu.prototype.className="Ellipse";Lu.prototype._centroid=!0;Lu.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,TG._registerNode)(Lu);sw.Factory.addComponentsGetterSetter(Lu,"radius",["x","y"]);sw.Factory.addGetterSetter(Lu,"radiusX",0,(0,hP.getNumberValidator)());sw.Factory.addGetterSetter(Lu,"radiusY",0,(0,hP.getNumberValidator)());var T5={};Object.defineProperty(T5,"__esModule",{value:!0});T5.Image=void 0;const Sy=mi,Kh=Zt,EG=rr,MG=Kt,Mg=Lt;let xl=class dP extends EG.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),i=this.getHeight(),r=this.cornerRadius(),s=this.attrs.image;let a;if(s){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?a=[s,this.cropX(),this.cropY(),o,l,0,0,n,i]:a=[s,0,0,n,i]}(this.hasFill()||this.hasStroke()||r)&&(e.beginPath(),r?Sy.Util.drawRoundedRectPath(e,n,i,r):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)),s&&(r&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){const n=this.width(),i=this.height(),r=this.cornerRadius();e.beginPath(),r?Sy.Util.drawRoundedRectPath(e,n,i,r):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,i=null){const r=Sy.Util.createImageElement();r.onload=function(){const s=new dP({image:r});n(s)},r.onerror=i,r.crossOrigin="Anonymous",r.src=e}};T5.Image=xl;xl.prototype.className="Image";(0,MG._registerNode)(xl);Kh.Factory.addGetterSetter(xl,"cornerRadius",0,(0,Mg.getNumberOrArrayOfNumbersValidator)(4));Kh.Factory.addGetterSetter(xl,"image");Kh.Factory.addComponentsGetterSetter(xl,"crop",["x","y","width","height"]);Kh.Factory.addGetterSetter(xl,"cropX",0,(0,Mg.getNumberValidator)());Kh.Factory.addGetterSetter(xl,"cropY",0,(0,Mg.getNumberValidator)());Kh.Factory.addGetterSetter(xl,"cropWidth",0,(0,Mg.getNumberValidator)());Kh.Factory.addGetterSetter(xl,"cropHeight",0,(0,Mg.getNumberValidator)());var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.Tag=Mf.Label=void 0;const E5=Zt,RG=rr,FG=Xf,aw=Lt,fP=Kt,pP=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],OG="Change.konva",DG="none",B4="up",z4="right",U4="down",V4="left",IG=pP.length;class ow extends FG.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,i;const r=function(){n._sync()};for(i=0;i<IG;i++)e.on(pP[i]+OG,r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),i,r,s,a,o,l,c;if(e&&n){switch(i=e.width(),r=e.height(),s=n.pointerDirection(),a=n.pointerWidth(),c=n.pointerHeight(),o=0,l=0,s){case B4:o=i/2,l=-1*c;break;case z4:o=i+a,l=r/2;break;case U4:o=i/2,l=r+c;break;case V4:o=-1*a,l=r/2;break}n.setAttrs({x:-1*o,y:-1*l,width:i,height:r}),e.setAttrs({x:-1*o,y:-1*l})}}}Mf.Label=ow;ow.prototype.className="Label";(0,fP._registerNode)(ow);class Xh extends RG.Shape{_sceneFunc(e){const n=this.width(),i=this.height(),r=this.pointerDirection(),s=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let l=0,c=0,d=0,g=0;typeof o=="number"?l=c=d=g=Math.min(o,n/2,i/2):(l=Math.min(o[0]||0,n/2,i/2),c=Math.min(o[1]||0,n/2,i/2),g=Math.min(o[2]||0,n/2,i/2),d=Math.min(o[3]||0,n/2,i/2)),e.beginPath(),e.moveTo(l,0),r===B4&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*a),e.lineTo((n+s)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),r===z4&&(e.lineTo(n,(i-a)/2),e.lineTo(n+s,i/2),e.lineTo(n,(i+a)/2)),e.lineTo(n,i-g),e.arc(n-g,i-g,g,0,Math.PI/2,!1),r===U4&&(e.lineTo((n+s)/2,i),e.lineTo(n/2,i+a),e.lineTo((n-s)/2,i)),e.lineTo(d,i),e.arc(d,i-d,d,Math.PI/2,Math.PI,!1),r===V4&&(e.lineTo(0,(i+a)/2),e.lineTo(-1*s,i/2),e.lineTo(0,(i-a)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,i=this.pointerWidth(),r=this.pointerHeight(),s=this.pointerDirection(),a=this.width(),o=this.height();return s===B4?(n-=r,o+=r):s===U4?o+=r:s===V4?(e-=i*1.5,a+=i):s===z4&&(a+=i*1.5),{x:e,y:n,width:a,height:o}}}Mf.Tag=Xh;Xh.prototype.className="Tag";(0,fP._registerNode)(Xh);E5.Factory.addGetterSetter(Xh,"pointerDirection",DG);E5.Factory.addGetterSetter(Xh,"pointerWidth",0,(0,aw.getNumberValidator)());E5.Factory.addGetterSetter(Xh,"pointerHeight",0,(0,aw.getNumberValidator)());E5.Factory.addGetterSetter(Xh,"cornerRadius",0,(0,aw.getNumberOrArrayOfNumbersValidator)(4));var Rg={};Object.defineProperty(Rg,"__esModule",{value:!0});Rg.Rect=void 0;const BG=Zt,zG=rr,UG=Kt,VG=mi,HG=Lt;let M5=class extends zG.Shape{_sceneFunc(e){const n=this.cornerRadius(),i=this.width(),r=this.height();e.beginPath(),n?VG.Util.drawRoundedRectPath(e,i,r,n):e.rect(0,0,i,r),e.closePath(),e.fillStrokeShape(this)}};Rg.Rect=M5;M5.prototype.className="Rect";(0,UG._registerNode)(M5);BG.Factory.addGetterSetter(M5,"cornerRadius",0,(0,HG.getNumberOrArrayOfNumbersValidator)(4));var R5={};Object.defineProperty(R5,"__esModule",{value:!0});R5.RegularPolygon=void 0;const gP=Zt,GG=rr,mP=Lt,WG=Kt;class Yh extends GG.Shape{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(let i=1;i<n.length;i++)e.lineTo(n[i].x,n[i].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,i=[];for(let r=0;r<e;r++)i.push({x:n*Math.sin(r*2*Math.PI/e),y:-1*n*Math.cos(r*2*Math.PI/e)});return i}getSelfRect(){const e=this._getPoints();let n=e[0].x,i=e[0].y,r=e[0].x,s=e[0].y;return e.forEach(a=>{n=Math.min(n,a.x),i=Math.max(i,a.x),r=Math.min(r,a.y),s=Math.max(s,a.y)}),{x:n,y:r,width:i-n,height:s-r}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}R5.RegularPolygon=Yh;Yh.prototype.className="RegularPolygon";Yh.prototype._centroid=!0;Yh.prototype._attrsAffectingSize=["radius"];(0,WG._registerNode)(Yh);gP.Factory.addGetterSetter(Yh,"radius",0,(0,mP.getNumberValidator)());gP.Factory.addGetterSetter(Yh,"sides",0,(0,mP.getNumberValidator)());var F5={};Object.defineProperty(F5,"__esModule",{value:!0});F5.Ring=void 0;const xP=Zt,qG=rr,yP=Lt,$G=Kt,rS=Math.PI*2;class Qh extends qG.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,rS,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),rS,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}F5.Ring=Qh;Qh.prototype.className="Ring";Qh.prototype._centroid=!0;Qh.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,$G._registerNode)(Qh);xP.Factory.addGetterSetter(Qh,"innerRadius",0,(0,yP.getNumberValidator)());xP.Factory.addGetterSetter(Qh,"outerRadius",0,(0,yP.getNumberValidator)());var O5={};Object.defineProperty(O5,"__esModule",{value:!0});O5.Sprite=void 0;const Jh=Zt,KG=rr,XG=Yf,vP=Lt,YG=Kt;class yl extends KG.Shape{constructor(e){super(e),this._updated=!0,this.anim=new XG.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),i=this.frameIndex(),r=i*4,s=this.animations()[n],a=this.frameOffsets(),o=s[r+0],l=s[r+1],c=s[r+2],d=s[r+3],g=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,d),e.closePath(),e.fillStrokeShape(this)),g)if(a){const m=a[n],p=i*2;e.drawImage(g,o,l,c,d,m[p+0],m[p+1],c,d)}else e.drawImage(g,o,l,c,d,0,0,c,d)}_hitFunc(e){const n=this.animation(),i=this.frameIndex(),r=i*4,s=this.animations()[n],a=this.frameOffsets(),o=s[r+2],l=s[r+3];if(e.beginPath(),a){const c=a[n],d=i*2;e.rect(c[d+0],c[d+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),i=this.animations(),r=i[n],s=r.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}O5.Sprite=yl;yl.prototype.className="Sprite";(0,YG._registerNode)(yl);Jh.Factory.addGetterSetter(yl,"animation");Jh.Factory.addGetterSetter(yl,"animations");Jh.Factory.addGetterSetter(yl,"frameOffsets");Jh.Factory.addGetterSetter(yl,"image");Jh.Factory.addGetterSetter(yl,"frameIndex",0,(0,vP.getNumberValidator)());Jh.Factory.addGetterSetter(yl,"frameRate",17,(0,vP.getNumberValidator)());Jh.Factory.backCompat(yl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var D5={};Object.defineProperty(D5,"__esModule",{value:!0});D5.Star=void 0;const lw=Zt,QG=rr,cw=Lt,JG=Kt;class Tu extends QG.Shape{_sceneFunc(e){const n=this.innerRadius(),i=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-i);for(let s=1;s<r*2;s++){const a=s%2===0?i:n,o=a*Math.sin(s*Math.PI/r),l=-1*a*Math.cos(s*Math.PI/r);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}D5.Star=Tu;Tu.prototype.className="Star";Tu.prototype._centroid=!0;Tu.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,JG._registerNode)(Tu);lw.Factory.addGetterSetter(Tu,"numPoints",5,(0,cw.getNumberValidator)());lw.Factory.addGetterSetter(Tu,"innerRadius",0,(0,cw.getNumberValidator)());lw.Factory.addGetterSetter(Tu,"outerRadius",0,(0,cw.getNumberValidator)());var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.Text=void 0;Zf.stringToArray=hh;const H4=mi,as=Zt,ZG=rr,Ny=Kt,Eu=Lt,eW=Kt;function hh(t){return[...t].reduce((e,n,i,r)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const s=r[i+1];s&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(s)?(e.push(n+s),r[i+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(r[i+1]||""))?e.push(n+r[i+1]):i>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const Ed="auto",tW="center",bP="inherit",z0="justify",nW="Change.konva",iW="2d",sS="-",wP="left",rW="text",sW="Text",aW="top",oW="bottom",aS="middle",_P="normal",lW="px ",Am=" ",cW="right",oS="rtl",uW="word",hW="char",lS="none",ky="",SP=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],dW=SP.length;function fW(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,i=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!i&&(e=`"${e}"`),e}).join(", ")}let Pm;function Cy(){return Pm||(Pm=H4.Util.createCanvasElement().getContext(iW),Pm)}function pW(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function gW(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function mW(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let Ti=class extends ZG.Shape{constructor(e){super(mW(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<dW;n++)this.on(SP[n]+nW,this._setTextData);this._setTextData()}_sceneFunc(e){const n=this.textArr,i=n.length;if(!this.text())return;let r=this.padding(),s=this.fontSize(),a=this.lineHeight()*s,o=this.verticalAlign(),l=this.direction(),c=0,d=this.align(),g=this.getWidth(),m=this.letterSpacing(),p=this.fill(),y=this.textDecoration(),b=y.indexOf("underline")!==-1,N=y.indexOf("line-through")!==-1,S;l=l===bP?e.direction:l;let j=a/2,w=aS;if(Ny.Konva._fixTextRendering){const k=this.measureSize("M");w="alphabetic",j=(k.fontBoundingBoxAscent-k.fontBoundingBoxDescent)/2+a/2}for(l===oS&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",w),e.setAttr("textAlign",wP),o===aS?c=(this.getHeight()-i*a-r*2)/2:o===oW&&(c=this.getHeight()-i*a-r*2),e.translate(r,c+r),S=0;S<i;S++){let k=0,E=0;const I=n[S],U=I.text,R=I.width,B=I.lastInParagraph;if(e.save(),d===cW?k+=g-R-r*2:d===tW&&(k+=(g-R-r*2)/2),b){e.save(),e.beginPath();const O=Ny.Konva._fixTextRendering?Math.round(s/4):Math.round(s/2),P=k,M=j+E+O;e.moveTo(P,M);const G=d===z0&&!B?g-r*2:R;e.lineTo(P+Math.round(G),M),e.lineWidth=s/15;const W=this._getLinearGradient();e.strokeStyle=W||p,e.stroke(),e.restore()}if(N){e.save(),e.beginPath();const O=Ny.Konva._fixTextRendering?-Math.round(s/4):0;e.moveTo(k,j+E+O);const P=d===z0&&!B?g-r*2:R;e.lineTo(k+Math.round(P),j+E+O),e.lineWidth=s/15;const M=this._getLinearGradient();e.strokeStyle=M||p,e.stroke(),e.restore()}if(l!==oS&&(m!==0||d===z0)){const O=U.split(" ").length-1,P=hh(U);for(let M=0;M<P.length;M++){const G=P[M];G===" "&&!B&&d===z0&&(k+=(g-r*2-R)/O),this._partialTextX=k,this._partialTextY=j+E,this._partialText=G,e.fillStrokeShape(this),k+=this.measureSize(G).width+m}}else m!==0&&e.setAttr("letterSpacing",`${m}px`),this._partialTextX=k,this._partialTextY=j+E,this._partialText=U,e.fillStrokeShape(this);e.restore(),i>1&&(j+=a)}}_hitFunc(e){const n=this.getWidth(),i=this.getHeight();e.beginPath(),e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=H4.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(rW,n),this}getWidth(){return this.attrs.width===Ed||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Ed||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return H4.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,i,r,s,a,o,l,c,d,g,m;let p=Cy(),y=this.fontSize(),b;p.save(),p.font=this._getContextFont(),b=p.measureText(e),p.restore();const N=y/100;return{actualBoundingBoxAscent:(n=b.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*N,actualBoundingBoxDescent:(i=b.actualBoundingBoxDescent)!==null&&i!==void 0?i:0,actualBoundingBoxLeft:(r=b.actualBoundingBoxLeft)!==null&&r!==void 0?r:-7.421875*N,actualBoundingBoxRight:(s=b.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*N,alphabeticBaseline:(a=b.alphabeticBaseline)!==null&&a!==void 0?a:0,emHeightAscent:(o=b.emHeightAscent)!==null&&o!==void 0?o:100*N,emHeightDescent:(l=b.emHeightDescent)!==null&&l!==void 0?l:-20*N,fontBoundingBoxAscent:(c=b.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*N,fontBoundingBoxDescent:(d=b.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*N,hangingBaseline:(g=b.hangingBaseline)!==null&&g!==void 0?g:72.80000305175781*N,ideographicBaseline:(m=b.ideographicBaseline)!==null&&m!==void 0?m:-21*N,width:b.width,height:y}}_getContextFont(){return this.fontStyle()+Am+this.fontVariant()+Am+(this.fontSize()+lW)+fW(this.fontFamily())}_addTextLine(e){this.align()===z0&&(e=e.trim());const i=this._getTextWidth(e);return this.textArr.push({text:e,width:i,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),i=e.length;return Cy().measureText(e).width+n*i}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),i=0,r=this.lineHeight()*n,s=this.attrs.width,a=this.attrs.height,o=s!==Ed&&s!==void 0,l=a!==Ed&&a!==void 0,c=this.padding(),d=s-c*2,g=a-c*2,m=0,p=this.wrap(),y=p!==lS,b=p!==hW&&y,N=this.ellipsis();this.textArr=[],Cy().font=this._getContextFont();const S=N?this._getTextWidth(ky):0;for(let j=0,w=e.length;j<w;++j){let k=e[j],E=this._getTextWidth(k);if(o&&E>d)for(;k.length>0;){let I=0,U=hh(k).length,R="",B=0;for(;I<U;){const O=I+U>>>1,P=hh(k),M=P.slice(0,O+1).join(""),G=this._getTextWidth(M);(N&&l&&m+r>g?G+S:G)<=d?(I=O+1,R=M,B=G):U=O}if(R){if(b){const M=hh(k),G=hh(R),W=M[G.length],Z=W===Am||W===sS;let ce;if(Z&&B<=d)ce=G.length;else{const pe=G.lastIndexOf(Am),J=G.lastIndexOf(sS);ce=Math.max(pe,J)+1}ce>0&&(I=ce,R=M.slice(0,I).join(""),B=this._getTextWidth(R))}if(R=R.trimRight(),this._addTextLine(R),i=Math.max(i,B),m+=r,this._shouldHandleEllipsis(m)){this._tryToAddEllipsisToLastLine();break}if(k=hh(k).slice(I).join("").trimLeft(),k.length>0&&(E=this._getTextWidth(k),E<=d)){this._addTextLine(k),m+=r,i=Math.max(i,E);break}}else break}else this._addTextLine(k),m+=r,i=Math.max(i,E),this._shouldHandleEllipsis(m)&&j<w-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&m+r>g)break}this.textHeight=n,this.textWidth=i}_shouldHandleEllipsis(e){const n=+this.fontSize(),i=this.lineHeight()*n,r=this.attrs.height,s=r!==Ed&&r!==void 0,a=this.padding(),o=r-a*2;return!(this.wrap()!==lS)||s&&e+i>o}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==Ed&&e!==void 0,i=this.padding(),r=e-i*2,s=this.ellipsis(),a=this.textArr[this.textArr.length-1];!a||!s||(n&&(this._getTextWidth(a.text+ky)<r||(a.text=a.text.slice(0,a.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+ky))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Zf.Text=Ti;Ti.prototype._fillFunc=pW;Ti.prototype._strokeFunc=gW;Ti.prototype.className=sW;Ti.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,eW._registerNode)(Ti);as.Factory.overWriteSetter(Ti,"width",(0,Eu.getNumberOrAutoValidator)());as.Factory.overWriteSetter(Ti,"height",(0,Eu.getNumberOrAutoValidator)());as.Factory.addGetterSetter(Ti,"direction",bP);as.Factory.addGetterSetter(Ti,"fontFamily","Arial");as.Factory.addGetterSetter(Ti,"fontSize",12,(0,Eu.getNumberValidator)());as.Factory.addGetterSetter(Ti,"fontStyle",_P);as.Factory.addGetterSetter(Ti,"fontVariant",_P);as.Factory.addGetterSetter(Ti,"padding",0,(0,Eu.getNumberValidator)());as.Factory.addGetterSetter(Ti,"align",wP);as.Factory.addGetterSetter(Ti,"verticalAlign",aW);as.Factory.addGetterSetter(Ti,"lineHeight",1,(0,Eu.getNumberValidator)());as.Factory.addGetterSetter(Ti,"wrap",uW);as.Factory.addGetterSetter(Ti,"ellipsis",!1,(0,Eu.getBooleanValidator)());as.Factory.addGetterSetter(Ti,"letterSpacing",0,(0,Eu.getNumberValidator)());as.Factory.addGetterSetter(Ti,"text","",(0,Eu.getStringValidator)());as.Factory.addGetterSetter(Ti,"textDecoration","");var I5={};Object.defineProperty(I5,"__esModule",{value:!0});I5.TextPath=void 0;const jy=mi,Ho=Zt,xW=rr,U0=Qf,Ay=Zf,NP=Lt,yW=Kt,vW="",kP="normal";function CP(t){t.fillText(this.partialText,0,0)}function jP(t){t.strokeText(this.partialText,0,0)}class sr extends xW.Shape{constructor(e){super(e),this.dummyCanvas=jy.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return U0.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e-1>n?null:U0.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=U0.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),i=this.fill(),r=this.fontSize(),s=this.glyphInfo;n==="underline"&&e.beginPath();for(let a=0;a<s.length;a++){e.save();const o=s[a].p0;e.translate(o.x,o.y),e.rotate(s[a].rotation),this.partialText=s[a].text,e.fillStrokeShape(this),n==="underline"&&(a===0&&e.moveTo(0,r/2+1),e.lineTo(r,r/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=i,e.lineWidth=r/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const i=n[0].p0;e.moveTo(i.x,i.y)}for(let i=0;i<n.length;i++){const r=n[i].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return jy.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Ay.Text.prototype.setText.call(this,e)}_getContextFont(){return Ay.Text.prototype._getContextFont.call(this)}_getTextSize(e){const i=this.dummyCanvas.getContext("2d");i.save(),i.font=this._getContextFont();const r=i.measureText(e);return i.restore(),{width:r.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),r=this.align(),s=this.kerningFunc(),a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let o=0;r==="center"&&(o=Math.max(0,this.pathLength/2-a/2)),r==="right"&&(o=Math.max(0,this.pathLength-a));const l=(0,Ay.stringToArray)(this.text());let c=o;for(let d=0;d<l.length;d++){const g=this._getPointAtLength(c);if(!g)return;let m=this._getTextSize(l[d]).width+i;if(l[d]===" "&&r==="justify"){const j=this.text().split(" ").length-1;m+=(this.pathLength-a)/j}const p=this._getPointAtLength(c+m);if(!p)return;const y=U0.Path.getLineLength(g.x,g.y,p.x,p.y);let b=0;if(s)try{b=s(l[d-1],l[d])*this.fontSize()}catch{b=0}g.x+=b,p.x+=b,this.textWidth+=b;const N=U0.Path.getPointOnLine(b+y/2,g.x,g.y,p.x,p.y),S=Math.atan2(p.y-g.y,p.x-g.x);this.glyphInfo.push({transposeX:N.x,transposeY:N.y,text:l[d],rotation:S,p0:g,p1:p}),c+=m}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let n=e[0]||0,i=e[0]||0,r=e[1]||0,s=e[1]||0,a,o;for(let c=0;c<e.length/2;c++)a=e[c*2],o=e[c*2+1],n=Math.min(n,a),i=Math.max(i,a),r=Math.min(r,o),s=Math.max(s,o);const l=this.fontSize();return{x:n-l/2,y:r-l/2,width:i-n+l,height:s-r+l}}destroy(){return jy.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}I5.TextPath=sr;sr.prototype._fillFunc=CP;sr.prototype._strokeFunc=jP;sr.prototype._fillFuncHit=CP;sr.prototype._strokeFuncHit=jP;sr.prototype.className="TextPath";sr.prototype._attrsAffectingSize=["text","fontSize","data"];(0,yW._registerNode)(sr);Ho.Factory.addGetterSetter(sr,"data");Ho.Factory.addGetterSetter(sr,"fontFamily","Arial");Ho.Factory.addGetterSetter(sr,"fontSize",12,(0,NP.getNumberValidator)());Ho.Factory.addGetterSetter(sr,"fontStyle",kP);Ho.Factory.addGetterSetter(sr,"align","left");Ho.Factory.addGetterSetter(sr,"letterSpacing",0,(0,NP.getNumberValidator)());Ho.Factory.addGetterSetter(sr,"textBaseline","middle");Ho.Factory.addGetterSetter(sr,"fontVariant",kP);Ho.Factory.addGetterSetter(sr,"text",vW);Ho.Factory.addGetterSetter(sr,"textDecoration","");Ho.Factory.addGetterSetter(sr,"kerningFunc",void 0);var B5={};Object.defineProperty(B5,"__esModule",{value:!0});B5.Transformer=void 0;const Rn=mi,kn=Zt,cS=ci,bW=rr,wW=Rg,uS=Xf,Lo=Kt,Mu=Lt,_W=Kt,AP="tr-konva",SW=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${AP}`).join(" "),hS="nodesRect",NW=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],kW={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},CW="ontouchstart"in Lo.Konva._global;function jW(t,e,n){if(t==="rotater")return n;e+=Rn.Util.degToRad(kW[t]||0);const i=(Rn.Util.radToDeg(e)%360+360)%360;return Rn.Util._inRange(i,315+22.5,360)||Rn.Util._inRange(i,0,22.5)?"ns-resize":Rn.Util._inRange(i,45-22.5,45+22.5)?"nesw-resize":Rn.Util._inRange(i,90-22.5,90+22.5)?"ew-resize":Rn.Util._inRange(i,135-22.5,135+22.5)?"nwse-resize":Rn.Util._inRange(i,180-22.5,180+22.5)?"ns-resize":Rn.Util._inRange(i,225-22.5,225+22.5)?"nesw-resize":Rn.Util._inRange(i,270-22.5,270+22.5)?"ew-resize":Rn.Util._inRange(i,315-22.5,315+22.5)?"nwse-resize":(Rn.Util.error("Transformer has unknown angle for cursor detection: "+i),"pointer")}const N2=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function AW(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function PP(t,e,n){const i=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),r=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:i,y:r}}function PW(t,e){const n=AW(t);return PP(t,e,n)}function LW(t,e,n){let i=e;for(let r=0;r<t.length;r++){const s=Lo.Konva.getAngle(t[r]),a=Math.abs(s-e)%(Math.PI*2);Math.min(a,Math.PI*2-a)<n&&(i=s)}return i}let G4=0;class hn extends uS.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(SW,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Rn.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return AP+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(r=>r.isAncestorOf(this)?(Rn.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(r._attrsAffectingSize.length){const a=r._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");r.on(a,s)}r.on(NW.map(a=>a+`.${this._getEventNamespace()}`).join(" "),s),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(r)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,i=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(i,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!n)return;const r=e.getAbsolutePosition(),s=r.x-n.x,a=r.y-n.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+s,y:l.y+a}),o.startDrag(i)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(hS),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(hS,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),i){const r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(i),a=e.getAbsolutePosition(i),o=r.x*s.x-e.offsetX()*s.x,l=r.y*s.y-e.offsetY()*s.y,c=(Lo.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:a.x+o*Math.cos(c)+l*Math.sin(-c),y:a.y+l*Math.cos(c)+o*Math.sin(c),width:r.width*s.x,height:r.height*s.y,rotation:c};return PP(d,-Lo.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const d=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),g=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],m=c.getAbsoluteTransform();g.forEach(function(p){const y=m.point(p);n.push(y)})});const i=new Rn.Transform;i.rotate(-Lo.Konva.getAngle(this.rotation()));let r=1/0,s=1/0,a=-1/0,o=-1/0;n.forEach(function(c){const d=i.point(c);r===void 0&&(r=a=d.x,s=o=d.y),r=Math.min(r,d.x),s=Math.min(s,d.y),a=Math.max(a,d.x),o=Math.max(o,d.y)}),i.invert();const l=i.point({x:r,y:s});return{x:l.x,y:l.y,width:a-r,height:o-s,rotation:Lo.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),N2.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new wW.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:CW?10:"auto"}),i=this;n.on("mousedown touchstart",function(r){i._handleMouseDown(r)}),n.on("dragstart",r=>{n.stopDrag(),r.cancelBubble=!0}),n.on("dragend",r=>{r.cancelBubble=!0}),n.on("mouseenter",()=>{const r=Lo.Konva.getAngle(this.rotation()),s=this.rotateAnchorCursor(),a=jW(e,r,s);n.getStage().content&&(n.getStage().content.style.cursor=a),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new bW.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,i){const r=i.getParent(),s=r.padding();n.beginPath(),n.rect(-s,-s,i.width()+s*2,i.height()+s*2),n.moveTo(i.width()/2,-s),r.rotateEnabled()&&r.rotateLineVisible()&&n.lineTo(i.width()/2,-r.rotateAnchorOffset()*Rn.Util._sign(i.height())-s),n.fillStrokeShape(i)},hitFunc:(n,i)=>{if(!this.shouldOverdrawWholeArea())return;const r=this.padding();n.beginPath(),n.rect(-r,-r,i.width()+r*2,i.height()+r*2),n.fillStrokeShape(i)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),i=n.width,r=n.height,s=Math.sqrt(Math.pow(i,2)+Math.pow(r,2));this.sin=Math.abs(r/s),this.cos=Math.abs(i/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const a=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},G4++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,i,r;const s=this.findOne("."+this._movingAnchorName),a=s.getStage();a.setPointersPositions(e);const o=a.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),s.setAbsolutePosition(l);const d=s.getAbsolutePosition();if(c.x===d.x&&c.y===d.y)return;if(this._movingAnchorName==="rotater"){const j=this._getNodeRect();n=s.x()-j.width/2,i=-s.y()+j.height/2;let w=Math.atan2(-i,n)+Math.PI/2;j.height<0&&(w-=Math.PI);const E=Lo.Konva.getAngle(this.rotation())+w,I=Lo.Konva.getAngle(this.rotationSnapTolerance()),R=LW(this.rotationSnaps(),E,I)-j.rotation,B=PW(j,R);this._fitNodesInto(B,e);return}const g=this.shiftBehavior();let m;g==="inverted"?m=this.keepRatio()&&!e.shiftKey:g==="none"?m=this.keepRatio():m=this.keepRatio()||e.shiftKey;let p=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(m){const j=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(j.x-s.x(),2)+Math.pow(j.y-s.y(),2));const w=this.findOne(".top-left").x()>j.x?-1:1,k=this.findOne(".top-left").y()>j.y?-1:1;n=r*this.cos*w,i=r*this.sin*k,this.findOne(".top-left").x(j.x-n),this.findOne(".top-left").y(j.y-i)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(m){const j=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(s.x()-j.x,2)+Math.pow(j.y-s.y(),2));const w=this.findOne(".top-right").x()<j.x?-1:1,k=this.findOne(".top-right").y()>j.y?-1:1;n=r*this.cos*w,i=r*this.sin*k,this.findOne(".top-right").x(j.x+n),this.findOne(".top-right").y(j.y-i)}var y=s.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(m){const j=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(j.x-s.x(),2)+Math.pow(s.y()-j.y,2));const w=j.x<s.x()?-1:1,k=s.y()<j.y?-1:1;n=r*this.cos*w,i=r*this.sin*k,s.x(j.x-n),s.y(j.y+i)}y=s.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(m){const j=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(s.x()-j.x,2)+Math.pow(s.y()-j.y,2));const w=this.findOne(".bottom-right").x()<j.x?-1:1,k=this.findOne(".bottom-right").y()<j.y?-1:1;n=r*this.cos*w,i=r*this.sin*k,this.findOne(".bottom-right").x(j.x+n),this.findOne(".bottom-right").y(j.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(p=this.centeredScaling()||e.altKey,p){const j=this.findOne(".top-left"),w=this.findOne(".bottom-right"),k=j.x(),E=j.y(),I=this.getWidth()-w.x(),U=this.getHeight()-w.y();w.move({x:-k,y:-E}),j.move({x:I,y:U})}const b=this.findOne(".top-left").getAbsolutePosition();n=b.x,i=b.y;const N=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),S=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:i,width:N,height:S,rotation:Lo.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const i=this.getNode();G4--,this._fire("transformend",{evt:e,target:i}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),i&&this._nodes.forEach(r=>{var s;r._fire("transformend",{evt:e,target:r}),(s=r.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const i=this._getNodeRect(),r=1;if(Rn.Util._inRange(e.width,-this.padding()*2-r,r)){this.update();return}if(Rn.Util._inRange(e.height,-this.padding()*2-r,r)){this.update();return}const s=new Rn.Transform;if(s.rotate(Lo.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const m=s.point({x:-this.padding()*2,y:0});e.x+=m.x,e.y+=m.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const m=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const m=s.point({x:0,y:-this.padding()*2});e.x+=m.x,e.y+=m.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const m=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const m=this.boundBoxFunc()(i,e);m?e=m:Rn.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const a=1e7,o=new Rn.Transform;o.translate(i.x,i.y),o.rotate(i.rotation),o.scale(i.width/a,i.height/a);const l=new Rn.Transform,c=e.width/a,d=e.height/a;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,d));const g=l.multiply(o.invert());this._nodes.forEach(m=>{var p;const y=m.getParent().getAbsoluteTransform(),b=m.getTransform().copy();b.translate(m.offsetX(),m.offsetY());const N=new Rn.Transform;N.multiply(y.copy().invert()).multiply(g).multiply(y).multiply(b);const S=N.decompose();m.setAttrs(S),(p=m.getLayer())===null||p===void 0||p.batchDraw()}),this.rotation(Rn.Util._getRotation(e.rotation)),this._nodes.forEach(m=>{this._fire("transform",{evt:n,target:m}),m._fire("transform",{evt:n,target:m})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(Rn.Util._getRotation(n.rotation));const i=n.width,r=n.height,s=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(g=>{g.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:a&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:l/2+o,visible:a&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:a&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:l/2+o,visible:a&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:r/2,offsetX:l/2-o,visible:a&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:l/2+o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:r,offsetY:l/2-o,visible:a&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:r,offsetX:l/2-o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:i/2,y:-this.rotateAnchorOffset()*Rn.Util._sign(r)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const d=this.anchorStyleFunc();d&&c.forEach(g=>{d(g)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),uS.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return cS.Node.prototype.toObject.call(this)}clone(e){return cS.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}B5.Transformer=hn;hn.isTransforming=()=>G4>0;function TW(t){return t instanceof Array||Rn.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){N2.indexOf(e)===-1&&Rn.Util.warn("Unknown anchor name: "+e+". Available names are: "+N2.join(", "))}),t||[]}hn.prototype.className="Transformer";(0,_W._registerNode)(hn);kn.Factory.addGetterSetter(hn,"enabledAnchors",N2,TW);kn.Factory.addGetterSetter(hn,"flipEnabled",!0,(0,Mu.getBooleanValidator)());kn.Factory.addGetterSetter(hn,"resizeEnabled",!0);kn.Factory.addGetterSetter(hn,"anchorSize",10,(0,Mu.getNumberValidator)());kn.Factory.addGetterSetter(hn,"rotateEnabled",!0);kn.Factory.addGetterSetter(hn,"rotateLineVisible",!0);kn.Factory.addGetterSetter(hn,"rotationSnaps",[]);kn.Factory.addGetterSetter(hn,"rotateAnchorOffset",50,(0,Mu.getNumberValidator)());kn.Factory.addGetterSetter(hn,"rotateAnchorCursor","crosshair");kn.Factory.addGetterSetter(hn,"rotationSnapTolerance",5,(0,Mu.getNumberValidator)());kn.Factory.addGetterSetter(hn,"borderEnabled",!0);kn.Factory.addGetterSetter(hn,"anchorStroke","rgb(0, 161, 255)");kn.Factory.addGetterSetter(hn,"anchorStrokeWidth",1,(0,Mu.getNumberValidator)());kn.Factory.addGetterSetter(hn,"anchorFill","white");kn.Factory.addGetterSetter(hn,"anchorCornerRadius",0,(0,Mu.getNumberValidator)());kn.Factory.addGetterSetter(hn,"borderStroke","rgb(0, 161, 255)");kn.Factory.addGetterSetter(hn,"borderStrokeWidth",1,(0,Mu.getNumberValidator)());kn.Factory.addGetterSetter(hn,"borderDash");kn.Factory.addGetterSetter(hn,"keepRatio",!0);kn.Factory.addGetterSetter(hn,"shiftBehavior","default");kn.Factory.addGetterSetter(hn,"centeredScaling",!1);kn.Factory.addGetterSetter(hn,"ignoreStroke",!1);kn.Factory.addGetterSetter(hn,"padding",0,(0,Mu.getNumberValidator)());kn.Factory.addGetterSetter(hn,"nodes");kn.Factory.addGetterSetter(hn,"node");kn.Factory.addGetterSetter(hn,"boundBoxFunc");kn.Factory.addGetterSetter(hn,"anchorDragBoundFunc");kn.Factory.addGetterSetter(hn,"anchorStyleFunc");kn.Factory.addGetterSetter(hn,"shouldOverdrawWholeArea",!1);kn.Factory.addGetterSetter(hn,"useSingleNodeRotation",!0);kn.Factory.backCompat(hn,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var z5={};Object.defineProperty(z5,"__esModule",{value:!0});z5.Wedge=void 0;const U5=Zt,EW=rr,MW=Kt,LP=Lt,RW=Kt;class yc extends EW.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,MW.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}z5.Wedge=yc;yc.prototype.className="Wedge";yc.prototype._centroid=!0;yc.prototype._attrsAffectingSize=["radius"];(0,RW._registerNode)(yc);U5.Factory.addGetterSetter(yc,"radius",0,(0,LP.getNumberValidator)());U5.Factory.addGetterSetter(yc,"angle",0,(0,LP.getNumberValidator)());U5.Factory.addGetterSetter(yc,"clockwise",!1);U5.Factory.backCompat(yc,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var V5={};Object.defineProperty(V5,"__esModule",{value:!0});V5.Blur=void 0;const dS=Zt,FW=ci,OW=Lt;function fS(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const DW=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],IW=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function BW(t,e){const n=t.data,i=t.width,r=t.height;let s,a,o,l,c,d,g,m,p,y,b,N,S,j,w,k,E,I,U,R;const B=e+e+1,O=i-1,P=r-1,M=e+1,G=M*(M+1)/2,W=new fS,Z=DW[e],ce=IW[e];let pe=null,J=W,ee=null,he=null;for(let se=1;se<B;se++)J=J.next=new fS,se===M&&(pe=J);J.next=W,o=a=0;for(let se=0;se<r;se++){N=S=j=w=l=c=d=g=0,m=M*(k=n[a]),p=M*(E=n[a+1]),y=M*(I=n[a+2]),b=M*(U=n[a+3]),l+=G*k,c+=G*E,d+=G*I,g+=G*U,J=W;for(let F=0;F<M;F++)J.r=k,J.g=E,J.b=I,J.a=U,J=J.next;for(let F=1;F<M;F++)s=a+((O<F?O:F)<<2),l+=(J.r=k=n[s])*(R=M-F),c+=(J.g=E=n[s+1])*R,d+=(J.b=I=n[s+2])*R,g+=(J.a=U=n[s+3])*R,N+=k,S+=E,j+=I,w+=U,J=J.next;ee=W,he=pe;for(let F=0;F<i;F++)n[a+3]=U=g*Z>>ce,U!==0?(U=255/U,n[a]=(l*Z>>ce)*U,n[a+1]=(c*Z>>ce)*U,n[a+2]=(d*Z>>ce)*U):n[a]=n[a+1]=n[a+2]=0,l-=m,c-=p,d-=y,g-=b,m-=ee.r,p-=ee.g,y-=ee.b,b-=ee.a,s=o+((s=F+e+1)<O?s:O)<<2,N+=ee.r=n[s],S+=ee.g=n[s+1],j+=ee.b=n[s+2],w+=ee.a=n[s+3],l+=N,c+=S,d+=j,g+=w,ee=ee.next,m+=k=he.r,p+=E=he.g,y+=I=he.b,b+=U=he.a,N-=k,S-=E,j-=I,w-=U,he=he.next,a+=4;o+=i}for(let se=0;se<i;se++){S=j=w=N=c=d=g=l=0,a=se<<2,m=M*(k=n[a]),p=M*(E=n[a+1]),y=M*(I=n[a+2]),b=M*(U=n[a+3]),l+=G*k,c+=G*E,d+=G*I,g+=G*U,J=W;for(let q=0;q<M;q++)J.r=k,J.g=E,J.b=I,J.a=U,J=J.next;let F=i;for(let q=1;q<=e;q++)a=F+se<<2,l+=(J.r=k=n[a])*(R=M-q),c+=(J.g=E=n[a+1])*R,d+=(J.b=I=n[a+2])*R,g+=(J.a=U=n[a+3])*R,N+=k,S+=E,j+=I,w+=U,J=J.next,q<P&&(F+=i);a=se,ee=W,he=pe;for(let q=0;q<r;q++)s=a<<2,n[s+3]=U=g*Z>>ce,U>0?(U=255/U,n[s]=(l*Z>>ce)*U,n[s+1]=(c*Z>>ce)*U,n[s+2]=(d*Z>>ce)*U):n[s]=n[s+1]=n[s+2]=0,l-=m,c-=p,d-=y,g-=b,m-=ee.r,p-=ee.g,y-=ee.b,b-=ee.a,s=se+((s=q+M)<P?s:P)*i<<2,l+=N+=ee.r=n[s],c+=S+=ee.g=n[s+1],d+=j+=ee.b=n[s+2],g+=w+=ee.a=n[s+3],ee=ee.next,m+=k=he.r,p+=E=he.g,y+=I=he.b,b+=U=he.a,N-=k,S-=E,j-=I,w-=U,he=he.next,a+=i}}const zW=function(e){const n=Math.round(this.blurRadius());n>0&&BW(e,n)};V5.Blur=zW;dS.Factory.addGetterSetter(FW.Node,"blurRadius",0,(0,OW.getNumberValidator)(),dS.Factory.afterSetFilter);var H5={};Object.defineProperty(H5,"__esModule",{value:!0});H5.Brighten=void 0;const pS=Zt,UW=ci,VW=Lt,HW=function(t){const e=this.brightness()*255,n=t.data,i=n.length;for(let r=0;r<i;r+=4)n[r]+=e,n[r+1]+=e,n[r+2]+=e};H5.Brighten=HW;pS.Factory.addGetterSetter(UW.Node,"brightness",0,(0,VW.getNumberValidator)(),pS.Factory.afterSetFilter);var G5={};Object.defineProperty(G5,"__esModule",{value:!0});G5.Contrast=void 0;const gS=Zt,GW=ci,WW=Lt,qW=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,i=n.length;let r=150,s=150,a=150;for(let o=0;o<i;o+=4)r=n[o],s=n[o+1],a=n[o+2],r/=255,r-=.5,r*=e,r+=.5,r*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,r=r<0?0:r>255?255:r,s=s<0?0:s>255?255:s,a=a<0?0:a>255?255:a,n[o]=r,n[o+1]=s,n[o+2]=a};G5.Contrast=qW;gS.Factory.addGetterSetter(GW.Node,"contrast",0,(0,WW.getNumberValidator)(),gS.Factory.afterSetFilter);var W5={};Object.defineProperty(W5,"__esModule",{value:!0});W5.Emboss=void 0;const yu=Zt,q5=ci,$W=mi,TP=Lt,KW=function(t){const e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,i=this.embossDirection(),r=this.embossBlend(),s=t.data,a=t.width,o=t.height,l=a*4;let c=0,d=0,g=o;switch(i){case"top-left":c=-1,d=-1;break;case"top":c=-1,d=0;break;case"top-right":c=-1,d=1;break;case"right":c=0,d=1;break;case"bottom-right":c=1,d=1;break;case"bottom":c=1,d=0;break;case"bottom-left":c=1,d=-1;break;case"left":c=0,d=-1;break;default:$W.Util.error("Unknown emboss direction: "+i)}do{const m=(g-1)*l;let p=c;g+p<1&&(p=0),g+p>o&&(p=0);const y=(g-1+p)*a*4;let b=a;do{const N=m+(b-1)*4;let S=d;b+S<1&&(S=0),b+S>a&&(S=0);const j=y+(b-1+S)*4,w=s[N]-s[j],k=s[N+1]-s[j+1],E=s[N+2]-s[j+2];let I=w;const U=I>0?I:-I,R=k>0?k:-k,B=E>0?E:-E;if(R>U&&(I=k),B>U&&(I=E),I*=e,r){const O=s[N]+I,P=s[N+1]+I,M=s[N+2]+I;s[N]=O>255?255:O<0?0:O,s[N+1]=P>255?255:P<0?0:P,s[N+2]=M>255?255:M<0?0:M}else{let O=n-I;O<0?O=0:O>255&&(O=255),s[N]=s[N+1]=s[N+2]=O}}while(--b)}while(--g)};W5.Emboss=KW;yu.Factory.addGetterSetter(q5.Node,"embossStrength",.5,(0,TP.getNumberValidator)(),yu.Factory.afterSetFilter);yu.Factory.addGetterSetter(q5.Node,"embossWhiteLevel",.5,(0,TP.getNumberValidator)(),yu.Factory.afterSetFilter);yu.Factory.addGetterSetter(q5.Node,"embossDirection","top-left",void 0,yu.Factory.afterSetFilter);yu.Factory.addGetterSetter(q5.Node,"embossBlend",!1,void 0,yu.Factory.afterSetFilter);var $5={};Object.defineProperty($5,"__esModule",{value:!0});$5.Enhance=void 0;const mS=Zt,XW=ci,YW=Lt;function Py(t,e,n,i,r){const s=n-e,a=r-i;if(s===0)return i+a/2;if(a===0)return i;let o=(t-e)/s;return o=a*o+i,o}const QW=function(t){const e=t.data,n=e.length;let i=e[0],r=i,s,a=e[1],o=a,l,c=e[2],d=c,g;const m=this.enhance();if(m===0)return;for(let w=0;w<n;w+=4)s=e[w+0],s<i?i=s:s>r&&(r=s),l=e[w+1],l<a?a=l:l>o&&(o=l),g=e[w+2],g<c?c=g:g>d&&(d=g);r===i&&(r=255,i=0),o===a&&(o=255,a=0),d===c&&(d=255,c=0);let p,y,b,N,S,j;if(m>0)p=r+m*(255-r),y=i-m*(i-0),b=o+m*(255-o),N=a-m*(a-0),S=d+m*(255-d),j=c-m*(c-0);else{const w=(r+i)*.5;p=r+m*(r-w),y=i+m*(i-w);const k=(o+a)*.5;b=o+m*(o-k),N=a+m*(a-k);const E=(d+c)*.5;S=d+m*(d-E),j=c+m*(c-E)}for(let w=0;w<n;w+=4)e[w+0]=Py(e[w+0],i,r,y,p),e[w+1]=Py(e[w+1],a,o,N,b),e[w+2]=Py(e[w+2],c,d,j,S)};$5.Enhance=QW;mS.Factory.addGetterSetter(XW.Node,"enhance",0,(0,YW.getNumberValidator)(),mS.Factory.afterSetFilter);var K5={};Object.defineProperty(K5,"__esModule",{value:!0});K5.Grayscale=void 0;const JW=function(t){const e=t.data,n=e.length;for(let i=0;i<n;i+=4){const r=.34*e[i]+.5*e[i+1]+.16*e[i+2];e[i]=r,e[i+1]=r,e[i+2]=r}};K5.Grayscale=JW;var X5={};Object.defineProperty(X5,"__esModule",{value:!0});X5.HSL=void 0;const Rf=Zt,uw=ci,hw=Lt;Rf.Factory.addGetterSetter(uw.Node,"hue",0,(0,hw.getNumberValidator)(),Rf.Factory.afterSetFilter);Rf.Factory.addGetterSetter(uw.Node,"saturation",0,(0,hw.getNumberValidator)(),Rf.Factory.afterSetFilter);Rf.Factory.addGetterSetter(uw.Node,"luminance",0,(0,hw.getNumberValidator)(),Rf.Factory.afterSetFilter);const ZW=function(t){const e=t.data,n=e.length,i=1,r=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=this.luminance()*127,o=i*r*Math.cos(s*Math.PI/180),l=i*r*Math.sin(s*Math.PI/180),c=.299*i+.701*o+.167*l,d=.587*i-.587*o+.33*l,g=.114*i-.114*o-.497*l,m=.299*i-.299*o-.328*l,p=.587*i+.413*o+.035*l,y=.114*i-.114*o+.293*l,b=.299*i-.3*o+1.25*l,N=.587*i-.586*o-1.05*l,S=.114*i+.886*o-.2*l;let j,w,k,E;for(let I=0;I<n;I+=4)j=e[I+0],w=e[I+1],k=e[I+2],E=e[I+3],e[I+0]=c*j+d*w+g*k+a,e[I+1]=m*j+p*w+y*k+a,e[I+2]=b*j+N*w+S*k+a,e[I+3]=E};X5.HSL=ZW;var Y5={};Object.defineProperty(Y5,"__esModule",{value:!0});Y5.HSV=void 0;const Ff=Zt,dw=ci,fw=Lt,eq=function(t){const e=t.data,n=e.length,i=Math.pow(2,this.value()),r=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=i*r*Math.cos(s*Math.PI/180),o=i*r*Math.sin(s*Math.PI/180),l=.299*i+.701*a+.167*o,c=.587*i-.587*a+.33*o,d=.114*i-.114*a-.497*o,g=.299*i-.299*a-.328*o,m=.587*i+.413*a+.035*o,p=.114*i-.114*a+.293*o,y=.299*i-.3*a+1.25*o,b=.587*i-.586*a-1.05*o,N=.114*i+.886*a-.2*o;for(let S=0;S<n;S+=4){const j=e[S+0],w=e[S+1],k=e[S+2],E=e[S+3];e[S+0]=l*j+c*w+d*k,e[S+1]=g*j+m*w+p*k,e[S+2]=y*j+b*w+N*k,e[S+3]=E}};Y5.HSV=eq;Ff.Factory.addGetterSetter(dw.Node,"hue",0,(0,fw.getNumberValidator)(),Ff.Factory.afterSetFilter);Ff.Factory.addGetterSetter(dw.Node,"saturation",0,(0,fw.getNumberValidator)(),Ff.Factory.afterSetFilter);Ff.Factory.addGetterSetter(dw.Node,"value",0,(0,fw.getNumberValidator)(),Ff.Factory.afterSetFilter);var Q5={};Object.defineProperty(Q5,"__esModule",{value:!0});Q5.Invert=void 0;const tq=function(t){const e=t.data,n=e.length;for(let i=0;i<n;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2]};Q5.Invert=tq;var J5={};Object.defineProperty(J5,"__esModule",{value:!0});J5.Kaleidoscope=void 0;const k2=Zt,EP=ci,xS=mi,MP=Lt,nq=function(t,e,n){const i=t.data,r=e.data,s=t.width,a=t.height,o=n.polarCenterX||s/2,l=n.polarCenterY||a/2;let c=Math.sqrt(o*o+l*l),d=s-o,g=a-l;const m=Math.sqrt(d*d+g*g);c=m>c?m:c;const p=a,y=s,b=360/y*Math.PI/180;for(let N=0;N<y;N+=1){const S=Math.sin(N*b),j=Math.cos(N*b);for(let w=0;w<p;w+=1){d=Math.floor(o+c*w/p*j),g=Math.floor(l+c*w/p*S);let k=(g*s+d)*4;const E=i[k+0],I=i[k+1],U=i[k+2],R=i[k+3];k=(N+w*s)*4,r[k+0]=E,r[k+1]=I,r[k+2]=U,r[k+3]=R}}},iq=function(t,e,n){const i=t.data,r=e.data,s=t.width,a=t.height,o=n.polarCenterX||s/2,l=n.polarCenterY||a/2;let c=Math.sqrt(o*o+l*l),d=s-o,g=a-l;const m=Math.sqrt(d*d+g*g);c=m>c?m:c;const p=a,y=s,b=0;let N,S;for(d=0;d<s;d+=1)for(g=0;g<a;g+=1){const j=d-o,w=g-l,k=Math.sqrt(j*j+w*w)*p/c;let E=(Math.atan2(w,j)*180/Math.PI+360+b)%360;E=E*y/360,N=Math.floor(E),S=Math.floor(k);let I=(S*s+N)*4;const U=i[I+0],R=i[I+1],B=i[I+2],O=i[I+3];I=(g*s+d)*4,r[I+0]=U,r[I+1]=R,r[I+2]=B,r[I+3]=O}},rq=function(t){const e=t.width,n=t.height;let i,r,s,a,o,l,c,d,g,m,p=Math.round(this.kaleidoscopePower());const y=Math.round(this.kaleidoscopeAngle()),b=Math.floor(e*(y%360)/360);if(p<1)return;const N=xS.Util.createCanvasElement();N.width=e,N.height=n;const S=N.getContext("2d").getImageData(0,0,e,n);xS.Util.releaseCanvas(N),nq(t,S,{polarCenterX:e/2,polarCenterY:n/2});let j=e/Math.pow(2,p);for(;j<=8;)j=j*2,p-=1;j=Math.ceil(j);let w=j,k=0,E=w,I=1;for(b+j>e&&(k=w,E=0,I=-1),r=0;r<n;r+=1)for(i=k;i!==E;i+=I)s=Math.round(i+b)%e,g=(e*r+s)*4,o=S.data[g+0],l=S.data[g+1],c=S.data[g+2],d=S.data[g+3],m=(e*r+i)*4,S.data[m+0]=o,S.data[m+1]=l,S.data[m+2]=c,S.data[m+3]=d;for(r=0;r<n;r+=1)for(w=Math.floor(j),a=0;a<p;a+=1){for(i=0;i<w+1;i+=1)g=(e*r+i)*4,o=S.data[g+0],l=S.data[g+1],c=S.data[g+2],d=S.data[g+3],m=(e*r+w*2-i-1)*4,S.data[m+0]=o,S.data[m+1]=l,S.data[m+2]=c,S.data[m+3]=d;w*=2}iq(S,t,{})};J5.Kaleidoscope=rq;k2.Factory.addGetterSetter(EP.Node,"kaleidoscopePower",2,(0,MP.getNumberValidator)(),k2.Factory.afterSetFilter);k2.Factory.addGetterSetter(EP.Node,"kaleidoscopeAngle",0,(0,MP.getNumberValidator)(),k2.Factory.afterSetFilter);var Z5={};Object.defineProperty(Z5,"__esModule",{value:!0});Z5.Mask=void 0;const yS=Zt,sq=ci,aq=Lt;function Lm(t,e,n){let i=(n*t.width+e)*4;const r=[];return r.push(t.data[i++],t.data[i++],t.data[i++],t.data[i++]),r}function V0(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function oq(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function lq(t,e){const n=Lm(t,0,0),i=Lm(t,t.width-1,0),r=Lm(t,0,t.height-1),s=Lm(t,t.width-1,t.height-1),a=e||10;if(V0(n,i)<a&&V0(i,s)<a&&V0(s,r)<a&&V0(r,n)<a){const o=oq([i,n,s,r]),l=[];for(let c=0;c<t.width*t.height;c++){const d=V0(o,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=d<a?0:255}return l}}function cq(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function uq(t,e,n){const i=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(i.length)),s=Math.floor(r/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let d=0;for(let g=0;g<r;g++)for(let m=0;m<r;m++){const p=o+g-s,y=l+m-s;if(p>=0&&p<n&&y>=0&&y<e){const b=p*e+y,N=i[g*r+m];d+=t[b]*N}}a[c]=d===255*8?255:0}return a}function hq(t,e,n){const i=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(i.length)),s=Math.floor(r/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let d=0;for(let g=0;g<r;g++)for(let m=0;m<r;m++){const p=o+g-s,y=l+m-s;if(p>=0&&p<n&&y>=0&&y<e){const b=p*e+y,N=i[g*r+m];d+=t[b]*N}}a[c]=d>=255*4?255:0}return a}function dq(t,e,n){const i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],r=Math.round(Math.sqrt(i.length)),s=Math.floor(r/2),a=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const c=o*e+l;let d=0;for(let g=0;g<r;g++)for(let m=0;m<r;m++){const p=o+g-s,y=l+m-s;if(p>=0&&p<n&&y>=0&&y<e){const b=p*e+y,N=i[g*r+m];d+=t[b]*N}}a[c]=d}return a}const fq=function(t){const e=this.threshold();let n=lq(t,e);return n&&(n=uq(n,t.width,t.height),n=hq(n,t.width,t.height),n=dq(n,t.width,t.height),cq(t,n)),t};Z5.Mask=fq;yS.Factory.addGetterSetter(sq.Node,"threshold",0,(0,aq.getNumberValidator)(),yS.Factory.afterSetFilter);var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.Noise=void 0;const vS=Zt,pq=ci,gq=Lt,mq=function(t){const e=this.noise()*255,n=t.data,i=n.length,r=e/2;for(let s=0;s<i;s+=4)n[s+0]+=r-2*r*Math.random(),n[s+1]+=r-2*r*Math.random(),n[s+2]+=r-2*r*Math.random()};ex.Noise=mq;vS.Factory.addGetterSetter(pq.Node,"noise",.2,(0,gq.getNumberValidator)(),vS.Factory.afterSetFilter);var tx={};Object.defineProperty(tx,"__esModule",{value:!0});tx.Pixelate=void 0;const bS=Zt,xq=mi,yq=ci,vq=Lt,bq=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,i=t.height,r=Math.ceil(n/e),s=Math.ceil(i/e),a=t.data;if(e<=0){xq.Util.error("pixelSize value can not be <= 0");return}for(let o=0;o<r;o+=1)for(let l=0;l<s;l+=1){let c=0,d=0,g=0,m=0;const p=o*e,y=p+e,b=l*e,N=b+e;let S=0;for(let j=p;j<y;j+=1)if(!(j>=n))for(let w=b;w<N;w+=1){if(w>=i)continue;const k=(n*w+j)*4;c+=a[k+0],d+=a[k+1],g+=a[k+2],m+=a[k+3],S+=1}c=c/S,d=d/S,g=g/S,m=m/S;for(let j=p;j<y;j+=1)if(!(j>=n))for(let w=b;w<N;w+=1){if(w>=i)continue;const k=(n*w+j)*4;a[k+0]=c,a[k+1]=d,a[k+2]=g,a[k+3]=m}}};tx.Pixelate=bq;bS.Factory.addGetterSetter(yq.Node,"pixelSize",8,(0,vq.getNumberValidator)(),bS.Factory.afterSetFilter);var nx={};Object.defineProperty(nx,"__esModule",{value:!0});nx.Posterize=void 0;const wS=Zt,wq=ci,_q=Lt,Sq=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,i=n.length,r=255/e;for(let s=0;s<i;s+=1)n[s]=Math.floor(n[s]/r)*r};nx.Posterize=Sq;wS.Factory.addGetterSetter(wq.Node,"levels",.5,(0,_q.getNumberValidator)(),wS.Factory.afterSetFilter);var ix={};Object.defineProperty(ix,"__esModule",{value:!0});ix.RGB=void 0;const C2=Zt,pw=ci,Nq=Lt,kq=function(t){const e=t.data,n=e.length,i=this.red(),r=this.green(),s=this.blue();for(let a=0;a<n;a+=4){const o=(.34*e[a]+.5*e[a+1]+.16*e[a+2])/255;e[a]=o*i,e[a+1]=o*r,e[a+2]=o*s,e[a+3]=e[a+3]}};ix.RGB=kq;C2.Factory.addGetterSetter(pw.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});C2.Factory.addGetterSetter(pw.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});C2.Factory.addGetterSetter(pw.Node,"blue",0,Nq.RGBComponent,C2.Factory.afterSetFilter);var rx={};Object.defineProperty(rx,"__esModule",{value:!0});rx.RGBA=void 0;const rg=Zt,sx=ci,Cq=Lt,jq=function(t){const e=t.data,n=e.length,i=this.red(),r=this.green(),s=this.blue(),a=this.alpha();for(let o=0;o<n;o+=4){const l=1-a;e[o]=i*a+e[o]*l,e[o+1]=r*a+e[o+1]*l,e[o+2]=s*a+e[o+2]*l}};rx.RGBA=jq;rg.Factory.addGetterSetter(sx.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});rg.Factory.addGetterSetter(sx.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});rg.Factory.addGetterSetter(sx.Node,"blue",0,Cq.RGBComponent,rg.Factory.afterSetFilter);rg.Factory.addGetterSetter(sx.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var ax={};Object.defineProperty(ax,"__esModule",{value:!0});ax.Sepia=void 0;const Aq=function(t){const e=t.data,n=e.length;for(let i=0;i<n;i+=4){const r=e[i+0],s=e[i+1],a=e[i+2];e[i+0]=Math.min(255,r*.393+s*.769+a*.189),e[i+1]=Math.min(255,r*.349+s*.686+a*.168),e[i+2]=Math.min(255,r*.272+s*.534+a*.131)}};ax.Sepia=Aq;var ox={};Object.defineProperty(ox,"__esModule",{value:!0});ox.Solarize=void 0;const Pq=function(t){const e=t.data,n=t.width,i=t.height,r=n*4;let s=i;do{const a=(s-1)*r;let o=n;do{const l=a+(o-1)*4;let c=e[l],d=e[l+1],g=e[l+2];c>127&&(c=255-c),d>127&&(d=255-d),g>127&&(g=255-g),e[l]=c,e[l+1]=d,e[l+2]=g}while(--o)}while(--s)};ox.Solarize=Pq;var lx={};Object.defineProperty(lx,"__esModule",{value:!0});lx.Threshold=void 0;const _S=Zt,Lq=ci,Tq=Lt,Eq=function(t){const e=this.threshold()*255,n=t.data,i=n.length;for(let r=0;r<i;r+=1)n[r]=n[r]<e?0:255};lx.Threshold=Eq;_S.Factory.addGetterSetter(Lq.Node,"threshold",.5,(0,Tq.getNumberValidator)(),_S.Factory.afterSetFilter);Object.defineProperty(x5,"__esModule",{value:!0});x5.Konva=void 0;const SS=_2,Mq=S5,Rq=C5,Fq=P5,Oq=L5,Dq=T5,NS=Mf,Iq=Eg,Bq=Qf,zq=Rg,Uq=R5,Vq=F5,Hq=O5,Gq=D5,Wq=Zf,qq=I5,$q=B5,Kq=z5,Xq=V5,Yq=H5,Qq=G5,Jq=W5,Zq=$5,e$=K5,t$=X5,n$=Y5,i$=Q5,r$=J5,s$=Z5,a$=ex,o$=tx,l$=nx,c$=ix,u$=rx,h$=ax,d$=ox,f$=lx;x5.Konva=SS.Konva.Util._assign(SS.Konva,{Arc:Mq.Arc,Arrow:Rq.Arrow,Circle:Fq.Circle,Ellipse:Oq.Ellipse,Image:Dq.Image,Label:NS.Label,Tag:NS.Tag,Line:Iq.Line,Path:Bq.Path,Rect:zq.Rect,RegularPolygon:Uq.RegularPolygon,Ring:Vq.Ring,Sprite:Hq.Sprite,Star:Gq.Star,Text:Wq.Text,TextPath:qq.TextPath,Transformer:$q.Transformer,Wedge:Kq.Wedge,Filters:{Blur:Xq.Blur,Brighten:Yq.Brighten,Contrast:Qq.Contrast,Emboss:Jq.Emboss,Enhance:Zq.Enhance,Grayscale:e$.Grayscale,HSL:t$.HSL,HSV:n$.HSV,Invert:i$.Invert,Kaleidoscope:r$.Kaleidoscope,Mask:s$.Mask,Noise:a$.Noise,Pixelate:o$.Pixelate,Posterize:l$.Posterize,RGB:c$.RGB,RGBA:u$.RGBA,Sepia:h$.Sepia,Solarize:d$.Solarize,Threshold:f$.Threshold}});var p$=ZA.exports;Object.defineProperty(p$,"__esModule",{value:!0});const g$=x5;ZA.exports=g$.Konva;var W4={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var n=_2;Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return n.Konva}});const i=_2;t.exports=i.Konva})(W4,W4.exports);var m$=W4.exports;const sg=U2(m$);var RP={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x$=function(e){var n={},i=Y,r=up,s=Object.assign;function a(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),E=Symbol.iterator;function I(u){return u===null||typeof u!="object"?null:(u=E&&u[E]||u["@@iterator"],typeof u=="function"?u:null)}function U(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case d:return"Fragment";case c:return"Portal";case m:return"Profiler";case g:return"StrictMode";case N:return"Suspense";case S:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Consumer";case p:return(u._context.displayName||"Context")+".Provider";case b:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case j:return f=u.displayName||null,f!==null?f:U(u.type)||"Memo";case w:f=u._payload,u=u._init;try{return U(u(f))}catch{}}return null}function R(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(f);case 8:return f===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function B(u){var f=u,v=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(v=f.return),u=f.return;while(u)}return f.tag===3?v:null}function O(u){if(B(u)!==u)throw Error(a(188))}function P(u){var f=u.alternate;if(!f){if(f=B(u),f===null)throw Error(a(188));return f!==u?null:u}for(var v=u,C=f;;){var L=v.return;if(L===null)break;var z=L.alternate;if(z===null){if(C=L.return,C!==null){v=C;continue}break}if(L.child===z.child){for(z=L.child;z;){if(z===v)return O(L),u;if(z===C)return O(L),f;z=z.sibling}throw Error(a(188))}if(v.return!==C.return)v=L,C=z;else{for(var ie=!1,we=L.child;we;){if(we===v){ie=!0,v=L,C=z;break}if(we===C){ie=!0,C=L,v=z;break}we=we.sibling}if(!ie){for(we=z.child;we;){if(we===v){ie=!0,v=z,C=L;break}if(we===C){ie=!0,C=z,v=L;break}we=we.sibling}if(!ie)throw Error(a(189))}}if(v.alternate!==C)throw Error(a(190))}if(v.tag!==3)throw Error(a(188));return v.stateNode.current===v?u:f}function M(u){return u=P(u),u!==null?G(u):null}function G(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=G(u);if(f!==null)return f;u=u.sibling}return null}function W(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=W(u);if(f!==null)return f}u=u.sibling}return null}var Z=Array.isArray,ce=e.getPublicInstance,pe=e.getRootHostContext,J=e.getChildHostContext,ee=e.prepareForCommit,he=e.resetAfterCommit,se=e.createInstance,F=e.appendInitialChild,q=e.finalizeInitialChildren,re=e.prepareUpdate,oe=e.shouldSetTextContent,de=e.createTextInstance,X=e.scheduleTimeout,fe=e.cancelTimeout,xe=e.noTimeout,Ce=e.isPrimaryRenderer,Le=e.supportsMutation,Ue=e.supportsPersistence,ze=e.supportsHydration,Ke=e.getInstanceFromNode,te=e.preparePortalMount,Ge=e.getCurrentEventPriority,vt=e.detachDeletedInstance,ht=e.supportsMicrotasks,Ie=e.scheduleMicrotask,Je=e.supportsTestSelectors,Ze=e.findFiberRoot,mt=e.getBoundingRect,Te=e.getTextContent,We=e.isHiddenSubtree,$e=e.matchAccessibilityRole,ut=e.setFocusIfFocusable,At=e.setupIntersectionObserver,xt=e.appendChild,et=e.appendChildToContainer,wt=e.commitTextUpdate,tt=e.commitMount,jn=e.commitUpdate,en=e.insertBefore,Ht=e.insertInContainerBefore,Gt=e.removeChild,zn=e.removeChildFromContainer,yt=e.resetTextContent,Tn=e.hideInstance,Nt=e.hideTextInstance,Ot=e.unhideInstance,Un=e.unhideTextInstance,qt=e.clearContainer,_t=e.cloneInstance,pn=e.createContainerChildSet,qo=e.appendChildToContainerChildSet,ar=e.finalizeContainerChildren,qs=e.replaceContainerChildren,$s=e.cloneHiddenInstance,bt=e.cloneHiddenTextInstance,to=e.canHydrateInstance,no=e.canHydrateTextInstance,Ss=e.canHydrateSuspenseInstance,os=e.isSuspenseInstancePending,Vn=e.isSuspenseInstanceFallback,Hi=e.getSuspenseInstanceFallbackErrorDetails,qi=e.registerSuspenseInstanceRetry,va=e.getNextHydratableSibling,$o=e.getFirstHydratableChild,Ks=e.getFirstHydratableChildWithinContainer,ba=e.getFirstHydratableChildWithinSuspenseInstance,Xs=e.hydrateInstance,Ys=e.hydrateTextInstance,Ns=e.hydrateSuspenseInstance,bl=e.getNextHydratableInstanceAfterSuspenseInstance,wa=e.commitHydratedContainer,wl=e.commitHydratedSuspenseInstance,vc=e.clearSuspenseBoundary,bc=e.clearSuspenseBoundaryFromContainer,wc=e.shouldDeleteUnhydratedTailInstances,n0=e.didNotMatchHydratedContainerTextInstance,Fu=e.didNotMatchHydratedTextInstance,_c;function Ko(u){if(_c===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);_c=f&&f[1]||""}return`
`+_c+u}var Or=!1;function _l(u,f){if(!u||Or)return"";Or=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(He){var C=He}Reflect.construct(u,[],f)}else{try{f.call()}catch(He){C=He}u.call(f.prototype)}else{try{throw Error()}catch(He){C=He}u()}}catch(He){if(He&&C&&typeof He.stack=="string"){for(var L=He.stack.split(`
`),z=C.stack.split(`
`),ie=L.length-1,we=z.length-1;1<=ie&&0<=we&&L[ie]!==z[we];)we--;for(;1<=ie&&0<=we;ie--,we--)if(L[ie]!==z[we]){if(ie!==1||we!==1)do if(ie--,we--,0>we||L[ie]!==z[we]){var Pe=`
`+L[ie].replace(" at new "," at ");return u.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",u.displayName)),Pe}while(1<=ie&&0<=we);break}}}finally{Or=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?Ko(u):""}var rd=Object.prototype.hasOwnProperty,Sl=[],io=-1;function Qs(u){return{current:u}}function Cn(u){0>io||(u.current=Sl[io],Sl[io]=null,io--)}function tn(u,f){io++,Sl[io]=u.current,u.current=f}var ls={},Gi=Qs(ls),cn=Qs(!1),_a=ls;function vr(u,f){var v=u.type.contextTypes;if(!v)return ls;var C=u.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===f)return C.__reactInternalMemoizedMaskedChildContext;var L={},z;for(z in v)L[z]=f[z];return C&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=L),L}function Ei(u){return u=u.childContextTypes,u!=null}function Nl(){Cn(cn),Cn(Gi)}function cs(u,f,v){if(Gi.current!==ls)throw Error(a(168));tn(Gi,f),tn(cn,v)}function xi(u,f,v){var C=u.stateNode;if(f=f.childContextTypes,typeof C.getChildContext!="function")return v;C=C.getChildContext();for(var L in C)if(!(L in f))throw Error(a(108,R(u)||"Unknown",L));return s({},v,C)}function ks(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||ls,_a=Gi.current,tn(Gi,u),tn(cn,cn.current),!0}function Ou(u,f,v){var C=u.stateNode;if(!C)throw Error(a(169));v?(u=xi(u,f,_a),C.__reactInternalMemoizedMergedChildContext=u,Cn(cn),Cn(Gi),tn(Gi,u)):Cn(cn),tn(cn,v)}var us=Math.clz32?Math.clz32:sd,i0=Math.log,Sa=Math.LN2;function sd(u){return u>>>=0,u===0?32:31-(i0(u)/Sa|0)|0}var kl=64,ro=4194304;function Js(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Sc(u,f){var v=u.pendingLanes;if(v===0)return 0;var C=0,L=u.suspendedLanes,z=u.pingedLanes,ie=v&268435455;if(ie!==0){var we=ie&~L;we!==0?C=Js(we):(z&=ie,z!==0&&(C=Js(z)))}else ie=v&~L,ie!==0?C=Js(ie):z!==0&&(C=Js(z));if(C===0)return 0;if(f!==0&&f!==C&&!(f&L)&&(L=C&-C,z=f&-f,L>=z||L===16&&(z&4194240)!==0))return f;if(C&4&&(C|=v&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=C;0<f;)v=31-us(f),L=1<<v,C|=u[v],f&=~L;return C}function r0(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s0(u,f){for(var v=u.suspendedLanes,C=u.pingedLanes,L=u.expirationTimes,z=u.pendingLanes;0<z;){var ie=31-us(z),we=1<<ie,Pe=L[ie];Pe===-1?(!(we&v)||we&C)&&(L[ie]=r0(we,f)):Pe<=f&&(u.expiredLanes|=we),z&=~we}}function Cl(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Du(){var u=kl;return kl<<=1,!(kl&4194240)&&(kl=64),u}function hs(u){for(var f=[],v=0;31>v;v++)f.push(u);return f}function jl(u,f,v){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-us(f),u[f]=v}function Al(u,f){var v=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var C=u.eventTimes;for(u=u.expirationTimes;0<v;){var L=31-us(v),z=1<<L;f[L]=0,C[L]=-1,u[L]=-1,v&=~z}}function Pl(u,f){var v=u.entangledLanes|=f;for(u=u.entanglements;v;){var C=31-us(v),L=1<<C;L&f|u[C]&f&&(u[C]|=f),v&=~L}}var sn=0;function Pt(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var Iu=r.unstable_scheduleCallback,ad=r.unstable_cancelCallback,a0=r.unstable_shouldYield,so=r.unstable_requestPaint,En=r.unstable_now,Bu=r.unstable_ImmediatePriority,o0=r.unstable_UserBlockingPriority,Xo=r.unstable_NormalPriority,zu=r.unstable_IdlePriority,Na=null,Cs=null;function ao(u){if(Cs&&typeof Cs.onCommitFiberRoot=="function")try{Cs.onCommitFiberRoot(Na,u,void 0,(u.current.flags&128)===128)}catch{}}function l0(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var br=typeof Object.is=="function"?Object.is:l0,ds=null,Ll=!1,Zs=!1;function Nc(u){ds===null?ds=[u]:ds.push(u)}function kc(u){Ll=!0,Nc(u)}function Dr(){if(!Zs&&ds!==null){Zs=!0;var u=0,f=sn;try{var v=ds;for(sn=1;u<v.length;u++){var C=v[u];do C=C(!0);while(C!==null)}ds=null,Ll=!1}catch(L){throw ds!==null&&(ds=ds.slice(u+1)),Iu(Bu,Dr),L}finally{sn=f,Zs=!1}}return null}var js=[],ka=0,Tl=null,El=0,yi=[],vi=0,Ca=null,wr=1,As="";function A(u,f){js[ka++]=El,js[ka++]=Tl,Tl=u,El=f}function H(u,f,v){yi[vi++]=wr,yi[vi++]=As,yi[vi++]=Ca,Ca=u;var C=wr;u=As;var L=32-us(C)-1;C&=~(1<<L),v+=1;var z=32-us(f)+L;if(30<z){var ie=L-L%5;z=(C&(1<<ie)-1).toString(32),C>>=ie,L-=ie,wr=1<<32-us(f)+L|v<<L|C,As=z+u}else wr=1<<z|v<<L|C,As=u}function ue(u){u.return!==null&&(A(u,1),H(u,1,0))}function ge(u){for(;u===Tl;)Tl=js[--ka],js[ka]=null,El=js[--ka],js[ka]=null;for(;u===Ca;)Ca=yi[--vi],yi[vi]=null,As=yi[--vi],yi[vi]=null,wr=yi[--vi],yi[vi]=null}var ve=null,Ee=null,Re=!1,nt=!1,Xe=null;function jt(u,f){var v=za(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=u,f=u.deletions,f===null?(u.deletions=[v],u.flags|=16):f.push(v)}function Dt(u,f){switch(u.tag){case 5:return f=to(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,ve=u,Ee=$o(f),!0):!1;case 6:return f=no(f,u.pendingProps),f!==null?(u.stateNode=f,ve=u,Ee=null,!0):!1;case 13:if(f=Ss(f),f!==null){var v=Ca!==null?{id:wr,overflow:As}:null;return u.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=za(18,null,null,0),v.stateNode=f,v.return=u,u.child=v,ve=u,Ee=null,!0}return!1;default:return!1}}function nn(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Fn(u){if(Re){var f=Ee;if(f){var v=f;if(!Dt(u,f)){if(nn(u))throw Error(a(418));f=va(v);var C=ve;f&&Dt(u,f)?jt(C,v):(u.flags=u.flags&-4097|2,Re=!1,ve=u)}}else{if(nn(u))throw Error(a(418));u.flags=u.flags&-4097|2,Re=!1,ve=u}}}function ui(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ve=u}function Sn(u){if(!ze||u!==ve)return!1;if(!Re)return ui(u),Re=!0,!1;if(u.tag!==3&&(u.tag!==5||wc(u.type)&&!oe(u.type,u.memoizedProps))){var f=Ee;if(f){if(nn(u))throw bi(),Error(a(418));for(;f;)jt(u,f),f=va(f)}}if(ui(u),u.tag===13){if(!ze)throw Error(a(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));Ee=bl(u)}else Ee=ve?va(u.stateNode):null;return!0}function bi(){for(var u=Ee;u;)u=va(u)}function On(){ze&&(Ee=ve=null,nt=Re=!1)}function Mi(u){Xe===null?Xe=[u]:Xe.push(u)}var oo=o.ReactCurrentBatchConfig;function Ir(u,f){if(br(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var v=Object.keys(u),C=Object.keys(f);if(v.length!==C.length)return!1;for(C=0;C<v.length;C++){var L=v[C];if(!rd.call(f,L)||!br(u[L],f[L]))return!1}return!0}function lo(u){switch(u.tag){case 5:return Ko(u.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return u=_l(u.type,!1),u;case 11:return u=_l(u.type.render,!1),u;case 1:return u=_l(u.type,!0),u;default:return""}}function co(u,f,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(a(309));var C=v.stateNode}if(!C)throw Error(a(147,u));var L=C,z=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===z?f.ref:(f=function(ie){var we=L.refs;ie===null?delete we[z]:we[z]=ie},f._stringRef=z,f)}if(typeof u!="string")throw Error(a(284));if(!v._owner)throw Error(a(290,u))}return u}function uo(u,f){throw u=Object.prototype.toString.call(f),Error(a(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function ho(u){var f=u._init;return f(u._payload)}function Yo(u){function f(je,Se){if(u){var Fe=je.deletions;Fe===null?(je.deletions=[Se],je.flags|=16):Fe.push(Se)}}function v(je,Se){if(!u)return null;for(;Se!==null;)f(je,Se),Se=Se.sibling;return null}function C(je,Se){for(je=new Map;Se!==null;)Se.key!==null?je.set(Se.key,Se):je.set(Se.index,Se),Se=Se.sibling;return je}function L(je,Se){return je=Fc(je,Se),je.index=0,je.sibling=null,je}function z(je,Se,Fe){return je.index=Fe,u?(Fe=je.alternate,Fe!==null?(Fe=Fe.index,Fe<Se?(je.flags|=2,Se):Fe):(je.flags|=2,Se)):(je.flags|=1048576,Se)}function ie(je){return u&&je.alternate===null&&(je.flags|=2),je}function we(je,Se,Fe,Qe){return Se===null||Se.tag!==6?(Se=Cx(Fe,je.mode,Qe),Se.return=je,Se):(Se=L(Se,Fe),Se.return=je,Se)}function Pe(je,Se,Fe,Qe){var St=Fe.type;return St===d?lt(je,Se,Fe.props.children,Qe,Fe.key):Se!==null&&(Se.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===w&&ho(St)===Se.type)?(Qe=L(Se,Fe.props),Qe.ref=co(je,Se,Fe),Qe.return=je,Qe):(Qe=nm(Fe.type,Fe.key,Fe.props,null,je.mode,Qe),Qe.ref=co(je,Se,Fe),Qe.return=je,Qe)}function He(je,Se,Fe,Qe){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Fe.containerInfo||Se.stateNode.implementation!==Fe.implementation?(Se=jx(Fe,je.mode,Qe),Se.return=je,Se):(Se=L(Se,Fe.children||[]),Se.return=je,Se)}function lt(je,Se,Fe,Qe,St){return Se===null||Se.tag!==7?(Se=Zu(Fe,je.mode,Qe,St),Se.return=je,Se):(Se=L(Se,Fe),Se.return=je,Se)}function zt(je,Se,Fe){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=Cx(""+Se,je.mode,Fe),Se.return=je,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:return Fe=nm(Se.type,Se.key,Se.props,null,je.mode,Fe),Fe.ref=co(je,null,Se),Fe.return=je,Fe;case c:return Se=jx(Se,je.mode,Fe),Se.return=je,Se;case w:var Qe=Se._init;return zt(je,Qe(Se._payload),Fe)}if(Z(Se)||I(Se))return Se=Zu(Se,je.mode,Fe,null),Se.return=je,Se;uo(je,Se)}return null}function Ye(je,Se,Fe,Qe){var St=Se!==null?Se.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return St!==null?null:we(je,Se,""+Fe,Qe);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:return Fe.key===St?Pe(je,Se,Fe,Qe):null;case c:return Fe.key===St?He(je,Se,Fe,Qe):null;case w:return St=Fe._init,Ye(je,Se,St(Fe._payload),Qe)}if(Z(Fe)||I(Fe))return St!==null?null:lt(je,Se,Fe,Qe,null);uo(je,Fe)}return null}function Zn(je,Se,Fe,Qe,St){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return je=je.get(Fe)||null,we(Se,je,""+Qe,St);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case l:return je=je.get(Qe.key===null?Fe:Qe.key)||null,Pe(Se,je,Qe,St);case c:return je=je.get(Qe.key===null?Fe:Qe.key)||null,He(Se,je,Qe,St);case w:var $t=Qe._init;return Zn(je,Se,Fe,$t(Qe._payload),St)}if(Z(Qe)||I(Qe))return je=je.get(Fe)||null,lt(Se,je,Qe,St,null);uo(Se,Qe)}return null}function Dn(je,Se,Fe,Qe){for(var St=null,$t=null,Ut=Se,wn=Se=0,pr=null;Ut!==null&&wn<Fe.length;wn++){Ut.index>wn?(pr=Ut,Ut=null):pr=Ut.sibling;var _n=Ye(je,Ut,Fe[wn],Qe);if(_n===null){Ut===null&&(Ut=pr);break}u&&Ut&&_n.alternate===null&&f(je,Ut),Se=z(_n,Se,wn),$t===null?St=_n:$t.sibling=_n,$t=_n,Ut=pr}if(wn===Fe.length)return v(je,Ut),Re&&A(je,wn),St;if(Ut===null){for(;wn<Fe.length;wn++)Ut=zt(je,Fe[wn],Qe),Ut!==null&&(Se=z(Ut,Se,wn),$t===null?St=Ut:$t.sibling=Ut,$t=Ut);return Re&&A(je,wn),St}for(Ut=C(je,Ut);wn<Fe.length;wn++)pr=Zn(Ut,je,wn,Fe[wn],Qe),pr!==null&&(u&&pr.alternate!==null&&Ut.delete(pr.key===null?wn:pr.key),Se=z(pr,Se,wn),$t===null?St=pr:$t.sibling=pr,$t=pr);return u&&Ut.forEach(function(Oc){return f(je,Oc)}),Re&&A(je,wn),St}function Fs(je,Se,Fe,Qe){var St=I(Fe);if(typeof St!="function")throw Error(a(150));if(Fe=St.call(Fe),Fe==null)throw Error(a(151));for(var $t=St=null,Ut=Se,wn=Se=0,pr=null,_n=Fe.next();Ut!==null&&!_n.done;wn++,_n=Fe.next()){Ut.index>wn?(pr=Ut,Ut=null):pr=Ut.sibling;var Oc=Ye(je,Ut,_n.value,Qe);if(Oc===null){Ut===null&&(Ut=pr);break}u&&Ut&&Oc.alternate===null&&f(je,Ut),Se=z(Oc,Se,wn),$t===null?St=Oc:$t.sibling=Oc,$t=Oc,Ut=pr}if(_n.done)return v(je,Ut),Re&&A(je,wn),St;if(Ut===null){for(;!_n.done;wn++,_n=Fe.next())_n=zt(je,_n.value,Qe),_n!==null&&(Se=z(_n,Se,wn),$t===null?St=_n:$t.sibling=_n,$t=_n);return Re&&A(je,wn),St}for(Ut=C(je,Ut);!_n.done;wn++,_n=Fe.next())_n=Zn(Ut,je,wn,_n.value,Qe),_n!==null&&(u&&_n.alternate!==null&&Ut.delete(_n.key===null?wn:_n.key),Se=z(_n,Se,wn),$t===null?St=_n:$t.sibling=_n,$t=_n);return u&&Ut.forEach(function(IT){return f(je,IT)}),Re&&A(je,wn),St}function Gl(je,Se,Fe,Qe){if(typeof Fe=="object"&&Fe!==null&&Fe.type===d&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:e:{for(var St=Fe.key,$t=Se;$t!==null;){if($t.key===St){if(St=Fe.type,St===d){if($t.tag===7){v(je,$t.sibling),Se=L($t,Fe.props.children),Se.return=je,je=Se;break e}}else if($t.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===w&&ho(St)===$t.type){v(je,$t.sibling),Se=L($t,Fe.props),Se.ref=co(je,$t,Fe),Se.return=je,je=Se;break e}v(je,$t);break}else f(je,$t);$t=$t.sibling}Fe.type===d?(Se=Zu(Fe.props.children,je.mode,Qe,Fe.key),Se.return=je,je=Se):(Qe=nm(Fe.type,Fe.key,Fe.props,null,je.mode,Qe),Qe.ref=co(je,Se,Fe),Qe.return=je,je=Qe)}return ie(je);case c:e:{for($t=Fe.key;Se!==null;){if(Se.key===$t)if(Se.tag===4&&Se.stateNode.containerInfo===Fe.containerInfo&&Se.stateNode.implementation===Fe.implementation){v(je,Se.sibling),Se=L(Se,Fe.children||[]),Se.return=je,je=Se;break e}else{v(je,Se);break}else f(je,Se);Se=Se.sibling}Se=jx(Fe,je.mode,Qe),Se.return=je,je=Se}return ie(je);case w:return $t=Fe._init,Gl(je,Se,$t(Fe._payload),Qe)}if(Z(Fe))return Dn(je,Se,Fe,Qe);if(I(Fe))return Fs(je,Se,Fe,Qe);uo(je,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,Se!==null&&Se.tag===6?(v(je,Se.sibling),Se=L(Se,Fe),Se.return=je,je=Se):(v(je,Se),Se=Cx(Fe,je.mode,Qe),Se.return=je,je=Se),ie(je)):v(je,Se)}return Gl}var Ps=Yo(!0),fo=Yo(!1),wi=Qs(null),ja=null,Ls=null,Ml=null;function Rl(){Ml=Ls=ja=null}function or(u,f,v){Ce?(tn(wi,f._currentValue),f._currentValue=v):(tn(wi,f._currentValue2),f._currentValue2=v)}function ea(u){var f=wi.current;Cn(wi),Ce?u._currentValue=f:u._currentValue2=f}function Qo(u,f,v){for(;u!==null;){var C=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,C!==null&&(C.childLanes|=f)):C!==null&&(C.childLanes&f)!==f&&(C.childLanes|=f),u===v)break;u=u.return}}function po(u,f){ja=u,Ml=Ls=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(Nr=!0),u.firstContext=null)}function Kn(u){var f=Ce?u._currentValue:u._currentValue2;if(Ml!==u)if(u={context:u,memoizedValue:f,next:null},Ls===null){if(ja===null)throw Error(a(308));Ls=u,ja.dependencies={lanes:0,firstContext:u}}else Ls=Ls.next=u;return f}var fs=null;function Fl(u){fs===null?fs=[u]:fs.push(u)}function Cc(u,f,v,C){var L=f.interleaved;return L===null?(v.next=v,Fl(f)):(v.next=L.next,L.next=v),f.interleaved=v,$i(u,C)}function $i(u,f){u.lanes|=f;var v=u.alternate;for(v!==null&&(v.lanes|=f),v=u,u=u.return;u!==null;)u.childLanes|=f,v=u.alternate,v!==null&&(v.childLanes|=f),v=u,u=u.return;return v.tag===3?v.stateNode:null}var Br=!1;function _r(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zr(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function lr(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function cr(u,f,v){var C=u.updateQueue;if(C===null)return null;if(C=C.shared,Rt&2){var L=C.pending;return L===null?f.next=f:(f.next=L.next,L.next=f),C.pending=f,$i(u,v)}return L=C.interleaved,L===null?(f.next=f,Fl(C)):(f.next=L.next,L.next=f),C.interleaved=f,$i(u,v)}function ta(u,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var C=f.lanes;C&=u.pendingLanes,v|=C,f.lanes=v,Pl(u,v)}}function jc(u,f){var v=u.updateQueue,C=u.alternate;if(C!==null&&(C=C.updateQueue,v===C)){var L=null,z=null;if(v=v.firstBaseUpdate,v!==null){do{var ie={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};z===null?L=z=ie:z=z.next=ie,v=v.next}while(v!==null);z===null?L=z=f:z=z.next=f}else L=z=f;v={baseState:C.baseState,firstBaseUpdate:L,lastBaseUpdate:z,shared:C.shared,effects:C.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=f:u.next=f,v.lastBaseUpdate=f}function go(u,f,v,C){var L=u.updateQueue;Br=!1;var z=L.firstBaseUpdate,ie=L.lastBaseUpdate,we=L.shared.pending;if(we!==null){L.shared.pending=null;var Pe=we,He=Pe.next;Pe.next=null,ie===null?z=He:ie.next=He,ie=Pe;var lt=u.alternate;lt!==null&&(lt=lt.updateQueue,we=lt.lastBaseUpdate,we!==ie&&(we===null?lt.firstBaseUpdate=He:we.next=He,lt.lastBaseUpdate=Pe))}if(z!==null){var zt=L.baseState;ie=0,lt=He=Pe=null,we=z;do{var Ye=we.lane,Zn=we.eventTime;if((C&Ye)===Ye){lt!==null&&(lt=lt.next={eventTime:Zn,lane:0,tag:we.tag,payload:we.payload,callback:we.callback,next:null});e:{var Dn=u,Fs=we;switch(Ye=f,Zn=v,Fs.tag){case 1:if(Dn=Fs.payload,typeof Dn=="function"){zt=Dn.call(Zn,zt,Ye);break e}zt=Dn;break e;case 3:Dn.flags=Dn.flags&-65537|128;case 0:if(Dn=Fs.payload,Ye=typeof Dn=="function"?Dn.call(Zn,zt,Ye):Dn,Ye==null)break e;zt=s({},zt,Ye);break e;case 2:Br=!0}}we.callback!==null&&we.lane!==0&&(u.flags|=64,Ye=L.effects,Ye===null?L.effects=[we]:Ye.push(we))}else Zn={eventTime:Zn,lane:Ye,tag:we.tag,payload:we.payload,callback:we.callback,next:null},lt===null?(He=lt=Zn,Pe=zt):lt=lt.next=Zn,ie|=Ye;if(we=we.next,we===null){if(we=L.shared.pending,we===null)break;Ye=we,we=Ye.next,Ye.next=null,L.lastBaseUpdate=Ye,L.shared.pending=null}}while(!0);if(lt===null&&(Pe=zt),L.baseState=Pe,L.firstBaseUpdate=He,L.lastBaseUpdate=lt,f=L.shared.interleaved,f!==null){L=f;do ie|=L.lane,L=L.next;while(L!==f)}else z===null&&(L.shared.lanes=0);zl|=ie,u.lanes=ie,u.memoizedState=zt}}function si(u,f,v){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var C=u[f],L=C.callback;if(L!==null){if(C.callback=null,C=v,typeof L!="function")throw Error(a(191,L));L.call(C)}}}var Jo={},hi=Qs(Jo),Ur=Qs(Jo),Aa=Qs(Jo);function Vr(u){if(u===Jo)throw Error(a(174));return u}function Ol(u,f){tn(Aa,f),tn(Ur,u),tn(hi,Jo),u=pe(f),Cn(hi),tn(hi,u)}function Pa(){Cn(hi),Cn(Ur),Cn(Aa)}function mo(u){var f=Vr(Aa.current),v=Vr(hi.current);f=J(v,u.type,f),v!==f&&(tn(Ur,u),tn(hi,f))}function La(u){Ur.current===u&&(Cn(hi),Cn(Ur))}var xn=Qs(0);function Ta(u){for(var f=u;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||os(v)||Vn(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Ea=[];function xo(){for(var u=0;u<Ea.length;u++){var f=Ea[u];Ce?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Ea.length=0}var Sr=o.ReactCurrentDispatcher,Ts=o.ReactCurrentBatchConfig,Yt=0,kt=null,Wt=null,Qt=null,Es=!1,yo=!1,Ma=0,od=0;function Ki(){throw Error(a(321))}function ld(u,f){if(f===null)return!1;for(var v=0;v<f.length&&v<u.length;v++)if(!br(u[v],f[v]))return!1;return!0}function cd(u,f,v,C,L,z){if(Yt=z,kt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Sr.current=u===null||u.memoizedState===null?y0:Wu,u=v(C,L),yo){z=0;do{if(yo=!1,Ma=0,25<=z)throw Error(a(301));z+=1,Qt=Wt=null,f.updateQueue=null,Sr.current=_x,u=v(C,L)}while(yo)}if(Sr.current=Pc,f=Wt!==null&&Wt.next!==null,Yt=0,Qt=Wt=kt=null,Es=!1,f)throw Error(a(300));return u}function ud(){var u=Ma!==0;return Ma=0,u}function na(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?kt.memoizedState=Qt=u:Qt=Qt.next=u,Qt}function ps(){if(Wt===null){var u=kt.alternate;u=u!==null?u.memoizedState:null}else u=Wt.next;var f=Qt===null?kt.memoizedState:Qt.next;if(f!==null)Qt=f,Wt=u;else{if(u===null)throw Error(a(310));Wt=u,u={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Qt===null?kt.memoizedState=Qt=u:Qt=Qt.next=u}return Qt}function vo(u,f){return typeof f=="function"?f(u):f}function hd(u){var f=ps(),v=f.queue;if(v===null)throw Error(a(311));v.lastRenderedReducer=u;var C=Wt,L=C.baseQueue,z=v.pending;if(z!==null){if(L!==null){var ie=L.next;L.next=z.next,z.next=ie}C.baseQueue=L=z,v.pending=null}if(L!==null){z=L.next,C=C.baseState;var we=ie=null,Pe=null,He=z;do{var lt=He.lane;if((Yt&lt)===lt)Pe!==null&&(Pe=Pe.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),C=He.hasEagerState?He.eagerState:u(C,He.action);else{var zt={lane:lt,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Pe===null?(we=Pe=zt,ie=C):Pe=Pe.next=zt,kt.lanes|=lt,zl|=lt}He=He.next}while(He!==null&&He!==z);Pe===null?ie=C:Pe.next=we,br(C,f.memoizedState)||(Nr=!0),f.memoizedState=C,f.baseState=ie,f.baseQueue=Pe,v.lastRenderedState=C}if(u=v.interleaved,u!==null){L=u;do z=L.lane,kt.lanes|=z,zl|=z,L=L.next;while(L!==u)}else L===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function dd(u){var f=ps(),v=f.queue;if(v===null)throw Error(a(311));v.lastRenderedReducer=u;var C=v.dispatch,L=v.pending,z=f.memoizedState;if(L!==null){v.pending=null;var ie=L=L.next;do z=u(z,ie.action),ie=ie.next;while(ie!==L);br(z,f.memoizedState)||(Nr=!0),f.memoizedState=z,f.baseQueue===null&&(f.baseState=z),v.lastRenderedState=z}return[z,C]}function c0(){}function u0(u,f){var v=kt,C=ps(),L=f(),z=!br(C.memoizedState,L);if(z&&(C.memoizedState=L,Nr=!0),C=C.queue,Ac(f0.bind(null,v,C,u),[u]),C.getSnapshot!==f||z||Qt!==null&&Qt.memoizedState.tag&1){if(v.flags|=2048,Xi(9,d0.bind(null,v,C,L,f),void 0,null),Mn===null)throw Error(a(349));Yt&30||h0(v,f,L)}return L}function h0(u,f,v){u.flags|=16384,u={getSnapshot:f,value:v},f=kt.updateQueue,f===null?(f={lastEffect:null,stores:null},kt.updateQueue=f,f.stores=[u]):(v=f.stores,v===null?f.stores=[u]:v.push(u))}function d0(u,f,v,C){f.value=v,f.getSnapshot=C,p0(f)&&fd(u)}function f0(u,f,v){return v(function(){p0(f)&&fd(u)})}function p0(u){var f=u.getSnapshot;u=u.value;try{var v=f();return!br(u,v)}catch{return!0}}function fd(u){var f=$i(u,1);f!==null&&Rs(f,u,1,-1)}function Uu(u){var f=na();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:u},f.queue=u,u=u.dispatch=wx.bind(null,kt,u),[f.memoizedState,u]}function Xi(u,f,v,C){return u={tag:u,create:f,destroy:v,deps:C,next:null},f=kt.updateQueue,f===null?(f={lastEffect:null,stores:null},kt.updateQueue=f,f.lastEffect=u.next=u):(v=f.lastEffect,v===null?f.lastEffect=u.next=u:(C=v.next,v.next=u,u.next=C,f.lastEffect=u)),u}function gs(){return ps().memoizedState}function Dl(u,f,v,C){var L=na();kt.flags|=u,L.memoizedState=Xi(1|f,v,void 0,C===void 0?null:C)}function Il(u,f,v,C){var L=ps();C=C===void 0?null:C;var z=void 0;if(Wt!==null){var ie=Wt.memoizedState;if(z=ie.destroy,C!==null&&ld(C,ie.deps)){L.memoizedState=Xi(f,v,z,C);return}}kt.flags|=u,L.memoizedState=Xi(1|f,v,z,C)}function g0(u,f){return Dl(8390656,8,u,f)}function Ac(u,f){return Il(2048,8,u,f)}function Vu(u,f){return Il(4,2,u,f)}function pd(u,f){return Il(4,4,u,f)}function m0(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function gd(u,f,v){return v=v!=null?v.concat([u]):null,Il(4,4,m0.bind(null,f,u),v)}function Hu(){}function Gu(u,f){var v=ps();f=f===void 0?null:f;var C=v.memoizedState;return C!==null&&f!==null&&ld(f,C[1])?C[0]:(v.memoizedState=[u,f],u)}function md(u,f){var v=ps();f=f===void 0?null:f;var C=v.memoizedState;return C!==null&&f!==null&&ld(f,C[1])?C[0]:(u=u(),v.memoizedState=[u,f],u)}function Dg(u,f,v){return Yt&21?(br(v,f)||(v=Du(),kt.lanes|=v,zl|=v,u.baseState=!0),f):(u.baseState&&(u.baseState=!1,Nr=!0),u.memoizedState=v)}function vx(u,f){var v=sn;sn=v!==0&&4>v?v:4,u(!0);var C=Ts.transition;Ts.transition={};try{u(!1),f()}finally{sn=v,Ts.transition=C}}function x0(){return ps().memoizedState}function bx(u,f,v){var C=So(u);if(v={lane:C,action:v,hasEagerState:!1,eagerState:null,next:null},Ig(u))Bg(f,v);else if(v=Cc(u,f,v,C),v!==null){var L=Zi();Rs(v,u,C,L),zg(v,f,C)}}function wx(u,f,v){var C=So(u),L={lane:C,action:v,hasEagerState:!1,eagerState:null,next:null};if(Ig(u))Bg(f,L);else{var z=u.alternate;if(u.lanes===0&&(z===null||z.lanes===0)&&(z=f.lastRenderedReducer,z!==null))try{var ie=f.lastRenderedState,we=z(ie,v);if(L.hasEagerState=!0,L.eagerState=we,br(we,ie)){var Pe=f.interleaved;Pe===null?(L.next=L,Fl(f)):(L.next=Pe.next,Pe.next=L),f.interleaved=L;return}}catch{}finally{}v=Cc(u,f,L,C),v!==null&&(L=Zi(),Rs(v,u,C,L),zg(v,f,C))}}function Ig(u){var f=u.alternate;return u===kt||f!==null&&f===kt}function Bg(u,f){yo=Es=!0;var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}function zg(u,f,v){if(v&4194240){var C=f.lanes;C&=u.pendingLanes,v|=C,f.lanes=v,Pl(u,v)}}var Pc={readContext:Kn,useCallback:Ki,useContext:Ki,useEffect:Ki,useImperativeHandle:Ki,useInsertionEffect:Ki,useLayoutEffect:Ki,useMemo:Ki,useReducer:Ki,useRef:Ki,useState:Ki,useDebugValue:Ki,useDeferredValue:Ki,useTransition:Ki,useMutableSource:Ki,useSyncExternalStore:Ki,useId:Ki,unstable_isNewReconciler:!1},y0={readContext:Kn,useCallback:function(u,f){return na().memoizedState=[u,f===void 0?null:f],u},useContext:Kn,useEffect:g0,useImperativeHandle:function(u,f,v){return v=v!=null?v.concat([u]):null,Dl(4194308,4,m0.bind(null,f,u),v)},useLayoutEffect:function(u,f){return Dl(4194308,4,u,f)},useInsertionEffect:function(u,f){return Dl(4,2,u,f)},useMemo:function(u,f){var v=na();return f=f===void 0?null:f,u=u(),v.memoizedState=[u,f],u},useReducer:function(u,f,v){var C=na();return f=v!==void 0?v(f):f,C.memoizedState=C.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},C.queue=u,u=u.dispatch=bx.bind(null,kt,u),[C.memoizedState,u]},useRef:function(u){var f=na();return u={current:u},f.memoizedState=u},useState:Uu,useDebugValue:Hu,useDeferredValue:function(u){return na().memoizedState=u},useTransition:function(){var u=Uu(!1),f=u[0];return u=vx.bind(null,u[1]),na().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,v){var C=kt,L=na();if(Re){if(v===void 0)throw Error(a(407));v=v()}else{if(v=f(),Mn===null)throw Error(a(349));Yt&30||h0(C,f,v)}L.memoizedState=v;var z={value:v,getSnapshot:f};return L.queue=z,g0(f0.bind(null,C,z,u),[u]),C.flags|=2048,Xi(9,d0.bind(null,C,z,v,f),void 0,null),v},useId:function(){var u=na(),f=Mn.identifierPrefix;if(Re){var v=As,C=wr;v=(C&~(1<<32-us(C)-1)).toString(32)+v,f=":"+f+"R"+v,v=Ma++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=od++,f=":"+f+"r"+v.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},Wu={readContext:Kn,useCallback:Gu,useContext:Kn,useEffect:Ac,useImperativeHandle:gd,useInsertionEffect:Vu,useLayoutEffect:pd,useMemo:md,useReducer:hd,useRef:gs,useState:function(){return hd(vo)},useDebugValue:Hu,useDeferredValue:function(u){var f=ps();return Dg(f,Wt.memoizedState,u)},useTransition:function(){var u=hd(vo)[0],f=ps().memoizedState;return[u,f]},useMutableSource:c0,useSyncExternalStore:u0,useId:x0,unstable_isNewReconciler:!1},_x={readContext:Kn,useCallback:Gu,useContext:Kn,useEffect:Ac,useImperativeHandle:gd,useInsertionEffect:Vu,useLayoutEffect:pd,useMemo:md,useReducer:dd,useRef:gs,useState:function(){return dd(vo)},useDebugValue:Hu,useDeferredValue:function(u){var f=ps();return Wt===null?f.memoizedState=u:Dg(f,Wt.memoizedState,u)},useTransition:function(){var u=dd(vo)[0],f=ps().memoizedState;return[u,f]},useMutableSource:c0,useSyncExternalStore:u0,useId:x0,unstable_isNewReconciler:!1};function ia(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var v in u)f[v]===void 0&&(f[v]=u[v]);return f}return f}function xd(u,f,v,C){f=u.memoizedState,v=v(C,f),v=v==null?f:s({},f,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var yd={isMounted:function(u){return(u=u._reactInternals)?B(u)===u:!1},enqueueSetState:function(u,f,v){u=u._reactInternals;var C=Zi(),L=So(u),z=lr(C,L);z.payload=f,v!=null&&(z.callback=v),f=cr(u,z,L),f!==null&&(Rs(f,u,L,C),ta(f,u,L))},enqueueReplaceState:function(u,f,v){u=u._reactInternals;var C=Zi(),L=So(u),z=lr(C,L);z.tag=1,z.payload=f,v!=null&&(z.callback=v),f=cr(u,z,L),f!==null&&(Rs(f,u,L,C),ta(f,u,L))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var v=Zi(),C=So(u),L=lr(v,C);L.tag=2,f!=null&&(L.callback=f),f=cr(u,L,C),f!==null&&(Rs(f,u,C,v),ta(f,u,C))}};function Ug(u,f,v,C,L,z,ie){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(C,z,ie):f.prototype&&f.prototype.isPureReactComponent?!Ir(v,C)||!Ir(L,z):!0}function Vg(u,f,v){var C=!1,L=ls,z=f.contextType;return typeof z=="object"&&z!==null?z=Kn(z):(L=Ei(f)?_a:Gi.current,C=f.contextTypes,z=(C=C!=null)?vr(u,L):ls),f=new f(v,z),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yd,u.stateNode=f,f._reactInternals=u,C&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=L,u.__reactInternalMemoizedMaskedChildContext=z),f}function Hg(u,f,v,C){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,C),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,C),f.state!==u&&yd.enqueueReplaceState(f,f.state,null)}function Ra(u,f,v,C){var L=u.stateNode;L.props=v,L.state=u.memoizedState,L.refs={},_r(u);var z=f.contextType;typeof z=="object"&&z!==null?L.context=Kn(z):(z=Ei(f)?_a:Gi.current,L.context=vr(u,z)),L.state=u.memoizedState,z=f.getDerivedStateFromProps,typeof z=="function"&&(xd(u,f,z,v),L.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(f=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),f!==L.state&&yd.enqueueReplaceState(L,L.state,null),go(u,v,L,C),L.state=u.memoizedState),typeof L.componentDidMount=="function"&&(u.flags|=4194308)}function ur(u,f){try{var v="",C=f;do v+=lo(C),C=C.return;while(C);var L=v}catch(z){L=`
Error generating stack: `+z.message+`
`+z.stack}return{value:u,source:f,stack:L,digest:null}}function ra(u,f,v){return{value:u,source:null,stack:v??null,digest:f??null}}function v0(u,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var Gg=typeof WeakMap=="function"?WeakMap:Map;function bo(u,f,v){v=lr(-1,v),v.tag=3,v.payload={element:null};var C=f.value;return v.callback=function(){Yu||(Yu=!0,Ec=C),v0(u,f)},v}function ms(u,f,v){v=lr(-1,v),v.tag=3;var C=u.type.getDerivedStateFromError;if(typeof C=="function"){var L=f.value;v.payload=function(){return C(L)},v.callback=function(){v0(u,f)}}var z=u.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(v.callback=function(){v0(u,f),typeof C!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var ie=f.stack;this.componentDidCatch(f.value,{componentStack:ie!==null?ie:""})}),v}function Wg(u,f,v){var C=u.pingCache;if(C===null){C=u.pingCache=new Gg;var L=new Set;C.set(f,L)}else L=C.get(f),L===void 0&&(L=new Set,C.set(f,L));L.has(v)||(L.add(v),u=LT.bind(null,u,f,v),f.then(u,u))}function qg(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function b0(u,f,v,C,L){return u.mode&1?(u.flags|=65536,u.lanes=L,u):(u===f?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=lr(-1,1),f.tag=2,cr(v,f,1))),v.lanes|=1),u)}var $g=o.ReactCurrentOwner,Nr=!1;function hr(u,f,v,C){f.child=u===null?fo(f,null,v,C):Ps(f,u.child,v,C)}function Kg(u,f,v,C,L){v=v.render;var z=f.ref;return po(f,L),C=cd(u,f,v,C,z,L),v=ud(),u!==null&&!Nr?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~L,T(u,f,L)):(Re&&v&&ue(f),f.flags|=1,hr(u,f,C,L),f.child)}function qu(u,f,v,C,L){if(u===null){var z=v.type;return typeof z=="function"&&!kx(z)&&z.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=z,$u(u,f,z,C,L)):(u=nm(v.type,null,C,f,f.mode,L),u.ref=f.ref,u.return=f,f.child=u)}if(z=u.child,!(u.lanes&L)){var ie=z.memoizedProps;if(v=v.compare,v=v!==null?v:Ir,v(ie,C)&&u.ref===f.ref)return T(u,f,L)}return f.flags|=1,u=Fc(z,C),u.ref=f.ref,u.return=f,f.child=u}function $u(u,f,v,C,L){if(u!==null){var z=u.memoizedProps;if(Ir(z,C)&&u.ref===f.ref)if(Nr=!1,f.pendingProps=C=z,(u.lanes&L)!==0)u.flags&131072&&(Nr=!0);else return f.lanes=u.lanes,T(u,f,L)}return w0(u,f,v,C,L)}function Lc(u,f,v){var C=f.pendingProps,L=C.children,z=u!==null?u.memoizedState:null;if(C.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn(wo,Ar),Ar|=v;else{if(!(v&1073741824))return u=z!==null?z.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,tn(wo,Ar),Ar|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=z!==null?z.baseLanes:v,tn(wo,Ar),Ar|=C}else z!==null?(C=z.baseLanes|v,f.memoizedState=null):C=v,tn(wo,Ar),Ar|=C;return hr(u,f,L,v),f.child}function vd(u,f){var v=f.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function w0(u,f,v,C,L){var z=Ei(v)?_a:Gi.current;return z=vr(f,z),po(f,L),v=cd(u,f,v,C,z,L),C=ud(),u!==null&&!Nr?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~L,T(u,f,L)):(Re&&C&&ue(f),f.flags|=1,hr(u,f,v,L),f.child)}function _0(u,f,v,C,L){if(Ei(v)){var z=!0;ks(f)}else z=!1;if(po(f,L),f.stateNode===null)_(u,f),Vg(f,v,C),Ra(f,v,C,L),C=!0;else if(u===null){var ie=f.stateNode,we=f.memoizedProps;ie.props=we;var Pe=ie.context,He=v.contextType;typeof He=="object"&&He!==null?He=Kn(He):(He=Ei(v)?_a:Gi.current,He=vr(f,He));var lt=v.getDerivedStateFromProps,zt=typeof lt=="function"||typeof ie.getSnapshotBeforeUpdate=="function";zt||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(we!==C||Pe!==He)&&Hg(f,ie,C,He),Br=!1;var Ye=f.memoizedState;ie.state=Ye,go(f,C,ie,L),Pe=f.memoizedState,we!==C||Ye!==Pe||cn.current||Br?(typeof lt=="function"&&(xd(f,v,lt,C),Pe=f.memoizedState),(we=Br||Ug(f,v,we,C,Ye,Pe,He))?(zt||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount()),typeof ie.componentDidMount=="function"&&(f.flags|=4194308)):(typeof ie.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=C,f.memoizedState=Pe),ie.props=C,ie.state=Pe,ie.context=He,C=we):(typeof ie.componentDidMount=="function"&&(f.flags|=4194308),C=!1)}else{ie=f.stateNode,zr(u,f),we=f.memoizedProps,He=f.type===f.elementType?we:ia(f.type,we),ie.props=He,zt=f.pendingProps,Ye=ie.context,Pe=v.contextType,typeof Pe=="object"&&Pe!==null?Pe=Kn(Pe):(Pe=Ei(v)?_a:Gi.current,Pe=vr(f,Pe));var Zn=v.getDerivedStateFromProps;(lt=typeof Zn=="function"||typeof ie.getSnapshotBeforeUpdate=="function")||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(we!==zt||Ye!==Pe)&&Hg(f,ie,C,Pe),Br=!1,Ye=f.memoizedState,ie.state=Ye,go(f,C,ie,L);var Dn=f.memoizedState;we!==zt||Ye!==Dn||cn.current||Br?(typeof Zn=="function"&&(xd(f,v,Zn,C),Dn=f.memoizedState),(He=Br||Ug(f,v,He,C,Ye,Dn,Pe)||!1)?(lt||typeof ie.UNSAFE_componentWillUpdate!="function"&&typeof ie.componentWillUpdate!="function"||(typeof ie.componentWillUpdate=="function"&&ie.componentWillUpdate(C,Dn,Pe),typeof ie.UNSAFE_componentWillUpdate=="function"&&ie.UNSAFE_componentWillUpdate(C,Dn,Pe)),typeof ie.componentDidUpdate=="function"&&(f.flags|=4),typeof ie.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof ie.componentDidUpdate!="function"||we===u.memoizedProps&&Ye===u.memoizedState||(f.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||we===u.memoizedProps&&Ye===u.memoizedState||(f.flags|=1024),f.memoizedProps=C,f.memoizedState=Dn),ie.props=C,ie.state=Dn,ie.context=Pe,C=He):(typeof ie.componentDidUpdate!="function"||we===u.memoizedProps&&Ye===u.memoizedState||(f.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||we===u.memoizedProps&&Ye===u.memoizedState||(f.flags|=1024),C=!1)}return S0(u,f,v,C,z,L)}function S0(u,f,v,C,L,z){vd(u,f);var ie=(f.flags&128)!==0;if(!C&&!ie)return L&&Ou(f,v,!1),T(u,f,z);C=f.stateNode,$g.current=f;var we=ie&&typeof v.getDerivedStateFromError!="function"?null:C.render();return f.flags|=1,u!==null&&ie?(f.child=Ps(f,u.child,null,z),f.child=Ps(f,null,we,z)):hr(u,f,we,z),f.memoizedState=C.state,L&&Ou(f,v,!0),f.child}function Xg(u){var f=u.stateNode;f.pendingContext?cs(u,f.pendingContext,f.pendingContext!==f.context):f.context&&cs(u,f.context,!1),Ol(u,f.containerInfo)}function Yg(u,f,v,C,L){return On(),Mi(L),f.flags|=256,hr(u,f,v,C),f.child}var N0={dehydrated:null,treeContext:null,retryLane:0};function k0(u){return{baseLanes:u,cachePool:null,transitions:null}}function Qg(u,f,v){var C=f.pendingProps,L=xn.current,z=!1,ie=(f.flags&128)!==0,we;if((we=ie)||(we=u!==null&&u.memoizedState===null?!1:(L&2)!==0),we?(z=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(L|=1),tn(xn,L&1),u===null)return Fn(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?Vn(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(ie=C.children,u=C.fallback,z?(C=f.mode,z=f.child,ie={mode:"hidden",children:ie},!(C&1)&&z!==null?(z.childLanes=0,z.pendingProps=ie):z=im(ie,C,0,null),u=Zu(u,C,v,null),z.return=f,u.return=f,z.sibling=u,f.child=z,f.child.memoizedState=k0(v),f.memoizedState=N0,u):bd(f,ie));if(L=u.memoizedState,L!==null&&(we=L.dehydrated,we!==null))return Sx(u,f,ie,C,we,L,v);if(z){z=C.fallback,ie=f.mode,L=u.child,we=L.sibling;var Pe={mode:"hidden",children:C.children};return!(ie&1)&&f.child!==L?(C=f.child,C.childLanes=0,C.pendingProps=Pe,f.deletions=null):(C=Fc(L,Pe),C.subtreeFlags=L.subtreeFlags&14680064),we!==null?z=Fc(we,z):(z=Zu(z,ie,v,null),z.flags|=2),z.return=f,C.return=f,C.sibling=z,f.child=C,C=z,z=f.child,ie=u.child.memoizedState,ie=ie===null?k0(v):{baseLanes:ie.baseLanes|v,cachePool:null,transitions:ie.transitions},z.memoizedState=ie,z.childLanes=u.childLanes&~v,f.memoizedState=N0,C}return z=u.child,u=z.sibling,C=Fc(z,{mode:"visible",children:C.children}),!(f.mode&1)&&(C.lanes=v),C.return=f,C.sibling=null,u!==null&&(v=f.deletions,v===null?(f.deletions=[u],f.flags|=16):v.push(u)),f.child=C,f.memoizedState=null,C}function bd(u,f){return f=im({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function Bl(u,f,v,C){return C!==null&&Mi(C),Ps(f,u.child,null,v),u=bd(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function Sx(u,f,v,C,L,z,ie){if(v)return f.flags&256?(f.flags&=-257,C=ra(Error(a(422))),Bl(u,f,ie,C)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(z=C.fallback,L=f.mode,C=im({mode:"visible",children:C.children},L,0,null),z=Zu(z,L,ie,null),z.flags|=2,C.return=f,z.return=f,C.sibling=z,f.child=C,f.mode&1&&Ps(f,u.child,null,ie),f.child.memoizedState=k0(ie),f.memoizedState=N0,z);if(!(f.mode&1))return Bl(u,f,ie,null);if(Vn(L))return C=Hi(L).digest,z=Error(a(419)),C=ra(z,C,void 0),Bl(u,f,ie,C);if(v=(ie&u.childLanes)!==0,Nr||v){if(C=Mn,C!==null){switch(ie&-ie){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=L&(C.suspendedLanes|ie)?0:L,L!==0&&L!==z.retryLane&&(z.retryLane=L,$i(u,L),Rs(C,u,L,-1))}return Ba(),C=ra(Error(a(421))),Bl(u,f,ie,C)}return os(L)?(f.flags|=128,f.child=u.child,f=TT.bind(null,u),qi(L,f),null):(u=z.treeContext,ze&&(Ee=ba(L),ve=f,Re=!0,Xe=null,nt=!1,u!==null&&(yi[vi++]=wr,yi[vi++]=As,yi[vi++]=Ca,wr=u.id,As=u.overflow,Ca=f)),f=bd(f,C.children),f.flags|=4096,f)}function Jg(u,f,v){u.lanes|=f;var C=u.alternate;C!==null&&(C.lanes|=f),Qo(u.return,f,v)}function wd(u,f,v,C,L){var z=u.memoizedState;z===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:C,tail:v,tailMode:L}:(z.isBackwards=f,z.rendering=null,z.renderingStartTime=0,z.last=C,z.tail=v,z.tailMode=L)}function x(u,f,v){var C=f.pendingProps,L=C.revealOrder,z=C.tail;if(hr(u,f,C.children,v),C=xn.current,C&2)C=C&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Jg(u,v,f);else if(u.tag===19)Jg(u,v,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}C&=1}if(tn(xn,C),!(f.mode&1))f.memoizedState=null;else switch(L){case"forwards":for(v=f.child,L=null;v!==null;)u=v.alternate,u!==null&&Ta(u)===null&&(L=v),v=v.sibling;v=L,v===null?(L=f.child,f.child=null):(L=v.sibling,v.sibling=null),wd(f,!1,L,v,z);break;case"backwards":for(v=null,L=f.child,f.child=null;L!==null;){if(u=L.alternate,u!==null&&Ta(u)===null){f.child=L;break}u=L.sibling,L.sibling=v,v=L,L=u}wd(f,!0,v,null,z);break;case"together":wd(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function _(u,f){!(f.mode&1)&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function T(u,f,v){if(u!==null&&(f.dependencies=u.dependencies),zl|=f.lanes,!(v&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(a(153));if(f.child!==null){for(u=f.child,v=Fc(u,u.pendingProps),f.child=v,v.return=f;u.sibling!==null;)u=u.sibling,v=v.sibling=Fc(u,u.pendingProps),v.return=f;v.sibling=null}return f.child}function D(u,f,v){switch(f.tag){case 3:Xg(f),On();break;case 5:mo(f);break;case 1:Ei(f.type)&&ks(f);break;case 4:Ol(f,f.stateNode.containerInfo);break;case 10:or(f,f.type._context,f.memoizedProps.value);break;case 13:var C=f.memoizedState;if(C!==null)return C.dehydrated!==null?(tn(xn,xn.current&1),f.flags|=128,null):v&f.child.childLanes?Qg(u,f,v):(tn(xn,xn.current&1),u=T(u,f,v),u!==null?u.sibling:null);tn(xn,xn.current&1);break;case 19:if(C=(v&f.childLanes)!==0,u.flags&128){if(C)return x(u,f,v);f.flags|=128}var L=f.memoizedState;if(L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),tn(xn,xn.current),C)break;return null;case 22:case 23:return f.lanes=0,Lc(u,f,v)}return T(u,f,v)}function V(u){u.flags|=4}function $(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var K,Q,ne,le;if(Le)K=function(u,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)F(u,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Q=function(){},ne=function(u,f,v,C,L){if(u=u.memoizedProps,u!==C){var z=f.stateNode,ie=Vr(hi.current);v=re(z,v,u,C,L,ie),(f.updateQueue=v)&&V(f)}},le=function(u,f,v,C){v!==C&&V(f)};else if(Ue){K=function(u,f,v,C){for(var L=f.child;L!==null;){if(L.tag===5){var z=L.stateNode;v&&C&&(z=$s(z,L.type,L.memoizedProps,L)),F(u,z)}else if(L.tag===6)z=L.stateNode,v&&C&&(z=bt(z,L.memoizedProps,L)),F(u,z);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)z=L.child,z!==null&&(z.return=L),K(u,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===f)break;for(;L.sibling===null;){if(L.return===null||L.return===f)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};var me=function(u,f,v,C){for(var L=f.child;L!==null;){if(L.tag===5){var z=L.stateNode;v&&C&&(z=$s(z,L.type,L.memoizedProps,L)),qo(u,z)}else if(L.tag===6)z=L.stateNode,v&&C&&(z=bt(z,L.memoizedProps,L)),qo(u,z);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)z=L.child,z!==null&&(z.return=L),me(u,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===f)break;for(;L.sibling===null;){if(L.return===null||L.return===f)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};Q=function(u,f){var v=f.stateNode;if(!$(u,f)){u=v.containerInfo;var C=pn(u);me(C,f,!1,!1),v.pendingChildren=C,V(f),ar(u,C)}},ne=function(u,f,v,C,L){var z=u.stateNode,ie=u.memoizedProps;if((u=$(u,f))&&ie===C)f.stateNode=z;else{var we=f.stateNode,Pe=Vr(hi.current),He=null;ie!==C&&(He=re(we,v,ie,C,L,Pe)),u&&He===null?f.stateNode=z:(z=_t(z,He,v,ie,C,f,u,we),q(z,v,C,L,Pe)&&V(f),f.stateNode=z,u?V(f):K(z,f,!1,!1))}},le=function(u,f,v,C){v!==C?(u=Vr(Aa.current),v=Vr(hi.current),f.stateNode=de(C,u,v,f),V(f)):f.stateNode=u.stateNode}}else Q=function(){},ne=function(){},le=function(){};function ke(u,f){if(!Re)switch(u.tailMode){case"hidden":f=u.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var C=null;v!==null;)v.alternate!==null&&(C=v),v=v.sibling;C===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:C.sibling=null}}function ae(u){var f=u.alternate!==null&&u.alternate.child===u.child,v=0,C=0;if(f)for(var L=u.child;L!==null;)v|=L.lanes|L.childLanes,C|=L.subtreeFlags&14680064,C|=L.flags&14680064,L.return=u,L=L.sibling;else for(L=u.child;L!==null;)v|=L.lanes|L.childLanes,C|=L.subtreeFlags,C|=L.flags,L.return=u,L=L.sibling;return u.subtreeFlags|=C,u.childLanes=v,f}function ye(u,f,v){var C=f.pendingProps;switch(ge(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(f),null;case 1:return Ei(f.type)&&Nl(),ae(f),null;case 3:return v=f.stateNode,Pa(),Cn(cn),Cn(Gi),xo(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(u===null||u.child===null)&&(Sn(f)?V(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Xe!==null&&(kd(Xe),Xe=null))),Q(u,f),ae(f),null;case 5:La(f),v=Vr(Aa.current);var L=f.type;if(u!==null&&f.stateNode!=null)ne(u,f,L,C,v),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!C){if(f.stateNode===null)throw Error(a(166));return ae(f),null}if(u=Vr(hi.current),Sn(f)){if(!ze)throw Error(a(175));u=Xs(f.stateNode,f.type,f.memoizedProps,v,u,f,!nt),f.updateQueue=u,u!==null&&V(f)}else{var z=se(L,C,v,u,f);K(z,f,!1,!1),f.stateNode=z,q(z,L,C,v,u)&&V(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ae(f),null;case 6:if(u&&f.stateNode!=null)le(u,f,u.memoizedProps,C);else{if(typeof C!="string"&&f.stateNode===null)throw Error(a(166));if(u=Vr(Aa.current),v=Vr(hi.current),Sn(f)){if(!ze)throw Error(a(176));if(u=f.stateNode,v=f.memoizedProps,(C=Ys(u,v,f,!nt))&&(L=ve,L!==null))switch(L.tag){case 3:n0(L.stateNode.containerInfo,u,v,(L.mode&1)!==0);break;case 5:Fu(L.type,L.memoizedProps,L.stateNode,u,v,(L.mode&1)!==0)}C&&V(f)}else f.stateNode=de(C,u,v,f)}return ae(f),null;case 13:if(Cn(xn),C=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Re&&Ee!==null&&f.mode&1&&!(f.flags&128))bi(),On(),f.flags|=98560,L=!1;else if(L=Sn(f),C!==null&&C.dehydrated!==null){if(u===null){if(!L)throw Error(a(318));if(!ze)throw Error(a(344));if(L=f.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(a(317));Ns(L,f)}else On(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;ae(f),L=!1}else Xe!==null&&(kd(Xe),Xe=null),L=!0;if(!L)return f.flags&65536?f:null}return f.flags&128?(f.lanes=v,f):(v=C!==null,v!==(u!==null&&u.memoizedState!==null)&&v&&(f.child.flags|=8192,f.mode&1&&(u===null||xn.current&1?Jn===0&&(Jn=3):Ba())),f.updateQueue!==null&&(f.flags|=4),ae(f),null);case 4:return Pa(),Q(u,f),u===null&&te(f.stateNode.containerInfo),ae(f),null;case 10:return ea(f.type._context),ae(f),null;case 17:return Ei(f.type)&&Nl(),ae(f),null;case 19:if(Cn(xn),L=f.memoizedState,L===null)return ae(f),null;if(C=(f.flags&128)!==0,z=L.rendering,z===null)if(C)ke(L,!1);else{if(Jn!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(z=Ta(u),z!==null){for(f.flags|=128,ke(L,!1),u=z.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=v,v=f.child;v!==null;)C=v,L=u,C.flags&=14680066,z=C.alternate,z===null?(C.childLanes=0,C.lanes=L,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=z.childLanes,C.lanes=z.lanes,C.child=z.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=z.memoizedProps,C.memoizedState=z.memoizedState,C.updateQueue=z.updateQueue,C.type=z.type,L=z.dependencies,C.dependencies=L===null?null:{lanes:L.lanes,firstContext:L.firstContext}),v=v.sibling;return tn(xn,xn.current&1|2),f.child}u=u.sibling}L.tail!==null&&En()>_d&&(f.flags|=128,C=!0,ke(L,!1),f.lanes=4194304)}else{if(!C)if(u=Ta(z),u!==null){if(f.flags|=128,C=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),ke(L,!0),L.tail===null&&L.tailMode==="hidden"&&!z.alternate&&!Re)return ae(f),null}else 2*En()-L.renderingStartTime>_d&&v!==1073741824&&(f.flags|=128,C=!0,ke(L,!1),f.lanes=4194304);L.isBackwards?(z.sibling=f.child,f.child=z):(u=L.last,u!==null?u.sibling=z:f.child=z,L.last=z)}return L.tail!==null?(f=L.tail,L.rendering=f,L.tail=f.sibling,L.renderingStartTime=En(),f.sibling=null,u=xn.current,tn(xn,C?u&1|2:u&1),f):(ae(f),null);case 22:case 23:return Qu(),v=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==v&&(f.flags|=8192),v&&f.mode&1?Ar&1073741824&&(ae(f),Le&&f.subtreeFlags&6&&(f.flags|=8192)):ae(f),null;case 24:return null;case 25:return null}throw Error(a(156,f.tag))}function Ne(u,f){switch(ge(f),f.tag){case 1:return Ei(f.type)&&Nl(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Pa(),Cn(cn),Cn(Gi),xo(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return La(f),null;case 13:if(Cn(xn),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(a(340));On()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Cn(xn),null;case 4:return Pa(),null;case 10:return ea(f.type._context),null;case 22:case 23:return Qu(),null;case 24:return null;default:return null}}var Me=!1,_e=!1,Oe=typeof WeakSet=="function"?WeakSet:Set,be=null;function Be(u,f){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(C){ai(u,f,C)}else v.current=null}function De(u,f,v){try{v()}catch(C){ai(u,f,C)}}var dt=!1;function rt(u,f){for(ee(u.containerInfo),be=f;be!==null;)if(u=be,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,be=f;else for(;be!==null;){u=be;try{var v=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var C=v.memoizedProps,L=v.memoizedState,z=u.stateNode,ie=z.getSnapshotBeforeUpdate(u.elementType===u.type?C:ia(u.type,C),L);z.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:Le&&qt(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(we){ai(u,u.return,we)}if(f=u.sibling,f!==null){f.return=u.return,be=f;break}be=u.return}return v=dt,dt=!1,v}function Tt(u,f,v){var C=f.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var L=C=C.next;do{if((L.tag&u)===u){var z=L.destroy;L.destroy=void 0,z!==void 0&&De(f,v,z)}L=L.next}while(L!==C)}}function st(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&u)===u){var C=v.create;v.destroy=C()}v=v.next}while(v!==f)}}function Xt(u){var f=u.ref;if(f!==null){var v=u.stateNode;switch(u.tag){case 5:u=ce(v);break;default:u=v}typeof f=="function"?f(u):f.current=u}}function _i(u){var f=u.alternate;f!==null&&(u.alternate=null,_i(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&vt(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function It(u){return u.tag===5||u.tag===3||u.tag===4}function ot(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||It(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function qe(u,f,v){var C=u.tag;if(C===5||C===6)u=u.stateNode,f?Ht(v,u,f):et(v,u);else if(C!==4&&(u=u.child,u!==null))for(qe(u,f,v),u=u.sibling;u!==null;)qe(u,f,v),u=u.sibling}function Xn(u,f,v){var C=u.tag;if(C===5||C===6)u=u.stateNode,f?en(v,u,f):xt(v,u);else if(C!==4&&(u=u.child,u!==null))for(Xn(u,f,v),u=u.sibling;u!==null;)Xn(u,f,v),u=u.sibling}var ft=null,Mt=!1;function an(u,f,v){for(v=v.child;v!==null;)Ri(u,f,v),v=v.sibling}function Ri(u,f,v){if(Cs&&typeof Cs.onCommitFiberUnmount=="function")try{Cs.onCommitFiberUnmount(Na,v)}catch{}switch(v.tag){case 5:_e||Be(v,f);case 6:if(Le){var C=ft,L=Mt;ft=null,an(u,f,v),ft=C,Mt=L,ft!==null&&(Mt?zn(ft,v.stateNode):Gt(ft,v.stateNode))}else an(u,f,v);break;case 18:Le&&ft!==null&&(Mt?bc(ft,v.stateNode):vc(ft,v.stateNode));break;case 4:Le?(C=ft,L=Mt,ft=v.stateNode.containerInfo,Mt=!0,an(u,f,v),ft=C,Mt=L):(Ue&&(C=v.stateNode.containerInfo,L=pn(C),qs(C,L)),an(u,f,v));break;case 0:case 11:case 14:case 15:if(!_e&&(C=v.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){L=C=C.next;do{var z=L,ie=z.destroy;z=z.tag,ie!==void 0&&(z&2||z&4)&&De(v,f,ie),L=L.next}while(L!==C)}an(u,f,v);break;case 1:if(!_e&&(Be(v,f),C=v.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=v.memoizedProps,C.state=v.memoizedState,C.componentWillUnmount()}catch(we){ai(v,f,we)}an(u,f,v);break;case 21:an(u,f,v);break;case 22:v.mode&1?(_e=(C=_e)||v.memoizedState!==null,an(u,f,v),_e=C):an(u,f,v);break;default:an(u,f,v)}}function dr(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new Oe),f.forEach(function(C){var L=ET.bind(null,u,C);v.has(C)||(v.add(C),C.then(L,L))})}}function dn(u,f){var v=f.deletions;if(v!==null)for(var C=0;C<v.length;C++){var L=v[C];try{var z=u,ie=f;if(Le){var we=ie;e:for(;we!==null;){switch(we.tag){case 5:ft=we.stateNode,Mt=!1;break e;case 3:ft=we.stateNode.containerInfo,Mt=!0;break e;case 4:ft=we.stateNode.containerInfo,Mt=!0;break e}we=we.return}if(ft===null)throw Error(a(160));Ri(z,ie,L),ft=null,Mt=!1}else Ri(z,ie,L);var Pe=L.alternate;Pe!==null&&(Pe.return=null),L.return=null}catch(He){ai(L,f,He)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)Yi(f,u),f=f.sibling}function Yi(u,f){var v=u.alternate,C=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(dn(f,u),Hn(u),C&4){try{Tt(3,u,u.return),st(3,u)}catch(Ye){ai(u,u.return,Ye)}try{Tt(5,u,u.return)}catch(Ye){ai(u,u.return,Ye)}}break;case 1:dn(f,u),Hn(u),C&512&&v!==null&&Be(v,v.return);break;case 5:if(dn(f,u),Hn(u),C&512&&v!==null&&Be(v,v.return),Le){if(u.flags&32){var L=u.stateNode;try{yt(L)}catch(Ye){ai(u,u.return,Ye)}}if(C&4&&(L=u.stateNode,L!=null)){var z=u.memoizedProps;if(v=v!==null?v.memoizedProps:z,C=u.type,f=u.updateQueue,u.updateQueue=null,f!==null)try{jn(L,f,C,v,z,u)}catch(Ye){ai(u,u.return,Ye)}}}break;case 6:if(dn(f,u),Hn(u),C&4&&Le){if(u.stateNode===null)throw Error(a(162));L=u.stateNode,z=u.memoizedProps,v=v!==null?v.memoizedProps:z;try{wt(L,v,z)}catch(Ye){ai(u,u.return,Ye)}}break;case 3:if(dn(f,u),Hn(u),C&4){if(Le&&ze&&v!==null&&v.memoizedState.isDehydrated)try{wa(f.containerInfo)}catch(Ye){ai(u,u.return,Ye)}if(Ue){L=f.containerInfo,z=f.pendingChildren;try{qs(L,z)}catch(Ye){ai(u,u.return,Ye)}}}break;case 4:if(dn(f,u),Hn(u),C&4&&Ue){z=u.stateNode,L=z.containerInfo,z=z.pendingChildren;try{qs(L,z)}catch(Ye){ai(u,u.return,Ye)}}break;case 13:dn(f,u),Hn(u),L=u.child,L.flags&8192&&(z=L.memoizedState!==null,L.stateNode.isHidden=z,!z||L.alternate!==null&&L.alternate.memoizedState!==null||(C0=En())),C&4&&dr(u);break;case 22:var ie=v!==null&&v.memoizedState!==null;if(u.mode&1?(_e=(v=_e)||ie,dn(f,u),_e=v):dn(f,u),Hn(u),C&8192){if(v=u.memoizedState!==null,(u.stateNode.isHidden=v)&&!ie&&u.mode&1)for(be=u,C=u.child;C!==null;){for(f=be=C;be!==null;){ie=be;var we=ie.child;switch(ie.tag){case 0:case 11:case 14:case 15:Tt(4,ie,ie.return);break;case 1:Be(ie,ie.return);var Pe=ie.stateNode;if(typeof Pe.componentWillUnmount=="function"){var He=ie,lt=ie.return;try{var zt=He;Pe.props=zt.memoizedProps,Pe.state=zt.memoizedState,Pe.componentWillUnmount()}catch(Ye){ai(He,lt,Ye)}}break;case 5:Be(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Yn(f);continue}}we!==null?(we.return=ie,be=we):Yn(f)}C=C.sibling}if(Le){e:if(C=null,Le)for(f=u;;){if(f.tag===5){if(C===null){C=f;try{L=f.stateNode,v?Tn(L):Ot(f.stateNode,f.memoizedProps)}catch(Ye){ai(u,u.return,Ye)}}}else if(f.tag===6){if(C===null)try{z=f.stateNode,v?Nt(z):Un(z,f.memoizedProps)}catch(Ye){ai(u,u.return,Ye)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;C===f&&(C=null),f=f.return}C===f&&(C=null),f.sibling.return=f.return,f=f.sibling}}}break;case 19:dn(f,u),Hn(u),C&4&&dr(u);break;case 21:break;default:dn(f,u),Hn(u)}}function Hn(u){var f=u.flags;if(f&2){try{if(Le){e:{for(var v=u.return;v!==null;){if(It(v)){var C=v;break e}v=v.return}throw Error(a(160))}switch(C.tag){case 5:var L=C.stateNode;C.flags&32&&(yt(L),C.flags&=-33);var z=ot(u);Xn(u,z,L);break;case 3:case 4:var ie=C.stateNode.containerInfo,we=ot(u);qe(u,we,ie);break;default:throw Error(a(161))}}}catch(Pe){ai(u,u.return,Pe)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function Fi(u,f,v){be=u,on(u)}function on(u,f,v){for(var C=(u.mode&1)!==0;be!==null;){var L=be,z=L.child;if(L.tag===22&&C){var ie=L.memoizedState!==null||Me;if(!ie){var we=L.alternate,Pe=we!==null&&we.memoizedState!==null||_e;we=Me;var He=_e;if(Me=ie,(_e=Pe)&&!He)for(be=L;be!==null;)ie=be,Pe=ie.child,ie.tag===22&&ie.memoizedState!==null?vn(L):Pe!==null?(Pe.return=ie,be=Pe):vn(L);for(;z!==null;)be=z,on(z),z=z.sibling;be=L,Me=we,_e=He}yn(u)}else L.subtreeFlags&8772&&z!==null?(z.return=L,be=z):yn(u)}}function yn(u){for(;be!==null;){var f=be;if(f.flags&8772){var v=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:_e||st(5,f);break;case 1:var C=f.stateNode;if(f.flags&4&&!_e)if(v===null)C.componentDidMount();else{var L=f.elementType===f.type?v.memoizedProps:ia(f.type,v.memoizedProps);C.componentDidUpdate(L,v.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var z=f.updateQueue;z!==null&&si(f,z,C);break;case 3:var ie=f.updateQueue;if(ie!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=ce(f.child.stateNode);break;case 1:v=f.child.stateNode}si(f,ie,v)}break;case 5:var we=f.stateNode;v===null&&f.flags&4&&tt(we,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(ze&&f.memoizedState===null){var Pe=f.alternate;if(Pe!==null){var He=Pe.memoizedState;if(He!==null){var lt=He.dehydrated;lt!==null&&wl(lt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}_e||f.flags&512&&Xt(f)}catch(zt){ai(f,f.return,zt)}}if(f===u){be=null;break}if(v=f.sibling,v!==null){v.return=f.return,be=v;break}be=f.return}}function Yn(u){for(;be!==null;){var f=be;if(f===u){be=null;break}var v=f.sibling;if(v!==null){v.return=f.return,be=v;break}be=f.return}}function vn(u){for(;be!==null;){var f=be;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{st(4,f)}catch(Pe){ai(f,v,Pe)}break;case 1:var C=f.stateNode;if(typeof C.componentDidMount=="function"){var L=f.return;try{C.componentDidMount()}catch(Pe){ai(f,L,Pe)}}var z=f.return;try{Xt(f)}catch(Pe){ai(f,z,Pe)}break;case 5:var ie=f.return;try{Xt(f)}catch(Pe){ai(f,ie,Pe)}}}catch(Pe){ai(f,f.return,Pe)}if(f===u){be=null;break}var we=f.sibling;if(we!==null){we.return=f.return,be=we;break}be=f.return}}var Si=0,Hr=1,Gn=2,Qi=3,bn=4;if(typeof Symbol=="function"&&Symbol.for){var Qn=Symbol.for;Si=Qn("selector.component"),Hr=Qn("selector.has_pseudo_class"),Gn=Qn("selector.role"),Qi=Qn("selector.test_id"),bn=Qn("selector.text")}function kr(u){var f=Ke(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(a(364));return f}if(u=Ze(u),u===null)throw Error(a(362));return u.stateNode.current}function Ji(u,f){switch(f.$$typeof){case Si:if(u.type===f.value)return!0;break;case Hr:e:{f=f.value,u=[u,0];for(var v=0;v<u.length;){var C=u[v++],L=u[v++],z=f[L];if(C.tag!==5||!We(C)){for(;z!=null&&Ji(C,z);)L++,z=f[L];if(L===f.length){f=!0;break e}else for(C=C.child;C!==null;)u.push(C,L),C=C.sibling}}f=!1}return f;case Gn:if(u.tag===5&&$e(u.stateNode,f.value))return!0;break;case bn:if((u.tag===5||u.tag===6)&&(u=Te(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case Qi:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Cr(u){switch(u.$$typeof){case Si:return"<"+(U(u.value)||"Unknown")+">";case Hr:return":has("+(Cr(u)||"")+")";case Gn:return'[role="'+u.value+'"]';case bn:return'"'+u.value+'"';case Qi:return'[data-testname="'+u.value+'"]';default:throw Error(a(365))}}function Gr(u,f){var v=[];u=[u,0];for(var C=0;C<u.length;){var L=u[C++],z=u[C++],ie=f[z];if(L.tag!==5||!We(L)){for(;ie!=null&&Ji(L,ie);)z++,ie=f[z];if(z===f.length)v.push(L);else for(L=L.child;L!==null;)u.push(L,z),L=L.sibling}}return v}function fr(u,f){if(!Je)throw Error(a(363));u=kr(u),u=Gr(u,f),f=[],u=Array.from(u);for(var v=0;v<u.length;){var C=u[v++];if(C.tag===5)We(C)||f.push(C.stateNode);else for(C=C.child;C!==null;)u.push(C),C=C.sibling}return f}var xs=Math.ceil,Nn=o.ReactCurrentDispatcher,jr=o.ReactCurrentOwner,gn=o.ReactCurrentBatchConfig,Rt=0,Mn=null,Jt=null,Ni=0,Ar=0,wo=Qs(0),Jn=0,Ku=null,zl=0,Tc=0,Fa=0,Xu=null,Wr=null,C0=0,_d=1/0,Ms=null;function Ul(){_d=En()+500}var Yu=!1,Ec=null,Oa=null,Zo=!1,_o=null,Sd=0,el=0,Nd=null,Mc=-1,sa=0;function Zi(){return Rt&6?En():Mc!==-1?Mc:Mc=En()}function So(u){return u.mode&1?Rt&2&&Ni!==0?Ni&-Ni:oo.transition!==null?(sa===0&&(sa=Du()),sa):(u=sn,u!==0?u:Ge()):1}function Rs(u,f,v,C){if(50<el)throw el=0,Nd=null,Error(a(185));jl(u,v,C),(!(Rt&2)||u!==Mn)&&(u===Mn&&(!(Rt&2)&&(Tc|=v),Jn===4&&No(u,Ni)),Pr(u,C),v===1&&Rt===0&&!(f.mode&1)&&(Ul(),Ll&&Dr()))}function Pr(u,f){var v=u.callbackNode;s0(u,f);var C=Sc(u,u===Mn?Ni:0);if(C===0)v!==null&&ad(v),u.callbackNode=null,u.callbackPriority=0;else if(f=C&-C,u.callbackPriority!==f){if(v!=null&&ad(v),f===1)u.tag===0?kc(Zg.bind(null,u)):Nc(Zg.bind(null,u)),ht?Ie(function(){!(Rt&6)&&Dr()}):Iu(Bu,Dr),v=null;else{switch(Pt(C)){case 1:v=Bu;break;case 4:v=o0;break;case 16:v=Xo;break;case 536870912:v=zu;break;default:v=Xo}v=zw(v,Vl.bind(null,u))}u.callbackPriority=f,u.callbackNode=v}}function Vl(u,f){if(Mc=-1,sa=0,Rt&6)throw Error(a(327));var v=u.callbackNode;if(Ju()&&u.callbackNode!==v)return null;var C=Sc(u,u===Mn?Ni:0);if(C===0)return null;if(C&30||C&u.expiredLanes||f)f=Hl(u,C);else{f=C;var L=Rt;Rt|=2;var z=ko();(Mn!==u||Ni!==f)&&(Ms=null,Ul(),Da(u,f));do try{em();break}catch(we){Ia(u,we)}while(!0);Rl(),Nn.current=z,Rt=L,Jt!==null?f=0:(Mn=null,Ni=0,f=Jn)}if(f!==0){if(f===2&&(L=Cl(u),L!==0&&(C=L,f=j0(u,L))),f===1)throw v=Ku,Da(u,0),No(u,C),Pr(u,En()),v;if(f===6)No(u,C);else{if(L=u.current.alternate,!(C&30)&&!Nx(L)&&(f=Hl(u,C),f===2&&(z=Cl(u),z!==0&&(C=z,f=j0(u,z))),f===1))throw v=Ku,Da(u,0),No(u,C),Pr(u,En()),v;switch(u.finishedWork=L,u.finishedLanes=C,f){case 0:case 1:throw Error(a(345));case 2:Co(u,Wr,Ms);break;case 3:if(No(u,C),(C&130023424)===C&&(f=C0+500-En(),10<f)){if(Sc(u,0)!==0)break;if(L=u.suspendedLanes,(L&C)!==C){Zi(),u.pingedLanes|=u.suspendedLanes&L;break}u.timeoutHandle=X(Co.bind(null,u,Wr,Ms),f);break}Co(u,Wr,Ms);break;case 4:if(No(u,C),(C&4194240)===C)break;for(f=u.eventTimes,L=-1;0<C;){var ie=31-us(C);z=1<<ie,ie=f[ie],ie>L&&(L=ie),C&=~z}if(C=L,C=En()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*xs(C/1960))-C,10<C){u.timeoutHandle=X(Co.bind(null,u,Wr,Ms),C);break}Co(u,Wr,Ms);break;case 5:Co(u,Wr,Ms);break;default:throw Error(a(329))}}}return Pr(u,En()),u.callbackNode===v?Vl.bind(null,u):null}function j0(u,f){var v=Xu;return u.current.memoizedState.isDehydrated&&(Da(u,f).flags|=256),u=Hl(u,f),u!==2&&(f=Wr,Wr=v,f!==null&&kd(f)),u}function kd(u){Wr===null?Wr=u:Wr.push.apply(Wr,u)}function Nx(u){for(var f=u;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var C=0;C<v.length;C++){var L=v[C],z=L.getSnapshot;L=L.value;try{if(!br(z(),L))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function No(u,f){for(f&=~Fa,f&=~Tc,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var v=31-us(f),C=1<<v;u[v]=-1,f&=~C}}function Zg(u){if(Rt&6)throw Error(a(327));Ju();var f=Sc(u,0);if(!(f&1))return Pr(u,En()),null;var v=Hl(u,f);if(u.tag!==0&&v===2){var C=Cl(u);C!==0&&(f=C,v=j0(u,C))}if(v===1)throw v=Ku,Da(u,0),No(u,f),Pr(u,En()),v;if(v===6)throw Error(a(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,Co(u,Wr,Ms),Pr(u,En()),null}function Rc(u){_o!==null&&_o.tag===0&&!(Rt&6)&&Ju();var f=Rt;Rt|=1;var v=gn.transition,C=sn;try{if(gn.transition=null,sn=1,u)return u()}finally{sn=C,gn.transition=v,Rt=f,!(Rt&6)&&Dr()}}function Qu(){Ar=wo.current,Cn(wo)}function Da(u,f){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==xe&&(u.timeoutHandle=xe,fe(v)),Jt!==null)for(v=Jt.return;v!==null;){var C=v;switch(ge(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Nl();break;case 3:Pa(),Cn(cn),Cn(Gi),xo();break;case 5:La(C);break;case 4:Pa();break;case 13:Cn(xn);break;case 19:Cn(xn);break;case 10:ea(C.type._context);break;case 22:case 23:Qu()}v=v.return}if(Mn=u,Jt=u=Fc(u.current,null),Ni=Ar=f,Jn=0,Ku=null,Fa=Tc=zl=0,Wr=Xu=null,fs!==null){for(f=0;f<fs.length;f++)if(v=fs[f],C=v.interleaved,C!==null){v.interleaved=null;var L=C.next,z=v.pending;if(z!==null){var ie=z.next;z.next=L,C.next=ie}v.pending=C}fs=null}return u}function Ia(u,f){do{var v=Jt;try{if(Rl(),Sr.current=Pc,Es){for(var C=kt.memoizedState;C!==null;){var L=C.queue;L!==null&&(L.pending=null),C=C.next}Es=!1}if(Yt=0,Qt=Wt=kt=null,yo=!1,Ma=0,jr.current=null,v===null||v.return===null){Jn=1,Ku=f,Jt=null;break}e:{var z=u,ie=v.return,we=v,Pe=f;if(f=Ni,we.flags|=32768,Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var He=Pe,lt=we,zt=lt.tag;if(!(lt.mode&1)&&(zt===0||zt===11||zt===15)){var Ye=lt.alternate;Ye?(lt.updateQueue=Ye.updateQueue,lt.memoizedState=Ye.memoizedState,lt.lanes=Ye.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var Zn=qg(ie);if(Zn!==null){Zn.flags&=-257,b0(Zn,ie,we,z,f),Zn.mode&1&&Wg(z,He,f),f=Zn,Pe=He;var Dn=f.updateQueue;if(Dn===null){var Fs=new Set;Fs.add(Pe),f.updateQueue=Fs}else Dn.add(Pe);break e}else{if(!(f&1)){Wg(z,He,f),Ba();break e}Pe=Error(a(426))}}else if(Re&&we.mode&1){var Gl=qg(ie);if(Gl!==null){!(Gl.flags&65536)&&(Gl.flags|=256),b0(Gl,ie,we,z,f),Mi(ur(Pe,we));break e}}z=Pe=ur(Pe,we),Jn!==4&&(Jn=2),Xu===null?Xu=[z]:Xu.push(z),z=ie;do{switch(z.tag){case 3:z.flags|=65536,f&=-f,z.lanes|=f;var je=bo(z,Pe,f);jc(z,je);break e;case 1:we=Pe;var Se=z.type,Fe=z.stateNode;if(!(z.flags&128)&&(typeof Se.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&(Oa===null||!Oa.has(Fe)))){z.flags|=65536,f&=-f,z.lanes|=f;var Qe=ms(z,we,f);jc(z,Qe);break e}}z=z.return}while(z!==null)}Cd(v)}catch(St){f=St,Jt===v&&v!==null&&(Jt=v=v.return);continue}break}while(!0)}function ko(){var u=Nn.current;return Nn.current=Pc,u===null?Pc:u}function Ba(){(Jn===0||Jn===3||Jn===2)&&(Jn=4),Mn===null||!(zl&268435455)&&!(Tc&268435455)||No(Mn,Ni)}function Hl(u,f){var v=Rt;Rt|=2;var C=ko();(Mn!==u||Ni!==f)&&(Ms=null,Da(u,f));do try{A0();break}catch(L){Ia(u,L)}while(!0);if(Rl(),Rt=v,Nn.current=C,Jt!==null)throw Error(a(261));return Mn=null,Ni=0,Jn}function A0(){for(;Jt!==null;)tm(Jt)}function em(){for(;Jt!==null&&!a0();)tm(Jt)}function tm(u){var f=Bw(u.alternate,u,Ar);u.memoizedProps=u.pendingProps,f===null?Cd(u):Jt=f,jr.current=null}function Cd(u){var f=u;do{var v=f.alternate;if(u=f.return,f.flags&32768){if(v=Ne(v,f),v!==null){v.flags&=32767,Jt=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Jn=6,Jt=null;return}}else if(v=ye(v,f,Ar),v!==null){Jt=v;return}if(f=f.sibling,f!==null){Jt=f;return}Jt=f=u}while(f!==null);Jn===0&&(Jn=5)}function Co(u,f,v){var C=sn,L=gn.transition;try{gn.transition=null,sn=1,PT(u,f,v,C)}finally{gn.transition=L,sn=C}return null}function PT(u,f,v,C){do Ju();while(_o!==null);if(Rt&6)throw Error(a(327));v=u.finishedWork;var L=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(a(177));u.callbackNode=null,u.callbackPriority=0;var z=v.lanes|v.childLanes;if(Al(u,z),u===Mn&&(Jt=Mn=null,Ni=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||Zo||(Zo=!0,zw(Xo,function(){return Ju(),null})),z=(v.flags&15990)!==0,v.subtreeFlags&15990||z){z=gn.transition,gn.transition=null;var ie=sn;sn=1;var we=Rt;Rt|=4,jr.current=null,rt(u,v),Yi(v,u),he(u.containerInfo),u.current=v,Fi(v),so(),Rt=we,sn=ie,gn.transition=z}else u.current=v;if(Zo&&(Zo=!1,_o=u,Sd=L),z=u.pendingLanes,z===0&&(Oa=null),ao(v.stateNode),Pr(u,En()),f!==null)for(C=u.onRecoverableError,v=0;v<f.length;v++)L=f[v],C(L.value,{componentStack:L.stack,digest:L.digest});if(Yu)throw Yu=!1,u=Ec,Ec=null,u;return Sd&1&&u.tag!==0&&Ju(),z=u.pendingLanes,z&1?u===Nd?el++:(el=0,Nd=u):el=0,Dr(),null}function Ju(){if(_o!==null){var u=Pt(Sd),f=gn.transition,v=sn;try{if(gn.transition=null,sn=16>u?16:u,_o===null)var C=!1;else{if(u=_o,_o=null,Sd=0,Rt&6)throw Error(a(331));var L=Rt;for(Rt|=4,be=u.current;be!==null;){var z=be,ie=z.child;if(be.flags&16){var we=z.deletions;if(we!==null){for(var Pe=0;Pe<we.length;Pe++){var He=we[Pe];for(be=He;be!==null;){var lt=be;switch(lt.tag){case 0:case 11:case 15:Tt(8,lt,z)}var zt=lt.child;if(zt!==null)zt.return=lt,be=zt;else for(;be!==null;){lt=be;var Ye=lt.sibling,Zn=lt.return;if(_i(lt),lt===He){be=null;break}if(Ye!==null){Ye.return=Zn,be=Ye;break}be=Zn}}}var Dn=z.alternate;if(Dn!==null){var Fs=Dn.child;if(Fs!==null){Dn.child=null;do{var Gl=Fs.sibling;Fs.sibling=null,Fs=Gl}while(Fs!==null)}}be=z}}if(z.subtreeFlags&2064&&ie!==null)ie.return=z,be=ie;else e:for(;be!==null;){if(z=be,z.flags&2048)switch(z.tag){case 0:case 11:case 15:Tt(9,z,z.return)}var je=z.sibling;if(je!==null){je.return=z.return,be=je;break e}be=z.return}}var Se=u.current;for(be=Se;be!==null;){ie=be;var Fe=ie.child;if(ie.subtreeFlags&2064&&Fe!==null)Fe.return=ie,be=Fe;else e:for(ie=Se;be!==null;){if(we=be,we.flags&2048)try{switch(we.tag){case 0:case 11:case 15:st(9,we)}}catch(St){ai(we,we.return,St)}if(we===ie){be=null;break e}var Qe=we.sibling;if(Qe!==null){Qe.return=we.return,be=Qe;break e}be=we.return}}if(Rt=L,Dr(),Cs&&typeof Cs.onPostCommitFiberRoot=="function")try{Cs.onPostCommitFiberRoot(Na,u)}catch{}C=!0}return C}finally{sn=v,gn.transition=f}}return!1}function Dw(u,f,v){f=ur(v,f),f=bo(u,f,1),u=cr(u,f,1),f=Zi(),u!==null&&(jl(u,1,f),Pr(u,f))}function ai(u,f,v){if(u.tag===3)Dw(u,u,v);else for(;f!==null;){if(f.tag===3){Dw(f,u,v);break}else if(f.tag===1){var C=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Oa===null||!Oa.has(C))){u=ur(v,u),u=ms(f,u,1),f=cr(f,u,1),u=Zi(),f!==null&&(jl(f,1,u),Pr(f,u));break}}f=f.return}}function LT(u,f,v){var C=u.pingCache;C!==null&&C.delete(f),f=Zi(),u.pingedLanes|=u.suspendedLanes&v,Mn===u&&(Ni&v)===v&&(Jn===4||Jn===3&&(Ni&130023424)===Ni&&500>En()-C0?Da(u,0):Fa|=v),Pr(u,f)}function Iw(u,f){f===0&&(u.mode&1?(f=ro,ro<<=1,!(ro&130023424)&&(ro=4194304)):f=1);var v=Zi();u=$i(u,f),u!==null&&(jl(u,f,v),Pr(u,v))}function TT(u){var f=u.memoizedState,v=0;f!==null&&(v=f.retryLane),Iw(u,v)}function ET(u,f){var v=0;switch(u.tag){case 13:var C=u.stateNode,L=u.memoizedState;L!==null&&(v=L.retryLane);break;case 19:C=u.stateNode;break;default:throw Error(a(314))}C!==null&&C.delete(f),Iw(u,v)}var Bw;Bw=function(u,f,v){if(u!==null)if(u.memoizedProps!==f.pendingProps||cn.current)Nr=!0;else{if(!(u.lanes&v)&&!(f.flags&128))return Nr=!1,D(u,f,v);Nr=!!(u.flags&131072)}else Nr=!1,Re&&f.flags&1048576&&H(f,El,f.index);switch(f.lanes=0,f.tag){case 2:var C=f.type;_(u,f),u=f.pendingProps;var L=vr(f,Gi.current);po(f,v),L=cd(null,f,C,u,L,v);var z=ud();return f.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Ei(C)?(z=!0,ks(f)):z=!1,f.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,_r(f),L.updater=yd,f.stateNode=L,L._reactInternals=f,Ra(f,C,u,v),f=S0(null,f,C,!0,z,v)):(f.tag=0,Re&&z&&ue(f),hr(null,f,L,v),f=f.child),f;case 16:C=f.elementType;e:{switch(_(u,f),u=f.pendingProps,L=C._init,C=L(C._payload),f.type=C,L=f.tag=RT(C),u=ia(C,u),L){case 0:f=w0(null,f,C,u,v);break e;case 1:f=_0(null,f,C,u,v);break e;case 11:f=Kg(null,f,C,u,v);break e;case 14:f=qu(null,f,C,ia(C.type,u),v);break e}throw Error(a(306,C,""))}return f;case 0:return C=f.type,L=f.pendingProps,L=f.elementType===C?L:ia(C,L),w0(u,f,C,L,v);case 1:return C=f.type,L=f.pendingProps,L=f.elementType===C?L:ia(C,L),_0(u,f,C,L,v);case 3:e:{if(Xg(f),u===null)throw Error(a(387));C=f.pendingProps,z=f.memoizedState,L=z.element,zr(u,f),go(f,C,null,v);var ie=f.memoizedState;if(C=ie.element,ze&&z.isDehydrated)if(z={element:C,isDehydrated:!1,cache:ie.cache,pendingSuspenseBoundaries:ie.pendingSuspenseBoundaries,transitions:ie.transitions},f.updateQueue.baseState=z,f.memoizedState=z,f.flags&256){L=ur(Error(a(423)),f),f=Yg(u,f,C,v,L);break e}else if(C!==L){L=ur(Error(a(424)),f),f=Yg(u,f,C,v,L);break e}else for(ze&&(Ee=Ks(f.stateNode.containerInfo),ve=f,Re=!0,Xe=null,nt=!1),v=fo(f,null,C,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(On(),C===L){f=T(u,f,v);break e}hr(u,f,C,v)}f=f.child}return f;case 5:return mo(f),u===null&&Fn(f),C=f.type,L=f.pendingProps,z=u!==null?u.memoizedProps:null,ie=L.children,oe(C,L)?ie=null:z!==null&&oe(C,z)&&(f.flags|=32),vd(u,f),hr(u,f,ie,v),f.child;case 6:return u===null&&Fn(f),null;case 13:return Qg(u,f,v);case 4:return Ol(f,f.stateNode.containerInfo),C=f.pendingProps,u===null?f.child=Ps(f,null,C,v):hr(u,f,C,v),f.child;case 11:return C=f.type,L=f.pendingProps,L=f.elementType===C?L:ia(C,L),Kg(u,f,C,L,v);case 7:return hr(u,f,f.pendingProps,v),f.child;case 8:return hr(u,f,f.pendingProps.children,v),f.child;case 12:return hr(u,f,f.pendingProps.children,v),f.child;case 10:e:{if(C=f.type._context,L=f.pendingProps,z=f.memoizedProps,ie=L.value,or(f,C,ie),z!==null)if(br(z.value,ie)){if(z.children===L.children&&!cn.current){f=T(u,f,v);break e}}else for(z=f.child,z!==null&&(z.return=f);z!==null;){var we=z.dependencies;if(we!==null){ie=z.child;for(var Pe=we.firstContext;Pe!==null;){if(Pe.context===C){if(z.tag===1){Pe=lr(-1,v&-v),Pe.tag=2;var He=z.updateQueue;if(He!==null){He=He.shared;var lt=He.pending;lt===null?Pe.next=Pe:(Pe.next=lt.next,lt.next=Pe),He.pending=Pe}}z.lanes|=v,Pe=z.alternate,Pe!==null&&(Pe.lanes|=v),Qo(z.return,v,f),we.lanes|=v;break}Pe=Pe.next}}else if(z.tag===10)ie=z.type===f.type?null:z.child;else if(z.tag===18){if(ie=z.return,ie===null)throw Error(a(341));ie.lanes|=v,we=ie.alternate,we!==null&&(we.lanes|=v),Qo(ie,v,f),ie=z.sibling}else ie=z.child;if(ie!==null)ie.return=z;else for(ie=z;ie!==null;){if(ie===f){ie=null;break}if(z=ie.sibling,z!==null){z.return=ie.return,ie=z;break}ie=ie.return}z=ie}hr(u,f,L.children,v),f=f.child}return f;case 9:return L=f.type,C=f.pendingProps.children,po(f,v),L=Kn(L),C=C(L),f.flags|=1,hr(u,f,C,v),f.child;case 14:return C=f.type,L=ia(C,f.pendingProps),L=ia(C.type,L),qu(u,f,C,L,v);case 15:return $u(u,f,f.type,f.pendingProps,v);case 17:return C=f.type,L=f.pendingProps,L=f.elementType===C?L:ia(C,L),_(u,f),f.tag=1,Ei(C)?(u=!0,ks(f)):u=!1,po(f,v),Vg(f,C,L),Ra(f,C,L,v),S0(null,f,C,!0,u,v);case 19:return x(u,f,v);case 22:return Lc(u,f,v)}throw Error(a(156,f.tag))};function zw(u,f){return Iu(u,f)}function MT(u,f,v,C){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(u,f,v,C){return new MT(u,f,v,C)}function kx(u){return u=u.prototype,!(!u||!u.isReactComponent)}function RT(u){if(typeof u=="function")return kx(u)?1:0;if(u!=null){if(u=u.$$typeof,u===b)return 11;if(u===j)return 14}return 2}function Fc(u,f){var v=u.alternate;return v===null?(v=za(u.tag,f,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=f,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,f=u.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function nm(u,f,v,C,L,z){var ie=2;if(C=u,typeof u=="function")kx(u)&&(ie=1);else if(typeof u=="string")ie=5;else e:switch(u){case d:return Zu(v.children,L,z,f);case g:ie=8,L|=8;break;case m:return u=za(12,v,f,L|2),u.elementType=m,u.lanes=z,u;case N:return u=za(13,v,f,L),u.elementType=N,u.lanes=z,u;case S:return u=za(19,v,f,L),u.elementType=S,u.lanes=z,u;case k:return im(v,L,z,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case p:ie=10;break e;case y:ie=9;break e;case b:ie=11;break e;case j:ie=14;break e;case w:ie=16,C=null;break e}throw Error(a(130,u==null?u:typeof u,""))}return f=za(ie,v,f,L),f.elementType=u,f.type=C,f.lanes=z,f}function Zu(u,f,v,C){return u=za(7,u,C,f),u.lanes=v,u}function im(u,f,v,C){return u=za(22,u,C,f),u.elementType=k,u.lanes=v,u.stateNode={isHidden:!1},u}function Cx(u,f,v){return u=za(6,u,null,f),u.lanes=v,u}function jx(u,f,v){return f=za(4,u.children!==null?u.children:[],u.key,f),f.lanes=v,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function FT(u,f,v,C,L){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=xe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hs(0),this.expirationTimes=hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.identifierPrefix=C,this.onRecoverableError=L,ze&&(this.mutableSourceEagerHydrationData=null)}function Uw(u,f,v,C,L,z,ie,we,Pe){return u=new FT(u,f,v,we,Pe),f===1?(f=1,z===!0&&(f|=8)):f=0,z=za(3,null,null,f),u.current=z,z.stateNode=u,z.memoizedState={element:C,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},_r(z),u}function Vw(u){if(!u)return ls;u=u._reactInternals;e:{if(B(u)!==u||u.tag!==1)throw Error(a(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Ei(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(a(171))}if(u.tag===1){var v=u.type;if(Ei(v))return xi(u,v,f)}return f}function Hw(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(a(188)):(u=Object.keys(u).join(","),Error(a(268,u)));return u=M(f),u===null?null:u.stateNode}function Gw(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<f?v:f}}function rm(u,f){Gw(u,f),(u=u.alternate)&&Gw(u,f)}function OT(u){return u=M(u),u===null?null:u.stateNode}function DT(){return null}return n.attemptContinuousHydration=function(u){if(u.tag===13){var f=$i(u,134217728);if(f!==null){var v=Zi();Rs(f,u,134217728,v)}rm(u,134217728)}},n.attemptDiscreteHydration=function(u){if(u.tag===13){var f=$i(u,1);if(f!==null){var v=Zi();Rs(f,u,1,v)}rm(u,1)}},n.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=So(u),v=$i(u,f);if(v!==null){var C=Zi();Rs(v,u,f,C)}rm(u,f)}},n.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var v=Js(f.pendingLanes);v!==0&&(Pl(f,v|1),Pr(f,En()),!(Rt&6)&&(Ul(),Dr()))}break;case 13:Rc(function(){var C=$i(u,1);if(C!==null){var L=Zi();Rs(C,u,1,L)}}),rm(u,1)}},n.batchedUpdates=function(u,f){var v=Rt;Rt|=1;try{return u(f)}finally{Rt=v,Rt===0&&(Ul(),Ll&&Dr())}},n.createComponentSelector=function(u){return{$$typeof:Si,value:u}},n.createContainer=function(u,f,v,C,L,z,ie){return Uw(u,f,!1,null,v,C,L,z,ie)},n.createHasPseudoClassSelector=function(u){return{$$typeof:Hr,value:u}},n.createHydrationContainer=function(u,f,v,C,L,z,ie,we,Pe){return u=Uw(v,C,!0,u,L,z,ie,we,Pe),u.context=Vw(null),v=u.current,C=Zi(),L=So(v),z=lr(C,L),z.callback=f??null,cr(v,z,L),u.current.lanes=L,jl(u,L,C),Pr(u,C),u},n.createPortal=function(u,f,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:u,containerInfo:f,implementation:v}},n.createRoleSelector=function(u){return{$$typeof:Gn,value:u}},n.createTestNameSelector=function(u){return{$$typeof:Qi,value:u}},n.createTextSelector=function(u){return{$$typeof:bn,value:u}},n.deferredUpdates=function(u){var f=sn,v=gn.transition;try{return gn.transition=null,sn=16,u()}finally{sn=f,gn.transition=v}},n.discreteUpdates=function(u,f,v,C,L){var z=sn,ie=gn.transition;try{return gn.transition=null,sn=1,u(f,v,C,L)}finally{sn=z,gn.transition=ie,Rt===0&&Ul()}},n.findAllNodes=fr,n.findBoundingRects=function(u,f){if(!Je)throw Error(a(363));f=fr(u,f),u=[];for(var v=0;v<f.length;v++)u.push(mt(f[v]));for(f=u.length-1;0<f;f--){v=u[f];for(var C=v.x,L=C+v.width,z=v.y,ie=z+v.height,we=f-1;0<=we;we--)if(f!==we){var Pe=u[we],He=Pe.x,lt=He+Pe.width,zt=Pe.y,Ye=zt+Pe.height;if(C>=He&&z>=zt&&L<=lt&&ie<=Ye){u.splice(f,1);break}else if(C!==He||v.width!==Pe.width||Ye<z||zt>ie){if(!(z!==zt||v.height!==Pe.height||lt<C||He>L)){He>C&&(Pe.width+=He-C,Pe.x=C),lt<L&&(Pe.width=L-He),u.splice(f,1);break}}else{zt>z&&(Pe.height+=zt-z,Pe.y=z),Ye<ie&&(Pe.height=ie-zt),u.splice(f,1);break}}}return u},n.findHostInstance=Hw,n.findHostInstanceWithNoPortals=function(u){return u=P(u),u=u!==null?W(u):null,u===null?null:u.stateNode},n.findHostInstanceWithWarning=function(u){return Hw(u)},n.flushControlled=function(u){var f=Rt;Rt|=1;var v=gn.transition,C=sn;try{gn.transition=null,sn=1,u()}finally{sn=C,gn.transition=v,Rt=f,Rt===0&&(Ul(),Dr())}},n.flushPassiveEffects=Ju,n.flushSync=Rc,n.focusWithin=function(u,f){if(!Je)throw Error(a(363));for(u=kr(u),f=Gr(u,f),f=Array.from(f),u=0;u<f.length;){var v=f[u++];if(!We(v)){if(v.tag===5&&ut(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},n.getCurrentUpdatePriority=function(){return sn},n.getFindAllNodesFailureDescription=function(u,f){if(!Je)throw Error(a(363));var v=0,C=[];u=[kr(u),0];for(var L=0;L<u.length;){var z=u[L++],ie=u[L++],we=f[ie];if((z.tag!==5||!We(z))&&(Ji(z,we)&&(C.push(Cr(we)),ie++,ie>v&&(v=ie)),ie<f.length))for(z=z.child;z!==null;)u.push(z,ie),z=z.sibling}if(v<f.length){for(u=[];v<f.length;v++)u.push(Cr(f[v]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},n.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return ce(u.child.stateNode);default:return u.child.stateNode}},n.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:OT,findFiberByHostInstance:u.findFiberByHostInstance||DT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{Na=f.inject(u),Cs=f}catch{}u=!!f.checkDCE}}return u},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(u,f,v,C){if(!Je)throw Error(a(363));u=fr(u,f);var L=At(u,v,C).disconnect;return{disconnect:function(){L()}}},n.registerMutableSourceForHydration=function(u,f){var v=f._getVersion;v=v(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,v]:u.mutableSourceEagerHydrationData.push(f,v)},n.runWithPriority=function(u,f){var v=sn;try{return sn=u,f()}finally{sn=v}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(u,f,v,C){var L=f.current,z=Zi(),ie=So(L);return v=Vw(v),f.context===null?f.context=v:f.pendingContext=v,f=lr(z,ie),f.payload={element:u},C=C===void 0?null:C,C!==null&&(f.callback=C),u=cr(L,f,ie),u!==null&&(Rs(u,L,ie,z),ta(u,L,ie)),ie},n};RP.exports=x$;var y$=RP.exports;const v$=U2(y$);var FP={exports:{}},Zh={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Zh.ConcurrentRoot=1;Zh.ContinuousEventPriority=4;Zh.DefaultEventPriority=16;Zh.DiscreteEventPriority=1;Zh.IdleEventPriority=536870912;Zh.LegacyRoot=0;FP.exports=Zh;var OP=FP.exports;const kS={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let CS=!1,jS=!1;const gw=".react-konva-event",b$=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,w$=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,_$={};function cx(t,e,n=_$){if(!CS&&"zIndex"in e&&(console.warn(w$),CS=!0),!jS&&e.draggable){var i=e.x!==void 0||e.y!==void 0,r=e.onDragEnd||e.onDragMove;i&&!r&&(console.warn(b$),jS=!0)}for(var s in n)if(!kS[s]){var a=s.slice(0,2)==="on",o=n[s]!==e[s];if(a&&o){var l=s.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),t.off(l,n[s])}var c=!e.hasOwnProperty(s);c&&t.setAttr(s,void 0)}var d=e._useStrictMode,g={},m=!1;const p={};for(var s in e)if(!kS[s]){var a=s.slice(0,2)==="on",y=n[s]!==e[s];if(a&&y){var l=s.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),e[s]&&(p[l]=e[s])}!a&&(e[s]!==n[s]||d&&e[s]!==t.getAttr(s))&&(m=!0,g[s]=e[s])}m&&(t.setAttrs(g),Ru(t));for(var l in p)t.on(l+gw,p[l])}function Ru(t){if(!Kt.Konva.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const DP={},S$={};sg.Node.prototype._applyProps=cx;function N$(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Ru(t)}function k$(t,e,n){let i=sg[t];i||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),i=sg.Group);const r={},s={};for(var a in e){var o=a.slice(0,2)==="on";o?s[a]=e[a]:r[a]=e[a]}const l=new i(r);return cx(l,s),l}function C$(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function j$(t,e,n){return!1}function A$(t){return t}function P$(){return null}function L$(){return null}function T$(t,e,n,i){return S$}function E$(){}function M$(t){}function R$(t,e){return!1}function F$(){return DP}function O$(){return DP}const D$=setTimeout,I$=clearTimeout,B$=-1;function z$(t,e){return!1}const U$=!1,V$=!0,H$=!0;function G$(t,e){e.parent===t?e.moveToTop():t.add(e),Ru(t)}function W$(t,e){e.parent===t?e.moveToTop():t.add(e),Ru(t)}function IP(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Ru(t)}function q$(t,e,n){IP(t,e,n)}function $$(t,e){e.destroy(),e.off(gw),Ru(t)}function K$(t,e){e.destroy(),e.off(gw),Ru(t)}function X$(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function Y$(t,e,n){}function Q$(t,e,n,i,r){cx(t,r,i)}function J$(t){t.hide(),Ru(t)}function Z$(t){}function eK(t,e){(e.visible==null||e.visible)&&t.show()}function tK(t,e){}function nK(t){}function iK(){}const rK=()=>OP.DefaultEventPriority,sK=Object.freeze(Object.defineProperty({__proto__:null,appendChild:G$,appendChildToContainer:W$,appendInitialChild:N$,cancelTimeout:I$,clearContainer:nK,commitMount:Y$,commitTextUpdate:X$,commitUpdate:Q$,createInstance:k$,createTextInstance:C$,detachDeletedInstance:iK,finalizeInitialChildren:j$,getChildHostContext:O$,getCurrentEventPriority:rK,getPublicInstance:A$,getRootHostContext:F$,hideInstance:J$,hideTextInstance:Z$,idlePriority:up.unstable_IdlePriority,insertBefore:IP,insertInContainerBefore:q$,isPrimaryRenderer:U$,noTimeout:B$,now:up.unstable_now,prepareForCommit:P$,preparePortalMount:L$,prepareUpdate:T$,removeChild:$$,removeChildFromContainer:K$,resetAfterCommit:E$,resetTextContent:M$,run:up.unstable_runWithPriority,scheduleTimeout:D$,shouldDeprioritizeSubtree:R$,shouldSetTextContent:z$,supportsMutation:H$,unhideInstance:eK,unhideTextInstance:tK,warnsIfNotActing:V$},Symbol.toStringTag,{value:"Module"}));var aK=Object.defineProperty,oK=Object.defineProperties,lK=Object.getOwnPropertyDescriptors,AS=Object.getOwnPropertySymbols,cK=Object.prototype.hasOwnProperty,uK=Object.prototype.propertyIsEnumerable,PS=(t,e,n)=>e in t?aK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LS=(t,e)=>{for(var n in e||(e={}))cK.call(e,n)&&PS(t,n,e[n]);if(AS)for(var n of AS(e))uK.call(e,n)&&PS(t,n,e[n]);return t},hK=(t,e)=>oK(t,lK(e)),TS,ES;typeof window<"u"&&((TS=window.document)!=null&&TS.createElement||((ES=window.navigator)==null?void 0:ES.product)==="ReactNative")?Y.useLayoutEffect:Y.useEffect;function BP(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=t.child;for(;i;){const r=BP(i,e,n);if(r)return r;i=i.sibling}}function zP(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const MS=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=MS;return}return MS.apply(this,arguments)};const mw=zP(Y.createContext(null));class UP extends Y.Component{render(){return Y.createElement(mw.Provider,{value:this._reactInternals},this.props.children)}}function dK(){const t=Y.useContext(mw);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Y.useId();return Y.useMemo(()=>{for(const i of[t,t==null?void 0:t.alternate]){if(!i)continue;const r=BP(i,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[t,e])}function fK(){const t=dK(),[e]=Y.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const r=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;r&&r!==mw&&!e.has(r)&&e.set(r,Y.useContext(zP(r)))}n=n.return}return e}function pK(){const t=fK();return Y.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>Y.createElement(e,null,Y.createElement(n.Provider,hK(LS({},i),{value:t.get(n)}))),e=>Y.createElement(UP,LS({},e))),[t])}function gK(t){const e=Mr.useRef({});return Mr.useLayoutEffect(()=>{e.current=t}),Mr.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const mK=t=>{const e=Mr.useRef(null),n=Mr.useRef(null),i=Mr.useRef(null),r=gK(t),s=pK(),a=o=>{const{forwardedRef:l}=t;l&&(typeof l=="function"?l(o):l.current=o)};return Mr.useLayoutEffect(()=>(n.current=new sg.Stage({width:t.width,height:t.height,container:e.current}),a(n.current),i.current=ap.createContainer(n.current,OP.LegacyRoot,!1,null),ap.updateContainer(Mr.createElement(s,{},t.children),i.current),()=>{sg.isBrowser&&(a(null),ap.updateContainer(null,i.current,null),n.current.destroy())}),[]),Mr.useLayoutEffect(()=>{a(n.current),cx(n.current,t,r),ap.updateContainer(Mr.createElement(s,{},t.children),i.current,null)}),Mr.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},xK="Layer",RS="Group",yK="Rect",vK="Circle",VP="Image",bK="Text",ap=v$(sK);ap.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Mr.version,rendererPackageName:"react-konva"});const wK=Mr.forwardRef((t,e)=>Mr.createElement(UP,{},Mr.createElement(mK,{...t,forwardedRef:e})));function HP({message:t="Khng tm thy trang bn yu cu"}){return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:h.jsxs("div",{className:"max-w-md w-full text-center",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("div",{className:"text-9xl font-bold text-indigo-600 mb-4",children:"404"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Oops! Trang khng tn ti"}),h.jsx("p",{className:"text-gray-600 mb-8",children:t})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs(Wn,{to:"/",className:"inline-flex items-center justify-center w-full px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 transition-colors",children:[h.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"V trang ch"]}),h.jsxs(Wn,{to:"/editor",className:"inline-flex items-center justify-center w-full px-6 py-3 border border-gray-300 text-base font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[h.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"To khung mi"]})]}),h.jsxs("div",{className:"mt-8 text-sm text-gray-500",children:[h.jsx("p",{children:"C th bn ang tm:"}),h.jsxs("div",{className:"mt-2 space-x-4",children:[h.jsx(Wn,{to:"/quockhanh",className:"text-indigo-600 hover:text-indigo-800",children:"Khung Quc Khnh"}),h.jsx(Wn,{to:"/trungthu",className:"text-indigo-600 hover:text-indigo-800",children:"Khung Trung Thu"}),h.jsx(Wn,{to:"/giangsinh",className:"text-indigo-600 hover:text-indigo-800",children:"Khung Ging Sinh"})]})]})]})})}const Ly="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),_K={su_kien:"S kin",le_hoi:"L hi  Ngy c bit",hoat_dong:"Hot ng  Cng ng",chien_dich:"Chin dch  C v",thuong_hieu:"Thng hiu  T chc",giai_tri:"Gii tr  Fandom",sang_tao:"Ch  sng to",khac:"Khc"},SK=1080,Ty=500,NK=300,ih=(t,e,n)=>Math.min(n,Math.max(e,t)),FS=(t,e,n=2)=>Math.abs(t-e)<=n,GP=()=>"anonymous";function OS({url:t,scale:e,rotation:n,flipX:i,dragBound:r}){const[s]=JA(t||"",GP());return s?h.jsx(VP,{image:s,x:0,y:0,offsetX:s.width/2,offsetY:s.height/2,draggable:!0,dragBoundFunc:r,scaleX:e*(i?-1:1),scaleY:e,rotation:n}):null}function kK({url:t,size:e}){const[n]=JA(t||"",GP());return n?h.jsx(VP,{image:n,x:-e/2,y:-e/2,width:e,height:e,listening:!1}):null}function CK({onPick:t,className:e=""}){const n=Y.useRef(null),[i,r]=Y.useState(!1),s=()=>{var o;return(o=n.current)==null?void 0:o.click()},a=o=>{const l=o==null?void 0:o[0];l&&t(l)};return h.jsxs("div",{role:"button",tabIndex:0,onClick:s,onKeyDown:o=>(o.key==="Enter"||o.key===" ")&&s(),onDrop:o=>{o.preventDefault(),r(!1),a(o.dataTransfer.files)},onDragOver:o=>{o.preventDefault(),r(!0)},onDragLeave:()=>r(!1),className:["w-full h-32 sm:h-36 rounded-xl border-2 border-dashed grid place-items-center","transition-colors select-none cursor-pointer",i?"border-indigo-400 bg-indigo-50":"border-gray-300 bg-white",e].join(" "),children:[h.jsx("input",{ref:n,type:"file",accept:"image/*",className:"hidden",onChange:o=>a(o.target.files)}),h.jsxs("div",{className:"text-center",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"mx-auto mb-2 h-7 w-7 text-slate-700",fill:"currentColor",children:h.jsx("path",{d:"M7 18a5 5 0 0 1-.75-9.94 6 6 0 0 1 11.5 1.63A4 4 0 1 1 18 18H7Zm6-7v4a1 1 0 1 1-2 0v-4H9.5a1 1 0 0 1-.7-1.7l2.5-2.5a1 1 0 0 1 1.4 0l2.5 2.5a1 1 0 0 1-.7 1.7H13Z"})}),h.jsxs("div",{className:"text-slate-900 font-semibold text-sm",children:["Ko th hoc ",h.jsx("span",{className:"text-indigo-600",children:"Bm vo y"})]}),h.jsx("div",{className:"text-slate-500 text-sm",children:" ng ti hnh nh"})]})]})}function DS(){const t=ya(),{alias:e}=m3(),[n]=gj();Y.useEffect(()=>{const Te=n.get("alias");!e&&Te&&t(`/${Te}`,{replace:!0})},[e,n,t]);const i=e||"quockhanh",[r,s]=Y.useState(null),[a,o]=Y.useState(""),[l,c]=Y.useState(!0),[d,g]=Y.useState(""),[m,p]=Y.useState(1),[y,b]=Y.useState(0),[N,S]=Y.useState(!1),[j,w]=Y.useState(!1),[k,E]=Y.useState(!1),[I,U]=Y.useState("T ho Vit Nam"),[R,B]=Y.useState(28),[O,P]=Y.useState("#0f172a"),[M,G]=Y.useState("Arial"),[W,Z]=Y.useState("normal"),[ce,pe]=Y.useState("normal"),J=[{value:"Arial",label:"Arial",category:"Sans-serif"},{value:"Helvetica",label:"Helvetica",category:"Sans-serif"},{value:"Verdana",label:"Verdana",category:"Sans-serif"},{value:"Tahoma",label:"Tahoma",category:"Sans-serif"},{value:"Trebuchet MS",label:"Trebuchet MS",category:"Sans-serif"},{value:"Calibri",label:"Calibri",category:"Sans-serif"},{value:"Times New Roman",label:"Times New Roman",category:"Serif"},{value:"Georgia",label:"Georgia",category:"Serif"},{value:"Palatino",label:"Palatino",category:"Serif"},{value:"Garamond",label:"Garamond",category:"Serif"},{value:"Bookman",label:"Bookman",category:"Serif"},{value:"Courier New",label:"Courier New",category:"Monospace"},{value:"Lucida Console",label:"Lucida Console",category:"Monospace"},{value:"Monaco",label:"Monaco",category:"Monospace"},{value:"Consolas",label:"Consolas",category:"Monospace"},{value:"Comic Sans MS",label:"Comic Sans MS",category:"Display"},{value:"Impact",label:"Impact",category:"Display"},{value:"Brush Script MT",label:"Brush Script MT",category:"Display"},{value:"Copperplate",label:"Copperplate",category:"Display"}],[ee,he]=Y.useState(!1),[se,F]=Y.useState(null),[q,re]=Y.useState(Ty),oe=Y.useRef(null);Y.useEffect(()=>{const Te=new ResizeObserver(()=>{var ut;const We=((ut=oe.current)==null?void 0:ut.clientWidth)||Ty+40,$e=Math.max(NK,Math.min(Ty,Math.floor(We-40)));re($e)});return oe.current&&Te.observe(oe.current),()=>Te.disconnect()},[]);const[de,X]=Y.useState(!1),fe=async()=>{try{await navigator.clipboard.writeText(ze),X(!0),setTimeout(()=>X(!1),1500)}catch(Te){console.error(Te),alert("Khng th sao chp lin kt.")}};Y.useEffect(()=>{let Te=!0;return s(null),o(""),c(!0),sH(i).then(We=>{Te&&(s(We||null),We||o("Khng tm thy khung cho alias ny."),c(!1),We!=null&&We.id&&fetch(`${Ly}/api/Frames/view/${We.id}`,{method:"POST",credentials:"include"}).then($e=>$e.json()).then($e=>{console.log(" View counted:",$e),$e.luotXem!==void 0&&s(ut=>ut&&{...ut,clicks:$e.luotXem})}).catch($e=>console.error(" View count failed:",$e)))}).catch(()=>{Te&&(o("Khng ti c khung (overlay)."),c(!1))}),()=>{Te=!1}},[i]),Y.useEffect(()=>{const Te=document.title;return document.title=`Editor  ${i}`,()=>{document.title=Te}},[i]),Y.useEffect(()=>{g(""),p(1),b(0),S(!1),E(!1),w(!1)},[i]);const xe=Y.useMemo(()=>(r==null?void 0:r.overlay)||(r==null?void 0:r.thumb)||null,[r]),Ce=Y.useRef(null),Le=Y.useRef(null),Ue=Y.useRef(null),ze=typeof window<"u"?`${window.location.origin}/${i}`:"";Y.useEffect(()=>{he(!!d&&!!xe)},[d,xe]);const Ke=Te=>{var $e;const We=($e=Ce.current)==null?void 0:$e.container();We&&(We.style.cursor=Te)},te=Y.useRef(null),Ge=Te=>{if(!d)return;Te.evt.preventDefault();const We=Te.evt.deltaY>0;Ke(We?"zoom-out":"zoom-in"),clearTimeout(te.current),te.current=setTimeout(()=>Ke(k?"text":"grab"),120);const $e=We?.95:1.05;p(ut=>ih(ut*$e,.2,3))};Y.useEffect(()=>{const Te=We=>{We.target&&["INPUT","TEXTAREA"].includes(We.target.tagName)||(We.key==="["&&b($e=>$e-5),We.key==="]"&&b($e=>$e+5),(We.key==="+"||We.key==="=")&&p($e=>ih(+($e+.05).toFixed(3),.2,3)),(We.key==="-"||We.key==="_")&&p($e=>ih(+($e-.05).toFixed(3),.2,3)),We.key.toLowerCase()==="r"&&Ie(),We.key.toLowerCase()==="f"&&S($e=>!$e))};return window.addEventListener("keydown",Te),()=>window.removeEventListener("keydown",Te)},[]),Y.useEffect(()=>{FS(y%360,0)&&(FS(y,0)||b(0))},[y]);const vt=Te=>{const We=q*.6;return{x:ih(Te.x,-We,We),y:ih(Te.y,-We,We)}},ht=async()=>{const Te=Ce.current;if(!Te)return;const We=SK/q;try{const $e=Te.toDataURL({pixelRatio:We,mimeType:"image/png",quality:1}),At=await(await fetch($e)).blob();if("showSaveFilePicker"in window)try{const et=await(await window.showSaveFilePicker({suggestedName:`${i}.png`,types:[{description:"PNG Image",accept:{"image/png":[".png"]}}]})).createWritable();if(await et.write(At),await et.close(),r!=null&&r.id){const tt=await(await fetch(`${Ly}/api/Frames/download/${r.id}`,{method:"POST",credentials:"include"})).json();console.log(" Download counted:",tt),tt.luotTai!==void 0&&s(jn=>jn&&{...jn,uses:tt.luotTai})}}catch{console.log(" User cancelled download");return}else{const xt=document.createElement("a");xt.href=$e,xt.download=`${i}.png`,document.body.appendChild(xt),xt.click(),xt.remove(),setTimeout(async()=>{if(r!=null&&r.id){const wt=await(await fetch(`${Ly}/api/Frames/download/${r.id}`,{method:"POST",credentials:"include"})).json();wt.luotTai!==void 0&&s(tt=>tt&&{...tt,uses:wt.luotTai})}},500)}}catch($e){console.error("Save failed:",$e),alert("Khng th ti nh.")}},Ie=()=>{p(1),b(0),S(!1),E(!1)},Je=!!d,Ze=Te=>{if(!Te)return;const We=URL.createObjectURL(Te);se&&URL.revokeObjectURL(se),F(We),g(We)};Y.useEffect(()=>()=>{se&&URL.revokeObjectURL(se)},[se]);const mt=Te=>{if(!Te)return"Mi ng";const We=new Date,$e=new Date(Te),ut=We.getTime()-$e.getTime(),At=Math.floor(ut/1e3),xt=Math.floor(At/60),et=Math.floor(xt/60),wt=Math.floor(et/24);if(wt===0)return et>0?`${et} gi trc`:xt>0?`${xt} pht trc`:At>0?`${At} giy trc`:"Va to";if(wt<=7)return`${wt} ngy trc`;const tt=$e.getDate().toString().padStart(2,"0"),jn=($e.getMonth()+1).toString().padStart(2,"0"),en=$e.getFullYear();return`${tt}/${jn}/${en}`};return l?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti khung..."})]})}):a&&!r?h.jsx(HP,{message:`Khng tm thy khung vi alias "${i}". Khung c th  b xa hoc khng tn ti.`}):h.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[h.jsx("h1",{className:"text-3xl font-extrabold text-center mb-2",children:(r==null?void 0:r.name)||i}),(r==null?void 0:r.type)&&h.jsx("div",{className:"text-center mb-4",children:h.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-indigo-50 text-indigo-700 rounded-full px-3 py-1 text-sm font-medium border border-indigo-200",children:[h.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),_K[r.type]||r.type]})}),h.jsxs("div",{className:"flex items-center justify-center gap-3 mb-5",children:[h.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-blue-50 text-blue-700 rounded-full px-3 py-1.5 border border-blue-200",children:[h.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),h.jsx("span",{className:"font-bold text-sm",children:(r==null?void 0:r.clicks)||0}),h.jsx("span",{className:"text-xs",children:"lt xem"})]}),h.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-green-50 text-green-700 rounded-full px-3 py-1.5 border border-green-200",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),h.jsx("span",{className:"font-bold text-sm",children:(r==null?void 0:r.uses)||0}),h.jsx("span",{className:"text-xs",children:"lt ti"})]})]}),h.jsxs("div",{ref:oe,className:"max-w-[560px] mx-auto border-2 border-dashed border-gray-300 rounded-xl p-4 bg-white",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(wK,{ref:Ce,width:q,height:q,className:"rounded-md",onMouseEnter:()=>Ke(Je?k?"text":"grab":"default"),onMouseLeave:()=>Ke("default"),onMouseDown:Te=>{var We,$e,ut,At;Je&&(($e=(We=Te.target)==null?void 0:We.draggable)!=null&&$e.call(We)||(At=(ut=Te.target)==null?void 0:ut.attrs)!=null&&At.draggable)&&Ke("grabbing")},onMouseUp:()=>Ke(Je?k?"text":"grab":"default"),onDragStart:()=>Je&&Ke("grabbing"),onDragEnd:()=>Ke(Je?k?"text":"grab":"default"),onWheel:Ge,children:h.jsxs(xK,{children:[!Je&&h.jsx(yK,{x:0,y:0,width:q,height:q,fill:"#f3f4f6"}),h.jsxs(RS,{x:q/2,y:q/2,children:[j?h.jsxs(h.Fragment,{children:[h.jsx(RS,{clipFunc:Te=>{Te.arc(0,0,q/2,0,Math.PI*2,!1)},children:Je&&h.jsx(OS,{url:d,scale:m,rotation:y,flipX:N,dragBound:vt})}),h.jsx(vK,{x:0,y:0,radius:q/2,stroke:"#e5e7eb",strokeWidth:1})]}):Je&&h.jsx(OS,{url:d,scale:m,rotation:y,flipX:N,dragBound:vt}),xe&&h.jsx(kK,{url:xe,size:q}),k&&Je&&h.jsx(bK,{text:I,fontSize:R,fill:O,fontFamily:M,fontStyle:W,fontVariant:ce==="bold"?"bold":"normal",x:0,y:-q*.18,align:"center",width:q,offsetX:q/2,draggable:!0})]})]})},i)}),a&&h.jsx("p",{className:"mt-3 text-center text-sm text-amber-700 bg-amber-50 rounded-md px-3 py-2",children:a}),!Je&&h.jsx("div",{className:"mt-4",children:h.jsx(CK,{onPick:Ze})}),Je&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("button",{onClick:()=>S(Te=>!Te),className:"px-3 py-1.5 rounded-md bg-slate-100 hover:bg-slate-200 text-sm flex items-center gap-2",children:[h.jsx("img",{src:"/icon/fliptheimage.png",alt:"Lt hnh",className:"w-4 h-4"}),h.jsx("span",{children:"Lt hnh"})]}),h.jsxs("button",{onClick:()=>E(Te=>!Te),className:`px-3 py-1.5 rounded-md text-sm flex items-center gap-2 ${k?"bg-indigo-600 text-white":"bg-slate-100 hover:bg-slate-200"}`,children:[h.jsx("img",{src:"/icon/text.png",alt:"Vn bn",className:"w-4 h-4"}),h.jsx("span",{children:"Vn bn"})]}),h.jsx("button",{onClick:()=>w(Te=>!Te),className:`px-3 py-1.5 rounded-md text-sm ${j?"bg-indigo-600 text-white":"bg-slate-100 hover:bg-slate-200"}`,title:"Bt/Tt mask trn",children:"Mt n trn"})]}),h.jsxs("button",{onClick:Ie,className:"px-3 py-1.5 rounded-md bg-slate-100 hover:bg-slate-200 text-sm flex items-center gap-2",children:[h.jsx("img",{src:"/icon/reset.png",alt:"Reset",className:"w-4 h-4"}),h.jsx("span",{children:"Reset"})]})]}),h.jsxs("div",{className:"mt-3 grid gap-3 text-sm",children:[h.jsxs("div",{className:"grid grid-cols-[auto,1fr,auto] items-center gap-2",children:[h.jsx("button",{onClick:()=>p(Te=>ih(+(Te-.05).toFixed(3),.2,3)),className:"h-8 w-8 rounded-md border bg-white hover:bg-slate-50 flex items-center justify-center",title:"Thu nh",children:h.jsx("img",{src:"/icon/tru.png",alt:"Thu nh",className:"w-4 h-4"})}),h.jsx("input",{type:"range",min:"0.2",max:"3",step:"0.01",value:m,onChange:Te=>p(+Te.target.value),className:"slider-soft",style:{"--percent":`${(m-.2)/(3-.2)*100}%`}}),h.jsx("button",{onClick:()=>p(Te=>ih(+(Te+.05).toFixed(3),.2,3)),className:"h-8 w-8 rounded-md border bg-white hover:bg-slate-50 flex items-center justify-center",title:"Phng to",children:h.jsx("img",{src:"/icon/cong.png",alt:"Phng to",className:"w-4 h-4"})})]}),h.jsxs("div",{className:"grid grid-cols-[auto,1fr,auto] items-center gap-2",children:[h.jsx("button",{onClick:()=>b(Te=>Te-5),className:"h-8 w-8 rounded-md border bg-white hover:bg-slate-50",title:"Xoay tri",children:""}),h.jsx("input",{type:"range",min:"-180",max:"180",step:"1",value:y,onChange:Te=>b(+Te.target.value),className:"slider-soft",style:{"--percent":`${(y- -180)/360*100}%`}}),h.jsx("button",{onClick:()=>b(Te=>Te+5),className:"h-8 w-8 rounded-md border bg-white hover:bg-slate-50",title:"Xoay phi",children:""})]})]}),h.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("input",{ref:Le,type:"file",accept:"image/*",className:"hidden",onChange:Te=>{var $e;const We=($e=Te.target.files)==null?void 0:$e[0];We&&Ze(We)}}),h.jsxs("button",{onClick:()=>{var Te;return(Te=Le.current)==null?void 0:Te.click()},className:"px-3.5 py-1.5 rounded-md bg-slate-100 hover:bg-slate-200 font-medium text-sm flex items-center gap-2",children:[h.jsx("img",{src:"/icon/image.png",alt:"i hnh",className:"w-4 h-4"}),h.jsx("span",{children:"i hnh"})]})]}),h.jsxs("button",{onClick:ht,disabled:!ee,"aria-disabled":!ee,className:`px-3.5 py-1.5 rounded-md text-sm flex items-center gap-2 border transition-colors
                ${ee?"bg-slate-100 text-slate-700 hover:bg-slate-200 border-slate-200":"bg-slate-100 text-slate-400 border-slate-200 opacity-60 cursor-not-allowed"}`,title:ee?"Xut nh PNG":"Hy ch nh/khung sn sng",children:[h.jsx("img",{src:"/icon/download2.png",alt:"Ti v",className:`w-4 h-4 ${ee?"":"opacity-60"}`}),h.jsx("span",{className:"font-bold",children:"Ti v"})]})]}),k&&h.jsxs("div",{className:"mt-4 space-y-3",children:[h.jsx("input",{value:I,onChange:Te=>U(Te.target.value),placeholder:"Nhp ni dung vn bn...",className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all"}),h.jsx("select",{value:M,onChange:Te=>G(Te.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all",style:{fontFamily:M},children:J.map(Te=>h.jsxs("option",{value:Te.value,style:{fontFamily:Te.value},children:[Te.label," (",Te.category,")"]},Te.value))}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx("input",{type:"number",min:14,max:72,value:R,onChange:Te=>B(+Te.target.value),className:"rounded-lg border border-gray-300 px-3 py-2.5 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 transition-all",placeholder:"C ch"}),h.jsx("button",{onClick:()=>pe(Te=>Te==="bold"?"normal":"bold"),className:`rounded-lg border px-3 py-2.5 text-sm font-bold transition-all ${ce==="bold"?"bg-indigo-600 text-white border-indigo-600":"bg-white border-gray-300 hover:border-indigo-400"}`,title:"Ch m",children:"B"}),h.jsx("button",{onClick:()=>Z(Te=>Te==="italic"?"normal":"italic"),className:`rounded-lg border px-3 py-2.5 text-sm italic transition-all ${W==="italic"?"bg-indigo-600 text-white border-indigo-600":"bg-white border-gray-300 hover:border-indigo-400"}`,title:"Ch nghing",children:"I"})]}),h.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 min-w-fit",children:"Mu ch"}),h.jsx("input",{type:"color",value:O,onChange:Te=>P(Te.target.value),className:"h-10 w-16 rounded-md border border-gray-300 cursor-pointer"})]})]})]})]}),(r==null?void 0:r.owner)&&h.jsx("div",{className:"mt-8 mb-6 flex flex-col items-center",children:h.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 max-w-sm w-full",children:h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("img",{src:pa(r.owner.avatar,r.owner.name),alt:r.owner.name,className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200 mb-3 shadow-sm"}),h.jsx("div",{className:"font-bold text-lg text-slate-900 mb-2",children:r.owner.name}),r.ngayTao&&h.jsxs("div",{className:"flex items-center text-gray-500 text-sm bg-gray-50 rounded-full px-3 py-1.5",children:[h.jsxs("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6l4 2"})]}),mt(r.ngayTao)]})]})})}),h.jsx("div",{ref:Ue,className:"mt-6 flex flex-col items-center",children:h.jsxs("div",{className:"mt-4 w-full max-w-[520px] rounded-xl border border-dashed border-gray-300 p-3",children:[h.jsx("div",{className:"text-gray-600 font-medium mb-2 text-sm",children:"Chia s"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{readOnly:!0,value:ze,onClick:fe,className:"w-full rounded-md border border-indigo-200 bg-indigo-50/40 px-3 py-2 pr-20 outline-none text-sm cursor-pointer",title:"Bm  sao chp lin kt"}),h.jsx("button",{onClick:fe,className:"absolute right-1 top-1/2 -translate-y-1/2 px-2 py-1 rounded-md bg-indigo-600 text-white text-xs hover:bg-indigo-700",title:"Sao chp",children:""}),h.jsx("div",{"aria-live":"polite",className:`absolute right-12 top-1/2 -translate-y-1/2 text-xs
          transition-opacity duration-200
          ${de?"opacity-100":"opacity-0 pointer-events-none"}`,children:h.jsx("span",{className:"bg-emerald-50 text-emerald-700 border border-emerald-200 rounded px-2 py-0.5 shadow-sm",children:" sao chp "})})]}),h.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2",children:[h.jsx("img",{alt:"qr",width:"120",height:"120",src:`https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=${encodeURIComponent(ze)}`,className:"rounded-md"}),h.jsx("div",{className:"flex gap-2",children:h.jsx("button",{onClick:async()=>{const Te=`https://api.qrserver.com/v1/create-qr-code/?size=512x512&data=${encodeURIComponent(ze)}`;try{const $e=await(await fetch(Te)).blob(),ut=URL.createObjectURL($e),At=i?`qr-${i}.png`:"qr.png",xt=document.createElement("a");xt.href=ut,xt.download=At,document.body.appendChild(xt),xt.click(),xt.remove(),URL.revokeObjectURL(ut)}catch(We){alert("Khng ti c m QR"),console.error(We)}},className:"px-3 py-1.5 rounded-md bg-indigo-600 text-white hover:bg-indigo-700 text-sm",children:"Ti m QR"})})]})]})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Fg(t){return t+.5|0}const Zc=(t,e,n)=>Math.max(Math.min(t,n),e);function op(t){return Zc(Fg(t*2.55),0,255)}function du(t){return Zc(Fg(t*255),0,255)}function ec(t){return Zc(Fg(t/2.55)/100,0,1)}function IS(t){return Zc(Fg(t*100),0,100)}const Ha={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},q4=[..."0123456789ABCDEF"],jK=t=>q4[t&15],AK=t=>q4[(t&240)>>4]+q4[t&15],Tm=t=>(t&240)>>4===(t&15),PK=t=>Tm(t.r)&&Tm(t.g)&&Tm(t.b)&&Tm(t.a);function LK(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ha[t[1]]*17,g:255&Ha[t[2]]*17,b:255&Ha[t[3]]*17,a:e===5?Ha[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ha[t[1]]<<4|Ha[t[2]],g:Ha[t[3]]<<4|Ha[t[4]],b:Ha[t[5]]<<4|Ha[t[6]],a:e===9?Ha[t[7]]<<4|Ha[t[8]]:255})),n}const TK=(t,e)=>t<255?e(t):"";function EK(t){var e=PK(t)?jK:AK;return t?"#"+e(t.r)+e(t.g)+e(t.b)+TK(t.a,e):void 0}const MK=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function WP(t,e,n){const i=e*Math.min(n,1-n),r=(s,a=(s+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function RK(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function FK(t,e,n){const i=WP(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function OK(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function xw(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),a=Math.min(n,i,r),o=(s+a)/2;let l,c,d;return s!==a&&(d=s-a,c=o>.5?d/(2-s-a):d/(s+a),l=OK(n,i,r,d,s),l=l*60+.5),[l|0,c||0,o]}function yw(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(du)}function vw(t,e,n){return yw(WP,t,e,n)}function DK(t,e,n){return yw(FK,t,e,n)}function IK(t,e,n){return yw(RK,t,e,n)}function qP(t){return(t%360+360)%360}function BK(t){const e=MK.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?op(+e[5]):du(+e[5]));const r=qP(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=DK(r,s,a):e[1]==="hsv"?i=IK(r,s,a):i=vw(r,s,a),{r:i[0],g:i[1],b:i[2],a:n}}function zK(t,e){var n=xw(t);n[0]=qP(n[0]+e),n=vw(n),t.r=n[0],t.g=n[1],t.b=n[2]}function UK(t){if(!t)return;const e=xw(t),n=e[0],i=IS(e[1]),r=IS(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${ec(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const BS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VK(){const t={},e=Object.keys(zS),n=Object.keys(BS);let i,r,s,a,o;for(i=0;i<e.length;i++){for(a=o=e[i],r=0;r<n.length;r++)s=n[r],o=o.replace(s,BS[s]);s=parseInt(zS[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let Em;function HK(t){Em||(Em=VK(),Em.transparent=[0,0,0,0]);const e=Em[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const GK=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function WK(t){const e=GK.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?op(a):Zc(a*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?op(i):Zc(i,0,255)),r=255&(e[4]?op(r):Zc(r,0,255)),s=255&(e[6]?op(s):Zc(s,0,255)),{r:i,g:r,b:s,a:n}}}function qK(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ec(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ey=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Md=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function $K(t,e,n){const i=Md(ec(t.r)),r=Md(ec(t.g)),s=Md(ec(t.b));return{r:du(Ey(i+n*(Md(ec(e.r))-i))),g:du(Ey(r+n*(Md(ec(e.g))-r))),b:du(Ey(s+n*(Md(ec(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Mm(t,e,n){if(t){let i=xw(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=vw(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function $P(t,e){return t&&Object.assign(e||{},t)}function US(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=du(t[3]))):(e=$P(t,{r:0,g:0,b:0,a:1}),e.a=du(e.a)),e}function KK(t){return t.charAt(0)==="r"?WK(t):BK(t)}class ag{constructor(e){if(e instanceof ag)return e;const n=typeof e;let i;n==="object"?i=US(e):n==="string"&&(i=LK(e)||HK(e)||KK(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=$P(this._rgb);return e&&(e.a=ec(e.a)),e}set rgb(e){this._rgb=US(e)}rgbString(){return this._valid?qK(this._rgb):void 0}hexString(){return this._valid?EK(this._rgb):void 0}hslString(){return this._valid?UK(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const a=n===s?.5:n,o=2*a-1,l=i.a-r.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=$K(this._rgb,e._rgb,n)),this}clone(){return new ag(this.rgb)}alpha(e){return this._rgb.a=du(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Fg(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Mm(this._rgb,2,e),this}darken(e){return Mm(this._rgb,2,-e),this}saturate(e){return Mm(this._rgb,1,e),this}desaturate(e){return Mm(this._rgb,1,-e),this}rotate(e){return zK(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ql(){}const XK=(()=>{let t=0;return()=>t++})();function $n(t){return t==null}function nr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function fn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ss(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function il(t,e){return ss(t)?t:e}function un(t,e){return typeof t>"u"?e:t}const YK=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ti(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function An(t,e,n,i){let r,s,a;if(nr(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(fn(t))for(a=Object.keys(t),s=a.length,r=0;r<s;r++)e.call(n,t[a[r]],a[r])}function j2(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function A2(t){if(nr(t))return t.map(A2);if(fn(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=A2(t[n[r]]);return e}return t}function KP(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function QK(t,e,n,i){if(!KP(t))return;const r=e[t],s=n[t];fn(r)&&fn(s)?og(r,s,i):e[t]=A2(s)}function og(t,e,n){const i=nr(e)?e:[e],r=i.length;if(!fn(t))return t;n=n||{};const s=n.merger||QK;let a;for(let o=0;o<r;++o){if(a=i[o],!fn(a))continue;const l=Object.keys(a);for(let c=0,d=l.length;c<d;++c)s(l[c],t,a,n)}return t}function Np(t,e){return og(t,e,{merger:JK})}function JK(t,e,n){if(!KP(t))return;const i=e[t],r=n[t];fn(i)&&fn(r)?Np(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=A2(r))}const VS={"":t=>t,x:t=>t.x,y:t=>t.y};function ZK(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function eX(t){const e=ZK(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function P2(t,e){return(VS[e]||(VS[e]=eX(e)))(t)}function bw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const L2=t=>typeof t<"u",vu=t=>typeof t=="function",HS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function tX(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const yr=Math.PI,Bo=2*yr,nX=Bo+yr,T2=Number.POSITIVE_INFINITY,iX=yr/180,Fo=yr/2,rh=yr/4,GS=yr*2/3,XP=Math.log10,Of=Math.sign;function kp(t,e,n){return Math.abs(t-e)<n}function WS(t){const e=Math.round(t);t=kp(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(XP(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function rX(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function sX(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function lg(t){return!sX(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function aX(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function oX(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function _h(t){return t*(yr/180)}function lX(t){return t*(180/yr)}function qS(t){if(!ss(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function cX(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*yr&&(s+=Bo),{angle:s,distance:r}}function $4(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function uX(t,e){return(t-e+nX)%Bo-yr}function cl(t){return(t%Bo+Bo)%Bo}function YP(t,e,n,i){const r=cl(t),s=cl(e),a=cl(n),o=cl(s-r),l=cl(a-r),c=cl(r-s),d=cl(r-a);return r===s||r===a||i&&s===a||o>l&&c<d}function Ka(t,e,n){return Math.max(e,Math.min(n,t))}function hX(t){return Ka(t,-32768,32767)}function of(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function ww(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Sh=(t,e,n,i)=>ww(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),dX=(t,e,n)=>ww(t,n,i=>t[i][e]>=n);function fX(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const QP=["push","pop","shift","splice","unshift"];function pX(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),QP.forEach(n=>{const i="_onData"+bw(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...s)}),a}})})}function $S(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(QP.forEach(s=>{delete t[s]}),delete t._chartjs)}function gX(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const JP=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ZP(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,JP.call(window,()=>{i=!1,t.apply(e,n)}))}}function mX(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const _w=t=>t==="start"?"left":t==="end"?"right":"center",Jr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,xX=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function yX(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:g,max:m,minDefined:p,maxDefined:y}=a.getUserBounds();if(p){if(r=Math.min(Sh(l,d,g).lo,n?i:Sh(e,d,a.getPixelForValue(g)).lo),c){const b=l.slice(0,r+1).reverse().findIndex(N=>!$n(N[o.axis]));r-=Math.max(0,b)}r=Ka(r,0,i-1)}if(y){let b=Math.max(Sh(l,a.axis,m,!0).hi+1,n?0:Sh(e,d,a.getPixelForValue(m),!0).hi+1);if(c){const N=l.slice(b-1).findIndex(S=>!$n(S[o.axis]));b+=Math.max(0,N)}s=Ka(b,r,i)-r}else s=i-r}return{start:r,count:s}}function vX(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Rm=t=>t===0||t===1,KS=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Bo/n)),XS=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Bo/n)+1,Cp={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Fo)+1,easeOutSine:t=>Math.sin(t*Fo),easeInOutSine:t=>-.5*(Math.cos(yr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Rm(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Rm(t)?t:KS(t,.075,.3),easeOutElastic:t=>Rm(t)?t:XS(t,.075,.3),easeInOutElastic(t){return Rm(t)?t:t<.5?.5*KS(t*2,.1125,.45):.5+.5*XS(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Cp.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Cp.easeInBounce(t*2)*.5:Cp.easeOutBounce(t*2-1)*.5+.5};function Sw(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function YS(t){return Sw(t)?t:new ag(t)}function My(t){return Sw(t)?t:new ag(t).saturate(.5).darken(.1).hexString()}const bX=["x","y","borderWidth","radius","tension"],wX=["color","borderColor","backgroundColor"];function _X(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:wX},numbers:{type:"number",properties:bX}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function SX(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const QS=new Map;function NX(t,e){e=e||{};const n=t+JSON.stringify(e);let i=QS.get(n);return i||(i=new Intl.NumberFormat(t,e),QS.set(n,i)),i}function eL(t,e,n){return NX(e,n).format(t)}const kX={values(t){return nr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=CX(t,n)}const a=XP(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),eL(t,i,l)}};function CX(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var tL={formatters:kX};function jX(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tL.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Bh=Object.create(null),K4=Object.create(null);function jp(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Ry(t,e,n){return typeof e=="string"?og(jp(t,e),n):og(jp(t,""),e)}class AX{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>My(r.backgroundColor),this.hoverBorderColor=(i,r)=>My(r.borderColor),this.hoverColor=(i,r)=>My(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ry(this,e,n)}get(e){return jp(this,e)}describe(e,n){return Ry(K4,e,n)}override(e,n){return Ry(Bh,e,n)}route(e,n,i,r){const s=jp(this,e),a=jp(this,i),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[r];return fn(l)?Object.assign({},c,l):un(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ui=new AX({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_X,SX,jX]);function PX(t){return!t||$n(t.size)||$n(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function JS(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function sh(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function ZS(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function X4(t,e,n,i){nL(t,e,n,i,null)}function nL(t,e,n,i,r){let s,a,o,l,c,d,g,m;const p=e.pointStyle,y=e.rotation,b=e.radius;let N=(y||0)*iX;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(N),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),p){default:r?t.ellipse(n,i,r/2,b,0,0,Bo):t.arc(n,i,b,0,Bo),t.closePath();break;case"triangle":d=r?r/2:b,t.moveTo(n+Math.sin(N)*d,i-Math.cos(N)*b),N+=GS,t.lineTo(n+Math.sin(N)*d,i-Math.cos(N)*b),N+=GS,t.lineTo(n+Math.sin(N)*d,i-Math.cos(N)*b),t.closePath();break;case"rectRounded":c=b*.516,l=b-c,a=Math.cos(N+rh)*l,g=Math.cos(N+rh)*(r?r/2-c:l),o=Math.sin(N+rh)*l,m=Math.sin(N+rh)*(r?r/2-c:l),t.arc(n-g,i-o,c,N-yr,N-Fo),t.arc(n+m,i-a,c,N-Fo,N),t.arc(n+g,i+o,c,N,N+Fo),t.arc(n-m,i+a,c,N+Fo,N+yr),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*b,d=r?r/2:l,t.rect(n-d,i-l,2*d,2*l);break}N+=rh;case"rectRot":g=Math.cos(N)*(r?r/2:b),a=Math.cos(N)*b,o=Math.sin(N)*b,m=Math.sin(N)*(r?r/2:b),t.moveTo(n-g,i-o),t.lineTo(n+m,i-a),t.lineTo(n+g,i+o),t.lineTo(n-m,i+a),t.closePath();break;case"crossRot":N+=rh;case"cross":g=Math.cos(N)*(r?r/2:b),a=Math.cos(N)*b,o=Math.sin(N)*b,m=Math.sin(N)*(r?r/2:b),t.moveTo(n-g,i-o),t.lineTo(n+g,i+o),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a);break;case"star":g=Math.cos(N)*(r?r/2:b),a=Math.cos(N)*b,o=Math.sin(N)*b,m=Math.sin(N)*(r?r/2:b),t.moveTo(n-g,i-o),t.lineTo(n+g,i+o),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a),N+=rh,g=Math.cos(N)*(r?r/2:b),a=Math.cos(N)*b,o=Math.sin(N)*b,m=Math.sin(N)*(r?r/2:b),t.moveTo(n-g,i-o),t.lineTo(n+g,i+o),t.moveTo(n+m,i-a),t.lineTo(n-m,i+a);break;case"line":a=r?r/2:Math.cos(N)*b,o=Math.sin(N)*b,t.moveTo(n-a,i-o),t.lineTo(n+a,i+o);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(N)*(r?r/2:b),i+Math.sin(N)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function cg(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ux(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function hx(t){t.restore()}function LX(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function TX(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function EX(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),$n(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function MX(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function RX(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ug(t,e,n,i,r,s={}){const a=nr(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,EX(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&RX(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),$n(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),MX(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function Y4(t,e){const{x:n,y:i,w:r,h:s,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*yr,yr,!0),t.lineTo(n,i+s-a.bottomLeft),t.arc(n+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,yr,Fo,!0),t.lineTo(n+r-a.bottomRight,i+s),t.arc(n+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,Fo,0,!0),t.lineTo(n+r,i+a.topRight),t.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-Fo,!0),t.lineTo(n+a.topLeft,i)}const FX=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OX=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DX(t,e){const n=(""+t).match(FX);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const IX=t=>+t||0;function iL(t,e){const n={},i=fn(e),r=i?Object.keys(e):e,s=fn(t)?i?a=>un(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=IX(s(a));return n}function BX(t){return iL(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ap(t){return iL(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Za(t){const e=BX(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function is(t,e){t=t||{},e=e||Ui.font;let n=un(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=un(t.style,e.style);i&&!(""+i).match(OX)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:un(t.family,e.family),lineHeight:DX(un(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:un(t.weight,e.weight),string:""};return r.string=PX(r),r}function Fm(t,e,n,i){let r,s,a;for(r=0,s=t.length;r<s;++r)if(a=t[r],a!==void 0&&a!==void 0)return a}function zX(t,e,n){const{min:i,max:r}=t,s=YK(e,(r-i)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(i,-Math.abs(s)),max:a(r,s)}}function ed(t,e){return Object.assign(Object.create(t),e)}function Nw(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=oL("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:o=>Nw([o,...t],e,s,i)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return sL(o,l,()=>KX(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return t7(o).includes(l)},ownKeys(o){return t7(o)},set(o,l,c){const d=o._storage||(o._storage=r());return o[l]=d[l]=c,delete o._keys,!0}})}function Df(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:rL(t,i),setContext:s=>Df(t,s,n,i),override:s=>Df(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return sL(s,a,()=>VX(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function rL(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:vu(n)?n:()=>n,isIndexable:vu(i)?i:()=>i}}const UX=(t,e)=>t?t+bw(e):e,kw=(t,e)=>fn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function sL(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function VX(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=t;let o=i[e];return vu(o)&&a.isScriptable(e)&&(o=HX(e,o,t,n)),nr(o)&&o.length&&(o=GX(e,o,t,a.isIndexable)),kw(e,o)&&(o=Df(o,r,s&&s[e],a)),o}function HX(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||i);return o.delete(t),kw(t,l)&&(l=Cw(r._scopes,r,t,l)),l}function GX(t,e,n,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(fn(e[0])){const l=e,c=r._scopes.filter(d=>d!==l);e=[];for(const d of l){const g=Cw(c,r,t,d);e.push(Df(g,s,a&&a[t],o))}}return e}function aL(t,e,n){return vu(t)?t(e,n):t}const WX=(t,e)=>t===!0?e:typeof t=="string"?P2(e,t):void 0;function qX(t,e,n,i,r){for(const s of e){const a=WX(n,s);if(a){t.add(a);const o=aL(a._fallback,n,r);if(typeof o<"u"&&o!==n&&o!==i)return o}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function Cw(t,e,n,i){const r=e._rootScopes,s=aL(e._fallback,n,i),a=[...t,...r],o=new Set;o.add(i);let l=e7(o,a,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=e7(o,a,s,l,i),l===null)?!1:Nw(Array.from(o),[""],r,s,()=>$X(e,n,i))}function e7(t,e,n,i,r){for(;n;)n=qX(t,e,n,i,r);return n}function $X(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return nr(r)&&fn(n)?n:r||{}}function KX(t,e,n,i){let r;for(const s of e)if(r=oL(UX(s,t),n),typeof r<"u")return kw(t,r)?Cw(n,i,t,r):r}function oL(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function t7(t){let e=t._keys;return e||(e=t._keys=XX(t._scopes)),e}function XX(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const YX=Number.EPSILON||1e-14,If=(t,e)=>e<t.length&&!t[e].skip&&t[e],lL=t=>t==="x"?"y":"x";function QX(t,e,n,i){const r=t.skip?e:t,s=e,a=n.skip?e:n,o=$4(s,r),l=$4(a,s);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const g=i*c,m=i*d;return{previous:{x:s.x-g*(a.x-r.x),y:s.y-g*(a.y-r.y)},next:{x:s.x+m*(a.x-r.x),y:s.y+m*(a.y-r.y)}}}function JX(t,e,n){const i=t.length;let r,s,a,o,l,c=If(t,0);for(let d=0;d<i-1;++d)if(l=c,c=If(t,d+1),!(!l||!c)){if(kp(e[d],0,YX)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],s=n[d+1]/e[d],o=Math.pow(r,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),n[d]=r*a*e[d],n[d+1]=s*a*e[d])}}function ZX(t,e,n="x"){const i=lL(n),r=t.length;let s,a,o,l=If(t,0);for(let c=0;c<r;++c){if(a=o,o=l,l=If(t,c+1),!o)continue;const d=o[n],g=o[i];a&&(s=(d-a[n])/3,o[`cp1${n}`]=d-s,o[`cp1${i}`]=g-s*e[c]),l&&(s=(l[n]-d)/3,o[`cp2${n}`]=d+s,o[`cp2${i}`]=g+s*e[c])}}function eY(t,e="x"){const n=lL(e),i=t.length,r=Array(i).fill(0),s=Array(i);let a,o,l,c=If(t,0);for(a=0;a<i;++a)if(o=l,l=c,c=If(t,a+1),!!l){if(c){const d=c[e]-l[e];r[a]=d!==0?(c[n]-l[n])/d:0}s[a]=o?c?Of(r[a-1])!==Of(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}JX(t,r,s),ZX(t,s,e)}function Om(t,e,n){return Math.max(Math.min(t,n),e)}function tY(t,e){let n,i,r,s,a,o=cg(t[0],e);for(n=0,i=t.length;n<i;++n)a=s,s=o,o=n<i-1&&cg(t[n+1],e),s&&(r=t[n],a&&(r.cp1x=Om(r.cp1x,e.left,e.right),r.cp1y=Om(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=Om(r.cp2x,e.left,e.right),r.cp2y=Om(r.cp2y,e.top,e.bottom)))}function nY(t,e,n,i,r){let s,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")eY(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=QX(c,o,t[Math.min(s+1,a-(i?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&tY(t,n)}function jw(){return typeof window<"u"&&typeof document<"u"}function Aw(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function E2(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const dx=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function iY(t,e){return dx(t).getPropertyValue(e)}const rY=["top","right","bottom","left"];function Ph(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=rY[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const sY=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function aY(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let a=!1,o,l;if(sY(r,s,t.target))o=r,l=s;else{const c=e.getBoundingClientRect();o=i.clientX-c.left,l=i.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function dh(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=dx(n),s=r.boxSizing==="border-box",a=Ph(r,"padding"),o=Ph(r,"border","width"),{x:l,y:c,box:d}=aY(t,n),g=a.left+(d&&o.left),m=a.top+(d&&o.top);let{width:p,height:y}=e;return s&&(p-=a.width+o.width,y-=a.height+o.height),{x:Math.round((l-g)/p*n.width/i),y:Math.round((c-m)/y*n.height/i)}}function oY(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&Aw(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),o=dx(s),l=Ph(o,"border","width"),c=Ph(o,"padding");e=a.width-c.width-l.width,n=a.height-c.height-l.height,i=E2(o.maxWidth,s,"clientWidth"),r=E2(o.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||T2,maxHeight:r||T2}}const eu=t=>Math.round(t*10)/10;function lY(t,e,n,i){const r=dx(t),s=Ph(r,"margin"),a=E2(r.maxWidth,t,"clientWidth")||T2,o=E2(r.maxHeight,t,"clientHeight")||T2,l=oY(t,e,n);let{width:c,height:d}=l;if(r.boxSizing==="content-box"){const m=Ph(r,"border","width"),p=Ph(r,"padding");c-=p.width+m.width,d-=p.height+m.height}return c=Math.max(0,c-s.width),d=Math.max(0,i?c/i:d-s.height),c=eu(Math.min(c,a,l.maxWidth)),d=eu(Math.min(d,o,l.maxHeight)),c&&!d&&(d=eu(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&d>l.height&&(d=l.height,c=eu(Math.floor(d*i))),{width:c,height:d}}function n7(t,e,n){const i=e||1,r=eu(t.height*i),s=eu(t.width*i);t.height=eu(t.height),t.width=eu(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==r||a.width!==s?(t.currentDevicePixelRatio=i,a.height=r,a.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const cY=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};jw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function i7(t,e){const n=iY(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function fh(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function uY(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function hY(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=fh(t,r,n),o=fh(r,s,n),l=fh(s,e,n),c=fh(a,o,n),d=fh(o,l,n);return fh(c,d,n)}const dY=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},fY=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function mf(t,e,n){return t?dY(e,n):fY()}function cL(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function uL(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function hL(t){return t==="angle"?{between:YP,compare:uX,normalize:cl}:{between:of,compare:(e,n)=>e-n,normalize:e=>e}}function r7({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function pY(t,e,n){const{property:i,start:r,end:s}=n,{between:a,normalize:o}=hL(i),l=e.length;let{start:c,end:d,loop:g}=t,m,p;if(g){for(c+=l,d+=l,m=0,p=l;m<p&&a(o(e[c%l][i]),r,s);++m)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:g,style:t.style}}function dL(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,a=e.length,{compare:o,between:l,normalize:c}=hL(i),{start:d,end:g,loop:m,style:p}=pY(t,e,n),y=[];let b=!1,N=null,S,j,w;const k=()=>l(r,w,S)&&o(r,w)!==0,E=()=>o(s,S)===0||l(s,w,S),I=()=>b||k(),U=()=>!b||E();for(let R=d,B=d;R<=g;++R)j=e[R%a],!j.skip&&(S=c(j[i]),S!==w&&(b=l(S,r,s),N===null&&I()&&(N=o(S,r)===0?R:B),N!==null&&U()&&(y.push(r7({start:N,end:R,loop:m,count:a,style:p})),N=null),B=R,w=S));return N!==null&&y.push(r7({start:N,end:g,loop:m,count:a,style:p})),y}function fL(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=dL(i[r],t.points,e);s.length&&n.push(...s)}return n}function gY(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function mY(t,e,n,i){const r=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?o.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%r,end:a%r,loop:i}),s}function xY(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:a,end:o}=gY(n,r,s,i);if(i===!0)return s7(t,[{start:a,end:o,loop:s}],n,e);const l=o<a?o+r:o,c=!!t._fullLoop&&a===0&&o===r-1;return s7(t,mY(n,a,l,c),n,e)}function s7(t,e,n,i){return!i||!i.setContext||!n?e:yY(t,e,n,i)}function yY(t,e,n,i){const r=t._chart.getContext(),s=a7(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,c=[];let d=s,g=e[0].start,m=g;function p(y,b,N,S){const j=o?-1:1;if(y!==b){for(y+=l;n[y%l].skip;)y-=j;for(;n[b%l].skip;)b+=j;y%l!==b%l&&(c.push({start:y%l,end:b%l,loop:N,style:S}),d=S,g=b%l)}}for(const y of e){g=o?g:y.start;let b=n[g%l],N;for(m=g+1;m<=y.end;m++){const S=n[m%l];N=a7(i.setContext(ed(r,{type:"segment",p0:b,p1:S,p0DataIndex:(m-1)%l,p1DataIndex:m%l,datasetIndex:a}))),vY(N,d)&&p(g,m-1,y.loop,d),b=S,d=N}g<m-1&&p(g,m-1,y.loop,d)}return c}function a7(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function vY(t,e){if(!e)return!1;const n=[],i=function(r,s){return Sw(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Dm(t,e,n){return t.options.clip?t[n]:e[n]}function bY(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Dm(n,e,"left"),right:Dm(n,e,"right"),top:Dm(i,e,"top"),bottom:Dm(i,e,"bottom")}:e}function pL(t,e){const n=e._clip;if(n.disabled)return!1;const i=bY(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class wY{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],a=n.duration;s.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=JP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Yl=new wY;const o7="transparent",_Y={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=YS(t||o7),r=i.valid&&YS(e||o7);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class SY{constructor(e,n,i,r){const s=n[i];r=Fm([e.to,r,s,e.from]);const a=Fm([e.from,s,r]);this._active=!0,this._fn=e.fn||_Y[e.type||typeof a],this._easing=Cp[e.easing]||Cp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Fm([e.to,n,r,e.from]),this._from=Fm([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||n<i),!this._active){this._target[r]=o,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class gL{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!fn(e))return;const n=Object.keys(Ui.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!fn(s))return;const a={};for(const o of n)a[o]=s[o];(nr(s.properties)&&s.properties||[r]).forEach(o=>{(o===r||!i.has(o))&&i.set(o,a)})})}_animateOptions(e,n){const i=n.options,r=kY(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&NY(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const d=n[c];let g=s[c];const m=i.get(c);if(g)if(m&&g.active()){g.update(m,d,o);continue}else g.cancel();if(!m||!m.duration){e[c]=d;continue}s[c]=g=new SY(m,e,c,d),r.push(g)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Yl.add(this._chart,i),!0}}function NY(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function kY(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function l7(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function CY(t,e,n){if(n===!1)return!1;const i=l7(t,n),r=l7(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function jY(t){let e,n,i,r;return fn(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function mL(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function c7(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let a,o,l,c;if(e===null)return;let d=!1;for(a=0,o=r.length;a<o;++a){if(l=+r[a],l===n){if(d=!0,i.all)continue;break}c=t.values[l],ss(c)&&(s||e===0||Of(e)===Of(c))&&(e+=c)}return!d&&!i.all?0:e}function AY(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,d;for(l=0,c=a.length;l<c;++l)d=a[l],o[l]={[r]:d,[s]:t[d]};return o}function Fy(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function PY(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function LY(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function TY(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function u7(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function h7(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=i,l=s.axis,c=a.axis,d=PY(s,a,i),g=e.length;let m;for(let p=0;p<g;++p){const y=e[p],{[l]:b,[c]:N}=y,S=y._stacks||(y._stacks={});m=S[c]=TY(r,d,b),m[o]=N,m._top=u7(m,a,!0,i.type),m._bottom=u7(m,a,!1,i.type);const j=m._visualValues||(m._visualValues={});j[o]=N}}function Oy(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function EY(t,e){return ed(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function MY(t,e,n){return ed(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function H0(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Dy=t=>t==="reset"||t==="none",d7=(t,e)=>e?t:Object.assign({},t),RY=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:mL(n,!0),values:null};class Pp{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Fy(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&H0(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(g,m,p,y)=>g==="x"?m:g==="r"?y:p,s=n.xAxisID=un(i.xAxisID,Oy(e,"x")),a=n.yAxisID=un(i.yAxisID,Oy(e,"y")),o=n.rAxisID=un(i.rAxisID,Oy(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,a,o),d=n.vAxisID=r(l,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&$S(this._data,this),e._stacked&&H0(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(fn(n)){const r=this._cachedMeta;this._data=AY(n,r)}else if(i!==n){if(i){$S(i,this);const r=this._cachedMeta;H0(r),r._parsed=[]}n&&Object.isExtensible(n)&&pX(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Fy(n.vScale,n),n.stack!==i.stack&&(r=!0,H0(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(h7(this,n._parsed),n._stacked=Fy(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,o=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],d,g,m;if(this._parsing===!1)i._parsed=r,i._sorted=!0,m=r;else{nr(r[e])?m=this.parseArrayData(i,r,e,n):fn(r[e])?m=this.parseObjectData(i,r,e,n):m=this.parsePrimitiveData(i,r,e,n);const p=()=>g[o]===null||c&&g[o]<c[o];for(d=0;d<n;++d)i._parsed[d+e]=g=m[d],l&&(p()&&(l=!1),c=g);i._sorted=l}a&&h7(this,m)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),d=s===a,g=new Array(r);let m,p,y;for(m=0,p=r;m<p;++m)y=m+i,g[m]={[o]:d||s.parse(c[y],y),[l]:a.parse(n[y],y)};return g}parseArrayData(e,n,i,r){const{xScale:s,yScale:a}=e,o=new Array(r);let l,c,d,g;for(l=0,c=r;l<c;++l)d=l+i,g=n[d],o[l]={x:s.parse(g[0],d),y:a.parse(g[1],d)};return o}parseObjectData(e,n,i,r){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let d,g,m,p;for(d=0,g=r;d<g;++d)m=d+i,p=n[m],c[d]={x:s.parse(P2(p,o),m),y:a.parse(P2(p,l),m)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,a=n[e.axis],o={keys:mL(r,!0),values:n._stacks[e.axis]._visualValues};return c7(o,a,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let a=s===null?NaN:s;const o=r&&i._stacks[n.axis];r&&o&&(r.values=o,a=c7(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,o=this._getOtherScale(e),l=RY(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:g}=LY(o);let m,p;function y(){p=r[m];const b=p[o.axis];return!ss(p[e.axis])||d>b||g<b}for(m=0;m<a&&!(!y()&&(this.updateRangeFromParsed(c,e,p,l),s));++m);if(s){for(m=a-1;m>=0;--m)if(!y()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=n.length;r<s;++r)a=n[r][e.axis],ss(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=jY(un(this.options.clip,CY(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(e,s,o,l),d=o;d<o+l;++d){const g=r[d];g.hidden||(g.active&&c?a.push(g):g.draw(e,s))}for(d=0;d<a.length;++d)a[d].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=MY(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=EY(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,a=e+"-"+n,o=s[a],l=this.enableOptionSharing&&L2(i);if(o)return d7(o,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),g=r?[`${e}Hover`,"hover",e,""]:[e,""],m=c.getOptionScopes(this.getDataset(),d),p=Object.keys(Ui.elements[e]),y=()=>this.getContext(i,r,n),b=c.resolveNamedOptions(m,p,y,g);return b.$shared&&(b.$shared=l,s[a]=Object.freeze(d7(b,l))),b}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let l;if(r.options.animation!==!1){const d=this.chart.config,g=d.datasetAnimationScopeKeys(this._type,n),m=d.getOptionScopes(this.getDataset(),g);l=d.createResolver(m,this.getContext(e,i,n))}const c=new gL(r,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Dy(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:a}}updateElement(e,n,i,r){Dy(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Dy(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const r=i.length,s=n.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,a=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&H0(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}it(Pp,"defaults",{}),it(Pp,"datasetElementType",null),it(Pp,"dataElementType",null);class j1 extends Pp{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=yX(n,r,a);this._drawStart=o,this._drawCount=l,vX(n)&&(o=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:c},e),this.updateElements(r,o,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:g}=this._getSharedOptions(n,r),m=a.axis,p=o.axis,{spanGaps:y,segment:b}=this.options,N=lg(y)?y:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||s||r==="none",j=n+i,w=e.length;let k=n>0&&this.getParsed(n-1);for(let E=0;E<w;++E){const I=e[E],U=S?I:{};if(E<n||E>=j){U.skip=!0;continue}const R=this.getParsed(E),B=$n(R[p]),O=U[m]=a.getPixelForValue(R[m],E),P=U[p]=s||B?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,R,l):R[p],E);U.skip=isNaN(O)||isNaN(P)||B,U.stop=E>0&&Math.abs(R[m]-k[m])>N,b&&(U.parsed=R,U.raw=c.data[E]),g&&(U.options=d||this.resolveDataElementOptions(E,I.active?"active":r)),S||this.updateElement(I,E,U,r),k=R}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}it(j1,"id","line"),it(j1,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),it(j1,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function ah(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Pw{constructor(e){it(this,"options");this.options=e||{}}static override(e){Object.assign(Pw.prototype,e)}init(){}formats(){return ah()}parse(){return ah()}format(){return ah()}add(){return ah()}diff(){return ah()}startOf(){return ah()}endOf(){return ah()}}var FY={_date:Pw};function OY(t,e,n,i){const{controller:r,data:s,_sorted:a}=t,o=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?dX:Sh;if(i){if(r._sharedOptions){const d=s[0],g=typeof d.getRange=="function"&&d.getRange(e);if(g){const m=c(s,e,n-g),p=c(s,e,n+g);return{lo:m.lo,hi:p.hi}}}}else{const d=c(s,e,n);if(l){const{vScale:g}=r._cachedMeta,{_parsed:m}=t,p=m.slice(0,d.lo+1).reverse().findIndex(b=>!$n(b[g.axis]));d.lo-=Math.max(0,p);const y=m.slice(d.hi).findIndex(b=>!$n(b[g.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:s.length-1}}function fx(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:d}=s[o],{lo:g,hi:m}=OY(s[o],e,a,r);for(let p=g;p<=m;++p){const y=d[p];y.skip||i(y,c,p)}}}function DY(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Iy(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||fx(t,n,e,function(o,l,c){!r&&!cg(o,t.chartArea,0)||o.inRange(e.x,e.y,i)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function IY(t,e,n,i){let r=[];function s(a,o,l){const{startAngle:c,endAngle:d}=a.getProps(["startAngle","endAngle"],i),{angle:g}=cX(a,{x:e.x,y:e.y});YP(g,c,d)&&r.push({element:a,datasetIndex:o,index:l})}return fx(t,n,e,s),r}function BY(t,e,n,i,r,s){let a=[];const o=DY(n);let l=Number.POSITIVE_INFINITY;function c(d,g,m){const p=d.inRange(e.x,e.y,r);if(i&&!p)return;const y=d.getCenterPoint(r);if(!(!!s||t.isPointInArea(y))&&!p)return;const N=o(e,y);N<l?(a=[{element:d,datasetIndex:g,index:m}],l=N):N===l&&a.push({element:d,datasetIndex:g,index:m})}return fx(t,n,e,c),a}function By(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?IY(t,e,n,r):BY(t,e,n,i,r,s)}function f7(t,e,n,i,r){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return fx(t,n,e,(l,c,d)=>{l[a]&&l[a](e[n],r)&&(s.push({element:l,datasetIndex:c,index:d}),o=o||l.inRange(e.x,e.y,r))}),i&&!o?[]:s}var zY={modes:{index(t,e,n,i){const r=dh(e,t),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Iy(t,r,s,i,a):By(t,r,s,!1,i,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=o[0].index,g=c.data[d];g&&!g.skip&&l.push({element:g,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,i){const r=dh(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Iy(t,r,s,i,a):By(t,r,s,!1,i,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let d=0;d<c.length;++d)o.push({element:c[d],datasetIndex:l,index:d})}return o},point(t,e,n,i){const r=dh(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return Iy(t,r,s,i,a)},nearest(t,e,n,i){const r=dh(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return By(t,r,s,n.intersect,i,a)},x(t,e,n,i){const r=dh(e,t);return f7(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=dh(e,t);return f7(t,r,"y",n.intersect,i)}}};const xL=["left","top","right","bottom"];function G0(t,e){return t.filter(n=>n.pos===e)}function p7(t,e){return t.filter(n=>xL.indexOf(n.pos)===-1&&n.box.axis===e)}function W0(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function UY(t){const e=[];let n,i,r,s,a,o;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:a,stackWeight:o=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:o});return e}function VY(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!xL.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function HY(t,e){const n=VY(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,c=n[o.stack],d=c&&o.stackWeight/c.weight;o.horizontal?(o.width=d?d*i:l&&e.availableWidth,o.height=r):(o.width=i,o.height=d?d*r:l&&e.availableHeight)}return n}function GY(t){const e=UY(t),n=W0(e.filter(c=>c.box.fullSize),!0),i=W0(G0(e,"left"),!0),r=W0(G0(e,"right")),s=W0(G0(e,"top"),!0),a=W0(G0(e,"bottom")),o=p7(e,"x"),l=p7(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(a).concat(o),chartArea:G0(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(a).concat(o)}}function g7(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function yL(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function WY(t,e,n,i){const{pos:r,box:s}=n,a=t.maxPadding;if(!fn(r)){n.size&&(t[r]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?s.height:s.width),n.size=g.size/g.count,t[r]+=n.size}s.getPadding&&yL(a,s.getPadding());const o=Math.max(0,e.outerWidth-g7(a,t,"left","right")),l=Math.max(0,e.outerHeight-g7(a,t,"top","bottom")),c=o!==t.w,d=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function qY(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function $Y(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return i(t?["left","right"]:["top","bottom"])}function lp(t,e,n,i){const r=[];let s,a,o,l,c,d;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,$Y(o.horizontal,e));const{same:g,other:m}=WY(e,n,o,i);c|=g&&r.length,d=d||m,l.fullSize||r.push(o)}return c&&lp(r,e,n,i)||d}function Im(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function m7(t,e,n,i){const r=n.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,c=i[o.stack]||{placed:0,weight:1},d=o.stackWeight/c.weight||1;if(o.horizontal){const g=e.w*d,m=c.size||l.height;L2(c.start)&&(a=c.start),l.fullSize?Im(l,r.left,a,n.outerWidth-r.right-r.left,m):Im(l,e.left+c.placed,a,g,m),c.start=a,c.placed+=g,a=l.bottom}else{const g=e.h*d,m=c.size||l.width;L2(c.start)&&(s=c.start),l.fullSize?Im(l,s,r.top,m,n.outerHeight-r.bottom-r.top):Im(l,s,e.top+c.placed,m,g),c.start=s,c.placed+=g,s=l.right}}e.x=s,e.y=a}var Xa={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Za(t.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(n-r.height,0),o=GY(t.boxes),l=o.vertical,c=o.horizontal;An(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const d=l.reduce((b,N)=>N.box.options&&N.box.options.display===!1?b:b+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/d,hBoxMaxHeight:a/2}),m=Object.assign({},r);yL(m,Za(i));const p=Object.assign({maxPadding:m,w:s,h:a,x:r.left,y:r.top},r),y=HY(l.concat(c),g);lp(o.fullSize,p,g,y),lp(l,p,g,y),lp(c,p,g,y)&&lp(l,p,g,y),qY(p),m7(o.leftAndTop,p,g,y),p.x+=p.w,p.y+=p.h,m7(o.rightAndBottom,p,g,y),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},An(o.chartArea,b=>{const N=b.box;Object.assign(N,t.chartArea),N.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class vL{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class KY extends vL{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const A1="$chartjs",XY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},x7=t=>t===null||t==="";function YY(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[A1]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",x7(r)){const s=i7(t,"width");s!==void 0&&(t.width=s)}if(x7(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=i7(t,"height");s!==void 0&&(t.height=s)}return t}const bL=cY?{passive:!0}:!1;function QY(t,e,n){t&&t.addEventListener(e,n,bL)}function JY(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,bL)}function ZY(t,e){const n=XY[t.type]||t.type,{x:i,y:r}=dh(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function M2(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function eQ(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||M2(o.addedNodes,i),a=a&&!M2(o.removedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function tQ(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||M2(o.removedNodes,i),a=a&&!M2(o.addedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const hg=new Map;let y7=0;function wL(){const t=window.devicePixelRatio;t!==y7&&(y7=t,hg.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function nQ(t,e){hg.size||window.addEventListener("resize",wL),hg.set(t,e)}function iQ(t){hg.delete(t),hg.size||window.removeEventListener("resize",wL)}function rQ(t,e,n){const i=t.canvas,r=i&&Aw(i);if(!r)return;const s=ZP((o,l)=>{const c=r.clientWidth;n(o,l),c<r.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||s(c,d)});return a.observe(r),nQ(t,s),a}function zy(t,e,n){n&&n.disconnect(),e==="resize"&&iQ(t)}function sQ(t,e,n){const i=t.canvas,r=ZP(s=>{t.ctx!==null&&n(ZY(s,t))},t);return QY(i,e,r),r}class aQ extends vL{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(YY(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[A1])return!1;const i=n[A1].initial;["height","width"].forEach(s=>{const a=i[s];$n(a)?n.removeAttribute(s):n.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[A1],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:eQ,detach:tQ,resize:rQ}[n]||sQ;r[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:zy,detach:zy,resize:zy}[n]||JY)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return lY(e,n,i,r)}isAttached(e){const n=e&&Aw(e);return!!(n&&n.isConnected)}}function oQ(t){return!jw()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?KY:aQ}var r1;let td=(r1=class{constructor(){it(this,"x");it(this,"y");it(this,"active",!1);it(this,"options");it(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return lg(this.x)&&lg(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},it(r1,"defaults",{}),it(r1,"defaultRoutes"),r1);function lQ(t,e){const n=t.options.ticks,i=cQ(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?hQ(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>r)return dQ(e,c,s,a/r),c;const d=uQ(s,e,r);if(a>0){let g,m;const p=a>1?Math.round((l-o)/(a-1)):null;for(Bm(e,c,d,$n(p)?0:o-p,o),g=0,m=a-1;g<m;g++)Bm(e,c,d,s[g],s[g+1]);return Bm(e,c,d,l,$n(p)?e.length:l+p),c}return Bm(e,c,d),c}function cQ(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function uQ(t,e,n){const i=fQ(t),r=e.length/n;if(!i)return Math.max(r,1);const s=rX(i);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>r)return l}return Math.max(r,1)}function hQ(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function dQ(t,e,n,i){let r=0,s=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===s&&(e.push(t[a]),r++,s=n[r*i])}function Bm(t,e,n,i,r){const s=un(i,0),a=Math.min(un(r,t.length),t.length);let o=0,l,c,d;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),d=s;d<0;)o++,d=Math.round(s+o*n);for(c=Math.max(s,0);c<a;c++)c===d&&(e.push(t[c]),o++,d=Math.round(s+o*n))}function fQ(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const pQ=t=>t==="left"?"right":t==="right"?"left":t,v7=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,b7=(t,e)=>Math.min(e||t,t);function w7(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function gQ(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-o||l>a+o)))return l}function mQ(t,e){An(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function q0(t){return t.drawTicks?t.tickLength:0}function _7(t,e){if(!t.display)return 0;const n=is(t.font,e),i=Za(t.padding);return(nr(t.text)?t.text.length:1)*n.lineHeight+i.height}function xQ(t,e){return ed(t,{scale:e,type:"scale"})}function yQ(t,e,n){return ed(t,{tick:n,index:e,type:"tick"})}function vQ(t,e,n){let i=_w(t);return(n&&e!=="right"||!n&&e==="right")&&(i=pQ(i)),i}function bQ(t,e,n,i){const{top:r,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:d}=l;let g=0,m,p,y;const b=a-r,N=o-s;if(t.isHorizontal()){if(p=Jr(i,s,o),fn(n)){const S=Object.keys(n)[0],j=n[S];y=d[S].getPixelForValue(j)+b-e}else n==="center"?y=(c.bottom+c.top)/2+b-e:y=v7(t,n,e);m=o-s}else{if(fn(n)){const S=Object.keys(n)[0],j=n[S];p=d[S].getPixelForValue(j)-N+e}else n==="center"?p=(c.left+c.right)/2-N+e:p=v7(t,n,e);y=Jr(i,a,r),g=n==="left"?-Fo:Fo}return{titleX:p,titleY:y,maxWidth:m,rotation:g}}class e0 extends td{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=il(e,Number.POSITIVE_INFINITY),n=il(n,Number.NEGATIVE_INFINITY),i=il(i,Number.POSITIVE_INFINITY),r=il(r,Number.NEGATIVE_INFINITY),{min:il(e,i),max:il(n,r),minDefined:ss(e),maxDefined:ss(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),a;if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),s||(i=Math.max(i,a.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:il(n,il(i,n)),max:il(i,il(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ti(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zX(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?w7(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=lQ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ti(this.options.afterUpdate,[this])}beforeSetDimensions(){ti(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ti(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ti(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ti(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=ti(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){ti(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ti(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=b7(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let a=r,o,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),g=d.widest.width,m=d.highest.height,p=Ka(this.chart.width-g,0,this.maxWidth);o=e.offset?this.maxWidth/i:p/(i-1),g+6>o&&(o=p/(i-(e.offset?.5:1)),l=this.maxHeight-q0(e.grid)-n.padding-_7(e.title,this.chart.options.font),c=Math.sqrt(g*g+m*m),a=lX(Math.min(Math.asin(Ka((d.highest.height+6)/o,-1,1)),Math.asin(Ka(l/c,-1,1))-Math.asin(Ka(m/c,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){ti(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ti(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=_7(r,n.options.font);if(o?(e.width=this.maxWidth,e.height=q0(s)+l):(e.height=this.maxHeight,e.width=q0(s)+l),i.display&&this.ticks.length){const{first:c,last:d,widest:g,highest:m}=this._getLabelSizes(),p=i.padding*2,y=_h(this.labelRotation),b=Math.cos(y),N=Math.sin(y);if(o){const S=i.mirror?0:N*g.width+b*m.height;e.height=Math.min(this.maxHeight,e.height+S+p)}else{const S=i.mirror?0:b*g.width+N*m.height;e.width=Math.min(this.maxWidth,e.width+S+p)}this._calculatePadding(c,d,N,b)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,p=0;l?c?(m=r*e.width,p=i*n.height):(m=i*e.height,p=r*n.width):s==="start"?p=n.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,p=n.width/2),this.paddingLeft=Math.max((m-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-g+a)*this.width/(this.width-g),0)}else{let d=n.height/2,g=e.height/2;s==="start"?(d=0,g=e.height):s==="end"&&(d=n.height,g=0),this.paddingTop=d+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ti(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)$n(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=w7(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(n/b7(n,i));let c=0,d=0,g,m,p,y,b,N,S,j,w,k,E;for(g=0;g<n;g+=l){if(y=e[g].label,b=this._resolveTickFontOptions(g),r.font=N=b.string,S=s[N]=s[N]||{data:{},gc:[]},j=b.lineHeight,w=k=0,!$n(y)&&!nr(y))w=JS(r,S.data,S.gc,w,y),k=j;else if(nr(y))for(m=0,p=y.length;m<p;++m)E=y[m],!$n(E)&&!nr(E)&&(w=JS(r,S.data,S.gc,w,E),k+=j);a.push(w),o.push(k),c=Math.max(w,c),d=Math.max(k,d)}mQ(s,n);const I=a.indexOf(c),U=o.indexOf(d),R=B=>({width:a[B]||0,height:o[B]||0});return{first:R(0),last:R(n-1),widest:R(I),highest:R(U),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return hX(this._alignToPixels?sh(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=yQ(this.getContext(),e,i))}return this.$context||(this.$context=xQ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=_h(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*i>o*r?o/i:l/r:l*r<o*i?l/i:o/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:o}=r,l=s.offset,c=this.isHorizontal(),g=this.ticks.length+(l?1:0),m=q0(s),p=[],y=o.setContext(this.getContext()),b=y.display?y.width:0,N=b/2,S=function(ce){return sh(i,ce,b)};let j,w,k,E,I,U,R,B,O,P,M,G;if(a==="top")j=S(this.bottom),U=this.bottom-m,B=j-N,P=S(e.top)+N,G=e.bottom;else if(a==="bottom")j=S(this.top),P=e.top,G=S(e.bottom)-N,U=j+N,B=this.top+m;else if(a==="left")j=S(this.right),I=this.right-m,R=j-N,O=S(e.left)+N,M=e.right;else if(a==="right")j=S(this.left),O=e.left,M=S(e.right)-N,I=j+N,R=this.left+m;else if(n==="x"){if(a==="center")j=S((e.top+e.bottom)/2+.5);else if(fn(a)){const ce=Object.keys(a)[0],pe=a[ce];j=S(this.chart.scales[ce].getPixelForValue(pe))}P=e.top,G=e.bottom,U=j+N,B=U+m}else if(n==="y"){if(a==="center")j=S((e.left+e.right)/2);else if(fn(a)){const ce=Object.keys(a)[0],pe=a[ce];j=S(this.chart.scales[ce].getPixelForValue(pe))}I=j-N,R=I-m,O=e.left,M=e.right}const W=un(r.ticks.maxTicksLimit,g),Z=Math.max(1,Math.ceil(g/W));for(w=0;w<g;w+=Z){const ce=this.getContext(w),pe=s.setContext(ce),J=o.setContext(ce),ee=pe.lineWidth,he=pe.color,se=J.dash||[],F=J.dashOffset,q=pe.tickWidth,re=pe.tickColor,oe=pe.tickBorderDash||[],de=pe.tickBorderDashOffset;k=gQ(this,w,l),k!==void 0&&(E=sh(i,k,ee),c?I=R=O=M=E:U=B=P=G=E,p.push({tx1:I,ty1:U,tx2:R,ty2:B,x1:O,y1:P,x2:M,y2:G,width:ee,color:he,borderDash:se,borderDashOffset:F,tickWidth:q,tickColor:re,tickBorderDash:oe,tickBorderDashOffset:de}))}return this._ticksLength=g,this._borderValue=j,p}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:d,mirror:g}=s,m=q0(i.grid),p=m+d,y=g?-d:p,b=-_h(this.labelRotation),N=[];let S,j,w,k,E,I,U,R,B,O,P,M,G="middle";if(r==="top")I=this.bottom-y,U=this._getXAxisLabelAlignment();else if(r==="bottom")I=this.top+y,U=this._getXAxisLabelAlignment();else if(r==="left"){const Z=this._getYAxisLabelAlignment(m);U=Z.textAlign,E=Z.x}else if(r==="right"){const Z=this._getYAxisLabelAlignment(m);U=Z.textAlign,E=Z.x}else if(n==="x"){if(r==="center")I=(e.top+e.bottom)/2+p;else if(fn(r)){const Z=Object.keys(r)[0],ce=r[Z];I=this.chart.scales[Z].getPixelForValue(ce)+p}U=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")E=(e.left+e.right)/2-p;else if(fn(r)){const Z=Object.keys(r)[0],ce=r[Z];E=this.chart.scales[Z].getPixelForValue(ce)}U=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(l==="start"?G="top":l==="end"&&(G="bottom"));const W=this._getLabelSizes();for(S=0,j=o.length;S<j;++S){w=o[S],k=w.label;const Z=s.setContext(this.getContext(S));R=this.getPixelForTick(S)+s.labelOffset,B=this._resolveTickFontOptions(S),O=B.lineHeight,P=nr(k)?k.length:1;const ce=P/2,pe=Z.color,J=Z.textStrokeColor,ee=Z.textStrokeWidth;let he=U;a?(E=R,U==="inner"&&(S===j-1?he=this.options.reverse?"left":"right":S===0?he=this.options.reverse?"right":"left":he="center"),r==="top"?c==="near"||b!==0?M=-P*O+O/2:c==="center"?M=-W.highest.height/2-ce*O+O:M=-W.highest.height+O/2:c==="near"||b!==0?M=O/2:c==="center"?M=W.highest.height/2-ce*O:M=W.highest.height-P*O,g&&(M*=-1),b!==0&&!Z.showLabelBackdrop&&(E+=O/2*Math.sin(b))):(I=R,M=(1-P)*O/2);let se;if(Z.showLabelBackdrop){const F=Za(Z.backdropPadding),q=W.heights[S],re=W.widths[S];let oe=M-F.top,de=0-F.left;switch(G){case"middle":oe-=q/2;break;case"bottom":oe-=q;break}switch(U){case"center":de-=re/2;break;case"right":de-=re;break;case"inner":S===j-1?de-=re:S>0&&(de-=re/2);break}se={left:de,top:oe,width:re+F.width,height:q+F.height,color:Z.backdropColor}}N.push({label:k,font:B,textOffset:M,options:{rotation:b,color:pe,strokeColor:J,strokeWidth:ee,textAlign:he,textBaseline:G,translation:[E,I],backdrop:se}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-_h(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,d;return n==="left"?r?(d=this.right+s,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-o,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?r?(d=this.left+s,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+o,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,a=r.length;s<a;++s){const l=r[s];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const o=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,g,m;this.isHorizontal()?(c=sh(e,this.left,a)-a/2,d=sh(e,this.right,o)+o/2,g=m=l):(g=sh(e,this.top,a)-a/2,m=sh(e,this.bottom,o)+o/2,c=d=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,g),n.lineTo(d,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&ux(i,r);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,d=a.textOffset;ug(i,c,0,d,l,o)}r&&hx(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=is(i.font),a=Za(i.padding),o=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||fn(n)?(l+=a.bottom,nr(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=a.top;const{titleX:c,titleY:d,maxWidth:g,rotation:m}=bQ(this,l,n,o);ug(e,i.text,0,0,s,{color:i.color,maxWidth:g,rotation:m,textAlign:vQ(o,n,r),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=un(e.grid&&e.grid.z,-1),r=un(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==e0.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[i]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return is(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class zm{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;SQ(n)&&(i=this.register(n));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,wQ(e,a,i),this.override&&Ui.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Ui[r]&&(delete Ui[r][i],this.override&&delete Bh[i])}}function wQ(t,e,n){const i=og(Object.create(null),[n?Ui.get(n):{},Ui.get(e),t.defaults]);Ui.set(e,i),t.defaultRoutes&&_Q(e,t.defaultRoutes),t.descriptors&&Ui.describe(e,t.descriptors)}function _Q(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");Ui.route(s,r,l,o)})}function SQ(t){return"id"in t&&"defaults"in t}class NQ{constructor(){this.controllers=new zm(Pp,"datasets",!0),this.elements=new zm(td,"elements"),this.plugins=new zm(Object,"plugins"),this.scales=new zm(e0,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):An(r,a=>{const o=i||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,i){const r=bw(e);ti(i["before"+r],[],i),n[e](i),ti(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var ll=new NQ;class kQ{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,i,r){r=r||{};for(const s of e){const a=s.plugin,o=a[i],l=[n,r,s.options];if(ti(o,l,a)===!1&&r.cancelable)return!1}return!0}invalidate(){$n(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=un(i.options&&i.options.plugins,{}),s=CQ(i);return r===!1&&!n?[]:AQ(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function CQ(t){const e={},n=[],i=Object.keys(ll.plugins.items);for(let s=0;s<i.length;s++)n.push(ll.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function jQ(t,e){return!e&&t===!1?null:t===!0?{}:t}function AQ(t,{plugins:e,localIds:n},i,r){const s=[],a=t.getContext();for(const o of e){const l=o.id,c=jQ(i[l],r);c!==null&&s.push({plugin:o,options:PQ(t.config,{plugin:o,local:n[l]},c,a)})}return s}function PQ(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(i,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Q4(t,e){const n=Ui.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function LQ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function TQ(t,e){return t===e?"_index_":"_value_"}function S7(t){if(t==="x"||t==="y"||t==="r")return t}function EQ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function J4(t,...e){if(S7(t))return t;for(const n of e){const i=n.axis||EQ(n.position)||t.length>1&&S7(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function N7(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function MQ(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return N7(t,"x",n[0])||N7(t,"y",n[0])}return{}}function RQ(t,e){const n=Bh[t.type]||{scales:{}},i=e.scales||{},r=Q4(t.type,e),s=Object.create(null);return Object.keys(i).forEach(a=>{const o=i[a];if(!fn(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=J4(a,o,MQ(a,t),Ui.scales[o.type]),c=TQ(l,r),d=n.scales||{};s[a]=Np(Object.create(null),[{axis:l},o,d[l],d[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||Q4(o,e),d=(Bh[o]||{}).scales||{};Object.keys(d).forEach(g=>{const m=LQ(g,l),p=a[m+"AxisID"]||m;s[p]=s[p]||Object.create(null),Np(s[p],[{axis:m},i[p],d[g]])})}),Object.keys(s).forEach(a=>{const o=s[a];Np(o,[Ui.scales[o.type],Ui.scale])}),s}function _L(t){const e=t.options||(t.options={});e.plugins=un(e.plugins,{}),e.scales=RQ(t,e)}function SL(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function FQ(t){return t=t||{},t.data=SL(t.data),_L(t),t}const k7=new Map,NL=new Set;function Um(t,e){let n=k7.get(t);return n||(n=e(),k7.set(t,n),NL.add(n)),n}const $0=(t,e,n)=>{const i=P2(e,n);i!==void 0&&t.add(i)};class OQ{constructor(e){this._config=FQ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=SL(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),_L(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Um(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Um(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Um(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Um(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),o=a.get(n);if(o)return o;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(g=>$0(l,e,g))),d.forEach(g=>$0(l,r,g)),d.forEach(g=>$0(l,Bh[s]||{},g)),d.forEach(g=>$0(l,Ui,g)),d.forEach(g=>$0(l,K4,g))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),NL.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Bh[n]||{},Ui.datasets[n]||{},{type:n},Ui,K4]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=C7(this._resolverCache,e,r);let l=a;if(IQ(a,n)){s.$shared=!1,i=vu(i)?i():i;const c=this.createResolver(e,i,o);l=Df(a,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=C7(this._resolverCache,e,i);return fn(n)?Df(s,n,void 0,r):s}}function C7(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:Nw(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},i.set(r,s)),s}const DQ=t=>fn(t)&&Object.getOwnPropertyNames(t).some(e=>vu(t[e]));function IQ(t,e){const{isScriptable:n,isIndexable:i}=rL(t);for(const r of e){const s=n(r),a=i(r),o=(a||s)&&t[r];if(s&&(vu(o)||DQ(o))||a&&nr(o))return!0}return!1}var BQ="4.5.1";const zQ=["top","bottom","left","right","chartArea"];function j7(t,e){return t==="top"||t==="bottom"||zQ.indexOf(t)===-1&&e==="x"}function A7(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function P7(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ti(n&&n.onComplete,[t],e)}function UQ(t){const e=t.chart,n=e.options.animation;ti(n&&n.onProgress,[t],e)}function kL(t){return jw()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const P1={},L7=t=>{const e=kL(t);return Object.values(P1).filter(n=>n.canvas===e).pop()};function VQ(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const a=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=a)}}}function HQ(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var Uc;let px=(Uc=class{static register(...e){ll.add(...e),T7()}static unregister(...e){ll.remove(...e),T7()}constructor(e,n){const i=this.config=new OQ(n),r=kL(e),s=L7(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||oQ(r)),this.platform.updateConfig(i);const o=this.platform.acquireContext(r,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,d=l&&l.width;if(this.id=XK(),this.ctx=o,this.canvas=l,this.width=d,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kQ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mX(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],P1[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Yl.listen(this,"complete",P7),Yl.listen(this,"progress",UQ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return $n(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ll}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():n7(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ZS(this.canvas,this.ctx),this}stop(){return Yl.stop(this),this}resize(e,n){Yl.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,s),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,n7(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),ti(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};An(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],l=J4(a,o),c=l==="r",d=l==="x";return{options:o,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),An(s,a=>{const o=a.options,l=o.id,c=J4(l,o),d=un(o.type,a.dtype);(o.position===void 0||j7(o.position,c)!==j7(a.dposition))&&(o.position=a.dposition),r[l]=!0;let g=null;if(l in i&&i[l].type===d)g=i[l];else{const m=ll.getScale(d);g=new m({id:l,type:d,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(o,e)}),An(r,(a,o)=>{a||delete i[o]}),An(i,a=>{Xa.configure(this,a,a.options),Xa.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(A7("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let a=this.getDatasetMeta(i);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=o,a.indexAxis=s.indexAxis||Q4(o,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const l=ll.getController(o),{datasetElementType:c,dataElementType:d}=Ui.datasets[o];Object.assign(l,{dataElementType:ll.getElement(d),datasetElementType:c&&ll.getElement(c)}),a.controller=new l(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){An(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:g}=this.getDatasetMeta(c),m=!r&&s.indexOf(g)===-1;g.buildOrUpdateElements(m),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||An(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(A7("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){An(this.scales,e=>{Xa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!HS(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const a=i==="_removeElements"?-s:s;VQ(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!HS(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Xa.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],An(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,vu(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Yl.has(this)?this.attached&&!Yl.running(this)&&Yl.start(this):(this.draw(),P7({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const a=n[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=pL(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&ux(n,r),e.controller.draw(),r&&hx(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return cg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=zY.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ed(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);L2(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(o=>o.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Yl.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ZS(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete P1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},r=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};An(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{r("attach",o),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){An(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},An(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,a,o,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!j2(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(d=>!c.some(g=>d.datasetIndex===g.datasetIndex&&d.index===g.index)),a=s(n,e),o=i?e:s(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,a=n,o=this._getActiveElements(e,r,i,a),l=tX(e),c=HQ(e,this._lastEvent,i,l);i&&(this._lastEvent=null,ti(s.onHover,[e,o,this],this),l&&ti(s.onClick,[e,o,this],this));const d=!j2(o,r);return(d||n)&&(this._active=o,this._updateHoverStyles(o,r,n)),this._lastEvent=c,d}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},it(Uc,"defaults",Ui),it(Uc,"instances",P1),it(Uc,"overrides",Bh),it(Uc,"registry",ll),it(Uc,"version",BQ),it(Uc,"getChart",L7),Uc);function T7(){return An(px.instances,t=>t._plugins.invalidate())}function CL(t,e,n=e){t.lineCap=un(n.borderCapStyle,e.borderCapStyle),t.setLineDash(un(n.borderDash,e.borderDash)),t.lineDashOffset=un(n.borderDashOffset,e.borderDashOffset),t.lineJoin=un(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=un(n.borderWidth,e.borderWidth),t.strokeStyle=un(n.borderColor,e.borderColor)}function GQ(t,e,n){t.lineTo(n.x,n.y)}function WQ(t){return t.stepped?LX:t.tension||t.cubicInterpolationMode==="monotone"?TX:GQ}function jL(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:a,end:o}=e,l=Math.max(r,a),c=Math.min(s,o),d=r<a&&s<a||r>o&&s>o;return{count:i,start:l,loop:e.loop,ilen:c<l&&!d?i+c-l:c-l}}function qQ(t,e,n,i){const{points:r,options:s}=e,{count:a,start:o,loop:l,ilen:c}=jL(r,n,i),d=WQ(s);let{move:g=!0,reverse:m}=i||{},p,y,b;for(p=0;p<=c;++p)y=r[(o+(m?c-p:p))%a],!y.skip&&(g?(t.moveTo(y.x,y.y),g=!1):d(t,b,y,m,s.stepped),b=y);return l&&(y=r[(o+(m?c:0))%a],d(t,b,y,m,s.stepped)),!!l}function $Q(t,e,n,i){const r=e.points,{count:s,start:a,ilen:o}=jL(r,n,i),{move:l=!0,reverse:c}=i||{};let d=0,g=0,m,p,y,b,N,S;const j=k=>(a+(c?o-k:k))%s,w=()=>{b!==N&&(t.lineTo(d,N),t.lineTo(d,b),t.lineTo(d,S))};for(l&&(p=r[j(0)],t.moveTo(p.x,p.y)),m=0;m<=o;++m){if(p=r[j(m)],p.skip)continue;const k=p.x,E=p.y,I=k|0;I===y?(E<b?b=E:E>N&&(N=E),d=(g*d+k)/++g):(w(),t.lineTo(k,E),y=I,g=0,b=N=E),S=E}w()}function Z4(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?$Q:qQ}function KQ(t){return t.stepped?uY:t.tension||t.cubicInterpolationMode==="monotone"?hY:fh}function XQ(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),CL(t,e.options),t.stroke(r)}function YQ(t,e,n,i){const{segments:r,options:s}=e,a=Z4(e);for(const o of r)CL(t,s,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const QQ=typeof Path2D=="function";function JQ(t,e,n,i){QQ&&!e.options.segment?XQ(t,e,n,i):YQ(t,e,n,i)}class tu extends td{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;nY(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=xY(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,a=fL(this,{property:n,start:r,end:r});if(!a.length)return;const o=[],l=KQ(i);let c,d;for(c=0,d=a.length;c<d;++c){const{start:g,end:m}=a[c],p=s[g],y=s[m];if(p===y){o.push(p);continue}const b=Math.abs((r-p[n])/(y[n]-p[n])),N=l(p,y,b,i.stepped);N[n]=e[n],o.push(N)}return o.length===1?o[0]:o}pathSegment(e,n,i){return Z4(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Z4(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const o of r)a&=s(e,this,o,{start:n,end:n+i-1});return!!a}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),JQ(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}it(tu,"id","line"),it(tu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),it(tu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),it(tu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function E7(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class L1 extends td{constructor(n){super();it(this,"parsed");it(this,"skip");it(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(i-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return E7(this,n,"x",i)}inYRange(n,i){return E7(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!cg(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,X4(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}it(L1,"id","point"),it(L1,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),it(L1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ZQ(t,e,n){const i=t.segments,r=t.points,s=e.points,a=[];for(const o of i){let{start:l,end:c}=o;c=gx(l,c,r);const d=eb(n,r[l],r[c],o.loop);if(!e.segments){a.push({source:o,target:d,start:r[l],end:r[c]});continue}const g=fL(e,d);for(const m of g){const p=eb(n,s[m.start],s[m.end],m.loop),y=dL(o,r,p);for(const b of y)a.push({source:b,target:m,start:{[n]:M7(d,p,"start",Math.max)},end:{[n]:M7(d,p,"end",Math.min)}})}}return a}function eb(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=cl(r),s=cl(s)),{property:t,start:r,end:s}}function eJ(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=gx(a,o,r);const l=r[a],c=r[o];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function gx(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function M7(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function AL(t,e){let n=[],i=!1;return nr(t)?(i=!0,n=t):n=eJ(t,e),n.length?new tu({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function R7(t){return t&&t.fill!==!1}function tJ(t,e,n){let r=t[e].fill;const s=[e];let a;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!ss(r))return r;if(a=t[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function nJ(t,e,n){const i=aJ(t);if(fn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ss(r)&&Math.floor(r)===r?iJ(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function iJ(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function rJ(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:fn(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function sJ(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:fn(t)?i=t.value:i=e.getBaseValue(),i}function aJ(t){const e=t.options,n=e.fill;let i=un(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function oJ(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,a=i.points,o=lJ(e,n);o.push(AL({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let d=c.start;d<=c.end;d++)cJ(r,a[d],o)}return new tu({points:r,options:{}})}function lJ(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function cJ(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:a,last:o,point:l}=uJ(s,e,"x");if(!(!l||a&&o)){if(a)i.unshift(l);else if(t.push(l),!o)break}}t.push(...i)}function uJ(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const d=s[c],g=a[d.start][n],m=a[d.end][n];if(of(r,g,m)){o=r===g,l=r===m;break}}return{first:o,last:l,point:i}}class PL{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:a}=this;return n=n||{start:0,end:Bo},e.arc(r,s,a,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function hJ(t){const{chart:e,fill:n,line:i}=t;if(ss(n))return dJ(e,n);if(n==="stack")return oJ(t);if(n==="shape")return!0;const r=fJ(t);return r instanceof PL?r:AL(r,i)}function dJ(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function fJ(t){return(t.scale||{}).getPointPositionForValue?gJ(t):pJ(t)}function pJ(t){const{scale:e={},fill:n}=t,i=rJ(n,e);if(ss(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function gJ(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,a=sJ(n,e,s),o=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new PL({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<r;++l)o.push(e.getPointPositionForValue(l,a));return o}function Uy(t,e,n){const i=hJ(e),{chart:r,index:s,line:a,scale:o,axis:l}=e,c=a.options,d=c.fill,g=c.backgroundColor,{above:m=g,below:p=g}=d||{},y=r.getDatasetMeta(s),b=pL(r,y);i&&a.points.length&&(ux(t,n),mJ(t,{line:a,target:i,above:m,below:p,area:n,scale:o,axis:l,clip:b}),hx(t))}function mJ(t,e){const{line:n,target:i,above:r,below:s,area:a,scale:o,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let d=s;s!==r&&(c==="x"?(F7(t,i,a.top),Vy(t,{line:n,target:i,color:r,scale:o,property:c,clip:l}),t.restore(),t.save(),F7(t,i,a.bottom)):c==="y"&&(O7(t,i,a.left),Vy(t,{line:n,target:i,color:s,scale:o,property:c,clip:l}),t.restore(),t.save(),O7(t,i,a.right),d=r)),Vy(t,{line:n,target:i,color:d,scale:o,property:c,clip:l}),t.restore()}function F7(t,e,n){const{segments:i,points:r}=e;let s=!0,a=!1;t.beginPath();for(const o of i){const{start:l,end:c}=o,d=r[l],g=r[gx(l,c,r)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function O7(t,e,n){const{segments:i,points:r}=e;let s=!0,a=!1;t.beginPath();for(const o of i){const{start:l,end:c}=o,d=r[l],g=r[gx(l,c,r)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(n,g.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Vy(t,e){const{line:n,target:i,property:r,color:s,scale:a,clip:o}=e,l=ZQ(n,i,r);for(const{source:c,target:d,start:g,end:m}of l){const{style:{backgroundColor:p=s}={}}=c,y=i!==!0;t.save(),t.fillStyle=p,xJ(t,a,o,y&&eb(r,g,m)),t.beginPath();const b=!!n.pathSegment(t,c);let N;if(y){b?t.closePath():D7(t,i,m,r);const S=!!i.pathSegment(t,d,{move:b,reverse:!0});N=b&&S,N||D7(t,i,g,r)}t.closePath(),t.fill(N?"evenodd":"nonzero"),t.restore()}}function xJ(t,e,n,i){const r=e.chart.chartArea,{property:s,start:a,end:o}=i||{};if(s==="x"||s==="y"){let l,c,d,g;s==="x"?(l=a,c=r.top,d=o,g=r.bottom):(l=r.left,c=a,d=r.right,g=o),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),c=Math.max(c,n.top),g=Math.min(g,n.bottom)),t.rect(l,c,d-l,g-c),t.clip()}}function D7(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var yJ={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,a,o,l;for(a=0;a<i;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof tu&&(l={visible:t.isDatasetVisible(a),index:a,fill:nJ(o,a,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,r.push(l);for(a=0;a<i;++a)l=r[a],!(!l||l.fill===!1)&&(l.fill=tJ(r,a,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=r.length-1;a>=0;--a){const o=r[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),i&&o.fill&&Uy(t.ctx,o,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;R7(s)&&Uy(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!R7(i)||n.drawTime!=="beforeDatasetDraw"||Uy(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const I7=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},vJ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class B7 extends td{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ti(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=is(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=I7(i,s);let c,d;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(a,s,o,l)+10):(d=this.maxHeight,c=this._fitCols(a,r,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=r+o;let g=e;s.textAlign="left",s.textBaseline="middle";let m=-1,p=-d;return this.legendItems.forEach((y,b)=>{const N=i+n/2+s.measureText(y.text).width;(b===0||c[c.length-1]+N+2*o>a)&&(g+=d,c[c.length-(b>0?0:1)]=0,p+=d,m++),l[b]={left:0,top:p,row:m,width:N,height:r},c[c.length-1]+=N+o}),g}_fitCols(e,n,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=a-e;let g=o,m=0,p=0,y=0,b=0;return this.legendItems.forEach((N,S)=>{const{itemWidth:j,itemHeight:w}=bJ(i,n,s,N,r);S>0&&p+w+2*o>d&&(g+=m+o,c.push({width:m,height:p}),y+=m+o,b++,m=p=0),l[S]={left:y,top:p,col:b,width:j,height:w},m=Math.max(m,j),p+=w+o}),g+=m,c.push({width:m,height:p}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,a=mf(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Jr(i,this.left+r,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=Jr(i,this.left+r,this.right-this.lineWidths[o])),c.top+=this.top+e+r,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+r}else{let o=0,l=Jr(i,this.top+e+r,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=Jr(i,this.top+e+r,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+r,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ux(e,this),this._draw(),hx(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,o=Ui.color,l=mf(e.rtl,this.left,this.width),c=is(a.font),{padding:d}=a,g=c.size,m=g/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:y,boxHeight:b,itemHeight:N}=I7(a,g),S=function(I,U,R){if(isNaN(y)||y<=0||isNaN(b)||b<0)return;r.save();const B=un(R.lineWidth,1);if(r.fillStyle=un(R.fillStyle,o),r.lineCap=un(R.lineCap,"butt"),r.lineDashOffset=un(R.lineDashOffset,0),r.lineJoin=un(R.lineJoin,"miter"),r.lineWidth=B,r.strokeStyle=un(R.strokeStyle,o),r.setLineDash(un(R.lineDash,[])),a.usePointStyle){const O={radius:b*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:B},P=l.xPlus(I,y/2),M=U+m;nL(r,O,P,M,a.pointStyleWidth&&y)}else{const O=U+Math.max((g-b)/2,0),P=l.leftForLtr(I,y),M=Ap(R.borderRadius);r.beginPath(),Object.values(M).some(G=>G!==0)?Y4(r,{x:P,y:O,w:y,h:b,radius:M}):r.rect(P,O,y,b),r.fill(),B!==0&&r.stroke()}r.restore()},j=function(I,U,R){ug(r,R.text,I,U+N/2,c,{strikethrough:R.hidden,textAlign:l.textAlign(R.textAlign)})},w=this.isHorizontal(),k=this._computeTitleHeight();w?p={x:Jr(s,this.left+d,this.right-i[0]),y:this.top+d+k,line:0}:p={x:this.left+d,y:Jr(s,this.top+k+d,this.bottom-n[0].height),line:0},cL(this.ctx,e.textDirection);const E=N+d;this.legendItems.forEach((I,U)=>{r.strokeStyle=I.fontColor,r.fillStyle=I.fontColor;const R=r.measureText(I.text).width,B=l.textAlign(I.textAlign||(I.textAlign=a.textAlign)),O=y+m+R;let P=p.x,M=p.y;l.setWidth(this.width),w?U>0&&P+O+d>this.right&&(M=p.y+=E,p.line++,P=p.x=Jr(s,this.left+d,this.right-i[p.line])):U>0&&M+E>this.bottom&&(P=p.x=P+n[p.line].width+d,p.line++,M=p.y=Jr(s,this.top+k+d,this.bottom-n[p.line].height));const G=l.x(P);if(S(G,M,I),P=xX(B,P+y+m,w?P+O:this.right,e.rtl),j(l.x(P),M,I),w)p.x+=O+d;else if(typeof I.text!="string"){const W=c.lineHeight;p.y+=LL(I,W)+d}else p.y+=E}),uL(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=is(n.font),r=Za(n.padding);if(!n.display)return;const s=mf(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=i.size/2,c=r.top+l;let d,g=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+c,g=Jr(e.align,g,this.right-m);else{const y=this.columnSizes.reduce((b,N)=>Math.max(b,N.height),0);d=c+Jr(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const p=Jr(o,g,g+m);a.textAlign=s.textAlign(_w(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,ug(a,n.text,p,d,i)}_computeTitleHeight(){const e=this.options.title,n=is(e.font),i=Za(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(of(e,this.left,this.right)&&of(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],of(e,r.left,r.left+r.width)&&of(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!SJ(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=vJ(r,i);r&&!s&&ti(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&ti(n.onHover,[e,i,this],this)}else i&&ti(n.onClick,[e,i,this],this)}}function bJ(t,e,n,i,r){const s=wJ(i,t,e,n),a=_J(r,i,e.lineHeight);return{itemWidth:s,itemHeight:a}}function wJ(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+i.measureText(r).width}function _J(t,e,n){let i=t;return typeof e.text!="string"&&(i=LL(e,n)),i}function LL(t,e){const n=t.text?t.text.length:0;return e*n}function SJ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var NJ={id:"legend",_element:B7,start(t,e,n){const i=t.legend=new B7({ctx:t.ctx,options:n,chart:t});Xa.configure(t,i,n),Xa.addBox(t,i)},stop(t){Xa.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Xa.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=Za(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class TL extends td{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=nr(i.text)?i.text.length:1;this._padding=Za(i.padding);const s=r*is(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:a}=this,o=a.align;let l=0,c,d,g;return this.isHorizontal()?(d=Jr(o,i,s),g=n+e,c=s-i):(a.position==="left"?(d=i+e,g=Jr(o,r,n),l=yr*-.5):(d=s-e,g=Jr(o,n,r),l=yr*.5),c=r-n),{titleX:d,titleY:g,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=is(n.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);ug(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:_w(n.align),textBaseline:"middle",translation:[a,o]})}}function kJ(t,e){const n=new TL({ctx:t.ctx,options:e,chart:t});Xa.configure(t,n,e),Xa.addBox(t,n),t.titleBlock=n}var CJ={id:"title",_element:TL,start(t,e,n){kJ(t,n)},stop(t){const e=t.titleBlock;Xa.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Xa.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const cp={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((o,l)=>o+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=$4(e,c);d<r&&(r=d,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function sl(t,e){return e&&(nr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ql(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function jJ(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:a,value:o}=s.getLabelAndValue(r);return{chart:t,label:a,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:o,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function z7(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=is(e.bodyFont),c=is(e.titleFont),d=is(e.footerFont),g=s.length,m=r.length,p=i.length,y=Za(e.padding);let b=y.height,N=0,S=i.reduce((k,E)=>k+E.before.length+E.lines.length+E.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,g&&(b+=g*c.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),S){const k=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;b+=p*k+(S-p)*l.lineHeight+(S-1)*e.bodySpacing}m&&(b+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let j=0;const w=function(k){N=Math.max(N,n.measureText(k).width+j)};return n.save(),n.font=c.string,An(t.title,w),n.font=l.string,An(t.beforeBody.concat(t.afterBody),w),j=e.displayColors?a+2+e.boxPadding:0,An(i,k=>{An(k.before,w),An(k.lines,w),An(k.after,w)}),j=0,n.font=d.string,An(t.footer,w),n.restore(),N+=y.width,{width:N,height:b}}function AJ(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function PJ(t,e,n,i){const{x:r,width:s}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&r+s+a>e.width||t==="right"&&r-s-a<0)return!0}function LJ(t,e,n,i){const{x:r,width:s}=n,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return i==="center"?c=r<=(o+l)/2?"left":"right":r<=s/2?c="left":r>=a-s/2&&(c="right"),PJ(c,t,e,n)&&(c="center"),c}function U7(t,e,n){const i=n.yAlign||e.yAlign||AJ(t,n);return{xAlign:n.xAlign||e.xAlign||LJ(t,e,n,i),yAlign:i}}function TJ(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function EJ(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function V7(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,c=r+s,{topLeft:d,topRight:g,bottomLeft:m,bottomRight:p}=Ap(a);let y=TJ(e,o);const b=EJ(e,l,c);return l==="center"?o==="left"?y+=c:o==="right"&&(y-=c):o==="left"?y-=Math.max(d,m)+r:o==="right"&&(y+=Math.max(g,p)+r),{x:Ka(y,0,i.width-e.width),y:Ka(b,0,i.height-e.height)}}function Vm(t,e,n){const i=Za(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function H7(t){return sl([],Ql(t))}function MJ(t,e,n){return ed(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function G7(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const EL={beforeTitle:ql,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ql,beforeBody:ql,beforeLabel:ql,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return $n(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ql,afterBody:ql,beforeFooter:ql,footer:ql,afterFooter:ql};function Os(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?EL[e].call(n,i):r}class tb extends td{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new gL(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=MJ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Os(i,"beforeTitle",this,e),s=Os(i,"title",this,e),a=Os(i,"afterTitle",this,e);let o=[];return o=sl(o,Ql(r)),o=sl(o,Ql(s)),o=sl(o,Ql(a)),o}getBeforeBody(e,n){return H7(Os(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return An(e,s=>{const a={before:[],lines:[],after:[]},o=G7(i,s);sl(a.before,Ql(Os(o,"beforeLabel",this,s))),sl(a.lines,Os(o,"label",this,s)),sl(a.after,Ql(Os(o,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,n){return H7(Os(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Os(i,"beforeFooter",this,e),s=Os(i,"footer",this,e),a=Os(i,"afterFooter",this,e);let o=[];return o=sl(o,Ql(r)),o=sl(o,Ql(s)),o=sl(o,Ql(a)),o}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(jJ(this.chart,n[l]));return e.filter&&(o=o.filter((d,g,m)=>e.filter(d,g,m,i))),e.itemSort&&(o=o.sort((d,g)=>e.itemSort(d,g,i))),An(o,d=>{const g=G7(e.callbacks,d);r.push(Os(g,"labelColor",this,d)),s.push(Os(g,"labelPointStyle",this,d)),a.push(Os(g,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const o=cp[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const l=this._size=z7(this,i),c=Object.assign({},o,l),d=U7(this.chart,i,c),g=V7(i,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:g.x,y:g.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:g}=Ap(o),{x:m,y:p}=e,{width:y,height:b}=n;let N,S,j,w,k,E;return s==="center"?(k=p+b/2,r==="left"?(N=m,S=N-a,w=k+a,E=k-a):(N=m+y,S=N+a,w=k-a,E=k+a),j=N):(r==="left"?S=m+Math.max(l,d)+a:r==="right"?S=m+y-Math.max(c,g)-a:S=this.caretX,s==="top"?(w=p,k=w-a,N=S-a,j=S+a):(w=p+b,k=w+a,N=S+a,j=S-a),E=w),{x1:N,x2:S,x3:j,y1:w,y2:k,y3:E}}drawTitle(e,n,i){const r=this.title,s=r.length;let a,o,l;if(s){const c=mf(i.rtl,this.x,this.width);for(e.x=Vm(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",a=is(i.titleFont),o=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,n,i,r,s){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,d=is(s.bodyFont),g=Vm(this,"left",s),m=r.x(g),p=l<d.lineHeight?(d.lineHeight-l)/2:0,y=n.y+p;if(s.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},N=r.leftForLtr(m,c)+c/2,S=y+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,X4(e,b,N,S),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,X4(e,b,N,S)}else{e.lineWidth=fn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const b=r.leftForLtr(m,c),N=r.leftForLtr(r.xPlus(m,1),c-2),S=Ap(a.borderRadius);Object.values(S).some(j=>j!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Y4(e,{x:b,y,w:c,h:l,radius:S}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Y4(e,{x:N,y:y+1,w:c-2,h:l-2,radius:S}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,y,c,l),e.strokeRect(b,y,c,l),e.fillStyle=a.backgroundColor,e.fillRect(N,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:d}=i,g=is(i.bodyFont);let m=g.lineHeight,p=0;const y=mf(i.rtl,this.x,this.width),b=function(R){n.fillText(R,y.x(e.x+p),e.y+m/2),e.y+=m+s},N=y.textAlign(a);let S,j,w,k,E,I,U;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,e.x=Vm(this,N,i),n.fillStyle=i.bodyColor,An(this.beforeBody,b),p=o&&N!=="right"?a==="center"?c/2+d:c+2+d:0,k=0,I=r.length;k<I;++k){for(S=r[k],j=this.labelTextColors[k],n.fillStyle=j,An(S.before,b),w=S.lines,o&&w.length&&(this._drawColorBox(n,e,k,y,i),m=Math.max(g.lineHeight,l)),E=0,U=w.length;E<U;++E)b(w[E]),m=g.lineHeight;An(S.after,b)}p=0,m=g.lineHeight,An(this.afterBody,b),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let a,o;if(s){const l=mf(i.rtl,this.x,this.width);for(e.x=Vm(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",a=is(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(r[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:d}=i,{topLeft:g,topRight:m,bottomLeft:p,bottomRight:y}=Ap(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(o+g,l),a==="top"&&this.drawCaret(e,n,i,r),n.lineTo(o+c-m,l),n.quadraticCurveTo(o+c,l,o+c,l+m),a==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(o+c,l+d-y),n.quadraticCurveTo(o+c,l+d,o+c-y,l+d),a==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(o+p,l+d),n.quadraticCurveTo(o,l+d,o,l+d-p),a==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(o,l+g),n.quadraticCurveTo(o,l,o+g,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=cp[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=z7(this,e),l=Object.assign({},a,this._size),c=U7(n,e,l),d=V7(e,l,c,n);(r._to!==d.x||s._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Za(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),cL(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),uL(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!j2(i,r),a=this._positionChanged(r,n);(s||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,i),o=this._positionChanged(a,e),l=n||!j2(a,s)||o;return l&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,a=cp[s.position].call(this,e,n);return a!==!1&&(i!==a.x||r!==a.y)}}it(tb,"positioners",cp);var RJ={id:"tooltip",_element:tb,positioners:cp,afterInit(t,e,n){n&&(t.tooltip=new tb({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:EL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const FJ=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function OJ(t,e,n,i){const r=t.indexOf(e);if(r===-1)return FJ(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const DJ=(t,e)=>t===null?null:Ka(Math.round(t),0,e);function W7(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class nb extends e0{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if($n(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:OJ(i,e,un(n,e),this._addedLabels),DJ(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return W7.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}it(nb,"id","category"),it(nb,"defaults",{ticks:{callback:W7}});function IJ(t,e){const n=[],{bounds:r,step:s,min:a,max:o,precision:l,count:c,maxTicks:d,maxDigits:g,includeBounds:m}=t,p=s||1,y=d-1,{min:b,max:N}=e,S=!$n(a),j=!$n(o),w=!$n(c),k=(N-b)/(g+1);let E=WS((N-b)/y/p)*p,I,U,R,B;if(E<1e-14&&!S&&!j)return[{value:b},{value:N}];B=Math.ceil(N/E)-Math.floor(b/E),B>y&&(E=WS(B*E/y/p)*p),$n(l)||(I=Math.pow(10,l),E=Math.ceil(E*I)/I),r==="ticks"?(U=Math.floor(b/E)*E,R=Math.ceil(N/E)*E):(U=b,R=N),S&&j&&s&&aX((o-a)/s,E/1e3)?(B=Math.round(Math.min((o-a)/E,d)),E=(o-a)/B,U=a,R=o):w?(U=S?a:U,R=j?o:R,B=c-1,E=(R-U)/B):(B=(R-U)/E,kp(B,Math.round(B),E/1e3)?B=Math.round(B):B=Math.ceil(B));const O=Math.max(qS(E),qS(U));I=Math.pow(10,$n(l)?O:l),U=Math.round(U*I)/I,R=Math.round(R*I)/I;let P=0;for(S&&(m&&U!==a?(n.push({value:a}),U<a&&P++,kp(Math.round((U+P*E)*I)/I,a,q7(a,k,t))&&P++):U<a&&P++);P<B;++P){const M=Math.round((U+P*E)*I)/I;if(j&&M>o)break;n.push({value:M})}return j&&m&&R!==o?n.length&&kp(n[n.length-1].value,o,q7(o,k,t))?n[n.length-1].value=o:n.push({value:o}):(!j||R===o)&&n.push({value:R}),n}function q7(t,e,{horizontal:n,minRotation:i}){const r=_h(i),s=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class BJ extends e0{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return $n(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=l=>r=n?r:l,o=l=>s=i?s:l;if(e){const l=Of(r),c=Of(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=IJ(r,s);return e.bounds==="ticks"&&oX(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return eL(e,this.chart.options.locale,this.options.ticks.format)}}class ib extends BJ{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ss(e)?e:0,this.max=ss(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=_h(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}it(ib,"id","linear"),it(ib,"defaults",{ticks:{callback:tL.formatters.numeric}});const mx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Is=Object.keys(mx);function $7(t,e){return t-e}function K7(t,e){if($n(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),ss(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(lg(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,r)),+a)}function X7(t,e,n,i){const r=Is.length;for(let s=Is.indexOf(t);s<r-1;++s){const a=mx[Is[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=i)return Is[s]}return Is[r-1]}function zJ(t,e,n,i,r){for(let s=Is.length-1;s>=Is.indexOf(n);s--){const a=Is[s];if(mx[a].common&&t._adapter.diff(r,i,a)>=e-1)return a}return Is[n?Is.indexOf(n):0]}function UJ(t){for(let e=Is.indexOf(t)+1,n=Is.length;e<n;++e)if(mx[Is[e]].common)return Is[e]}function Y7(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=ww(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function VJ(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+r.add(o,1,i))l=n[o],l>=0&&(e[l].major=!0);return e}function Q7(t,e,n){const i=[],r={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],r[o]=a,i.push({value:o,major:!1});return s===0||!n?i:VJ(t,i,r,n)}class R2 extends e0{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new FY._date(e.adapters.date);r.init(n),Np(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:K7(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=ss(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=ss(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=this.max,o=fX(r,s,a);return this._unit=n.unit||(i.autoSkip?X7(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):zJ(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:UJ(this._unit),this.initOffsets(r),e.reverse&&o.reverse(),Q7(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Ka(n,0,a),i=Ka(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||X7(s.minUnit,n,i,this._getLabelCapacity(n)),o=un(r.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=lg(l)||l===!0,d={};let g=n,m,p;if(c&&(g=+e.startOf(g,"isoWeek",l)),g=+e.startOf(g,c?"day":a),e.diff(i,n,a)>1e5*o)throw new Error(n+" and "+i+" are too far apart with stepSize of "+o+" "+a);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(m=g,p=0;m<i;m=+e.add(m,o,a),p++)Y7(d,m,y);return(m===i||r.bounds==="ticks"||p===1)&&Y7(d,m,y),Object.keys(d).sort($7).map(b=>+b)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,a=n||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,r){const s=this.options,a=s.ticks.callback;if(a)return ti(a,[e,n,i],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&o[l],g=c&&o[c],m=i[n],p=c&&g&&m&&m.major;return this._adapter.format(e,r||(p?g:d))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=_h(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:i*s+o*a,h:i*a+o*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Q7(this,[e],this._majorUnit),r),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(K7(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return gX(e.sort($7))}}it(R2,"id","time"),it(R2,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Hm(t,e,n){let i=0,r=t.length-1,s,a,o,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Sh(t,"pos",e)),{pos:s,time:o}=t[i],{pos:a,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Sh(t,"time",e)),{time:s,pos:o}=t[i],{time:a,pos:l}=t[r]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class J7 extends R2{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Hm(n,this.min),this._tableRange=Hm(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let a,o,l,c,d;for(a=0,o=e.length;a<o;++a)c=e[a],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,o=r.length;a<o;++a)d=r[a+1],l=r[a-1],c=r[a],Math.round((d+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Hm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Hm(this._table,i*this._tableRange+this._minPos,!0)}}it(J7,"id","timeseries"),it(J7,"defaults",R2.defaults);const ML="label";function Z7(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function HJ(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function RL(t,e){t.labels=e}function FL(t,e,n=ML){const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(a=>a[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function GJ(t,e=ML){const n={labels:[],datasets:[]};return RL(n,t.labels),FL(n,t.datasets,e),n}function WJ(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:c=[],fallbackContent:d,updateMode:g,...m}=t,p=Y.useRef(null),y=Y.useRef(null),b=()=>{p.current&&(y.current=new px(p.current,{type:a,data:GJ(o,s),options:l&&{...l},plugins:c}),Z7(e,y.current))},N=()=>{Z7(e,null),y.current&&(y.current.destroy(),y.current=null)};return Y.useEffect(()=>{!r&&y.current&&l&&HJ(y.current,l)},[r,l]),Y.useEffect(()=>{!r&&y.current&&RL(y.current.config.data,o.labels)},[r,o.labels]),Y.useEffect(()=>{!r&&y.current&&o.datasets&&FL(y.current.config.data,o.datasets,s)},[r,o.datasets]),Y.useEffect(()=>{y.current&&(r?(N(),setTimeout(b)):y.current.update(g))},[r,l,o.labels,o.datasets,g]),Y.useEffect(()=>{y.current&&(N(),setTimeout(b))},[a]),Y.useEffect(()=>(b(),()=>N()),[]),h.jsx("canvas",{ref:p,role:"img",height:n,width:i,...m,children:d})}const qJ=Y.forwardRef(WJ);function $J(t,e){return px.register(e),Y.forwardRef((n,i)=>h.jsx(qJ,{...n,ref:i,type:t}))}const KJ=$J("line",j1);px.register(nb,ib,L1,tu,CJ,RJ,NJ,yJ);const OL="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),Ro=t=>typeof t=="number"?t.toLocaleString("vi-VN"):t;function XJ({values:t=[]}){if(!t||t.length===0)return null;const e=240,n=56,i=6,r=Math.max(...t),s=Math.min(...t),a=t.map((o,l)=>{const c=i+l*(e-i*2)/(t.length-1),d=n-i-(o-s)*(n-i*2)/(r-s||1);return`${c},${d}`}).join(" ");return h.jsxs("svg",{viewBox:`0 0 ${e} ${n}`,className:"mt-3 w-full text-blue-500",children:[h.jsx("polyline",{points:a,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),t.map((o,l)=>{const c=i+l*(e-i*2)/(t.length-1),d=n-i-(t[l]-s)*(n-i*2)/(r-s||1);return h.jsx("circle",{cx:c,cy:d,r:"2",className:"fill-current"},l)})]})}function YJ({data:t,period:e}){if(!t||!t.dailyData||t.dailyData.length===0)return h.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Xu hng tng tc"}),h.jsx("div",{className:"text-center py-12 text-slate-500",children:"Cha c d liu"})]});const n={labels:t.dailyData.map(r=>{const s=new Date(r.date);return`${s.getDate()}/${s.getMonth()+1}`}),datasets:[{label:"Lt xem",data:t.dailyData.map(r=>r.views),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0,yAxisID:"y"},{label:"Lt ti",data:t.dailyData.map(r=>r.downloads),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0,yAxisID:"y1"}]},i={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12}}},tooltip:{backgroundColor:"#fff",titleColor:"#1e293b",bodyColor:"#64748b",borderColor:"#e2e8f0",borderWidth:1,padding:12,displayColors:!0,callbacks:{label:function(r){return`${r.dataset.label}: ${r.parsed.y.toLocaleString("vi-VN")}`}}}},scales:{x:{grid:{display:!1},ticks:{color:"#64748b",font:{size:11}}},y:{type:"linear",display:!0,position:"left",grid:{color:"#f1f5f9"},ticks:{color:"#64748b",font:{size:11},callback:function(r){return r.toLocaleString("vi-VN")}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:"#64748b",font:{size:11},callback:function(r){return r.toLocaleString("vi-VN")}}}}};return h.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold",children:" Xu hng tng tc"}),h.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Lt xem v ti xung trong ",t.period]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-right",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Ro(t.totalViews)}),h.jsx("div",{className:"text-xs text-slate-500",children:"Tng lt xem"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:Ro(t.totalDownloads)}),h.jsx("div",{className:"text-xs text-slate-500",children:"Tng lt ti"})]})]})]}),h.jsx("div",{style:{height:"300px"},children:h.jsx(KJ,{data:n,options:i})})]})}function QJ({users:t,frames:e}){return h.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Thng k ngi dng"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center justify-between p-4 rounded-xl bg-slate-50",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-10 rounded-lg bg-blue-100 text-blue-600 grid place-items-center",children:h.jsx(f2,{size:20})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-slate-600",children:"Tng s ngi dng"}),h.jsx("div",{className:"text-2xl font-bold",children:Ro((t==null?void 0:t.total)||0)})]})]})}),h.jsx("div",{className:"flex items-center justify-between p-4 rounded-xl bg-emerald-50",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-10 rounded-lg bg-emerald-100 text-emerald-600 grid place-items-center",children:h.jsx(b1,{size:20})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-slate-600",children:"Hot ng 30 ngy qua"}),h.jsx("div",{className:"text-2xl font-bold",children:Ro((t==null?void 0:t.activeLast30Days)||0)})]})]})}),h.jsx("div",{className:"flex items-center justify-between p-4 rounded-xl bg-amber-50",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-10 rounded-lg bg-amber-100 text-amber-600 grid place-items-center",children:h.jsx(gI,{size:20})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-slate-600",children:"Mi trong 7 ngy"}),h.jsx("div",{className:"text-2xl font-bold",children:Ro((t==null?void 0:t.newLast7Days)||0)})]})]})})]})]}),h.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Thng k khung hnh"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"size-2 rounded-full bg-blue-500"}),h.jsx("span",{className:"text-sm text-slate-700",children:"Tng s khung"})]}),h.jsx("span",{className:"font-semibold text-slate-900",children:Ro((e==null?void 0:e.total)||0)})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-emerald-200 bg-emerald-50",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"size-2 rounded-full bg-emerald-500"}),h.jsx("span",{className:"text-sm text-emerald-700 font-medium",children:"Cng khai & hot ng"})]}),h.jsx("span",{className:"font-semibold text-emerald-900",children:Ro((e==null?void 0:e.public_)||0)})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"size-2 rounded-full bg-slate-400"}),h.jsx("span",{className:"text-sm text-slate-700",children:"Tm dng / Khng hot ng"})]}),h.jsx("span",{className:"font-semibold text-slate-900",children:Ro((e==null?void 0:e.paused)||0)})]})]})]})]})}function JJ({frames:t}){return!t||t.length===0?h.jsx("div",{className:"text-center py-8 text-slate-500",children:"Cha c d liu"}):h.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200/75 shadow-sm bg-white",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{className:"bg-slate-50 text-slate-600",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left px-4 py-3 font-semibold",children:"Khung"}),h.jsx("th",{className:"text-right px-4 py-3 font-semibold",children:"Lt xem"}),h.jsx("th",{className:"text-right px-4 py-3 font-semibold",children:"Lt ti"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map((e,n)=>h.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[h.jsx("td",{className:"px-4 py-3",children:h.jsxs("div",{className:"flex items-center gap-3",children:[e.thumb&&h.jsx("img",{src:`${OL}${e.thumb}`,alt:e.title,className:"w-10 h-10 rounded-lg object-cover ring-1 ring-slate-200",onError:i=>i.target.style.display="none"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"font-medium text-slate-900 truncate",children:e.title}),h.jsxs("div",{className:"text-xs text-slate-500",children:["/",e.alias]})]})]})}),h.jsx("td",{className:"px-4 py-3 text-right font-mono text-slate-700",children:Ro(e.views)}),h.jsx("td",{className:"px-4 py-3 text-right font-mono text-slate-700",children:Ro(e.downloads)})]},n))})]})})}function ZJ({frames:t}){if(!t||t.length===0)return h.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hot ng gn y"}),h.jsx("div",{className:"text-center py-8 text-slate-500",children:"Cha c hot ng"})]});const e=n=>{const i=new Date(n),s=new Date-i,a=Math.floor(s/6e4),o=Math.floor(s/36e5),l=Math.floor(s/864e5);return a<1?"Va xong":a<60?`${a} pht trc`:o<24?`${o} gi trc`:`${l} ngy trc`};return h.jsxs("div",{className:"rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hot ng gn y"}),h.jsx("div",{className:"space-y-3",children:t.map((n,i)=>h.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[h.jsx("span",{className:"size-2 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"text-slate-700",children:["Khung ",h.jsx("b",{className:"text-slate-900",children:n.tieuDe})," c to mi"]}),h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400 mt-0.5",children:[h.jsx(xj,{size:12}),e(n.ngayDang)]})]})]},i))})]})}function eZ(){var d,g,m,p,y,b;const[t,e]=Y.useState(null),[n,i]=Y.useState(!0),[r,s]=Y.useState(null),[a,o]=Y.useState(7);Y.useEffect(()=>{l()},[a]);const l=async()=>{try{i(!0),s(null);const N=await fetch(`${OL}/api/admin/stats?days=${a}`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!N.ok){const j=await N.text();throw new Error(`HTTP ${N.status}: ${j}`)}const S=await N.json();console.log(" Dashboard data loaded:",S),e(S)}catch(N){console.error(" Dashboard load error:",N),s(N.message)}finally{i(!1)}};if(n)return h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-600",children:"ang ti d liu..."})]})});if(r)return h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-rose-600 text-lg font-semibold mb-2",children:" Li ti d liu"}),h.jsx("p",{className:"text-slate-600 mb-4",children:r}),h.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Th li"})]})});const c=[{title:"Tng khung hnh",value:((d=t==null?void 0:t.frames)==null?void 0:d.total)||0,diff:0,icon:bs,color:"from-blue-500 to-indigo-500",sparkline:[5,8,6,10,12,9,15,11,14,((g=t==null?void 0:t.frames)==null?void 0:g.total)||0]},{title:"Ngi dng",value:((m=t==null?void 0:t.users)==null?void 0:m.total)||0,diff:0,icon:f2,color:"from-emerald-500 to-teal-500",sparkline:[10,15,12,18,20,17,22,19,24,((p=t==null?void 0:t.users)==null?void 0:p.total)||0]},{title:"Mi 7 ngy qua",value:((y=t==null?void 0:t.users)==null?void 0:y.newLast7Days)||0,diff:0,icon:Qp,color:"from-amber-500 to-orange-500",sparkline:[2,3,5,4,6,8,7,9,10,((b=t==null?void 0:t.users)==null?void 0:b.newLast7Days)||0]}];return h.jsxs("div",{className:"space-y-8",children:[h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:c.map((N,S)=>{const j=N.icon;return h.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200/75 shadow-sm",children:h.jsxs("div",{className:"p-5",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"text-sm text-slate-600",children:N.title}),h.jsx("div",{className:`grid place-items-center size-10 rounded-xl text-white shadow bg-gradient-to-br ${N.color}`,children:h.jsx(j,{size:18})})]}),h.jsx("div",{className:"mt-2 text-3xl font-bold tracking-tight",children:Ro(N.value)}),h.jsx(XJ,{values:N.sparkline})]})},S)})}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{onClick:()=>o(7),className:`px-4 py-2 text-sm rounded-lg font-medium transition-colors ${a===7?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"7 ngy"}),h.jsx("button",{onClick:()=>o(30),className:`px-4 py-2 text-sm rounded-lg font-medium transition-colors ${a===30?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"30 ngy"})]}),h.jsx(YJ,{data:t==null?void 0:t.chart,period:a}),h.jsx(QJ,{users:t==null?void 0:t.users,frames:t==null?void 0:t.frames}),h.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 rounded-2xl ring-1 ring-slate-200/75 bg-white p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Khung thnh hnh"}),h.jsxs("span",{className:"text-xs text-slate-500",children:["Top 5 trong ",a," ngy"]})]}),h.jsx(JJ,{frames:t==null?void 0:t.topFrames})]}),h.jsx(ZJ,{frames:t==null?void 0:t.recentFrames})]})]})}const dg="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net",$c=t=>typeof t=="number"?t.toLocaleString("vi-VN"):t,F2=t=>t?new Date(t).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",Gm=async(t,e={})=>{try{const n=await fetch(`${dg}/api${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(n){throw console.error("API Error:",n),n}},eN={dang_hoat_dong:{key:"active",label:"ang hot ng",chip:"bg-emerald-50 text-emerald-700 ring-emerald-200",dot:"bg-emerald-500"},cho_duyet:{key:"pending",label:"Ch duyt",chip:"bg-amber-50 text-amber-700 ring-amber-200",dot:"bg-amber-500"},bi_khoa:{key:"blocked",label:"B kha",chip:"bg-rose-50 text-rose-700 ring-rose-200",dot:"bg-rose-500"},da_xoa:{key:"deleted",label:" xa",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"}};function rb({status:t}){const e=eN[t]||eN.bi_khoa;return h.jsxs("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[11px] font-medium ring-1 ${e.chip}`,children:[h.jsx("span",{className:`size-2 rounded-full ${e.dot}`}),e.label]})}function tZ({frame:t,isOpen:e,onClose:n,onStatusChange:i}){return!e||!t?null:h.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:h.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[h.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:n}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 grid place-items-center",children:h.jsx(bs,{size:20,className:"text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold",children:t.tieuDe}),h.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",t.id,"  /",t.alias]})]})]}),h.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(u2,{size:20})})]}),h.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"nh xem trc"}),h.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden bg-slate-100 ring-2 ring-white shadow-lg",children:t.urlXemTruoc?h.jsx("img",{src:`${dg}${t.urlXemTruoc}`,alt:t.tieuDe,className:"w-full h-full object-cover",onError:r=>{r.target.src="https://via.placeholder.com/400x400/e2e8f0/64748b?text=No+Image"}}):h.jsx("div",{className:"w-full h-full grid place-items-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(bs,{size:48,className:"text-slate-400 mx-auto mb-2"}),h.jsx("p",{className:"text-slate-500",children:"Cha c nh"})]})})})]}),t.variants&&t.variants.length>0&&h.jsxs("div",{children:[h.jsxs("h4",{className:"font-semibold mb-3 text-gray-900",children:["Bin th (",t.variants.length,")"]}),h.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.variants.map((r,s)=>h.jsxs("div",{className:"group",children:[h.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-slate-100 ring-1 ring-slate-200",children:r.anhPngUrl?h.jsx("img",{src:`${dg}${r.anhPngUrl}`,alt:r.tenBienThe,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:a=>{var o;a.target.src=`https://via.placeholder.com/120x120/e2e8f0/64748b?text=${((o=r.tenBienThe)==null?void 0:o.charAt(0))||"V"}`}}):h.jsx("div",{className:"w-full h-full grid place-items-center",children:h.jsx(bs,{size:20,className:"text-slate-400"})})}),h.jsx("div",{className:"mt-2 text-xs text-slate-600 truncate",children:r.tenBienThe||`Bin th ${s+1}`}),h.jsx(rb,{status:r.trangThai})]},r.id||s))})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[h.jsx("h4",{className:"font-semibold mb-4 text-gray-900",children:"Thng tin c bn"}),h.jsxs("div",{className:"space-y-3 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-slate-600",children:"Trng thi:"}),h.jsx(rb,{status:t.trangThai})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-slate-600",children:"Ch  hin th:"}),h.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${t.cheDoHienThi==="cong_khai"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:t.cheDoHienThi==="cong_khai"?"Cng khai":"Ring t"})]}),t.moTa&&h.jsxs("div",{className:"col-span-2",children:[h.jsx("span",{className:"text-slate-600",children:"M t:"}),h.jsx("p",{className:"mt-1 text-slate-900 bg-white rounded-lg p-3 text-sm",children:t.moTa})]})]})]}),h.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4",children:[h.jsx("h4",{className:"font-semibold mb-4 text-gray-900",children:"Thng k s dng"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-white rounded-xl p-3 text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[h.jsx(gu,{size:16,className:"text-blue-600"}),h.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Lt xem"})]}),h.jsx("div",{className:"text-xl font-bold text-blue-600",children:$c(t.luotXem||0)})]}),h.jsxs("div",{className:"bg-white rounded-xl p-3 text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[h.jsx(nc,{size:16,className:"text-emerald-600"}),h.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Lt ti"})]}),h.jsx("div",{className:"text-xl font-bold text-emerald-600",children:$c(t.luotTai||0)})]})]})]}),t.owner&&h.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Thng tin tc gi"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:pa(t.owner.avatar,t.owner.name),alt:t.owner.name,className:"w-12 h-12 rounded-full ring-2 ring-white shadow-sm"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-medium text-gray-900",children:t.owner.name}),h.jsx("div",{className:"text-sm text-gray-600 truncate",children:t.owner.email})]})]})]}),h.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Thi gian"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(y3,{size:14,className:"text-slate-500"}),h.jsx("span",{className:"text-slate-600",children:"Ngy to:"})]}),h.jsx("span",{className:"font-medium",children:F2(t.ngayDang)})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(b3,{size:14,className:"text-slate-500"}),h.jsx("span",{className:"text-slate-600",children:"Cp nht:"})]}),h.jsx("span",{className:"font-medium",children:F2(t.ngayChinhSua)})]})]})]}),h.jsxs("div",{className:"pt-4 border-t",children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Hnh ng nhanh"}),h.jsx("div",{className:"grid gap-2",children:t.trangThai==="cho_duyet"?h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("button",{onClick:()=>i(t.id,"dang_hoat_dong"),className:"flex items-center justify-center gap-2 bg-emerald-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-emerald-700 transition-colors",children:[h.jsx(x4,{size:16})," Duyt"]}),h.jsxs("button",{onClick:()=>i(t.id,"bi_khoa"),className:"flex items-center justify-center gap-2 bg-rose-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-rose-700 transition-colors",children:[h.jsx(u2,{size:16})," T chi"]})]}):h.jsxs("div",{className:"space-y-2",children:[t.trangThai==="dang_hoat_dong"?h.jsxs("button",{onClick:()=>i(t.id,"bi_khoa"),className:"w-full flex items-center justify-center gap-2 bg-amber-500 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-amber-600 transition-colors",children:[h.jsx(bj,{size:16})," Tm kha"]}):h.jsxs("button",{onClick:()=>i(t.id,"dang_hoat_dong"),className:"w-full flex items-center justify-center gap-2 bg-emerald-500 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-emerald-600 transition-colors",children:[h.jsx(wj,{size:16})," Kch hot"]}),h.jsxs("button",{className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:[h.jsx(Dh,{size:16})," Thay nh"]})]})})]})]})]})})]})]})})}function nZ({frame:t,isOpen:e,onClose:n,onConfirm:i}){const[r,s]=Y.useState(!1);if(!e||!t)return null;const a=async()=>{s(!0);try{await i(),n()}catch(o){console.error("Delete failed:",o)}finally{s(!1)}};return h.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:h.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[h.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:n}),h.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-md w-full",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-100 grid place-items-center",children:h.jsx(kg,{size:24,className:"text-rose-600"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Xa khung hnh"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Hnh ng ny khng th hon tc"})]})]}),h.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-6",children:h.jsxs("div",{className:"flex items-center gap-3",children:[t.urlXemTruoc&&h.jsx("img",{src:`${dg}${t.urlXemTruoc}`,alt:t.tieuDe,className:"w-12 h-12 rounded-lg object-cover"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"font-medium truncate",children:t.tieuDe}),h.jsxs("div",{className:"text-sm text-slate-600",children:["/",t.alias]})]})]})}),h.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:['Bn c chc chn mun xa khung hnh "',h.jsx("strong",{children:t.tieuDe}),'" khng? Tt c d liu v file lin quan s b xa vnh vin.']}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:n,disabled:r,className:"flex-1 px-4 py-2.5 text-slate-700 bg-slate-100 rounded-xl font-semibold hover:bg-slate-200 disabled:opacity-50 transition-colors",children:"Hy b"}),h.jsx("button",{onClick:a,disabled:r,className:"flex-1 px-4 py-2.5 bg-rose-600 text-white rounded-xl font-semibold hover:bg-rose-700 disabled:opacity-50 transition-colors",children:r?h.jsxs("span",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"ang xa..."]}):"Xa vnh vin"})]})]})})]})})}function iZ(){const[t,e]=Y.useState([]),[n,i]=Y.useState(!0),[r,s]=Y.useState(null),[a,o]=Y.useState(""),[l,c]=Y.useState("all"),[d,g]=Y.useState({page:1,pageSize:20,total:0}),[m,p]=Y.useState(null),[y,b]=Y.useState(!1),[N,S]=Y.useState(!1),j=async(O=d.page,P=a,M=l)=>{i(!0),s(null);try{const G=new URLSearchParams({page:O.toString(),pageSize:d.pageSize.toString()});P.trim()&&G.append("search",P.trim()),M!=="all"&&G.append("status",M);const W=await Gm(`/admin/frames?${G}`);e(W.items||[]),g(Z=>({...Z,page:W.page||O,total:W.total||0}))}catch(G){s(G.message),console.error("Failed to load frames:",G)}finally{i(!1)}};Y.useEffect(()=>{j()},[]);const w=()=>{j(1,a,l)},k=O=>{c(O),j(1,a,O)},E=O=>{j(O,a,l)},I=async(O,P)=>{try{await Gm(`/admin/frames/${O}/status`,{method:"POST",body:JSON.stringify({status:P})}),j(),b(!1),alert(" cp nht trng thi thnh cng!")}catch(M){console.error("Failed to change status:",M),alert("C li xy ra: "+M.message)}},U=async O=>{try{await Gm(`/admin/frames/${O}`,{method:"DELETE"}),j(),alert(" xa khung hnh thnh cng!")}catch(P){console.error("Failed to delete frame:",P),alert("C li xy ra: "+P.message)}},R=async O=>{try{const P=await Gm(`/admin/frames/${O}`);p(P),b(!0)}catch(P){console.error("Failed to load frame detail:",P),alert("Khng th ti chi tit khung: "+P.message)}},B=Y.useMemo(()=>{const O=d.total,P=t.filter(W=>W.trangThai==="dang_hoat_dong").length,M=t.filter(W=>W.trangThai==="cho_duyet").length,G=t.filter(W=>W.trangThai==="bi_khoa").length;return{total:O,active:P,pending:M,blocked:G}},[t,d.total]);return n&&t.length===0?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"ang ti danh sch khung hnh..."})]})}):r&&t.length===0?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx(kg,{className:"mx-auto h-12 w-12 text-red-400 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng th ti d liu"}),h.jsx("p",{className:"text-gray-500 mb-4",children:r}),h.jsx("button",{onClick:()=>j(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Th li"})]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-slate-900",children:$c(B.total)}),h.jsx("div",{className:"text-sm text-slate-500",children:"Tng s khung"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-blue-100 text-blue-600",children:h.jsx(bs,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:$c(B.active)}),h.jsx("div",{className:"text-sm text-slate-500",children:"ang hot ng"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-emerald-100 text-emerald-600",children:h.jsx(x4,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-amber-600",children:$c(B.pending)}),h.jsx("div",{className:"text-sm text-slate-500",children:"Ch duyt"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-amber-100 text-amber-600",children:h.jsx(Dh,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-rose-600",children:$c(B.blocked)}),h.jsx("div",{className:"text-sm text-slate-500",children:"B kha"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-rose-100 text-rose-600",children:h.jsx(u2,{size:20})})]})})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx(v3,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),h.jsx("input",{value:a,onChange:O=>o(O.target.value),onKeyPress:O=>O.key==="Enter"&&w(),className:"w-72 rounded-2xl ring-1 ring-slate-200 bg-white pl-9 pr-3 py-2.5 text-sm outline-none focus:ring-blue-400 focus:ring-2 transition-all",placeholder:"Tm theo tiu , alias hoc tc gi..."})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:l,onChange:O=>k(O.target.value),className:"appearance-none rounded-2xl ring-1 ring-slate-200 bg-white pl-3 pr-10 py-2.5 text-sm outline-none focus:ring-blue-400 focus:ring-2 transition-all",children:[h.jsx("option",{value:"all",children:"Tt c trng thi"}),h.jsx("option",{value:"dang_hoat_dong",children:"ang hot ng"}),h.jsx("option",{value:"cho_duyet",children:"Ch duyt"}),h.jsx("option",{value:"bi_khoa",children:"B kha"}),h.jsx("option",{value:"da_xoa",children:" xa"})]}),h.jsx(jh,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),h.jsx("button",{onClick:w,className:"rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-blue-700 transition-colors",children:"Tm kim"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{className:"inline-flex items-center gap-2 rounded-xl bg-slate-900 px-4 py-2.5 text-sm font-semibold text-white hover:bg-black transition-colors",children:[h.jsx(Dh,{size:16})," Thm khung"]}),h.jsxs("button",{className:"inline-flex items-center gap-2 rounded-xl bg-white ring-1 ring-slate-200 px-4 py-2.5 text-sm font-semibold hover:bg-slate-50 transition-colors",children:[h.jsx(OD,{size:16})," B lc nng cao"]})]})]}),h.jsxs("div",{className:"overflow-hidden rounded-2xl ring-1 ring-slate-200/75 bg-white shadow-sm",children:[h.jsx("div",{className:"max-w-full overflow-x-auto",children:h.jsxs("table",{className:"min-w-[1200px] w-full text-sm",children:[h.jsx("thead",{className:"bg-slate-50 text-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left px-6 py-4 font-semibold",children:"Khung hnh"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Tc gi"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Trng thi"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Ch "}),h.jsx("th",{className:"text-right px-4 py-4 font-semibold",children:"Lt xem"}),h.jsx("th",{className:"text-right px-4 py-4 font-semibold",children:"Lt ti"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Ngy to"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Cp nht"}),h.jsx("th",{className:"text-right px-6 py-4 font-semibold",children:"Hnh ng"})]})}),h.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n&&h.jsx("tr",{children:h.jsx("td",{colSpan:9,className:"py-8 text-center",children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),h.jsx("span",{className:"text-slate-500",children:"ang ti..."})]})})}),!n&&t.map(O=>h.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"relative",children:O.urlXemTruoc?h.jsx("img",{src:`${dg}${O.urlXemTruoc}`,alt:O.tieuDe,className:"w-16 h-16 rounded-xl object-cover ring-2 ring-white shadow-sm",onError:P=>{var M;P.target.src=`https://via.placeholder.com/64x64/e2e8f0/64748b?text=${((M=O.tieuDe)==null?void 0:M.charAt(0))||"K"}`}}):h.jsx("div",{className:"w-16 h-16 rounded-xl bg-slate-100 grid place-items-center",children:h.jsx(bs,{size:20,className:"text-slate-400"})})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"font-semibold text-slate-900 truncate max-w-xs",children:O.tieuDe}),h.jsxs("div",{className:"text-xs text-slate-500 truncate max-w-xs",children:["/",O.alias]})]})]})}),h.jsx("td",{className:"px-4 py-4",children:O.owner?h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:pa(O.owner.avatar,O.owner.name),alt:O.owner.name,className:"w-8 h-8 rounded-full"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-slate-900",children:O.owner.name}),h.jsx("div",{className:"text-xs text-slate-500",children:O.owner.email})]})]}):h.jsx("span",{className:"text-slate-400",children:"Khng c"})}),h.jsx("td",{className:"px-4 py-4",children:h.jsx(rb,{status:O.trangThai})}),h.jsx("td",{className:"px-4 py-4",children:h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-lg ${O.cheDoHienThi==="cong_khai"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:O.cheDoHienThi==="cong_khai"?"Cng khai":"Ring t"})}),h.jsx("td",{className:"px-4 py-4 text-right font-mono text-slate-600",children:$c(O.luotXem||0)}),h.jsx("td",{className:"px-4 py-4 text-right font-mono text-slate-600",children:$c(O.luotTai||0)}),h.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:F2(O.ngayDang)}),h.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:F2(O.ngayChinhSua)}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("div",{className:"flex items-center justify-end gap-2",children:O.trangThai==="cho_duyet"?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>I(O.id,"dang_hoat_dong"),className:"inline-flex items-center gap-1 rounded-lg bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-emerald-700 transition-colors",title:"Duyt khung",children:[h.jsx(x4,{size:14})," Duyt"]}),h.jsxs("button",{onClick:()=>I(O.id,"bi_khoa"),className:"inline-flex items-center gap-1 rounded-lg bg-rose-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-rose-700 transition-colors",title:"T chi khung",children:[h.jsx(u2,{size:14})," T chi"]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>R(O.id),className:"inline-flex items-center gap-1 rounded-lg bg-violet-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-violet-700 transition-colors",title:"Xem chi tit",children:[h.jsx(gu,{size:14})," Xem"]}),O.trangThai==="dang_hoat_dong"?h.jsxs("button",{onClick:()=>I(O.id,"bi_khoa"),className:"inline-flex items-center gap-1 rounded-lg bg-amber-500 px-3 py-1.5 text-xs font-semibold text-white hover:bg-amber-600 transition-colors",title:"Tm kha khung",children:[h.jsx(bj,{size:14})," Kha"]}):h.jsxs("button",{onClick:()=>I(O.id,"dang_hoat_dong"),className:"inline-flex items-center gap-1 rounded-lg bg-emerald-500 px-3 py-1.5 text-xs font-semibold text-white hover:bg-emerald-600 transition-colors",title:"Kch hot khung",children:[h.jsx(wj,{size:14})," Bt"]}),h.jsxs("button",{onClick:()=>{p(O),S(!0)},className:"inline-flex items-center gap-1 rounded-lg bg-rose-500 px-3 py-1.5 text-xs font-semibold text-white hover:bg-rose-600 transition-colors",title:"Xa vnh vin",children:[h.jsx(_j,{size:14})," Xa"]})]})})})]},O.id)),!n&&t.length===0&&h.jsx("tr",{children:h.jsxs("td",{colSpan:9,className:"py-16 text-center",children:[h.jsx(bs,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng c khung hnh"}),h.jsx("p",{className:"text-gray-500",children:"Khng tm thy khung ph hp vi b lc hin ti."})]})})]})]})}),d.total>0&&h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-slate-50 border-t",children:[h.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th ",h.jsx("span",{className:"font-semibold",children:(d.page-1)*d.pageSize+1})," n"," ",h.jsx("span",{className:"font-semibold",children:Math.min(d.page*d.pageSize,d.total)})," trong tng s"," ",h.jsx("span",{className:"font-semibold",children:d.total})," khung hnh"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>E(d.page-1),disabled:d.page<=1,className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Trc"}),h.jsx("div",{className:"flex items-center gap-1",children:(()=>{const O=Math.ceil(d.total/d.pageSize),P=5;let M=Math.max(1,d.page-Math.floor(P/2)),G=Math.min(O,M+P-1);return G-M+1<P&&(M=Math.max(1,G-P+1)),Array.from({length:G-M+1},(W,Z)=>{const ce=M+Z,pe=ce===d.page;return h.jsx("button",{onClick:()=>E(ce),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${pe?"bg-blue-600 text-white":"border border-slate-200 bg-white hover:bg-slate-50"}`,children:ce},ce)})})()}),h.jsx("button",{onClick:()=>E(d.page+1),disabled:d.page>=Math.ceil(d.total/d.pageSize),className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Sau"})]})]})]}),h.jsx(tZ,{frame:m,isOpen:y,onClose:()=>b(!1),onStatusChange:I}),h.jsx(nZ,{frame:m,isOpen:N,onClose:()=>S(!1),onConfirm:()=>U(m==null?void 0:m.id)})]})}const rZ="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),Rd=t=>typeof t=="number"?t.toLocaleString("vi-VN"):t,O2=t=>t?new Date(t).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",Wm=async(t,e={})=>{try{const n=await fetch(`${rZ}/api${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(n){throw console.error("API Error:",n),n}},sb={hoat_dong:{label:"Hot ng",chip:"bg-emerald-50 text-emerald-700 ring-emerald-200",dot:"bg-emerald-500"},bi_khoa:{label:"B kha",chip:"bg-rose-50 text-rose-700 ring-rose-200",dot:"bg-rose-500"},khoa:{label:"B kha",chip:"bg-rose-50 text-rose-700 ring-rose-200",dot:"bg-rose-500"},xoa_mem:{label:" xa",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"},inactive:{label:"Khng hot ng",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"}};function DL({status:t}){const e=sb[t]||sb.hoat_dong;return h.jsxs("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[11px] font-medium ring-1 ${e.chip}`,children:[h.jsx("span",{className:`size-2 rounded-full ${e.dot}`}),e.label]})}function Lw({role:t,isSuper:e}){return console.log("RoleBadge:",{role:t,isSuper:e,type:typeof e}),e===!0||e===1||t==="superadmin"?h.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 text-xs font-semibold rounded-full bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-800 ring-1 ring-orange-200",children:[h.jsx(hl,{size:12,className:"text-orange-600"}),"Super Admin"]}):t==="admin"?h.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-700",children:[h.jsx(gf,{size:12}),"Qun tr vin"]}):h.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 text-xs font-semibold rounded-full bg-slate-100 text-slate-700",children:[h.jsx(ca,{size:12}),"Ngi dng"]})}function sZ({user:t,isOpen:e,onClose:n,onRoleChange:i,onBanUser:r,onUnlockUser:s,users:a,currentUserEmail:o}){var g;if(!e||!t)return null;const l=t.isSuper||t.role==="superadmin",c=a==null?void 0:a.find(m=>m.email===o),d=(c==null?void 0:c.isSuper)===!0||(c==null?void 0:c.isSuper)===1;return h.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:h.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[h.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:n}),h.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"w-12 h-12 rounded-xl bg-blue-100 grid place-items-center relative",children:[h.jsx("img",{src:pa(t.avatar,t.name),alt:t.name,className:"w-full h-full rounded-xl object-cover"}),!t.avatar&&h.jsx(ca,{size:20,className:"text-blue-600"}),l&&h.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full grid place-items-center",children:h.jsx(hl,{size:12,className:"text-white"})})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold",children:t.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",t.id]})]})]}),h.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(Ih,{size:20})})]}),h.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"nh i din"}),h.jsxs("div",{className:"aspect-square w-48 mx-auto rounded-2xl overflow-hidden bg-slate-100 ring-2 ring-white shadow-lg relative",children:[h.jsx("img",{src:pa(t.avatar,t.name),alt:t.name,className:"w-full h-full object-cover"}),!t.avatar&&h.jsx("div",{className:"w-full h-full grid place-items-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(ca,{size:48,className:"text-slate-400 mx-auto mb-2"}),h.jsx("p",{className:"text-slate-500",children:"Cha c nh"})]})}),l&&h.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full grid place-items-center shadow-lg",children:h.jsx(hl,{size:16,className:"text-white"})})]})]})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[h.jsx("h4",{className:"font-semibold mb-4 text-gray-900",children:"Thng tin c bn"}),h.jsxs("div",{className:"space-y-3 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(XD,{size:16,className:"text-slate-500"}),h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-600",children:"Email:"}),h.jsx("div",{className:"font-medium text-slate-900",children:t.email})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(d2,{size:16,className:"text-slate-500"}),h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-600",children:"Vai tr:"}),h.jsx("div",{className:"mt-1",children:h.jsx(Lw,{role:t.role,isSuper:t.isSuper})})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 grid place-items-center",children:h.jsx("div",{className:`w-2 h-2 rounded-full ${((g=sb[t.status])==null?void 0:g.dot)||"bg-slate-400"}`})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-600",children:"Trng thi:"}),h.jsx("div",{className:"mt-1",children:h.jsx(DL,{status:t.status})})]})]})]})]}),h.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4",children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Thi gian"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(y3,{size:14,className:"text-slate-500"}),h.jsx("span",{className:"text-slate-600",children:"Ngy tham gia:"})]}),h.jsx("span",{className:"font-medium",children:O2(t.ngayTao)})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(b3,{size:14,className:"text-slate-500"}),h.jsx("span",{className:"text-slate-600",children:"Cp nht:"})]}),h.jsx("span",{className:"font-medium",children:O2(t.ngayCapNhat)})]})]})]}),l&&h.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-2xl p-4 border border-yellow-200",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(hl,{size:16,className:"text-orange-600"}),h.jsx("h4",{className:"font-semibold text-orange-800",children:"Super Admin"})]}),h.jsx("p",{className:"text-sm text-orange-700",children:"Ngi dng ny c quyn hn cao nht trong h thng. Ch Super Admin khc mi c th thay i quyn hn ca h."})]}),h.jsxs("div",{className:"pt-4 border-t",children:[h.jsx("h4",{className:"font-semibold mb-3 text-gray-900",children:"Hnh ng nhanh"}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx("div",{className:"grid grid-cols-2 gap-2",children:l?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>{i(t.id,"admin"),n()},className:"flex items-center justify-center gap-2 bg-purple-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-purple-700 transition-colors",children:[h.jsx(gf,{size:16})," H xung Admin"]}),h.jsxs("button",{onClick:()=>{i(t.id,"user"),n()},className:"flex items-center justify-center gap-2 bg-slate-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-slate-700 transition-colors",children:[h.jsx(ca,{size:16})," H xung User"]})]}):t.role==="admin"?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>{i(t.id,"superadmin"),n()},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2.5 rounded-xl font-semibold hover:from-yellow-600 hover:to-orange-600 transition-colors",children:[h.jsx(hl,{size:16})," Thng Super Admin"]}),h.jsxs("button",{onClick:()=>{i(t.id,"user"),n()},className:"flex items-center justify-center gap-2 bg-slate-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-slate-700 transition-colors",children:[h.jsx(ca,{size:16})," H xung User"]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>{i(t.id,"admin"),n()},className:"flex items-center justify-center gap-2 bg-purple-600 text-white px-4 py-2.5 rounded-xl font-semibold hover:bg-purple-700 transition-colors",children:[h.jsx(gf,{size:16})," Thng Admin"]}),h.jsxs("button",{onClick:()=>{i(t.id,"superadmin"),n()},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2.5 rounded-xl font-semibold hover:from-yellow-600 hover:to-orange-600 transition-colors",children:[h.jsx(hl,{size:16})," Thng Super Admin"]})]})}),d&&(t.status==="bi_khoa"?h.jsxs("button",{onClick:()=>{s(t.id),n()},className:"inline-flex items-center justify-center gap-2 rounded-xl bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-emerald-700 transition-colors",children:[h.jsx(vj,{size:16})," M kha ti khon"]}):h.jsxs("button",{onClick:()=>{r(t.id),n()},className:"inline-flex items-center justify-center gap-2 rounded-xl bg-rose-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-rose-700 transition-colors",children:[h.jsx(x3,{size:16})," Kha ti khon"]}))]})]})]})]})})]})]})})}function aZ({user:t,isOpen:e,onClose:n,onConfirm:i}){const[r,s]=Y.useState(""),[a,o]=Y.useState(!1);if(!e||!t)return null;const l=t.isSuper||t.role==="superadmin",c=async()=>{o(!0);try{await i(r),n()}catch(d){console.error("Ban failed:",d)}finally{o(!1)}};return h.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:h.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[h.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:n}),h.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-md w-full",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-100 grid place-items-center",children:h.jsx(x3,{size:24,className:"text-rose-600"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Kha ti khon"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Ti khon s b tm ngng hot ng"})]})]}),h.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:pa(t.avatar,t.name),alt:t.name,className:"w-12 h-12 rounded-full"}),l&&h.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full grid place-items-center",children:h.jsx(hl,{size:10,className:"text-white"})})]}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"font-medium truncate",children:t.name}),h.jsx("div",{className:"text-sm text-slate-600",children:t.email}),h.jsx(Lw,{role:t.role,isSuper:t.isSuper})]})]})}),l&&h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[h.jsx(kg,{size:16}),h.jsx("span",{className:"font-medium text-sm",children:"Cnh bo"})]}),h.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Bn ang kha mt Super Admin. Hnh ng ny cn c thn trng."})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"L do kha ti khon *"}),h.jsx("textarea",{value:r,onChange:d=>s(d.target.value),className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-rose-400",rows:3,placeholder:"Nhp l do kha ti khon...",required:!0})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:n,disabled:a,className:"flex-1 px-4 py-2.5 text-slate-700 bg-slate-100 rounded-xl font-semibold hover:bg-slate-200 disabled:opacity-50 transition-colors",children:"Hy b"}),h.jsx("button",{onClick:c,disabled:a||!r.trim(),className:"flex-1 px-4 py-2.5 bg-rose-600 text-white rounded-xl font-semibold hover:bg-rose-700 disabled:opacity-50 transition-colors",children:a?h.jsxs("span",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"ang kha..."]}):"Kha ti khon"})]})]})})]})})}function oZ({isOpen:t,onClose:e,onAdd:n}){const[i,r]=Y.useState({name:"",email:"",role:"user"}),[s,a]=Y.useState(!1);if(!t)return null;const o=async l=>{if(l.preventDefault(),!(!i.name.trim()||!i.email.trim())){a(!0);try{await n(i),r({name:"",email:"",role:"user"}),e()}catch(c){console.error("Add user failed:",c)}finally{a(!1)}}};return h.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:h.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[h.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm",onClick:e}),h.jsx("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-md w-full",children:h.jsxs("form",{onSubmit:o,className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 grid place-items-center",children:h.jsx(Qp,{size:24,className:"text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Thm ngi dng"}),h.jsx("p",{className:"text-sm text-gray-600",children:"To ti khon mi"})]})]}),h.jsxs("div",{className:"space-y-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn hin th *"}),h.jsx("input",{type:"text",value:i.name,onChange:l=>r(c=>({...c,name:l.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Nhp tn ngi dng",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),h.jsx("input",{type:"email",value:i.email,onChange:l=>r(c=>({...c,email:l.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-400",placeholder:"email@example.com",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vai tr"}),h.jsxs("select",{value:i.role,onChange:l=>r(c=>({...c,role:l.target.value})),className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-400",children:[h.jsx("option",{value:"user",children:" Ngi dng"}),h.jsx("option",{value:"admin",children:" Qun tr vin"}),h.jsx("option",{value:"superadmin",children:" Super Admin"})]}),i.role==="superadmin"&&h.jsxs("p",{className:"text-xs text-yellow-600 mt-1 flex items-center gap-1",children:[h.jsx(kg,{size:12}),"Cp quyn Super Admin cn c thn trng"]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"button",onClick:e,disabled:s,className:"flex-1 px-4 py-2.5 text-slate-700 bg-slate-100 rounded-xl font-semibold hover:bg-slate-200 disabled:opacity-50 transition-colors",children:"Hy b"}),h.jsx("button",{type:"submit",disabled:s||!i.name.trim()||!i.email.trim(),className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 disabled:opacity-50 transition-colors",children:s?h.jsxs("span",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"ang to..."]}):"To ti khon"})]})]})})]})})}function lZ(){const[t,e]=Y.useState([]),[n,i]=Y.useState(!0),[r,s]=Y.useState(null),[a,o]=Y.useState(""),[l,c]=Y.useState("all"),[d,g]=Y.useState({page:1,pageSize:20,total:0}),[m,p]=Y.useState(null),[y,b]=Y.useState(!1),[N,S]=Y.useState(!1),[j,w]=Y.useState(!1),k=async(ee=d.page,he=a)=>{i(!0),s(null);try{const se=new URLSearchParams({page:ee.toString(),pageSize:d.pageSize.toString()});he.trim()&&se.append("search",he.trim());const F=await Wm(`/admin/users?${se}`);e(F.items||[]),g(q=>({...q,page:F.page||ee,total:F.total||0}))}catch(se){s(se.message),console.error("Failed to load users:",se)}finally{i(!1)}};Y.useEffect(()=>{k()},[]);const E=()=>{k(1,a)},I=Y.useMemo(()=>t.filter(ee=>l==="all"?!0:l==="superadmin"?ee.isSuper===!0||ee.isSuper===1:l==="admin"?ee.role==="admin"&&!(ee.isSuper===!0||ee.isSuper===1):l==="user"?ee.role==="user"||!ee.role&&!(ee.isSuper===!0||ee.isSuper===1):!1),[t,l]),U=async(ee,he)=>{try{const se=t.find(fe=>fe.id===ee);if(!se){alert(" Khng tm thy ngi dng");return}const F=B();if(!F){alert(` Khng xc nh c ngi dng hin ti.

Vui lng ng nhp li.`);return}const q=t.find(fe=>fe.email===F.email);if(!q){alert(" Khng tm thy thng tin ngi dng hin ti trong h thng.");return}const re=q.isSuper===!0||q.isSuper===1||q.role==="superadmin",oe=se.isSuper===!0||se.isSuper===1||se.role==="superadmin";if(console.log(" Role Check:",{currentUser:q.email,callerRole:q.role,callerIsSuper:re,targetUser:se.email,targetRole:se.role,targetIsSuper:oe,newRole:he}),q.id===ee){alert(" Khng c t thay i quyn ca chnh bn qua API.");return}if(oe&&!re){alert(` Ch Super Admin mi c quyn thay i Super Admin khc.

Bn cn quyn Super Admin  thc hin hnh ng ny.`);return}if(q.role==="admin"&&!re&&se.role!=="user"){alert(` Admin ch c th thao tc trn ngi dng bnh thng.

Ch Super Admin mi c quyn thay i quyn Admin.`);return}if(he==="admin"&&se.role==="user"&&!re){alert(" Ch Super Admin mi c quyn thng admin.");return}if(he==="user"&&se.role==="admin"&&!re){alert(" Ch Super Admin mi c quyn h admin.");return}if((he==="superadmin"||oe)&&!re){alert(" Ch Super Admin mi c quyn thng/h Super Admin.");return}const de=P(se,he);if(!confirm(de))return;const X=await Wm(`/admin/users/${ee}/role`,{method:"POST",body:JSON.stringify({role:he})});if(await k(),b(!1),X.success&&X.before&&X.after){const{before:fe,after:xe}=X,Ce=O(fe.role,fe.isSuper),Le=O(xe.role,xe.isSuper);alert(`  cp nht vai tr thnh cng!

Ngi dng: ${se.name}
Trc: ${Ce}
Sau: ${Le}

Thay i  c ghi nhn vo h thng.`)}else alert("  cp nht vai tr thnh cng!")}catch(se){console.error(" Failed to change role:",se),M(se)}},R=()=>{try{const ee=JSON.parse(localStorage.getItem("kh_me")||"null");return(ee==null?void 0:ee.email)||null}catch{return null}},B=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")||null}catch{return null}},O=(ee,he)=>he===!0||he===1?" Super Admin":ee==="admin"?" Admin":" User",P=(ee,he)=>{const se=O(ee.role,ee.isSuper),F=O(he,he==="superadmin"?1:0);let q="";return he==="superadmin"?q=`

 CH : Super Admin c ton quyn trong h thng!
Hnh ng ny cn c thn trng v c thm quyn ph duyt.`:ee.isSuper&&he!=="superadmin"&&(q=`

 Bn ang h quyn mt Super Admin.
iu ny s nh hng n quyn qun tr ca h.`),` Xc nhn thay i vai tr

Ngi dng: ${ee.name}
Email: ${ee.email}

Vai tr hin ti: ${se}
Vai tr mi: ${F}${q}

Bn c chc chn mun thc hin thay i ny?`},M=ee=>{let he="C li xy ra khi thay i vai tr";const se=ee.message||"";se.includes("500")||se.includes("Internal Server Error")?he=` Li server ni b.

C th do:
 Stored procedure t chi thay i
 Rng buc v phn quyn trong database
 Trigger database t chi thay i

Vui lng lin h qun tr vin h thng.`:se.includes("403")||se.includes("Forbid")?he=` Bn khng c quyn thc hin hnh ng ny.

Ch Super Admin mi c th:
 Thng/h quyn Admin  User
 Qun l Super Admin khc
 Thay i cu trc phn quyn

Vui lng lin h Super Admin nu bn cn h tr.`:se.includes("404")||se.includes("Not Found")?he=` Khng tm thy ngi dng.

Ngi dng c th  b xa hoc khng tn ti trong h thng.`:se.includes("400")||se.includes("BadRequest")?he=` Yu cu khng hp l.

Li c th do:
 Khng c t thay i quyn ca chnh mnh
 Vai tr mi khng hp l (phi l user/admin/superadmin)
 D liu gi i khng ng nh dng`:(se.includes("Unauthorized")||se.includes("401"))&&(he=` Phin ng nhp  ht hn.

Vui lng ng nhp li  tip tc.`),alert(he+`

 Chi tit k thut:
`+se)},G=async(ee,he)=>{try{const se=t.find(fe=>fe.id===ee);if(!se){alert(" Khng tm thy ngi dng");return}const F=B();if(!F){alert(` Khng xc nh c ngi dng hin ti.

Vui lng ng nhp li.`);return}const q=t.find(fe=>fe.email===F.email);if(!q){alert(" Khng tm thy thng tin ngi dng hin ti trong h thng.");return}const re=q.isSuper===!0||q.isSuper===1||q.role==="superadmin",oe=se.isSuper===!0||se.isSuper===1||se.role==="superadmin";if(q.id===ee){alert(` KHNG TH T KHA CHNH MNH

Bn khng th t kha ti khon ca chnh bn qua API.

 Nu cn v hiu ha ti khon ca bn, vui lng:
 Lin h Super Admin khc
 Hoc s dng chc nng ng xut`);return}if(oe&&!re){alert(` KHNG TH KHA SUPER ADMIN

Ch Super Admin mi c quyn kha Super Admin khc.

 Hnh ng ny yu cu quyn cao nht  m bo an ninh.`);return}if(se.role==="admin"&&!re){alert(` KHNG TH KHA ADMIN

Ch Super Admin mi c quyn kha ti khon Admin.

 Admin thng khng th kha Admin khc  trnh xung t quyn hn.`);return}let de=` XC NHN KHA TI KHON

`;if(de+=`Ngi dng: ${se.name}
`,de+=`Email: ${se.email}
`,de+=`Vai tr: ${O(se.role,se.isSuper)}
`,de+=`L do: ${he||"Khng c"}

`,oe?(de+=` CH : Bn ang kha mt Super Admin!
`,de+=`Hnh ng ny s:
`,de+=` V hiu ha ton b quyn ca h
`,de+=` Ngn h ng nhp vo h thng
`,de+=` C th nh hng n hot ng qun tr

`):se.role==="admin"&&(de+=` CH : Bn ang kha mt Admin!
`,de+=`iu ny s nh hng n kh nng qun l ca h.

`),de+="Bn c chc chn mun tip tc?",!confirm(de))return;console.log(`[BanUser] Calling API to ban user ${ee}...`);const X=await Wm(`/admin/users/${ee}/ban`,{method:"POST",body:JSON.stringify({reason:he||""})});console.log("[BanUser] API Response:",X),await k(),S(!1),X.success&&alert(`  KHA TI KHON THNH CNG!

Ngi dng: ${se.name}
Email: ${se.email}
L do: ${he||"Khng c"}
Trng thi mi: ${X.status||"bi_khoa"}

 Ngi dng ny s khng th ng nhp cho n khi c m kha.`)}catch(se){console.error(" Failed to ban user:",se),W(se)}},W=ee=>{const he=ee.message||"";console.error(" Ban Error Details:",{message:he,stack:ee.stack,fullError:ee});let se=" C li xy ra khi kha ti khon";he.includes("500")||he.includes("Internal Server Error")?se=` LI SERVER - Stored Procedure

 NGUYN NHN:
 Stored procedure sp_LockUser cha tn ti
 SP c li logic hoc validation
 Trigger database t chi thay i
 Rng buc phn quyn trong database

 CCH SA:
1. Kim tra SP: SELECT OBJECT_ID('dbo.sp_LockUser')
2. To SP nu cha c (xem hng dn)
3. Test SP: EXEC sp_LockUser @ActorId=1, @TargetId=5, @Reason='Test'
4. Xem error log: EXEC sp_readerrorlog

 Lin h qun tr vin h thng  fix stored procedure.`:he.includes("403")||he.includes("Forbid")?se=` KHNG C QUYN KHA TI KHON

 Quy tc phn quyn:
 Ch Super Admin mi c quyn kha ti khon
 Admin thng KHNG th kha bt k ai
 Super Admin kha c: User, Admin, Super Admin khc
 KHNG ai c th t kha chnh mnh

 Nu bn cn kha ti khon ny, vui lng:
 Lin h Super Admin
 Yu cu quyn Super Admin (nu ph hp)`:he.includes("400")||he.includes("BadRequest")?se=` YU CU KHNG HP L

 Li c th do:
 Khng th t kha ti khon ca chnh mnh qua API.
 L do kha khng hp l
 D liu gi i sai nh dng

 Vui lng kim tra li thng tin v th li.`:he.includes("404")||he.includes("Not Found")?se=` KHNG TM THY NGI DNG

Ngi dng ny c th:
  b xa khi h thng
 Khng tn ti trong database
 ID khng hp l

 Vui lng lm mi danh sch v th li.`:(he.includes("Unauthorized")||he.includes("401"))&&(se=` PHIN NG NHP HT HN

Vui lng ng nhp li  tip tc.

 Bn s c chuyn n trang ng nhp.`),alert(se+`

 Chi tit k thut:
`+he)},Z=async ee=>{try{const he=t.find(F=>F.id===ee);if(!he){alert(" Khng tm thy ngi dng");return}if(!confirm(` XC NHN M KHA TI KHON

Ngi dng: ${he.name}
Email: ${he.email}
Vai tr: ${O(he.role,he.isSuper)}

Sau khi m kha, ngi dng ny s c th ng nhp tr li.

Bn c chc chn mun m kha?`))return;console.log(`[UnlockUser] Calling API to unlock user ${ee}...`);const se=await Wm(`/admin/users/${ee}/unlock`,{method:"POST"});console.log("[UnlockUser] API Response:",se),await k(),b(!1),se.success&&alert(`  M KHA TI KHON THNH CNG!

Ngi dng: ${he.name}
Email: ${he.email}
Trng thi mi: ${se.status||"hoat_dong"}

 Ngi dng ny  c th ng nhp tr li.`)}catch(he){console.error(" Failed to unlock user:",he);let se="C li xy ra khi m kha ti khon";const F=he.message||"";F.includes("500")?se=` Li server khi thc thi stored procedure sp_UnlockUser.

Vui lng kim tra:
 SP sp_UnlockUser c tn ti khng
 Log server  xem chi tit li

Lin h qun tr vin h thng.`:F.includes("403")||F.includes("Forbid")?se=` Bn khng c quyn m kha ti khon ny.

Ch Super Admin mi c th m kha ti khon.`:F.includes("404")&&(se=` Khng tm thy ngi dng.

Vui lng lm mi danh sch.`),alert(se+`

 Chi tit: `+F)}},ce=ee=>{p(ee),b(!0)},pe=async ee=>{console.log("Adding user:",ee),alert("Chc nng thm ngi dng ang c pht trin")},J=Y.useMemo(()=>{const ee=d.total,he=t.filter(oe=>oe.isSuper||oe.role==="superadmin").length,se=t.filter(oe=>oe.role==="admin"&&!(oe.isSuper===!0||oe.isSuper===1)).length,F=t.filter(oe=>oe.role==="user"||!oe.role&&!(oe.isSuper===!0||oe.isSuper===1)).length,q=t.filter(oe=>oe.status==="active").length,re=t.filter(oe=>oe.status==="bi_khoa").length;return{total:ee,superAdmin:he,admin:se,user:F,active:q,banned:re}},[t,d.total]);return n&&t.length===0?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"ang ti danh sch ngi dng..."})]})}):r&&t.length===0?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx(kg,{className:"mx-auto h-12 w-12 text-red-400 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng th ti d liu"}),h.jsx("p",{className:"text-gray-500 mb-4",children:r}),h.jsx("button",{onClick:()=>k(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Th li"})]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-slate-900",children:Rd(J.total)}),h.jsx("div",{className:"text-sm text-slate-500",children:"Tng s"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-blue-100 text-blue-600",children:h.jsx(ca,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent",children:Rd(J.superAdmin)}),h.jsx("div",{className:"text-sm text-slate-500",children:"Super Admin"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-600",children:h.jsx(hl,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Rd(J.admin)}),h.jsx("div",{className:"text-sm text-slate-500",children:"Admin"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-purple-100 text-purple-600",children:h.jsx(gf,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-slate-600",children:Rd(J.user)}),h.jsx("div",{className:"text-sm text-slate-500",children:"User"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-slate-100 text-slate-600",children:h.jsx(ca,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:Rd(J.active)}),h.jsx("div",{className:"text-sm text-slate-500",children:"Hot ng"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-emerald-100 text-emerald-600",children:h.jsx(vI,{size:20})})]})}),h.jsx("div",{className:"bg-white rounded-xl p-4 ring-1 ring-slate-200 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-rose-600",children:Rd(J.banned)}),h.jsx("div",{className:"text-sm text-slate-500",children:"B kha"})]}),h.jsx("div",{className:"p-3 rounded-xl bg-rose-100 text-rose-600",children:h.jsx(wI,{size:20})})]})})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx(v3,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),h.jsx("input",{value:a,onChange:ee=>o(ee.target.value),onKeyPress:ee=>ee.key==="Enter"&&E(),className:"w-72 rounded-2xl ring-1 ring-slate-200 bg-white pl-9 pr-3 py-2.5 text-sm outline-none focus:ring-blue-400 focus:ring-2 transition-all",placeholder:"Tm theo tn hoc email..."})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:l,onChange:ee=>c(ee.target.value),className:"appearance-none rounded-2xl ring-1 ring-slate-200 bg-white pl-3 pr-10 py-2.5 text-sm outline-none focus:ring-2 focus:ring-blue-400 transition-all",children:[h.jsx("option",{value:"all",children:"Tt c vai tr"}),h.jsx("option",{value:"superadmin",children:" Super Admin"}),h.jsx("option",{value:"admin",children:" Qun tr vin"}),h.jsx("option",{value:"user",children:" Ngi dng"})]}),h.jsx(jh,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),h.jsx("button",{onClick:E,className:"rounded-xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-blue-700 transition-colors",children:"Tm kim"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>w(!0),className:"inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-white hover:bg-emerald-700 transition-colors",children:[h.jsx(Qp,{size:16})," Thm ngi dng"]}),h.jsxs("button",{onClick:()=>k(),className:"inline-flex items-center gap-2 rounded-xl bg-white ring-1 ring-slate-200 px-4 py-2.5 text-sm font-semibold hover:bg-slate-50 transition-colors",children:[h.jsx(w1,{size:16})," Lm mi"]})]})]}),h.jsxs("div",{className:"overflow-hidden rounded-2xl ring-1 ring-slate-200/75 bg-white shadow-sm",children:[h.jsx("div",{className:"max-w-full overflow-x-auto",children:h.jsxs("table",{className:"min-w-[900px] w-full text-sm",children:[h.jsx("thead",{className:"bg-slate-50 text-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left px-6 py-4 font-semibold",children:"Ngi dng"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Vai tr"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Trng thi"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Ngy tham gia"}),h.jsx("th",{className:"text-left px-4 py-4 font-semibold",children:"Cp nht"}),h.jsx("th",{className:"text-right px-6 py-4 font-semibold",children:"Hnh ng"})]})}),h.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n&&h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"py-8 text-center",children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),h.jsx("span",{className:"text-slate-500",children:"ang ti..."})]})})}),!n&&I.map(ee=>{const he=ee.isSuper===!0||ee.isSuper===1;return h.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:pa(ee.avatar,ee.name),alt:ee.name,className:"w-12 h-12 rounded-full object-cover ring-2 ring-white shadow-sm"}),he&&h.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full grid place-items-center",children:h.jsx(hl,{size:10,className:"text-white"})})]}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"font-semibold text-slate-900 truncate max-w-xs",children:ee.name}),h.jsx("div",{className:"text-xs text-slate-500 truncate max-w-xs",children:ee.email})]})]})}),h.jsx("td",{className:"px-4 py-4",children:h.jsx(Lw,{role:ee.role,isSuper:ee.isSuper})}),h.jsx("td",{className:"px-4 py-4",children:h.jsx(DL,{status:ee.status})}),h.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:O2(ee.ngayTao)}),h.jsx("td",{className:"px-4 py-4 text-slate-600 whitespace-nowrap",children:O2(ee.ngayCapNhat)}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsxs("button",{onClick:()=>ce(ee),className:"inline-flex items-center gap-1 rounded-lg bg-violet-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-violet-700 transition-colors",title:"Xem chi tit",children:[h.jsx(gu,{size:14})," Chi tit"]}),he?h.jsxs("button",{onClick:()=>U(ee.id,"admin"),className:"inline-flex items-center gap-1 rounded-lg bg-gradient-to-r from-yellow-500 to-orange-500 px-3 py-1.5 text-xs font-semibold text-white hover:from-yellow-600 hover:to-orange-600 transition-colors",title:"H xung Admin",children:[h.jsx(gf,{size:14})," H quyn"]}):ee.role==="admin"?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>U(ee.id,"superadmin"),className:"inline-flex items-center gap-1 rounded-lg bg-gradient-to-r from-yellow-500 to-orange-500 px-3 py-1.5 text-xs font-semibold text-white hover:from-yellow-600 hover:to-orange-600 transition-colors",title:"Thng Super Admin",children:[h.jsx(hl,{size:14})," Super"]}),h.jsxs("button",{onClick:()=>U(ee.id,"user"),className:"inline-flex items-center gap-1 rounded-lg bg-slate-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-slate-700 transition-colors",title:"H xung User",children:[h.jsx(ca,{size:14})," H quyn"]})]}):h.jsxs("button",{onClick:()=>U(ee.id,"admin"),className:"inline-flex items-center gap-1 rounded-lg bg-purple-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-purple-700 transition-colors",title:"Thng Admin",children:[h.jsx(gf,{size:14})," Thng Admin"]}),(()=>{const se=B(),F=t.find(re=>re.email===(se==null?void 0:se.email));return(F==null?void 0:F.isSuper)===!0||(F==null?void 0:F.isSuper)===1?ee.status==="bi_khoa"?h.jsxs("button",{onClick:()=>Z(ee.id),className:"inline-flex items-center gap-1 rounded-lg bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-emerald-700 transition-colors",title:"M kha ti khon",children:[h.jsx(vj,{size:14})," M kha"]}):h.jsxs("button",{onClick:()=>{p(ee),S(!0)},className:"inline-flex items-center gap-1 rounded-lg bg-rose-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-rose-700 transition-colors",title:"Kha ti khon",children:[h.jsx(x3,{size:14})," Kha"]}):null})()]})})]},ee.id)}),!n&&I.length===0&&h.jsx("tr",{children:h.jsxs("td",{colSpan:6,className:"py-16 text-center",children:[h.jsx(ca,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng c ngi dng"}),h.jsx("p",{className:"text-gray-500",children:"Khng tm thy ngi dng ph hp vi b lc hin ti."})]})})]})]})}),d.total>0&&h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-slate-50 border-t",children:[h.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th ",h.jsx("span",{className:"font-semibold",children:(d.page-1)*d.pageSize+1})," n"," ",h.jsx("span",{className:"font-semibold",children:Math.min(d.page*d.pageSize,d.total)})," trong tng s"," ",h.jsx("span",{className:"font-semibold",children:d.total})," ngi dng"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>k(d.page-1,a),disabled:d.page<=1,className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Trc"}),h.jsx("div",{className:"flex items-center gap-1",children:(()=>{const ee=Math.ceil(d.total/d.pageSize),he=5;let se=Math.max(1,d.page-Math.floor(he/2)),F=Math.min(ee,se+he-1);return F-se+1<he&&(se=Math.max(1,F-he+1)),Array.from({length:F-se+1},(q,re)=>{const oe=se+re,de=oe===d.page;return h.jsx("button",{onClick:()=>k(oe,a),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${de?"bg-blue-600 text-white":"border border-slate-200 bg-white hover:bg-slate-50"}`,children:oe},oe)})})()}),h.jsx("button",{onClick:()=>k(d.page+1,a),disabled:d.page>=Math.ceil(d.total/d.pageSize),className:"px-3 py-1.5 rounded-lg text-sm font-medium border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Sau"})]})]})]}),h.jsx(sZ,{user:m,isOpen:y,onClose:()=>b(!1),onRoleChange:U,onBanUser:ee=>{p(t.find(he=>he.id===ee)),S(!0)},onUnlockUser:Z,users:t,currentUserEmail:R()}),h.jsx(aZ,{user:m,isOpen:N,onClose:()=>S(!1),onConfirm:ee=>G(m==null?void 0:m.id,ee)}),h.jsx(oZ,{isOpen:j,onClose:()=>w(!1),onAdd:pe})]})}const cZ="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net",uZ=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}},qm=async(t,e={})=>{try{const n=await fetch(`${cZ}/api${t}`,{credentials:"include",headers:{"Content-Type":"application/json",...e.headers},...e});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.json()}catch(n){throw console.error(`API call failed for ${t}:`,n),n}};function hZ(){const t=ya(),[e,n]=Y.useState(null),[i,r]=Y.useState(!0),[s,a]=Y.useState({totalFrames:0,publicFrames:0,totalUsers:0,reportsOpen:0,recentFrames:[]}),[o,l]=Y.useState([]),[c,d]=Y.useState(!1),[g,m]=Y.useState(0),[p,y]=Y.useState(!0),[b,N]=Y.useState("dashboard"),[S,j]=Y.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 768px)").matches:!0);Y.useEffect(()=>{(async()=>{const q=uZ();n(q);const re=(q==null?void 0:q.vaiTro)==="admin"||(q==null?void 0:q.role)==="admin"||(q==null?void 0:q.email)==="admin@example.com";if(!q||!re){t("/");return}try{const oe=await qm("/admin/stats");a(oe)}catch(oe){console.error("Failed to load admin stats:",oe)}r(!1)})()},[t]),Y.useEffect(()=>{const F=document.querySelector("footer");if(!F)return;const q=F.style.display;return F.style.display="none",()=>{F.style.display=q||""}},[]),Y.useEffect(()=>{var re,oe;const F=window.matchMedia("(min-width: 768px)"),q=de=>j(de.matches);return(re=F.addEventListener)==null||re.call(F,"change",q),(oe=F.addListener)==null||oe.call(F,q),()=>{var de,X;(de=F.removeEventListener)==null||de.call(F,"change",q),(X=F.removeListener)==null||X.call(F,q)}},[]),Y.useEffect(()=>{if(e){w();const F=setInterval(w,3e4);return()=>clearInterval(F)}},[e]);const w=async()=>{try{const F=await qm("/admin/notifications");F&&F.notifications?(l(F.notifications||[]),m(F.unreadCount||0)):(l([]),m(0))}catch(F){console.error("Failed to load notifications:",F),l([]),m(0)}},k=async F=>{try{await qm(`/admin/notifications/${F}/read`,{method:"PATCH"}),l(q=>q.map(re=>re.id===F?{...re,daDoc:!0}:re)),m(q=>Math.max(0,q-1))}catch(q){console.error("Failed to mark notification as read:",q)}},E=async()=>{try{await qm("/admin/notifications/read-all",{method:"PATCH"}),l(F=>F.map(q=>({...q,daDoc:!0}))),m(0)}catch(F){console.error("Failed to mark all notifications as read:",F)}},I=F=>({admin:"Qun tr vin",moderator:"iu hnh vin",user:"Ngi dng",nguoi_dung:"Ngi dng",quan_tri:"Qun tr vin",dieu_hanh:"iu hnh vin"})[F]||"Ngi dng",U=F=>{const q=new Date(F),oe=new Date-q,de=Math.floor(oe/6e4),X=Math.floor(oe/36e5),fe=Math.floor(oe/864e5);return de<1?"Va xong":de<60?`${de} pht trc`:X<24?`${X} gi trc`:fe<7?`${fe} ngy trc`:q.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})},R=F=>{switch(F){case"new_frame":return h.jsx(bs,{size:16,className:"text-blue-600"});case"user_registered":return h.jsx(ca,{size:16,className:"text-green-600"});case"user_login":return h.jsx(b1,{size:16,className:"text-purple-600"});case"frame_reported":return h.jsx(d2,{size:16,className:"text-red-600"});default:return h.jsx(ry,{size:16,className:"text-gray-600"})}},B=()=>{const F=new Date().getHours(),q=I((e==null?void 0:e.vaiTro)||(e==null?void 0:e.role)),re=(e==null?void 0:e.name)||(e==null?void 0:e.ten)||(e==null?void 0:e.TenHienThi)||"Admin";let oe="Cho bn";return F<12?oe="Cho bui sng":F<17?oe="Cho bui chiu":oe="Cho bui ti",`${oe}, ${q} ${re}!`},O=()=>{const F=new Date().getHours();return F<12?"":F<17?"":""},P=64,M=12,G=288,W=80,Z=P+M,ce=M,pe=P+M,J=S?p?G:W:0,ee=ce+J,he=[{id:"dashboard",name:"Tng quan",icon:GD},{id:"frames",name:"Khung hnh",icon:bs},{id:"users",name:"Ngi dng",icon:f2}];return i||!e?h.jsx("div",{className:"min-h-screen grid place-items-center bg-gradient-to-br from-slate-50 via-white to-slate-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"ang ti bng iu khin..."}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Vui lng ch trong giy lt"})]})}):(e==null?void 0:e.vaiTro)==="admin"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.email)==="admin@example.com"?h.jsxs("div",{className:"relative min-h-screen bg-[radial-gradient(60%_40%_at_10%_10%,#e0f2fe_0%,transparent_70%),radial-gradient(60%_40%_at_90%_10%,#dcfce7_0%,transparent_70%)]",children:[h.jsx("aside",{style:{top:Z,bottom:M,left:ce,width:J},className:"fixed z-40 hidden md:block transition-[width] duration-300",children:h.jsxs("div",{className:"h-full rounded-3xl overflow-hidden bg-white/65 backdrop-blur-md ring-1 ring-slate-200/70 shadow-[0_6px_24px_rgba(0,0,0,0.08)] flex flex-col",children:[h.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-slate-200/60 bg-gradient-to-r from-blue-50 to-green-50",children:[h.jsx("div",{className:"size-10 grid place-items-center rounded-2xl bg-blue-600 text-white shadow-md",children:h.jsx(lD,{size:20})}),p&&h.jsxs("div",{children:[h.jsx("div",{className:"text-[12px] text-slate-500 leading-none",children:"Admin Panel"}),h.jsx("div",{className:"text-lg font-extrabold tracking-tight text-slate-900",children:"TrendyFrame"})]})]}),p&&h.jsxs("div",{className:"px-4 py-3 border-b border-slate-200/60",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[h.jsxs("div",{className:"bg-blue-50 rounded-lg p-2 text-center",children:[h.jsx("div",{className:"font-semibold text-blue-700",children:s.totalFrames}),h.jsx("div",{className:"text-blue-600",children:"Khung hnh"})]}),h.jsxs("div",{className:"bg-green-50 rounded-lg p-2 text-center",children:[h.jsx("div",{className:"font-semibold text-green-700",children:s.totalUsers}),h.jsx("div",{className:"text-green-600",children:"Ngi dng"})]})]}),s.reportsOpen>0&&h.jsx("div",{className:"mt-2 bg-red-50 rounded-lg p-2 text-center",children:h.jsxs("div",{className:"text-xs font-semibold text-red-700",children:[s.reportsOpen," bo co ch x l"]})})]}),h.jsx("nav",{className:"flex-1 overflow-y-auto px-3 py-4",children:he.map(F=>{const q=F.icon,re=b===F.id;return h.jsxs("button",{onClick:()=>N(F.id),className:`w-full flex items-center gap-3 mb-1.5 rounded-2xl px-3 py-2.5 text-sm font-medium transition-all
                    ${re?"bg-blue-600 text-white shadow-sm ring-1 ring-blue-600/40":"text-slate-700 hover:bg-slate-100/80"}`,children:[h.jsx("span",{className:`grid place-items-center size-8 rounded-xl
                    ${re?"bg-white/20 text-white":"bg-slate-100 text-slate-500"}`,children:h.jsx(q,{size:18})}),p&&h.jsx("span",{className:"truncate",children:F.name}),p&&re&&h.jsx(gD,{className:"ml-auto opacity-80",size:16})]},F.id)})}),h.jsxs("div",{className:"border-t border-slate-200/70 bg-white/75 px-3 py-4",children:[h.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white ring-1 ring-slate-200 shadow-sm p-3",children:[h.jsx("img",{src:pa((e==null?void 0:e.picture)||(e==null?void 0:e.avatar),(e==null?void 0:e.name)||(e==null?void 0:e.TenHienThi)||"Admin"),alt:"avatar",className:"size-10 rounded-full object-cover",referrerPolicy:"no-referrer"}),p&&h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:(e==null?void 0:e.name)||(e==null?void 0:e.TenHienThi)||"Admin"}),h.jsx("div",{className:"text-xs text-gray-500 truncate",children:(e==null?void 0:e.email)||"admin@example.com"})]})]}),h.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[h.jsx("button",{onClick:()=>y(F=>!F),className:"rounded-xl py-2 text-xs font-semibold text-slate-700 bg-slate-100 hover:bg-slate-200 transition",children:p?"Thu gn":"M rng"}),h.jsxs("button",{onClick:()=>{localStorage.removeItem("kh_me"),t("/")},className:"rounded-xl py-2 text-xs font-semibold text-white bg-slate-900 hover:bg-black",children:[h.jsx(y4,{size:14,className:"inline -mt-0.5 mr-1"}),p?"ng xut":""]})]})]})]})}),h.jsxs("div",{style:{paddingTop:pe,paddingRight:M,paddingLeft:M,marginLeft:ee,maxWidth:`calc(100vw - ${ee+M}px)`},className:"px-4 sm:px-6 overflow-x-clip",children:[h.jsx("div",{className:"sticky z-20",style:{top:Z},children:h.jsx("div",{className:"rounded-2xl backdrop-blur bg-gradient-to-r from-white/95 via-blue-50/80 to-green-50/80 ring-1 ring-slate-200 shadow-lg",children:h.jsxs("div",{className:"px-4 sm:px-6 py-3 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[h.jsx("button",{className:"md:hidden rounded-xl bg-white ring-1 ring-slate-200 px-3 py-1.5 text-sm font-medium hover:bg-gray-50 transition",onClick:()=>y(F=>!F),children:"Menu"}),h.jsxs("div",{className:"hidden md:block",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"text-base",children:O()}),h.jsx("div",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:new Date().toLocaleDateString("vi-VN",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),h.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:B()})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"hidden xl:flex items-center gap-2 text-xs",children:[s.reportsOpen>0&&h.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-red-50 to-rose-50 text-red-700 rounded-full ring-1 ring-red-200/50 shadow-sm",children:[h.jsx(Id,{size:14,className:"animate-pulse"}),h.jsx("span",{className:"font-semibold",children:s.reportsOpen}),h.jsx("span",{className:"hidden lg:inline",children:"bo co"})]}),h.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-blue-50 to-cyan-50 text-blue-700 rounded-full ring-1 ring-blue-200/50 shadow-sm",children:[h.jsx(b1,{size:14}),h.jsx("span",{className:"font-semibold",children:s.publicFrames}),h.jsx("span",{className:"hidden lg:inline",children:"ang hot ng"})]}),h.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 rounded-full ring-1 ring-green-200/50 shadow-sm",children:[h.jsx(f2,{size:14}),h.jsx("span",{className:"font-semibold",children:s.totalUsers}),h.jsx("span",{className:"hidden lg:inline",children:"ngi dng"})]})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>d(!c),className:"relative rounded-xl ring-1 ring-slate-200 bg-white px-3 py-2 hover:bg-gray-50 transition-colors",children:[h.jsx(ry,{size:18}),g>0&&h.jsx("span",{className:"absolute -top-1 -right-1 size-5 grid place-items-center rounded-full bg-rose-500 text-white text-[11px] font-medium",children:g>99?"99+":g})]}),c&&h.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-2xl shadow-xl ring-1 ring-slate-200 z-50",children:[h.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 flex items-center justify-between",children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:"Thng bo"}),h.jsxs("div",{className:"flex items-center gap-2",children:[g>0&&h.jsx("button",{onClick:E,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"nh du tt c"}),h.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:h.jsx(Ih,{size:18})})]})]}),h.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.length===0?h.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[h.jsx(ry,{size:24,className:"mx-auto mb-2 opacity-50"}),h.jsx("p",{className:"text-sm",children:"Khng c thng bo mi"})]}):h.jsx("div",{className:"py-2",children:o.map(F=>h.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer border-l-4 transition-colors ${F.daDoc?"border-transparent":"border-blue-500 bg-blue-50/30"}`,onClick:()=>!F.daDoc&&k(F.id),children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"flex-shrink-0 mt-0.5",children:R(F.loai)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsx("p",{className:`text-sm ${F.daDoc?"text-gray-600":"text-gray-900 font-medium"}`,children:F.tieuDe}),!F.daDoc&&h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-1"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:F.noiDung}),h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx("span",{className:"text-xs text-gray-400",children:U(F.thoiGian)}),F.loai==="new_frame"&&h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-100 text-blue-700 text-[10px] font-medium",children:[h.jsx(bs,{size:10}),"Khung mi"]}),F.loai==="user_login"&&h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-purple-100 text-purple-700 text-[10px] font-medium",children:[h.jsx(b1,{size:10}),"ng nhp"]}),F.loai==="user_registered"&&h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-[10px] font-medium",children:[h.jsx(ca,{size:10}),"ng k mi"]})]})]})]})},F.id))})}),o.length>0&&h.jsx("div",{className:"px-4 py-3 border-t border-slate-200 text-center",children:h.jsx("button",{onClick:()=>{N("reports"),d(!1)},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Xem tt c thng bo"})})]})]}),h.jsx("button",{className:"rounded-xl ring-1 ring-slate-200 bg-white px-3 py-2 hover:bg-gray-50 transition-colors",children:h.jsx(AD,{size:18})})]})]})})}),h.jsxs("main",{className:"py-8 w-full min-w-0",children:[b==="dashboard"&&h.jsx(eZ,{}),b==="frames"&&h.jsx(iZ,{}),b==="users"&&h.jsx(lZ,{})]})]}),c&&h.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)})]}):h.jsx("div",{className:"min-h-screen grid place-items-center bg-gradient-to-br from-red-50 via-white to-red-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx(d2,{className:"mx-auto h-16 w-16 text-red-400 mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Khng c quyn truy cp"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Ch Qun tr vin mi c th truy cp trang ny."}),h.jsx("button",{onClick:()=>t("/"),className:"px-6 py-2 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:"V trang ch"})]})})}function Hy(t){if(t===0)return"0 B";const e=1024,n=["B","KB","MB","GB"],i=Math.floor(Math.log(t)/Math.log(e));return`${(t/Math.pow(e,i)).toFixed(2)} ${n[i]}`}async function dZ(t){try{return await createImageBitmap(t)}catch{return new Promise((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=n,i.src=URL.createObjectURL(t)})}}async function fZ(t,e=.8,n=!1){const i=await dZ(t),r=document.createElement("canvas");r.width=i.width,r.height=i.height,r.getContext("2d").drawImage(i,0,0);const a=t.type.toLowerCase();let o="image/webp";n?o=a||"image/webp":(a.includes("jpeg")||a.includes("jpg"))&&(o="image/jpeg");const l=r.toDataURL(o,e),c=await(await fetch(l)).blob(),d=t.name.replace(/\.[^.]+$/,"")+(o.includes("jpeg")?".jpg":o.includes("png")?".png":".webp");return new File([c],d,{type:o})}function pZ(){const t=Y.useRef(null),[e,n]=Y.useState([]),i=async s=>{const a=Array.from(s||[]);if(!a.length)return;const o=a.map(l=>({file:l,outFile:null,saving:!0,thumb:URL.createObjectURL(l)}));n(l=>[...l,...o]);for(const l of a)try{const c=await fZ(l,.85,!1);n(d=>d.map(g=>g.file===l?{...g,outFile:c,saving:!1}:g))}catch(c){console.error(c),n(d=>d.map(g=>g.file===l?{...g,outFile:null,saving:!1}:g))}},r=e.reduce((s,a)=>a.outFile?s+(a.file.size-a.outFile.size):s,0);return h.jsx("div",{className:"min-h-[calc(100vh-64px)] bg-gradient-to-b from-sky-50 to-white",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[h.jsx("h1",{className:"text-[42px] md:text-[48px] font-black text-[#0f172a] text-center mb-8",children:"Nn hnh nh"}),h.jsxs("div",{className:`rounded-3xl bg-white ring-1 ring-slate-200 p-8 md:p-10 mx-auto max-w-4xl\r
                     shadow-[0_20px_60px_-20px_rgba(0,0,0,.06)]\r
                     relative overflow-hidden`,onDrop:s=>{s.preventDefault(),i(s.dataTransfer.files)},onDragOver:s=>s.preventDefault(),children:[h.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 opacity-[0.35] pointer-events-none",style:{backgroundImage:"linear-gradient(0deg, rgba(0,0,0,.03) 1px, transparent 1px), linear-gradient(90deg, rgba(0,0,0,.03) 1px, transparent 1px)",backgroundSize:"22px 22px"}}),h.jsxs("div",{className:"relative grid place-items-center gap-2",children:[h.jsx("button",{type:"button",onClick:()=>{var s;return(s=t.current)==null?void 0:s.click()},className:`inline-flex items-center gap-2 px-5 py-3 rounded-xl\r
     bg-[#2563eb] text-white font-semibold hover:bg-[#1d4ed8]\r
     shadow-[0_8px_22px_rgba(37,99,235,.35)]`,children:"Chn hnh"}),h.jsx("div",{className:"text-sm text-slate-500",children:"H tr nh dng PNG / JPG / WebP"}),h.jsx("input",{ref:t,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:s=>i(s.target.files),onClick:s=>{s.target.value=""}})]})]}),h.jsx("div",{className:"max-w-4xl mx-auto mt-6 flex items-center justify-end",children:h.jsxs("div",{className:"text-emerald-600 font-extrabold text-xl",children:[r>0?`-${(r/(r+e.reduce((s,a)=>{var o;return s+(((o=a.outFile)==null?void 0:o.size)||0)},0))*100).toFixed(1)}%`:"-0%",h.jsxs("span",{className:"ml-2 text-sm font-semibold text-slate-500",children:["(",Hy(r),"  gim)"]})]})}),h.jsx("div",{className:"max-w-4xl mx-auto mt-4 space-y-3",children:e.map((s,a)=>{var g,m;const o=s.file.size,l=((g=s.outFile)==null?void 0:g.size)??o,c=Math.max(0,o-l),d=o?Math.round(c/o*100):0;return h.jsxs("div",{className:"flex items-center gap-4 rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 px-4 py-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden ring-1 ring-slate-200 shrink-0 bg-slate-50",children:h.jsx("img",{src:s.thumb,alt:"",className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("div",{className:"font-semibold text-slate-800 truncate",children:((m=s.outFile)==null?void 0:m.name)||s.file.name}),h.jsxs("div",{className:"text-xs text-slate-500",children:[Hy(o)," ",h.jsx("span",{className:"mx-1",children:""})," ",Hy(l)]})]}),h.jsxs("span",{className:`shrink-0 inline-flex items-center px-2 py-1 rounded-md text-xs font-bold\r
                                 bg-emerald-50 text-emerald-700 ring-1 ring-emerald-100`,children:["-",d,"%"]}),s.saving?h.jsx("div",{className:"text-sm text-slate-500",children:"ang nn"}):s.outFile?h.jsxs("a",{href:URL.createObjectURL(s.outFile),download:s.outFile.name,className:`shrink-0 inline-flex items-center gap-2 px-4 py-2 rounded-xl\r
             bg-[#2563eb] text-white text-sm font-semibold hover:bg-[#1d4ed8]\r
             shadow-[0_8px_22px_rgba(37,99,235,.35)]`,children:[h.jsx(nc,{size:16})," Ti v"]}):h.jsx("div",{className:"text-rose-600 text-sm",children:"Li"})]},a)})})]})})}function gZ(){const t=Y.useRef(null),[e,n]=Y.useState("trong"),[i,r]=Y.useState(null),[s,a]=Y.useState(""),[o,l]=Y.useState({w:0,h:0}),[c,d]=Y.useState(!0),[g,m]=Y.useState(!1),[p,y]=Y.useState({w:0,h:0}),[b,N]=Y.useState(""),[S,j]=Y.useState({w:0,h:0}),w=()=>{var P;return(P=t.current)==null?void 0:P.click()},k=P=>{var Z;const M=(Z=P.target.files)==null?void 0:Z[0];if(!M)return;s&&URL.revokeObjectURL(s),b&&URL.revokeObjectURL(b),r(M);const G=URL.createObjectURL(M);a(G);const W=new Image;W.onload=()=>{const ce=W.naturalWidth,pe=W.naturalHeight;l({w:ce,h:pe}),y({w:ce,h:pe}),n("chinh-sua")},W.src=G};Y.useEffect(()=>()=>{s&&URL.revokeObjectURL(s),b&&URL.revokeObjectURL(b)},[]);const E=P=>{if(P=Math.max(1,Math.round(+P||0)),c&&o.w){const M=o.h/o.w;y({w:P,h:Math.max(1,Math.round(P*M))})}else y(M=>({...M,w:P}))},I=P=>{if(P=Math.max(1,Math.round(+P||0)),c&&o.h){const M=o.w/o.h;y({h:P,w:Math.max(1,Math.round(P*M))})}else y(M=>({...M,h:P}))},U=async(P,M)=>{if(!i)return;const G=await tN(i);let W=P,Z=M;if(c){const F=o.w/o.h,q=P/M;Math.abs(F-q)>.06&&(F>q?(W=Math.round(M*F),Z=M):(W=P,Z=Math.round(P/F)))}g||(W=Math.min(W,o.w),Z=Math.min(Z,o.h));const{blob:ce}=await nN(G,W,Z),pe=URL.createObjectURL(ce),J=i.name.replace(/\.[^.]+$/,""),ee=(i.name.split(".").pop()||"png").toLowerCase(),he=`${J}-${W}x${Z}.${ee}`,se=document.createElement("a");se.href=pe,se.download=he,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(pe)},R=async()=>{if(!i||!p.w||!p.h)return;const P=await tN(i);let M=p.w,G=p.h;g||(M=Math.min(M,o.w),G=Math.min(G,o.h));const{blob:W,w:Z,h:ce}=await nN(P,M,G),pe=URL.createObjectURL(W);N(pe),j({w:Z,h:ce}),n("ket-qua")},B=()=>{s&&URL.revokeObjectURL(s),b&&URL.revokeObjectURL(b),r(null),a(""),N(""),n("trong")},O=Y.useMemo(()=>{if(!i)return"";const P=i.name.replace(/\.[^.]+$/,""),M=(i.name.split(".").pop()||"png").toLowerCase();return`${P}-${p.w}x${p.h}.${M}`},[i,p]);return h.jsx("div",{className:"relative min-h-[80vh] bg-gradient-to-b from-sky-50 to-white",children:h.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-6 py-10",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 text-center mb-6",children:"Thay i kch thc nh"}),e==="trong"&&h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Ti nh JPEG, PNG v thay i kch thc d dng vi cng c trc tuyn min ph."}),h.jsxs("button",{onClick:w,className:"mt-6 inline-flex items-center gap-2 rounded-xl px-6 py-3 bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 transition",children:[h.jsx(Dh,{size:18})," Chn nh ca bn"]}),h.jsx("input",{ref:t,onChange:k,type:"file",accept:"image/*",hidden:!0})]}),e==="chinh-sua"&&h.jsxs("div",{className:"grid md:grid-cols-[1fr_360px] gap-8",children:[h.jsx("div",{className:"mx-auto",children:h.jsxs("div",{className:"card bg-white rounded-2xl border shadow p-4 w-[320px] h-[380px] grid place-items-center",children:[s&&h.jsx("img",{src:s,alt:"xem trc",className:"max-w-full max-h-56 object-contain"}),h.jsxs("div",{className:"w-full text-sm mt-3",children:[h.jsx("div",{className:"font-semibold truncate",children:i==null?void 0:i.name}),h.jsxs("div",{className:"text-blue-700",children:[o.w,"x",o.h,"  ",p.w,"x",p.h]})]}),h.jsx("button",{onClick:B,className:"mt-2 text-red-500 hover:underline text-sm",children:"Xa nh"})]})}),h.jsxs("aside",{className:"card bg-white rounded-2xl border shadow p-5",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"font-semibold text-lg",children:"Ty chn"}),h.jsx("button",{onClick:w,className:"rounded-lg px-4 py-2 bg-blue-600 text-white font-semibold hover:bg-blue-700",children:"Chn nh khc"}),h.jsx("input",{ref:t,onChange:k,type:"file",accept:"image/*",hidden:!0})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Ty chn nhanh - Ti ngay"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("button",{onClick:()=>U(1080,1080),className:"px-3 py-2 rounded-lg border text-sm hover:bg-blue-50 hover:border-blue-500 transition flex items-center justify-center gap-2",children:[h.jsx(nc,{size:14}),"1080x1080"]}),h.jsxs("button",{onClick:()=>U(2048,2048),className:"px-3 py-2 rounded-lg border text-sm hover:bg-blue-50 hover:border-blue-500 transition flex items-center justify-center gap-2",children:[h.jsx(nc,{size:14}),"2048x2048"]}),h.jsxs("button",{onClick:()=>U(1920,1080),className:"px-3 py-2 rounded-lg border text-sm hover:bg-blue-50 hover:border-blue-500 transition flex items-center justify-center gap-2",children:[h.jsx(nc,{size:14}),"1920x1080"]}),h.jsxs("button",{onClick:()=>U(1080,1920),className:"px-3 py-2 rounded-lg border text-sm hover:bg-blue-50 hover:border-blue-500 transition flex items-center justify-center gap-2",children:[h.jsx(nc,{size:14}),"1080x1920"]})]})]}),h.jsxs("div",{className:"mt-5 space-y-4",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Hoc ty chnh kch thc theo  bn"}),h.jsxs("div",{className:"grid grid-cols-[110px_1fr] gap-2 items-center",children:[h.jsx("span",{children:"Chiu rng"}),h.jsx("input",{type:"number",min:"1",value:p.w||"",onChange:P=>E(P.target.value),className:"w-full border rounded-lg px-3 py-2"}),h.jsx("span",{children:"Chiu cao"}),h.jsx("input",{type:"number",min:"1",value:p.h||"",onChange:P=>I(P.target.value),className:"w-full border rounded-lg px-3 py-2"})]}),(p.w>o.w||p.h>o.h)&&!g&&h.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800",children:' Kch thc bn chn ln hn nh gc. Hy bt ty chn "Cho php phng to" bn di.'}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",id:"giuTyLe",checked:c,onChange:()=>d(P=>!P)}),h.jsx("label",{htmlFor:"giuTyLe",className:"cursor-pointer",children:"Gi nguyn t l nh (khuyn ngh)"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",id:"choPhepPhongTo",checked:g,onChange:()=>m(P=>!P)}),h.jsxs("label",{htmlFor:"choPhepPhongTo",className:"cursor-pointer",children:["Cho php phng to nh",h.jsx("span",{className:"text-xs text-gray-500 block",children:"(Lu : Phng to c th lm nh b m/v)"})]})]}),h.jsx("button",{onClick:R,className:"w-full mt-4 inline-flex justify-center items-center gap-2 rounded-xl px-6 py-3 bg-blue-600 text-white font-semibold hover:bg-blue-700",children:"Xem kt qu"})]})]})]}),e==="ket-qua"&&h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"card bg-white rounded-2xl border shadow p-4 w-[320px] h-[380px] mx-auto grid place-items-center",children:[b?h.jsx("img",{src:b,alt:"kt qu",className:"max-w-full max-h-56 object-contain"}):h.jsxs("div",{className:"text-gray-400 grid place-items-center gap-2",children:[h.jsx(bs,{})," ang x l"]}),h.jsxs("div",{className:"text-blue-700 mt-3",children:["Kch thc mi: ",S.w,"x",S.h]}),h.jsxs("a",{href:b,download:O||"anh-da-resize.png",className:"mt-3 inline-flex items-center gap-2 rounded-xl px-5 py-2.5 bg-blue-600 text-white font-semibold hover:bg-blue-700",children:[h.jsx(nc,{size:18})," Ti nh v my"]})]}),h.jsxs("button",{onClick:()=>n("chinh-sua"),className:"mt-6 inline-flex items-center gap-2 px-4 py-2 rounded-lg border hover:bg-gray-50",children:[h.jsx(fD,{size:18})," Quay li chnh sa"]})]})]})})}function tN(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=n,i.src=URL.createObjectURL(t)})}function nN(t,e,n,i="image/png",r=.92){return new Promise(s=>{const a=document.createElement("canvas");a.width=Math.max(1,Math.round(e)),a.height=Math.max(1,Math.round(n));const o=a.getContext("2d");o.imageSmoothingQuality="high",o.drawImage(t,0,0,a.width,a.height),a.toBlob(l=>{s({blob:l,w:a.width,h:a.height})},i,r)})}const mZ="modulepreload",xZ=function(t){return"/"+t},iN={},Gy=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=xZ(l),l in iN)return;iN[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":mZ,c||(g.as="script"),g.crossOrigin="",g.href=l,o&&g.setAttribute("nonce",o),document.head.appendChild(g),c)return new Promise((m,p)=>{g.addEventListener("load",m),g.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Pn(t){"@babel/helpers - typeof";return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(t)}var Uo=Uint8Array,ua=Uint16Array,Tw=Int32Array,Ew=new Uo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mw=new Uo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rN=new Uo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),IL=function(t,e){for(var n=new ua(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new Tw(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return{b:n,r}},BL=IL(Ew,2),yZ=BL.b,ab=BL.r;yZ[28]=258,ab[258]=28;var vZ=IL(Mw,0),sN=vZ.r,ob=new ua(32768);for(var ni=0;ni<32768;++ni){var Bc=(ni&43690)>>1|(ni&21845)<<1;Bc=(Bc&52428)>>2|(Bc&13107)<<2,Bc=(Bc&61680)>>4|(Bc&3855)<<4,ob[ni]=((Bc&65280)>>8|(Bc&255)<<8)>>1}var Lp=function(t,e,n){for(var i=t.length,r=0,s=new ua(e);r<i;++r)t[r]&&++s[t[r]-1];var a=new ua(e);for(r=1;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;var o;if(n){o=new ua(1<<e);var l=15-e;for(r=0;r<i;++r)if(t[r])for(var c=r<<4|t[r],d=e-t[r],g=a[t[r]-1]++<<d,m=g|(1<<d)-1;g<=m;++g)o[ob[g]>>l]=c}else for(o=new ua(i),r=0;r<i;++r)t[r]&&(o[r]=ob[a[t[r]-1]++]>>15-t[r]);return o},zh=new Uo(288);for(var ni=0;ni<144;++ni)zh[ni]=8;for(var ni=144;ni<256;++ni)zh[ni]=9;for(var ni=256;ni<280;++ni)zh[ni]=7;for(var ni=280;ni<288;++ni)zh[ni]=8;var D2=new Uo(32);for(var ni=0;ni<32;++ni)D2[ni]=5;var bZ=Lp(zh,9,0),wZ=Lp(D2,5,0),zL=function(t){return(t+7)/8|0},_Z=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Uo(t.subarray(e,n))},$l=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8},K0=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8,t[i+2]|=n>>16},Wy=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var r=n.length,s=n.slice();if(!r)return{t:VL,l:0};if(r==1){var a=new Uo(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(E,I){return E.f-I.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,d=1,g=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=r-1;)o=n[n[c].f<n[g].f?c++:g++],l=n[c!=d&&n[c].f<n[g].f?c++:g++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=s[0].s,i=1;i<r;++i)s[i].s>m&&(m=s[i].s);var p=new ua(m+1),y=lb(n[d-1],p,0);if(y>e){var i=0,b=0,N=y-e,S=1<<N;for(s.sort(function(I,U){return p[U.s]-p[I.s]||I.f-U.f});i<r;++i){var j=s[i].s;if(p[j]>e)b+=S-(1<<y-p[j]),p[j]=e;else break}for(b>>=N;b>0;){var w=s[i].s;p[w]<e?b-=1<<e-p[w]++-1:++i}for(;i>=0&&b;--i){var k=s[i].s;p[k]==e&&(--p[k],++b)}y=e}return{t:new Uo(p),l:y}},lb=function(t,e,n){return t.s==-1?Math.max(lb(t.l,e,n+1),lb(t.r,e,n+1)):e[t.s]=n},aN=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ua(++e),i=0,r=t[0],s=1,a=function(l){n[i++]=l},o=1;o<=e;++o)if(t[o]==r&&o!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=t[o]}return{c:n.subarray(0,i),n:e}},X0=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},UL=function(t,e,n){var i=n.length,r=zL(e+2);t[r]=i&255,t[r+1]=i>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var s=0;s<i;++s)t[r+s+4]=n[s];return(r+4+i)*8},oN=function(t,e,n,i,r,s,a,o,l,c,d){$l(e,d++,n),++r[256];for(var g=Wy(r,15),m=g.t,p=g.l,y=Wy(s,15),b=y.t,N=y.l,S=aN(m),j=S.c,w=S.n,k=aN(b),E=k.c,I=k.n,U=new ua(19),R=0;R<j.length;++R)++U[j[R]&31];for(var R=0;R<E.length;++R)++U[E[R]&31];for(var B=Wy(U,7),O=B.t,P=B.l,M=19;M>4&&!O[rN[M-1]];--M);var G=c+5<<3,W=X0(r,zh)+X0(s,D2)+a,Z=X0(r,m)+X0(s,b)+a+14+3*M+X0(U,O)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&G<=W&&G<=Z)return UL(e,d,t.subarray(l,l+c));var ce,pe,J,ee;if($l(e,d,1+(Z<W)),d+=2,Z<W){ce=Lp(m,p,0),pe=m,J=Lp(b,N,0),ee=b;var he=Lp(O,P,0);$l(e,d,w-257),$l(e,d+5,I-1),$l(e,d+10,M-4),d+=14;for(var R=0;R<M;++R)$l(e,d+3*R,O[rN[R]]);d+=3*M;for(var se=[j,E],F=0;F<2;++F)for(var q=se[F],R=0;R<q.length;++R){var re=q[R]&31;$l(e,d,he[re]),d+=O[re],re>15&&($l(e,d,q[R]>>5&127),d+=q[R]>>12)}}else ce=bZ,pe=zh,J=wZ,ee=D2;for(var R=0;R<o;++R){var oe=i[R];if(oe>255){var re=oe>>18&31;K0(e,d,ce[re+257]),d+=pe[re+257],re>7&&($l(e,d,oe>>23&31),d+=Ew[re]);var de=oe&31;K0(e,d,J[de]),d+=ee[de],de>3&&(K0(e,d,oe>>5&8191),d+=Mw[de])}else K0(e,d,ce[oe]),d+=pe[oe]}return K0(e,d,ce[256]),d+pe[256]},SZ=new Tw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),VL=new Uo(0),NZ=function(t,e,n,i,r,s){var a=s.z||t.length,o=new Uo(i+a+5*(1+Math.ceil(a/7e3))+r),l=o.subarray(i,o.length-r),c=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var g=SZ[e-1],m=g>>13,p=g&8191,y=(1<<n)-1,b=s.p||new ua(32768),N=s.h||new ua(y+1),S=Math.ceil(n/3),j=2*S,w=function(Ke){return(t[Ke]^t[Ke+1]<<S^t[Ke+2]<<j)&y},k=new Tw(25e3),E=new ua(288),I=new ua(32),U=0,R=0,B=s.i||0,O=0,P=s.w||0,M=0;B+2<a;++B){var G=w(B),W=B&32767,Z=N[G];if(b[W]=Z,N[G]=W,P<=B){var ce=a-B;if((U>7e3||O>24576)&&(ce>423||!c)){d=oN(t,l,0,k,E,I,R,O,M,B-M,d),O=U=R=0,M=B;for(var pe=0;pe<286;++pe)E[pe]=0;for(var pe=0;pe<30;++pe)I[pe]=0}var J=2,ee=0,he=p,se=W-Z&32767;if(ce>2&&G==w(B-se))for(var F=Math.min(m,ce)-1,q=Math.min(32767,B),re=Math.min(258,ce);se<=q&&--he&&W!=Z;){if(t[B+J]==t[B+J-se]){for(var oe=0;oe<re&&t[B+oe]==t[B+oe-se];++oe);if(oe>J){if(J=oe,ee=se,oe>F)break;for(var de=Math.min(se,oe-2),X=0,pe=0;pe<de;++pe){var fe=B-se+pe&32767,xe=b[fe],Ce=fe-xe&32767;Ce>X&&(X=Ce,Z=fe)}}}W=Z,Z=b[W],se+=W-Z&32767}if(ee){k[O++]=268435456|ab[J]<<18|sN[ee];var Le=ab[J]&31,Ue=sN[ee]&31;R+=Ew[Le]+Mw[Ue],++E[257+Le],++I[Ue],P=B+J,++U}else k[O++]=t[B],++E[t[B]]}}for(B=Math.max(B,P);B<a;++B)k[O++]=t[B],++E[t[B]];d=oN(t,l,c,k,E,I,R,O,M,B-M,d),c||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=N,s.p=b,s.i=B,s.w=P)}else{for(var B=s.w||0;B<a+c;B+=65535){var ze=B+65535;ze>=a&&(l[d/8|0]=c,ze=a),d=UL(l,d+1,t.subarray(B,ze))}s.i=a}return _Z(o,0,i+zL(d)+r)},HL=function(){var t=1,e=0;return{p:function(n){for(var i=t,r=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)r+=i+=n[a];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}t=i,e=r},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},kZ=function(t,e,n,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Uo(s.length+t.length);a.set(s),a.set(t,s.length),t=a,r.w=s.length}return NZ(t,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,i,r)},GL=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},CZ=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=HL();r.p(e.dictionary),GL(t,2,r.d())}};function cb(t,e){e||(e={});var n=HL();n.p(t);var i=kZ(t,e,e.dictionary?6:2,4);return CZ(i,e),GL(i,i.length-4,n.d()),i}var jZ=typeof TextDecoder<"u"&&new TextDecoder,AZ=0;try{jZ.decode(VL,{stream:!0}),AZ=1}catch{}function PZ(t){if(Array.isArray(t))return t}function LZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return o}}function lN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function TZ(t,e){if(t){if(typeof t=="string")return lN(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lN(t,e):void 0}}function EZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cN(t,e){return PZ(t)||LZ(t,e)||TZ(t,e)||EZ()}function uN(t,e="utf8"){return new TextDecoder(e).decode(t)}const MZ=new TextEncoder;function RZ(t){return MZ.encode(t)}const FZ=1024*8,OZ=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),qy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Rw{constructor(e=FZ,n={}){it(this,"buffer");it(this,"byteLength");it(this,"byteOffset");it(this,"length");it(this,"offset");it(this,"lastWrittenByte");it(this,"littleEndian");it(this,"_data");it(this,"_mark");it(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const r=n.offset?n.offset>>>0:0,s=e.byteLength-r;let a=r;(ArrayBuffer.isView(e)||e instanceof Rw)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+r),e=e.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const i=qy[n].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+i);if(this.littleEndian===OZ&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(r,r+i));o.reverse();const l=new qy[n](o.buffer);return this.offset+=i,l.reverse(),l}const a=new qy[n](s);return this.offset+=i,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let i=0;i<e;i++)n+=this.readChar();return n}readUtf8(e=1){return uN(this.readBytes(e))}decodeText(e=1,n="utf8"){return uN(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(RZ(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function t0(t){let e=t.length;for(;--e>=0;)t[e]=0}const DZ=3,IZ=258,WL=29,BZ=256,zZ=BZ+1+WL,qL=30,UZ=512,VZ=new Array((zZ+2)*2);t0(VZ);const HZ=new Array(qL*2);t0(HZ);const GZ=new Array(UZ);t0(GZ);const WZ=new Array(IZ-DZ+1);t0(WZ);const qZ=new Array(WL);t0(qZ);const $Z=new Array(qL);t0($Z);const KZ=(t,e,n,i)=>{let r=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do r=r+e[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};var ub=KZ;const XZ=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},YZ=new Uint32Array(XZ()),QZ=(t,e,n,i)=>{const r=YZ,s=i+n;t^=-1;for(let a=i;a<s;a++)t=t>>>8^r[(t^e[a])&255];return t^-1};var rl=QZ,hb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$L={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const JZ=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ZZ=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)JZ(n,i)&&(t[i]=n[i])}}return t},eee=t=>{let e=0;for(let i=0,r=t.length;i<r;i++)e+=t[i].length;const n=new Uint8Array(e);for(let i=0,r=0,s=t.length;i<s;i++){let a=t[i];n.set(a,r),r+=a.length}return n},KL={assign:ZZ,flattenChunks:eee};let XL=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{XL=!1}const fg=new Uint8Array(256);for(let t=0;t<256;t++)fg[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;fg[254]=fg[254]=1;var tee=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,i,r,s,a=t.length,o=0;for(r=0;r<a;r++)n=t.charCodeAt(r),(n&64512)===55296&&r+1<a&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,r=0;s<o;r++)n=t.charCodeAt(r),(n&64512)===55296&&r+1<a&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const nee=(t,e)=>{if(e<65534&&t.subarray&&XL)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n};var iee=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,r;const s=new Array(n*2);for(r=0,i=0;i<n;){let a=t[i++];if(a<128){s[r++]=a;continue}let o=fg[a];if(o>4){s[r++]=65533,i+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&i<n;)a=a<<6|t[i++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return nee(s,r)},ree=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+fg[t[n]]>e?n:e},db={string2buf:tee,buf2string:iee,utf8border:ree};function see(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var aee=see;const $m=16209,oee=16191;var lee=function(e,n){let i,r,s,a,o,l,c,d,g,m,p,y,b,N,S,j,w,k,E,I,U,R,B,O;const P=e.state;i=e.next_in,B=e.input,r=i+(e.avail_in-5),s=e.next_out,O=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),l=P.dmax,c=P.wsize,d=P.whave,g=P.wnext,m=P.window,p=P.hold,y=P.bits,b=P.lencode,N=P.distcode,S=(1<<P.lenbits)-1,j=(1<<P.distbits)-1;e:do{y<15&&(p+=B[i++]<<y,y+=8,p+=B[i++]<<y,y+=8),w=b[p&S];t:for(;;){if(k=w>>>24,p>>>=k,y-=k,k=w>>>16&255,k===0)O[s++]=w&65535;else if(k&16){E=w&65535,k&=15,k&&(y<k&&(p+=B[i++]<<y,y+=8),E+=p&(1<<k)-1,p>>>=k,y-=k),y<15&&(p+=B[i++]<<y,y+=8,p+=B[i++]<<y,y+=8),w=N[p&j];n:for(;;){if(k=w>>>24,p>>>=k,y-=k,k=w>>>16&255,k&16){if(I=w&65535,k&=15,y<k&&(p+=B[i++]<<y,y+=8,y<k&&(p+=B[i++]<<y,y+=8)),I+=p&(1<<k)-1,I>l){e.msg="invalid distance too far back",P.mode=$m;break e}if(p>>>=k,y-=k,k=s-a,I>k){if(k=I-k,k>d&&P.sane){e.msg="invalid distance too far back",P.mode=$m;break e}if(U=0,R=m,g===0){if(U+=c-k,k<E){E-=k;do O[s++]=m[U++];while(--k);U=s-I,R=O}}else if(g<k){if(U+=c+g-k,k-=g,k<E){E-=k;do O[s++]=m[U++];while(--k);if(U=0,g<E){k=g,E-=k;do O[s++]=m[U++];while(--k);U=s-I,R=O}}}else if(U+=g-k,k<E){E-=k;do O[s++]=m[U++];while(--k);U=s-I,R=O}for(;E>2;)O[s++]=R[U++],O[s++]=R[U++],O[s++]=R[U++],E-=3;E&&(O[s++]=R[U++],E>1&&(O[s++]=R[U++]))}else{U=s-I;do O[s++]=O[U++],O[s++]=O[U++],O[s++]=O[U++],E-=3;while(E>2);E&&(O[s++]=O[U++],E>1&&(O[s++]=O[U++]))}}else if(k&64){e.msg="invalid distance code",P.mode=$m;break e}else{w=N[(w&65535)+(p&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){P.mode=oee;break e}else{e.msg="invalid literal/length code",P.mode=$m;break e}else{w=b[(w&65535)+(p&(1<<k)-1)];continue t}break}}while(i<r&&s<o);E=y>>3,i-=E,y-=E<<3,p&=(1<<y)-1,e.next_in=i,e.next_out=s,e.avail_in=i<r?5+(r-i):5-(i-r),e.avail_out=s<o?257+(o-s):257-(s-o),P.hold=p,P.bits=y};const Fd=15,hN=852,dN=592,fN=0,$y=1,pN=2,cee=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),uee=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),hee=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dee=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),fee=(t,e,n,i,r,s,a,o)=>{const l=o.bits;let c=0,d=0,g=0,m=0,p=0,y=0,b=0,N=0,S=0,j=0,w,k,E,I,U,R=null,B;const O=new Uint16Array(Fd+1),P=new Uint16Array(Fd+1);let M=null,G,W,Z;for(c=0;c<=Fd;c++)O[c]=0;for(d=0;d<i;d++)O[e[n+d]]++;for(p=l,m=Fd;m>=1&&O[m]===0;m--);if(p>m&&(p=m),m===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(g=1;g<m&&O[g]===0;g++);for(p<g&&(p=g),N=1,c=1;c<=Fd;c++)if(N<<=1,N-=O[c],N<0)return-1;if(N>0&&(t===fN||m!==1))return-1;for(P[1]=0,c=1;c<Fd;c++)P[c+1]=P[c]+O[c];for(d=0;d<i;d++)e[n+d]!==0&&(a[P[e[n+d]]++]=d);if(t===fN?(R=M=a,B=20):t===$y?(R=cee,M=uee,B=257):(R=hee,M=dee,B=0),j=0,d=0,c=g,U=s,y=p,b=0,E=-1,S=1<<p,I=S-1,t===$y&&S>hN||t===pN&&S>dN)return 1;for(;;){G=c-b,a[d]+1<B?(W=0,Z=a[d]):a[d]>=B?(W=M[a[d]-B],Z=R[a[d]-B]):(W=96,Z=0),w=1<<c-b,k=1<<y,g=k;do k-=w,r[U+(j>>b)+k]=G<<24|W<<16|Z|0;while(k!==0);for(w=1<<c-1;j&w;)w>>=1;if(w!==0?(j&=w-1,j+=w):j=0,d++,--O[c]===0){if(c===m)break;c=e[n+a[d]]}if(c>p&&(j&I)!==E){for(b===0&&(b=p),U+=g,y=c-b,N=1<<y;y+b<m&&(N-=O[y+b],!(N<=0));)y++,N<<=1;if(S+=1<<y,t===$y&&S>hN||t===pN&&S>dN)return 1;E=j&I,r[E]=p<<24|y<<16|U-s|0}}return j!==0&&(r[U+j]=c-b<<24|64<<16|0),o.bits=p,0};var Tp=fee;const pee=0,YL=1,QL=2,{Z_FINISH:gN,Z_BLOCK:gee,Z_TREES:Km,Z_OK:Uh,Z_STREAM_END:mee,Z_NEED_DICT:xee,Z_STREAM_ERROR:eo,Z_DATA_ERROR:JL,Z_MEM_ERROR:ZL,Z_BUF_ERROR:yee,Z_DEFLATED:mN}=$L,xx=16180,xN=16181,yN=16182,vN=16183,bN=16184,wN=16185,_N=16186,SN=16187,NN=16188,kN=16189,I2=16190,Kl=16191,Ky=16192,CN=16193,Xy=16194,jN=16195,AN=16196,PN=16197,LN=16198,Xm=16199,Ym=16200,TN=16201,EN=16202,MN=16203,RN=16204,FN=16205,Yy=16206,ON=16207,DN=16208,oi=16209,eT=16210,tT=16211,vee=852,bee=592,wee=15,_ee=wee,IN=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function See(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const nd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<xx||e.mode>tT?1:0},nT=t=>{if(nd(t))return eo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=xx,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(vee),e.distcode=e.distdyn=new Int32Array(bee),e.sane=1,e.back=-1,Uh},iT=t=>{if(nd(t))return eo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,nT(t)},rT=(t,e)=>{let n;if(nd(t))return eo;const i=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?eo:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,iT(t))},sT=(t,e)=>{if(!t)return eo;const n=new See;t.state=n,n.strm=t,n.window=null,n.mode=xx;const i=rT(t,e);return i!==Uh&&(t.state=null),i},Nee=t=>sT(t,_ee);let BN=!0,Qy,Jy;const kee=t=>{if(BN){Qy=new Int32Array(512),Jy=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Tp(YL,t.lens,0,288,Qy,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Tp(QL,t.lens,0,32,Jy,0,t.work,{bits:5}),BN=!1}t.lencode=Qy,t.lenbits=9,t.distcode=Jy,t.distbits=5},aT=(t,e,n,i)=>{let r;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(e.subarray(n-i,n-i+r),s.wnext),i-=r,i?(s.window.set(e.subarray(n-i,n),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},Cee=(t,e)=>{let n,i,r,s,a,o,l,c,d,g,m,p,y,b,N=0,S,j,w,k,E,I,U,R;const B=new Uint8Array(4);let O,P;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(nd(t)||!t.output||!t.input&&t.avail_in!==0)return eo;n=t.state,n.mode===Kl&&(n.mode=Ky),a=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,c=n.hold,d=n.bits,g=o,m=l,R=Uh;e:for(;;)switch(n.mode){case xx:if(n.wrap===0){n.mode=Ky;break}for(;d<16;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,B[0]=c&255,B[1]=c>>>8&255,n.check=rl(n.check,B,2,0),c=0,d=0,n.mode=xN;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=oi;break}if((c&15)!==mN){t.msg="unknown compression method",n.mode=oi;break}if(c>>>=4,d-=4,U=(c&15)+8,n.wbits===0&&(n.wbits=U),U>15||U>n.wbits){t.msg="invalid window size",n.mode=oi;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?kN:Kl,c=0,d=0;break;case xN:for(;d<16;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(n.flags=c,(n.flags&255)!==mN){t.msg="unknown compression method",n.mode=oi;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=oi;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(B[0]=c&255,B[1]=c>>>8&255,n.check=rl(n.check,B,2,0)),c=0,d=0,n.mode=yN;case yN:for(;d<32;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(B[0]=c&255,B[1]=c>>>8&255,B[2]=c>>>16&255,B[3]=c>>>24&255,n.check=rl(n.check,B,4,0)),c=0,d=0,n.mode=vN;case vN:for(;d<16;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(B[0]=c&255,B[1]=c>>>8&255,n.check=rl(n.check,B,2,0)),c=0,d=0,n.mode=bN;case bN:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(B[0]=c&255,B[1]=c>>>8&255,n.check=rl(n.check,B,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=wN;case wN:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(U=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(s,s+p),U)),n.flags&512&&n.wrap&4&&(n.check=rl(n.check,i,p,s)),o-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=_N;case _N:if(n.flags&2048){if(o===0)break e;p=0;do U=i[s+p++],n.head&&U&&n.length<65536&&(n.head.name+=String.fromCharCode(U));while(U&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=rl(n.check,i,p,s)),o-=p,s+=p,U)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=SN;case SN:if(n.flags&4096){if(o===0)break e;p=0;do U=i[s+p++],n.head&&U&&n.length<65536&&(n.head.comment+=String.fromCharCode(U));while(U&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=rl(n.check,i,p,s)),o-=p,s+=p,U)break e}else n.head&&(n.head.comment=null);n.mode=NN;case NN:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=oi;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Kl;break;case kN:for(;d<32;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}t.adler=n.check=IN(c),c=0,d=0,n.mode=I2;case I2:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=d,xee;t.adler=n.check=1,n.mode=Kl;case Kl:if(e===gee||e===Km)break e;case Ky:if(n.last){c>>>=d&7,d-=d&7,n.mode=Yy;break}for(;d<3;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}switch(n.last=c&1,c>>>=1,d-=1,c&3){case 0:n.mode=CN;break;case 1:if(kee(n),n.mode=Xm,e===Km){c>>>=2,d-=2;break e}break;case 2:n.mode=AN;break;case 3:t.msg="invalid block type",n.mode=oi}c>>>=2,d-=2;break;case CN:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=oi;break}if(n.length=c&65535,c=0,d=0,n.mode=Xy,e===Km)break e;case Xy:n.mode=jN;case jN:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;r.set(i.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,n.length-=p;break}n.mode=Kl;break;case AN:for(;d<14;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(n.nlen=(c&31)+257,c>>>=5,d-=5,n.ndist=(c&31)+1,c>>>=5,d-=5,n.ncode=(c&15)+4,c>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=oi;break}n.have=0,n.mode=PN;case PN:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}n.lens[M[n.have++]]=c&7,c>>>=3,d-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},R=Tp(pee,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,R){t.msg="invalid code lengths set",n.mode=oi;break}n.have=0,n.mode=LN;case LN:for(;n.have<n.nlen+n.ndist;){for(;N=n.lencode[c&(1<<n.lenbits)-1],S=N>>>24,j=N>>>16&255,w=N&65535,!(S<=d);){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(w<16)c>>>=S,d-=S,n.lens[n.have++]=w;else{if(w===16){for(P=S+2;d<P;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(c>>>=S,d-=S,n.have===0){t.msg="invalid bit length repeat",n.mode=oi;break}U=n.lens[n.have-1],p=3+(c&3),c>>>=2,d-=2}else if(w===17){for(P=S+3;d<P;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}c>>>=S,d-=S,U=0,p=3+(c&7),c>>>=3,d-=3}else{for(P=S+7;d<P;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}c>>>=S,d-=S,U=0,p=11+(c&127),c>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=oi;break}for(;p--;)n.lens[n.have++]=U}}if(n.mode===oi)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=oi;break}if(n.lenbits=9,O={bits:n.lenbits},R=Tp(YL,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,R){t.msg="invalid literal/lengths set",n.mode=oi;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},R=Tp(QL,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,R){t.msg="invalid distances set",n.mode=oi;break}if(n.mode=Xm,e===Km)break e;case Xm:n.mode=Ym;case Ym:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=d,lee(t,m),a=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,c=n.hold,d=n.bits,n.mode===Kl&&(n.back=-1);break}for(n.back=0;N=n.lencode[c&(1<<n.lenbits)-1],S=N>>>24,j=N>>>16&255,w=N&65535,!(S<=d);){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(j&&!(j&240)){for(k=S,E=j,I=w;N=n.lencode[I+((c&(1<<k+E)-1)>>k)],S=N>>>24,j=N>>>16&255,w=N&65535,!(k+S<=d);){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}c>>>=k,d-=k,n.back+=k}if(c>>>=S,d-=S,n.back+=S,n.length=w,j===0){n.mode=FN;break}if(j&32){n.back=-1,n.mode=Kl;break}if(j&64){t.msg="invalid literal/length code",n.mode=oi;break}n.extra=j&15,n.mode=TN;case TN:if(n.extra){for(P=n.extra;d<P;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=EN;case EN:for(;N=n.distcode[c&(1<<n.distbits)-1],S=N>>>24,j=N>>>16&255,w=N&65535,!(S<=d);){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(!(j&240)){for(k=S,E=j,I=w;N=n.distcode[I+((c&(1<<k+E)-1)>>k)],S=N>>>24,j=N>>>16&255,w=N&65535,!(k+S<=d);){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}c>>>=k,d-=k,n.back+=k}if(c>>>=S,d-=S,n.back+=S,j&64){t.msg="invalid distance code",n.mode=oi;break}n.offset=w,n.extra=j&15,n.mode=MN;case MN:if(n.extra){for(P=n.extra;d<P;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=oi;break}n.mode=RN;case RN:if(l===0)break e;if(p=m-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=oi;break}p>n.wnext?(p-=n.wnext,y=n.wsize-p):y=n.wnext-p,p>n.length&&(p=n.length),b=n.window}else b=r,y=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do r[a++]=b[y++];while(--p);n.length===0&&(n.mode=Ym);break;case FN:if(l===0)break e;r[a++]=n.length,l--,n.mode=Ym;break;case Yy:if(n.wrap){for(;d<32;){if(o===0)break e;o--,c|=i[s++]<<d,d+=8}if(m-=l,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?rl(n.check,r,m,a-m):ub(n.check,r,m,a-m)),m=l,n.wrap&4&&(n.flags?c:IN(c))!==n.check){t.msg="incorrect data check",n.mode=oi;break}c=0,d=0}n.mode=ON;case ON:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,c+=i[s++]<<d,d+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=oi;break}c=0,d=0}n.mode=DN;case DN:R=mee;break e;case oi:R=JL;break e;case eT:return ZL;case tT:default:return eo}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,n.hold=c,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<oi&&(n.mode<Yy||e!==gN))&&aT(t,t.output,t.next_out,m-t.avail_out),g-=t.avail_in,m-=t.avail_out,t.total_in+=g,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?rl(n.check,r,m,t.next_out-m):ub(n.check,r,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Kl?128:0)+(n.mode===Xm||n.mode===Xy?256:0),(g===0&&m===0||e===gN)&&R===Uh&&(R=yee),R},jee=t=>{if(nd(t))return eo;let e=t.state;return e.window&&(e.window=null),t.state=null,Uh},Aee=(t,e)=>{if(nd(t))return eo;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Uh):eo},Pee=(t,e)=>{const n=e.length;let i,r,s;return nd(t)||(i=t.state,i.wrap!==0&&i.mode!==I2)?eo:i.mode===I2&&(r=1,r=ub(r,e,n,0),r!==i.check)?JL:(s=aT(t,e,n,n),s?(i.mode=eT,ZL):(i.havedict=1,Uh))};var Lee=iT,Tee=rT,Eee=nT,Mee=Nee,Ree=sT,Fee=Cee,Oee=jee,Dee=Aee,Iee=Pee,Bee="pako inflate (from Nodeca project)",tc={inflateReset:Lee,inflateReset2:Tee,inflateResetKeep:Eee,inflateInit:Mee,inflateInit2:Ree,inflate:Fee,inflateEnd:Oee,inflateGetHeader:Dee,inflateSetDictionary:Iee,inflateInfo:Bee};function zee(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Uee=zee;const oT=Object.prototype.toString,{Z_NO_FLUSH:Vee,Z_FINISH:Hee,Z_OK:pg,Z_STREAM_END:Zy,Z_NEED_DICT:ev,Z_STREAM_ERROR:Gee,Z_DATA_ERROR:zN,Z_MEM_ERROR:Wee}=$L;function Og(t){this.options=KL.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new aee,this.strm.avail_out=0;let n=tc.inflateInit2(this.strm,e.windowBits);if(n!==pg)throw new Error(hb[n]);if(this.header=new Uee,tc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=db.string2buf(e.dictionary):oT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=tc.inflateSetDictionary(this.strm,e.dictionary),n!==pg)))throw new Error(hb[n])}Og.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Hee:Vee,oT.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),s=tc.inflate(n,a),s===ev&&r&&(s=tc.inflateSetDictionary(n,r),s===pg?s=tc.inflate(n,a):s===zN&&(s=ev));n.avail_in>0&&s===Zy&&n.state.wrap>0&&t[n.next_in]!==0;)tc.inflateReset(n),s=tc.inflate(n,a);switch(s){case Gee:case zN:case ev:case Wee:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===Zy))if(this.options.to==="string"){let l=db.utf8border(n.output,n.next_out),c=n.next_out-l,d=db.buf2string(n.output,l);n.next_out=c,n.avail_out=i-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===pg&&o===0)){if(s===Zy)return s=tc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Og.prototype.onData=function(t){this.chunks.push(t)};Og.prototype.onEnd=function(t){t===pg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=KL.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function qee(t,e){const n=new Og(e);if(n.push(t),n.err)throw n.msg||hb[n.err];return n.result}var $ee=Og,Kee=qee,Xee={Inflate:$ee,inflate:Kee};const{Inflate:Yee,inflate:Qee}=Xee;var UN=Yee,Jee=Qee;const lT=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;lT[t]=e}const VN=4294967295;function Zee(t,e,n){let i=t;for(let r=0;r<n;r++)i=lT[(i^e[r])&255]^i>>>8;return i}function ete(t,e){return(Zee(VN,t,e)^VN)>>>0}function HN(t,e,n){const i=t.readUint32(),r=ete(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(r!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${r}`)}function cT(t,e,n){for(let i=0;i<n;i++)e[i]=t[i]}function uT(t,e,n,i){let r=0;for(;r<i;r++)e[r]=t[r];for(;r<n;r++)e[r]=t[r]+e[r-i]&255}function hT(t,e,n,i){let r=0;if(n.length===0)for(;r<i;r++)e[r]=t[r];else for(;r<i;r++)e[r]=t[r]+n[r]&255}function dT(t,e,n,i,r){let s=0;if(n.length===0){for(;s<r;s++)e[s]=t[s];for(;s<i;s++)e[s]=t[s]+(e[s-r]>>1)&255}else{for(;s<r;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<i;s++)e[s]=t[s]+(e[s-r]+n[s]>>1)&255}}function fT(t,e,n,i,r){let s=0;if(n.length===0){for(;s<r;s++)e[s]=t[s];for(;s<i;s++)e[s]=t[s]+e[s-r]&255}else{for(;s<r;s++)e[s]=t[s]+n[s]&255;for(;s<i;s++)e[s]=t[s]+tte(e[s-r],n[s],n[s-r])&255}}function tte(t,e,n){const i=t+e-n,r=Math.abs(i-t),s=Math.abs(i-e),a=Math.abs(i-n);return r<=s&&r<=a?t:s<=a?e:n}function nte(t,e,n,i,r,s){switch(t){case 0:cT(e,n,r);break;case 1:uT(e,n,r,s);break;case 2:hT(e,n,i,r);break;case 3:dT(e,n,i,r,s);break;case 4:fT(e,n,i,r,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const ite=new Uint16Array([255]),rte=new Uint8Array(ite.buffer),ste=rte[0]===255;function ate(t){const{data:e,width:n,height:i,channels:r,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*r,l=new Uint8Array(i*n*o);let c=0;for(let d=0;d<7;d++){const g=a[d],m=Math.ceil((n-g.x)/g.xStep),p=Math.ceil((i-g.y)/g.yStep);if(m<=0||p<=0)continue;const y=m*o,b=new Uint8Array(y);for(let N=0;N<p;N++){const S=e[c++],j=e.subarray(c,c+y);c+=y;const w=new Uint8Array(y);nte(S,j,w,b,y,o),b.set(w);for(let k=0;k<m;k++){const E=g.x+k*g.xStep,I=g.y+N*g.yStep;if(!(E>=n||I>=i))for(let U=0;U<o;U++)l[(I*n+E)*o+U]=w[k*o+U]}}}if(s===16){const d=new Uint16Array(l.buffer);if(ste)for(let g=0;g<d.length;g++)d[g]=ote(d[g]);return d}else return l}function ote(t){return(t&255)<<8|t>>8&255}const lte=new Uint16Array([255]),cte=new Uint8Array(lte.buffer),ute=cte[0]===255,hte=new Uint8Array(0);function GN(t){const{data:e,width:n,height:i,channels:r,depth:s}=t,a=Math.ceil(s/8)*r,o=Math.ceil(s/8*r*n),l=new Uint8Array(i*o);let c=hte,d=0,g,m;for(let p=0;p<i;p++){switch(g=e.subarray(d+1,d+1+o),m=l.subarray(p*o,(p+1)*o),e[d]){case 0:cT(g,m,o);break;case 1:uT(g,m,o,a);break;case 2:hT(g,m,c,o);break;case 3:dT(g,m,c,o,a);break;case 4:fT(g,m,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}c=m,d+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(ute)for(let y=0;y<p.length;y++)p[y]=dte(p[y]);return p}else return l}function dte(t){return(t&255)<<8|t>>8&255}const T1=Uint8Array.of(137,80,78,71,13,10,26,10);function WN(t){if(!fte(t.readBytes(T1.length)))throw new Error("wrong PNG signature")}function fte(t){if(t.length<T1.length)return!1;for(let e=0;e<T1.length;e++)if(t[e]!==T1[e])return!1;return!0}const pte="tEXt",gte=0,pT=new TextDecoder("latin1");function mte(t){if(yte(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const xte=/^[\u0000-\u00FF]*$/;function yte(t){if(!xte.test(t))throw new Error("invalid latin1 text")}function vte(t,e,n){const i=gT(e);t[i]=bte(e,n-i.length-1)}function gT(t){for(t.mark();t.readByte()!==gte;);const e=t.offset;t.reset();const n=pT.decode(t.readBytes(e-t.offset-1));return t.skip(1),mte(n),n}function bte(t,e){return pT.decode(t.readBytes(e))}const aa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},tv={UNKNOWN:-1,DEFLATE:0},qN={UNKNOWN:-1,ADAPTIVE:0},nv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Qm={NONE:0,BACKGROUND:1,PREVIOUS:2},iv={SOURCE:0,OVER:1};class wte extends Rw{constructor(n,i={}){super(n);it(this,"_checkCrc");it(this,"_inflator");it(this,"_png");it(this,"_apng");it(this,"_end");it(this,"_hasPalette");it(this,"_palette");it(this,"_hasTransparency");it(this,"_transparency");it(this,"_compressionMethod");it(this,"_filterMethod");it(this,"_interlaceMethod");it(this,"_colorType");it(this,"_isAnimated");it(this,"_numberOfFrames");it(this,"_numberOfPlays");it(this,"_frames");it(this,"_writingDataChunks");const{checkCrc:r=!1}=i;this._checkCrc=r,this._inflator=new UN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=tv.UNKNOWN,this._filterMethod=qN.UNKNOWN,this._interlaceMethod=nv.UNKNOWN,this._colorType=aa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(WN(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeChunk(n,i)}return this.decodeImage(),this._png}decodeApng(){for(WN(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(n,i)}return this.decodeApngImage(),this._apng}decodeChunk(n,i){const r=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case pte:vte(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?HN(this,n+4,i):this.skip(4)}decodeApngChunk(n,i){const r=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,i),this.offset=r+n;break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?HN(this,n+4,i):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=_te(this.readUint8());const i=this.readUint8();this._colorType=i;let r;switch(i){case aa.GREYSCALE:r=1;break;case aa.TRUECOLOUR:r=3;break;case aa.INDEXED_COLOUR:r=1;break;case aa.GREYSCALE_ALPHA:r=2;break;case aa.TRUECOLOUR_ALPHA:r=4;break;case aa.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==tv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const i=n/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<i;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const i=n,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let i=n,r=this.offset+this.byteOffset;if(r+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case aa.GREYSCALE:case aa.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let i=0;i<n/2;i++)this._transparency[i]=this.readUint16();break}case aa.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let i=0;for(;i<n;i++){const r=this.readByte();this._palette[i].push(r)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case aa.UNKNOWN:case aa.GREYSCALE_ALPHA:case aa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const i=gT(this),r=this.readUint8();if(r!==tv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(n-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:Jee(s)}}decodepHYs(){const n=this.readUint32(),i=this.readUint32(),r=this.readByte();this._png.resolution={x:n,y:i,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const i={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(n);if(r){if(r.data=GN({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)i.data=r.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(r,s,i),this.addFrameDataToCanvas(i,r)}this._apng.frames.push(i)}}return this._apng}disposeFrame(n,i,r){switch(n.disposeOp){case Qm.NONE:break;case Qm.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*n.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[o+l]=0}break;case Qm.PREVIOUS:r.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,i){const r=1<<this._png.depth,s=(a,o)=>{const l=((a+i.yOffset)*this._png.width+i.xOffset+o)*this._png.channels,c=(a*i.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(i.blendOp){case iv.SOURCE:for(let a=0;a<i.height;a++)for(let o=0;o<i.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let d=0;d<this._png.channels;d++)n.data[l+d]=i.data[c+d]}break;case iv.OVER:for(let a=0;a<i.height;a++)for(let o=0;o<i.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let d=0;d<this._png.channels;d++){const g=i.data[c+this._png.channels-1]/r,m=d%(this._png.channels-1)===0?1:i.data[c+d],p=Math.floor(g*m+(1-g)*n.data[l+d]);n.data[l+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==qN.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===nv.NO_INTERLACE)this._png.data=GN({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===nv.ADAM7)this._png.data=ate({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,i=this._frames.at(-1);i?i.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Qm.NONE,blendOp:iv.SOURCE,data:n}),this._inflator=new UN,this._writingDataChunks=!1}}function _te(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var $N;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})($N||($N={}));function Ste(t,e){return new wte(t,e).decode()}var Et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function rv(){Et.console&&typeof Et.console.log=="function"&&Et.console.log.apply(Et.console,arguments)}var In={log:rv,warn:function(t){Et.console&&(typeof Et.console.warn=="function"?Et.console.warn.apply(Et.console,arguments):rv.call(null,arguments))},error:function(t){Et.console&&(typeof Et.console.error=="function"?Et.console.error.apply(Et.console,arguments):rv(t))}};function sv(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){ph(i.response,e,n)},i.onerror=function(){In.error("could not download file")},i.send()}function KN(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Jm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ph=Et.saveAs||((typeof window>"u"?"undefined":Pn(window))!=="object"||window!==Et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=Et.URL||Et.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?KN(r.href)?sv(t,e,n):Jm(r,r.target="_blank"):Jm(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Jm(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(KN(t))sv(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){Jm(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:Pn(s)!=="object"&&(In.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return sv(t,e,n);var r=t.type==="application/octet-stream",s=/constructor/i.test(Et.HTMLElement)||Et.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&(typeof FileReader>"u"?"undefined":Pn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=d:location=d,i=null},o.readAsDataURL(t)}else{var l=Et.URL||Et.webkitURL,c=l.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function mT(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,s=n[i].process,a=r.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var E1=Et.atob.bind(Et),XN=Et.btoa.bind(Et);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function av(t,e){var n=t[0],i=t[1],r=t[2],s=t[3];n=Kr(n,i,r,s,e[0],7,-680876936),s=Kr(s,n,i,r,e[1],12,-389564586),r=Kr(r,s,n,i,e[2],17,606105819),i=Kr(i,r,s,n,e[3],22,-1044525330),n=Kr(n,i,r,s,e[4],7,-176418897),s=Kr(s,n,i,r,e[5],12,1200080426),r=Kr(r,s,n,i,e[6],17,-1473231341),i=Kr(i,r,s,n,e[7],22,-45705983),n=Kr(n,i,r,s,e[8],7,1770035416),s=Kr(s,n,i,r,e[9],12,-1958414417),r=Kr(r,s,n,i,e[10],17,-42063),i=Kr(i,r,s,n,e[11],22,-1990404162),n=Kr(n,i,r,s,e[12],7,1804603682),s=Kr(s,n,i,r,e[13],12,-40341101),r=Kr(r,s,n,i,e[14],17,-1502002290),n=Xr(n,i=Kr(i,r,s,n,e[15],22,1236535329),r,s,e[1],5,-165796510),s=Xr(s,n,i,r,e[6],9,-1069501632),r=Xr(r,s,n,i,e[11],14,643717713),i=Xr(i,r,s,n,e[0],20,-373897302),n=Xr(n,i,r,s,e[5],5,-701558691),s=Xr(s,n,i,r,e[10],9,38016083),r=Xr(r,s,n,i,e[15],14,-660478335),i=Xr(i,r,s,n,e[4],20,-405537848),n=Xr(n,i,r,s,e[9],5,568446438),s=Xr(s,n,i,r,e[14],9,-1019803690),r=Xr(r,s,n,i,e[3],14,-187363961),i=Xr(i,r,s,n,e[8],20,1163531501),n=Xr(n,i,r,s,e[13],5,-1444681467),s=Xr(s,n,i,r,e[2],9,-51403784),r=Xr(r,s,n,i,e[7],14,1735328473),n=Yr(n,i=Xr(i,r,s,n,e[12],20,-1926607734),r,s,e[5],4,-378558),s=Yr(s,n,i,r,e[8],11,-2022574463),r=Yr(r,s,n,i,e[11],16,1839030562),i=Yr(i,r,s,n,e[14],23,-35309556),n=Yr(n,i,r,s,e[1],4,-1530992060),s=Yr(s,n,i,r,e[4],11,1272893353),r=Yr(r,s,n,i,e[7],16,-155497632),i=Yr(i,r,s,n,e[10],23,-1094730640),n=Yr(n,i,r,s,e[13],4,681279174),s=Yr(s,n,i,r,e[0],11,-358537222),r=Yr(r,s,n,i,e[3],16,-722521979),i=Yr(i,r,s,n,e[6],23,76029189),n=Yr(n,i,r,s,e[9],4,-640364487),s=Yr(s,n,i,r,e[12],11,-421815835),r=Yr(r,s,n,i,e[15],16,530742520),n=Qr(n,i=Yr(i,r,s,n,e[2],23,-995338651),r,s,e[0],6,-198630844),s=Qr(s,n,i,r,e[7],10,1126891415),r=Qr(r,s,n,i,e[14],15,-1416354905),i=Qr(i,r,s,n,e[5],21,-57434055),n=Qr(n,i,r,s,e[12],6,1700485571),s=Qr(s,n,i,r,e[3],10,-1894986606),r=Qr(r,s,n,i,e[10],15,-1051523),i=Qr(i,r,s,n,e[1],21,-2054922799),n=Qr(n,i,r,s,e[8],6,1873313359),s=Qr(s,n,i,r,e[15],10,-30611744),r=Qr(r,s,n,i,e[6],15,-1560198380),i=Qr(i,r,s,n,e[13],21,1309151649),n=Qr(n,i,r,s,e[4],6,-145523070),s=Qr(s,n,i,r,e[11],10,-1120210379),r=Qr(r,s,n,i,e[2],15,718787259),i=Qr(i,r,s,n,e[9],21,-343485551),t[0]=nu(n,t[0]),t[1]=nu(i,t[1]),t[2]=nu(r,t[2]),t[3]=nu(s,t[3])}function yx(t,e,n,i,r,s){return e=nu(nu(e,t),nu(i,s)),nu(e<<r|e>>>32-r,n)}function Kr(t,e,n,i,r,s,a){return yx(e&n|~e&i,t,e,r,s,a)}function Xr(t,e,n,i,r,s,a){return yx(e&i|n&~i,t,e,r,s,a)}function Yr(t,e,n,i,r,s,a){return yx(e^n^i,t,e,r,s,a)}function Qr(t,e,n,i,r,s,a){return yx(n^(e|~i),t,e,r,s,a)}function xT(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)av(i,Nte(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(av(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,av(i,r),i}function Nte(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var YN="0123456789abcdef".split("");function kte(t){for(var e="",n=0;n<4;n++)e+=YN[t>>8*n+4&15]+YN[t>>8*n&15];return e}function Cte(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function fb(t){return xT(t).map(Cte).join("")}var jte=function(t){for(var e=0;e<t.length;e++)t[e]=kte(t[e]);return t.join("")}(xT("hello"))!="5d41402abc4b2a76b9719d911017c592";function nu(t,e){if(jte){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function pb(t,e){var n,i,r,s;if(t!==n){for(var a=(r=t,s=1+(256/t.length|0),new Array(s+1).join(r)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+a.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=t,i=o}else o=i;var g=e.length,m=0,p=0,y="";for(l=0;l<g;l++)p=(p+(d=o[m=(m+1)%256]))%256,o[m]=o[p],o[p]=d,a=o[(o[m]+o[p])%256],y+=String.fromCharCode(e.charCodeAt(l)^a);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var QN={print:4,modify:8,copy:16,"annot-forms":32};function zd(t,e,n,i){this.v=1,this.r=2;var r=192;t.forEach(function(o){if(QN.perm!==void 0)throw new Error("Invalid permission: "+o);r+=QN[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^r)),this.encryptionKey=fb(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=pb(this.encryptionKey,this.padding)}function Ud(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var r=t.charCodeAt(i);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):t[i]}return e}function JN(t){if(Pn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[i,!!r],s},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,i)}catch(o){Et.console&&In.error("jsPDF PubSub Error",o.message,o)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function B2(t){if(!(this instanceof B2))return new B2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function yT(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function gh(t,e,n,i,r){if(!(this instanceof gh))return new gh(t,e,n,i,r);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,yT.call(this,i,r)}function lf(t,e,n,i,r){if(!(this instanceof lf))return new lf(t,e,n,i,r);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,yT.call(this,i,r)}function gt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",d=null;Pn(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,r=t.format||r,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),i=i||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=JN;var y="1.3",b=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(A){y=A};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var S=p.__private__.getPageFormat=function(A){return N[A]};r=r||"a4";var j="compat",w="advanced",k=j;function E(){this.saveGraphicsState(),te(new bt(wt,0,0,-wt,0,wr()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),c="n",k=w}function I(){this.restoreGraphicsState(),c="S",k=j}var U=p.__private__.combineFontStyleAndFontWeight=function(A,H){if(A=="bold"&&H=="normal"||A=="bold"&&H==400||A=="normal"&&H=="italic"||A=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(A=H==400||H==="normal"?A==="italic"?"italic":"normal":H!=700&&H!=="bold"||A!=="normal"?(H==700?"bold":H)+""+A:"bold"),A};p.advancedAPI=function(A){var H=k===j;return H&&E.call(this),typeof A!="function"||(A(this),H&&I.call(this)),this},p.compatAPI=function(A){var H=k===w;return H&&I.call(this),typeof A!="function"||(A(this),H&&E.call(this)),this},p.isAdvancedAPI=function(){return k===w};var R,B=function(A){if(k!==w)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=p.roundToPrecision=p.__private__.roundToPrecision=function(A,H){var ue=e||H;if(isNaN(A)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ue).replace(/0+$/,"")};R=p.hpf=p.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return O(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return O(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return O(A,16)};var P=p.f2=p.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return O(A,2)},M=p.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return O(A,3)},G=p.scale=p.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return k===j?A*wt:k===w?A:void 0},W=function(A){return G(function(H){return k===j?wr()-H:k===w?H:void 0}(A))};p.__private__.setPrecision=p.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var Z,ce="00000000000000000000000000000000",pe=p.__private__.getFileId=function(){return ce},J=p.__private__.setFileId=function(A){return ce=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(xi=new zd(d.userPermissions,d.userPassword,d.ownerPassword,ce)),ce};p.setFileId=function(A){return J(A),this},p.getFileId=function(){return pe()};var ee=p.__private__.convertDateToPDFDate=function(A){var H=A.getTimezoneOffset(),ue=H<0?"+":"-",ge=Math.floor(Math.abs(H/60)),ve=Math.abs(H%60),Ee=[ue,re(ge),"'",re(ve),"'"].join("");return["D:",A.getFullYear(),re(A.getMonth()+1),re(A.getDate()),re(A.getHours()),re(A.getMinutes()),re(A.getSeconds()),Ee].join("")},he=p.__private__.convertPDFDateToDate=function(A){var H=parseInt(A.substr(2,4),10),ue=parseInt(A.substr(6,2),10)-1,ge=parseInt(A.substr(8,2),10),ve=parseInt(A.substr(10,2),10),Ee=parseInt(A.substr(12,2),10),Re=parseInt(A.substr(14,2),10);return new Date(H,ue,ge,ve,Ee,Re,0)},se=p.__private__.setCreationDate=function(A){var H;if(A===void 0&&(A=new Date),A instanceof Date)H=ee(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=A}return Z=H},F=p.__private__.getCreationDate=function(A){var H=Z;return A==="jsDate"&&(H=he(Z)),H};p.setCreationDate=function(A){return se(A),this},p.getCreationDate=function(A){return F(A)};var q,re=p.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},oe=p.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},de=0,X=[],fe=[],xe=0,Ce=[],Le=[],Ue=!1,ze=fe;p.__private__.setCustomOutputDestination=function(A){Ue=!0,ze=A};var Ke=function(A){Ue||(ze=A)};p.__private__.resetCustomOutputDestination=function(){Ue=!1,ze=fe};var te=p.__private__.out=function(A){return A=A.toString(),xe+=A.length+1,ze.push(A),ze},Ge=p.__private__.write=function(A){return te(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},vt=p.__private__.getArrayBuffer=function(A){for(var H=A.length,ue=new ArrayBuffer(H),ge=new Uint8Array(ue);H--;)ge[H]=A.charCodeAt(H);return ue},ht=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ht};var Ie=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(A){return Ie=k===w?A/wt:A,this};var Je,Ze=p.__private__.getFontSize=p.getFontSize=function(){return k===j?Ie:Ie*wt},mt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(A){return mt=A,this},p.__private__.getR2L=p.getR2L=function(){return mt};var Te,We=p.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Je=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Je=A}else Je=parseInt(A,10)};p.__private__.getZoomMode=function(){return Je};var $e,ut=p.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Te=A};p.__private__.getPageMode=function(){return Te};var At=p.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');$e=A};p.__private__.getLayoutMode=function(){return $e},p.__private__.setDisplayMode=p.setDisplayMode=function(A,H,ue){return We(A),At(H),ut(ue),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(A){if(Object.keys(xt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[A]},p.__private__.getDocumentProperties=function(){return xt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(A){for(var H in xt)xt.hasOwnProperty(H)&&A[H]&&(xt[H]=A[H]);return this},p.__private__.setDocumentProperty=function(A,H){if(Object.keys(xt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[A]=H};var et,wt,tt,jn,en,Ht={},Gt={},zn=[],yt={},Tn={},Nt={},Ot={},Un=null,qt=0,_t=[],pn=new JN(p),qo=t.hotfixes||[],ar={},qs={},$s=[],bt=function A(H,ue,ge,ve,Ee,Re){if(!(this instanceof A))return new A(H,ue,ge,ve,Ee,Re);isNaN(H)&&(H=1),isNaN(ue)&&(ue=0),isNaN(ge)&&(ge=0),isNaN(ve)&&(ve=1),isNaN(Ee)&&(Ee=0),isNaN(Re)&&(Re=0),this._matrix=[H,ue,ge,ve,Ee,Re]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(A)},bt.prototype.multiply=function(A){var H=A.sx*this.sx+A.shy*this.shx,ue=A.sx*this.shy+A.shy*this.sy,ge=A.shx*this.sx+A.sy*this.shx,ve=A.shx*this.shy+A.sy*this.sy,Ee=A.tx*this.sx+A.ty*this.shx+this.tx,Re=A.tx*this.shy+A.ty*this.sy+this.ty;return new bt(H,ue,ge,ve,Ee,Re)},bt.prototype.decompose=function(){var A=this.sx,H=this.shy,ue=this.shx,ge=this.sy,ve=this.tx,Ee=this.ty,Re=Math.sqrt(A*A+H*H),nt=(A/=Re)*ue+(H/=Re)*ge;ue-=A*nt,ge-=H*nt;var Xe=Math.sqrt(ue*ue+ge*ge);return nt/=Xe,A*(ge/=Xe)<H*(ue/=Xe)&&(A=-A,H=-H,nt=-nt,Re=-Re),{scale:new bt(Re,0,0,Xe,0,0),translate:new bt(1,0,0,1,ve,Ee),rotate:new bt(A,H,-H,A,0,0),skew:new bt(1,0,nt,1,0,0)}},bt.prototype.toString=function(A){return this.join(" ")},bt.prototype.inversed=function(){var A=this.sx,H=this.shy,ue=this.shx,ge=this.sy,ve=this.tx,Ee=this.ty,Re=1/(A*ge-H*ue),nt=ge*Re,Xe=-H*Re,jt=-ue*Re,Dt=A*Re;return new bt(nt,Xe,jt,Dt,-nt*ve-jt*Ee,-Xe*ve-Dt*Ee)},bt.prototype.applyToPoint=function(A){var H=A.x*this.sx+A.y*this.shx+this.tx,ue=A.x*this.shy+A.y*this.sy+this.ty;return new Zs(H,ue)},bt.prototype.applyToRectangle=function(A){var H=this.applyToPoint(A),ue=this.applyToPoint(new Zs(A.x+A.w,A.y+A.h));return new Nc(H.x,H.y,ue.x-H.x,ue.y-H.y)},bt.prototype.clone=function(){var A=this.sx,H=this.shy,ue=this.shx,ge=this.sy,ve=this.tx,Ee=this.ty;return new bt(A,H,ue,ge,ve,Ee)},p.Matrix=bt;var to=p.matrixMult=function(A,H){return H.multiply(A)},no=new bt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=no;var Ss=function(A,H){if(!Tn[A]){var ue=(H instanceof gh?"Sh":"P")+(Object.keys(yt).length+1).toString(10);H.id=ue,Tn[A]=ue,yt[ue]=H,pn.publish("addPattern",H)}};p.ShadingPattern=gh,p.TilingPattern=lf,p.addShadingPattern=function(A,H){return B("addShadingPattern()"),Ss(A,H),this},p.beginTilingPattern=function(A){B("beginTilingPattern()"),Dr(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},p.endTilingPattern=function(A,H){B("endTilingPattern()"),H.stream=Le[q].join(`
`),Ss(A,H),pn.publish("endTilingPattern",H),$s.pop().restore()};var os,Vn=p.__private__.newObject=function(){var A=Hi();return qi(A,!0),A},Hi=p.__private__.newObjectDeferred=function(){return de++,X[de]=function(){return xe},de},qi=function(A,H){return H=typeof H=="boolean"&&H,X[A]=xe,H&&te(A+" 0 obj"),A},va=p.__private__.newAdditionalObject=function(){var A={objId:Hi(),content:""};return Ce.push(A),A},$o=Hi(),Ks=Hi(),ba=p.__private__.decodeColorString=function(A){var H=A.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var ue=parseFloat(H[0]);H=[ue,ue,ue,"r"]}for(var ge="#",ve=0;ve<3;ve++)ge+=("0"+Math.floor(255*parseFloat(H[ve])).toString(16)).slice(-2);return ge},Xs=p.__private__.encodeColorString=function(A){var H;typeof A=="string"&&(A={ch1:A});var ue=A.ch1,ge=A.ch2,ve=A.ch3,Ee=A.ch4,Re=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var nt=new mT(ue);if(nt.ok)ue=nt.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var Xe=parseInt(ue.substr(1),16);ue=Xe>>16&255,ge=Xe>>8&255,ve=255&Xe}if(ge===void 0||Ee===void 0&&ue===ge&&ge===ve)H=typeof ue=="string"?ue+" "+Re[0]:A.precision===2?P(ue/255)+" "+Re[0]:M(ue/255)+" "+Re[0];else if(Ee===void 0||Pn(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return["1.","1.","1.",Re[1]].join(" ");H=typeof ue=="string"?[ue,ge,ve,Re[1]].join(" "):A.precision===2?[P(ue/255),P(ge/255),P(ve/255),Re[1]].join(" "):[M(ue/255),M(ge/255),M(ve/255),Re[1]].join(" ")}else H=typeof ue=="string"?[ue,ge,ve,Ee,Re[2]].join(" "):A.precision===2?[P(ue),P(ge),P(ve),P(Ee),Re[2]].join(" "):[M(ue),M(ge),M(ve),M(Ee),Re[2]].join(" ");return H},Ys=p.__private__.getFilters=function(){return a},Ns=p.__private__.putStream=function(A){var H=(A=A||{}).data||"",ue=A.filters||Ys(),ge=A.alreadyAppliedFilters||[],ve=A.addLength1||!1,Ee=H.length,Re=A.objectId,nt=function(bi){return bi};if(d!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(nt=xi.encryptor(Re,0));var Xe={};ue===!0&&(ue=["FlateEncode"]);var jt=A.additionalKeyValues||[],Dt=(Xe=gt.API.processDataByFilters!==void 0?gt.API.processDataByFilters(H,ue):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Xe.data.length!==0&&(jt.push({key:"Length",value:Xe.data.length}),ve===!0&&jt.push({key:"Length1",value:Ee})),Dt.length!=0)if(Dt.split("/").length-1==1)jt.push({key:"Filter",value:Dt});else{jt.push({key:"Filter",value:"["+Dt+"]"});for(var nn=0;nn<jt.length;nn+=1)if(jt[nn].key==="DecodeParms"){for(var Fn=[],ui=0;ui<Xe.reverseChain.split("/").length-1;ui+=1)Fn.push("null");Fn.push(jt[nn].value),jt[nn].value="["+Fn.join(" ")+"]"}}te("<<");for(var Sn=0;Sn<jt.length;Sn++)te("/"+jt[Sn].key+" "+jt[Sn].value);te(">>"),Xe.data.length!==0&&(te("stream"),te(nt(Xe.data)),te("endstream"))},bl=p.__private__.putPage=function(A){var H=A.number,ue=A.data,ge=A.objId,ve=A.contentsObjId;qi(ge,!0),te("<</Type /Page"),te("/Parent "+A.rootDictionaryObjId+" 0 R"),te("/Resources "+A.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(R(A.mediaBox.bottomLeftX))+" "+parseFloat(R(A.mediaBox.bottomLeftY))+" "+R(A.mediaBox.topRightX)+" "+R(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&te("/CropBox ["+R(A.cropBox.bottomLeftX)+" "+R(A.cropBox.bottomLeftY)+" "+R(A.cropBox.topRightX)+" "+R(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&te("/BleedBox ["+R(A.bleedBox.bottomLeftX)+" "+R(A.bleedBox.bottomLeftY)+" "+R(A.bleedBox.topRightX)+" "+R(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&te("/TrimBox ["+R(A.trimBox.bottomLeftX)+" "+R(A.trimBox.bottomLeftY)+" "+R(A.trimBox.topRightX)+" "+R(A.trimBox.topRightY)+"]"),A.artBox!==null&&te("/ArtBox ["+R(A.artBox.bottomLeftX)+" "+R(A.artBox.bottomLeftY)+" "+R(A.artBox.topRightX)+" "+R(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&te("/UserUnit "+A.userUnit),pn.publish("putPage",{objId:ge,pageContext:_t[H],pageNumber:H,page:ue}),te("/Contents "+ve+" 0 R"),te(">>"),te("endobj");var Ee=ue.join(`
`);return k===w&&(Ee+=`
Q`),qi(ve,!0),Ns({data:Ee,filters:Ys(),objectId:ve}),te("endobj"),ge},wa=p.__private__.putPages=function(){var A,H,ue=[];for(A=1;A<=qt;A++)_t[A].objId=Hi(),_t[A].contentsObjId=Hi();for(A=1;A<=qt;A++)ue.push(bl({number:A,data:Le[A],objId:_t[A].objId,contentsObjId:_t[A].contentsObjId,mediaBox:_t[A].mediaBox,cropBox:_t[A].cropBox,bleedBox:_t[A].bleedBox,trimBox:_t[A].trimBox,artBox:_t[A].artBox,userUnit:_t[A].userUnit,rootDictionaryObjId:$o,resourceDictionaryObjId:Ks}));qi($o,!0),te("<</Type /Pages");var ge="/Kids [";for(H=0;H<qt;H++)ge+=ue[H]+" 0 R ";te(ge+"]"),te("/Count "+qt),te(">>"),te("endobj"),pn.publish("postPutPages")},wl=function(A){pn.publish("putFont",{font:A,out:te,newObject:Vn,putStream:Ns}),A.isAlreadyPutted!==!0&&(A.objectNumber=Vn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Ud(A.postScriptName)),te("/Subtype /Type1"),typeof A.encoding=="string"&&te("/Encoding /"+A.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},vc=function(A){A.objectNumber=Vn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[R(A.x),R(A.y),R(A.x+A.width),R(A.y+A.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ue=A.pages[1].join(`
`);Ns({data:ue,additionalKeyValues:H,objectId:A.objectNumber}),te("endobj")},bc=function(A,H){H||(H=21);var ue=Vn(),ge=function(Re,nt){var Xe,jt=[],Dt=1/(nt-1);for(Xe=0;Xe<1;Xe+=Dt)jt.push(Xe);if(jt.push(1),Re[0].offset!=0){var nn={offset:0,color:Re[0].color};Re.unshift(nn)}if(Re[Re.length-1].offset!=1){var Fn={offset:1,color:Re[Re.length-1].color};Re.push(Fn)}for(var ui="",Sn=0,bi=0;bi<jt.length;bi++){for(Xe=jt[bi];Xe>Re[Sn+1].offset;)Sn++;var On=Re[Sn].offset,Mi=(Xe-On)/(Re[Sn+1].offset-On),oo=Re[Sn].color,Ir=Re[Sn+1].color;ui+=oe(Math.round((1-Mi)*oo[0]+Mi*Ir[0]).toString(16))+oe(Math.round((1-Mi)*oo[1]+Mi*Ir[1]).toString(16))+oe(Math.round((1-Mi)*oo[2]+Mi*Ir[2]).toString(16))}return ui.trim()}(A.colors,H),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+H+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ns({data:ge,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),te("endobj"),A.objectNumber=Vn(),te("<< /ShadingType "+A.type),te("/ColorSpace /DeviceRGB");var Ee="/Coords ["+R(parseFloat(A.coords[0]))+" "+R(parseFloat(A.coords[1]))+" ";A.type===2?Ee+=R(parseFloat(A.coords[2]))+" "+R(parseFloat(A.coords[3])):Ee+=R(parseFloat(A.coords[2]))+" "+R(parseFloat(A.coords[3]))+" "+R(parseFloat(A.coords[4]))+" "+R(parseFloat(A.coords[5])),te(Ee+="]"),A.matrix&&te("/Matrix ["+A.matrix.toString()+"]"),te("/Function "+ue+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},wc=function(A,H){var ue=Hi(),ge=Vn();H.push({resourcesOid:ue,objectOid:ge}),A.objectNumber=ge;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+A.boundingBox.map(R).join(" ")+"]"}),ve.push({key:"XStep",value:R(A.xStep)}),ve.push({key:"YStep",value:R(A.yStep)}),ve.push({key:"Resources",value:ue+" 0 R"}),A.matrix&&ve.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Ns({data:A.stream,additionalKeyValues:ve,objectId:A.objectNumber}),te("endobj")},n0=function(A){for(var H in A.objectNumber=Vn(),te("<<"),A)switch(H){case"opacity":te("/ca "+P(A[H]));break;case"stroke-opacity":te("/CA "+P(A[H]))}te(">>"),te("endobj")},Fu=function(A){qi(A.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var H in te("/Font <<"),Ht)Ht.hasOwnProperty(H)&&(g===!1||g===!0&&m.hasOwnProperty(H))&&te("/"+H+" "+Ht[H].objectNumber+" 0 R");te(">>")}(),function(){if(Object.keys(yt).length>0){for(var H in te("/Shading <<"),yt)yt.hasOwnProperty(H)&&yt[H]instanceof gh&&yt[H].objectNumber>=0&&te("/"+H+" "+yt[H].objectNumber+" 0 R");pn.publish("putShadingPatternDict"),te(">>")}}(),function(H){if(Object.keys(yt).length>0){for(var ue in te("/Pattern <<"),yt)yt.hasOwnProperty(ue)&&yt[ue]instanceof p.TilingPattern&&yt[ue].objectNumber>=0&&yt[ue].objectNumber<H&&te("/"+ue+" "+yt[ue].objectNumber+" 0 R");pn.publish("putTilingPatternDict"),te(">>")}}(A.objectOid),function(){if(Object.keys(Nt).length>0){var H;for(H in te("/ExtGState <<"),Nt)Nt.hasOwnProperty(H)&&Nt[H].objectNumber>=0&&te("/"+H+" "+Nt[H].objectNumber+" 0 R");pn.publish("putGStateDict"),te(">>")}}(),function(){for(var H in te("/XObject <<"),ar)ar.hasOwnProperty(H)&&ar[H].objectNumber>=0&&te("/"+H+" "+ar[H].objectNumber+" 0 R");pn.publish("putXobjectDict"),te(">>")}(),te(">>"),te("endobj")},_c=function(A){Gt[A.fontName]=Gt[A.fontName]||{},Gt[A.fontName][A.fontStyle]=A.id},Ko=function(A,H,ue,ge,ve){var Ee={id:"F"+(Object.keys(Ht).length+1).toString(10),postScriptName:A,fontName:H,fontStyle:ue,encoding:ge,isStandardFont:ve||!1,metadata:{}};return pn.publish("addFont",{font:Ee,instance:this}),Ht[Ee.id]=Ee,_c(Ee),Ee.id},Or=p.__private__.pdfEscape=p.pdfEscape=function(A,H){return function(ue,ge){var ve,Ee,Re,nt,Xe,jt,Dt,nn,Fn;if(Re=(ge=ge||{}).sourceEncoding||"Unicode",Xe=ge.outputEncoding,(ge.autoencode||Xe)&&Ht[et].metadata&&Ht[et].metadata[Re]&&Ht[et].metadata[Re].encoding&&(nt=Ht[et].metadata[Re].encoding,!Xe&&Ht[et].encoding&&(Xe=Ht[et].encoding),!Xe&&nt.codePages&&(Xe=nt.codePages[0]),typeof Xe=="string"&&(Xe=nt[Xe]),Xe)){for(Dt=!1,jt=[],ve=0,Ee=ue.length;ve<Ee;ve++)(nn=Xe[ue.charCodeAt(ve)])?jt.push(String.fromCharCode(nn)):jt.push(ue[ve]),jt[ve].charCodeAt(0)>>8&&(Dt=!0);ue=jt.join("")}for(ve=ue.length;Dt===void 0&&ve!==0;)ue.charCodeAt(ve-1)>>8&&(Dt=!0),ve--;if(!Dt)return ue;for(jt=ge.noBOM?[]:[254,255],ve=0,Ee=ue.length;ve<Ee;ve++){if((Fn=(nn=ue.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jt.push(Fn),jt.push(nn-(Fn<<8))}return String.fromCharCode.apply(void 0,jt)}(A,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_l=p.__private__.beginPage=function(A){Le[++qt]=[],_t[qt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},io(qt),Ke(Le[q])},rd=function(A,H){var ue,ge,ve;switch(n=H||n,typeof A=="string"&&(ue=S(A.toLowerCase()),Array.isArray(ue)&&(ge=ue[0],ve=ue[1])),Array.isArray(A)&&(ge=A[0]*wt,ve=A[1]*wt),isNaN(ge)&&(ge=r[0],ve=r[1]),(ge>14400||ve>14400)&&(In.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),ve=Math.min(14400,ve)),r=[ge,ve],n.substr(0,1)){case"l":ve>ge&&(r=[ve,ge]);break;case"p":ge>ve&&(r=[ve,ge])}_l(r),Pt(Pl),te(Xo),br!==0&&te(br+" J"),ds!==0&&te(ds+" j"),pn.publish("addPage",{pageNumber:qt})},Sl=function(A){A>0&&A<=qt&&(Le.splice(A,1),_t.splice(A,1),qt--,q>qt&&(q=qt),this.setPage(q))},io=function(A){A>0&&A<=qt&&(q=A)},Qs=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Le.length-1},Cn=function(A,H,ue){var ge,ve=void 0;return ue=ue||{},A=A!==void 0?A:Ht[et].fontName,H=H!==void 0?H:Ht[et].fontStyle,ge=A.toLowerCase(),Gt[ge]!==void 0&&Gt[ge][H]!==void 0?ve=Gt[ge][H]:Gt[A]!==void 0&&Gt[A][H]!==void 0?ve=Gt[A][H]:ue.disableWarning===!1&&In.warn("Unable to look up font label for font '"+A+"', '"+H+"'. Refer to getFontList() for available fonts."),ve||ue.noFallback||(ve=Gt.times[H])==null&&(ve=Gt.times.normal),ve},tn=p.__private__.putInfo=function(){var A=Vn(),H=function(ge){return ge};for(var ue in d!==null&&(H=xi.encryptor(A,0)),te("<<"),te("/Producer ("+Or(H("jsPDF "+gt.version))+")"),xt)xt.hasOwnProperty(ue)&&xt[ue]&&te("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Or(H(xt[ue]))+")");te("/CreationDate ("+Or(H(Z))+")"),te(">>"),te("endobj")},ls=p.__private__.putCatalog=function(A){var H=(A=A||{}).rootDictionaryObjId||$o;switch(Vn(),te("<<"),te("/Type /Catalog"),te("/Pages "+H+" 0 R"),Je||(Je="fullwidth"),Je){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+Je;ue.substr(ue.length-1)==="%"&&(Je=parseInt(Je)/100),typeof Je=="number"&&te("/OpenAction [3 0 R /XYZ null null "+P(Je)+"]")}switch($e||($e="continuous"),$e){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}Te&&te("/PageMode /"+Te),pn.publish("putCatalog"),te(">>"),te("endobj")},Gi=p.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(de+1)),te("/Root "+de+" 0 R"),te("/Info "+(de-1)+" 0 R"),d!==null&&te("/Encrypt "+xi.oid+" 0 R"),te("/ID [ <"+ce+"> <"+ce+"> ]"),te(">>")},cn=p.__private__.putHeader=function(){te("%PDF-"+y),te("%")},_a=p.__private__.putXRef=function(){var A="0000000000";te("xref"),te("0 "+(de+1)),te("0000000000 65535 f ");for(var H=1;H<=de;H++)typeof X[H]=="function"?te((A+X[H]()).slice(-10)+" 00000 n "):X[H]!==void 0?te((A+X[H]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},vr=p.__private__.buildDocument=function(){var A;de=0,xe=0,fe=[],X=[],Ce=[],$o=Hi(),Ks=Hi(),Ke(fe),pn.publish("buildDocument"),cn(),wa(),function(){pn.publish("putAdditionalObjects");for(var ue=0;ue<Ce.length;ue++){var ge=Ce[ue];qi(ge.objId,!0),te(ge.content),te("endobj")}pn.publish("postPutAdditionalObjects")}(),A=[],function(){for(var ue in Ht)Ht.hasOwnProperty(ue)&&(g===!1||g===!0&&m.hasOwnProperty(ue))&&wl(Ht[ue])}(),function(){var ue;for(ue in Nt)Nt.hasOwnProperty(ue)&&n0(Nt[ue])}(),function(){for(var ue in ar)ar.hasOwnProperty(ue)&&vc(ar[ue])}(),function(ue){var ge;for(ge in yt)yt.hasOwnProperty(ge)&&(yt[ge]instanceof gh?bc(yt[ge]):yt[ge]instanceof lf&&wc(yt[ge],ue))}(A),pn.publish("putResources"),A.forEach(Fu),Fu({resourcesOid:Ks,objectOid:Number.MAX_SAFE_INTEGER}),pn.publish("postPutResources"),d!==null&&(xi.oid=Vn(),te("<<"),te("/Filter /Standard"),te("/V "+xi.v),te("/R "+xi.r),te("/U <"+xi.toHexString(xi.U)+">"),te("/O <"+xi.toHexString(xi.O)+">"),te("/P "+xi.P),te(">>"),te("endobj")),tn(),ls();var H=xe;return _a(),Gi(),te("startxref"),te(""+H),te("%%EOF"),Ke(Le[q]),fe.join(`
`)},Ei=p.__private__.getBlob=function(A){return new Blob([vt(A)],{type:"application/pdf"})},Nl=p.output=p.__private__.output=(os=function(A,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",A){case void 0:return vr();case"save":p.save(H.filename);break;case"arraybuffer":return vt(vr());case"blob":return Ei(vr());case"bloburi":case"bloburl":if(Et.URL!==void 0&&typeof Et.URL.createObjectURL=="function")return Et.URL&&Et.URL.createObjectURL(Ei(vr()))||void 0;In.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",ge=vr();try{ue=XN(ge)}catch{ue=XN(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+H.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(ve=H.pdfObjectUrl,Ee="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",nt=Et.open();return nt!==null&&nt.document.write(Re),nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',jt=Et.open();if(jt!==null){jt.document.write(Xe);var Dt=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=H.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Dt.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Fn=Et.open();if(Fn!==null&&(Fn.document.write(nn),Fn.document.title=H.filename),Fn||typeof safari>"u")return Fn;break;case"datauri":case"dataurl":return Et.document.location.href=this.output("datauristring",H);default:return null}},os.foo=function(){try{return os.apply(this,arguments)}catch(ue){var A=ue.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var H="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ue.message;if(!Et.console)throw new Error(H);Et.console.error(H,ue),Et.alert&&alert(H)}},os.foo.bar=os,os.foo),cs=function(A){return Array.isArray(qo)===!0&&qo.indexOf(A)>-1};switch(i){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=cs("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);wt=i}var xi=null;se(),J();var ks=p.__private__.getPageInfo=p.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[A].objId,pageNumber:A,pageContext:_t[A]}},Ou=p.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in _t)if(_t[H].objId===A)break;return ks(H)},us=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:_t[q].objId,pageNumber:q,pageContext:_t[q]}};p.addPage=function(){return rd.apply(this,arguments),this},p.setPage=function(){return io.apply(this,arguments),Ke.call(this,Le[q]),this},p.insertPage=function(A){return this.addPage(),this.movePage(q,A),this},p.movePage=function(A,H){var ue,ge;if(A>H){ue=Le[A],ge=_t[A];for(var ve=A;ve>H;ve--)Le[ve]=Le[ve-1],_t[ve]=_t[ve-1];Le[H]=ue,_t[H]=ge,this.setPage(H)}else if(A<H){ue=Le[A],ge=_t[A];for(var Ee=A;Ee<H;Ee++)Le[Ee]=Le[Ee+1],_t[Ee]=_t[Ee+1];Le[H]=ue,_t[H]=ge,this.setPage(H)}return this},p.deletePage=function(){return Sl.apply(this,arguments),this},p.__private__.text=p.text=function(A,H,ue,ge,ve){var Ee,Re,nt,Xe,jt,Dt,nn,Fn,ui,Sn=(ge=ge||{}).scope||this;if(typeof A=="number"&&typeof H=="number"&&(typeof ue=="string"||Array.isArray(ue))){var bi=ue;ue=H,H=A,A=bi}if(arguments[3]instanceof bt==0?(nt=arguments[4],Xe=arguments[5],Pn(nn=arguments[3])==="object"&&nn!==null||(typeof nt=="string"&&(Xe=nt,nt=null),typeof nn=="string"&&(Xe=nn,nn=null),typeof nn=="number"&&(nt=nn,nn=null),ge={flags:nn,angle:nt,align:Xe})):(B("The transform parameter of text() with a Matrix value"),ui=ve),isNaN(H)||isNaN(ue)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Sn;var On,Mi="",oo=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Al,Ir=Sn.internal.scaleFactor;function lo(Yt){return Yt=Yt.split("	").join(Array(ge.TabLen||9).join(" ")),Or(Yt,nn)}function co(Yt){for(var kt,Wt=Yt.concat(),Qt=[],Es=Wt.length;Es--;)typeof(kt=Wt.shift())=="string"?Qt.push(kt):Array.isArray(Yt)&&(kt.length===1||kt[1]===void 0&&kt[2]===void 0)?Qt.push(kt[0]):Qt.push([kt[0],kt[1],kt[2]]);return Qt}function uo(Yt,kt){var Wt;if(typeof Yt=="string")Wt=kt(Yt)[0];else if(Array.isArray(Yt)){for(var Qt,Es,yo=Yt.concat(),Ma=[],od=yo.length;od--;)typeof(Qt=yo.shift())=="string"?Ma.push(kt(Qt)[0]):Array.isArray(Qt)&&typeof Qt[0]=="string"&&(Es=kt(Qt[0],Qt[1],Qt[2]),Ma.push([Es[0],Es[1],Es[2]]));Wt=Ma}return Wt}var ho=!1,Yo=!0;if(typeof A=="string")ho=!0;else if(Array.isArray(A)){var Ps=A.concat();Re=[];for(var fo,wi=Ps.length;wi--;)(typeof(fo=Ps.shift())!="string"||Array.isArray(fo)&&typeof fo[0]!="string")&&(Yo=!1);ho=Yo}if(ho===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var ja=Ie/Sn.internal.scaleFactor,Ls=ja*(oo-1);switch(ge.baseline){case"bottom":ue-=Ls;break;case"top":ue+=ja-Ls;break;case"hanging":ue+=ja-2*Ls;break;case"middle":ue+=ja/2-Ls}if((Dt=ge.maxWidth||0)>0&&(typeof A=="string"?A=Sn.splitTextToSize(A,Dt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Yt,kt){return Yt.concat(Sn.splitTextToSize(kt,Dt))},[]))),Ee={text:A,x:H,y:ue,options:ge,mutex:{pdfEscape:Or,activeFontKey:et,fonts:Ht,activeFontSize:Ie}},pn.publish("preProcessText",Ee),A=Ee.text,nt=(ge=Ee.options).angle,ui instanceof bt==0&&nt&&typeof nt=="number"){nt*=Math.PI/180,ge.rotationDirection===0&&(nt=-nt),k===w&&(nt=-nt);var Ml=Math.cos(nt),Rl=Math.sin(nt);ui=new bt(Ml,Rl,-Rl,Ml,0,0)}else nt&&nt instanceof bt&&(ui=nt);k!==w||ui||(ui=no),(jt=ge.charSpace||ao)!==void 0&&(Mi+=R(G(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fn=ge.horizontalScale)!==void 0&&(Mi+=R(100*Fn)+` Tz
`),ge.lang;var or=-1,ea=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Qo=Sn.internal.getCurrentPageInfo().pageContext;switch(ea){case 0:case!1:case"fill":or=0;break;case 1:case!0:case"stroke":or=1;break;case 2:case"fillThenStroke":or=2;break;case 3:case"invisible":or=3;break;case 4:case"fillAndAddForClipping":or=4;break;case 5:case"strokeAndAddPathForClipping":or=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":or=6;break;case 7:case"addToPathForClipping":or=7}var po=Qo.usedRenderingMode!==void 0?Qo.usedRenderingMode:-1;or!==-1?Mi+=or+` Tr
`:po!==-1&&(Mi+=`0 Tr
`),or!==-1&&(Qo.usedRenderingMode=or),Xe=ge.align||"left";var Kn,fs=Ie*oo,Fl=Sn.internal.pageSize.getWidth(),Cc=Ht[et];jt=ge.charSpace||ao,Dt=ge.maxWidth||0,nn=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var $i=[],Br=function(Yt){return Sn.getStringUnitWidth(Yt,{font:Cc,charSpace:jt,fontSize:Ie,doKerning:!1})*Ie/Ir};if(Object.prototype.toString.call(A)==="[object Array]"){var _r;Re=co(A),Xe!=="left"&&(Kn=Re.map(Br));var zr,lr=0;if(Xe==="right"){H-=Kn[0],A=[],wi=Re.length;for(var cr=0;cr<wi;cr++)cr===0?(zr=so(H),_r=En(ue)):(zr=G(lr-Kn[cr]),_r=-fs),A.push([Re[cr],zr,_r]),lr=Kn[cr]}else if(Xe==="center"){H-=Kn[0]/2,A=[],wi=Re.length;for(var ta=0;ta<wi;ta++)ta===0?(zr=so(H),_r=En(ue)):(zr=G((lr-Kn[ta])/2),_r=-fs),A.push([Re[ta],zr,_r]),lr=Kn[ta]}else if(Xe==="left"){A=[],wi=Re.length;for(var jc=0;jc<wi;jc++)A.push(Re[jc])}else if(Xe==="justify"&&Cc.encoding==="Identity-H"){A=[],wi=Re.length,Dt=Dt!==0?Dt:Fl;for(var go=0,si=0;si<wi;si++)if(_r=si===0?En(ue):-fs,zr=si===0?so(H):go,si<wi-1){var Jo=G((Dt-Kn[si])/(Re[si].split(" ").length-1)),hi=Re[si].split(" ");A.push([hi[0]+" ",zr,_r]),go=0;for(var Ur=1;Ur<hi.length;Ur++){var Aa=(Br(hi[Ur-1]+" "+hi[Ur])-Br(hi[Ur]))*Ir+Jo;Ur==hi.length-1?A.push([hi[Ur],Aa,0]):A.push([hi[Ur]+" ",Aa,0]),go-=Aa}}else A.push([Re[si],zr,_r]);A.push(["",go,0])}else{if(Xe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],wi=Re.length,Dt=Dt!==0?Dt:Fl,si=0;si<wi;si++){_r=si===0?En(ue):-fs,zr=si===0?so(H):0;var Vr=Re[si].split(" ").length-1,Ol=Vr>0?(Dt-Kn[si])/Vr:0;si<wi-1?$i.push(R(G(Ol))):$i.push(0),A.push([Re[si],zr,_r])}}}(typeof ge.R2L=="boolean"?ge.R2L:mt)===!0&&(A=uo(A,function(Yt,kt,Wt){return[Yt.split("").reverse().join(""),kt,Wt]})),Ee={text:A,x:H,y:ue,options:ge,mutex:{pdfEscape:Or,activeFontKey:et,fonts:Ht,activeFontSize:Ie}},pn.publish("postProcessText",Ee),A=Ee.text,On=Ee.mutex.isHex||!1;var Pa=Ht[et].encoding;Pa!=="WinAnsiEncoding"&&Pa!=="StandardEncoding"||(A=uo(A,function(Yt,kt,Wt){return[lo(Yt),kt,Wt]})),Re=co(A),A=[];for(var mo,La,xn,Ta=Array.isArray(Re[0])?1:0,Ea="",xo=function(Yt,kt,Wt){var Qt="";return Wt instanceof bt?(Wt=typeof ge.angle=="number"?to(Wt,new bt(1,0,0,1,Yt,kt)):to(new bt(1,0,0,1,Yt,kt),Wt),k===w&&(Wt=to(new bt(1,0,0,-1,0,0),Wt)),Qt=Wt.join(" ")+` Tm
`):Qt=R(Yt)+" "+R(kt)+` Td
`,Qt},Sr=0;Sr<Re.length;Sr++){switch(Ea="",Ta){case 1:xn=(On?"<":"(")+Re[Sr][0]+(On?">":")"),mo=parseFloat(Re[Sr][1]),La=parseFloat(Re[Sr][2]);break;case 0:xn=(On?"<":"(")+Re[Sr]+(On?">":")"),mo=so(H),La=En(ue)}$i!==void 0&&$i[Sr]!==void 0&&(Ea=$i[Sr]+` Tw
`),Sr===0?A.push(Ea+xo(mo,La,ui)+xn):Ta===0?A.push(Ea+xn):Ta===1&&A.push(Ea+xo(mo,La,ui)+xn)}A=Ta===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Ts=`BT
/`;return Ts+=et+" "+Ie+` Tf
`,Ts+=R(Ie*oo)+` TL
`,Ts+=Na+`
`,Ts+=Mi,Ts+=A,te(Ts+="ET"),m[et]=!0,Sn};var i0=p.__private__.clip=p.clip=function(A){return te(A==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return i0("evenodd")},p.__private__.discardPath=p.discardPath=function(){return te("n"),this};var Sa=p.__private__.isValidStyle=function(A){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(H=!0),H};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(A){return Sa(A)&&(c=A),this};var sd=p.__private__.getStyle=p.getStyle=function(A){var H=c;switch(A){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=A}return H},kl=p.close=function(){return te("h"),this};p.stroke=function(){return te("S"),this},p.fill=function(A){return ro("f",A),this},p.fillEvenOdd=function(A){return ro("f*",A),this},p.fillStroke=function(A){return ro("B",A),this},p.fillStrokeEvenOdd=function(A){return ro("B*",A),this};var ro=function(A,H){Pn(H)==="object"?r0(H,A):te(A)},Js=function(A){A===null||k===w&&A===void 0||(A=sd(A),te(A))};function Sc(A,H,ue,ge,ve){var Ee=new lf(H||this.boundingBox,ue||this.xStep,ge||this.yStep,this.gState,ve||this.matrix);Ee.stream=this.stream;var Re=A+"$$"+this.cloneIndex+++"$$";return Ss(Re,Ee),Ee}var r0=function(A,H){var ue=Tn[A.key],ge=yt[ue];if(ge instanceof gh)te("q"),te(s0(H)),ge.gState&&p.setGState(ge.gState),te(A.matrix.toString()+" cm"),te("/"+ue+" sh"),te("Q");else if(ge instanceof lf){var ve=new bt(1,0,0,-1,0,wr());A.matrix&&(ve=ve.multiply(A.matrix||no),ue=Sc.call(ge,A.key,A.boundingBox,A.xStep,A.yStep,ve).id),te("q"),te("/Pattern cs"),te("/"+ue+" scn"),ge.gState&&p.setGState(ge.gState),te(H),te("Q")}},s0=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cl=p.moveTo=function(A,H){return te(R(G(A))+" "+R(W(H))+" m"),this},Du=p.lineTo=function(A,H){return te(R(G(A))+" "+R(W(H))+" l"),this},hs=p.curveTo=function(A,H,ue,ge,ve,Ee){return te([R(G(A)),R(W(H)),R(G(ue)),R(W(ge)),R(G(ve)),R(W(Ee)),"c"].join(" ")),this};p.__private__.line=p.line=function(A,H,ue,ge,ve){if(isNaN(A)||isNaN(H)||isNaN(ue)||isNaN(ge)||!Sa(ve))throw new Error("Invalid arguments passed to jsPDF.line");return k===j?this.lines([[ue-A,ge-H]],A,H,[1,1],ve||"S"):this.lines([[ue-A,ge-H]],A,H,[1,1]).stroke()},p.__private__.lines=p.lines=function(A,H,ue,ge,ve,Ee){var Re,nt,Xe,jt,Dt,nn,Fn,ui,Sn,bi,On,Mi;if(typeof A=="number"&&(Mi=ue,ue=H,H=A,A=Mi),ge=ge||[1,1],Ee=Ee||!1,isNaN(H)||isNaN(ue)||!Array.isArray(A)||!Array.isArray(ge)||!Sa(ve)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cl(H,ue),Re=ge[0],nt=ge[1],jt=A.length,bi=H,On=ue,Xe=0;Xe<jt;Xe++)(Dt=A[Xe]).length===2?(bi=Dt[0]*Re+bi,On=Dt[1]*nt+On,Du(bi,On)):(nn=Dt[0]*Re+bi,Fn=Dt[1]*nt+On,ui=Dt[2]*Re+bi,Sn=Dt[3]*nt+On,bi=Dt[4]*Re+bi,On=Dt[5]*nt+On,hs(nn,Fn,ui,Sn,bi,On));return Ee&&kl(),Js(ve),this},p.path=function(A){for(var H=0;H<A.length;H++){var ue=A[H],ge=ue.c;switch(ue.op){case"m":Cl(ge[0],ge[1]);break;case"l":Du(ge[0],ge[1]);break;case"c":hs.apply(this,ge);break;case"h":kl()}}return this},p.__private__.rect=p.rect=function(A,H,ue,ge,ve){if(isNaN(A)||isNaN(H)||isNaN(ue)||isNaN(ge)||!Sa(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return k===j&&(ge=-ge),te([R(G(A)),R(W(H)),R(G(ue)),R(G(ge)),"re"].join(" ")),Js(ve),this},p.__private__.triangle=p.triangle=function(A,H,ue,ge,ve,Ee,Re){if(isNaN(A)||isNaN(H)||isNaN(ue)||isNaN(ge)||isNaN(ve)||isNaN(Ee)||!Sa(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-A,ge-H],[ve-ue,Ee-ge],[A-ve,H-Ee]],A,H,[1,1],Re,!0),this},p.__private__.roundedRect=p.roundedRect=function(A,H,ue,ge,ve,Ee,Re){if(isNaN(A)||isNaN(H)||isNaN(ue)||isNaN(ge)||isNaN(ve)||isNaN(Ee)||!Sa(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nt=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ue),Ee=Math.min(Ee,.5*ge),this.lines([[ue-2*ve,0],[ve*nt,0,ve,Ee-Ee*nt,ve,Ee],[0,ge-2*Ee],[0,Ee*nt,-ve*nt,Ee,-ve,Ee],[2*ve-ue,0],[-ve*nt,0,-ve,-Ee*nt,-ve,-Ee],[0,2*Ee-ge],[0,-Ee*nt,ve*nt,-Ee,ve,-Ee]],A+ve,H,[1,1],Re,!0),this},p.__private__.ellipse=p.ellipse=function(A,H,ue,ge,ve){if(isNaN(A)||isNaN(H)||isNaN(ue)||isNaN(ge)||!Sa(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*ue,Re=4/3*(Math.SQRT2-1)*ge;return Cl(A+ue,H),hs(A+ue,H-Re,A+Ee,H-ge,A,H-ge),hs(A-Ee,H-ge,A-ue,H-Re,A-ue,H),hs(A-ue,H+Re,A-Ee,H+ge,A,H+ge),hs(A+Ee,H+ge,A+ue,H+Re,A+ue,H),Js(ve),this},p.__private__.circle=p.circle=function(A,H,ue,ge){if(isNaN(A)||isNaN(H)||isNaN(ue)||!Sa(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,H,ue,ue,ge)},p.setFont=function(A,H,ue){return ue&&(H=U(H,ue)),et=Cn(A,H,{disableWarning:!1}),this};var jl=p.__private__.getFont=p.getFont=function(){return Ht[Cn.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var A,H,ue={};for(A in Gt)if(Gt.hasOwnProperty(A))for(H in ue[A]=[],Gt[A])Gt[A].hasOwnProperty(H)&&ue[A].push(H);return ue},p.addFont=function(A,H,ue,ge,ve){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(ue=U(ue,ge)),Ko.call(this,A,H,ue,ve=ve||"Identity-H")};var Al,Pl=t.lineWidth||.200025,sn=p.__private__.getLineWidth=p.getLineWidth=function(){return Pl},Pt=p.__private__.setLineWidth=p.setLineWidth=function(A){return Pl=A,te(R(G(A))+" w"),this};p.__private__.setLineDash=gt.API.setLineDash=gt.API.setLineDashPattern=function(A,H){if(A=A||[],H=H||0,isNaN(H)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ue){return R(G(ue))}).join(" "),H=R(G(H)),te("["+A+"] "+H+" d"),this};var Iu=p.__private__.getLineHeight=p.getLineHeight=function(){return Ie*Al};p.__private__.getLineHeight=p.getLineHeight=function(){return Ie*Al};var ad=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Al=A),this},a0=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Al};ad(t.lineHeight);var so=p.__private__.getHorizontalCoordinate=function(A){return G(A)},En=p.__private__.getVerticalCoordinate=function(A){return k===w?A:_t[q].mediaBox.topRightY-_t[q].mediaBox.bottomLeftY-G(A)},Bu=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(A){return R(so(A))},o0=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(A){return R(En(A))},Xo=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ba(Xo)},p.__private__.setStrokeColor=p.setDrawColor=function(A,H,ue,ge){return Xo=Xs({ch1:A,ch2:H,ch3:ue,ch4:ge,pdfColorType:"draw",precision:2}),te(Xo),this};var zu=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ba(zu)},p.__private__.setFillColor=p.setFillColor=function(A,H,ue,ge){return zu=Xs({ch1:A,ch2:H,ch3:ue,ch4:ge,pdfColorType:"fill",precision:2}),te(zu),this};var Na=t.textColor||"0 g",Cs=p.__private__.getTextColor=p.getTextColor=function(){return ba(Na)};p.__private__.setTextColor=p.setTextColor=function(A,H,ue,ge){return Na=Xs({ch1:A,ch2:H,ch3:ue,ch4:ge,pdfColorType:"text",precision:3}),this};var ao=t.charSpace,l0=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ao||0)};p.__private__.setCharSpace=p.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ao=A,this};var br=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(A){var H=p.CapJoinStyles[A];if(H===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return br=H,te(H+" J"),this};var ds=0;p.__private__.setLineJoin=p.setLineJoin=function(A){var H=p.CapJoinStyles[A];if(H===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ds=H,te(H+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(R(G(A))+" M"),this},p.GState=B2,p.setGState=function(A){(A=typeof A=="string"?Nt[Ot[A]]:Ll(null,A)).equals(Un)||(te("/"+A.id+" gs"),Un=A)};var Ll=function(A,H){if(!A||!Ot[A]){var ue=!1;for(var ge in Nt)if(Nt.hasOwnProperty(ge)&&Nt[ge].equals(H)){ue=!0;break}if(ue)H=Nt[ge];else{var ve="GS"+(Object.keys(Nt).length+1).toString(10);Nt[ve]=H,H.id=ve}return A&&(Ot[A]=H.id),pn.publish("addGState",H),H}};p.addGState=function(A,H){return Ll(A,H),this},p.saveGraphicsState=function(){return te("q"),zn.push({key:et,size:Ie,color:Na}),this},p.restoreGraphicsState=function(){te("Q");var A=zn.pop();return et=A.key,Ie=A.size,Na=A.color,Un=null,this},p.setCurrentTransformationMatrix=function(A){return te(A.toString()+" cm"),this},p.comment=function(A){return te("#"+A),this};var Zs=function(A,H){var ue=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Ee){isNaN(Ee)||(ue=parseFloat(Ee))}});var ge=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Ee){isNaN(Ee)||(ge=parseFloat(Ee))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ee){ve=Ee.toString()}}),this},Nc=function(A,H,ue,ge){Zs.call(this,A,H),this.type="rect";var ve=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Re){isNaN(Re)||(ve=parseFloat(Re))}});var Ee=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(Re){isNaN(Re)||(Ee=parseFloat(Re))}}),this},kc=function(){this.page=qt,this.currentPage=q,this.pages=Le.slice(0),this.pagesContext=_t.slice(0),this.x=tt,this.y=jn,this.matrix=en,this.width=ka(q),this.height=El(q),this.outputDestination=ze,this.id="",this.objectNumber=-1};kc.prototype.restore=function(){qt=this.page,q=this.currentPage,_t=this.pagesContext,Le=this.pages,tt=this.x,jn=this.y,en=this.matrix,Tl(q,this.width),yi(q,this.height),ze=this.outputDestination};var Dr=function(A,H,ue,ge,ve){$s.push(new kc),qt=q=0,Le=[],tt=A,jn=H,en=ve,_l([ue,ge])};for(var js in p.beginFormObject=function(A,H,ue,ge,ve){return Dr(A,H,ue,ge,ve),this},p.endFormObject=function(A){return function(H){if(qs[H])$s.pop().restore();else{var ue=new kc,ge="Xo"+(Object.keys(ar).length+1).toString(10);ue.id=ge,qs[H]=ge,ar[ge]=ue,pn.publish("addFormObject",ue),$s.pop().restore()}}(A),this},p.doFormObject=function(A,H){var ue=ar[qs[A]];return te("q"),te(H.toString()+" cm"),te("/"+ue.id+" Do"),te("Q"),this},p.getFormObject=function(A){var H=ar[qs[A]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},p.save=function(A,H){return A=A||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(ph(Ei(vr()),A),typeof ph.unload=="function"&&Et.setTimeout&&setTimeout(ph.unload,911),this):new Promise(function(ue,ge){try{var ve=ph(Ei(vr()),A);typeof ph.unload=="function"&&Et.setTimeout&&setTimeout(ph.unload,911),ue(ve)}catch(Ee){ge(Ee.message)}})},gt.API)gt.API.hasOwnProperty(js)&&(js==="events"&&gt.API.events.length?function(A,H){var ue,ge,ve;for(ve=H.length-1;ve!==-1;ve--)ue=H[ve][0],ge=H[ve][1],A.subscribe.apply(A,[ue].concat(typeof ge=="function"?[ge]:ge))}(pn,gt.API.events):p[js]=gt.API[js]);function ka(A){return _t[A].mediaBox.topRightX-_t[A].mediaBox.bottomLeftX}function Tl(A,H){_t[A].mediaBox.topRightX=H+_t[A].mediaBox.bottomLeftX}function El(A){return _t[A].mediaBox.topRightY-_t[A].mediaBox.bottomLeftY}function yi(A,H){_t[A].mediaBox.topRightY=H+_t[A].mediaBox.bottomLeftY}var vi=p.getPageWidth=function(A){return ka(A=A||q)/wt},Ca=p.setPageWidth=function(A,H){Tl(A,H*wt)},wr=p.getPageHeight=function(A){return El(A=A||q)/wt},As=p.setPageHeight=function(A,H){yi(A,H*wt)};return p.internal={pdfEscape:Or,getStyle:sd,getFont:jl,getFontSize:Ze,getCharSpace:l0,getTextColor:Cs,getLineHeight:Iu,getLineHeightFactor:a0,getLineWidth:sn,write:Ge,getHorizontalCoordinate:so,getVerticalCoordinate:En,getCoordinateString:Bu,getVerticalCoordinateString:o0,collections:{},newObject:Vn,newAdditionalObject:va,newObjectDeferred:Hi,newObjectDeferredBegin:qi,getFilters:Ys,putStream:Ns,events:pn,scaleFactor:wt,pageSize:{getWidth:function(){return vi(q)},setWidth:function(A){Ca(q,A)},getHeight:function(){return wr(q)},setHeight:function(A){As(q,A)}},encryptionOptions:d,encryption:xi,getEncryptor:function(A){return d!==null?xi.encryptor(A,0):function(H){return H}},output:Nl,getNumberOfPages:Qs,get pages(){return Le},out:te,f2:P,f3:M,getPageInfo:ks,getPageInfoByObjId:Ou,getCurrentPageInfo:us,getPDFVersion:b,Point:Zs,Rectangle:Nc,Matrix:bt,hasHotfix:cs},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return vi(q)},set:function(A){Ca(q,A)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return wr(q)},set:function(A){As(q,A)},enumerable:!0,configurable:!0}),(function(A){for(var H=0,ue=ht.length;H<ue;H++){var ge=Ko.call(this,A[H][0],A[H][1],A[H][2],ht[H][3],!0);g===!1&&(m[ge]=!0);var ve=A[H][0].split("-");_c({id:ge,fontName:ve[0],fontStyle:ve[1]||""})}pn.publish("addFonts",{fonts:Ht,dictionary:Gt})}).call(p,ht),et="F1",rd(r,n),pn.publish("initialized"),p}zd.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},zd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},zd.prototype.processOwnerPassword=function(t,e){return pb(fb(e).substr(0,5),t)},zd.prototype.encryptor=function(t,e){var n=fb(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return pb(n,i)}},B2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Pn(t)!==Pn(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},gt.API={events:[]},gt.version="3.0.4";var ki=gt.API,Fw=1,id=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Od=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bt=function(t){return t.toFixed(2)},zc=function(t){return t.toFixed(5)};ki.__acroform__={};var Ws=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ZN=function(t){return t*Fw},al=function(t){var e=new bT,n=ct.internal.getHeight(t)||0,i=ct.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Bt(i)),Number(Bt(n))],e},Ate=ki.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Pte=ki.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Lte=ki.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ii=ki.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Lte(t,e-1)},Bi=ki.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ate(t,e-1)},zi=ki.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Pte(t,e-1)},Tte=ki.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(r)||0,l.lowerLeft_Y=i(s+o)||0,l.upperRight_X=n(r+a)||0,l.upperRight_Y=i(s)||0,[Number(Bt(l.lowerLeft_X)),Number(Bt(l.lowerLeft_Y)),Number(Bt(l.upperRight_X)),Number(Bt(l.upperRight_Y))]},Ete=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=gb(t,n),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+Bt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=al(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},gb=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(P){return P.split(`
`)}):r.map(function(P){return[P]});var s=n,a=ct.internal.getHeight(t)||0;a=a<0?-a:a;var o=ct.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(P,M,G){if(P+1<r.length){var W=M+" "+r[P+1][0];return Zm(W,t,G).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,d,g=Zm("3",t,s).height,m=t.multiline?a-s:(a-g)/2,p=m+=2,y=0,b=0,N=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Zm(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var S="",j=0,w=0;w<r.length;w++)if(r.hasOwnProperty(w)){var k=!1;if(r[w].length!==1&&N!==r[w].length-1){if((g+2)*(j+2)+2>a)continue e;S+=r[w][N],k=!0,b=w,w--}else{S=(S+=r[w][N]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var E=parseInt(w),I=l(E,S,s),U=w>=r.length-1;if(I&&!U){S+=" ",N=0;continue}if(I||U){if(U)b=E;else if(t.multiline&&(g+2)*(j+2)+2>a)continue e}else{if(!t.multiline||(g+2)*(j+2)+2>a)continue e;b=E}}for(var R="",B=y;B<=b;B++){var O=r[B];if(t.multiline){if(B===b){R+=O[N]+" ",N=(N+1)%O.length;continue}if(B===y){R+=O[O.length-1]+" ";continue}}R+=O[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,d=Zm(R,t,s).width,t.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}e+=Bt(c)+" "+Bt(p)+` Td
`,e+="("+id(R)+`) Tj
`,e+=-Bt(c)+` 0 Td
`,p=-(s+2),d=0,y=k?b:b+1,j++,S=""}break}return i.text=e,i.fontSize=s,i},Zm=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},Mte={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Rte=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Fte=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Go.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Mte)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Fw=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new wT,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&Rte(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(i,r){var s=!i;for(var a in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var o=i[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=Tte(o.Rect,r)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ct.createDefaultAppearanceStream(o),Pn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=Ete(o);l.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var g="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var p=o.appearanceStreamContent[m];if(g+="/"+m+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var y=p[a];typeof y=="function"&&(y=y.call(r,o)),g+="/"+a+" "+y+" ",r.internal.acroformPlugin.xForms.indexOf(y)>=0||r.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(r,o)),g+="/"+a+" "+y,r.internal.acroformPlugin.xForms.indexOf(y)>=0||r.internal.acroformPlugin.xForms.push(y);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:o.objId}),r.internal.out("endobj")}s&&function(b,N){for(var S in b)if(b.hasOwnProperty(S)){var j=S,w=b[S];N.internal.newObjectDeferredBegin(w.objId,!0),Pn(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete b[j]}}(r.internal.acroformPlugin.xForms,r)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},vT=ki.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(a){return a};if(Array.isArray(t)){for(var r="[",s=0;s<t.length;s++)switch(s!==0&&(r+=" "),Pn(t[s])){case"boolean":case"number":case"object":r+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),r+="("+id(i(t[s].toString()))+")"):r+=t[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ov=function(t,e,n){var i=function(r){return r};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+id(i(t))+")"},dl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};dl.prototype.toString=function(){return this.objId+" 0 R"},dl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},dl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],r=this[i];r&&(Array.isArray(r)?t.push({key:i,value:vT(r,this.objId,this.scope)}):r instanceof dl?(r.scope=this.scope,t.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:i,value:r}))}return t};var bT=function(){dl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ws(bT,dl);var wT=function(){dl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+id(n(t))+")"}},set:function(n){t=n}})};Ws(wT,dl);var Go=function t(){dl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ii(e,3)},set:function(S){S?this.F=Bi(e,3):this.F=zi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');n=S}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(S){i=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(S){i[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(S){i[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(S){i[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(S){i[3]=S}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof z2)return;s="FieldObject"+t.FieldNum++}var S=function(j){return j};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+id(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(S){a=S}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Fw:c},set:function(S){c=S}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof z2||this instanceof Lh))return ov(g,this.objId,this.scope)},set:function(S){S=S.toString(),g=S}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof mr==0?ov(m,this.objId,this.scope):m},set:function(S){S=S.toString(),m=this instanceof mr==0?S.substr(0,1)==="("?Od(S.substr(1,S.length-2)):Od(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mr==1?Od(m.substr(1,m.length-1)):m},set:function(S){S=S.toString(),m=this instanceof mr==1?"/"+S:S}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof mr==0?ov(p,this.objId,this.scope):p},set:function(S){S=S.toString(),p=this instanceof mr==0?S.substr(0,1)==="("?Od(S.substr(1,S.length-2)):Od(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mr==1?Od(p.substr(1,p.length-1)):p},set:function(S){S=S.toString(),p=this instanceof mr==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(S){S=!!S,b=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(S){y=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,1)},set:function(S){S?this.Ff=Bi(this.Ff,1):this.Ff=zi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,2)},set:function(S){S?this.Ff=Bi(this.Ff,2):this.Ff=zi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,3)},set:function(S){S?this.Ff=Bi(this.Ff,3):this.Ff=zi(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');N=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(N){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Ws(Go,dl);var xf=function(){Go.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return vT(e,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,18)},set:function(n){n?this.Ff=Bi(this.Ff,18):this.Ff=zi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Bi(this.Ff,19):this.Ff=zi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,20)},set:function(n){n?(this.Ff=Bi(this.Ff,20),e.sort()):this.Ff=zi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,22)},set:function(n){n?this.Ff=Bi(this.Ff,22):this.Ff=zi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(n){n?this.Ff=Bi(this.Ff,23):this.Ff=zi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,27)},set:function(n){n?this.Ff=Bi(this.Ff,27):this.Ff=zi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ws(xf,Go);var yf=function(){xf.call(this),this.fontName="helvetica",this.combo=!1};Ws(yf,xf);var vf=function(){yf.call(this),this.combo=!0};Ws(vf,yf);var M1=function(){vf.call(this),this.edit=!0};Ws(M1,vf);var mr=function(){Go.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,15)},set:function(n){n?this.Ff=Bi(this.Ff,15):this.Ff=zi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,16)},set:function(n){n?this.Ff=Bi(this.Ff,16):this.Ff=zi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,17)},set:function(n){n?this.Ff=Bi(this.Ff,17):this.Ff=zi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(n){n?this.Ff=Bi(this.Ff,26):this.Ff=zi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+id(n(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){Pn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ws(mr,Go);var R1=function(){mr.call(this),this.pushButton=!0};Ws(R1,mr);var bf=function(){mr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ws(bf,mr);var z2=function(){var t,e;Go.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),i)a.push("/"+s+" ("+id(r(i[s]))+")");return a.push(">>"),a.join(`
`)},set:function(r){Pn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ws(z2,Go),bf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},bf.prototype.createOption=function(t){var e=new z2;return e.Parent=this,e.optionName=t,this.Kids.push(e),Ote.call(this.scope,e),e};var F1=function(){mr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ct.CheckBox.createAppearanceStream()};Ws(F1,mr);var Lh=function(){Go.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,13)},set:function(e){e?this.Ff=Bi(this.Ff,13):this.Ff=zi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,21)},set:function(e){e?this.Ff=Bi(this.Ff,21):this.Ff=zi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(e){e?this.Ff=Bi(this.Ff,23):this.Ff=zi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,24)},set:function(e){e?this.Ff=Bi(this.Ff,24):this.Ff=zi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,25)},set:function(e){e?this.Ff=Bi(this.Ff,25):this.Ff=zi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(e){e?this.Ff=Bi(this.Ff,26):this.Ff=zi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ws(Lh,Go);var O1=function(){Lh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,14)},set:function(t){t?this.Ff=Bi(this.Ff,14):this.Ff=zi(this.Ff,14)}}),this.password=!0};Ws(O1,Lh);var ct={CheckBox:{createAppearanceStream:function(){return{N:{On:ct.CheckBox.YesNormal},D:{On:ct.CheckBox.YesPushDown,Off:ct.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=al(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=gb(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Bt(ct.internal.getWidth(t))+" "+Bt(ct.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Bt(s.fontSize)+" Tf "+r),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=al(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=[],s=ct.internal.getHeight(t),a=ct.internal.getWidth(t),o=gb(t,t.caption);return r.push("1 g"),r.push("0 0 "+Bt(a)+" "+Bt(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Bt(a-1)+" "+Bt(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+Bt(o.fontSize)+" Tf "+i),r.push(o.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=al(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Bt(ct.internal.getWidth(t))+" "+Bt(ct.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ct.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ct.RadioButton.Circle.YesNormal,e.D[t]=ct.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=al(t);e.scope=t.scope;var n=[],i=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=ct.internal.Bezier_C,s=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+zc(ct.internal.getWidth(t)/2)+" "+zc(ct.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=al(t);e.scope=t.scope;var n=[],i=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ct.internal.Bezier_C).toFixed(5)),a=Number((i*ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+zc(ct.internal.getWidth(t)/2)+" "+zc(ct.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+zc(ct.internal.getWidth(t)/2)+" "+zc(ct.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=al(t);e.scope=t.scope;var n=[],i=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+zc(ct.internal.getWidth(t)/2)+" "+zc(ct.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ct.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ct.RadioButton.Cross.YesNormal,e.D[t]=ct.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=al(t);e.scope=t.scope;var n=[],i=ct.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Bt(ct.internal.getWidth(t)-2)+" "+Bt(ct.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Bt(i.x1.x)+" "+Bt(i.x1.y)+" m"),n.push(Bt(i.x2.x)+" "+Bt(i.x2.y)+" l"),n.push(Bt(i.x4.x)+" "+Bt(i.x4.y)+" m"),n.push(Bt(i.x3.x)+" "+Bt(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=al(t);e.scope=t.scope;var n=ct.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Bt(ct.internal.getWidth(t))+" "+Bt(ct.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Bt(ct.internal.getWidth(t)-2)+" "+Bt(ct.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Bt(n.x1.x)+" "+Bt(n.x1.y)+" m"),i.push(Bt(n.x2.x)+" "+Bt(n.x2.y)+" l"),i.push(Bt(n.x4.x)+" "+Bt(n.x4.y)+" m"),i.push(Bt(n.x3.x)+" "+Bt(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=al(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Bt(ct.internal.getWidth(t))+" "+Bt(ct.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ct.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ct.internal.getWidth(t),n=ct.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},ct.internal.getWidth=function(t){var e=0;return Pn(t)==="object"&&(e=ZN(t.Rect[2])),e},ct.internal.getHeight=function(t){var e=0;return Pn(t)==="object"&&(e=ZN(t.Rect[3])),e};var Ote=ki.addField=function(t){if(Fte(this,t),!(t instanceof Go))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ki.AcroFormChoiceField=xf,ki.AcroFormListBox=yf,ki.AcroFormComboBox=vf,ki.AcroFormEditBox=M1,ki.AcroFormButton=mr,ki.AcroFormPushButton=R1,ki.AcroFormRadioButton=bf,ki.AcroFormCheckBox=F1,ki.AcroFormTextField=Lh,ki.AcroFormPasswordField=O1,ki.AcroFormAppearance=ct,ki.AcroForm={ChoiceField:xf,ListBox:yf,ComboBox:vf,EditBox:M1,Button:mr,PushButton:R1,RadioButton:bf,CheckBox:F1,TextField:Lh,PasswordField:O1,Appearance:ct},gt.AcroForm={ChoiceField:xf,ListBox:yf,ComboBox:vf,EditBox:M1,Button:mr,PushButton:R1,RadioButton:bf,CheckBox:F1,TextField:Lh,PasswordField:O1,Appearance:ct};gt.AcroForm;function _T(t){return t.reduce(function(e,n,i){return e[n]=i,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(P,M){var G,W,Z,ce,pe,J=n;if((M=M||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(I(P))for(pe in i)for(Z=i[pe],G=0;G<Z.length;G+=1){for(ce=!0,W=0;W<Z[G].length;W+=1)if(Z[G][W]!==void 0&&Z[G][W]!==P[W]){ce=!1;break}if(ce===!0){J=pe;break}}else for(pe in i)for(Z=i[pe],G=0;G<Z.length;G+=1){for(ce=!0,W=0;W<Z[G].length;W+=1)if(Z[G][W]!==void 0&&Z[G][W]!==P.charCodeAt(W)){ce=!1;break}if(ce===!0){J=pe;break}}return J===n&&M!==n&&(J=M),J},s=function P(M){for(var G=this.internal.write,W=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:M.width}),ce.push({key:"Height",value:M.height}),M.colorSpace===S.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===S.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var pe="",J=0,ee=M.transparency.length;J<ee;J++)pe+=M.transparency[J]+" "+M.transparency[J]+" ";ce.push({key:"Mask",value:"["+pe+"]"})}M.sMask!==void 0&&ce.push({key:"SMask",value:M.objectId+1+" 0 R"});var he=M.filter!==void 0?["/"+M.filter]:void 0;if(W({data:M.data,additionalKeyValues:ce,alreadyAppliedFilters:he,objectId:M.objectId}),G("endobj"),"sMask"in M&&M.sMask!==void 0){var se,F=(se=M.sMaskBitsPerComponent)!==null&&se!==void 0?se:M.bitsPerComponent,q={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:M.sMask};"filter"in M&&(q.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(M.width),q.filter=M.filter),P.call(this,q)}if(M.colorSpace===S.INDEXED){var re=this.internal.newObject();W({data:R(new Uint8Array(M.palette)),objectId:re}),G("endobj")}},a=function(){var P=this.internal.collections[e+"images"];for(var M in P)s.call(this,P[M])},o=function(){var P,M=this.internal.collections[e+"images"],G=this.internal.write;for(var W in M)G("/I"+(P=M[W]).index,P.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var P=this.internal.collections[e+"images"];return l.call(this),P},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(P){return typeof t["process"+P.toUpperCase()]=="function"},m=function(P){return Pn(P)==="object"&&P.nodeType===1},p=function(P,M){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var G=""+P.getAttribute("src");if(G.indexOf("data:image/")===0)return E1(unescape(G).split("base64,").pop());var W=t.loadFile(G,!0);if(W!==void 0)return W}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Z;switch(M){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;default:Z="image/jpeg"}return E1(P.toDataURL(Z,1).split("base64,").pop())}},y=function(P){var M=this.internal.collections[e+"images"];if(M){for(var G in M)if(P===M[G].alias)return M[G]}},b=function(P,M,G){return P||M||(P=-96,M=-96),P<0&&(P=-1*G.width*72/P/this.internal.scaleFactor),M<0&&(M=-1*G.height*72/M/this.internal.scaleFactor),P===0&&(P=M*G.width/G.height),M===0&&(M=P*G.height/G.width),[P,M]},N=function(P,M,G,W,Z,ce){var pe=b.call(this,G,W,Z),J=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,he=c.call(this);if(G=pe[0],W=pe[1],he[Z.index]=Z,ce){ce*=Math.PI/180;var se=Math.cos(ce),F=Math.sin(ce),q=function(oe){return oe.toFixed(4)},re=[q(se),q(F),q(-1*F),q(se),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,J(P),ee(M+W),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([J(G),"0","0",J(W),"0","0","cm"].join(" "))):this.internal.write([J(G),"0","0",J(W),J(P),ee(M+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(P){var M,G,W=0;if(typeof P=="string")for(G=P.length,M=0;M<G;M++)W=(W<<5)-W+P.charCodeAt(M),W|=0;else if(I(P))for(G=P.byteLength/2,M=0;M<G;M++)W=(W<<5)-W+P[M],W|=0;return W},k=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var M=!0;return P.length===0&&(M=!1),P.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(M=!1),M},E=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var M=P.indexOf(",");return M<0?null:P.substring(0,M).trim().endsWith("base64")?P.substring(M+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var I=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},U=t.__addimage__.binaryStringToUint8Array=function(P){for(var M=P.length,G=new Uint8Array(M),W=0;W<M;W++)G[W]=P.charCodeAt(W);return G},R=t.__addimage__.arrayBufferToBinaryString=function(P){for(var M="",G=I(P)?P:new Uint8Array(P),W=0;W<G.length;W+=8192)M+=String.fromCharCode.apply(null,G.subarray(W,W+8192));return M};t.addImage=function(){var P,M,G,W,Z,ce,pe,J,ee;if(typeof arguments[1]=="number"?(M=n,G=arguments[1],W=arguments[2],Z=arguments[3],ce=arguments[4],pe=arguments[5],J=arguments[6],ee=arguments[7]):(M=arguments[1],G=arguments[2],W=arguments[3],Z=arguments[4],ce=arguments[5],pe=arguments[6],J=arguments[7],ee=arguments[8]),Pn(P=arguments[0])==="object"&&!m(P)&&"imageData"in P){var he=P;P=he.imageData,M=he.format||M||n,G=he.x||G||0,W=he.y||W||0,Z=he.w||he.width||Z,ce=he.h||he.height||ce,pe=he.alias||pe,J=he.compression||J,ee=he.rotation||he.angle||ee}var se=this.internal.getFilters();if(J===void 0&&se.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(G)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=B.call(this,P,M,pe,J);return N.call(this,G,W,Z,ce,F,ee),this};var B=function(P,M,G,W){var Z,ce,pe;if(typeof P=="string"&&r(P)===n){P=unescape(P);var J=O(P,!1);(J!==""||(J=t.loadFile(P,!0))!==void 0)&&(P=J)}if(m(P)&&(P=p(P,M)),M=r(P,M),!g(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((pe=G)==null||pe.length===0)&&(G=function(ee){return typeof ee=="string"||I(ee)?w(ee):I(ee.data)?w(ee.data):null}(P)),(Z=y.call(this,G))||(P instanceof Uint8Array||M==="RGBA"||(ce=P,P=U(P)),Z=this["process"+M.toUpperCase()](P,d.call(this),G,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:j.NONE}(W),ce)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},O=t.__addimage__.convertBase64ToBinaryString=function(P,M){M=typeof M!="boolean"||M;var G,W="";if(typeof P=="string"){var Z;G=(Z=E(P))!==null&&Z!==void 0?Z:P;try{W=E1(G)}catch(ce){if(M)throw k(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(P){var M,G,W="";if(m(P)&&(P=p(P)),typeof P=="string"&&r(P)===n&&((W=O(P,!1))===""&&(W=t.loadFile(P)||""),P=W),G=r(P),!g(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(P instanceof Uint8Array||(P=U(P)),!(M=this["process"+G.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=G,M}})(gt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};gt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,r,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,d=!1,g=0;g<c.length&&!d;g++)switch((i=c[g]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){i=c[m];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(b.objId),j=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y)+"] ")+"/Contents ("+p(S(i.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(S(j))+") >>",b.content=s;var w=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(i.bounds.x+30)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+o(i.bounds.y)+"] ")+" /Parent "+w,i.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(b.objId,"0 R",N.objId,"0 R");break;case"freetext":r="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y+i.bounds.h)+"] ";var k=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(y(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var E=this.annotations._nameMap[i.options.name];i.options.pageNumber=E.page,i.options.top=E.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var I=o(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+I+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,r,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(i),w:l(n+r),h:c(i+s)},options:a,type:"link"})},t.textWithLink=function(n,i,r,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(c*d)}else o=l,a=c;return this.text(n,i,r,s),r+=.2*c,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,r-c,o,a,s),l},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(gt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=t.__arabicParser__.isArabicEndLetter=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return a(b)&&r.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(b){var N=0,S=n,j="",w=0;for(N=0;N<b.length;N+=1)S[b.charCodeAt(N)]!==void 0?(w++,typeof(S=S[b.charCodeAt(N)])=="number"&&(j+=String.fromCharCode(S),S=n,w=0),N===b.length-1&&(S=n,j+=b.charAt(N-(w-1)),N-=w-1,w=0)):(S=n,j+=b.charAt(N-w),N-=w,w=0);return j};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&i[b.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(b,N,S){return a(b)?s(b)===!1?-1:!c(b)||!a(N)&&!a(S)||!a(S)&&o(N)||o(b)&&!a(N)||o(b)&&l(N)||o(b)&&o(N)?0:d(b)&&a(N)&&!o(N)&&a(S)&&c(S)?3:o(b)||!a(S)?1:2:-1},p=function(b){var N=0,S=0,j=0,w="",k="",E="",I=(b=b||"").split("\\s+"),U=[];for(N=0;N<I.length;N+=1){for(U.push(""),S=0;S<I[N].length;S+=1)w=I[N][S],k=I[N][S-1],E=I[N][S+1],a(w)?(j=m(w,k,E),U[N]+=j!==-1?String.fromCharCode(e[w.charCodeAt(0)][j]):w):U[N]+=w;U[N]=g(U[N])}return U.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var b,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(N)){var j=0;for(S=[],j=0;j<N.length;j+=1)Array.isArray(N[j])?S.push([p(N[j][0]),N[j][1],N[j][2]]):S.push([p(N[j])]);b=S}else b=p(N);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",y])}(gt.API),gt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(gt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(b){y=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){i.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),g=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,p=0,y=0,b=0,N=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var S=c.maxWidth;S>0?typeof l=="string"?l=this.splitTextToSize(l,S):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,k){return w.concat(N.splitTextToSize(k,S))},[])):l=Array.isArray(l)?l:[l];for(var j=0;j<l.length;j++)p<(b=this.getStringUnitWidth(l[j],{font:g})*d)&&(p=b);return p!==0&&(y=l.length),{w:p/=m,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,d,g,m){if(i.call(this),!d)throw new Error("No data for PDF table.");var p,y,b,N,S=[],j=[],w=[],k={},E={},I=[],U=[],R=(m=m||{}).autoSize||!1,B=m.printHeaders!==!1,O=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,P=m.margins||Object.assign({width:this.getPageWidth()},e),M=typeof m.padding=="number"?m.padding:3,G=m.headerBackgroundColor||"#c8c8c8",W=m.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=W,this.setFontSize(O),g==null)j=S=Object.keys(d[0]),w=S.map(function(){return"left"});else if(Array.isArray(g)&&Pn(g[0])==="object")for(S=g.map(function(he){return he.name}),j=g.map(function(he){return he.prompt||he.name||""}),w=g.map(function(he){return he.align||"left"}),p=0;p<g.length;p+=1)E[g[p].name]=.7499990551181103*g[p].width;else Array.isArray(g)&&typeof g[0]=="string"&&(j=S=g,w=S.map(function(){return"left"}));if(R||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<S.length;p+=1){for(k[N=S[p]]=d.map(function(he){return he[N]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(j[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=k[N],this.setFont(void 0,"normal"),b=0;b<y.length;b+=1)I.push(this.getTextDimensions(y[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[N]=Math.max.apply(null,I)+M+M,I=[]}if(B){var Z={};for(p=0;p<S.length;p+=1)Z[S[p]]={},Z[S[p]].text=j[p],Z[S[p]].align=w[p];var ce=o.call(this,Z,E);U=S.map(function(he){return new s(l,c,E[he],ce,Z[he].text,void 0,Z[he].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var pe=g.reduce(function(he,se){return he[se.name]=se.align,he},{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var J=o.call(this,d[p],E);for(b=0;b<S.length;b+=1){var ee=d[p][S[b]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:b,data:ee},this),a.call(this,new s(l,c,E[S[b]],J,ee,p+2,pe[S[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var y=l[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/m+d+d},this).reduce(function(p,y){return Math.max(p,y)},0)};t.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(gt.API);var ST={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},NT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],mb=_T(NT),kT=[100,200,300,400,500,600,700,800,900],Dte=_T(kT);function lv(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return ST[s=s||"normal"]?s:"normal"}(t.style),i=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),r=function(s){return typeof mb[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:i,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,n,i].join(" ")}}}function ek(t,e,n,i){var r;for(r=n;r>=0&&r<e.length;r+=i)if(t[e[r]])return t[e[r]];for(r=n;r>=0&&r<e.length;r-=i)if(t[e[r]])return t[e[r]]}var Ite={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nk(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ik(t){return t.trimLeft()}function Bte(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function zte(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var e1,rk,sk,Dd,t1,ak,ok,lk,cv=["times"];function ck(t,e,n,i,r){var s=4,a=hk;switch(r){case gt.API.image_compression.FAST:s=1,a=uk;break;case gt.API.image_compression.MEDIUM:s=6,a=dk;break;case gt.API.image_compression.SLOW:s=9,a=fk}t=function(l,c,d,g){for(var m,p=l.length/c,y=new Uint8Array(l.length+p),b=[Ute,uk,hk,dk,fk],N=0;N<p;N+=1){var S=N*c,j=l.subarray(S,S+c);if(g)y.set(g(j,d,m),S+N);else{for(var w=b.length,k=[],E=0;E<w;E+=1)k[E]=b[E](j,d,m);var I=Hte(k.concat());y.set(k[I],S+N)}m=j}return y}(t,e,Math.ceil(n*i/8),a);var o=cb(t,{level:s});return gt.API.__addimage__.arrayBufferToBinaryString(o)}function Ute(t){var e=Array.apply([],t);return e.unshift(0),e}function uk(t,e){var n=t.length,i=[];i[0]=1;for(var r=0;r<n;r+=1){var s=t[r-e]||0;i[r+1]=t[r]-s+256&255}return i}function hk(t,e,n){var i=t.length,r=[];r[0]=2;for(var s=0;s<i;s+=1){var a=n&&n[s]||0;r[s+1]=t[s]-a+256&255}return r}function dk(t,e,n){var i=t.length,r=[];r[0]=3;for(var s=0;s<i;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;r[s+1]=t[s]+256-(a+o>>>1)&255}return r}function fk(t,e,n){var i=t.length,r=[];r[0]=4;for(var s=0;s<i;s+=1){var a=Vte(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);r[s+1]=t[s]-a+256&255}return r}function Vte(t,e,n){if(t===e&&e===n)return t;var i=Math.abs(e-n),r=Math.abs(t-n),s=Math.abs(t+e-n-n);return i<=r&&i<=s?t:r<=s?e:n}function Hte(t){var e=t.map(function(n){return n.reduce(function(i,r){return i+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function uv(t,e,n){var i=e*n,r=Math.floor(i/8),s=16-(i-8*r+n),a=(1<<n)-1;return CT(t,r)>>s&a}function pk(t,e,n,i){var r=n*i,s=Math.floor(r/8),a=16-(r-8*s+i),o=(1<<i)-1,l=(e&o)<<a;(function(c,d,g){if(d+1<c.byteLength)c.setUint16(d,g,!1);else{var m=g>>8&255;c.setUint8(d,m)}})(t,s,CT(t,s)&~(o<<a)&65535|l)}function CT(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Gte(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,r=t[e++],s=r>>7,a=1<<1+(7&r);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,d=[],g=0,m=null,p=0,y=null;for(this.width=n,this.height=i;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];g=t[e++]|t[e++]<<8,m=t[e++],1&b||(m=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,k=t[e++],E=k>>6&1,I=1<<1+(7&k),U=o,R=l,B=!1;k>>7&&(B=!0,U=e,R=I,e+=3*I);var O=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}d.push({x:N,y:S,width:j,height:w,has_local_palette:B,palette_offset:U,palette_size:R,data_offset:O,data_length:e-O,transparent_index:m,interlaced:!!E,delay:g,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(M){if(M<0||M>=d.length)throw new Error("Frame index out of range.");return d[M]},this.decodeAndBlitFrameBGRA=function(M,G){var W=this.frameInfo(M),Z=W.width*W.height,ce=new Uint8Array(Z);gk(t,W.data_offset,ce,Z);var pe=W.palette_offset,J=W.transparent_index;J===null&&(J=256);var ee=W.width,he=n-ee,se=ee,F=4*(W.y*n+W.x),q=4*((W.y+W.height)*n+W.x),re=F,oe=4*he;W.interlaced===!0&&(oe+=4*n*7);for(var de=8,X=0,fe=ce.length;X<fe;++X){var xe=ce[X];if(se===0&&(se=ee,(re+=oe)>=q&&(oe=4*he+4*n*(de-1),re=F+(ee+he)*(de<<1),de>>=1)),xe===J)re+=4;else{var Ce=t[pe+3*xe],Le=t[pe+3*xe+1],Ue=t[pe+3*xe+2];G[re++]=Ue,G[re++]=Le,G[re++]=Ce,G[re++]=255}--se}},this.decodeAndBlitFrameRGBA=function(M,G){var W=this.frameInfo(M),Z=W.width*W.height,ce=new Uint8Array(Z);gk(t,W.data_offset,ce,Z);var pe=W.palette_offset,J=W.transparent_index;J===null&&(J=256);var ee=W.width,he=n-ee,se=ee,F=4*(W.y*n+W.x),q=4*((W.y+W.height)*n+W.x),re=F,oe=4*he;W.interlaced===!0&&(oe+=4*n*7);for(var de=8,X=0,fe=ce.length;X<fe;++X){var xe=ce[X];if(se===0&&(se=ee,(re+=oe)>=q&&(oe=4*he+4*n*(de-1),re=F+(ee+he)*(de<<1),de>>=1)),xe===J)re+=4;else{var Ce=t[pe+3*xe],Le=t[pe+3*xe+1],Ue=t[pe+3*xe+2];G[re++]=Ce,G[re++]=Le,G[re++]=Ue,G[re++]=255}--se}}}function gk(t,e,n,i){for(var r=t[e++],s=1<<r,a=s+1,o=a+1,l=r+1,c=(1<<l)-1,d=0,g=0,m=0,p=t[e++],y=new Int32Array(4096),b=null;;){for(;d<16&&p!==0;)g|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<l)break;var N=g&c;if(g>>=l,d-=l,N!==s){if(N===a)break;for(var S=N<o?N:b,j=0,w=S;w>s;)w=y[w]>>8,++j;var k=w;if(m+j+(S!==N?1:0)>i)return void In.log("Warning, gif stream longer than expected.");n[m++]=k;var E=m+=j;for(S!==N&&(n[m++]=k),w=S;j--;)w=y[w],n[--E]=255&w,w>>=8;b!==null&&o<4096&&(y[o++]=b<<8|k,o>=c+1&&l<12&&(++l,c=c<<1|1)),b=N}else o=a+1,c=(1<<(l=r+1))-1,b=null}return m!==i&&In.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function hv(t){var e,n,i,r,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),g=new Array(65535),m=new Array(65535),p=new Array(64),y=new Array(64),b=[],N=0,S=7,j=new Array(64),w=new Array(64),k=new Array(64),E=new Array(256),I=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(F,q){for(var re=0,oe=0,de=new Array,X=1;X<=16;X++){for(var fe=1;fe<=F[X];fe++)de[q[oe]]=[],de[q[oe]][0]=re,de[q[oe]][1]=X,oe++,re++;re*=2}return de}function pe(F){for(var q=F[0],re=F[1]-1;re>=0;)q&1<<re&&(N|=1<<S),re--,--S<0&&(N==255?(J(255),J(0)):J(N),S=7,N=0)}function J(F){b.push(F)}function ee(F){J(F>>8&255),J(255&F)}function he(F,q,re,oe,de){for(var X,fe=de[0],xe=de[240],Ce=function(Ie,Je){var Ze,mt,Te,We,$e,ut,At,xt,et,wt,tt=0;for(et=0;et<8;++et){Ze=Ie[tt],mt=Ie[tt+1],Te=Ie[tt+2],We=Ie[tt+3],$e=Ie[tt+4],ut=Ie[tt+5],At=Ie[tt+6];var jn=Ze+(xt=Ie[tt+7]),en=Ze-xt,Ht=mt+At,Gt=mt-At,zn=Te+ut,yt=Te-ut,Tn=We+$e,Nt=We-$e,Ot=jn+Tn,Un=jn-Tn,qt=Ht+zn,_t=Ht-zn;Ie[tt]=Ot+qt,Ie[tt+4]=Ot-qt;var pn=.707106781*(_t+Un);Ie[tt+2]=Un+pn,Ie[tt+6]=Un-pn;var qo=.382683433*((Ot=Nt+yt)-(_t=Gt+en)),ar=.5411961*Ot+qo,qs=1.306562965*_t+qo,$s=.707106781*(qt=yt+Gt),bt=en+$s,to=en-$s;Ie[tt+5]=to+ar,Ie[tt+3]=to-ar,Ie[tt+1]=bt+qs,Ie[tt+7]=bt-qs,tt+=8}for(tt=0,et=0;et<8;++et){Ze=Ie[tt],mt=Ie[tt+8],Te=Ie[tt+16],We=Ie[tt+24],$e=Ie[tt+32],ut=Ie[tt+40],At=Ie[tt+48];var no=Ze+(xt=Ie[tt+56]),Ss=Ze-xt,os=mt+At,Vn=mt-At,Hi=Te+ut,qi=Te-ut,va=We+$e,$o=We-$e,Ks=no+va,ba=no-va,Xs=os+Hi,Ys=os-Hi;Ie[tt]=Ks+Xs,Ie[tt+32]=Ks-Xs;var Ns=.707106781*(Ys+ba);Ie[tt+16]=ba+Ns,Ie[tt+48]=ba-Ns;var bl=.382683433*((Ks=$o+qi)-(Ys=Vn+Ss)),wa=.5411961*Ks+bl,wl=1.306562965*Ys+bl,vc=.707106781*(Xs=qi+Vn),bc=Ss+vc,wc=Ss-vc;Ie[tt+40]=wc+wa,Ie[tt+24]=wc-wa,Ie[tt+8]=bc+wl,Ie[tt+56]=bc-wl,tt++}for(et=0;et<64;++et)wt=Ie[et]*Je[et],p[et]=wt>0?wt+.5|0:wt-.5|0;return p}(F,q),Le=0;Le<64;++Le)y[U[Le]]=Ce[Le];var Ue=y[0]-re;re=y[0],Ue==0?pe(oe[0]):(pe(oe[m[X=32767+Ue]]),pe(g[X]));for(var ze=63;ze>0&&y[ze]==0;)ze--;if(ze==0)return pe(fe),re;for(var Ke,te=1;te<=ze;){for(var Ge=te;y[te]==0&&te<=ze;)++te;var vt=te-Ge;if(vt>=16){Ke=vt>>4;for(var ht=1;ht<=Ke;++ht)pe(xe);vt&=15}X=32767+y[te],pe(de[(vt<<4)+m[X]]),pe(g[X]),te++}return ze!=63&&pe(fe),re}function se(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(q){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var de=a((re[oe]*q+50)/100);de=Math.min(Math.max(de,1),255),o[U[oe]]=de}for(var X=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var xe=a((X[fe]*q+50)/100);xe=Math.min(Math.max(xe,1),255),l[U[fe]]=xe}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Ue=0;Ue<8;Ue++)for(var ze=0;ze<8;ze++)c[Le]=1/(o[U[Le]]*Ce[Ue]*Ce[ze]*8),d[Le]=1/(l[U[Le]]*Ce[Ue]*Ce[ze]*8),Le++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,q){q&&se(q),b=new Array,N=0,S=7,ee(65496),ee(65504),ee(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),ee(1),ee(1),J(0),J(0),function(){ee(65499),ee(132),J(0);for(var mt=0;mt<64;mt++)J(o[mt]);J(1);for(var Te=0;Te<64;Te++)J(l[Te])}(),function(mt,Te){ee(65472),ee(17),J(8),ee(Te),ee(mt),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(F.width,F.height),function(){ee(65476),ee(418),J(0);for(var mt=0;mt<16;mt++)J(R[mt+1]);for(var Te=0;Te<=11;Te++)J(B[Te]);J(16);for(var We=0;We<16;We++)J(O[We+1]);for(var $e=0;$e<=161;$e++)J(P[$e]);J(1);for(var ut=0;ut<16;ut++)J(M[ut+1]);for(var At=0;At<=11;At++)J(G[At]);J(17);for(var xt=0;xt<16;xt++)J(W[xt+1]);for(var et=0;et<=161;et++)J(Z[et])}(),ee(65498),ee(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var re=0,oe=0,de=0;N=0,S=7,this.encode.displayName="_encode_";for(var X,fe,xe,Ce,Le,Ue,ze,Ke,te,Ge=F.data,vt=F.width,ht=F.height,Ie=4*vt,Je=0;Je<ht;){for(X=0;X<Ie;){for(Le=Ie*Je+X,ze=-1,Ke=0,te=0;te<64;te++)Ue=Le+(Ke=te>>3)*Ie+(ze=4*(7&te)),Je+Ke>=ht&&(Ue-=Ie*(Je+1+Ke-ht)),X+ze>=Ie&&(Ue-=X+ze-Ie+4),fe=Ge[Ue++],xe=Ge[Ue++],Ce=Ge[Ue++],j[te]=(I[fe]+I[xe+256|0]+I[Ce+512|0]>>16)-128,w[te]=(I[fe+768|0]+I[xe+1024|0]+I[Ce+1280|0]>>16)-128,k[te]=(I[fe+1280|0]+I[xe+1536|0]+I[Ce+1792|0]>>16)-128;re=he(j,c,re,e,i),oe=he(w,d,oe,n,r),de=he(k,d,de,n,r),X+=32}Je+=8}if(S>=0){var Ze=[];Ze[1]=S+1,Ze[0]=(1<<S+1)-1,pe(Ze)}return ee(65497),new Uint8Array(b)},t=t||50,function(){for(var F=String.fromCharCode,q=0;q<256;q++)E[q]=F(q)}(),e=ce(R,B),n=ce(M,G),i=ce(O,P),r=ce(W,Z),function(){for(var F=1,q=2,re=1;re<=15;re++){for(var oe=F;oe<q;oe++)m[32767+oe]=re,g[32767+oe]=[],g[32767+oe][1]=re,g[32767+oe][0]=oe;for(var de=-(q-1);de<=-F;de++)m[32767+de]=re,g[32767+de]=[],g[32767+de][1]=re,g[32767+de][0]=q-1+de;F<<=1,q<<=1}}(),function(){for(var F=0;F<256;F++)I[F]=19595*F,I[F+256|0]=38470*F,I[F+512|0]=7471*F+32768,I[F+768|0]=-11059*F,I[F+1024|0]=-21709*F,I[F+1280|0]=32768*F+8421375,I[F+1536|0]=-27439*F,I[F+1792|0]=-5329*F}(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ao(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function mk(t){function e(B){if(!B)throw Error("assert :P")}function n(B,O,P){for(var M=0;4>M;M++)if(B[O+M]!=P.charCodeAt(M))return!0;return!1}function i(B,O,P,M,G){for(var W=0;W<G;W++)B[O+W]=P[M+W]}function r(B,O,P,M){for(var G=0;G<M;G++)B[O+G]=P}function s(B){return new Int32Array(B)}function a(B,O){for(var P=[],M=0;M<B;M++)P.push(new O);return P}function o(B,O){var P=[];return function M(G,W,Z){for(var ce=Z[W],pe=0;pe<ce&&(G.push(Z.length>W+1?[]:new O),!(Z.length<W+1));pe++)M(G[pe],W+1,Z)}(P,0,B),P}var l=function(){var B=this;function O(x,_){for(var T=1<<_-1>>>0;x&T;)T>>>=1;return T?(x&T-1)+T:x}function P(x,_,T,D,V){e(!(D%T));do x[_+(D-=T)]=V;while(0<D)}function M(x,_,T,D,V){if(e(2328>=V),512>=V)var $=s(512);else if(($=s(V))==null)return 0;return function(K,Q,ne,le,me,ke){var ae,ye,Ne=Q,Me=1<<ne,_e=s(16),Oe=s(16);for(e(me!=0),e(le!=null),e(K!=null),e(0<ne),ye=0;ye<me;++ye){if(15<le[ye])return 0;++_e[le[ye]]}if(_e[0]==me)return 0;for(Oe[1]=0,ae=1;15>ae;++ae){if(_e[ae]>1<<ae)return 0;Oe[ae+1]=Oe[ae]+_e[ae]}for(ye=0;ye<me;++ye)ae=le[ye],0<le[ye]&&(ke[Oe[ae]++]=ye);if(Oe[15]==1)return(le=new G).g=0,le.value=ke[0],P(K,Ne,1,Me,le),Me;var be,Be=-1,De=Me-1,dt=0,rt=1,Tt=1,st=1<<ne;for(ye=0,ae=1,me=2;ae<=ne;++ae,me<<=1){if(rt+=Tt<<=1,0>(Tt-=_e[ae]))return 0;for(;0<_e[ae];--_e[ae])(le=new G).g=ae,le.value=ke[ye++],P(K,Ne+dt,me,st,le),dt=O(dt,ae)}for(ae=ne+1,me=2;15>=ae;++ae,me<<=1){if(rt+=Tt<<=1,0>(Tt-=_e[ae]))return 0;for(;0<_e[ae];--_e[ae]){if(le=new G,(dt&De)!=Be){for(Ne+=st,be=1<<(Be=ae)-ne;15>Be&&!(0>=(be-=_e[Be]));)++Be,be<<=1;Me+=st=1<<(be=Be-ne),K[Q+(Be=dt&De)].g=be+ne,K[Q+Be].value=Ne-Q-Be}le.g=ae-ne,le.value=ke[ye++],P(K,Ne+(dt>>ne),me,st,le),dt=O(dt,ae)}}return rt!=2*Oe[15]-1?0:Me}(x,_,T,D,V,$)}function G(){this.value=this.g=0}function W(){this.value=this.g=0}function Z(){this.G=a(5,G),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Br,W)}function ce(x,_,T,D){e(x!=null),e(_!=null),e(2147483648>D),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=_,x.pa=T,x.Jd=_,x.Yc=T+D,x.Zc=4<=D?T+D-4+1:T,fe(x)}function pe(x,_){for(var T=0;0<_--;)T|=Ce(x,128)<<_;return T}function J(x,_){var T=pe(x,_);return xe(x)?-T:T}function ee(x,_,T,D){var V,$=0;for(e(x!=null),e(_!=null),e(4294967288>D),x.Sb=D,x.Ra=0,x.u=0,x.h=0,4<D&&(D=4),V=0;V<D;++V)$+=_[T+V]<<8*V;x.Ra=$,x.bb=D,x.oa=_,x.pa=T}function he(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<lr-8>>>0,++x.bb,x.u-=8;oe(x)&&(x.h=1,x.u=0)}function se(x,_){if(e(0<=_),!x.h&&_<=zr){var T=re(x)&_r[_];return x.u+=_,he(x),T}return x.h=1,x.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function re(x){return x.Ra>>>(x.u&lr-1)>>>0}function oe(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>lr}function de(x,_){x.u=_,x.h=oe(x)}function X(x){x.u>=cr&&(e(x.u>=cr),he(x))}function fe(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function xe(x){return pe(x,1)}function Ce(x,_){var T=x.Ca;0>x.b&&fe(x);var D=x.b,V=T*_>>>8,$=(x.I>>>D>V)+0;for($?(T-=V,x.I-=V+1<<D>>>0):T=V+1,D=T,V=0;256<=D;)V+=8,D>>=8;return D=7^V+ta[D],x.b-=D,x.Ca=(T<<D)-1,$}function Le(x,_,T){x[_+0]=T>>24&255,x[_+1]=T>>16&255,x[_+2]=T>>8&255,x[_+3]=255&T}function Ue(x,_){return x[_+0]|x[_+1]<<8}function ze(x,_){return Ue(x,_)|x[_+2]<<16}function Ke(x,_){return Ue(x,_)|Ue(x,_+2)<<16}function te(x,_){var T=1<<_;return e(x!=null),e(0<_),x.X=s(T),x.X==null?0:(x.Mb=32-_,x.Xa=_,1)}function Ge(x,_){e(x!=null),e(_!=null),e(x.Xa==_.Xa),i(_.X,0,x.X,0,1<<_.Xa)}function vt(){this.X=[],this.Xa=this.Mb=0}function ht(x,_,T,D){e(T!=null),e(D!=null);var V=T[0],$=D[0];return V==0&&(V=(x*$+_/2)/_),$==0&&($=(_*V+x/2)/x),0>=V||0>=$?0:(T[0]=V,D[0]=$,1)}function Ie(x,_){return x+(1<<_)-1>>>_}function Je(x,_){return((4278255360&x)+(4278255360&_)>>>0&4278255360)+((16711935&x)+(16711935&_)>>>0&16711935)>>>0}function Ze(x,_){B[_]=function(T,D,V,$,K,Q,ne){var le;for(le=0;le<K;++le){var me=B[x](Q[ne+le-1],V,$+le);Q[ne+le]=Je(T[D+le],me)}}}function mt(){this.ud=this.hd=this.jd=0}function Te(x,_){return((4278124286&(x^_))>>>1)+(x&_)>>>0}function We(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function $e(x,_){return We(x+(x-_+.5>>1))}function ut(x,_,T){return Math.abs(_-T)-Math.abs(x-T)}function At(x,_,T,D,V,$,K){for(D=$[K-1],T=0;T<V;++T)$[K+T]=D=Je(x[_+T],D)}function xt(x,_,T,D,V){var $;for($=0;$<T;++$){var K=x[_+$],Q=K>>8&255,ne=16711935&(ne=(ne=16711935&K)+((Q<<16)+Q));D[V+$]=(4278255360&K)+ne>>>0}}function et(x,_){_.jd=255&x,_.hd=x>>8&255,_.ud=x>>16&255}function wt(x,_,T,D,V,$){var K;for(K=0;K<D;++K){var Q=_[T+K],ne=Q>>>8,le=Q,me=255&(me=(me=Q>>>16)+((x.jd<<24>>24)*(ne<<24>>24)>>>5));le=255&(le=(le+=(x.hd<<24>>24)*(ne<<24>>24)>>>5)+((x.ud<<24>>24)*(me<<24>>24)>>>5)),V[$+K]=(4278255360&Q)+(me<<16)+le}}function tt(x,_,T,D,V){B[_]=function($,K,Q,ne,le,me,ke,ae,ye){for(ne=ke;ne<ae;++ne)for(ke=0;ke<ye;++ke)le[me++]=V(Q[D($[K++])])},B[x]=function($,K,Q,ne,le,me,ke){var ae=8>>$.b,ye=$.Ea,Ne=$.K[0],Me=$.w;if(8>ae)for($=(1<<$.b)-1,Me=(1<<ae)-1;K<Q;++K){var _e,Oe=0;for(_e=0;_e<ye;++_e)_e&$||(Oe=D(ne[le++])),me[ke++]=V(Ne[Oe&Me]),Oe>>=ae}else B["VP8LMapColor"+T](ne,le,Ne,Me,me,ke,K,Q,ye)}}function jn(x,_,T,D,V){for(T=_+T;_<T;){var $=x[_++];D[V++]=$>>16&255,D[V++]=$>>8&255,D[V++]=255&$}}function en(x,_,T,D,V){for(T=_+T;_<T;){var $=x[_++];D[V++]=$>>16&255,D[V++]=$>>8&255,D[V++]=255&$,D[V++]=$>>24&255}}function Ht(x,_,T,D,V){for(T=_+T;_<T;){var $=(K=x[_++])>>16&240|K>>12&15,K=240&K|K>>28&15;D[V++]=$,D[V++]=K}}function Gt(x,_,T,D,V){for(T=_+T;_<T;){var $=(K=x[_++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;D[V++]=$,D[V++]=K}}function zn(x,_,T,D,V){for(T=_+T;_<T;){var $=x[_++];D[V++]=255&$,D[V++]=$>>8&255,D[V++]=$>>16&255}}function yt(x,_,T,D,V,$){if($==0)for(T=_+T;_<T;)Le(D,(($=x[_++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),V+=32;else i(D,V,x,_,T)}function Tn(x,_){B[_][0]=B[x+"0"],B[_][1]=B[x+"1"],B[_][2]=B[x+"2"],B[_][3]=B[x+"3"],B[_][4]=B[x+"4"],B[_][5]=B[x+"5"],B[_][6]=B[x+"6"],B[_][7]=B[x+"7"],B[_][8]=B[x+"8"],B[_][9]=B[x+"9"],B[_][10]=B[x+"10"],B[_][11]=B[x+"11"],B[_][12]=B[x+"12"],B[_][13]=B[x+"13"],B[_][14]=B[x+"0"],B[_][15]=B[x+"0"]}function Nt(x){return x==gd||x==Hu||x==Gu||x==md}function Ot(){this.eb=[],this.size=this.A=this.fb=0}function Un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ot,this.f.kb=new Un,this.sd=null}function _t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function pn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qo(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function ar(x,_){var T=x.T,D=_.ba.f.RGBA,V=D.eb,$=D.fb+x.ka*D.A,K=ms[_.ba.S],Q=x.y,ne=x.O,le=x.f,me=x.N,ke=x.ea,ae=x.W,ye=_.cc,Ne=_.dc,Me=_.Mc,_e=_.Nc,Oe=x.ka,be=x.ka+x.T,Be=x.U,De=Be+1>>1;for(Oe==0?K(Q,ne,null,null,le,me,ke,ae,le,me,ke,ae,V,$,null,null,Be):(K(_.ec,_.fc,Q,ne,ye,Ne,Me,_e,le,me,ke,ae,V,$-D.A,V,$,Be),++T);Oe+2<be;Oe+=2)ye=le,Ne=me,Me=ke,_e=ae,me+=x.Rc,ae+=x.Rc,$+=2*D.A,K(Q,(ne+=2*x.fa)-x.fa,Q,ne,ye,Ne,Me,_e,le,me,ke,ae,V,$-D.A,V,$,Be);return ne+=x.fa,x.j+be<x.o?(i(_.ec,_.fc,Q,ne,Be),i(_.cc,_.dc,le,me,De),i(_.Mc,_.Nc,ke,ae,De),T--):1&be||K(Q,ne,null,null,le,me,ke,ae,le,me,ke,ae,V,$+D.A,null,null,Be),T}function qs(x,_,T){var D=x.F,V=[x.J];if(D!=null){var $=x.U,K=_.ba.S,Q=K==Vu||K==Gu;_=_.ba.f.RGBA;var ne=[0],le=x.ka;ne[0]=x.T,x.Kb&&(le==0?--ne[0]:(--le,V[0]-=x.width),x.j+x.ka+x.T==x.o&&(ne[0]=x.o-x.j-le));var me=_.eb;le=_.fb+le*_.A,x=dd(D,V[0],x.width,$,ne,me,le+(Q?0:3),_.A),e(T==ne),x&&Nt(K)&&vo(me,le,Q,$,ne,_.A)}return 0}function $s(x){var _=x.ma,T=_.ba.S,D=11>T,V=T==Il||T==Ac||T==Vu||T==pd||T==12||Nt(T);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Fl(_.Oa,x,V?11:12))return 0;if(V&&Nt(T)&&co(),x.da)alert("todo:use_scaling");else{if(D){if(_.Ib=qo,x.Kb){if(T=x.U+1>>1,_.memory=s(x.U+2*T),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+x.U,_.Mc=_.cc,_.Nc=_.dc+T,_.Ib=ar,co()}}else alert("todo:EmitYUV");V&&(_.Jb=qs,D&&Ir())}if(D&&!_0){for(x=0;256>x;++x)S0[x]=89858*(x-128)+$u>>qu,N0[x]=-22014*(x-128)+$u,Yg[x]=-45773*(x-128),Xg[x]=113618*(x-128)+$u>>qu;for(x=Lc;x<vd;++x)_=76283*(x-16)+$u>>qu,k0[x-Lc]=tn(_,255),Qg[x-Lc]=tn(_+8>>4,15);_0=1}return 1}function bt(x){var _=x.ma,T=x.U,D=x.T;return e(!(1&x.ka)),0>=T||0>=D?0:(T=_.Ib(x,_),_.Jb!=null&&_.Jb(x,_,T),_.Dc+=T,1)}function to(x){x.ma.memory=null}function no(x,_,T,D){return se(x,8)!=47?0:(_[0]=se(x,14)+1,T[0]=se(x,14)+1,D[0]=se(x,1),se(x,3)!=0?0:!x.h)}function Ss(x,_){if(4>x)return x+1;var T=x-2>>1;return(2+(1&x)<<T)+se(_,T)+1}function os(x,_){return 120<_?_-120:1<=(T=((T=Ig[_-1])>>4)*x+(8-(15&T)))?T:1;var T}function Vn(x,_,T){var D=re(T),V=x[_+=255&D].g-8;return 0<V&&(de(T,T.u+8),D=re(T),_+=x[_].value,_+=D&(1<<V)-1),de(T,T.u+x[_].g),x[_].value}function Hi(x,_,T){return T.g+=x.g,T.value+=x.value<<_>>>0,e(8>=T.g),x.g}function qi(x,_,T){var D=x.xc;return e((_=D==0?0:x.vc[x.md*(T>>D)+(_>>D)])<x.Wb),x.Ya[_]}function va(x,_,T,D){var V=x.ab,$=x.c*_,K=x.C;_=K+_;var Q=T,ne=D;for(D=x.Ta,T=x.Ua;0<V--;){var le=x.gc[V],me=K,ke=_,ae=Q,ye=ne,Ne=(ne=D,Q=T,le.Ea);switch(e(me<ke),e(ke<=le.nc),le.hc){case 2:si(ae,ye,(ke-me)*Ne,ne,Q);break;case 0:var Me=me,_e=ke,Oe=ne,be=Q,Be=(st=le).Ea;Me==0&&(jc(ae,ye,null,null,1,Oe,be),At(ae,ye+1,0,0,Be-1,Oe,be+1),ye+=Be,be+=Be,++Me);for(var De=1<<st.b,dt=De-1,rt=Ie(Be,st.b),Tt=st.K,st=st.w+(Me>>st.b)*rt;Me<_e;){var Xt=Tt,_i=st,It=1;for(go(ae,ye,Oe,be-Be,1,Oe,be);It<Be;){var ot=(It&~dt)+De;ot>Be&&(ot=Be),(0,Vr[Xt[_i++]>>8&15])(ae,ye+ +It,Oe,be+It-Be,ot-It,Oe,be+It),It=ot}ye+=Be,be+=Be,++Me&dt||(st+=rt)}ke!=le.nc&&i(ne,Q-Ne,ne,Q+(ke-me-1)*Ne,Ne);break;case 1:for(Ne=ae,_e=ye,Be=(ae=le.Ea)-(be=ae&~(Oe=(ye=1<<le.b)-1)),Me=Ie(ae,le.b),De=le.K,le=le.w+(me>>le.b)*Me;me<ke;){for(dt=De,rt=le,Tt=new mt,st=_e+be,Xt=_e+ae;_e<st;)et(dt[rt++],Tt),Ol(Tt,Ne,_e,ye,ne,Q),_e+=ye,Q+=ye;_e<Xt&&(et(dt[rt++],Tt),Ol(Tt,Ne,_e,Be,ne,Q),_e+=Be,Q+=Be),++me&Oe||(le+=Me)}break;case 3:if(ae==ne&&ye==Q&&0<le.b){for(_e=ne,ae=Ne=Q+(ke-me)*Ne-(be=(ke-me)*Ie(le.Ea,le.b)),ye=ne,Oe=Q,Me=[],be=(Be=be)-1;0<=be;--be)Me[be]=ye[Oe+be];for(be=Be-1;0<=be;--be)_e[ae+be]=Me[be];Jo(le,me,ke,ne,Ne,ne,Q)}else Jo(le,me,ke,ae,ye,ne,Q)}Q=D,ne=T}ne!=T&&i(D,T,Q,ne,$)}function $o(x,_){var T=x.V,D=x.Ba+x.c*x.C,V=_-x.C;if(e(_<=x.l.o),e(16>=V),0<V){var $=x.l,K=x.Ta,Q=x.Ua,ne=$.width;if(va(x,V,T,D),V=Q=[Q],e((T=x.C)<(D=_)),e($.v<$.va),D>$.o&&(D=$.o),T<$.j){var le=$.j-T;T=$.j,V[0]+=le*ne}if(T>=D?T=0:(V[0]+=4*$.v,$.ka=T-$.j,$.U=$.va-$.v,$.T=D-T,T=1),T){if(Q=Q[0],11>(T=x.ca).S){var me=T.f.RGBA,ke=(D=T.S,V=$.U,$=$.T,le=me.eb,me.A),ae=$;for(me=me.fb+x.Ma*me.A;0<ae--;){var ye=K,Ne=Q,Me=V,_e=le,Oe=me;switch(D){case Dl:Pa(ye,Ne,Me,_e,Oe);break;case Il:mo(ye,Ne,Me,_e,Oe);break;case gd:mo(ye,Ne,Me,_e,Oe),vo(_e,Oe,0,Me,1,0);break;case g0:Ta(ye,Ne,Me,_e,Oe);break;case Ac:yt(ye,Ne,Me,_e,Oe,1);break;case Hu:yt(ye,Ne,Me,_e,Oe,1),vo(_e,Oe,0,Me,1,0);break;case Vu:yt(ye,Ne,Me,_e,Oe,0);break;case Gu:yt(ye,Ne,Me,_e,Oe,0),vo(_e,Oe,1,Me,1,0);break;case pd:La(ye,Ne,Me,_e,Oe);break;case md:La(ye,Ne,Me,_e,Oe),hd(_e,Oe,Me,1,0);break;case m0:xn(ye,Ne,Me,_e,Oe);break;default:e(0)}Q+=ne,me+=ke}x.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=T.height)}}x.C=_,e(x.C<=x.i)}function Ks(x){var _;if(0<x.ua)return 0;for(_=0;_<x.Wb;++_){var T=x.Ya[_].G,D=x.Ya[_].H;if(0<T[1][D[1]+0].g||0<T[2][D[2]+0].g||0<T[3][D[3]+0].g)return 0}return 1}function ba(x,_,T,D,V,$){if(x.Z!=0){var K=x.qd,Q=x.rd;for(e(bo[x.Z]!=null);_<T;++_)bo[x.Z](K,Q,D,V,D,V,$),K=D,Q=V,V+=$;x.qd=K,x.rd=Q}}function Xs(x,_){var T=x.l.ma,D=T.Z==0||T.Z==1?x.l.j:x.C;if(D=x.C<D?D:x.C,e(_<=x.l.o),_>D){var V=x.l.width,$=T.ca,K=T.tb+V*D,Q=x.V,ne=x.Ba+x.c*D,le=x.gc;e(x.ab==1),e(le[0].hc==3),Ur(le[0],D,_,Q,ne,$,K),ba(T,D,_,$,K,V)}x.C=x.Ma=_}function Ys(x,_,T,D,V,$,K){var Q=x.$/D,ne=x.$%D,le=x.m,me=x.s,ke=T+x.$,ae=ke;V=T+D*V;var ye=T+D*$,Ne=280+me.ua,Me=x.Pb?Q:16777216,_e=0<me.ua?me.Wa:null,Oe=me.wc,be=ke<ye?qi(me,ne,Q):null;e(x.C<$),e(ye<=V);var Be=!1;e:for(;;){for(;Be||ke<ye;){var De=0;if(Q>=Me){var dt=ke-T;e((Me=x).Pb),Me.wd=Me.m,Me.xd=dt,0<Me.s.ua&&Ge(Me.s.Wa,Me.s.vb),Me=Q+zg}if(ne&Oe||(be=qi(me,ne,Q)),e(be!=null),be.Qb&&(_[ke]=be.qb,Be=!0),!Be)if(X(le),be.jc){De=le,dt=_;var rt=ke,Tt=be.pd[re(De)&Br-1];e(be.jc),256>Tt.g?(de(De,De.u+Tt.g),dt[rt]=Tt.value,De=0):(de(De,De.u+Tt.g-256),e(256<=Tt.value),De=Tt.value),De==0&&(Be=!0)}else De=Vn(be.G[0],be.H[0],le);if(le.h)break;if(Be||256>De){if(!Be)if(be.nd)_[ke]=(be.qb|De<<8)>>>0;else{if(X(le),Be=Vn(be.G[1],be.H[1],le),X(le),dt=Vn(be.G[2],be.H[2],le),rt=Vn(be.G[3],be.H[3],le),le.h)break;_[ke]=(rt<<24|Be<<16|De<<8|dt)>>>0}if(Be=!1,++ke,++ne>=D&&(ne=0,++Q,K!=null&&Q<=$&&!(Q%16)&&K(x,Q),_e!=null))for(;ae<ke;)De=_[ae++],_e.X[(506832829*De&4294967295)>>>_e.Mb]=De}else if(280>De){if(De=Ss(De-256,le),dt=Vn(be.G[4],be.H[4],le),X(le),dt=os(D,dt=Ss(dt,le)),le.h)break;if(ke-T<dt||V-ke<De)break e;for(rt=0;rt<De;++rt)_[ke+rt]=_[ke+rt-dt];for(ke+=De,ne+=De;ne>=D;)ne-=D,++Q,K!=null&&Q<=$&&!(Q%16)&&K(x,Q);if(e(ke<=V),ne&Oe&&(be=qi(me,ne,Q)),_e!=null)for(;ae<ke;)De=_[ae++],_e.X[(506832829*De&4294967295)>>>_e.Mb]=De}else{if(!(De<Ne))break e;for(Be=De-280,e(_e!=null);ae<ke;)De=_[ae++],_e.X[(506832829*De&4294967295)>>>_e.Mb]=De;De=ke,e(!(Be>>>(dt=_e).Xa)),_[De]=dt.X[Be],Be=!0}Be||e(le.h==oe(le))}if(x.Pb&&le.h&&ke<V)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Ge(x.s.vb,x.s.Wa);else{if(le.h)break e;K!=null&&K(x,Q>$?$:Q),x.a=0,x.$=ke-T}return 1}return x.a=3,0}function Ns(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var _=x.Wa;_!=null&&(_.X=null),x.vb=null,e(x!=null)}function bl(){var x=new jt;return x==null?null:(x.a=0,x.xb=Gg,Tn("Predictor","VP8LPredictors"),Tn("Predictor","VP8LPredictors_C"),Tn("PredictorAdd","VP8LPredictorsAdd"),Tn("PredictorAdd","VP8LPredictorsAdd_C"),si=xt,Ol=wt,Pa=jn,mo=en,La=Ht,xn=Gt,Ta=zn,B.VP8LMapColor32b=hi,B.VP8LMapColor8b=Aa,x)}function wa(x,_,T,D,V){var $=1,K=[x],Q=[_],ne=D.m,le=D.s,me=null,ke=0;e:for(;;){if(T)for(;$&&se(ne,1);){var ae=K,ye=Q,Ne=D,Me=1,_e=Ne.m,Oe=Ne.gc[Ne.ab],be=se(_e,2);if(Ne.Oc&1<<be)$=0;else{switch(Ne.Oc|=1<<be,Oe.hc=be,Oe.Ea=ae[0],Oe.nc=ye[0],Oe.K=[null],++Ne.ab,e(4>=Ne.ab),be){case 0:case 1:Oe.b=se(_e,3)+2,Me=wa(Ie(Oe.Ea,Oe.b),Ie(Oe.nc,Oe.b),0,Ne,Oe.K),Oe.K=Oe.K[0];break;case 3:var Be,De=se(_e,8)+1,dt=16<De?0:4<De?1:2<De?2:3;if(ae[0]=Ie(Oe.Ea,dt),Oe.b=dt,Be=Me=wa(De,1,0,Ne,Oe.K)){var rt,Tt=De,st=Oe,Xt=1<<(8>>st.b),_i=s(Xt);if(_i==null)Be=0;else{var It=st.K[0],ot=st.w;for(_i[0]=st.K[0][0],rt=1;rt<1*Tt;++rt)_i[rt]=Je(It[ot+rt],_i[rt-1]);for(;rt<4*Xt;++rt)_i[rt]=0;st.K[0]=null,st.K[0]=_i,Be=1}}Me=Be;break;case 2:break;default:e(0)}$=Me}}if(K=K[0],Q=Q[0],$&&se(ne,1)&&!($=1<=(ke=se(ne,4))&&11>=ke)){D.a=3;break e}var qe;if(qe=$)t:{var Xn,ft,Mt,an=D,Ri=K,dr=Q,dn=ke,Yi=T,Hn=an.m,Fi=an.s,on=[null],yn=1,Yn=0,vn=Bg[dn];n:for(;;){if(Yi&&se(Hn,1)){var Si=se(Hn,3)+2,Hr=Ie(Ri,Si),Gn=Ie(dr,Si),Qi=Hr*Gn;if(!wa(Hr,Gn,0,an,on))break n;for(on=on[0],Fi.xc=Si,Xn=0;Xn<Qi;++Xn){var bn=on[Xn]>>8&65535;on[Xn]=bn,bn>=yn&&(yn=bn+1)}}if(Hn.h)break n;for(ft=0;5>ft;++ft){var Qn=x0[ft];!ft&&0<dn&&(Qn+=1<<dn),Yn<Qn&&(Yn=Qn)}var kr=a(yn*vn,G),Ji=yn,Cr=a(Ji,Z);if(Cr==null)var Gr=null;else e(65536>=Ji),Gr=Cr;var fr=s(Yn);if(Gr==null||fr==null||kr==null){an.a=1;break n}var xs=kr;for(Xn=Mt=0;Xn<yn;++Xn){var Nn=Gr[Xn],jr=Nn.G,gn=Nn.H,Rt=0,Mn=1,Jt=0;for(ft=0;5>ft;++ft){Qn=x0[ft],jr[ft]=xs,gn[ft]=Mt,!ft&&0<dn&&(Qn+=1<<dn);r:{var Ni,Ar=Qn,wo=an,Jn=fr,Ku=xs,zl=Mt,Tc=0,Fa=wo.m,Xu=se(Fa,1);if(r(Jn,0,0,Ar),Xu){var Wr=se(Fa,1)+1,C0=se(Fa,1),_d=se(Fa,C0==0?1:8);Jn[_d]=1,Wr==2&&(Jn[_d=se(Fa,8)]=1);var Ms=1}else{var Ul=s(19),Yu=se(Fa,4)+4;if(19<Yu){wo.a=3;var Ec=0;break r}for(Ni=0;Ni<Yu;++Ni)Ul[wx[Ni]]=se(Fa,3);var Oa=void 0,Zo=void 0,_o=wo,Sd=Ul,el=Ar,Nd=Jn,Mc=0,sa=_o.m,Zi=8,So=a(128,G);i:for(;M(So,0,7,Sd,19);){if(se(sa,1)){var Rs=2+2*se(sa,3);if((Oa=2+se(sa,Rs))>el)break i}else Oa=el;for(Zo=0;Zo<el&&Oa--;){X(sa);var Pr=So[0+(127&re(sa))];de(sa,sa.u+Pr.g);var Vl=Pr.value;if(16>Vl)Nd[Zo++]=Vl,Vl!=0&&(Zi=Vl);else{var j0=Vl==16,kd=Vl-16,Nx=vx[kd],No=se(sa,Dg[kd])+Nx;if(Zo+No>el)break i;for(var Zg=j0?Zi:0;0<No--;)Nd[Zo++]=Zg}}Mc=1;break i}Mc||(_o.a=3),Ms=Mc}(Ms=Ms&&!Fa.h)&&(Tc=M(Ku,zl,8,Jn,Ar)),Ms&&Tc!=0?Ec=Tc:(wo.a=3,Ec=0)}if(Ec==0)break n;if(Mn&&bx[ft]==1&&(Mn=xs[Mt].g==0),Rt+=xs[Mt].g,Mt+=Ec,3>=ft){var Rc,Qu=fr[0];for(Rc=1;Rc<Qn;++Rc)fr[Rc]>Qu&&(Qu=fr[Rc]);Jt+=Qu}}if(Nn.nd=Mn,Nn.Qb=0,Mn&&(Nn.qb=(jr[3][gn[3]+0].value<<24|jr[1][gn[1]+0].value<<16|jr[2][gn[2]+0].value)>>>0,Rt==0&&256>jr[0][gn[0]+0].value&&(Nn.Qb=1,Nn.qb+=jr[0][gn[0]+0].value<<8)),Nn.jc=!Nn.Qb&&6>Jt,Nn.jc){var Da,Ia=Nn;for(Da=0;Da<Br;++Da){var ko=Da,Ba=Ia.pd[ko],Hl=Ia.G[0][Ia.H[0]+ko];256<=Hl.value?(Ba.g=Hl.g+256,Ba.value=Hl.value):(Ba.g=0,Ba.value=0,ko>>=Hi(Hl,8,Ba),ko>>=Hi(Ia.G[1][Ia.H[1]+ko],16,Ba),ko>>=Hi(Ia.G[2][Ia.H[2]+ko],0,Ba),Hi(Ia.G[3][Ia.H[3]+ko],24,Ba))}}}Fi.vc=on,Fi.Wb=yn,Fi.Ya=Gr,Fi.yc=kr,qe=1;break t}qe=0}if(!($=qe)){D.a=3;break e}if(0<ke){if(le.ua=1<<ke,!te(le.Wa,ke)){D.a=1,$=0;break e}}else le.ua=0;var A0=D,em=K,tm=Q,Cd=A0.s,Co=Cd.xc;if(A0.c=em,A0.i=tm,Cd.md=Ie(em,Co),Cd.wc=Co==0?-1:(1<<Co)-1,T){D.xb=v0;break e}if((me=s(K*Q))==null){D.a=1,$=0;break e}$=($=Ys(D,me,0,K,Q,Q,null))&&!ne.h;break e}return $?(V!=null?V[0]=me:(e(me==null),e(T)),D.$=0,T||Ns(le)):Ns(le),$}function wl(x,_){var T=x.c*x.i,D=T+_+16*_;return e(x.c<=_),x.V=s(D),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+T+_,1)}function vc(x,_){var T=x.C,D=_-T,V=x.V,$=x.Ba+x.c*T;for(e(_<=x.l.o);0<D;){var K=16<D?16:D,Q=x.l.ma,ne=x.l.width,le=ne*K,me=Q.ca,ke=Q.tb+ne*T,ae=x.Ta,ye=x.Ua;va(x,K,V,$),c0(ae,ye,me,ke,le),ba(Q,T,T+K,me,ke,ne),D-=K,V+=K*x.c,T+=K}e(T==_),x.C=x.Ma=_}function bc(){this.ub=this.yd=this.td=this.Rb=0}function wc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function n0(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Fu(){this.Yb=function(){var x=[];return function _(T,D,V){for(var $=V[D],K=0;K<$&&(T.push(V.length>D+1?[]:0),!(V.length<D+1));K++)_(T[K],D+1,V)}(x,0,[3,11]),x}()}function _c(){this.jb=s(3),this.Wc=o([4,8],Fu),this.Xc=o([4,17],Fu)}function Ko(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Or(){this.ld=this.La=this.dd=this.tc=0}function _l(){this.Na=this.la=0}function rd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Sl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function io(){this.uc=this.M=this.Nb=0,this.wa=Array(new Or),this.Y=0,this.ya=Array(new Sl),this.aa=0,this.l=new ls}function Qs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Cn(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new bc,this.Kc=new wc,this.ed=new Ko,this.Qa=new n0,this.Ic=this.$c=this.Aa=0,this.D=new io,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,F),this.ia=0,this.pb=a(4,rd),this.Pa=new _c,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qs),this.Hd=0,this.rb=Array(new _l),this.sb=0,this.wa=Array(new Or),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Sl),this.L=this.aa=0,this.gd=o([4,2],Or),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function tn(x,_){return 0>x?0:x>_?_:x}function ls(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gi(){var x=new Cn;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Wu||(Wu=Ei)),x}function cn(x,_,T){return x.a==0&&(x.a=_,x.sc=T,x.cb=0),0}function _a(x,_,T){return 3<=T&&x[_+0]==157&&x[_+1]==1&&x[_+2]==42}function vr(x,_){if(x==null)return 0;if(x.a=0,x.sc="OK",_==null)return cn(x,2,"null VP8Io passed to VP8GetHeaders()");var T=_.data,D=_.w,V=_.ha;if(4>V)return cn(x,7,"Truncated header.");var $=T[D+0]|T[D+1]<<8|T[D+2]<<16,K=x.Od;if(K.Rb=!(1&$),K.td=$>>1&7,K.yd=$>>4&1,K.ub=$>>5,3<K.td)return cn(x,3,"Incorrect keyframe parameters.");if(!K.yd)return cn(x,4,"Frame not displayable.");D+=3,V-=3;var Q=x.Kc;if(K.Rb){if(7>V)return cn(x,7,"cannot parse picture header");if(!_a(T,D,V))return cn(x,3,"Bad code word");Q.c=16383&(T[D+4]<<8|T[D+3]),Q.Td=T[D+4]>>6,Q.i=16383&(T[D+6]<<8|T[D+5]),Q.Ud=T[D+6]>>6,D+=7,V-=7,x.za=Q.c+15>>4,x.Ub=Q.i+15>>4,_.width=Q.c,_.height=Q.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,r(($=x.Pa).jb,0,255,$.jb.length),e(($=x.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,r($.Zb,0,0,$.Zb.length),r($.Lb,0,0,$.Lb)}if(K.ub>V)return cn(x,7,"bad partition length");ce($=x.m,T,D,K.ub),D+=K.ub,V-=K.ub,K.Rb&&(Q.Ld=xe($),Q.Kd=xe($)),Q=x.Qa;var ne,le=x.Pa;if(e($!=null),e(Q!=null),Q.Cb=xe($),Q.Cb){if(Q.Bb=xe($),xe($)){for(Q.Fb=xe($),ne=0;4>ne;++ne)Q.Zb[ne]=xe($)?J($,7):0;for(ne=0;4>ne;++ne)Q.Lb[ne]=xe($)?J($,6):0}if(Q.Bb)for(ne=0;3>ne;++ne)le.jb[ne]=xe($)?pe($,8):255}else Q.Bb=0;if($.Ka)return cn(x,3,"cannot parse segment header");if((Q=x.ed).zd=xe($),Q.Tb=pe($,6),Q.wb=pe($,3),Q.Pc=xe($),Q.Pc&&xe($)){for(le=0;4>le;++le)xe($)&&(Q.vd[le]=J($,6));for(le=0;4>le;++le)xe($)&&(Q.od[le]=J($,6))}if(x.L=Q.Tb==0?0:Q.zd?1:2,$.Ka)return cn(x,3,"cannot parse filter header");var me=V;if(V=ne=D,D=ne+me,Q=me,x.Xb=(1<<pe(x.m,2))-1,me<3*(le=x.Xb))T=7;else{for(ne+=3*le,Q-=3*le,me=0;me<le;++me){var ke=T[V+0]|T[V+1]<<8|T[V+2]<<16;ke>Q&&(ke=Q),ce(x.Jc[+me],T,ne,ke),ne+=ke,Q-=ke,V+=3}ce(x.Jc[+le],T,ne,Q),T=ne<D?0:5}if(T!=0)return cn(x,T,"cannot parse partitions");for(T=pe(ne=x.m,7),V=xe(ne)?J(ne,4):0,D=xe(ne)?J(ne,4):0,Q=xe(ne)?J(ne,4):0,le=xe(ne)?J(ne,4):0,ne=xe(ne)?J(ne,4):0,me=x.Qa,ke=0;4>ke;++ke){if(me.Cb){var ae=me.Zb[ke];me.Fb||(ae+=T)}else{if(0<ke){x.pb[ke]=x.pb[0];continue}ae=T}var ye=x.pb[ke];ye.Sc[0]=Pc[tn(ae+V,127)],ye.Sc[1]=y0[tn(ae+0,127)],ye.Eb[0]=2*Pc[tn(ae+D,127)],ye.Eb[1]=101581*y0[tn(ae+Q,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=Pc[tn(ae+le,117)],ye.Qc[1]=y0[tn(ae+ne,127)],ye.lc=ae+ne}if(!K.Rb)return cn(x,4,"Not a key frame.");for(xe($),K=x.Pa,T=0;4>T;++T){for(V=0;8>V;++V)for(D=0;3>D;++D)for(Q=0;11>Q;++Q)le=Ce($,Vg[T][V][D][Q])?pe($,8):yd[T][V][D][Q],K.Wc[T][V].Yb[D][Q]=le;for(V=0;17>V;++V)K.Xc[T][V]=K.Wc[T][Hg[V]]}return x.kc=xe($),x.kc&&(x.Bd=pe($,8)),x.cb=1}function Ei(x,_,T,D,V,$,K){var Q=_[V].Yb[T];for(T=0;16>V;++V){if(!Ce(x,Q[T+0]))return V;for(;!Ce(x,Q[T+1]);)if(Q=_[++V].Yb[0],T=0,V==16)return 16;var ne=_[V+1].Yb;if(Ce(x,Q[T+2])){var le=x,me=0;if(Ce(le,(ae=Q)[(ke=T)+3]))if(Ce(le,ae[ke+6])){for(Q=0,ke=2*(me=Ce(le,ae[ke+8]))+(ae=Ce(le,ae[ke+9+me])),me=0,ae=_x[ke];ae[Q];++Q)me+=me+Ce(le,ae[Q]);me+=3+(8<<ke)}else Ce(le,ae[ke+7])?(me=7+2*Ce(le,165),me+=Ce(le,145)):me=5+Ce(le,159);else me=Ce(le,ae[ke+4])?3+Ce(le,ae[ke+5]):2;Q=ne[2]}else me=1,Q=ne[1];ne=K+ia[V],0>(le=x).b&&fe(le);var ke,ae=le.b,ye=(ke=le.Ca>>1)-(le.I>>ae)>>31;--le.b,le.Ca+=ye,le.Ca|=1,le.I-=(ke+1&ye)<<ae,$[ne]=((me^ye)-ye)*D[(0<V)+0]}return 16}function Nl(x){var _=x.rb[x.sb-1];_.la=0,_.Na=0,r(x.zc,0,0,x.zc.length),x.ja=0}function cs(x,_,T,D,V){V=x[_+T+32*D]+(V>>3),x[_+T+32*D]=-256&V?0>V?0:255:V}function xi(x,_,T,D,V,$){cs(x,_,0,T,D+V),cs(x,_,1,T,D+$),cs(x,_,2,T,D-$),cs(x,_,3,T,D-V)}function ks(x){return(20091*x>>16)+x}function Ou(x,_,T,D){var V,$=0,K=s(16);for(V=0;4>V;++V){var Q=x[_+0]+x[_+8],ne=x[_+0]-x[_+8],le=(35468*x[_+4]>>16)-ks(x[_+12]),me=ks(x[_+4])+(35468*x[_+12]>>16);K[$+0]=Q+me,K[$+1]=ne+le,K[$+2]=ne-le,K[$+3]=Q-me,$+=4,_++}for(V=$=0;4>V;++V)Q=(x=K[$+0]+4)+K[$+8],ne=x-K[$+8],le=(35468*K[$+4]>>16)-ks(K[$+12]),cs(T,D,0,0,Q+(me=ks(K[$+4])+(35468*K[$+12]>>16))),cs(T,D,1,0,ne+le),cs(T,D,2,0,ne-le),cs(T,D,3,0,Q-me),$++,D+=32}function us(x,_,T,D){var V=x[_+0]+4,$=35468*x[_+4]>>16,K=ks(x[_+4]),Q=35468*x[_+1]>>16;xi(T,D,0,V+K,x=ks(x[_+1]),Q),xi(T,D,1,V+$,x,Q),xi(T,D,2,V-$,x,Q),xi(T,D,3,V-K,x,Q)}function i0(x,_,T,D,V){Ou(x,_,T,D),V&&Ou(x,_+16,T,D+4)}function Sa(x,_,T,D){xo(x,_+0,T,D,1),xo(x,_+32,T,D+128,1)}function sd(x,_,T,D){var V;for(x=x[_+0]+4,V=0;4>V;++V)for(_=0;4>_;++_)cs(T,D,_,V,x)}function kl(x,_,T,D){x[_+0]&&Yt(x,_+0,T,D),x[_+16]&&Yt(x,_+16,T,D+4),x[_+32]&&Yt(x,_+32,T,D+128),x[_+48]&&Yt(x,_+48,T,D+128+4)}function ro(x,_,T,D){var V,$=s(16);for(V=0;4>V;++V){var K=x[_+0+V]+x[_+12+V],Q=x[_+4+V]+x[_+8+V],ne=x[_+4+V]-x[_+8+V],le=x[_+0+V]-x[_+12+V];$[0+V]=K+Q,$[8+V]=K-Q,$[4+V]=le+ne,$[12+V]=le-ne}for(V=0;4>V;++V)K=(x=$[0+4*V]+3)+$[3+4*V],Q=$[1+4*V]+$[2+4*V],ne=$[1+4*V]-$[2+4*V],le=x-$[3+4*V],T[D+0]=K+Q>>3,T[D+16]=le+ne>>3,T[D+32]=K-Q>>3,T[D+48]=le-ne>>3,D+=64}function Js(x,_,T){var D,V=_-32,$=Xi,K=255-x[V-1];for(D=0;D<T;++D){var Q,ne=$,le=K+x[_-1];for(Q=0;Q<T;++Q)x[_+Q]=ne[le+x[V+Q]];_+=32}}function Sc(x,_){Js(x,_,4)}function r0(x,_){Js(x,_,8)}function s0(x,_){Js(x,_,16)}function Cl(x,_){var T;for(T=0;16>T;++T)i(x,_+32*T,x,_-32,16)}function Du(x,_){var T;for(T=16;0<T;--T)r(x,_,x[_-1],16),_+=32}function hs(x,_,T){var D;for(D=0;16>D;++D)r(_,T+32*D,x,16)}function jl(x,_){var T,D=16;for(T=0;16>T;++T)D+=x[_-1+32*T]+x[_+T-32];hs(D>>5,x,_)}function Al(x,_){var T,D=8;for(T=0;16>T;++T)D+=x[_-1+32*T];hs(D>>4,x,_)}function Pl(x,_){var T,D=8;for(T=0;16>T;++T)D+=x[_+T-32];hs(D>>4,x,_)}function sn(x,_){hs(128,x,_)}function Pt(x,_,T){return x+2*_+T+2>>2}function Iu(x,_){var T,D=_-32;for(D=new Uint8Array([Pt(x[D-1],x[D+0],x[D+1]),Pt(x[D+0],x[D+1],x[D+2]),Pt(x[D+1],x[D+2],x[D+3]),Pt(x[D+2],x[D+3],x[D+4])]),T=0;4>T;++T)i(x,_+32*T,D,0,D.length)}function ad(x,_){var T=x[_-1],D=x[_-1+32],V=x[_-1+64],$=x[_-1+96];Le(x,_+0,16843009*Pt(x[_-1-32],T,D)),Le(x,_+32,16843009*Pt(T,D,V)),Le(x,_+64,16843009*Pt(D,V,$)),Le(x,_+96,16843009*Pt(V,$,$))}function a0(x,_){var T,D=4;for(T=0;4>T;++T)D+=x[_+T-32]+x[_-1+32*T];for(D>>=3,T=0;4>T;++T)r(x,_+32*T,D,4)}function so(x,_){var T=x[_-1+0],D=x[_-1+32],V=x[_-1+64],$=x[_-1-32],K=x[_+0-32],Q=x[_+1-32],ne=x[_+2-32],le=x[_+3-32];x[_+0+96]=Pt(D,V,x[_-1+96]),x[_+1+96]=x[_+0+64]=Pt(T,D,V),x[_+2+96]=x[_+1+64]=x[_+0+32]=Pt($,T,D),x[_+3+96]=x[_+2+64]=x[_+1+32]=x[_+0+0]=Pt(K,$,T),x[_+3+64]=x[_+2+32]=x[_+1+0]=Pt(Q,K,$),x[_+3+32]=x[_+2+0]=Pt(ne,Q,K),x[_+3+0]=Pt(le,ne,Q)}function En(x,_){var T=x[_+1-32],D=x[_+2-32],V=x[_+3-32],$=x[_+4-32],K=x[_+5-32],Q=x[_+6-32],ne=x[_+7-32];x[_+0+0]=Pt(x[_+0-32],T,D),x[_+1+0]=x[_+0+32]=Pt(T,D,V),x[_+2+0]=x[_+1+32]=x[_+0+64]=Pt(D,V,$),x[_+3+0]=x[_+2+32]=x[_+1+64]=x[_+0+96]=Pt(V,$,K),x[_+3+32]=x[_+2+64]=x[_+1+96]=Pt($,K,Q),x[_+3+64]=x[_+2+96]=Pt(K,Q,ne),x[_+3+96]=Pt(Q,ne,ne)}function Bu(x,_){var T=x[_-1+0],D=x[_-1+32],V=x[_-1+64],$=x[_-1-32],K=x[_+0-32],Q=x[_+1-32],ne=x[_+2-32],le=x[_+3-32];x[_+0+0]=x[_+1+64]=$+K+1>>1,x[_+1+0]=x[_+2+64]=K+Q+1>>1,x[_+2+0]=x[_+3+64]=Q+ne+1>>1,x[_+3+0]=ne+le+1>>1,x[_+0+96]=Pt(V,D,T),x[_+0+64]=Pt(D,T,$),x[_+0+32]=x[_+1+96]=Pt(T,$,K),x[_+1+32]=x[_+2+96]=Pt($,K,Q),x[_+2+32]=x[_+3+96]=Pt(K,Q,ne),x[_+3+32]=Pt(Q,ne,le)}function o0(x,_){var T=x[_+0-32],D=x[_+1-32],V=x[_+2-32],$=x[_+3-32],K=x[_+4-32],Q=x[_+5-32],ne=x[_+6-32],le=x[_+7-32];x[_+0+0]=T+D+1>>1,x[_+1+0]=x[_+0+64]=D+V+1>>1,x[_+2+0]=x[_+1+64]=V+$+1>>1,x[_+3+0]=x[_+2+64]=$+K+1>>1,x[_+0+32]=Pt(T,D,V),x[_+1+32]=x[_+0+96]=Pt(D,V,$),x[_+2+32]=x[_+1+96]=Pt(V,$,K),x[_+3+32]=x[_+2+96]=Pt($,K,Q),x[_+3+64]=Pt(K,Q,ne),x[_+3+96]=Pt(Q,ne,le)}function Xo(x,_){var T=x[_-1+0],D=x[_-1+32],V=x[_-1+64],$=x[_-1+96];x[_+0+0]=T+D+1>>1,x[_+2+0]=x[_+0+32]=D+V+1>>1,x[_+2+32]=x[_+0+64]=V+$+1>>1,x[_+1+0]=Pt(T,D,V),x[_+3+0]=x[_+1+32]=Pt(D,V,$),x[_+3+32]=x[_+1+64]=Pt(V,$,$),x[_+3+64]=x[_+2+64]=x[_+0+96]=x[_+1+96]=x[_+2+96]=x[_+3+96]=$}function zu(x,_){var T=x[_-1+0],D=x[_-1+32],V=x[_-1+64],$=x[_-1+96],K=x[_-1-32],Q=x[_+0-32],ne=x[_+1-32],le=x[_+2-32];x[_+0+0]=x[_+2+32]=T+K+1>>1,x[_+0+32]=x[_+2+64]=D+T+1>>1,x[_+0+64]=x[_+2+96]=V+D+1>>1,x[_+0+96]=$+V+1>>1,x[_+3+0]=Pt(Q,ne,le),x[_+2+0]=Pt(K,Q,ne),x[_+1+0]=x[_+3+32]=Pt(T,K,Q),x[_+1+32]=x[_+3+64]=Pt(D,T,K),x[_+1+64]=x[_+3+96]=Pt(V,D,T),x[_+1+96]=Pt($,V,D)}function Na(x,_){var T;for(T=0;8>T;++T)i(x,_+32*T,x,_-32,8)}function Cs(x,_){var T;for(T=0;8>T;++T)r(x,_,x[_-1],8),_+=32}function ao(x,_,T){var D;for(D=0;8>D;++D)r(_,T+32*D,x,8)}function l0(x,_){var T,D=8;for(T=0;8>T;++T)D+=x[_+T-32]+x[_-1+32*T];ao(D>>4,x,_)}function br(x,_){var T,D=4;for(T=0;8>T;++T)D+=x[_+T-32];ao(D>>3,x,_)}function ds(x,_){var T,D=4;for(T=0;8>T;++T)D+=x[_-1+32*T];ao(D>>3,x,_)}function Ll(x,_){ao(128,x,_)}function Zs(x,_,T){var D=x[_-T],V=x[_+0],$=3*(V-D)+fd[1020+x[_-2*T]-x[_+T]],K=Uu[112+($+4>>3)];x[_-T]=Xi[255+D+Uu[112+($+3>>3)]],x[_+0]=Xi[255+V-K]}function Nc(x,_,T,D){var V=x[_+0],$=x[_+T];return gs[255+x[_-2*T]-x[_-T]]>D||gs[255+$-V]>D}function kc(x,_,T,D){return 4*gs[255+x[_-T]-x[_+0]]+gs[255+x[_-2*T]-x[_+T]]<=D}function Dr(x,_,T,D,V){var $=x[_-3*T],K=x[_-2*T],Q=x[_-T],ne=x[_+0],le=x[_+T],me=x[_+2*T],ke=x[_+3*T];return 4*gs[255+Q-ne]+gs[255+K-le]>D?0:gs[255+x[_-4*T]-$]<=V&&gs[255+$-K]<=V&&gs[255+K-Q]<=V&&gs[255+ke-me]<=V&&gs[255+me-le]<=V&&gs[255+le-ne]<=V}function js(x,_,T,D){var V=2*D+1;for(D=0;16>D;++D)kc(x,_+D,T,V)&&Zs(x,_+D,T)}function ka(x,_,T,D){var V=2*D+1;for(D=0;16>D;++D)kc(x,_+D*T,1,V)&&Zs(x,_+D*T,1)}function Tl(x,_,T,D){var V;for(V=3;0<V;--V)js(x,_+=4*T,T,D)}function El(x,_,T,D){var V;for(V=3;0<V;--V)ka(x,_+=4,T,D)}function yi(x,_,T,D,V,$,K,Q){for($=2*$+1;0<V--;){if(Dr(x,_,T,$,K))if(Nc(x,_,T,Q))Zs(x,_,T);else{var ne=x,le=_,me=T,ke=ne[le-2*me],ae=ne[le-me],ye=ne[le+0],Ne=ne[le+me],Me=ne[le+2*me],_e=27*(be=fd[1020+3*(ye-ae)+fd[1020+ke-Ne]])+63>>7,Oe=18*be+63>>7,be=9*be+63>>7;ne[le-3*me]=Xi[255+ne[le-3*me]+be],ne[le-2*me]=Xi[255+ke+Oe],ne[le-me]=Xi[255+ae+_e],ne[le+0]=Xi[255+ye-_e],ne[le+me]=Xi[255+Ne-Oe],ne[le+2*me]=Xi[255+Me-be]}_+=D}}function vi(x,_,T,D,V,$,K,Q){for($=2*$+1;0<V--;){if(Dr(x,_,T,$,K))if(Nc(x,_,T,Q))Zs(x,_,T);else{var ne=x,le=_,me=T,ke=ne[le-me],ae=ne[le+0],ye=ne[le+me],Ne=Uu[112+(4+(Me=3*(ae-ke))>>3)],Me=Uu[112+(Me+3>>3)],_e=Ne+1>>1;ne[le-2*me]=Xi[255+ne[le-2*me]+_e],ne[le-me]=Xi[255+ke+Me],ne[le+0]=Xi[255+ae-Ne],ne[le+me]=Xi[255+ye-_e]}_+=D}}function Ca(x,_,T,D,V,$){yi(x,_,T,1,16,D,V,$)}function wr(x,_,T,D,V,$){yi(x,_,1,T,16,D,V,$)}function As(x,_,T,D,V,$){var K;for(K=3;0<K;--K)vi(x,_+=4*T,T,1,16,D,V,$)}function A(x,_,T,D,V,$){var K;for(K=3;0<K;--K)vi(x,_+=4,1,T,16,D,V,$)}function H(x,_,T,D,V,$,K,Q){yi(x,_,V,1,8,$,K,Q),yi(T,D,V,1,8,$,K,Q)}function ue(x,_,T,D,V,$,K,Q){yi(x,_,1,V,8,$,K,Q),yi(T,D,1,V,8,$,K,Q)}function ge(x,_,T,D,V,$,K,Q){vi(x,_+4*V,V,1,8,$,K,Q),vi(T,D+4*V,V,1,8,$,K,Q)}function ve(x,_,T,D,V,$,K,Q){vi(x,_+4,1,V,8,$,K,Q),vi(T,D+4,1,V,8,$,K,Q)}function Ee(){this.ba=new qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new pn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Re(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xe(){this.ua=0,this.Wa=new vt,this.vb=new vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new G}function jt(){this.xb=this.a=0,this.l=new ls,this.ca=new qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xe,this.ab=0,this.gc=a(4,nt),this.Oc=0}function Dt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ls,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nn(x,_,T,D,V,$,K){for(x=x==null?0:x[_+0],_=0;_<K;++_)V[$+_]=x+T[D+_]&255,x=V[$+_]}function Fn(x,_,T,D,V,$,K){var Q;if(x==null)nn(null,null,T,D,V,$,K);else for(Q=0;Q<K;++Q)V[$+Q]=x[_+Q]+T[D+Q]&255}function ui(x,_,T,D,V,$,K){if(x==null)nn(null,null,T,D,V,$,K);else{var Q,ne=x[_+0],le=ne,me=ne;for(Q=0;Q<K;++Q)le=me+(ne=x[_+Q])-le,me=T[D+Q]+(-256&le?0>le?0:255:le)&255,le=ne,V[$+Q]=me}}function Sn(x,_,T,D){var V=_.width,$=_.o;if(e(x!=null&&_!=null),0>T||0>=D||T+D>$)return null;if(!x.Cc){if(x.ga==null){var K;if(x.ga=new Dt,(K=x.ga==null)||(K=_.width*_.o,e(x.Gb.length==0),x.Gb=s(K),x.Uc=0,x.Gb==null?K=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,K=1),K=!K),!K){K=x.ga;var Q=x.Fa,ne=x.P,le=x.qc,me=x.mb,ke=x.nb,ae=ne+1,ye=le-1,Ne=K.l;if(e(Q!=null&&me!=null&&_!=null),bo[0]=null,bo[1]=nn,bo[2]=Fn,bo[3]=ui,K.ca=me,K.tb=ke,K.c=_.width,K.i=_.height,e(0<K.c&&0<K.i),1>=le)_=0;else if(K.$a=3&Q[ne+0],K.Z=Q[ne+0]>>2&3,K.Lc=Q[ne+0]>>4&3,ne=Q[ne+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||ne)_=0;else if(Ne.put=bt,Ne.ac=$s,Ne.bc=to,Ne.ma=K,Ne.width=_.width,Ne.height=_.height,Ne.Da=_.Da,Ne.v=_.v,Ne.va=_.va,Ne.j=_.j,Ne.o=_.o,K.$a)e:{e(K.$a==1),_=bl();t:for(;;){if(_==null){_=0;break e}if(e(K!=null),K.mc=_,_.c=K.c,_.i=K.i,_.l=K.l,_.l.ma=K,_.l.width=K.c,_.l.height=K.i,_.a=0,ee(_.m,Q,ae,ye),!wa(K.c,K.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Ks(_.s)?(K.ic=1,Q=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(Q),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(K.ic=0,_=wl(_,K.c)),!_))break t;_=1;break e}K.mc=null,_=0}else _=ye>=K.c*K.i;K=!_}if(K)return null;x.ga.Lc!=1?x.Ga=0:D=$-T}e(x.ga!=null),e(T+D<=$);e:{if(_=(Q=x.ga).c,$=Q.l.o,Q.$a==0){if(ae=x.rc,ye=x.Vc,Ne=x.Fa,ne=x.P+1+T*_,le=x.mb,me=x.nb+T*_,e(ne<=x.P+x.qc),Q.Z!=0)for(e(bo[Q.Z]!=null),K=0;K<D;++K)bo[Q.Z](ae,ye,Ne,ne,le,me,_),ae=le,ye=me,me+=_,ne+=_;else for(K=0;K<D;++K)i(le,me,Ne,ne,_),ae=le,ye=me,me+=_,ne+=_;x.rc=ae,x.Vc=ye}else{if(e(Q.mc!=null),_=T+D,e((K=Q.mc)!=null),e(_<=K.i),K.C>=_)_=1;else if(Q.ic||Ir(),Q.ic){Q=K.V,ae=K.Ba,ye=K.c;var Me=K.i,_e=(Ne=1,ne=K.$/ye,le=K.$%ye,me=K.m,ke=K.s,K.$),Oe=ye*Me,be=ye*_,Be=ke.wc,De=_e<be?qi(ke,le,ne):null;e(_e<=Oe),e(_<=Me),e(Ks(ke));t:for(;;){for(;!me.h&&_e<be;){if(le&Be||(De=qi(ke,le,ne)),e(De!=null),X(me),256>(Me=Vn(De.G[0],De.H[0],me)))Q[ae+_e]=Me,++_e,++le>=ye&&(le=0,++ne<=_&&!(ne%16)&&Xs(K,ne));else{if(!(280>Me)){Ne=0;break t}Me=Ss(Me-256,me);var dt,rt=Vn(De.G[4],De.H[4],me);if(X(me),!(_e>=(rt=os(ye,rt=Ss(rt,me)))&&Oe-_e>=Me)){Ne=0;break t}for(dt=0;dt<Me;++dt)Q[ae+_e+dt]=Q[ae+_e+dt-rt];for(_e+=Me,le+=Me;le>=ye;)le-=ye,++ne<=_&&!(ne%16)&&Xs(K,ne);_e<be&&le&Be&&(De=qi(ke,le,ne))}e(me.h==oe(me))}Xs(K,ne>_?_:ne);break t}!Ne||me.h&&_e<Oe?(Ne=0,K.a=me.h?5:3):K.$=_e,_=Ne}else _=Ys(K,K.V,K.Ba,K.c,K.i,_,vc);if(!_){D=0;break e}}T+D>=$&&(x.Cc=1),D=1}if(!D)return null;if(x.Cc&&((D=x.ga)!=null&&(D.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+T*V}function bi(x,_,T,D,V,$){for(;0<V--;){var K,Q=x,ne=_+(T?1:0),le=x,me=_+(T?0:3);for(K=0;K<D;++K){var ke=le[me+4*K];ke!=255&&(ke*=32897,Q[ne+4*K+0]=Q[ne+4*K+0]*ke>>23,Q[ne+4*K+1]=Q[ne+4*K+1]*ke>>23,Q[ne+4*K+2]=Q[ne+4*K+2]*ke>>23)}_+=$}}function On(x,_,T,D,V){for(;0<D--;){var $;for($=0;$<T;++$){var K=x[_+2*$+0],Q=15&(le=x[_+2*$+1]),ne=4369*Q,le=(240&le|le>>4)*ne>>16;x[_+2*$+0]=(240&K|K>>4)*ne>>16&240|(15&K|K<<4)*ne>>16>>4&15,x[_+2*$+1]=240&le|Q}_+=V}}function Mi(x,_,T,D,V,$,K,Q){var ne,le,me=255;for(le=0;le<V;++le){for(ne=0;ne<D;++ne){var ke=x[_+ne];$[K+4*ne]=ke,me&=ke}_+=T,K+=Q}return me!=255}function oo(x,_,T,D,V){var $;for($=0;$<V;++$)T[D+$]=x[_+$]>>8}function Ir(){vo=bi,hd=On,dd=Mi,c0=oo}function lo(x,_,T){B[x]=function(D,V,$,K,Q,ne,le,me,ke,ae,ye,Ne,Me,_e,Oe,be,Be){var De,dt=Be-1>>1,rt=Q[ne+0]|le[me+0]<<16,Tt=ke[ae+0]|ye[Ne+0]<<16;e(D!=null);var st=3*rt+Tt+131074>>2;for(_(D[V+0],255&st,st>>16,Me,_e),$!=null&&(st=3*Tt+rt+131074>>2,_($[K+0],255&st,st>>16,Oe,be)),De=1;De<=dt;++De){var Xt=Q[ne+De]|le[me+De]<<16,_i=ke[ae+De]|ye[Ne+De]<<16,It=rt+Xt+Tt+_i+524296,ot=It+2*(Xt+Tt)>>3;st=ot+rt>>1,rt=(It=It+2*(rt+_i)>>3)+Xt>>1,_(D[V+2*De-1],255&st,st>>16,Me,_e+(2*De-1)*T),_(D[V+2*De-0],255&rt,rt>>16,Me,_e+(2*De-0)*T),$!=null&&(st=It+Tt>>1,rt=ot+_i>>1,_($[K+2*De-1],255&st,st>>16,Oe,be+(2*De-1)*T),_($[K+2*De+0],255&rt,rt>>16,Oe,be+(2*De+0)*T)),rt=Xt,Tt=_i}1&Be||(st=3*rt+Tt+131074>>2,_(D[V+Be-1],255&st,st>>16,Me,_e+(Be-1)*T),$!=null&&(st=3*Tt+rt+131074>>2,_($[K+Be-1],255&st,st>>16,Oe,be+(Be-1)*T)))}}function co(){ms[Dl]=Wg,ms[Il]=b0,ms[g0]=qg,ms[Ac]=$g,ms[Vu]=Nr,ms[pd]=hr,ms[m0]=Kg,ms[gd]=b0,ms[Hu]=$g,ms[Gu]=Nr,ms[md]=hr}function uo(x){return x&-16384?0>x?0:255:x>>w0}function ho(x,_){return uo((19077*x>>8)+(26149*_>>8)-14234)}function Yo(x,_,T){return uo((19077*x>>8)-(6419*_>>8)-(13320*T>>8)+8708)}function Ps(x,_){return uo((19077*x>>8)+(33050*_>>8)-17685)}function fo(x,_,T,D,V){D[V+0]=ho(x,T),D[V+1]=Yo(x,_,T),D[V+2]=Ps(x,_)}function wi(x,_,T,D,V){D[V+0]=Ps(x,_),D[V+1]=Yo(x,_,T),D[V+2]=ho(x,T)}function ja(x,_,T,D,V){var $=Yo(x,_,T);_=$<<3&224|Ps(x,_)>>3,D[V+0]=248&ho(x,T)|$>>5,D[V+1]=_}function Ls(x,_,T,D,V){var $=240&Ps(x,_)|15;D[V+0]=240&ho(x,T)|Yo(x,_,T)>>4,D[V+1]=$}function Ml(x,_,T,D,V){D[V+0]=255,fo(x,_,T,D,V+1)}function Rl(x,_,T,D,V){wi(x,_,T,D,V),D[V+3]=255}function or(x,_,T,D,V){fo(x,_,T,D,V),D[V+3]=255}function ea(x,_,T){B[x]=function(D,V,$,K,Q,ne,le,me,ke){for(var ae=me+(-2&ke)*T;me!=ae;)_(D[V+0],$[K+0],Q[ne+0],le,me),_(D[V+1],$[K+0],Q[ne+0],le,me+T),V+=2,++K,++ne,me+=2*T;1&ke&&_(D[V+0],$[K+0],Q[ne+0],le,me)}}function Qo(x,_,T){return T==0?x==0?_==0?6:5:_==0?4:0:T}function po(x,_,T,D,V){switch(x>>>30){case 3:xo(_,T,D,V,0);break;case 2:Sr(_,T,D,V);break;case 1:Yt(_,T,D,V)}}function Kn(x,_){var T,D,V=_.M,$=_.Nb,K=x.oc,Q=x.pc+40,ne=x.oc,le=x.pc+584,me=x.oc,ke=x.pc+600;for(T=0;16>T;++T)K[Q+32*T-1]=129;for(T=0;8>T;++T)ne[le+32*T-1]=129,me[ke+32*T-1]=129;for(0<V?K[Q-1-32]=ne[le-1-32]=me[ke-1-32]=129:(r(K,Q-32-1,127,21),r(ne,le-32-1,127,9),r(me,ke-32-1,127,9)),D=0;D<x.za;++D){var ae=_.ya[_.aa+D];if(0<D){for(T=-1;16>T;++T)i(K,Q+32*T-4,K,Q+32*T+12,4);for(T=-1;8>T;++T)i(ne,le+32*T-4,ne,le+32*T+4,4),i(me,ke+32*T-4,me,ke+32*T+4,4)}var ye=x.Gd,Ne=x.Hd+D,Me=ae.ad,_e=ae.Hc;if(0<V&&(i(K,Q-32,ye[Ne].y,0,16),i(ne,le-32,ye[Ne].f,0,8),i(me,ke-32,ye[Ne].ea,0,8)),ae.Za){var Oe=K,be=Q-32+16;for(0<V&&(D>=x.za-1?r(Oe,be,ye[Ne].y[15],4):i(Oe,be,ye[Ne+1].y,0,4)),T=0;4>T;T++)Oe[be+128+T]=Oe[be+256+T]=Oe[be+384+T]=Oe[be+0+T];for(T=0;16>T;++T,_e<<=2)Oe=K,be=Q+bd[T],ur[ae.Ob[T]](Oe,be),po(_e,Me,16*+T,Oe,be)}else if(Oe=Qo(D,V,ae.Ob[0]),Ra[Oe](K,Q),_e!=0)for(T=0;16>T;++T,_e<<=2)po(_e,Me,16*+T,K,Q+bd[T]);for(T=ae.Gc,Oe=Qo(D,V,ae.Dd),ra[Oe](ne,le),ra[Oe](me,ke),_e=Me,Oe=ne,be=le,255&(ae=0|T)&&(170&ae?Ts(_e,256,Oe,be):kt(_e,256,Oe,be)),ae=me,_e=ke,255&(T>>=8)&&(170&T?Ts(Me,320,ae,_e):kt(Me,320,ae,_e)),V<x.Ub-1&&(i(ye[Ne].y,0,K,Q+480,16),i(ye[Ne].f,0,ne,le+224,8),i(ye[Ne].ea,0,me,ke+224,8)),T=8*$*x.B,ye=x.sa,Ne=x.ta+16*D+16*$*x.R,Me=x.qa,ae=x.ra+8*D+T,_e=x.Ha,Oe=x.Ia+8*D+T,T=0;16>T;++T)i(ye,Ne+T*x.R,K,Q+32*T,16);for(T=0;8>T;++T)i(Me,ae+T*x.B,ne,le+32*T,8),i(_e,Oe+T*x.B,me,ke+32*T,8)}}function fs(x,_,T,D,V,$,K,Q,ne){var le=[0],me=[0],ke=0,ae=ne!=null?ne.kd:0,ye=ne??new Re;if(x==null||12>T)return 7;ye.data=x,ye.w=_,ye.ha=T,_=[_],T=[T],ye.gb=[ye.gb];e:{var Ne=_,Me=T,_e=ye.gb;if(e(x!=null),e(Me!=null),e(_e!=null),_e[0]=0,12<=Me[0]&&!n(x,Ne[0],"RIFF")){if(n(x,Ne[0]+8,"WEBP")){_e=3;break e}var Oe=Ke(x,Ne[0]+4);if(12>Oe||4294967286<Oe){_e=3;break e}if(ae&&Oe>Me[0]-8){_e=7;break e}_e[0]=Oe,Ne[0]+=12,Me[0]-=12}_e=0}if(_e!=0)return _e;for(Oe=0<ye.gb[0],T=T[0];;){e:{var be=x;Me=_,_e=T;var Be=le,De=me,dt=Ne=[0];if((st=ke=[ke])[0]=0,8>_e[0])_e=7;else{if(!n(be,Me[0],"VP8X")){if(Ke(be,Me[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var rt=Ke(be,Me[0]+8),Tt=1+ze(be,Me[0]+12);if(2147483648<=Tt*(be=1+ze(be,Me[0]+15))){_e=3;break e}dt!=null&&(dt[0]=rt),Be!=null&&(Be[0]=Tt),De!=null&&(De[0]=be),Me[0]+=18,_e[0]-=18,st[0]=1}_e=0}}if(ke=ke[0],Ne=Ne[0],_e!=0)return _e;if(Me=!!(2&Ne),!Oe&&ke)return 3;if($!=null&&($[0]=!!(16&Ne)),K!=null&&(K[0]=Me),Q!=null&&(Q[0]=0),K=le[0],Ne=me[0],ke&&Me&&ne==null){_e=0;break}if(4>T){_e=7;break}if(Oe&&ke||!Oe&&!ke&&!n(x,_[0],"ALPH")){T=[T],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{rt=x,_e=_,Oe=T;var st=ye.gb;Be=ye.na,De=ye.P,dt=ye.Sa,Tt=22,e(rt!=null),e(Oe!=null),be=_e[0];var Xt=Oe[0];for(e(Be!=null),e(dt!=null),Be[0]=null,De[0]=null,dt[0]=0;;){if(_e[0]=be,Oe[0]=Xt,8>Xt){_e=7;break e}var _i=Ke(rt,be+4);if(4294967286<_i){_e=3;break e}var It=8+_i+1&-2;if(Tt+=It,0<st&&Tt>st){_e=3;break e}if(!n(rt,be,"VP8 ")||!n(rt,be,"VP8L")){_e=0;break e}if(Xt[0]<It){_e=7;break e}n(rt,be,"ALPH")||(Be[0]=rt,De[0]=be+8,dt[0]=_i),be+=It,Xt-=It}}if(T=T[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],_e!=0)break}T=[T],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(st=x,_e=_,Oe=T,Be=ye.gb[0],De=ye.Ja,dt=ye.xa,rt=_e[0],be=!n(st,rt,"VP8 "),Tt=!n(st,rt,"VP8L"),e(st!=null),e(Oe!=null),e(De!=null),e(dt!=null),8>Oe[0])_e=7;else{if(be||Tt){if(st=Ke(st,rt+4),12<=Be&&st>Be-12){_e=3;break e}if(ae&&st>Oe[0]-8){_e=7;break e}De[0]=st,_e[0]+=8,Oe[0]-=8,dt[0]=Tt}else dt[0]=5<=Oe[0]&&st[rt+0]==47&&!(st[rt+4]>>5),De[0]=Oe[0];_e=0}if(T=T[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],_=_[0],_e!=0)break;if(4294967286<ye.Ja)return 3;if(Q==null||Me||(Q[0]=ye.xa?2:1),K=[K],Ne=[Ne],ye.xa){if(5>T){_e=7;break}Q=K,ae=Ne,Me=$,x==null||5>T?x=0:5<=T&&x[_+0]==47&&!(x[_+4]>>5)?(Oe=[0],st=[0],Be=[0],ee(De=new q,x,_,T),no(De,Oe,st,Be)?(Q!=null&&(Q[0]=Oe[0]),ae!=null&&(ae[0]=st[0]),Me!=null&&(Me[0]=Be[0]),x=1):x=0):x=0}else{if(10>T){_e=7;break}Q=Ne,x==null||10>T||!_a(x,_+3,T-3)?x=0:(ae=x[_+0]|x[_+1]<<8|x[_+2]<<16,Me=16383&(x[_+7]<<8|x[_+6]),x=16383&(x[_+9]<<8|x[_+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=ye.Ja||!Me||!x?x=0:(K&&(K[0]=Me),Q&&(Q[0]=x),x=1))}if(!x||(K=K[0],Ne=Ne[0],ke&&(le[0]!=K||me[0]!=Ne)))return 3;ne!=null&&(ne[0]=ye,ne.offset=_-ne.w,e(4294967286>_-ne.w),e(ne.offset==ne.ha-T));break}return _e==0||_e==7&&ke&&ne==null?($!=null&&($[0]|=ye.na!=null&&0<ye.na.length),D!=null&&(D[0]=K),V!=null&&(V[0]=Ne),0):_e}function Fl(x,_,T){var D=_.width,V=_.height,$=0,K=0,Q=D,ne=V;if(_.Da=x!=null&&0<x.Da,_.Da&&(Q=x.cd,ne=x.bd,$=x.v,K=x.j,11>T||($&=-2,K&=-2),0>$||0>K||0>=Q||0>=ne||$+Q>D||K+ne>V))return 0;if(_.v=$,_.j=K,_.va=$+Q,_.o=K+ne,_.U=Q,_.T=ne,_.da=x!=null&&0<x.da,_.da){if(!ht(Q,ne,T=[x.ib],$=[x.hb]))return 0;_.ib=T[0],_.hb=$[0]}return _.ob=x!=null&&x.ob,_.Kb=x==null||!x.Sd,_.da&&(_.ob=_.ib<3*D/4&&_.hb<3*V/4,_.Kb=0),1}function Cc(x){if(x==null)return 2;if(11>x.S){var _=x.f.RGBA;_.fb+=(x.height-1)*_.A,_.A=-_.A}else _=x.f.kb,x=x.height,_.O+=(x-1)*_.fa,_.fa=-_.fa,_.N+=(x-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(x-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(x-1)*_.lb,_.lb=-_.lb);return 0}function $i(x,_,T,D){if(D==null||0>=x||0>=_)return 2;if(T!=null){if(T.Da){var V=T.cd,$=T.bd,K=-2&T.v,Q=-2&T.j;if(0>K||0>Q||0>=V||0>=$||K+V>x||Q+$>_)return 2;x=V,_=$}if(T.da){if(!ht(x,_,V=[T.ib],$=[T.hb]))return 2;x=V[0],_=$[0]}}D.width=x,D.height=_;e:{var ne=D.width,le=D.height;if(x=D.S,0>=ne||0>=le||!(x>=Dl&&13>x))x=2;else{if(0>=D.Rd&&D.sd==null){K=$=V=_=0;var me=(Q=ne*wd[x])*le;if(11>x||($=(le+1)/2*(_=(ne+1)/2),x==12&&(K=(V=ne)*le)),(le=s(me+2*$+K))==null){x=1;break e}D.sd=le,11>x?((ne=D.f.RGBA).eb=le,ne.fb=0,ne.A=Q,ne.size=me):((ne=D.f.kb).y=le,ne.O=0,ne.fa=Q,ne.Fd=me,ne.f=le,ne.N=0+me,ne.Ab=_,ne.Cd=$,ne.ea=le,ne.W=0+me+$,ne.Db=_,ne.Ed=$,x==12&&(ne.F=le,ne.J=0+me+2*$),ne.Tc=K,ne.lb=V)}if(_=1,V=D.S,$=D.width,K=D.height,V>=Dl&&13>V)if(11>V)x=D.f.RGBA,_&=(Q=Math.abs(x.A))*(K-1)+$<=x.size,_&=Q>=$*wd[V],_&=x.eb!=null;else{x=D.f.kb,Q=($+1)/2,me=(K+1)/2,ne=Math.abs(x.fa),le=Math.abs(x.Ab);var ke=Math.abs(x.Db),ae=Math.abs(x.lb),ye=ae*(K-1)+$;_&=ne*(K-1)+$<=x.Fd,_&=le*(me-1)+Q<=x.Cd,_=(_&=ke*(me-1)+Q<=x.Ed)&ne>=$&le>=Q&ke>=Q,_&=x.y!=null,_&=x.f!=null,_&=x.ea!=null,V==12&&(_&=ae>=$,_&=ye<=x.Tc,_&=x.F!=null)}else _=0;x=_?0:2}}return x!=0||T!=null&&T.fd&&(x=Cc(D)),x}var Br=64,_r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zr=24,lr=32,cr=8,ta=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(x){return x},B.Predictor2=function(x,_,T){return _[T+0]},B.Predictor3=function(x,_,T){return _[T+1]},B.Predictor4=function(x,_,T){return _[T-1]},B.Predictor5=function(x,_,T){return Te(Te(x,_[T+1]),_[T+0])},B.Predictor6=function(x,_,T){return Te(x,_[T-1])},B.Predictor7=function(x,_,T){return Te(x,_[T+0])},B.Predictor8=function(x,_,T){return Te(_[T-1],_[T+0])},B.Predictor9=function(x,_,T){return Te(_[T+0],_[T+1])},B.Predictor10=function(x,_,T){return Te(Te(x,_[T-1]),Te(_[T+0],_[T+1]))},B.Predictor11=function(x,_,T){var D=_[T+0];return 0>=ut(D>>24&255,x>>24&255,(_=_[T-1])>>24&255)+ut(D>>16&255,x>>16&255,_>>16&255)+ut(D>>8&255,x>>8&255,_>>8&255)+ut(255&D,255&x,255&_)?D:x},B.Predictor12=function(x,_,T){var D=_[T+0];return(We((x>>24&255)+(D>>24&255)-((_=_[T-1])>>24&255))<<24|We((x>>16&255)+(D>>16&255)-(_>>16&255))<<16|We((x>>8&255)+(D>>8&255)-(_>>8&255))<<8|We((255&x)+(255&D)-(255&_)))>>>0},B.Predictor13=function(x,_,T){var D=_[T-1];return($e((x=Te(x,_[T+0]))>>24&255,D>>24&255)<<24|$e(x>>16&255,D>>16&255)<<16|$e(x>>8&255,D>>8&255)<<8|$e(255&x,255&D))>>>0};var jc=B.PredictorAdd0;B.PredictorAdd1=At,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var go=B.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var si,Jo=B.ColorIndexInverseTransform,hi=B.MapARGB,Ur=B.VP8LColorIndexInverseTransformAlpha,Aa=B.MapAlpha,Vr=B.VP8LPredictorsAdd=[];Vr.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Ol,Pa,mo,La,xn,Ta,Ea,xo,Sr,Ts,Yt,kt,Wt,Qt,Es,yo,Ma,od,Ki,ld,cd,ud,na,ps,vo,hd,dd,c0,u0=s(511),h0=s(2041),d0=s(225),f0=s(767),p0=0,fd=h0,Uu=d0,Xi=f0,gs=u0,Dl=0,Il=1,g0=2,Ac=3,Vu=4,pd=5,m0=6,gd=7,Hu=8,Gu=9,md=10,Dg=[2,3,7],vx=[3,3,11],x0=[280,256,256,256,40],bx=[0,1,1,1,0],wx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ig=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Bg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zg=8,Pc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],y0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wu=null,_x=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ia=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ug=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Vg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Hg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ra=[],ur=[],ra=[],v0=1,Gg=2,bo=[],ms=[];lo("UpsampleRgbLinePair",fo,3),lo("UpsampleBgrLinePair",wi,3),lo("UpsampleRgbaLinePair",or,4),lo("UpsampleBgraLinePair",Rl,4),lo("UpsampleArgbLinePair",Ml,4),lo("UpsampleRgba4444LinePair",Ls,2),lo("UpsampleRgb565LinePair",ja,2);var Wg=B.UpsampleRgbLinePair,qg=B.UpsampleBgrLinePair,b0=B.UpsampleRgbaLinePair,$g=B.UpsampleBgraLinePair,Nr=B.UpsampleArgbLinePair,hr=B.UpsampleRgba4444LinePair,Kg=B.UpsampleRgb565LinePair,qu=16,$u=1<<qu-1,Lc=-227,vd=482,w0=6,_0=0,S0=s(256),Xg=s(256),Yg=s(256),N0=s(256),k0=s(vd-Lc),Qg=s(vd-Lc);ea("YuvToRgbRow",fo,3),ea("YuvToBgrRow",wi,3),ea("YuvToRgbaRow",or,4),ea("YuvToBgraRow",Rl,4),ea("YuvToArgbRow",Ml,4),ea("YuvToRgba4444Row",Ls,2),ea("YuvToRgb565Row",ja,2);var bd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bl=[0,2,8],Sx=[8,7,6,4,4,2,2,2,1,1,1,1],Jg=1;this.WebPDecodeRGBA=function(x,_,T,D,V){var $=Il,K=new Ee,Q=new qt;K.ba=Q,Q.S=$,Q.width=[Q.width],Q.height=[Q.height];var ne=Q.width,le=Q.height,me=new _t;if(me==null||x==null)var ke=2;else e(me!=null),ke=fs(x,_,T,me.width,me.height,me.Pd,me.Qd,me.format,null);if(ke!=0?ne=0:(ne!=null&&(ne[0]=me.width[0]),le!=null&&(le[0]=me.height[0]),ne=1),ne){Q.width=Q.width[0],Q.height=Q.height[0],D!=null&&(D[0]=Q.width),V!=null&&(V[0]=Q.height);e:{if(D=new ls,(V=new Re).data=x,V.w=_,V.ha=T,V.kd=1,_=[0],e(V!=null),((x=fs(V.data,V.w,V.ha,null,null,null,_,null,V))==0||x==7)&&_[0]&&(x=4),(_=x)==0){if(e(K!=null),D.data=V.data,D.w=V.w+V.offset,D.ha=V.ha-V.offset,D.put=bt,D.ac=$s,D.bc=to,D.ma=K,V.xa){if((x=bl())==null){K=1;break e}if(function(ae,ye){var Ne=[0],Me=[0],_e=[0];t:for(;;){if(ae==null)return 0;if(ye==null)return ae.a=2,0;if(ae.l=ye,ae.a=0,ee(ae.m,ye.data,ye.w,ye.ha),!no(ae.m,Ne,Me,_e)){ae.a=3;break t}if(ae.xb=Gg,ye.width=Ne[0],ye.height=Me[0],!wa(Ne[0],Me[0],1,ae,null))break t;return 1}return e(ae.a!=0),0}(x,D)){if(D=(_=$i(D.width,D.height,K.Oa,K.ba))==0){t:{D=x;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((T=D.l)!=null),e((V=T.ma)!=null),D.xb!=0){if(D.ca=V.ba,D.tb=V.tb,e(D.ca!=null),!Fl(V.Oa,T,Ac)){D.a=2;break n}if(!wl(D,T.width)||T.da)break n;if((T.da||Nt(D.ca.S))&&Ir(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&Ir()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!te(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!Ys(D,D.V,D.Ba,D.c,D.i,T.o,$o))break n;V.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(_=x.a)}else _=x.a}else{if((x=new Gi)==null){K=1;break e}if(x.Fa=V.na,x.P=V.P,x.qc=V.Sa,vr(x,D)){if((_=$i(D.width,D.height,K.Oa,K.ba))==0){if(x.Aa=0,T=K.Oa,e((V=x)!=null),T!=null){if(0<(ne=0>(ne=T.Md)?0:100<ne?255:255*ne/100)){for(le=me=0;4>le;++le)12>(ke=V.pb[le]).lc&&(ke.ia=ne*Sx[0>ke.lc?0:ke.lc]>>3),me|=ke.ia;me&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=T.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ae,ye){if(ae==null)return 0;if(ye==null)return cn(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!vr(ae,ye))return 0;if(e(ae.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(ae.L=0);var Ne=Bl[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=ye.v-Ne>>4,ae.zb=ye.j-Ne>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=ye.o+15+Ne>>4,ae.Hb=ye.va+15+Ne>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Me=ae.ed;for(Ne=0;4>Ne;++Ne){var _e;if(ae.Qa.Cb){var Oe=ae.Qa.Lb[Ne];ae.Qa.Fb||(Oe+=Me.Tb)}else Oe=Me.Tb;for(_e=0;1>=_e;++_e){var be=ae.gd[Ne][_e],Be=Oe;if(Me.Pc&&(Be+=Me.vd[0],_e&&(Be+=Me.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var De=Be;0<Me.wb&&(De=4<Me.wb?De>>2:De>>1)>9-Me.wb&&(De=9-Me.wb),1>De&&(De=1),be.dd=De,be.tc=2*Be+De,be.ld=40<=Be?2:15<=Be?1:0}else be.tc=0;be.La=_e}}}Ne=0}else cn(ae,6,"Frame setup failed"),Ne=ae.a;if(Ne=Ne==0){if(Ne){ae.$c=0,0<ae.Aa||(ae.Ic=Jg);t:{Ne=ae.Ic,Me=4*(De=ae.za);var dt=32*De,rt=De+1,Tt=0<ae.L?De*(0<ae.Aa?2:1):0,st=(ae.Aa==2?2:1)*De;if((be=Me+832+(_e=3*(16*Ne+Bl[ae.L])/2*dt)+(Oe=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=be)Ne=0;else{if(be>ae.Vb){if(ae.Vb=0,ae.Ec=s(be),ae.Fc=0,ae.Ec==null){Ne=cn(ae,1,"no memory during frame initialization.");break t}ae.Vb=be}be=ae.Ec,Be=ae.Fc,ae.Ac=be,ae.Bc=Be,Be+=Me,ae.Gd=a(dt,Qs),ae.Hd=0,ae.rb=a(rt+1,_l),ae.sb=1,ae.wa=Tt?a(Tt,Or):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=De),e(!0),ae.oc=be,ae.pc=Be,Be+=832,ae.ya=a(st,Sl),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=De),ae.R=16*De,ae.B=8*De,De=(dt=Bl[ae.L])*ae.R,dt=dt/2*ae.B,ae.sa=be,ae.ta=Be+De,ae.qa=ae.sa,ae.ra=ae.ta+16*Ne*ae.R+dt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Ne*ae.B+dt,ae.$c=0,Be+=_e,ae.mb=Oe?be:null,ae.nb=Oe?Be:null,e(Be+Oe<=ae.Fc+ae.Vb),Nl(ae),r(ae.Ac,ae.Bc,0,Me),Ne=1}}if(Ne){if(ye.ka=0,ye.y=ae.sa,ye.O=ae.ta,ye.f=ae.qa,ye.N=ae.ra,ye.ea=ae.Ha,ye.Vd=ae.Ia,ye.fa=ae.R,ye.Rc=ae.B,ye.F=null,ye.J=0,!p0){for(Ne=-255;255>=Ne;++Ne)u0[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)h0[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)d0[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)f0[255+Ne]=0>Ne?0:255<Ne?255:Ne;p0=1}Ea=ro,xo=i0,Ts=Sa,Yt=sd,kt=kl,Sr=us,Wt=Ca,Qt=wr,Es=H,yo=ue,Ma=As,od=A,Ki=ge,ld=ve,cd=js,ud=ka,na=Tl,ps=El,ur[0]=a0,ur[1]=Sc,ur[2]=Iu,ur[3]=ad,ur[4]=so,ur[5]=Bu,ur[6]=En,ur[7]=o0,ur[8]=zu,ur[9]=Xo,Ra[0]=jl,Ra[1]=s0,Ra[2]=Cl,Ra[3]=Du,Ra[4]=Al,Ra[5]=Pl,Ra[6]=sn,ra[0]=l0,ra[1]=r0,ra[2]=Na,ra[3]=Cs,ra[4]=ds,ra[5]=br,ra[6]=Ll,Ne=1}else Ne=0}Ne&&(Ne=function(Xt,_i){for(Xt.M=0;Xt.M<Xt.Va;++Xt.M){var It,ot=Xt.Jc[Xt.M&Xt.Xb],qe=Xt.m,Xn=Xt;for(It=0;It<Xn.za;++It){var ft=qe,Mt=Xn,an=Mt.Ac,Ri=Mt.Bc+4*It,dr=Mt.zc,dn=Mt.ya[Mt.aa+It];if(Mt.Qa.Bb?dn.$b=Ce(ft,Mt.Pa.jb[0])?2+Ce(ft,Mt.Pa.jb[2]):Ce(ft,Mt.Pa.jb[1]):dn.$b=0,Mt.kc&&(dn.Ad=Ce(ft,Mt.Bd)),dn.Za=!Ce(ft,145)+0,dn.Za){var Yi=dn.Ob,Hn=0;for(Mt=0;4>Mt;++Mt){var Fi,on=dr[0+Mt];for(Fi=0;4>Fi;++Fi){on=Ug[an[Ri+Fi]][on];for(var yn=xd[Ce(ft,on[0])];0<yn;)yn=xd[2*yn+Ce(ft,on[yn])];on=-yn,an[Ri+Fi]=on}i(Yi,Hn,an,Ri,4),Hn+=4,dr[0+Mt]=on}}else on=Ce(ft,156)?Ce(ft,128)?1:3:Ce(ft,163)?2:0,dn.Ob[0]=on,r(an,Ri,on,4),r(dr,0,on,4);dn.Dd=Ce(ft,142)?Ce(ft,114)?Ce(ft,183)?1:3:2:0}if(Xn.m.Ka)return cn(Xt,7,"Premature end-of-partition0 encountered.");for(;Xt.ja<Xt.za;++Xt.ja){if(Xn=ot,ft=(qe=Xt).rb[qe.sb-1],an=qe.rb[qe.sb+qe.ja],It=qe.ya[qe.aa+qe.ja],Ri=qe.kc?It.Ad:0)ft.la=an.la=0,It.Za||(ft.Na=an.Na=0),It.Hc=0,It.Gc=0,It.ia=0;else{var Yn,vn;if(ft=an,an=Xn,Ri=qe.Pa.Xc,dr=qe.ya[qe.aa+qe.ja],dn=qe.pb[dr.$b],Mt=dr.ad,Yi=0,Hn=qe.rb[qe.sb-1],on=Fi=0,r(Mt,Yi,0,384),dr.Za)var Si=0,Hr=Ri[3];else{yn=s(16);var Gn=ft.Na+Hn.Na;if(Gn=Wu(an,Ri[1],Gn,dn.Eb,0,yn,0),ft.Na=Hn.Na=(0<Gn)+0,1<Gn)Ea(yn,0,Mt,Yi);else{var Qi=yn[0]+3>>3;for(yn=0;256>yn;yn+=16)Mt[Yi+yn]=Qi}Si=1,Hr=Ri[0]}var bn=15&ft.la,Qn=15&Hn.la;for(yn=0;4>yn;++yn){var kr=1&Qn;for(Qi=vn=0;4>Qi;++Qi)bn=bn>>1|(kr=(Gn=Wu(an,Hr,Gn=kr+(1&bn),dn.Sc,Si,Mt,Yi))>Si)<<7,vn=vn<<2|(3<Gn?3:1<Gn?2:Mt[Yi+0]!=0),Yi+=16;bn>>=4,Qn=Qn>>1|kr<<7,Fi=(Fi<<8|vn)>>>0}for(Hr=bn,Si=Qn>>4,Yn=0;4>Yn;Yn+=2){for(vn=0,bn=ft.la>>4+Yn,Qn=Hn.la>>4+Yn,yn=0;2>yn;++yn){for(kr=1&Qn,Qi=0;2>Qi;++Qi)Gn=kr+(1&bn),bn=bn>>1|(kr=0<(Gn=Wu(an,Ri[2],Gn,dn.Qc,0,Mt,Yi)))<<3,vn=vn<<2|(3<Gn?3:1<Gn?2:Mt[Yi+0]!=0),Yi+=16;bn>>=2,Qn=Qn>>1|kr<<5}on|=vn<<4*Yn,Hr|=bn<<4<<Yn,Si|=(240&Qn)<<Yn}ft.la=Hr,Hn.la=Si,dr.Hc=Fi,dr.Gc=on,dr.ia=43690&on?0:dn.ia,Ri=!(Fi|on)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[It.$b][It.Za],qe.wa[qe.Y+qe.ja].La|=!Ri),Xn.Ka)return cn(Xt,7,"Premature end-of-file encountered.")}if(Nl(Xt),qe=_i,Xn=1,It=(ot=Xt).D,ft=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(It.M=ot.M,It.uc=ft,Kn(ot,It),Xn=1,It=(vn=ot.D).Nb,ft=(on=Bl[ot.L])*ot.R,an=on/2*ot.B,yn=16*It*ot.R,Qi=8*It*ot.B,Ri=ot.sa,dr=ot.ta-ft+yn,dn=ot.qa,Mt=ot.ra-an+Qi,Yi=ot.Ha,Hn=ot.Ia-an+Qi,Qn=(bn=vn.M)==0,Fi=bn>=ot.Va-1,ot.Aa==2&&Kn(ot,vn),vn.uc)for(kr=(Gn=ot).D.M,e(Gn.D.uc),vn=Gn.yb;vn<Gn.Hb;++vn){Si=vn,Hr=kr;var Ji=(Cr=(Jt=Gn).D).Nb;Yn=Jt.R;var Cr=Cr.wa[Cr.Y+Si],Gr=Jt.sa,fr=Jt.ta+16*Ji*Yn+16*Si,xs=Cr.dd,Nn=Cr.tc;if(Nn!=0)if(e(3<=Nn),Jt.L==1)0<Si&&ud(Gr,fr,Yn,Nn+4),Cr.La&&ps(Gr,fr,Yn,Nn),0<Hr&&cd(Gr,fr,Yn,Nn+4),Cr.La&&na(Gr,fr,Yn,Nn);else{var jr=Jt.B,gn=Jt.qa,Rt=Jt.ra+8*Ji*jr+8*Si,Mn=Jt.Ha,Jt=Jt.Ia+8*Ji*jr+8*Si;Ji=Cr.ld,0<Si&&(Qt(Gr,fr,Yn,Nn+4,xs,Ji),yo(gn,Rt,Mn,Jt,jr,Nn+4,xs,Ji)),Cr.La&&(od(Gr,fr,Yn,Nn,xs,Ji),ld(gn,Rt,Mn,Jt,jr,Nn,xs,Ji)),0<Hr&&(Wt(Gr,fr,Yn,Nn+4,xs,Ji),Es(gn,Rt,Mn,Jt,jr,Nn+4,xs,Ji)),Cr.La&&(Ma(Gr,fr,Yn,Nn,xs,Ji),Ki(gn,Rt,Mn,Jt,jr,Nn,xs,Ji))}}if(ot.ia&&alert("todo:DitherRow"),qe.put!=null){if(vn=16*bn,bn=16*(bn+1),Qn?(qe.y=ot.sa,qe.O=ot.ta+yn,qe.f=ot.qa,qe.N=ot.ra+Qi,qe.ea=ot.Ha,qe.W=ot.Ia+Qi):(vn-=on,qe.y=Ri,qe.O=dr,qe.f=dn,qe.N=Mt,qe.ea=Yi,qe.W=Hn),Fi||(bn-=on),bn>qe.o&&(bn=qe.o),qe.F=null,qe.J=null,ot.Fa!=null&&0<ot.Fa.length&&vn<bn&&(qe.J=Sn(ot,qe,vn,bn-vn),qe.F=ot.mb,qe.F==null&&qe.F.length==0)){Xn=cn(ot,3,"Could not decode alpha data.");break t}vn<qe.j&&(on=qe.j-vn,vn=qe.j,e(!(1&on)),qe.O+=ot.R*on,qe.N+=ot.B*(on>>1),qe.W+=ot.B*(on>>1),qe.F!=null&&(qe.J+=qe.width*on)),vn<bn&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=vn-qe.j,qe.U=qe.va-qe.v,qe.T=bn-vn,Xn=qe.put(qe))}It+1!=ot.Ic||Fi||(i(ot.sa,ot.ta-ft,Ri,dr+16*ot.R,ft),i(ot.qa,ot.ra-an,dn,Mt+8*ot.B,an),i(ot.Ha,ot.Ia-an,Yi,Hn+8*ot.B,an))}if(!Xn)return cn(Xt,6,"Output aborted.")}return 1}(ae,ye)),ye.bc!=null&&ye.bc(ye),Ne&=1}return Ne?(ae.cb=0,Ne):0})(x,D)||(_=x.a)}}else _=x.a}_==0&&K.Oa!=null&&K.Oa.fd&&(_=Cc(K.ba))}K=_}$=K!=0?null:11>$?Q.f.RGBA.eb:Q.f.kb.y}else $=null;return $};var wd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(B,O){for(var P="",M=0;M<4;M++)P+=String.fromCharCode(B[O++]);return P}function d(B,O){return B[O+0]|B[O+1]<<8}function g(B,O){return(B[O+0]|B[O+1]<<8|B[O+2]<<16)>>>0}function m(B,O){return(B[O+0]|B[O+1]<<8|B[O+2]<<16|B[O+3]<<24)>>>0}new l;var p=[0],y=[0],b=[],N=new l,S=t,j=function(B,O){var P={},M=0,G=!1,W=0,Z=0;if(P.frames=[],!function(F,q){for(var re=0;re<4;re++)if(F[q+re]!="RIFF".charCodeAt(re))return!0;return!1}(B,O)){for(m(B,O+=4),O+=8;O<B.length;){var ce=c(B,O),pe=m(B,O+=4);O+=4;var J=pe+(1&pe);switch(ce){case"VP8 ":case"VP8L":P.frames[M]===void 0&&(P.frames[M]={}),(se=P.frames[M]).src_off=G?Z:O-8,se.src_size=W+pe+8,M++,G&&(G=!1,W=0,Z=0);break;case"VP8X":(se=P.header={}).feature_flags=B[O];var ee=O+4;se.canvas_width=1+g(B,ee),ee+=3,se.canvas_height=1+g(B,ee),ee+=3;break;case"ALPH":G=!0,W=J+8,Z=O-8;break;case"ANIM":(se=P.header).bgcolor=m(B,O),ee=O+4,se.loop_count=d(B,ee),ee+=2;break;case"ANMF":var he,se;(se=P.frames[M]={}).offset_x=2*g(B,O),O+=3,se.offset_y=2*g(B,O),O+=3,se.width=1+g(B,O),O+=3,se.height=1+g(B,O),O+=3,se.duration=g(B,O),O+=3,he=B[O++],se.dispose=1&he,se.blend=he>>1&1}ce!="ANMF"&&(O+=J)}return P}}(S,0);j.response=S,j.rgbaoutput=!0,j.dataurl=!1;var w=j.header?j.header:null,k=j.frames?j.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],y=[w.canvas_width];for(var E=0;E<k.length&&k[E].blend!=0;E++);}var I=k[0],U=N.WebPDecodeRGBA(S,I.src_off,I.src_size,y,p);I.rgba=U,I.imgwidth=y[0],I.imgheight=p[0];for(var R=0;R<y[0]*p[0]*4;R++)b[R]=U[R];return this.width=y,this.height=p,this.data=b,this}(function(t){var e,n,i,r,s,a,o,l,c,d=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new a,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new a,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var g=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=F;Object.defineProperty(this,"pdf",{get:function(){return q}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(te){re=!!te}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(te){oe=!!te}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(te){isNaN(te)||(de=te)}});var X=0;Object.defineProperty(this,"posY",{get:function(){return X},set:function(te){isNaN(te)||(X=te)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(te){var Ge;typeof te=="number"?Ge=[te,te,te,te]:((Ge=new Array(4))[0]=te[0],Ge[1]=te.length>=2?te[1]:Ge[0],Ge[2]=te.length>=3?te[2]:Ge[0],Ge[3]=te.length>=4?te[3]:Ge[1]),c.margin=Ge}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(te){fe=te}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(te){xe=te}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(te){Ce=te}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(te){te instanceof d&&(c=te)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(te){c.path=te}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(te){Le=te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(te){var Ge;Ge=m(te),this.ctx.fillStyle=Ge.style,this.ctx.isFillTransparent=Ge.a===0,this.ctx.fillOpacity=Ge.a,this.pdf.setFillColor(Ge.r,Ge.g,Ge.b,{a:Ge.a}),this.pdf.setTextColor(Ge.r,Ge.g,Ge.b,{a:Ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(te){var Ge=m(te);this.ctx.strokeStyle=Ge.style,this.ctx.isStrokeTransparent=Ge.a===0,this.ctx.strokeOpacity=Ge.a,Ge.a===0?this.pdf.setDrawColor(255,255,255):(Ge.a,this.pdf.setDrawColor(Ge.r,Ge.g,Ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(te){["butt","round","square"].indexOf(te)!==-1&&(this.ctx.lineCap=te,this.pdf.setLineCap(te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(te){isNaN(te)||(this.ctx.lineWidth=te,this.pdf.setLineWidth(te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(te){["bevel","round","miter"].indexOf(te)!==-1&&(this.ctx.lineJoin=te,this.pdf.setLineJoin(te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(te){isNaN(te)||(this.ctx.miterLimit=te,this.pdf.setMiterLimit(te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(te){this.ctx.textBaseline=te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(te){["right","end","center","left","start"].indexOf(te)!==-1&&(this.ctx.textAlign=te)}});var Ue=null,ze=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(te){Ue=null,ze=null,Ke=te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(te){var Ge;if(this.ctx.font=te,(Ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(te))!==null){var vt=Ge[1];Ge[2];var ht=Ge[3],Ie=Ge[4];Ge[5];var Je=Ge[6],Ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(Ze==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:Ze==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var mt=function(tt){var jn,en,Ht=[],Gt=tt.trim();if(Gt==="")return cv;if(Gt in tk)return[tk[Gt]];for(;Gt!=="";){switch(en=null,jn=(Gt=ik(Gt)).charAt(0)){case'"':case"'":en=Bte(Gt.substring(1),jn);break;default:en=zte(Gt)}if(en===null||(Ht.push(en[0]),(Gt=ik(en[1]))!==""&&Gt.charAt(0)!==","))return cv;Gt=Gt.replace(/^,/,"")}return Ht}(Je);if(this.fontFaces){var Te=function(tt,jn){var en=tt.getFontList(),Ht=JSON.stringify(en);if(Ue===null||ze!==Ht){var Gt=function(zn){var yt=[];return Object.keys(zn).forEach(function(Tn){zn[Tn].forEach(function(Nt){var Ot=null;switch(Nt){case"bold":Ot={family:Tn,weight:"bold"};break;case"italic":Ot={family:Tn,style:"italic"};break;case"bolditalic":Ot={family:Tn,weight:"bold",style:"italic"};break;case"":case"normal":Ot={family:Tn}}Ot!==null&&(Ot.ref={name:Tn,style:Nt},yt.push(Ot))})}),yt}(en);Ue=function(zn){for(var yt={},Tn=0;Tn<zn.length;++Tn){var Nt=lv(zn[Tn]),Ot=Nt.family,Un=Nt.stretch,qt=Nt.style,_t=Nt.weight;yt[Ot]=yt[Ot]||{},yt[Ot][Un]=yt[Ot][Un]||{},yt[Ot][Un][qt]=yt[Ot][Un][qt]||{},yt[Ot][Un][qt][_t]=Nt}return yt}(Gt.concat(jn)),ze=Ht}return Ue}(this.pdf,this.fontFaces),We=mt.map(function(tt){return{family:tt,stretch:"normal",weight:ht,style:vt}}),$e=function(tt,jn,en){for(var Ht=(en=en||{}).defaultFontFamily||"times",Gt=Object.assign({},Ite,en.genericFontFamilies||{}),zn=null,yt=null,Tn=0;Tn<jn.length;++Tn)if(Gt[(zn=lv(jn[Tn])).family]&&(zn.family=Gt[zn.family]),tt.hasOwnProperty(zn.family)){yt=tt[zn.family];break}if(!(yt=yt||tt[Ht]))throw new Error("Could not find a font-family for the rule '"+nk(zn)+"' and default family '"+Ht+"'.");if(yt=function(Nt,Ot){if(Ot[Nt])return Ot[Nt];var Un=mb[Nt],qt=Un<=mb.normal?-1:1,_t=ek(Ot,NT,Un,qt);if(!_t)throw new Error("Could not find a matching font-stretch value for "+Nt);return _t}(zn.stretch,yt),yt=function(Nt,Ot){if(Ot[Nt])return Ot[Nt];for(var Un=ST[Nt],qt=0;qt<Un.length;++qt)if(Ot[Un[qt]])return Ot[Un[qt]];throw new Error("Could not find a matching font-style for "+Nt)}(zn.style,yt),!(yt=function(Nt,Ot){if(Ot[Nt])return Ot[Nt];if(Nt===400&&Ot[500])return Ot[500];if(Nt===500&&Ot[400])return Ot[400];var Un=Dte[Nt],qt=ek(Ot,kT,Un,Nt<400?-1:1);if(!qt)throw new Error("Could not find a matching font-weight for value "+Nt);return qt}(zn.weight,yt)))throw new Error("Failed to resolve a font for the rule '"+nk(zn)+"'.");return yt}(Te,We);this.pdf.setFont($e.ref.name,$e.ref.style)}else{var ut="";(ht==="bold"||parseInt(ht,10)>=700||vt==="bold")&&(ut="bold"),vt==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var At="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},et=0;et<mt.length;et++){if(this.pdf.internal.getFont(mt[et],ut,{noFallback:!0,disableWarning:!0})!==void 0){At=mt[et];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(mt[et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=mt[et],ut="bold";else if(this.pdf.internal.getFont(mt[et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=mt[et],ut="normal";break}}if(At===""){for(var wt=0;wt<mt.length;wt++)if(xt[mt[wt]]){At=xt[mt[wt]];break}}At=At===""?"Times":At,this.pdf.setFont(At,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(te){this.ctx.globalCompositeOperation=te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(te){this.ctx.globalAlpha=te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(te){this.ctx.lineDashOffset=te,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(te){this.ctx.lineDash=te,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(te){this.ctx.ignoreClearRect=!!te}})};g.prototype.setLineDash=function(F){this.lineDash=F},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){k.call(this,"fill",!1)},g.prototype.stroke=function(){k.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(F,q){if(isNaN(F)||isNaN(q))throw In.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new a(F,q));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(F,q)},g.prototype.closePath=function(){var F=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Pn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){F=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(F.x,F.y)},g.prototype.lineTo=function(F,q){if(isNaN(F)||isNaN(q))throw In.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new a(F,q));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},g.prototype.quadraticCurveTo=function(F,q,re,oe){if(isNaN(re)||isNaN(oe)||isNaN(F)||isNaN(q))throw In.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new a(re,oe)),X=this.ctx.transform.applyToPoint(new a(F,q));this.path.push({type:"qct",x1:X.x,y1:X.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},g.prototype.bezierCurveTo=function(F,q,re,oe,de,X){if(isNaN(de)||isNaN(X)||isNaN(F)||isNaN(q)||isNaN(re)||isNaN(oe))throw In.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new a(de,X)),xe=this.ctx.transform.applyToPoint(new a(F,q)),Ce=this.ctx.transform.applyToPoint(new a(re,oe));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Ce.x,y2:Ce.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new a(fe.x,fe.y)},g.prototype.arc=function(F,q,re,oe,de,X){if(isNaN(F)||isNaN(q)||isNaN(re)||isNaN(oe)||isNaN(de))throw In.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(X=!!X,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new a(F,q));F=fe.x,q=fe.y;var xe=this.ctx.transform.applyToPoint(new a(0,re)),Ce=this.ctx.transform.applyToPoint(new a(0,0));re=Math.sqrt(Math.pow(xe.x-Ce.x,2)+Math.pow(xe.y-Ce.y,2))}Math.abs(de-oe)>=2*Math.PI&&(oe=0,de=2*Math.PI),this.path.push({type:"arc",x:F,y:q,radius:re,startAngle:oe,endAngle:de,counterclockwise:X})},g.prototype.arcTo=function(F,q,re,oe,de){throw new Error("arcTo not implemented.")},g.prototype.rect=function(F,q,re,oe){if(isNaN(F)||isNaN(q)||isNaN(re)||isNaN(oe))throw In.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,q),this.lineTo(F+re,q),this.lineTo(F+re,q+oe),this.lineTo(F,q+oe),this.lineTo(F,q),this.lineTo(F+re,q),this.lineTo(F,q)},g.prototype.fillRect=function(F,q,re,oe){if(isNaN(F)||isNaN(q)||isNaN(re)||isNaN(oe))throw In.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,q,re,oe),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},g.prototype.strokeRect=function(F,q,re,oe){if(isNaN(F)||isNaN(q)||isNaN(re)||isNaN(oe))throw In.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(F,q,re,oe),this.stroke())},g.prototype.clearRect=function(F,q,re,oe){if(isNaN(F)||isNaN(q)||isNaN(re)||isNaN(oe))throw In.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,q,re,oe))},g.prototype.save=function(F){F=typeof F!="boolean"||F;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},g.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(q),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(F){var q,re,oe,de;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))q=0,re=0,oe=0,de=0;else{var X=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(X!==null)q=parseInt(X[1]),re=parseInt(X[2]),oe=parseInt(X[3]),de=1;else if((X=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)q=parseInt(X[1]),re=parseInt(X[2]),oe=parseInt(X[3]),de=parseFloat(X[4]);else{if(de=1,typeof F=="string"&&F.charAt(0)!=="#"){var fe=new mT(F);F=fe.ok?fe.toHex():"#000000"}F.length===4?(q=F.substring(1,2),q+=q,re=F.substring(2,3),re+=re,oe=F.substring(3,4),oe+=oe):(q=F.substring(1,3),re=F.substring(3,5),oe=F.substring(5,7)),q=parseInt(q,16),re=parseInt(re,16),oe=parseInt(oe,16)}}return{r:q,g:re,b:oe,a:de,style:F}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(F,q,re,oe){if(isNaN(q)||isNaN(re)||typeof F!="string")throw In.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!p.call(this)){var de=J(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;M.call(this,{text:F,x:q,y:re,scale:X,angle:de,align:this.textAlign,maxWidth:oe})}},g.prototype.strokeText=function(F,q,re,oe){if(isNaN(q)||isNaN(re)||typeof F!="string")throw In.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){oe=isNaN(oe)?void 0:oe;var de=J(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;M.call(this,{text:F,x:q,y:re,scale:X,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:oe})}},g.prototype.measureText=function(F){if(typeof F!="string")throw In.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,re=this.pdf.internal.scaleFactor,oe=q.internal.getFontSize(),de=q.getStringUnitWidth(F)*oe/q.internal.scaleFactor;return new function(X){var fe=(X=X||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:de*=Math.round(96*re/72*1e4)/1e4})},g.prototype.scale=function(F,q){if(isNaN(F)||isNaN(q))throw In.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new l(F,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},g.prototype.rotate=function(F){if(isNaN(F))throw In.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.translate=function(F,q){if(isNaN(F)||isNaN(q))throw In.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new l(1,0,0,1,F,q);this.ctx.transform=this.ctx.transform.multiply(re)},g.prototype.transform=function(F,q,re,oe,de,X){if(isNaN(F)||isNaN(q)||isNaN(re)||isNaN(oe)||isNaN(de)||isNaN(X))throw In.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(F,q,re,oe,de,X);this.ctx.transform=this.ctx.transform.multiply(fe)},g.prototype.setTransform=function(F,q,re,oe,de,X){F=isNaN(F)?1:F,q=isNaN(q)?0:q,re=isNaN(re)?0:re,oe=isNaN(oe)?1:oe,de=isNaN(de)?0:de,X=isNaN(X)?0:X,this.ctx.transform=new l(F,q,re,oe,de,X)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(F,q,re,oe,de,X,fe,xe,Ce){var Le=this.pdf.getImageProperties(F),Ue=1,ze=1,Ke=1,te=1;oe!==void 0&&xe!==void 0&&(Ke=xe/oe,te=Ce/de,Ue=Le.width/oe*xe/oe,ze=Le.height/de*Ce/de),X===void 0&&(X=q,fe=re,q=0,re=0),oe!==void 0&&xe===void 0&&(xe=oe,Ce=de),oe===void 0&&xe===void 0&&(xe=Le.width,Ce=Le.height);var Ge=this.ctx.transform.decompose(),vt=J(Ge.rotate.shx),ht=new l,Ie=(ht=(ht=(ht=ht.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new o(X-q*Ke,fe-re*te,oe*Ue,de*ze));if(this.autoPaging){for(var Je,Ze=N.call(this,Ie),mt=[],Te=0;Te<Ze.length;Te+=1)mt.indexOf(Ze[Te])===-1&&mt.push(Ze[Te]);w(mt);for(var We=mt[0],$e=mt[mt.length-1],ut=We;ut<$e+1;ut++){this.pdf.setPage(ut);var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=ut===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=ut===1?0:et+(ut-2)*wt;if(this.ctx.clip_path.length!==0){var jn=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Je,this.posX+this.margin[3],-tt+xt+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=jn}var en=JSON.parse(JSON.stringify(Ie));en=j([en],this.posX+this.margin[3],-tt+xt+this.ctx.prevPageLastElemOffset)[0];var Ht=(ut>We||ut<$e)&&b.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,wt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",en.x,en.y,en.w,en.h,null,null,vt),Ht&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(F,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,vt)};var N=function(F,q,re){var oe=[];q=q||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":oe.push(Math.floor((F.y+de)/re)+1);break;case"arc":oe.push(Math.floor((F.y+de-F.radius)/re)+1),oe.push(Math.floor((F.y+de+F.radius)/re)+1);break;case"qct":var X=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);oe.push(Math.floor((X.y+de)/re)+1),oe.push(Math.floor((X.y+X.h+de)/re)+1);break;case"bct":var fe=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);oe.push(Math.floor((fe.y+de)/re)+1),oe.push(Math.floor((fe.y+fe.h+de)/re)+1);break;case"rect":oe.push(Math.floor((F.y+de)/re)+1),oe.push(Math.floor((F.y+F.h+de)/re)+1)}for(var xe=0;xe<oe.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<oe[xe];)S.call(this);return oe},S=function(){var F=this.fillStyle,q=this.strokeStyle,re=this.font,oe=this.lineCap,de=this.lineWidth,X=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=q,this.font=re,this.lineCap=oe,this.lineWidth=de,this.lineJoin=X},j=function(F,q,re){for(var oe=0;oe<F.length;oe++)switch(F[oe].type){case"bct":F[oe].x2+=q,F[oe].y2+=re;case"qct":F[oe].x1+=q,F[oe].y1+=re;default:F[oe].x+=q,F[oe].y+=re}return F},w=function(F){return F.sort(function(q,re){return q-re})},k=function(F,q){var re=this.fillStyle,oe=this.strokeStyle,de=this.lineCap,X=this.lineWidth,fe=Math.abs(X*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Ce,Le,Ue=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),Ke=[],te=0;te<ze.length;te++)if(ze[te].x!==void 0)for(var Ge=N.call(this,ze[te]),vt=0;vt<Ge.length;vt+=1)Ke.indexOf(Ge[vt])===-1&&Ke.push(Ge[vt]);for(var ht=0;ht<Ke.length;ht++)for(;this.pdf.internal.getNumberOfPages()<Ke[ht];)S.call(this);w(Ke);for(var Ie=Ke[0],Je=Ke[Ke.length-1],Ze=Ie;Ze<Je+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=re,this.strokeStyle=oe,this.lineCap=de,this.lineWidth=fe,this.lineJoin=xe;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=Ze===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Ze===1?0:We+(Ze-2)*$e;if(this.ctx.clip_path.length!==0){var At=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ce,this.posX+this.margin[3],-ut+Te+this.ctx.prevPageLastElemOffset),E.call(this,F,!0),this.path=At}if(Le=JSON.parse(JSON.stringify(Ue)),this.path=j(Le,this.posX+this.margin[3],-ut+Te+this.ctx.prevPageLastElemOffset),q===!1||Ze===0){var xt=(Ze>Ie||Ze<Je)&&b.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,$e,null).clip().discardPath()),E.call(this,F,q),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=X}this.path=Ue}else this.lineWidth=fe,E.call(this,F,q),this.lineWidth=X},E=function(F,q){if((F!=="stroke"||q||!y.call(this))&&(F==="stroke"||q||!p.call(this))){for(var re,oe,de=[],X=this.path,fe=0;fe<X.length;fe++){var xe=X[fe];switch(xe.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:xe,deltas:[],abs:[]});break;case"lt":var Ce=de.length;if(X[fe-1]&&!isNaN(X[fe-1].x)&&(re=[xe.x-X[fe-1].x,xe.y-X[fe-1].y],Ce>0)){for(;Ce>=0;Ce--)if(de[Ce-1].close!==!0&&de[Ce-1].begin!==!0){de[Ce-1].deltas.push(re),de[Ce-1].abs.push(xe);break}}break;case"bct":re=[xe.x1-X[fe-1].x,xe.y1-X[fe-1].y,xe.x2-X[fe-1].x,xe.y2-X[fe-1].y,xe.x-X[fe-1].x,xe.y-X[fe-1].y],de[de.length-1].deltas.push(re);break;case"qct":var Le=X[fe-1].x+2/3*(xe.x1-X[fe-1].x),Ue=X[fe-1].y+2/3*(xe.y1-X[fe-1].y),ze=xe.x+2/3*(xe.x1-xe.x),Ke=xe.y+2/3*(xe.y1-xe.y),te=xe.x,Ge=xe.y;re=[Le-X[fe-1].x,Ue-X[fe-1].y,ze-X[fe-1].x,Ke-X[fe-1].y,te-X[fe-1].x,Ge-X[fe-1].y],de[de.length-1].deltas.push(re);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(xe)}}oe=q?null:F==="stroke"?"stroke":"fill";for(var vt=!1,ht=0;ht<de.length;ht++)if(de[ht].arc)for(var Ie=de[ht].abs,Je=0;Je<Ie.length;Je++){var Ze=Ie[Je];Ze.type==="arc"?R.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,q,!vt):G.call(this,Ze.x,Ze.y),vt=!0}else if(de[ht].close===!0)this.pdf.internal.out("h"),vt=!1;else if(de[ht].begin!==!0){var mt=de[ht].start.x,Te=de[ht].start.y;W.call(this,de[ht].deltas,mt,Te),vt=!0}oe&&B.call(this,oe),q&&O.call(this)}},I=function(F){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-re;case"top":return F+q-re;case"hanging":return F+q-2*re;case"middle":return F+q/2-re;default:return F}},U=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(q,re){this.colorStops.push([q,re])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(F,q,re,oe,de,X,fe,xe,Ce){for(var Le=ce.call(this,re,oe,de,X),Ue=0;Ue<Le.length;Ue++){var ze=Le[Ue];Ue===0&&(Ce?P.call(this,ze.x1+F,ze.y1+q):G.call(this,ze.x1+F,ze.y1+q)),Z.call(this,F,q,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}xe?O.call(this):B.call(this,fe)},B=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(F,q){this.pdf.internal.out(n(F)+" "+i(q)+" m")},M=function(F){var q;switch(F.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var re,oe,de,X=this.pdf.getTextDimensions(F.text),fe=I.call(this,F.y),xe=U.call(this,fe)-X.h,Ce=this.ctx.transform.applyToPoint(new a(F.x,fe));if(this.autoPaging){var Le=this.ctx.transform.decompose(),Ue=new l;Ue=(Ue=(Ue=Ue.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale);for(var ze=this.ctx.transform.applyToRectangle(new o(F.x,fe,X.w,X.h)),Ke=Ue.applyToRectangle(new o(F.x,xe,X.w,X.h)),te=N.call(this,Ke),Ge=[],vt=0;vt<te.length;vt+=1)Ge.indexOf(te[vt])===-1&&Ge.push(te[vt]);w(Ge);for(var ht=Ge[0],Ie=Ge[Ge.length-1],Je=ht;Je<Ie+1;Je++){this.pdf.setPage(Je);var Ze=Je===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[2],We=Te-this.margin[0],$e=this.pdf.internal.pageSize.width-this.margin[1],ut=$e-this.margin[3],At=Je===1?0:mt+(Je-2)*We;if(this.ctx.clip_path.length!==0){var xt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(re,this.posX+this.margin[3],-1*At+Ze),E.call(this,"fill",!0),this.path=xt}var et=j([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-At+Ze+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*F.scale),de=this.lineWidth,this.lineWidth=de*F.scale);var wt=this.autoPaging!=="text";if(wt||et.y+et.h<=Te){if(wt||et.y>=Ze&&et.x<=$e){var tt=wt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||$e-et.x)[0],jn=j([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-At+Ze+this.ctx.prevPageLastElemOffset)[0],en=wt&&(Je>ht||Je<Ie)&&b.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,We,null).clip().discardPath()),this.pdf.text(tt,jn.x,jn.y,{angle:F.angle,align:q,renderingMode:F.renderingMode}),en&&this.pdf.restoreGraphicsState()}}else et.y<Te&&(this.ctx.prevPageLastElemOffset+=Te-et.y);F.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=de)}}else F.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*F.scale),de=this.lineWidth,this.lineWidth=de*F.scale),this.pdf.text(F.text,Ce.x+this.posX,Ce.y+this.posY,{angle:F.angle,align:q,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=de)},G=function(F,q,re,oe){re=re||0,oe=oe||0,this.pdf.internal.out(n(F+re)+" "+i(q+oe)+" l")},W=function(F,q,re){return this.pdf.lines(F,q,re,null,null)},Z=function(F,q,re,oe,de,X,fe,xe){this.pdf.internal.out([e(r(re+F)),e(s(oe+q)),e(r(de+F)),e(s(X+q)),e(r(fe+F)),e(s(xe+q)),"c"].join(" "))},ce=function(F,q,re,oe){for(var de=2*Math.PI,X=Math.PI/2;q>re;)q-=de;var fe=Math.abs(re-q);fe<de&&oe&&(fe=de-fe);for(var xe=[],Ce=oe?-1:1,Le=q;fe>1e-5;){var Ue=Le+Ce*Math.min(fe,X);xe.push(pe.call(this,F,Le,Ue)),fe-=Math.abs(Ue-Le),Le=Ue}return xe},pe=function(F,q,re){var oe=(re-q)/2,de=F*Math.cos(oe),X=F*Math.sin(oe),fe=de,xe=-X,Ce=fe*fe+xe*xe,Le=Ce+fe*de+xe*X,Ue=4/3*(Math.sqrt(2*Ce*Le)-Le)/(fe*X-xe*de),ze=fe-Ue*xe,Ke=xe+Ue*fe,te=ze,Ge=-Ke,vt=oe+q,ht=Math.cos(vt),Ie=Math.sin(vt);return{x1:F*Math.cos(q),y1:F*Math.sin(q),x2:ze*ht-Ke*Ie,y2:ze*Ie+Ke*ht,x3:te*ht-Ge*Ie,y3:te*Ie+Ge*ht,x4:F*Math.cos(re),y4:F*Math.sin(re)}},J=function(F){return 180*F/Math.PI},ee=function(F,q,re,oe,de,X){var fe=F+.5*(re-F),xe=q+.5*(oe-q),Ce=de+.5*(re-de),Le=X+.5*(oe-X),Ue=Math.min(F,de,fe,Ce),ze=Math.max(F,de,fe,Ce),Ke=Math.min(q,X,xe,Le),te=Math.max(q,X,xe,Le);return new o(Ue,Ke,ze-Ue,te-Ke)},he=function(F,q,re,oe,de,X,fe,xe){var Ce,Le,Ue,ze,Ke,te,Ge,vt,ht,Ie,Je,Ze,mt,Te,We=re-F,$e=oe-q,ut=de-re,At=X-oe,xt=fe-de,et=xe-X;for(Le=0;Le<41;Le++)ht=(Ge=(Ue=F+(Ce=Le/40)*We)+Ce*((Ke=re+Ce*ut)-Ue))+Ce*(Ke+Ce*(de+Ce*xt-Ke)-Ge),Ie=(vt=(ze=q+Ce*$e)+Ce*((te=oe+Ce*At)-ze))+Ce*(te+Ce*(X+Ce*et-te)-vt),Le==0?(Je=ht,Ze=Ie,mt=ht,Te=Ie):(Je=Math.min(Je,ht),Ze=Math.min(Ze,Ie),mt=Math.max(mt,ht),Te=Math.max(Te,Ie));return new o(Math.round(Je),Math.round(Ze),Math.round(mt-Je),Math.round(Te-Ze))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,q,re=(F=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:q}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(gt.API),function(t){var e=function(a){var o,l,c,d,g,m,p,y,b,N;for(l=[],c=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(g=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(m=(g=((g=((g=((g=(g-(N=g%85))/85)-(b=g%85))/85)-(y=g%85))/85)-(p=g%85))/85)%85,l.push(m+33,p+33,y+33,b+33,N+33)):l.push(122);return function(S,j){for(var w=j;w>0;w--)S.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,c,d,g,m=String,p="length",y=255,b="charCodeAt",N="slice",S="replace";for(a[N](-2),a=a[N](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],d=0,g=(a+=o="uuuuu"[N](a[p]%5||5))[p];g>d;d+=5)l=52200625*(a[b](d)-33)+614125*(a[b](d+1)-33)+7225*(a[b](d+2)-33)+85*(a[b](d+3)-33)+(a[b](d+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(j,w){for(var k=w;k>0;k--)j.pop()}(c,o[p]),m.fromCharCode.apply(m,c)},i=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=cb(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var l=0,c=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=i(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(gt.API),function(t){t.loadFile=function(e,n,i){return function(r,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,d){var g=new XMLHttpRequest,m=0,p=function(y){var b=y.length,N=[],S=String.fromCharCode;for(m=0;m<b;m+=1)N.push(S(255&y.charCodeAt(m)));return N.join("")};if(g.open("GET",l,!c),g.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(g.onload=function(){g.status===200?d(p(this.responseText)):d(void 0)}),g.send(null),c&&g.status===200)return p(g.responseText)}(r,s,a)}catch{}return o}(e,n,i)},t.loadImageFile=t.loadFile}(gt.API),function(t){function e(){return(Et.html2canvas?Promise.resolve(Et.html2canvas):Gy(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Et.DOMPurify?Promise.resolve(Et.DOMPurify):Gy(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var l=Pn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},s=function o(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)c!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(o(g,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(c){return this.set({src:r("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var y=d[p],b=y.src.find(function(N){return N.format==="truetype"});b&&c.addFont(b.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(i(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,g){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,d),m}).then(d,g).then(function(m){return c.updateProgress(1),m})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),m=c.call(g,o,l);return a.convert(m,d.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,gt.getPageSize=function(o,l,c){if(Pn(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var g,m=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var y,b=0,N=0;if(p.hasOwnProperty(m))b=p[m][1]/g,N=p[m][0]/g;else try{b=c[1],N=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",N>b&&(y=N,N=b,b=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>N&&(y=N,N=b,b=y)}return{width:N,height:b,unit:l,k:g,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(lv):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(gt.API),gt.API.addJS=function(t){return sk=t,this.internal.events.subscribe("postPutResources",function(){e1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),rk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+sk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e1!==void 0&&rk!==void 0&&this.internal.out("/Names <</JavaScript "+e1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],o=i.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(s=0;s<c;s++){var g=n.internal.newObject();d.push(g);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,s){var a={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var a=i.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(gt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,r,s,a,o){var l,c=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(g){for(var m,p=256*g.charCodeAt(4)+g.charCodeAt(5),y=g.length,b={width:0,height:0,numcomponents:1},N=4;N<y;N+=2){if(N+=p,e.indexOf(g.charCodeAt(N+1))!==-1){m=256*g.charCodeAt(N+5)+g.charCodeAt(N+6),b={width:256*g.charCodeAt(N+7)+g.charCodeAt(N+8),height:m,numcomponents:g.charCodeAt(N+9)};break}p=256*g.charCodeAt(N+2)+g.charCodeAt(N+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:i,alias:r}}return d}}(gt.API),gt.API.processPNG=function(t,e,n,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var r,s=Ste(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,d=s.depth;r=c&&l===1?function(R){for(var B=R.width,O=R.height,P=R.data,M=R.palette,G=R.depth,W=!1,Z=[],ce=[],pe=void 0,J=!1,ee=0,he=0;he<M.length;he++){var se=cN(M[he],4),F=se[0],q=se[1],re=se[2],oe=se[3];Z.push(F,q,re),oe!=null&&(oe===0?(ee++,ce.length<1&&ce.push(he)):oe<255&&(J=!0))}if(J||ee>1){W=!0,ce=void 0;var de=B*O;pe=new Uint8Array(de);for(var X=new DataView(P.buffer),fe=0;fe<de;fe++){var xe=uv(X,fe,G),Ce=cN(M[xe],4)[3];pe[fe]=Ce}}else ee===0&&(ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:P,alphaBytes:pe,needSMask:W,palette:Z,mask:ce}}(s):l===2||l===4?function(R){for(var B=R.data,O=R.width,P=R.height,M=R.channels,G=R.depth,W=M===2?"DeviceGray":"DeviceRGB",Z=M-1,ce=O*P,pe=Z,J=ce*pe,ee=1*ce,he=Math.ceil(J*G/8),se=Math.ceil(ee*G/8),F=new Uint8Array(he),q=new Uint8Array(se),re=new DataView(B.buffer),oe=new DataView(F.buffer),de=new DataView(q.buffer),X=!1,fe=0;fe<ce;fe++){for(var xe=fe*M,Ce=0;Ce<pe;Ce++)pk(oe,uv(re,xe+Ce,G),fe*pe+Ce,G);var Le=uv(re,xe+pe,G);Le<(1<<G)-1&&(X=!0),pk(de,Le,1*fe,G)}return{colorSpace:W,colorsPerPixel:Z,sMaskBitsPerComponent:X?G:void 0,colorBytes:F,alphaBytes:q,needSMask:X}}(s):function(R){var B=R.data,O=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?function(P){for(var M=P.length,G=new Uint8Array(2*M),W=new DataView(G.buffer,G.byteOffset,G.byteLength),Z=0;Z<M;Z++)W.setUint16(2*Z,P[Z],!1);return G}(B):B,needSMask:!1}}(s);var g,m,p,y=r,b=y.colorSpace,N=y.colorsPerPixel,S=y.sMaskBitsPerComponent,j=y.colorBytes,w=y.alphaBytes,k=y.needSMask,E=y.palette,I=y.mask,U=null;return i!==gt.API.image_compression.NONE&&typeof cb=="function"?(U=function(R){var B;switch(R){case gt.API.image_compression.FAST:B=11;break;case gt.API.image_compression.MEDIUM:B=13;break;case gt.API.image_compression.SLOW:B=14;break;default:B=12}return B}(i),g=this.decode.FLATE_DECODE,m="/Predictor ".concat(U," /Colors ").concat(N," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=ck(j,Math.ceil(a*N*d/8),N,d,i),k&&(p=ck(w,Math.ceil(a*S/8),1,S,i))):(g=void 0,m=void 0,t=j,k&&(p=w)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:g,decodeParameters:m,transparency:I,palette:E,sMask:p,predictor:U,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:S,colorSpace:b}}},function(t){t.processGIF89A=function(e,n,i,r){var s=new Gte(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},d=new hv(100).encode(c,100);return t.processJPEG.call(this,d,n,i,r)},t.processGIF87A=t.processGIF89A}(gt.API),Ao.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ao.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){In.log("bit decode error:"+n)}},Ao.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*r*4,o=0;o<8&&8*r+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Ao.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*r*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Ao.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(r<this.palette.length){var a=this.palette[r];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ao.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,d=i*this.width*4+4*r;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=c}this.pos+=t}},Ao.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,d=r*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},Ao.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},Ao.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=a}},Ao.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,i,r){var s=new Ao(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new hv(100).encode(l,100);return t.processJPEG.call(this,c,n,i,r)}}(gt.API),mk.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,i,r){var s=new mk(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new hv(100).encode(l,100);return t.processJPEG.call(this,c,n,i,r)}}(gt.API),gt.API.processRGBA=function(t,e,n){for(var i=t.data,r=i.length,s=new Uint8Array(r/4*3),a=new Uint8Array(r/4),o=0,l=0,c=0;c<r;c+=4){var d=i[c],g=i[c+1],m=i[c+2],p=i[c+3];s[o++]=d,s[o++]=g,s[o++]=m,a[l++]=p}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},gt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Dd=gt.API,t1=Dd.getCharWidthsArray=function(t,e){var n,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:r.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:r.metadata.Unicode.kerning,d=c.fof?c.fof:1,g=e.doKerning!==!1,m=0,p=t.length,y=0,b=o[0]||l,N=[];for(n=0;n<p;n++)i=t.charCodeAt(n),typeof r.metadata.widthOfString=="function"?N.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(m=g&&Pn(c[i])==="object"&&!isNaN(parseInt(c[i][y],10))?c[i][y]/d:0,N.push((o[i]||b)/l+m)),y=i;return N},ak=Dd.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Dd.processArabic&&(t=Dd.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,r)/n:t1.apply(this,arguments).reduce(function(s,a){return s+a},0)},ok=function(t,e,n,i){for(var r=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;r.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>i&&(r.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&r.push(t.slice(l,s)),r},lk=function(t,e,n){n||(n={});var i,r,s,a,o,l,c,d=[],g=[d],m=n.textIndent||0,p=0,y=0,b=t.split(" "),N=t1.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var S=Array(l).join(" "),j=[];b.map(function(k){(k=k.split(/\s*\n/)).length>1?j=j.concat(k.map(function(E,I){return(I&&E.length?`
`:"")+E})):j.push(k[0])}),b=j,l=ak.apply(this,[S,n])}for(s=0,a=b.length;s<a;s++){var w=0;if(i=b[s],l&&i[0]==`
`&&(i=i.substr(1),w=1),m+p+(y=(r=t1.apply(this,[i,n])).reduce(function(k,E){return k+E},0))>e||w){if(y>e){for(o=ok.apply(this,[i,r,e-(m+p),e]),d.push(o.shift()),d=[o.pop()];o.length;)g.push([o.shift()]);y=r.slice(i.length-(d[0]?d[0].length:0)).reduce(function(k,E){return k+E},0)}else d=[i];g.push(d),m=y+l,p=N}else d.push(i),m+=p+y,p=N}return c=l?function(k,E){return(E?S:"")+k.join(" ")}:function(k){return k.join(" ")},g.map(c)},Dd.splitTextToSize=function(t,e,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return g.metadata[m]?{widths:g.metadata[m].widths||{0:1},kerning:g.metadata[m].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/r;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=i.length;o<l;o++)c=c.concat(lk.apply(this,[i[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",i={},r={},s=0;s<16;s++)i[n[s]]=e[s],r[e[s]]=n[s];var a=function(m){return"0x"+parseInt(m,10).toString(16)},o=t.__fontmetrics__.compress=function(m){var p,y,b,N,S=["{"];for(var j in m){if(p=m[j],isNaN(parseInt(j,10))?y="'"+j+"'":(j=parseInt(j,10),y=(y=a(j).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof p=="number")p<0?(b=a(p).slice(3),N="-"):(b=a(p).slice(2),N=""),b=N+b.slice(0,-1)+r[b.slice(-1)];else{if(Pn(p)!=="object")throw new Error("Don't know what to do with value type "+Pn(p)+".");b=o(p)}S.push(y+b)}return S.push("}"),S.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,b,N,S={},j=1,w=S,k=[],E="",I="",U=m.length-1,R=1;R<U;R+=1)(N=m[R])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(N):N=="{"?(k.push([w,b]),w={},b=void 0):N=="}"?((y=k.pop())[0][y[1]]=w,b=void 0,w=y[0]):N=="-"?j=-1:b===void 0?i.hasOwnProperty(N)?(E+=i[N],b=parseInt(E,16)*j,j=1,E=""):E+=N:i.hasOwnProperty(N)?(I+=i[N],w[b]=parseInt(I,16)*j,j=1,b=void 0,I=""):I+=N;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var p=m.font,y=g.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var b=d.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(gt.API),function(t){var e=function(n){for(var i=n.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=n.charCodeAt(s);return r};t.API.events.push(["addFont",function(n){var i=void 0,r=n.font,s=n.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(E1(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(r,i)}}])}(gt),gt.API.addSvgAsImage=function(t,e,n,i,r,s,a,o){if(isNaN(e)||isNaN(n))throw In.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw In.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Et.canvg?Promise.resolve(Et.canvg):Gy(()=>import("./index.es-DMK-xSCO.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(c,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),e,n,i,r,a,o)})},gt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,n);return this},gt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,r,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,d=0,g=0;function m(y,b){var N,S=!1;for(N=0;N<y.length;N+=1)y[N]===b&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(g=0;g<p;g+=1)n[o[g]].value=n[o[g]].defaultValue,n[o[g]].explicitSet=!1}if(Pn(t)==="object"){for(r in t)if(s=t[r],m(o,r)&&s!==void 0){if(n[r].type==="boolean"&&typeof s=="boolean")n[r].value=s;else if(n[r].type==="name"&&m(n[r].valueSet,s))n[r].value=s;else if(n[r].type==="integer"&&Number.isInteger(s))n[r].value=s;else if(n[r].type==="array"){for(c=0;c<s.length;c+=1)if(i=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)typeof s[c][d]!="number"&&(i=!1);i===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[r].value="["+l.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,b=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?b.push("/"+y+" /"+n[y].value):b.push("/"+y+" "+n[y].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(gt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],g=0,m=s.length;g<m;++g){if(o=a.metadata.characterToGlyph(s.charCodeAt(g)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(g),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(c[4-o.length],o)}return d.join("")},i=function(s){var a,o,l,c,d,g,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,m=(o=Object.keys(s).sort(function(p,y){return p-y})).length;g<m;g++)a=o[g],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var g=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",y=0;y<m.length;y++)p+=String.fromCharCode(m[y]);var b=c();d({data:p,addLength1:!0,objectId:b}),l("endobj");var N=c();d({data:i(o.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var S=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ud(o.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var j=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ud(o.fontName)),l("/FontDescriptor "+S+" 0 R"),l("/W "+t.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+N+" 0 R"),l("/BaseFont /"+Ud(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+j+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var g=o.metadata.rawData,m="",p=0;p<g.length;p++)m+=String.fromCharCode(g[p]);var y=c();d({data:m,addLength1:!0,objectId:y}),l("endobj");var b=c();d({data:i(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var N=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Ud(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var S=0;S<o.metadata.hmtx.widths.length;S++)o.metadata.hmtx.widths[S]=parseInt(o.metadata.hmtx.widths[S]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Ud(o.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var r=function(s){var a,o=s.text||"",l=s.x,c=s.y,d=s.options||{},g=s.mutex||{},m=g.pdfEscape,p=g.activeFontKey,y=g.fonts,b=p,N="",S=0,j="",w=y[b].encoding;if(y[b].encoding!=="Identity-H")return{text:o,x:l,y:c,options:d,mutex:g};for(j=o,b=p,Array.isArray(o)&&(j=o[0]),S=0;S<j.length;S+=1)y[b].metadata.hasOwnProperty("cmap")&&(a=y[b].metadata.cmap.unicode.codeMap[j[S].charCodeAt(0)]),a||j[S].charCodeAt(0)<256&&y[b].metadata.hasOwnProperty("Unicode")?N+=j[S]:N+="";var k="";return parseInt(b.slice(1))<14||w==="WinAnsiEncoding"?k=m(N,b).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(k=n(N,y[b])),g.isHex=!0,{text:k,x:l,y:c,options:d,mutex:g}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([r(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(r(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=r(Object.assign({},l,{text:a})).text}])}(gt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(gt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var r,s,a,o,l,c,d,g=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,w=0;this.__bidiEngine__={};var k=function(P){var M=P.charCodeAt(),G=M>>8,W=b[G];return W!==void 0?g[256*W+(255&M)]:G===252||G===253?"AL":S.test(G)?"L":G===8?"R":"N"},E=function(P){for(var M,G=0;G<P.length;G++){if((M=k(P.charAt(G)))==="L")return!1;if(M==="R")return!0}return!1},I=function(P,M,G,W){var Z,ce,pe,J,ee=M[W];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(ee="AN");break;case"AL":j=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":W<1||W+1>=M.length||(Z=G[W-1])!=="EN"&&Z!=="AN"||(ce=M[W+1])!=="EN"&&ce!=="AN"?ee="N":j&&(ce="AN"),ee=ce===Z?ce:"N";break;case"ES":ee=(Z=W>0?G[W-1]:"B")==="EN"&&W+1<M.length&&M[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&G[W-1]==="EN"){ee="EN";break}if(j){ee="N";break}for(pe=W+1,J=M.length;pe<J&&M[pe]==="ET";)pe++;ee=pe<J&&M[pe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(J=M.length,pe=W+1;pe<J&&M[pe]==="NSM";)pe++;if(pe<J){var he=P[W],se=he>=1425&&he<=2303||he===64286;if(Z=M[pe],se&&(Z==="R"||Z==="AL")){ee="R";break}}}ee=W<1||(Z=M[W-1])==="B"?"N":G[W-1];break;case"B":j=!1,r=!0,ee=w;break;case"S":s=!0,ee="N"}return ee},U=function(P,M,G){var W=P.split("");return G&&R(W,G,{hiLevel:w}),W.reverse(),M&&M.reverse(),W.join("")},R=function(P,M,G){var W,Z,ce,pe,J,ee=-1,he=P.length,se=0,F=[],q=w?p:m,re=[];for(j=!1,r=!1,s=!1,Z=0;Z<he;Z++)re[Z]=k(P[Z]);for(ce=0;ce<he;ce++){if(J=se,F[ce]=I(P,re,F,ce),W=240&(se=q[J][y[F[ce]]]),se&=15,M[ce]=pe=q[se][5],W>0)if(W===16){for(Z=ee;Z<ce;Z++)M[Z]=1;ee=-1}else ee=-1;if(q[se][6])ee===-1&&(ee=ce);else if(ee>-1){for(Z=ee;Z<ce;Z++)M[Z]=pe;ee=-1}re[ce]==="B"&&(M[ce]=0),G.hiLevel|=pe}s&&function(oe,de,X){for(var fe=0;fe<X;fe++)if(oe[fe]==="S"){de[fe]=w;for(var xe=fe-1;xe>=0&&oe[xe]==="WS";xe--)de[xe]=w}}(re,M,he)},B=function(P,M,G,W,Z){if(!(Z.hiLevel<P)){if(P===1&&w===1&&!r)return M.reverse(),void(G&&G.reverse());for(var ce,pe,J,ee,he=M.length,se=0;se<he;){if(W[se]>=P){for(J=se+1;J<he&&W[J]>=P;)J++;for(ee=se,pe=J-1;ee<pe;ee++,pe--)ce=M[ee],M[ee]=M[pe],M[pe]=ce,G&&(ce=G[ee],G[ee]=G[pe],G[pe]=ce);se=J}se++}}},O=function(P,M,G){var W=P.split(""),Z={hiLevel:w};return G||(G=[]),R(W,G,Z),function(ce,pe,J){if(J.hiLevel!==0&&d)for(var ee,he=0;he<ce.length;he++)pe[he]===1&&(ee=N.indexOf(ce[he]))>=0&&(ce[he]=N[ee+1])}(W,G,Z),B(2,W,M,G,Z),B(1,W,M,G,Z),W.join("")};return this.__bidiEngine__.doBidiReorder=function(P,M,G){if(function(Z,ce){if(ce)for(var pe=0;pe<Z.length;pe++)ce[pe]=pe;o===void 0&&(o=E(Z)),c===void 0&&(c=E(Z))}(P,M),a||!l||c)if(a&&l&&o^c)w=o?1:0,P=U(P,M,G);else if(!a&&l&&c)w=o?1:0,P=O(P,M,G),P=U(P,M);else if(!a||o||l||c){if(a&&!l&&o^c)P=U(P,M),o?(w=0,P=O(P,M,G)):(w=1,P=O(P,M,G),P=U(P,M));else if(a&&o&&!l&&c)w=1,P=O(P,M,G),P=U(P,M);else if(!a&&!l&&o^c){var W=d;o?(w=1,P=O(P,M,G),w=0,d=!1,P=O(P,M,G),d=W):(w=0,P=O(P,M,G),P=U(P,M),w=1,d=!1,P=O(P,M,G),d=W,P=U(P,M))}}else w=0,P=O(P,M,G);else w=o?1:0,P=O(P,M,G);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,l=P.isOutputVisual,o=P.isInputRtl,c=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var o=0;for(a=[],o=0;o<r.length;o+=1)Object.prototype.toString.call(r[o])==="[object Array]"?a.push([n.doBidiReorder(r[o][0]),r[o][1],r[o][2]]):a.push([n.doBidiReorder(r[o])]);i.text=a}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(gt),gt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new bu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new sne(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Wte(this.contents),this.head=new $te(this),this.name=new Jte(this),this.cmap=new jT(this),this.toUnicode={},this.hhea=new Kte(this),this.maxp=new Zte(this),this.hmtx=new ene(this),this.post=new Yte(this),this.os2=new Xte(this),this.loca=new rne(this),this.glyf=new tne(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var r,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)r=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t}();var Wo,bu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,r;for(r=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(e.charCodeAt(n)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,r,s,a,o,l;return e=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*r+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)n=e[i],s.push(this.writeByte(n));return s},t}(),Wte=function(){var t;function e(n){var i,r,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,r,s,a,o,l,c,d,g,m,p,y,b;for(b in p=Object.keys(n).length,l=Math.log(2),g=16*Math.floor(Math.log(p)/l),a=Math.floor(g/l),d=16*p-g,(r=new bu).writeInt(this.scalarType),r.writeShort(p),r.writeShort(g),r.writeShort(a),r.writeShort(d),s=16*p,c=r.pos+s,o=null,y=[],n)for(m=n[b],r.writeString(b),r.writeInt(t(m)),r.writeInt(c),r.writeInt(m.length),y=y.concat(m),b==="head"&&(o=c),c+=m.length;c%4;)y.push(0),c++;return r.write(y),i=2981146554-t(r.data),r.pos=o+8,r.writeUInt32(i),r.data},t=function(n){var i,r,s,a;for(n=AT.call(n);n.length%4;)n.push(0);for(s=new bu(n),r=0,i=0,a=n.length;i<a;i=i+=4)r+=s.readUInt32();return 4294967295&r},e}(),qte={}.hasOwnProperty,vl=function(t,e){for(var n in e)qte.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Wo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var $te=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Wo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new bu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),xk=function(){function t(e,n){var i,r,s,a,o,l,c,d,g,m,p,y,b,N,S,j,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=function(){var k,E;for(E=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)E.push(e.readUInt16());return E}(),e.pos+=2,b=function(){var k,E;for(E=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)E.push(e.readUInt16());return E}(),c=function(){var k,E;for(E=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)E.push(e.readUInt16());return E}(),d=function(){var k,E;for(E=[],l=k=0;0<=m?k<m:k>m;l=0<=m?++k:--k)E.push(e.readUInt16());return E}(),r=(this.length-e.pos+this.offset)/2,o=function(){var k,E;for(E=[],l=k=0;0<=r?k<r:k>r;l=0<=r?++k:--k)E.push(e.readUInt16());return E}(),l=S=0,w=s.length;S<w;l=++S)for(N=s[l],i=j=y=b[l];y<=N?j<=N:j>=N;i=y<=N?++j:--j)d[l]===0?a=i+c[l]:(a=o[d[l]/2+(i-y)-(m-l)]||0)!==0&&(a+=c[l]),this.codeMap[i]=65535&a}e.pos=g}return t.encode=function(e,n){var i,r,s,a,o,l,c,d,g,m,p,y,b,N,S,j,w,k,E,I,U,R,B,O,P,M,G,W,Z,ce,pe,J,ee,he,se,F,q,re,oe,de,X,fe,xe,Ce,Le,Ue;switch(W=new bu,a=Object.keys(e).sort(function(ze,Ke){return ze-Ke}),n){case"macroman":for(b=0,N=function(){var ze=[];for(y=0;y<256;++y)ze.push(0);return ze}(),j={0:0},s={},Z=0,ee=a.length;Z<ee;Z++)j[xe=e[r=a[Z]]]==null&&(j[xe]=++b),s[r]={old:e[r],new:j[e[r]]},N[r]=j[e[r]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(N),{charMap:s,subtable:W.data,maxGlyphID:b+1};case"unicode":for(M=[],g=[],w=0,j={},i={},S=c=null,ce=0,he=a.length;ce<he;ce++)j[E=e[r=a[ce]]]==null&&(j[E]=++w),i[r]={old:E,new:j[E]},o=j[E]-r,S!=null&&o===c||(S&&g.push(S),M.push(r),c=o),S=r;for(S&&g.push(S),g.push(65535),M.push(65535),O=2*(B=M.length),R=2*Math.pow(Math.log(B)/Math.LN2,2),m=Math.log(R/2)/Math.LN2,U=2*B-R,l=[],I=[],p=[],y=pe=0,se=M.length;pe<se;y=++pe){if(P=M[y],d=g[y],P===65535){l.push(0),I.push(0);break}if(P-(G=i[P].new)>=32768)for(l.push(0),I.push(2*(p.length+B-y)),r=J=P;P<=d?J<=d:J>=d;r=P<=d?++J:--J)p.push(i[r].new);else l.push(G-P),I.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*B+2*p.length),W.writeUInt16(0),W.writeUInt16(O),W.writeUInt16(R),W.writeUInt16(m),W.writeUInt16(U),X=0,F=g.length;X<F;X++)r=g[X],W.writeUInt16(r);for(W.writeUInt16(0),fe=0,q=M.length;fe<q;fe++)r=M[fe],W.writeUInt16(r);for(Ce=0,re=l.length;Ce<re;Ce++)o=l[Ce],W.writeUInt16(o);for(Le=0,oe=I.length;Le<oe;Le++)k=I[Le],W.writeUInt16(k);for(Ue=0,de=p.length;Ue<de;Ue++)b=p[Ue],W.writeUInt16(b);return{charMap:i,subtable:W.data,maxGlyphID:w+1}}},t}(),jT=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Wo),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,i,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n=new xk(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var i,r;return n==null&&(n="macroman"),i=xk.encode(e,n),(r=new bu).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},t}(),Kte=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Wo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Xte=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Wo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(e.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Yte=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Wo),t.prototype.tag="post",t.prototype.parse=function(e){var n,i,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)n=e.readByte(),r.push(this.names.push(e.readString(n)));return r;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),Qte=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Jte=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Wo),t.prototype.tag="name",t.prototype.parse=function(e){var n,i,r,s,a,o,l,c,d,g,m;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=d=0,g=i.length;d<g;s=++d)r=i[s],e.pos=r.offset,c=e.readString(r.length),a=new Qte(c,r),l[m=r.nameID]==null&&(l[m]=[]),l[r.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),Zte=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Wo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),ene=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Wo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,i,r,s,a,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],n=c=0;0<=r?c<r:c>r;n=0<=r?++c:--c)d.push(e.readInt16());return d}(),this.widths=(function(){var c,d,g,m;for(m=[],c=0,d=(g=this.metrics).length;c<d;c++)s=g[c],m.push(s.advance);return m}).call(this),i=this.widths[this.widths.length-1],l=[],n=a=0;0<=r?a<r:a>r;n=0<=r?++a:--a)l.push(this.widths.push(i));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),AT=[].slice,tne=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Wo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,i,r,s,a,o,l,c,d,g;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(e),(r=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+i,a=(o=new bu(n.read(r))).readShort(),c=o.readShort(),g=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new ine(o,c,g,l,d):new nne(o,a,c,g,l,d),this.cache[e]))},t.prototype.encode=function(e,n,i){var r,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)r=e[n[o]],s.push(a.length),r&&(a=a.concat(r.encode(i)));return s.push(a.length),{table:a,offsets:s}},t}(),nne=function(){function t(e,n,i,r,s,a){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),ine=function(){function t(e,n,i,r,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new bu(AT.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),rne=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return vl(t,Wo),t.prototype.tag="loca",t.prototype.parse=function(e){var n,i;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var i=new Uint32Array(this.offsets.length),r=0,s=0,a=0;a<i.length;++a)if(i[a]=r,s<n.length&&n[s]==a){++s,i[a]=r;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(r+=l)}for(var c=new Array(4*i.length),d=0;d<i.length;++d)c[4*d+3]=255&i[d],c[4*d+2]=(65280&i[d])>>8,c[4*d+1]=(16711680&i[d])>>16,c[4*d]=(4278190080&i[d])>>24;return c},t}(),sne=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,r,s;for(n in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[n],e[n]=r[i];return e},t.prototype.glyphsFor=function(e){var n,i,r,s,a,o,l;for(r={},a=0,o=e.length;a<o;a++)r[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],r)(i=r[s])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))i=l[s],r[s]=i;return r},t.prototype.encode=function(e,n){var i,r,s,a,o,l,c,d,g,m,p,y,b,N,S;for(r in i=jT.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},S=i.charMap)p[(l=S[r]).old]=l.new;for(y in m=i.maxGlyphID,a)y in p||(p[y]=m++);return d=function(j){var w,k;for(w in k={},j)k[j[w]]=w;return k}(p),g=Object.keys(d).sort(function(j,w){return j-w}),b=function(){var j,w,k;for(k=[],j=0,w=g.length;j<w;j++)o=g[j],k.push(d[o]);return k}(),s=this.font.glyf.encode(a,b,p),c=this.font.loca.encode(s.offsets,b),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t}();gt.API.PDFObject=function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,r,s,a;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)i=n[o],c.push(e.convert(i));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in s=["<<"],n)a=n[r],s.push("/"+r+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();function ane(){const t=Y.useRef(null),[e,n]=Y.useState([]),[i,r]=Y.useState("a4"),[s,a]=Y.useState("p"),[o,l]=Y.useState(10),[c,d]=Y.useState("contain"),[g,m]=Y.useState("anh-sang-pdf.pdf"),[p,y]=Y.useState(!1),[b,N]=Y.useState(!1),S=()=>{var O;return(O=t.current)==null?void 0:O.click()},j=async O=>{const P=Array.from(O.target.files||[]);if(P.length){N(!0);try{const M=P.map(G=>({file:G,url:URL.createObjectURL(G),name:G.name}));n(G=>[...G,...M])}finally{N(!1)}O.target.value=""}},w=O=>{n(P=>{const M=[...P],G=M[O];return G!=null&&G.url&&URL.revokeObjectURL(G.url),M.splice(O,1),M})},k=(O,P)=>{n(M=>{const G=[...M],W=O+P;if(W<0||W>=G.length)return G;const Z=G[O];return G[O]=G[W],G[W]=Z,G})},E=O=>{if(!O||!O.trim())return"anh-sang-pdf.pdf";const P=O.trim();return P.toLowerCase().endsWith(".pdf")?P:`${P}.pdf`},I=O=>new Promise((P,M)=>{const G=new FileReader;G.onload=()=>P(G.result),G.onerror=M,G.readAsDataURL(O)}),U=O=>new Promise((P,M)=>{const G=new Image;G.onload=()=>P(G),G.onerror=()=>M(new Error("Khng c c nh (c th l HEIC/HEIF).")),G.src=O}),R=async(O,P,M,G="contain")=>{const W=await U(O),Z=4,ce=Math.max(1,Math.round(P*Z)),pe=Math.max(1,Math.round(M*Z)),J=document.createElement("canvas");J.width=ce,J.height=pe;const ee=J.getContext("2d");ee.clearRect(0,0,ce,pe);const he=ce/W.width,se=pe/W.height;let F,q,re,oe;if(G==="cover"){const de=Math.max(he,se);F=W.width*de,q=W.height*de}else{const de=Math.min(he,se);F=W.width*de,q=W.height*de}return re=(ce-F)/2,oe=(pe-q)/2,ee.imageSmoothingQuality="high",ee.drawImage(W,re,oe,F,q),J.toDataURL("image/png")},B=async()=>{var O;if(e.length){y(!0);try{const P=new gt({unit:"mm",format:i,orientation:s==="p"?"portrait":"landscape"}),M=P.internal.pageSize.getWidth(),G=P.internal.pageSize.getHeight(),W=Math.max(0,M-o*2),Z=Math.max(0,G-o*2);for(let ce=0;ce<e.length;ce++){ce>0&&P.addPage(),P.setFillColor(255,255,255),P.rect(0,0,M,G,"F");try{const pe=await I(e[ce].file),J=await R(pe,W,Z,c);P.addImage(J,"PNG",o,o,W,Z)}catch(pe){console.error(pe),alert(`Khng th thm nh "${(O=e[ce])==null?void 0:O.name}". C th nh dng khng h tr (HEIC/HEIF) hoc nh qu ln.`)}}P.save(E(g))}catch(P){console.error(P),alert("To PDF tht bi. Vui lng th li hoc xem Console  bit chi tit.")}finally{y(!1)}}};return Y.useEffect(()=>()=>{e.forEach(O=>O.url&&URL.revokeObjectURL(O.url))},[]),h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-sky-50 to-white",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-slate-900 text-center",children:"nh  PDF"}),h.jsx("p",{className:"text-center text-gray-600 mt-2",children:"Gp nhiu nh thnh mt file PDF, chn kh giy, l v cch hin th."}),h.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3",children:[h.jsxs("button",{onClick:S,disabled:b,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:bg-blue-400",children:[h.jsx(Dh,{size:18})," ",b?"ang ti...":"Chn nh"]}),h.jsx("input",{ref:t,type:"file",accept:"image/*",multiple:!0,hidden:!0,onChange:j}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm text-gray-700",children:"Tn file"}),h.jsx("input",{value:g,onChange:O=>m(O.target.value),className:"border rounded-lg px-3 py-2 w-[260px]",placeholder:"ten-file.pdf"})]})]}),e.length>0&&h.jsxs("div",{className:"mt-6 grid md:grid-cols-[1fr_360px] gap-8",children:[h.jsx("div",{children:h.jsx("ul",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((O,P)=>h.jsxs("li",{className:"rounded-xl border bg-white shadow p-3",children:[h.jsx("div",{className:"aspect-[4/3] bg-gray-50 rounded-lg grid place-items-center overflow-hidden",children:h.jsx("img",{src:O.url,alt:O.name,className:"max-w-full max-h-full object-contain"})}),h.jsx("div",{className:"mt-2 text-xs text-gray-600 truncate",children:O.name}),h.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[h.jsx("button",{onClick:()=>k(P,-1),className:"inline-flex items-center justify-center w-8 h-8 rounded-md border hover:bg-gray-50",title:"Ln",disabled:P===0,children:h.jsx(iD,{size:16})}),h.jsx("button",{onClick:()=>k(P,1),className:"inline-flex items-center justify-center w-8 h-8 rounded-md border hover:bg-gray-50",title:"Xung",disabled:P===e.length-1,children:h.jsx(eD,{size:16})}),h.jsx("button",{onClick:()=>w(P),className:"ml-auto inline-flex items-center justify-center w-8 h-8 rounded-md border hover:bg-red-50 text-red-600",title:"Xo",children:h.jsx(fI,{size:16})})]})]},P))})}),h.jsxs("aside",{className:"rounded-2xl border bg-white shadow p-5 h-fit",children:[h.jsx("div",{className:"font-semibold text-lg",children:"Tu chn PDF"}),h.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[h.jsxs("label",{className:"text-sm",children:[h.jsx("div",{className:"text-gray-700 mb-1",children:"Kh giy"}),h.jsxs("select",{className:"border rounded-lg px-3 py-2 w-full",value:i,onChange:O=>r(O.target.value),children:[h.jsx("option",{value:"a4",children:"A4 (210297mm)"}),h.jsx("option",{value:"letter",children:"Letter (216279mm)"})]})]}),h.jsxs("label",{className:"text-sm",children:[h.jsx("div",{className:"text-gray-700 mb-1",children:"Chiu giy"}),h.jsxs("select",{className:"border rounded-lg px-3 py-2 w-full",value:s,onChange:O=>a(O.target.value),children:[h.jsx("option",{value:"p",children:"Dc (Portrait)"}),h.jsx("option",{value:"l",children:"Ngang (Landscape)"})]})]}),h.jsxs("label",{className:"text-sm",children:[h.jsx("div",{className:"text-gray-700 mb-1",children:"L (mm)"}),h.jsx("input",{type:"number",min:0,max:50,className:"border rounded-lg px-3 py-2 w-full",value:o,onChange:O=>l(Math.max(0,Math.min(50,+O.target.value||0)))})]}),h.jsxs("label",{className:"text-sm",children:[h.jsx("div",{className:"text-gray-700 mb-1",children:"Cch hin th"}),h.jsxs("select",{className:"border rounded-lg px-3 py-2 w-full",value:c,onChange:O=>d(O.target.value),children:[h.jsx("option",{value:"contain",children:"Va khung (c vin trng)"}),h.jsx("option",{value:"cover",children:"y trang (ct bt nu cn)"})]})]})]}),h.jsxs("button",{onClick:B,disabled:!e.length||p,className:`mt-4 w-full inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-white ${!e.length||p?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[h.jsx(yj,{size:18})," ",p?"ang to PDF":"To & Ti v"]})]})]})]})})}function one({smooth:t=!1}){const{pathname:e,search:n,hash:i}=Cu();return Y.useEffect(()=>{i||window.scrollTo({top:0,left:0,behavior:t?"smooth":"instant"})},[e,n,i]),null}const lne=()=>{try{return JSON.parse(localStorage.getItem("kh_me")||"null")}catch{return null}};function Ow(){const t=ya(),[e,n]=Y.useState(!0),[i,r]=Y.useState(null);return Y.useEffect(()=>{const s=lne();if(r(s),!s){t("/",{replace:!0});return}n(!1)},[t]),{user:i,loading:e}}const n1="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),Y0="https://trendyframe.me/";function cne(){const t=ya(),e=Y.useRef(null),{user:n,loading:i}=Ow(),[r,s]=Y.useState({title:"",url:Y0,type:"khac"}),[a,o]=Y.useState(null),[l,c]=Y.useState(null),[d,g]=Y.useState(!1),[m,p]=Y.useState({}),[y,b]=Y.useState(null),[N,S]=Y.useState([]);Y.useEffect(()=>{if(!y)return;const P=setTimeout(()=>b(null),1e4);return()=>clearTimeout(P)},[y]),Y.useEffect(()=>{(async()=>{try{const M=await fetch(`${n1}/api/frames/types`,{credentials:"include"});if(M.ok){const G=await M.json();S(G)}}catch(M){console.error("Error fetching frame types:",M)}})()},[]);const j=()=>{const P="abcdefghijklmnopqrstuvwxyz0123456789",M=8+Math.floor(Math.random()*4);let G="";for(let W=0;W<M;W++)G+=P.charAt(Math.floor(Math.random()*P.length));return G},w=async P=>{try{const M=await fetch(`${n1}/api/frames/check-alias/${P}`,{credentials:"include"});return M.ok?(await M.json()).exists:!1}catch(M){return console.error("Error checking alias:",M),!1}},k=async()=>{let P=j(),M=0;const G=10;for(;M<G;){if(!await w(P))return P;P=j(),M++}return j()+Date.now().toString().slice(-4)},E=P=>{const{name:M,value:G}=P.target;s(W=>({...W,[M]:G})),m[M]&&p(W=>({...W,[M]:""}))},I=P=>{var W;const M=(W=P.target.files)==null?void 0:W[0];if(!M)return;if(M.type!=="image/png"){p(Z=>({...Z,file:"Ch chp nhn file PNG vi nn trong sut"}));return}if(M.size>2*1024*1024){p(Z=>({...Z,file:"File khng c vt qu 2MB"}));return}o(M),p(Z=>({...Z,file:""}));const G=new FileReader;G.onload=Z=>{var ce;return c((ce=Z.target)==null?void 0:ce.result)},G.readAsDataURL(M)},U=()=>{o(null),c(null),e.current&&(e.current.value="")},R=()=>{const P={},M=r.title.trim();return M?M.length<10&&(P.title="Tiu  phi c t nht 10 k t"):P.title="Tiu  khng c  trng",a||(P.file="Vui lng chn hnh nh khung"),p(P),Object.keys(P).length===0},B=async P=>{if(P.preventDefault(),!!R()){g(!0);try{const M=new FormData;M.append("file",a),M.append("title",r.title),M.append("type",r.type);let G=(r.url||"").replace(Y0,"").trim();G||(G=await k()),M.append("alias",G);const W=await fetch(`${n1}/api/frames`,{method:"POST",credentials:"include",body:M});if(!W.ok){const Z=await W.text();if(console.error("Server error:",Z),Z.includes("alias")||Z.includes("duplicate")||Z.includes("trng")){const ce=await k();if(M.set("alias",ce),!(await fetch(`${n1}/api/frames`,{method:"POST",credentials:"include",body:M})).ok)throw new Error("Li khi to khung hnh")}else throw new Error(Z||"Li khi to khung hnh")}b(r.title.trim()),window.scrollTo({top:0,behavior:"smooth"})}catch(M){console.error("Submit error:",M),p(G=>({...G,submit:M.message||"C li xy ra. Vui lng th li."}))}finally{g(!1)}}},O=(r.url||"").replace(Y0,"");return i?h.jsx("div",{className:"min-h-screen grid place-items-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):n?h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-50 to-white py-12",children:[y&&h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-6","aria-live":"polite","aria-atomic":"true",children:h.jsxs("div",{className:"relative rounded-md bg-emerald-100 text-emerald-900 px-4 py-3 ring-1 ring-emerald-200 shadow-sm",children:[h.jsxs("span",{children:["To khung hnh ",h.jsx("strong",{children:y})," thnh cng!"," ",h.jsx("button",{type:"button",className:"underline text-blue-700 hover:text-blue-800",onClick:()=>t("/my-frames"),children:"Xem ti y"}),"."]}),h.jsx("button",{type:"button","aria-label":"ng",className:"absolute right-3 top-1/2 -translate-y-1/2 text-emerald-900/70 hover:text-emerald-900",onClick:()=>b(null),children:h.jsx(Ih,{size:16})})]})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-50 text-blue-700 text-sm font-medium ring-1 ring-blue-200/60 shadow-sm mb-3",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600"}),"Trnh to khung hnh"]}),h.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 tracking-tight",children:"TO MI S KIN, HOT NG, CHIN DCH"})]}),h.jsxs("form",{onSubmit:B,className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsxs("section",{className:"bg-white/90 rounded-2xl ring-1 ring-gray-200 shadow-sm p-6",children:[h.jsxs("header",{className:"mb-4",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Hnh khung"}),h.jsx("p",{className:"text-sm text-gray-500",children:"PNG nn trong sut  khuyn ngh 10801080  ti a 2MB"})]}),h.jsxs("div",{onClick:()=>{var P;return(P=e.current)==null?void 0:P.click()},className:["rounded-xl border-2 border-dashed transition-colors cursor-pointer","bg-white grid place-items-center px-6 py-10","hover:border-blue-400 hover:bg-blue-50/40"].join(" "),children:[l?h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"relative inline-block rounded-xl overflow-hidden ring-1 ring-gray-200 shadow-sm",children:[h.jsx("div",{className:"absolute inset-0",style:{background:"conic-gradient(#f3f4f6 25%, transparent 0 50%, #f3f4f6 0 75%, transparent 0) 0 0/18px 18px"}}),h.jsx("img",{src:l,alt:"Preview",className:"relative max-w-full max-h-80 object-contain"}),h.jsx("button",{type:"button",onClick:P=>{P.stopPropagation(),U()},title:"Xa nh",className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all duration-200 opacity-90 hover:opacity-100",children:h.jsx(Ih,{size:18,strokeWidth:3})})]}),a&&h.jsx("div",{className:"mt-3 text-sm text-gray-600",children:h.jsx("span",{className:"px-2 py-1 rounded-md bg-gray-100 ring-1 ring-gray-200",children:a.name})}),h.jsx("button",{type:"button",onClick:()=>{var P;return(P=e.current)==null?void 0:P.click()},className:"mt-3 text-blue-700 hover:underline text-sm font-medium",children:"Chn nh khc"})]}):h.jsxs("div",{className:"text-center space-y-3",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 text-white rounded-xl shadow-sm",children:h.jsx(Dh,{size:24})}),h.jsx("div",{className:"text-blue-700 font-semibold",children:"Nhp  ti nh PNG ln hoc ko-th"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Ch h tr PNG nn trong sut  ti a 2MB"})]}),h.jsx("input",{ref:e,type:"file",accept:"image/png",onChange:I,className:"hidden"})]}),m.file&&h.jsxs("p",{className:"text-rose-600 text-sm mt-2 flex items-center gap-1",children:[h.jsx(sy,{size:14})," ",m.file]}),h.jsx("div",{className:"mt-6 rounded-xl bg-blue-50/70 ring-1 ring-blue-200/60 p-4 text-sm text-blue-800",children:"Mo: Dng PNG vi vng trong sut  ngi dng thy nh ca h pha sau khung."})]}),h.jsxs("section",{className:"bg-white/90 rounded-2xl ring-1 ring-gray-200 shadow-sm p-6",children:[h.jsx("header",{className:"mb-4",children:h.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Thng tin chung"})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:["Tiu  ",h.jsx("span",{className:"text-rose-500",children:"*"})]}),h.jsx("input",{id:"title",name:"title",type:"text",value:r.title,onChange:E,placeholder:"V d: Khung xun 2025  sc hoa o",className:["mt-1 w-full px-4 py-3 rounded-xl border outline-none transition","focus:ring-2 focus:ring-blue-500 focus:border-blue-500",m.title?"border-rose-300 bg-rose-50/40":"border-gray-300"].join(" ")}),h.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs",children:[h.jsx("span",{className:"text-gray-500",children:"Ti thiu 10 k t"}),h.jsxs("span",{className:`font-medium ${r.title.trim().length>=10?"text-green-600":"text-gray-400"}`,children:[r.title.trim().length,"/10"]})]}),m.title&&h.jsxs("p",{className:"text-rose-600 text-sm mt-1 flex items-center gap-1",children:[h.jsx(sy,{size:14})," ",m.title]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:["Loi khung ",h.jsx("span",{className:"text-rose-500",children:"*"})]}),h.jsx("select",{id:"type",name:"type",value:r.type,onChange:E,className:"mt-1 w-full px-4 py-3 rounded-xl border border-gray-300 outline-none transition focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:N.length>0?N.map(P=>h.jsx("option",{value:P.value,children:P.label},P.value)):h.jsx("option",{value:"khac",children:"Khc"})}),h.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Chn loi ph hp  ngi dng d tm thy khung ca bn"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700",children:"ng dn (URL)"}),h.jsxs("div",{className:"mt-1 flex",children:[h.jsx("span",{className:"inline-flex items-center px-3 rounded-l-xl border border-r-0 border-gray-300 bg-gray-50 text-gray-600 text-sm",children:Y0}),h.jsx("input",{id:"url",name:"url",type:"text",value:O,onChange:P=>s(M=>({...M,url:Y0+P.target.value})),placeholder:"ten-khung-hinh",className:"flex-1 px-4 py-3 border border-l-0 rounded-r-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition border-gray-300"})]}),r.url&&O&&h.jsxs("div",{className:"mt-2 text-sm",children:[h.jsx("span",{className:"text-gray-500 mr-2",children:"Xem trc:"}),h.jsx("span",{className:"px-2 py-1 rounded bg-gray-100 ring-1 ring-gray-200 text-gray-800 break-all",children:r.url})]})]}),h.jsx("button",{type:"submit",disabled:d,className:"w-full inline-flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-60 text-white font-semibold px-6 py-4 rounded-xl shadow-blue-600/20 shadow-md transition",children:d?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"ang to khung"]}):h.jsxs(h.Fragment,{children:[h.jsx(bs,{size:20}),"TO KHUNG HNH"]})}),m.submit&&h.jsxs("p",{className:"text-rose-600 text-sm flex items-center gap-1",children:[h.jsx(sy,{size:14})," ",m.submit]})]})]})]})]})]}):null}const Q0="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),yk={dang_hoat_dong:{label:"ang hot ng",chip:"bg-emerald-50 text-emerald-700 ring-emerald-200",dot:"bg-emerald-500"},tam_dung:{label:"Tm dng",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"},cho_duyet:{label:"Ch duyt",chip:"bg-amber-50 text-amber-700 ring-amber-200",dot:"bg-amber-500"}},une={su_kien:"S kin",le_hoi:"L hi  Ngy c bit",hoat_dong:"Hot ng  Cng ng",chien_dich:"Chin dch  C v",thuong_hieu:"Thng hiu  T chc",giai_tri:"Gii tr  Fandom",sang_tao:"Ch  sng to",khac:"Khc"},hne=t=>t?new Date(t).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}):"-";function dne({status:t}){const e=yk[t]||yk.dang_hoat_dong;return h.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium ring-1 ${e.chip}`,children:[h.jsx("span",{className:`size-2 rounded-full ${e.dot}`}),e.label]})}function fne(){return h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsx(h2,{className:"size-8 animate-spin text-blue-600"}),h.jsx("p",{className:"text-gray-600",children:"ang ti khung hnh..."})]})})}function pne(){const{id:t}=m3(),e=ya(),[n]=gj(),i=n.get("preview")==="true",[r,s]=Y.useState(null),[a,o]=Y.useState(!0),[l,c]=Y.useState(null),[d,g]=Y.useState(!1),[m,p]=Y.useState(!1);Y.useEffect(()=>{y()},[t]);async function y(){try{o(!0),c(null);const E=await fetch(`${Q0}/api/Frames/${t}`,{credentials:"include"});if(E.status===404){c("Khung hnh khng tn ti");return}if(!E.ok)throw new Error(`HTTP ${E.status}`);const I=await E.json();console.log(" Frame detail API response:",I);const U={id:I.id??I.Id,title:I.tieuDe??I.TieuDe??"Khng c tiu ",alias:I.alias??I.Alias,status:I.trangThai??I.TrangThai??"dang_hoat_dong",clicks:I.luotXem??I.LuotXem??0,uses:I.luotTai??I.LuotTai??0,createdAt:I.ngayDang??I.NgayDang,imageUrl:I.urlXemTruoc??I.UrlXemTruoc?k(I.urlXemTruoc??I.UrlXemTruoc):"/placeholder-frame.png",downloadUrl:I.urlXemTruoc??I.UrlXemTruoc?k(I.urlXemTruoc??I.UrlXemTruoc):null,type:I.loai??I.Loai??I.type??I.Type??null,owner:I.owner?{id:I.owner.id??I.owner.Id,name:I.owner.name??I.owner.Name??"n danh",avatar:I.owner.avatar??I.owner.Avatar}:null};s(U),b(),i||N()}catch(E){console.error(" fetchFrameDetail error:",E),c("C li xy ra khi ti khung hnh")}finally{o(!1)}}async function b(){var E;try{const I=await fetch(`${Q0}/api/auth/me`,{credentials:"include"});if(I.ok){const U=await I.json();p(U.id===((E=r==null?void 0:r.owner)==null?void 0:E.id))}}catch(I){console.error("checkOwnership error:",I)}}async function N(){try{await fetch(`${Q0}/api/Frames/view/${t}`,{method:"POST",credentials:"include"}),console.log(" View incremented")}catch(E){console.error(" incrementView error:",E)}}async function S(){if(r!=null&&r.downloadUrl)try{i||(await fetch(`${Q0}/api/Frames/download/${t}`,{method:"POST",credentials:"include"}),console.log(" Download incremented"));const E=document.createElement("a");E.href=r.downloadUrl,E.download=`${r.alias||r.title}.png`,document.body.appendChild(E),E.click(),document.body.removeChild(E),i||s(I=>I?{...I,uses:I.uses+1}:null)}catch(E){console.error(" handleDownload error:",E),alert("C li xy ra khi ti khung hnh")}}async function j(){const E=`${window.location.origin}/editor?alias=${r.alias}`;if(navigator.share)try{await navigator.share({title:r==null?void 0:r.title,text:`Xem khung hnh: ${r==null?void 0:r.title}`,url:E})}catch(I){I.name!=="AbortError"&&w(E)}else w(E)}function w(E){navigator.clipboard.writeText(E).then(()=>{g(!0),setTimeout(()=>g(!1),2e3)}).catch(()=>{const I=document.createElement("textarea");I.value=E,I.style.position="fixed",I.style.opacity="0",document.body.appendChild(I),I.select(),document.execCommand("copy"),document.body.removeChild(I),g(!0),setTimeout(()=>g(!1),2e3)})}function k(E){return!E||E.startsWith("http://")||E.startsWith("https://")?E:`${Q0}${E.startsWith("/")?"":"/"}${E}`}return a?h.jsx(fne,{}):l?h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-6xl mb-4",children:""}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:l}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Khung hnh c th  b xa hoc khng tn ti."}),h.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition",children:[h.jsx(m4,{size:20}),"V trang ch"]})]})}):r?h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:h.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsxs("button",{onClick:()=>e(-1),className:"inline-flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 font-medium transition",children:[h.jsx(m4,{size:20}),"Quay li"]}),m&&h.jsxs(Wn,{to:`/frame/${r.id}/edit`,className:"inline-flex items-center gap-2 px-4 py-2 bg-amber-500 text-white rounded-xl font-semibold hover:bg-amber-600 transition",children:[h.jsx(b3,{size:18}),"Chnh sa"]})]}),h.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"aspect-square overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200 shadow-lg",children:h.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full h-full object-contain",onError:E=>{E.currentTarget.src="/placeholder-frame.png"}})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:S,disabled:!r.downloadUrl,className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition shadow-lg shadow-blue-500/30",children:[h.jsx(nc,{size:20}),"Ti xung"]}),h.jsxs("button",{onClick:j,className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white text-gray-700 rounded-xl font-semibold hover:bg-gray-50 ring-1 ring-gray-200 transition",children:[d?h.jsx(uD,{size:20,className:"text-green-600"}):h.jsx(sI,{size:20}),d?" sao chp!":"Chia s"]})]}),h.jsxs("button",{onClick:()=>e(`/editor?alias=${r.alias}`),className:"w-full inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition shadow-lg shadow-purple-500/30",children:[h.jsx(zD,{size:20}),"Dng khung ny"]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:r.title}),h.jsx(dne,{status:r.status})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx("div",{className:"bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl p-4 ring-1 ring-violet-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-white rounded-lg shadow",children:h.jsx(gu,{className:"text-violet-600",size:20})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.clicks.toLocaleString()}),h.jsx("div",{className:"text-sm text-gray-600",children:"Lt xem"})]})]})}),h.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 ring-1 ring-green-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-white rounded-lg shadow",children:h.jsx(nc,{className:"text-green-600",size:20})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.uses.toLocaleString()}),h.jsx("div",{className:"text-sm text-gray-600",children:"Lt ti"})]})]})})]}),r.owner&&h.jsxs("div",{className:"bg-white rounded-xl p-5 ring-1 ring-slate-200 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tc gi"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:pa(r.owner.avatar,r.owner.name),alt:r.owner.name,className:"size-12 rounded-full object-cover ring-2 ring-white shadow",referrerPolicy:"no-referrer"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold text-gray-900",children:r.owner.name}),h.jsx("div",{className:"text-sm text-gray-600",children:"Ngi to khung hnh"})]})]})]}),h.jsxs("div",{className:"bg-white rounded-xl p-5 ring-1 ring-slate-200 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Thng tin"}),h.jsxs("div",{className:"space-y-3 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[h.jsx(y3,{size:16,className:"text-blue-600"}),h.jsx("span",{className:"font-medium",children:"Ngy to:"}),h.jsx("span",{children:hne(r.createdAt)})]}),r.type&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"Loi khung:"}),h.jsxs("span",{className:"inline-flex items-center gap-1 bg-indigo-50 text-indigo-700 rounded-full px-2.5 py-1 text-xs font-medium border border-indigo-200",children:[h.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),une[r.type]||r.type]})]}),r.alias&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"Alias:"}),h.jsx("code",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-mono",children:r.alias})]})]})]})]})]})]})}):null}const i1="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,""),dv=t=>t?new Date(t).toLocaleDateString("vi-VN"):"-",vk={su_kien:"S kin",le_hoi:"L hi  Ngy c bit",hoat_dong:"Hot ng  Cng ng",chien_dich:"Chin dch  C v",thuong_hieu:"Thng hiu  T chc",giai_tri:"Gii tr  Fandom",sang_tao:"Ch  sng to",khac:"Khc"},bk={active:{label:"ang hot ng",chip:"bg-emerald-50 text-emerald-700 ring-emerald-200",dot:"bg-emerald-500"},inactive:{label:"Tm dng",chip:"bg-slate-50 text-slate-700 ring-slate-200",dot:"bg-slate-400"},pending:{label:"Ch duyt",chip:"bg-amber-50 text-amber-700 ring-amber-200",dot:"bg-amber-500"}};function gne({open:t,title:e,description:n,confirmText:i="Xc nhn",cancelText:r="Hy",onConfirm:s,onClose:a}){return t?h.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 p-4",role:"dialog","aria-modal":"true",children:h.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl ring-1 ring-black/5",children:[h.jsxs("div",{className:"p-5",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),n&&h.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n})]}),h.jsxs("div",{className:"flex items-center justify-end gap-3 border-t px-5 py-3",children:[h.jsx("button",{onClick:a,className:"px-3 py-2 text-sm font-medium rounded-lg bg-gray-100 hover:bg-gray-200",children:r}),h.jsx("button",{onClick:s,className:"px-3 py-2 text-sm font-semibold rounded-lg text-white bg-rose-600 hover:bg-rose-700",children:i})]})]})}):null}function mne({status:t}){const e=bk[t]||bk.active;return h.jsxs("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[11px] font-medium ring-1 ${e.chip}`,children:[h.jsx("span",{className:`size-2 rounded-full ${e.dot}`}),e.label]})}function xne(){return h.jsx("tr",{className:"animate-pulse",children:Array.from({length:9}).map((t,e)=>h.jsx("td",{className:"py-3 px-3",children:h.jsx("div",{className:"h-4 rounded bg-gray-200"})},e))})}function yne(){ya();const{user:t,loading:e}=Ow(),[n,i]=Y.useState([]),[r,s]=Y.useState(null),[a,o]=Y.useState(""),[l,c]=Y.useState("all"),[d,g]=Y.useState("all"),[m,p]=Y.useState("updatedAt"),[y,b]=Y.useState("desc"),[N,S]=Y.useState({open:!1,id:null});Y.useEffect(()=>{try{const P=JSON.parse(localStorage.getItem("kh_me")||"null");P&&s(P)}catch{}j(),w()},[]),Y.useEffect(()=>{const P=()=>{try{const M=JSON.parse(localStorage.getItem("kh_me")||"null");M&&s(M)}catch(M){console.error("Error syncing avatar:",M)}};return window.addEventListener("kh_me_changed",P),window.addEventListener("storage",P),()=>{window.removeEventListener("kh_me_changed",P),window.removeEventListener("storage",P)}},[]);async function j(){try{const P=await fetch(`${i1}/api/user/profile`,{credentials:"include"});if(P.ok){const M=await P.json(),G={id:M.id||M.Id,name:M.name||M.Name||M.hoTen||M.HoTen,email:M.email||M.Email,picture:M.picture||M.Picture||M.avatar||M.Avatar,createdAt:M.createdAt||M.CreatedAt||M.ngayTao||M.NgayTao};s(G),localStorage.setItem("kh_me",JSON.stringify(G))}else P.status===401&&(localStorage.removeItem("kh_me"),s(null))}catch(P){console.error("Error fetching user profile:",P)}}async function w(){try{const P=await fetch(`${i1}/api/frames/my`,{credentials:"include"});if(P.status===401){i([]);return}if(!P.ok)throw new Error(`HTTP ${P.status}`);const G=(await P.json()||[]).map(W=>({id:W.id??W.Id,title:W.tieuDe??W.TieuDe??"(khng c tiu )",alias:W.alias??W.Alias,loai:W.loai??W.Loai??null,status:k(W.trangThai??W.TrangThai),clicks:W.luotXem??W.LuotXem??0,uses:W.luotTai??W.LuotTai??0,createdAt:W.ngayDang??W.NgayDang,updatedAt:W.ngayChinhSua??W.NgayChinhSua,imageUrl:W.urlXemTruoc??W.UrlXemTruoc?E(W.urlXemTruoc??W.UrlXemTruoc):"/placeholder-frame.png"}));i(G)}catch(P){console.error("fetchMyFrames error:",P),i([])}}function k(P){if(!P)return"active";const M=String(P).toLowerCase();return M.includes("tam")||M.includes("inactive")?"inactive":M.includes("cho")||M.includes("pending")?"pending":"active"}function E(P){return!P||P.startsWith("http://")||P.startsWith("https://")?P:`${i1}${P.startsWith("/")?"":"/"}${P}`}const I=P=>S({open:!0,id:P}),U=()=>S({open:!1,id:null});async function R(){const P=N.id;if(U(),!!P)try{if(!(await fetch(`${i1}/api/frames/${P}`,{method:"DELETE",credentials:"include"})).ok)throw new Error;i(G=>G.filter(W=>W.id!==P))}catch{alert("C li xy ra khi xa khung hnh")}}const B=Y.useMemo(()=>{const P=a.trim().toLowerCase(),M=l==="all"?n:n.filter(ce=>(ce.status||"active")===l),G=d==="all"?M:M.filter(ce=>ce.loai===d);return[...P?G.filter(ce=>`${ce.title}`.toLowerCase().includes(P)):G].sort((ce,pe)=>{const J=y==="asc"?1:-1,ee=F=>m==="title"?`${F.title||""}`.toLowerCase():F[m]||0,he=ee(ce),se=ee(pe);return he<se?-1*J:he>se?1*J:0})},[n,a,l,d,m,y]),O=P=>{P===m?b(M=>M==="asc"?"desc":"asc"):(p(P),b("desc"))};return e?h.jsx("div",{className:"min-h-screen grid place-items-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):t?h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10",children:[h.jsx("aside",{className:"mx-auto max-w-xl",children:h.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white ring-1 ring-slate-200 shadow-sm",children:[h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(80%_60%_at_10%_10%,#e0f2fe_0%,transparent_60%),radial-gradient(80%_60%_at_90%_10%,#dcfce7_0%,transparent_60%)] opacity-60"}),h.jsxs("div",{className:"relative p-6 text-center",children:[h.jsx("img",{src:pa((r==null?void 0:r.picture)||(r==null?void 0:r.avatar),r==null?void 0:r.name),alt:"Avatar",className:"mx-auto mb-3 size-24 rounded-full object-cover ring-2 ring-white shadow-lg",referrerPolicy:"no-referrer"}),h.jsx("div",{className:"font-semibold text-gray-900 text-lg",children:(r==null?void 0:r.name)||"Quc Lm"}),h.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Ngy to: ",r!=null&&r.createdAt?dv(r.createdAt):"31/05/2025"]}),h.jsx("div",{className:"mt-2 inline-flex items-center gap-2 rounded-full bg-blue-50 text-blue-700 px-3 py-1 text-xs font-semibold ring-1 ring-blue-200",children:" Cha xc thc"})]})]})}),h.jsx("div",{className:"h-8"}),h.jsxs("div",{className:"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[h.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[h.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-3 grid place-items-center text-gray-400",children:h.jsx(v3,{size:16})}),h.jsx("input",{value:a,onChange:P=>o(P.target.value),placeholder:"Tm theo tiu ...",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm outline-none ring-0 focus:border-blue-400 focus:bg-white"})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:l,onChange:P=>c(P.target.value),className:"appearance-none rounded-xl border border-slate-200 bg-white pl-3 pr-8 py-2 text-sm outline-none focus:border-blue-400",children:[h.jsx("option",{value:"all",children:"Tt c trng thi"}),h.jsx("option",{value:"active",children:"ang hot ng"}),h.jsx("option",{value:"pending",children:"Ch duyt"}),h.jsx("option",{value:"inactive",children:"Tm dng"})]}),h.jsx(jh,{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",size:16})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:d,onChange:P=>g(P.target.value),className:"appearance-none rounded-xl border border-slate-200 bg-white pl-3 pr-8 py-2 text-sm outline-none focus:border-blue-400",children:[h.jsx("option",{value:"all",children:"Tt c loi khung"}),Object.entries(vk).map(([P,M])=>h.jsx("option",{value:P,children:M},P))]}),h.jsx(jh,{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",size:16})]})]}),h.jsxs(Wn,{to:"/create-frame",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-md shadow-blue-600/20 hover:bg-blue-700 active:translate-y-px",children:[h.jsx(Qp,{size:16})," To mi"]})]}),h.jsx("section",{className:"min-w-0",children:h.jsxs("div",{className:"overflow-hidden rounded-2xl bg-white ring-1 ring-slate-200 shadow-sm",children:[h.jsx("div",{className:"max-w-full overflow-x-auto",children:h.jsxs("table",{className:"min-w-[1200px] w-full text-sm",children:[h.jsxs("colgroup",{children:[h.jsx("col",{className:"w-14"}),h.jsx("col",{className:"w-28"}),h.jsx("col",{}),h.jsx("col",{className:"w-40"})," ",h.jsx("col",{className:"w-44"}),h.jsx("col",{className:"w-28"}),h.jsx("col",{className:"w-32"}),h.jsx("col",{className:"w-36"}),h.jsx("col",{className:"w-40"}),h.jsx("col",{className:"w-44"})]}),h.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50/90 backdrop-blur border-b text-slate-700",children:h.jsxs("tr",{className:"[&>th]:py-3 [&>th]:px-3 select-none",children:[h.jsx("th",{className:"text-left",children:"TT"}),h.jsx("th",{className:"text-left",children:"Khung hnh"}),h.jsx("th",{className:"text-left",children:h.jsxs("button",{onClick:()=>O("title"),className:"inline-flex items-center gap-1 font-semibold",children:["Tiu ",m==="title"&&h.jsx("span",{className:"text-xs",children:y==="asc"?"":""})]})}),h.jsx("th",{className:"text-left",children:"Loi khung"}),h.jsx("th",{className:"text-left",children:"Trng thi"}),h.jsx("th",{className:"text-right",children:h.jsxs("button",{onClick:()=>O("clicks"),className:"inline-flex items-center gap-1 font-semibold",children:["Lt click",m==="clicks"&&h.jsx("span",{className:"text-xs",children:y==="asc"?"":""})]})}),h.jsx("th",{className:"text-right",children:h.jsxs("button",{onClick:()=>O("uses"),className:"inline-flex items-center gap-1 font-semibold",children:["Lt thay khung",m==="uses"&&h.jsx("span",{className:"text-xs",children:y==="asc"?"":""})]})}),h.jsx("th",{className:"text-left whitespace-nowrap",children:h.jsxs("button",{onClick:()=>O("createdAt"),className:"inline-flex items-center gap-1 font-semibold",children:["Ngy to",m==="createdAt"&&h.jsx("span",{className:"text-xs",children:y==="asc"?"":""})]})}),h.jsx("th",{className:"text-left whitespace-nowrap",children:h.jsxs("button",{onClick:()=>O("updatedAt"),className:"inline-flex items-center gap-1 font-semibold",children:["Ngy chnh sa",m==="updatedAt"&&h.jsx("span",{className:"text-xs",children:y==="asc"?"":""})]})}),h.jsx("th",{className:"text-left",children:"Hnh ng"})]})}),h.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e&&Array.from({length:6}).map((P,M)=>h.jsx(xne,{},M)),!e&&B.length===0&&h.jsx("tr",{children:h.jsx("td",{colSpan:10,className:"py-16 text-center",children:h.jsxs("div",{className:"inline-flex flex-col items-center gap-2 text-slate-500",children:[h.jsx("div",{className:"text-5xl",children:""}),h.jsx("div",{className:"text-lg",children:"Cha c khung hnh ph hp"}),h.jsx("p",{className:"text-sm",children:"Hy thay i b lc hoc to khung hnh mi."}),h.jsxs(Wn,{to:"/create-frame",className:"mt-2 inline-flex items-center gap-2 rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-700",children:[h.jsx(Qp,{size:16})," To khung hnh u tin"]})]})})}),!e&&B.map((P,M)=>h.jsxs("tr",{className:"hover:bg-blue-50/40 transition-colors",children:[h.jsx("td",{className:"py-3 px-3 text-slate-600",children:M+1}),h.jsx("td",{className:"py-3 px-3",children:h.jsx(Wn,{to:`/frame/${P.id}?preview=true`,className:"inline-block",children:h.jsx("div",{className:"size-12 overflow-hidden rounded-lg ring-1 ring-slate-200",children:h.jsx("img",{src:P.imageUrl||"/placeholder-frame.png",alt:P.title,className:"h-full w-full object-cover",loading:"lazy",onError:G=>{G.currentTarget.src="/placeholder-frame.png"}})})})}),h.jsx("td",{className:"py-3 px-3",children:h.jsx(Wn,{to:`/frame/${P.id}?preview=true`,className:"line-clamp-1 font-medium text-gray-900 hover:text-blue-700",title:P.title,children:P.title||"Khng c tiu "})}),h.jsx("td",{className:"py-3 px-3",children:P.loai?h.jsxs("span",{className:"inline-flex items-center gap-1 bg-indigo-50 text-indigo-700 rounded-full px-2.5 py-1 text-xs font-medium border border-indigo-200",children:[h.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),vk[P.loai]||P.loai]}):h.jsx("span",{className:"text-slate-400 text-xs",children:"-"})}),h.jsx("td",{className:"py-3 px-3",children:h.jsx(mne,{status:P.status})}),h.jsx("td",{className:"py-3 px-3 text-right font-mono text-slate-800",children:P.clicks??0}),h.jsx("td",{className:"py-3 px-3 text-right font-mono text-slate-800",children:P.uses??0}),h.jsx("td",{className:"py-3 px-3 whitespace-nowrap text-slate-700",children:dv(P.createdAt)}),h.jsx("td",{className:"py-3 px-3 whitespace-nowrap text-slate-700",children:dv(P.updatedAt)}),h.jsx("td",{className:"py-3 px-3",children:h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs(Wn,{to:`/frame/${P.id}?preview=true`,className:"inline-flex items-center gap-1 rounded-lg bg-violet-600 px-3 py-1 text-xs font-semibold text-white hover:bg-violet-700 shadow-sm",children:[h.jsx(gu,{size:14})," Xem"]}),h.jsxs(Wn,{to:`/frame/${P.id}/edit`,className:"inline-flex items-center gap-1 rounded-lg bg-amber-500 px-3 py-1 text-xs font-semibold text-white hover:bg-amber-600 shadow-sm",children:[h.jsx(eI,{size:14})," Sa"]}),h.jsxs("button",{onClick:()=>I(P.id),className:"inline-flex items-center gap-1 rounded-lg bg-rose-500 px-3 py-1 text-xs font-semibold text-white hover:bg-rose-600 shadow-sm",children:[h.jsx(_j,{size:14})," Xa"]})]})})]},P.id))]})]})}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 border-t bg-slate-50 px-6 py-3 text-xs text-slate-600",children:[h.jsxs("div",{children:["Tng cng: ",h.jsx("span",{className:"font-semibold text-slate-900",children:B.length})," khung hnh"]}),h.jsxs("div",{children:["Sp xp theo ",h.jsx("span",{className:"font-medium",children:{title:"Tiu ",clicks:"Lt click",uses:"Lt thay",createdAt:"Ngy to",updatedAt:"Ngy sa"}[m]})," (",y==="asc"?"tng dn":"gim dn",")"]})]})]})})]}),h.jsx(gne,{open:N.open,title:"Xa khung hnh?",description:"Hnh ng ny khng th hon tc. Khung hnh s b xa vnh vin.",confirmText:"Xa",onConfirm:R,onClose:U})]}):null}const J0="https://trendyframe-api-btargsbqgmgtcxdw.southeastasia-01.azurewebsites.net".replace(/\/$/,"");function vne(){const{id:t}=m3(),e=ya(),[n,i]=Y.useState(!0),[r,s]=Y.useState(!1),[a,o]=Y.useState(null),[l,c]=Y.useState({title:"",alias:"",type:"khac"}),[d,g]=Y.useState(null),[m,p]=Y.useState(""),[y,b]=Y.useState({checking:!1,available:!0,message:""}),[N,S]=Y.useState({}),[j,w]=Y.useState({show:!1,type:"",message:""}),[k,E]=Y.useState([]);Y.useEffect(()=>{U(),I()},[t]);async function I(){try{const Z=await fetch(`${J0}/api/frames/types`,{credentials:"include"});if(Z.ok){const ce=await Z.json();E(ce)}}catch(Z){console.error("Error fetching frame types:",Z)}}Y.useEffect(()=>{if(!l.alias||l.alias===(a==null?void 0:a.alias)){b({checking:!1,available:!0,message:""});return}const Z=setTimeout(R,500);return()=>clearTimeout(Z)},[l.alias,a==null?void 0:a.alias]);async function U(){try{i(!0);const Z=await fetch(`${J0}/api/frames/${t}`,{credentials:"include"});if(Z.status===404){e("/my-frames",{replace:!0});return}if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const ce=await Z.json();o(ce),c({title:ce.tieuDe||ce.TieuDe||"",alias:ce.alias||ce.Alias||"",type:ce.loai||ce.Loai||ce.type||ce.Type||"khac"}),p(ce.urlXemTruoc||ce.UrlXemTruoc||"")}catch(Z){console.error("Error fetching frame:",Z),W("error","Khng th ti thng tin khung hnh"),e("/my-frames",{replace:!0})}finally{i(!1)}}async function R(){if(!(!l.alias||l.alias===(a==null?void 0:a.alias))){b({checking:!0,available:!0,message:"ang kim tra..."});try{const Z=await fetch(`${J0}/api/frames/check-alias/${encodeURIComponent(l.alias)}`);if(Z.ok){const{exists:ce}=await Z.json();b({checking:!1,available:!ce,message:ce?"Alias  tn ti":"Alias kh dng"})}}catch{b({checking:!1,available:!0,message:"Khng th kim tra alias"})}}}function B(Z){const{name:ce,value:pe}=Z.target;c(J=>({...J,[ce]:pe})),N[ce]&&S(J=>({...J,[ce]:""}))}function O(Z){var ee;const ce=(ee=Z.target.files)==null?void 0:ee[0];if(!ce)return;const pe={};if(ce.name.toLowerCase().endsWith(".png")?ce.size>2*1024*1024&&(pe.file="File khng c vt qu 2MB"):pe.file="Ch chp nhn file PNG",Object.keys(pe).length>0){S(pe);return}g(ce),S(he=>({...he,file:""}));const J=new FileReader;J.onload=he=>p(he.target.result),J.readAsDataURL(ce)}function P(){g(null),p((a==null?void 0:a.urlXemTruoc)||(a==null?void 0:a.UrlXemTruoc)||""),S(ce=>({...ce,file:""}));const Z=document.getElementById("file-input");Z&&(Z.value="")}function M(){const Z={};return l.title.trim()||(Z.title="Vui lng nhp tiu "),l.alias&&!/^[a-z0-9-]+$/.test(l.alias)&&(Z.alias="Alias ch cha ch thng, s v du gch ngang"),y.available||(Z.alias="Alias  tn ti"),S(Z),Object.keys(Z).length===0}async function G(Z){if(Z.preventDefault(),!!M()){s(!0);try{const ce=new FormData;ce.append("title",l.title.trim()),l.alias&&ce.append("alias",l.alias.trim()),ce.append("type",l.type),d&&ce.append("file",d);const pe=await fetch(`${J0}/api/frames/update/${t}`,{method:"POST",credentials:"include",body:ce});if(pe.status===401){W("error","Phin ng nhp  ht hn");return}if(pe.status===404){W("error","Khng tm thy khung hnh hoc bn khng c quyn sa");return}if(pe.status===409){S({alias:"Alias  tn ti"});return}if(!pe.ok){const J=await pe.text();throw new Error(J||"Li khng xc nh")}W("success","Cp nht khung hnh thnh cng!"),setTimeout(()=>{e("/my-frames")},1500)}catch(ce){console.error("Error updating frame:",ce),W("error",ce.message||"C li xy ra khi cp nht")}finally{s(!1)}}}function W(Z,ce){w({show:!0,type:Z,message:ce}),setTimeout(()=>{w({show:!1,type:"",message:""})},5e3)}return n?h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:h.jsx("div",{className:"mx-auto max-w-4xl px-4 py-10",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded mb-8"}),h.jsxs("div",{className:"bg-white rounded-2xl p-8 space-y-6",children:[h.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded"}),h.jsx("div",{className:"h-10 bg-gray-200 rounded"}),h.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded"}),h.jsx("div",{className:"h-10 bg-gray-200 rounded"}),h.jsx("div",{className:"h-48 bg-gray-200 rounded"})]})]})})}):h.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[h.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-10",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs(Wn,{to:"/my-frames",className:"inline-flex items-center gap-2 text-sm font-medium text-gray-600 hover:text-gray-900 mb-4",children:[h.jsx(m4,{size:16}),"Quay li danh sch"]}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Chnh sa khung hnh"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Cp nht thng tin v hnh nh khung hnh ca bn"})]}),h.jsx("div",{className:"bg-white rounded-2xl ring-1 ring-slate-200 shadow-sm overflow-hidden",children:h.jsxs("form",{onSubmit:G,className:"p-8 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Tiu  khung hnh *"}),h.jsx("input",{type:"text",id:"title",name:"title",value:l.title,onChange:B,placeholder:"Nhp tiu  khung hnh...",className:`w-full px-4 py-3 rounded-xl border text-sm outline-none transition-all ${N.title?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-2 focus:ring-red-200":"border-slate-200 bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-100"}`,maxLength:200}),N.title&&h.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[h.jsx(Id,{size:14}),N.title]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"alias",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Alias (ty chn)"}),h.jsx("input",{type:"text",id:"alias",name:"alias",value:l.alias,onChange:B,placeholder:"vd: khung-tet-2024",className:`w-full px-4 py-3 rounded-xl border text-sm outline-none transition-all ${N.alias||!y.available&&l.alias?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-2 focus:ring-red-200":y.available&&l.alias&&!y.checking?"border-emerald-300 bg-emerald-50 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200":"border-slate-200 bg-white focus:border-blue-400 focus:ring-2 focus:ring-blue-100"}`,maxLength:100}),l.alias&&l.alias!==(a==null?void 0:a.alias)&&h.jsx("div",{className:"mt-2 flex items-center gap-2 text-sm",children:y.checking?h.jsxs(h.Fragment,{children:[h.jsx(h2,{size:14,className:"animate-spin text-blue-600"}),h.jsx("span",{className:"text-blue-600",children:y.message})]}):y.available?h.jsxs(h.Fragment,{children:[h.jsx(C_,{size:14,className:"text-emerald-600"}),h.jsx("span",{className:"text-emerald-600",children:y.message})]}):h.jsxs(h.Fragment,{children:[h.jsx(Id,{size:14,className:"text-red-600"}),h.jsx("span",{className:"text-red-600",children:y.message})]})}),N.alias&&h.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-1",children:[h.jsx(Id,{size:14}),N.alias]}),h.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Alias gip to URL thn thin. Ch s dng ch thng, s v du gch ngang."})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:["Loi khung ",h.jsx("span",{className:"text-rose-500",children:"*"})]}),h.jsx("select",{id:"type",name:"type",value:l.type,onChange:B,className:"mt-1 w-full px-4 py-3 rounded-xl border border-gray-300 outline-none transition focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:k.length>0?k.map(Z=>h.jsx("option",{value:Z.value,children:Z.label},Z.value)):h.jsx("option",{value:"khac",children:"Khc"})}),h.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Chn loi ph hp  ngi dng d tm thy khung ca bn"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"nh khung hnh (ty chn)"}),h.jsxs("div",{className:"space-y-4",children:[m&&h.jsxs("div",{className:"relative inline-block",children:[h.jsx("img",{src:m.startsWith("data:")?m:`${J0}${m}`,alt:"Preview",className:"h-48 w-auto rounded-lg ring-1 ring-slate-200 object-contain bg-gray-50"}),d&&h.jsx("button",{type:"button",onClick:P,className:"absolute -top-2 -right-2 p-1 rounded-full bg-red-500 text-white hover:bg-red-600 shadow-lg",children:h.jsx(Ih,{size:14})})]}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"file",id:"file-input",accept:".png,image/png",onChange:O,className:"sr-only"}),h.jsxs("label",{htmlFor:"file-input",className:`flex items-center justify-center gap-3 w-full px-6 py-4 border-2 border-dashed rounded-xl cursor-pointer transition-all ${N.file?"border-red-300 bg-red-50 hover:border-red-400":"border-slate-300 bg-slate-50 hover:border-blue-400 hover:bg-blue-50"}`,children:[h.jsx(Dh,{size:20,className:"text-slate-400"}),h.jsxs("div",{className:"text-sm text-slate-600",children:[h.jsx("span",{className:"font-medium",children:d?"Thay i file khc":"Chn file PNG mi"}),h.jsx("span",{className:"block text-xs text-slate-500 mt-1",children:"PNG vi nn trong sut, ti a 2MB"})]})]})]}),N.file&&h.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[h.jsx(Id,{size:14}),N.file]})]})]}),h.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[h.jsx(Wn,{to:"/my-frames",className:"px-6 py-3 text-sm font-medium rounded-xl bg-gray-100 hover:bg-gray-200 transition-colors",children:"Hy b"}),h.jsx("button",{type:"submit",disabled:r||!y.available,className:"inline-flex items-center gap-2 px-6 py-3 text-sm font-semibold rounded-xl text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:r?h.jsxs(h.Fragment,{children:[h.jsx(h2,{size:16,className:"animate-spin"}),"ang lu..."]}):"Lu thay i"})]})]})})]}),j.show&&h.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm",children:h.jsx("div",{className:`rounded-xl p-4 shadow-lg ring-1 ${j.type==="success"?"bg-emerald-50 text-emerald-800 ring-emerald-200":"bg-red-50 text-red-800 ring-red-200"}`,children:h.jsxs("div",{className:"flex items-center gap-3",children:[j.type==="success"?h.jsx(C_,{size:20,className:"text-emerald-600"}):h.jsx(Id,{size:20,className:"text-red-600"}),h.jsx("span",{className:"font-medium",children:j.message})]})})})]})}class bne{async getMe(){const e=await fetch(`${qc}/api/accounts/me`,{credentials:"include",headers:{Accept:"application/json"}});if(!e.ok){if(e.status===401)throw new Error("Unauthorized");const n=await e.text();throw new Error(n||`Failed to get account info: ${e.status}`)}return await e.json()}async updateDisplayName(e){const n=new FormData;n.append("displayName",e);const i=await fetch(`${qc}/api/accounts/display-name`,{method:"POST",credentials:"include",body:n});if(!i.ok){const r=await i.text();throw new Error(r||"Li khi cp nht tn hin th")}return await i.json()}async updateAvatar(e){if(console.log(" [accountApi] updateAvatar:",{fileName:e.name,fileSize:e.size,fileType:e.type,apiUrl:`${qc}/api/accounts/avatar`}),!e)throw new Error("Cha chn file");if(e.size>2*1024*1024)throw new Error("File khng c vt qu 2MB");if(!["image/png","image/jpeg","image/jpg"].includes(e.type))throw new Error("Ch chp nhn file PNG/JPG");const i=new FormData;i.append("file",e),console.log(" [accountApi] Sending request with credentials...");const r=await fetch(`${qc}/api/accounts/avatar`,{method:"POST",credentials:"include",body:i});if(console.log(" [accountApi] Response status:",r.status),console.log(" [accountApi] Response headers:",{contentType:r.headers.get("content-type"),setCookie:r.headers.get("set-cookie")}),!r.ok){const a=await r.text();throw console.error(" [accountApi] Error response:",a),new Error(a||"Li khi cp nht nh i din")}const s=await r.json();return console.log(" [accountApi] Success result:",s),s}async getFramesCount(){const e=await fetch(`${qc}/api/accounts/frames-count`,{credentials:"include",headers:{Accept:"application/json"}});if(!e.ok){if(e.status===401)throw new Error("Unauthorized");const n=await e.text();throw new Error(n||`Failed to get frames count: ${e.status}`)}return await e.json()}getAvatarUrl(e){return e?e.startsWith("http")?e:`${qc}${e}`:"/default-avatar.png"}}const fv=new bne,wne=()=>{const{user:t,loading:e}=Ow(),[n,i]=Y.useState(null),[r,s]=Y.useState(""),[a,o]=Y.useState(null),[l,c]=Y.useState(!1),[d,g]=Y.useState(""),[m,p]=Y.useState(""),y=Y.useRef();Y.useEffect(()=>{t&&b()},[t]);const b=async()=>{try{const E=await fv.getMe();i(E),s(E.tenHienThi||"")}catch(E){p("Khng th ti thng tin ti khon"),console.error("fetchUser error:",E)}},N=E=>{s(E.target.value)},S=async E=>{if(E.preventDefault(),!r.trim()){p("Tn hin th khng c  trng");return}if(r.length>100){p("Tn hin th khng c vt qu 100 k t");return}c(!0),g(""),p("");try{const I=await fv.updateDisplayName(r);g(" cp nht tn hin th!"),i(U=>({...U,tenHienThi:I.displayName}))}catch(I){p(I.message||"Li khi cp nht tn hin th")}finally{c(!1)}},j=async E=>{if(E.target.files&&E.target.files[0]){const I=E.target.files[0];o(I),c(!0),g(""),p("");try{const U=await fv.updateAvatar(I);i(R=>({...R,avatar:U.avatar})),g(" cp nht nh i din!"),o(null),y.current&&(y.current.value="");try{const B={...JSON.parse(localStorage.getItem("kh_me")||"{}"),avatar:U.avatar,picture:U.avatar};localStorage.setItem("kh_me",JSON.stringify(B)),window.dispatchEvent(new Event("kh_me_changed")),window.dispatchEvent(new StorageEvent("storage",{key:"kh_me",newValue:JSON.stringify(B),url:window.location.href}))}catch(R){console.error("Failed to sync localStorage:",R)}await b()}catch(U){console.error("Avatar update failed:",U),p(U.message||"Li khi cp nht nh i din")}finally{c(!1)}}},w=()=>{y.current&&y.current.click()};if(e)return h.jsx("div",{className:"min-h-screen grid place-items-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})});if(!n)return h.jsx("div",{className:"min-h-screen grid place-items-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})});const k=()=>{s(n.tenHienThi||""),g(""),p("")};return h.jsx("div",{className:"min-h-screen bg-gradient-to-b from-sky-50 to-white",children:h.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-sky-600 bg-clip-text text-transparent mb-2",children:"Ti khon ca ti"}),h.jsx("p",{className:"text-gray-500",children:"Qun l thng tin c nhn v ci t ti khon"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[h.jsx("div",{className:"h-32 bg-gradient-to-r from-blue-500 via-sky-500 to-blue-600"}),h.jsx("div",{className:"relative px-6 pb-6",children:h.jsxs("div",{className:"flex flex-col items-center -mt-16",children:[h.jsxs("div",{className:"relative group",children:[h.jsx("img",{src:pa(n.avatar,n.tenHienThi||n.email),alt:"avatar",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg ring-4 ring-blue-100 transition-transform group-hover:scale-105"}),h.jsx("button",{onClick:w,disabled:l,className:"absolute bottom-0 right-0 bg-gradient-to-r from-blue-500 to-blue-700 text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110 disabled:opacity-50",children:h.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),h.jsx("input",{ref:y,type:"file",accept:"image/png, image/jpeg",onChange:j,className:"hidden"})]}),h.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-800",children:r||n.tenHienThi||"Ngi dng"}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n.email}),h.jsx("div",{className:"mt-6 w-full",children:h.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-blue-100 rounded-xl p-4 text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsxs("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:[h.jsx("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),h.jsx("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]}),h.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-sky-600 bg-clip-text text-transparent",children:n.framesCount??0})]}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Khung hnh  to"})]})})]})})]})}),h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[h.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[h.jsxs("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Ci t ti khon"]}),h.jsxs("div",{className:"mb-8",children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Tn hin th"]}),h.jsx("input",{type:"text",value:r,onChange:N,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all outline-none",placeholder:"Nhp tn hin th ca bn",maxLength:100}),h.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[r.length,"/100 k t"]})]}),h.jsxs("div",{className:"mb-8",children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email"]}),h.jsx("div",{className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl text-gray-600",children:n.email}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Email khng th thay i"})]}),d&&h.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-l-4 border-green-500 rounded-lg",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("p",{className:"text-green-700 font-medium",children:d})]})}),m&&h.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-rose-50 border-l-4 border-red-500 rounded-lg",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),h.jsx("p",{className:"text-red-700 font-medium",children:m})]})}),h.jsxs("div",{className:"flex gap-3 justify-end",children:[h.jsx("button",{onClick:k,className:"px-6 py-3 border-2 border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-all disabled:opacity-50",disabled:l,children:"Hy b"}),h.jsx("button",{onClick:S,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 flex items-center gap-2",disabled:l,children:l?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang lu..."]}):h.jsxs(h.Fragment,{children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Lu thay i"]})})]})]})})]})]})})};function _ne(){return h.jsxs(UO,{children:[h.jsx(one,{}),h.jsxs("div",{className:"flex flex-col min-h-screen",children:[h.jsx(LI,{}),h.jsx("main",{className:"flex-1",children:h.jsxs(EO,{children:[h.jsx(Lr,{path:"/",element:h.jsx(hH,{})}),h.jsx(Lr,{path:"/tools",element:h.jsx(dH,{})}),h.jsx(Lr,{path:"/trending",element:h.jsx(fH,{})}),h.jsx(Lr,{path:"/editor",element:h.jsx(DS,{})}),h.jsx(Lr,{path:"/login",element:h.jsx(w3,{})}),h.jsx(Lr,{path:"/admin",element:h.jsx(hZ,{})}),h.jsx(Lr,{path:"/compress",element:h.jsx(pZ,{})}),h.jsx(Lr,{path:"/resize",element:h.jsx(gZ,{})}),h.jsx(Lr,{path:"/image-to-pdf",element:h.jsx(ane,{})}),h.jsx(Lr,{path:"/create-frame",element:h.jsx(cne,{})}),h.jsx(Lr,{path:"/my-frames",element:h.jsx(yne,{})}),h.jsx(Lr,{path:"/frame/:id",element:h.jsx(pne,{})}),h.jsx(Lr,{path:"/frame/:id/edit",element:h.jsx(vne,{})}),h.jsx(Lr,{path:"/account",element:h.jsx(wne,{})}),h.jsx(Lr,{path:"/:alias",element:h.jsx(DS,{})}),h.jsx(Lr,{path:"*",element:h.jsx(HP,{})})]})}),h.jsx(TI,{})]})]})}Li.defaults.baseURL=qc;Li.defaults.withCredentials=!0;pv.createRoot(document.getElementById("root")).render(h.jsx(Mr.StrictMode,{children:h.jsx(_ne,{})}));export{Pn as _,Ww as c,U2 as g};
